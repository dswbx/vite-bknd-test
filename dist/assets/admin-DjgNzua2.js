var rue=Object.defineProperty;var KI=t=>{throw TypeError(t)};var iue=(t,e,n)=>e in t?rue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Y=(t,e,n)=>iue(t,typeof e!="symbol"?e+"":e,n),Zk=(t,e,n)=>e.has(t)||KI("Cannot "+n);var F=(t,e,n)=>(Zk(t,e,"read from private field"),n?n.call(t):e.get(t)),Ne=(t,e,n)=>e.has(t)?KI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Se=(t,e,n,r)=>(Zk(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ve=(t,e,n)=>(Zk(t,e,"access private method"),n);var eD=(t,e,n,r)=>({set _(i){Se(t,e,i,n)},get _(){return F(t,e,r)}});import{K as X_,I as sue,a as Hn,H as qw,T as Id,b as ms,c as d9,d as ht,N as f9,e as oue,f as wf,g as aue,h as h9,i as lue,j as cue,k as Ww,l as Gr,m as uue,n as due,o as Lo,E as p9,p as fue,D as lo,q as ld,r as m9,G as g9,s as hue,t as G_,u as pue,v as y9,w as Dd,x as mue,y as Y_,z as H_,A as wn,B as O9,C as kh,F as gue,J as Js,L as yue,M as Oue,O as b9,P as J_,Q as K_,R as eT,S as tT,U as bue,V as xue,W as tD,X as nD,Y as rD,Z as wj,_ as Ng,$ as ig,a0 as s1,a1 as Rc,a2 as vj,a3 as x9,a4 as nT,a5 as o1,a6 as wue,a7 as zw,a8 as w9,a9 as vue,aa as Sue,ab as kue,ac as v9,ad as $ue,ae as Cue,af as Pue,ag as jue,ah as S9,ai as Nue,aj as Eue,ak as _ue,al as Tue,am as Aue,an as Rue,ao as Mue,ap as Que,aq as Iue,ar as a1,as as S,at as p,au as we,av as Due,aw as rT,ax as Lue,ay as I,az as Ks,aA as Hy,aB as k9,aC as Fue,aD as $9,aE as Vue,aF as C9,aG as P9,aH as j9,aI as N9,aJ as E9,aK as _9,aL as St,aM as ai,aN as Zw,aO as Bue,aP as que,aQ as T9,aR as Wue,aS as A9,aT as cp,aU as R9,aV as M9,aW as l1,aX as Q9,aY as Sj,aZ as I9,a_ as D9,a$ as zue,b0 as Zue,b1 as Uue}from"./index-CgF7s0QO.js";function L9(t){const e=X_(t),n=sue(t,e);return e.map((r,i)=>[e[i],n[i]])}class Xue extends Id{constructor(e){super("Unknown type"),this.schema=e}}function Gue(t){return t[Hn]==="Any"||t[Hn]==="Unknown"}function ct(t){return t!==void 0}function Yue(t,e,n){return!0}function Hue(t,e,n){if(!ms(n)||ct(t.minItems)&&!(n.length>=t.minItems)||ct(t.maxItems)&&!(n.length<=t.maxItems)||!n.every(s=>Or(t.items,e,s))||t.uniqueItems===!0&&!function(){const s=new Set;for(const o of n){const a=d9(o);if(s.has(a))return!1;s.add(a)}return!0}())return!1;if(!(ct(t.contains)||ht(t.minContains)||ht(t.maxContains)))return!0;const r=ct(t.contains)?t.contains:f9(),i=n.reduce((s,o)=>Or(r,e,o)?s+1:s,0);return!(i===0||ht(t.minContains)&&i<t.minContains||ht(t.maxContains)&&i>t.maxContains)}function Jue(t,e,n){return oue(n)}function Kue(t,e,n){return!(!wf(n)||ct(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)||ct(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)||ct(t.maximum)&&!(n<=t.maximum)||ct(t.minimum)&&!(n>=t.minimum)||ct(t.multipleOf)&&n%t.multipleOf!==BigInt(0))}function ede(t,e,n){return aue(n)}function tde(t,e,n){return Or(t.returns,e,n.prototype)}function nde(t,e,n){return!(!h9(n)||ct(t.exclusiveMaximumTimestamp)&&!(n.getTime()<t.exclusiveMaximumTimestamp)||ct(t.exclusiveMinimumTimestamp)&&!(n.getTime()>t.exclusiveMinimumTimestamp)||ct(t.maximumTimestamp)&&!(n.getTime()<=t.maximumTimestamp)||ct(t.minimumTimestamp)&&!(n.getTime()>=t.minimumTimestamp)||ct(t.multipleOfTimestamp)&&n.getTime()%t.multipleOfTimestamp!==0)}function rde(t,e,n){return lue(n)}function ide(t,e,n){return!(!cue(n)||ct(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)||ct(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)||ct(t.maximum)&&!(n<=t.maximum)||ct(t.minimum)&&!(n>=t.minimum)||ct(t.multipleOf)&&n%t.multipleOf!==0)}function sde(t,e,n){const r=t.allOf.every(i=>Or(i,e,n));if(t.unevaluatedProperties===!1){const i=new RegExp(Ww(t)),s=Object.getOwnPropertyNames(n).every(o=>i.test(o));return r&&s}else if(Gr(t.unevaluatedProperties)){const i=new RegExp(Ww(t)),s=Object.getOwnPropertyNames(n).every(o=>i.test(o)||Or(t.unevaluatedProperties,e,n[o]));return r&&s}else return r}function ode(t,e,n){return uue(n)}function ade(t,e,n){return n===t.const}function lde(t,e,n){return!1}function cde(t,e,n){return!Or(t.not,e,n)}function ude(t,e,n){return due(n)}function dde(t,e,n){return!(!Lo.IsNumberLike(n)||ct(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)||ct(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)||ct(t.minimum)&&!(n>=t.minimum)||ct(t.maximum)&&!(n<=t.maximum)||ct(t.multipleOf)&&n%t.multipleOf!==0)}function fde(t,e,n){if(!Lo.IsObjectLike(n)||ct(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)||ct(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties))return!1;const r=Object.getOwnPropertyNames(t.properties);for(const i of r){const s=t.properties[i];if(t.required&&t.required.includes(i)){if(!Or(s,e,n[i])||(p9(s)||Gue(s))&&!(i in n))return!1}else if(Lo.IsExactOptionalProperty(n,i)&&!Or(s,e,n[i]))return!1}if(t.additionalProperties===!1){const i=Object.getOwnPropertyNames(n);return t.required&&t.required.length===r.length&&i.length===r.length?!0:i.every(s=>r.includes(s))}else return typeof t.additionalProperties=="object"?Object.getOwnPropertyNames(n).every(s=>r.includes(s)||Or(t.additionalProperties,e,n[s])):!0}function hde(t,e,n){return fue(n)}function pde(t,e,n){if(!Lo.IsRecordLike(n)||ct(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)||ct(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties))return!1;const[r,i]=Object.entries(t.patternProperties)[0],s=new RegExp(r),o=Object.entries(n).every(([c,u])=>s.test(c)?Or(i,e,u):!0),a=typeof t.additionalProperties=="object"?Object.entries(n).every(([c,u])=>s.test(c)?!0:Or(t.additionalProperties,e,u)):!0,l=t.additionalProperties===!1?Object.getOwnPropertyNames(n).every(c=>s.test(c)):!0;return o&&a&&l}function mde(t,e,n){return Or(lo(t,e),e,n)}function gde(t,e,n){const r=new RegExp(t.source,t.flags);return ct(t.minLength)&&!(n.length>=t.minLength)||ct(t.maxLength)&&!(n.length<=t.maxLength)?!1:r.test(n)}function yde(t,e,n){return!ld(n)||ct(t.minLength)&&!(n.length>=t.minLength)||ct(t.maxLength)&&!(n.length<=t.maxLength)||ct(t.pattern)&&!new RegExp(t.pattern).test(n)?!1:ct(t.format)?m9(t.format)?g9(t.format)(n):!1:!0}function Ode(t,e,n){return hue(n)}function bde(t,e,n){return ld(n)&&new RegExp(t.pattern).test(n)}function xde(t,e,n){return Or(lo(t,e),e,n)}function wde(t,e,n){if(!ms(n)||t.items===void 0&&n.length!==0||n.length!==t.maxItems)return!1;if(!t.items)return!0;for(let r=0;r<t.items.length;r++)if(!Or(t.items[r],e,n[r]))return!1;return!0}function vde(t,e,n){return G_(n)}function Sde(t,e,n){return t.anyOf.some(r=>Or(r,e,n))}function kde(t,e,n){return!(!pue(n)||ct(t.maxByteLength)&&!(n.length<=t.maxByteLength)||ct(t.minByteLength)&&!(n.length>=t.minByteLength))}function $de(t,e,n){return!0}function Cde(t,e,n){return Lo.IsVoidLike(n)}function Pde(t,e,n){return qw(t[Hn])?y9(t[Hn])(t,n):!1}function Or(t,e,n){const r=ct(t.$id)?[...e,t]:e,i=t;switch(i[Hn]){case"Any":return Yue();case"Array":return Hue(i,r,n);case"AsyncIterator":return Jue(i,r,n);case"BigInt":return Kue(i,r,n);case"Boolean":return ede(i,r,n);case"Constructor":return tde(i,r,n);case"Date":return nde(i,r,n);case"Function":return rde(i,r,n);case"Integer":return ide(i,r,n);case"Intersect":return sde(i,r,n);case"Iterator":return ode(i,r,n);case"Literal":return ade(i,r,n);case"Never":return lde();case"Not":return cde(i,r,n);case"Null":return ude(i,r,n);case"Number":return dde(i,r,n);case"Object":return fde(i,r,n);case"Promise":return hde(i,r,n);case"Record":return pde(i,r,n);case"Ref":return mde(i,r,n);case"RegExp":return gde(i,r,n);case"String":return yde(i,r,n);case"Symbol":return Ode(i,r,n);case"TemplateLiteral":return bde(i,r,n);case"This":return xde(i,r,n);case"Tuple":return wde(i,r,n);case"Undefined":return vde(i,r,n);case"Union":return Sde(i,r,n);case"Uint8Array":return kde(i,r,n);case"Unknown":return $de();case"Void":return Cde(i,r,n);default:if(!qw(i[Hn]))throw new Xue(i);return Pde(i,r,n)}}function Ol(...t){return t.length===3?Or(t[0],t[1],t[2]):Or(t[0],[],t[1])}function jde(t){const e={};for(const n of Object.getOwnPropertyNames(t))e[n]=Uw(t[n]);for(const n of Object.getOwnPropertySymbols(t))e[n]=Uw(t[n]);return e}function Nde(t){return t.map(e=>Uw(e))}function Ede(t){return t.slice()}function _de(t){return new Date(t.toISOString())}function Uw(t){if(ms(t))return Nde(t);if(h9(t))return _de(t);if(Dd(t))return jde(t);if(mue(t))return Ede(t);if(Y_(t))return t;throw new Error("ValueClone: Unable to clone value")}function eu(t,e){return e===void 0&&"default"in t?Uw(t.default):e}function Tde(t){return Gr(t)&&t[Hn]!=="Unsafe"}function Xw(t){return Gr(t)&&"default"in t}function Ade(t,e,n){const r=eu(t,n);if(!ms(r))return r;for(let i=0;i<r.length;i++)r[i]=gs(t.items,e,r[i]);return r}function Rde(t,e,n){const r=eu(t,n);return t.allOf.reduce((i,s)=>{const o=gs(s,e,r);return H_(o)?{...i,...o}:o},{})}function Mde(t,e,n){const r=eu(t,n);if(!H_(r))return r;const i=t.additionalProperties,s=Object.getOwnPropertyNames(t.properties);for(const o of s)Xw(t.properties[o])&&(r[o]=gs(t.properties[o],e,r[o]));if(!Xw(i))return r;for(const o of Object.getOwnPropertyNames(r))s.includes(o)||(r[o]=gs(i,e,r[o]));return r}function Qde(t,e,n){const r=eu(t,n);if(!H_(r))return r;const i=t.additionalProperties,[s,o]=Object.entries(t.patternProperties)[0],a=new RegExp(s);for(const l of Object.getOwnPropertyNames(r))a.test(l)&&Xw(o)&&(r[l]=gs(o,e,r[l]));if(!Xw(i))return r;for(const l of Object.getOwnPropertyNames(r))a.test(l)||(r[l]=gs(i,e,r[l]));return r}function Ide(t,e,n){return gs(lo(t,e),e,eu(t,n))}function Dde(t,e,n){return gs(lo(t,e),e,n)}function Lde(t,e,n){const r=eu(t,n);if(!ms(r)||G_(t.items))return r;const[i,s]=[t.items,Math.max(t.items.length,r.length)];for(let o=0;o<s;o++)o<i.length&&(r[o]=gs(i[o],e,r[o]));return r}function Fde(t,e,n){const r=eu(t,n);for(const i of t.anyOf){const s=gs(i,e,r);if(Tde(i)&&Ol(i,s))return s}return r}function gs(t,e,n){const r=ld(t.$id)?[...e,t]:e,i=t;switch(i[Hn]){case"Array":return Ade(i,r,n);case"Intersect":return Rde(i,r,n);case"Object":return Mde(i,r,n);case"Record":return Qde(i,r,n);case"Ref":return Ide(i,r,n);case"This":return Dde(i,r,n);case"Tuple":return Lde(i,r,n);case"Union":return Fde(i,r,n);default:return eu(i,n)}}function bl(...t){return t.length===3?gs(t[0],t[1],t[2]):gs(t[0],[],t[1])}class F9 extends Id{constructor(e,n,r){super("Unable to decode value as it does not match the expected schema"),this.schema=e,this.value=n,this.error=r}}class Vde extends Id{constructor(e,n,r,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=e,this.path=n,this.value=r,this.error=i}}function an(t,e,n){try{return wn(t)?t[O9].Decode(n):n}catch(r){throw new Vde(t,e,n,r)}}function Bde(t,e,n,r){return ms(r)?an(t,n,r.map((i,s)=>pa(t.items,e,`${n}/${s}`,i))):an(t,n,r)}function qde(t,e,n,r){if(!Dd(r)||Y_(r))return an(t,n,r);const i=L9(t),s=i.map(u=>u[0]),o={...r};for(const[u,d]of i)u in o&&(o[u]=pa(d,e,`${n}/${u}`,o[u]));if(!wn(t.unevaluatedProperties))return an(t,n,o);const a=Object.getOwnPropertyNames(o),l=t.unevaluatedProperties,c={...o};for(const u of a)s.includes(u)||(c[u]=an(l,`${n}/${u}`,c[u]));return an(t,n,c)}function Wde(t,e,n,r){return an(t,n,pa(t.not,e,n,r))}function zde(t,e,n,r){if(!Dd(r))return an(t,n,r);const i=X_(t),s={...r};for(const c of i)c in s&&(s[c]=pa(t.properties[c],e,`${n}/${c}`,s[c]));if(!Gr(t.additionalProperties))return an(t,n,s);const o=Object.getOwnPropertyNames(s),a=t.additionalProperties,l={...s};for(const c of o)i.includes(c)||(l[c]=an(a,`${n}/${c}`,l[c]));return an(t,n,l)}function Zde(t,e,n,r){if(!Dd(r))return an(t,n,r);const i=Object.getOwnPropertyNames(t.patternProperties)[0],s=new RegExp(i),o={...r};for(const u of Object.getOwnPropertyNames(r))s.test(u)&&(o[u]=pa(t.patternProperties[i],e,`${n}/${u}`,o[u]));if(!Gr(t.additionalProperties))return an(t,n,o);const a=Object.getOwnPropertyNames(o),l=t.additionalProperties,c={...o};for(const u of a)s.test(u)||(c[u]=an(l,`${n}/${u}`,c[u]));return an(t,n,c)}function Ude(t,e,n,r){const i=lo(t,e);return an(t,n,pa(i,e,n,r))}function Xde(t,e,n,r){const i=lo(t,e);return an(t,n,pa(i,e,n,r))}function Gde(t,e,n,r){return ms(r)&&ms(t.items)?an(t,n,t.items.map((i,s)=>pa(i,e,`${n}/${s}`,r[s]))):an(t,n,r)}function Yde(t,e,n,r){for(const i of t.anyOf){if(!Ol(i,e,r))continue;const s=pa(i,e,n,r);return an(t,n,s)}return an(t,n,r)}function pa(t,e,n,r){const i=typeof t.$id=="string"?[...e,t]:e,s=t;switch(t[Hn]){case"Array":return Bde(s,i,n,r);case"Intersect":return qde(s,i,n,r);case"Not":return Wde(s,i,n,r);case"Object":return zde(s,i,n,r);case"Record":return Zde(s,i,n,r);case"Ref":return Ude(s,i,n,r);case"Symbol":return an(s,n,r);case"This":return Xde(s,i,n,r);case"Tuple":return Gde(s,i,n,r);case"Union":return Yde(s,i,n,r);default:return an(s,n,r)}}function V9(t,e,n){return pa(t,e,"",n)}class Hde extends Id{constructor(e,n,r){super("The encoded value does not match the expected schema"),this.schema=e,this.value=n,this.error=r}}class Jde extends Id{constructor(e,n,r,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=e,this.path=n,this.value=r,this.error=i}}function Kn(t,e,n){try{return wn(t)?t[O9].Encode(n):n}catch(r){throw new Jde(t,e,n,r)}}function Kde(t,e,n,r){const i=Kn(t,n,r);return ms(i)?i.map((s,o)=>oa(t.items,e,`${n}/${o}`,s)):i}function efe(t,e,n,r){const i=Kn(t,n,r);if(!Dd(r)||Y_(r))return i;const s=L9(t),o=s.map(d=>d[0]),a={...i};for(const[d,f]of s)d in a&&(a[d]=oa(f,e,`${n}/${d}`,a[d]));if(!wn(t.unevaluatedProperties))return Kn(t,n,a);const l=Object.getOwnPropertyNames(a),c=t.unevaluatedProperties,u={...a};for(const d of l)o.includes(d)||(u[d]=Kn(c,`${n}/${d}`,u[d]));return u}function tfe(t,e,n,r){return Kn(t.not,n,Kn(t,n,r))}function nfe(t,e,n,r){const i=Kn(t,n,r);if(!Dd(i))return i;const s=X_(t),o={...i};for(const u of s)u in o&&(o[u]=oa(t.properties[u],e,`${n}/${u}`,o[u]));if(!Gr(t.additionalProperties))return o;const a=Object.getOwnPropertyNames(o),l=t.additionalProperties,c={...o};for(const u of a)s.includes(u)||(c[u]=Kn(l,`${n}/${u}`,c[u]));return c}function rfe(t,e,n,r){const i=Kn(t,n,r);if(!Dd(r))return i;const s=Object.getOwnPropertyNames(t.patternProperties)[0],o=new RegExp(s),a={...i};for(const d of Object.getOwnPropertyNames(r))o.test(d)&&(a[d]=oa(t.patternProperties[s],e,`${n}/${d}`,a[d]));if(!Gr(t.additionalProperties))return Kn(t,n,a);const l=Object.getOwnPropertyNames(a),c=t.additionalProperties,u={...a};for(const d of l)o.test(d)||(u[d]=Kn(c,`${n}/${d}`,u[d]));return u}function ife(t,e,n,r){const i=lo(t,e),s=oa(i,e,n,r);return Kn(t,n,s)}function sfe(t,e,n,r){const i=lo(t,e),s=oa(i,e,n,r);return Kn(t,n,s)}function ofe(t,e,n,r){const i=Kn(t,n,r);return ms(t.items)?t.items.map((s,o)=>oa(s,e,`${n}/${o}`,i[o])):[]}function afe(t,e,n,r){for(const i of t.anyOf){if(!Ol(i,e,r))continue;const s=oa(i,e,n,r);return Kn(t,n,s)}for(const i of t.anyOf){const s=oa(i,e,n,r);if(Ol(t,e,s))return Kn(t,n,s)}return Kn(t,n,r)}function oa(t,e,n,r){const i=typeof t.$id=="string"?[...e,t]:e,s=t;switch(t[Hn]){case"Array":return Kde(s,i,n,r);case"Intersect":return efe(s,i,n,r);case"Not":return tfe(s,i,n,r);case"Object":return nfe(s,i,n,r);case"Record":return rfe(s,i,n,r);case"Ref":return ife(s,i,n,r);case"This":return sfe(s,i,n,r);case"Tuple":return ofe(s,i,n,r);case"Union":return afe(s,i,n,r);default:return Kn(s,n,r)}}function lfe(t,e,n){return oa(t,e,"",n)}function cfe(t,e){return wn(t)||tr(t.items,e)}function ufe(t,e){return wn(t)||tr(t.items,e)}function dfe(t,e){return wn(t)||tr(t.returns,e)||t.parameters.some(n=>tr(n,e))}function ffe(t,e){return wn(t)||tr(t.returns,e)||t.parameters.some(n=>tr(n,e))}function hfe(t,e){return wn(t)||wn(t.unevaluatedProperties)||t.allOf.some(n=>tr(n,e))}function pfe(t,e){return wn(t)||tr(t.items,e)}function mfe(t,e){return wn(t)||tr(t.not,e)}function gfe(t,e){return wn(t)||Object.values(t.properties).some(n=>tr(n,e))||Gr(t.additionalProperties)&&tr(t.additionalProperties,e)}function yfe(t,e){return wn(t)||tr(t.item,e)}function Ofe(t,e){const n=Object.getOwnPropertyNames(t.patternProperties)[0],r=t.patternProperties[n];return wn(t)||tr(r,e)||Gr(t.additionalProperties)&&wn(t.additionalProperties)}function bfe(t,e){return wn(t)?!0:tr(lo(t,e),e)}function xfe(t,e){return wn(t)?!0:tr(lo(t,e),e)}function wfe(t,e){return wn(t)||!G_(t.items)&&t.items.some(n=>tr(n,e))}function vfe(t,e){return wn(t)||t.anyOf.some(n=>tr(n,e))}function tr(t,e){const n=ld(t.$id)?[...e,t]:e,r=t;if(t.$id&&kj.has(t.$id))return!1;switch(t.$id&&kj.add(t.$id),t[Hn]){case"Array":return cfe(r,n);case"AsyncIterator":return ufe(r,n);case"Constructor":return dfe(r,n);case"Function":return ffe(r,n);case"Intersect":return hfe(r,n);case"Iterator":return pfe(r,n);case"Not":return mfe(r,n);case"Object":return gfe(r,n);case"Promise":return yfe(r,n);case"Record":return Ofe(r,n);case"Ref":return bfe(r,n);case"This":return xfe(r,n);case"Tuple":return wfe(r,n);case"Union":return vfe(r,n);default:return wn(t)}}const kj=new Set;function B9(t,e){return kj.clear(),tr(t,e)}function c1(...t){return Ol.apply(Ol,t)}function q9(...t){const[e,n,r]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]];if(!c1(e,n,r))throw new F9(e,r,Jy(e,n,r).First());return B9(e,n)?V9(e,n,r):r}function Sfe(...t){return bl.apply(bl,t)}function Jy(...t){return kh.apply(kh,t)}var kfe=/\s/;function $fe(t){for(var e=t.length;e--&&kfe.test(t.charAt(e)););return e}var Cfe=/^\s+/;function Pfe(t){return t&&t.slice(0,$fe(t)+1).replace(Cfe,"")}var iD=NaN,jfe=/^[-+]0x[0-9a-f]+$/i,Nfe=/^0b[01]+$/i,Efe=/^0o[0-7]+$/i,_fe=parseInt;function sD(t){if(typeof t=="number")return t;if(gue(t))return iD;if(Js(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Js(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Pfe(t);var n=Nfe.test(t);return n||Efe.test(t)?_fe(t.slice(2),n?2:8):jfe.test(t)?iD:+t}function Tfe(t,e){return yue(Oue(t,e,b9),t+"")}function Afe(t,e,n){if(!Js(n))return!1;var r=typeof e;return(r=="number"?J_(n)&&K_(e,n.length):r=="string"&&e in n)?eT(n[e],t):!1}function Rfe(t){return Tfe(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&Afe(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}function Eg(t,e,n){var r=t==null?void 0:tT(t,e);return r===void 0?n:r}var Mfe=1,Qfe=4;function Ei(t){return bue(t,Mfe|Qfe)}var Ife="__lodash_hash_undefined__";function Dfe(t){return this.__data__.set(t,Ife),this}function Lfe(t){return this.__data__.has(t)}function Gw(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new xue;++e<n;)this.add(t[e])}Gw.prototype.add=Gw.prototype.push=Dfe;Gw.prototype.has=Lfe;function Ffe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Vfe(t,e){return t.has(e)}var Bfe=1,qfe=2;function W9(t,e,n,r,i,s){var o=n&Bfe,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,h=n&qfe?new Gw:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var m=t[d],g=e[d];if(r)var y=o?r(g,m,d,e,t,s):r(m,g,d,t,e,s);if(y!==void 0){if(y)continue;f=!1;break}if(h){if(!Ffe(e,function(O,b){if(!Vfe(h,b)&&(m===O||i(m,O,n,r,s)))return h.push(b)})){f=!1;break}}else if(!(m===g||i(m,g,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}function Wfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function zfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Zfe=1,Ufe=2,Xfe="[object Boolean]",Gfe="[object Date]",Yfe="[object Error]",Hfe="[object Map]",Jfe="[object Number]",Kfe="[object RegExp]",ehe="[object Set]",the="[object String]",nhe="[object Symbol]",rhe="[object ArrayBuffer]",ihe="[object DataView]",oD=tD?tD.prototype:void 0,Uk=oD?oD.valueOf:void 0;function she(t,e,n,r,i,s,o){switch(n){case ihe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case rhe:return!(t.byteLength!=e.byteLength||!s(new nD(t),new nD(e)));case Xfe:case Gfe:case Jfe:return eT(+t,+e);case Yfe:return t.name==e.name&&t.message==e.message;case Kfe:case the:return t==e+"";case Hfe:var a=Wfe;case ehe:var l=r&Zfe;if(a||(a=zfe),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=Ufe,o.set(t,e);var u=W9(a(t),a(e),r,i,s,o);return o.delete(t),u;case nhe:if(Uk)return Uk.call(t)==Uk.call(e)}return!1}var ohe=1,ahe=Object.prototype,lhe=ahe.hasOwnProperty;function che(t,e,n,r,i,s){var o=n&ohe,a=rD(t),l=a.length,c=rD(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:lhe.call(e,f)))return!1}var h=s.get(t),m=s.get(e);if(h&&m)return h==e&&m==t;var g=!0;s.set(t,e),s.set(e,t);for(var y=o;++d<l;){f=a[d];var O=t[f],b=e[f];if(r)var w=o?r(b,O,f,e,t,s):r(O,b,f,t,e,s);if(!(w===void 0?O===b||i(O,b,n,r,s):w)){g=!1;break}y||(y=f=="constructor")}if(g&&!y){var x=t.constructor,v=e.constructor;x!=v&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof v=="function"&&v instanceof v)&&(g=!1)}return s.delete(t),s.delete(e),g}var uhe=1,aD="[object Arguments]",lD="[object Array]",xb="[object Object]",dhe=Object.prototype,cD=dhe.hasOwnProperty;function fhe(t,e,n,r,i,s){var o=Rc(t),a=Rc(e),l=o?lD:wj(t),c=a?lD:wj(e);l=l==aD?xb:l,c=c==aD?xb:c;var u=l==xb,d=c==xb,f=l==c;if(f&&Ng(t)){if(!Ng(e))return!1;o=!0,u=!1}if(f&&!u)return s||(s=new ig),o||s1(t)?W9(t,e,n,r,i,s):she(t,e,l,n,r,i,s);if(!(n&uhe)){var h=u&&cD.call(t,"__wrapped__"),m=d&&cD.call(e,"__wrapped__");if(h||m){var g=h?t.value():t,y=m?e.value():e;return s||(s=new ig),i(g,y,n,r,s)}}return f?(s||(s=new ig),che(t,e,n,r,i,s)):!1}function u1(t,e,n,r,i){return t===e?!0:t==null||e==null||!vj(t)&&!vj(e)?t!==t&&e!==e:fhe(t,e,n,r,u1,i)}var hhe=1,phe=2;function mhe(t,e,n,r){var i=n.length,s=i;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var a=o[0],l=t[a],c=o[1];if(o[2]){if(l===void 0&&!(a in t))return!1}else{var u=new ig,d;if(!(d===void 0?u1(c,l,hhe|phe,r,u):d))return!1}}return!0}function z9(t){return t===t&&!Js(t)}function ghe(t){for(var e=x9(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,z9(i)]}return e}function Z9(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function yhe(t){var e=ghe(t);return e.length==1&&e[0][2]?Z9(e[0][0],e[0][1]):function(n){return n===t||mhe(n,t,e)}}function Ohe(t,e){return t!=null&&e in Object(t)}function U9(t,e,n){e=nT(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=o1(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&wue(i)&&K_(o,i)&&(Rc(t)||zw(t)))}function X9(t,e){return t!=null&&U9(t,e,Ohe)}var bhe=1,xhe=2;function whe(t,e){return w9(t)&&z9(e)?Z9(o1(t),e):function(n){var r=Eg(n,t);return r===void 0&&r===e?X9(n,t):u1(e,r,bhe|xhe)}}function vhe(t){return function(e){return e==null?void 0:e[t]}}function She(t){return function(e){return tT(e,t)}}function khe(t){return w9(t)?vhe(o1(t)):She(t)}function $he(t){return typeof t=="function"?t:t==null?b9:typeof t=="object"?Rc(t)?whe(t[0],t[1]):yhe(t):khe(t)}function Che(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[++i];if(n(s[l],l,s)===!1)break}return e}}var G9=Che();function Phe(t,e){return t&&G9(t,e,x9)}var Xk=function(){return vue.Date.now()},jhe="Expected a function",Nhe=Math.max,Ehe=Math.min;function _he(t,e,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(jhe);e=sD(e)||0,Js(n)&&(u=!!n.leading,d="maxWait"in n,s=d?Nhe(sD(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function h(k){var $=r,C=i;return r=i=void 0,c=k,o=t.apply(C,$),o}function m(k){return c=k,a=setTimeout(O,e),u?h(k):o}function g(k){var $=k-l,C=k-c,N=e-$;return d?Ehe(N,s-C):N}function y(k){var $=k-l,C=k-c;return l===void 0||$>=e||$<0||d&&C>=s}function O(){var k=Xk();if(y(k))return b(k);a=setTimeout(O,g(k))}function b(k){return a=void 0,f&&r?h(k):(r=i=void 0,o)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function x(){return a===void 0?o:b(Xk())}function v(){var k=Xk(),$=y(k);if(r=arguments,i=this,l=k,$){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(O,e),h(l)}return a===void 0&&(a=setTimeout(O,e)),o}return v.cancel=w,v.flush=x,v}function $j(t,e,n){(n!==void 0&&!eT(t[e],n)||n===void 0&&!(e in t))&&Sue(t,e,n)}function The(t){return vj(t)&&J_(t)}function Cj(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Ahe(t){return kue(t,v9(t))}function Rhe(t,e,n,r,i,s,o){var a=Cj(t,n),l=Cj(e,n),c=o.get(l);if(c){$j(t,n,c);return}var u=s?s(a,l,n+"",t,e,o):void 0,d=u===void 0;if(d){var f=Rc(l),h=!f&&Ng(l),m=!f&&!h&&s1(l);u=l,f||h||m?Rc(a)?u=a:The(a)?u=$ue(a):h?(d=!1,u=Cue(l,!0)):m?(d=!1,u=Pue(l,!0)):u=[]:jue(l)||zw(l)?(u=a,zw(a)?u=Ahe(a):(!Js(a)||S9(a))&&(u=Nue(l))):d=!1}d&&(o.set(l,u),i(u,l,r,s,o),o.delete(l)),$j(t,n,u)}function Y9(t,e,n,r,i){t!==e&&G9(e,function(s,o){if(i||(i=new ig),Js(s))Rhe(t,e,o,n,Y9,r,i);else{var a=r?r(Cj(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),$j(t,o,a)}},v9)}var H9=Rfe(function(t,e,n,r){Y9(t,e,n,r)}),Mhe=Object.prototype,Qhe=Mhe.hasOwnProperty;function Ihe(t,e){return t!=null&&Qhe.call(t,e)}function Gk(t,e){return t!=null&&U9(t,e,Ihe)}var Dhe="[object Map]",Lhe="[object Set]",Fhe=Object.prototype,Vhe=Fhe.hasOwnProperty;function Bhe(t){if(t==null)return!0;if(J_(t)&&(Rc(t)||typeof t=="string"||typeof t.splice=="function"||Ng(t)||s1(t)||zw(t)))return!t.length;var e=wj(t);if(e==Dhe||e==Lhe)return!t.size;if(Eue(t))return!_ue(t).length;for(var n in t)if(Vhe.call(t,n))return!1;return!0}function iT(t,e){return u1(t,e)}function J9(t,e,n,r){if(!Js(t))return t;e=nT(e,t);for(var i=-1,s=e.length,o=s-1,a=t;a!=null&&++i<s;){var l=o1(e[i]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var u=a[l];c=void 0,c===void 0&&(c=Js(u)?u:K_(e[i+1])?[]:{})}Tue(a,l,c),a=a[l]}return t}function qhe(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=tT(t,o);n(a,o)&&J9(s,nT(o,t),a)}return s}function Whe(t,e){return qhe(t,e,function(n,r){return X9(t,r)})}var K9=Aue(function(t,e){return t==null?{}:Whe(t,e)});function Bm(t,e,n){return t==null?t:J9(t,e,n)}var zhe="Expected a function";function eZ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(zhe);return Js(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_he(t,e,{leading:r,maxWait:e,trailing:i})}function is(t,e,n){var r=Rc(t),i=r||Ng(t)||s1(t);if(e=$he(e),n==null){var s=t&&t.constructor;i?n=r?new s:[]:Js(t)?n=S9(s)?Rue(Mue(t)):{}:n={}}return(i?Que:Phe)(t,function(o,a,l){return e(n,o,a,l)}),n}var tZ=t=>{const e=t.split("/");return e[0]===""&&e.shift(),e},Zhe=t=>{const{groups:e,path:n}=Uhe(t),r=tZ(n);return Xhe(r,e)},Uhe=t=>{const e=[];return t=t.replace(/\{[^}]+\}/g,(n,r)=>{const i=`@${r}`;return e.push([i,n]),i}),{groups:e,path:t}},Xhe=(t,e)=>{for(let n=e.length-1;n>=0;n--){const[r]=e[n];for(let i=t.length-1;i>=0;i--)if(t[i].includes(r)){t[i]=t[i].replace(r,e[n][1]);break}}return t},wb={},uD=t=>{if(t==="*")return"*";const e=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);return e?(wb[t]||(e[2]?wb[t]=[t,e[1],new RegExp("^"+e[2]+"$")]:wb[t]=[t,e[1],!0]),wb[t]):null},nZ=(t,e)=>{try{return e(t)}catch{return t.replace(/(?:%[0-9A-Fa-f]{2})+/g,n=>{try{return e(n)}catch{return n}})}},Ghe=t=>nZ(t,decodeURI),rZ=t=>{const e=t.url,n=e.indexOf("/",8);let r=n;for(;r<e.length;r++){const i=e.charCodeAt(r);if(i===37){const s=e.indexOf("?",r),o=e.slice(n,s===-1?void 0:s);return Ghe(o.includes("%25")?o.replace(/%25/g,"%2525"):o)}else if(i===63)break}return e.slice(n,r)},Yhe=t=>{const e=rZ(t);return e.length>1&&e.at(-1)==="/"?e.slice(0,-1):e},lm=(...t)=>{let e="",n=!1;for(let r of t)e.at(-1)==="/"&&(e=e.slice(0,-1),n=!0),r[0]!=="/"&&(r=`/${r}`),r==="/"&&n?e=`${e}/`:r!=="/"&&(e=`${e}${r}`),r==="/"&&e===""&&(e="/");return e},iZ=t=>{if(!t.match(/\:.+\?$/))return null;const e=t.split("/"),n=[];let r="";return e.forEach(i=>{if(i!==""&&!/\:/.test(i))r+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){n.length===0&&r===""?n.push("/"):n.push(r);const s=i.replace("?","");r+="/"+s,n.push(r)}else r+="/"+i}),n.filter((i,s,o)=>o.indexOf(i)===s)},Yk=t=>/[%+]/.test(t)?(t.indexOf("+")!==-1&&(t=t.replace(/\+/g," ")),t.indexOf("%")!==-1?sT(t):t):t,sZ=(t,e,n)=>{let r;if(!n&&e&&!/[%+]/.test(e)){let o=t.indexOf(`?${e}`,8);for(o===-1&&(o=t.indexOf(`&${e}`,8));o!==-1;){const a=t.charCodeAt(o+e.length+1);if(a===61){const l=o+e.length+2,c=t.indexOf("&",l);return Yk(t.slice(l,c===-1?void 0:c))}else if(a==38||isNaN(a))return"";o=t.indexOf(`&${e}`,o+1)}if(r=/[%+]/.test(t),!r)return}const i={};r??(r=/[%+]/.test(t));let s=t.indexOf("?",8);for(;s!==-1;){const o=t.indexOf("&",s+1);let a=t.indexOf("=",s);a>o&&o!==-1&&(a=-1);let l=t.slice(s+1,a===-1?o===-1?void 0:o:a);if(r&&(l=Yk(l)),s=o,l==="")continue;let c;a===-1?c="":(c=t.slice(a+1,o===-1?void 0:o),r&&(c=Yk(c))),n?(i[l]&&Array.isArray(i[l])||(i[l]=[]),i[l].push(c)):i[l]??(i[l]=c)}return e?i[e]:i},Hhe=sZ,Jhe=(t,e)=>sZ(t,e,!0),sT=decodeURIComponent,oT={name:"HMAC",hash:"SHA-256"},oZ=async t=>{const e=typeof t=="string"?new TextEncoder().encode(t):t;return await crypto.subtle.importKey("raw",e,oT,!1,["sign","verify"])},Khe=async(t,e)=>{const n=await oZ(e),r=await crypto.subtle.sign(oT.name,n,new TextEncoder().encode(t));return btoa(String.fromCharCode(...new Uint8Array(r)))},epe=async(t,e,n)=>{try{const r=atob(t),i=new Uint8Array(r.length);for(let s=0,o=r.length;s<o;s++)i[s]=r.charCodeAt(s);return await crypto.subtle.verify(oT,n,i,new TextEncoder().encode(e))}catch{return!1}},tpe=/^[\w!#$%&'*.^`|~+-]+$/,npe=/^[ !#-:<-[\]-~]*$/,Pj=(t,e)=>{if(e&&t.indexOf(e)===-1)return{};const n=t.trim().split(";"),r={};for(let i of n){i=i.trim();const s=i.indexOf("=");if(s===-1)continue;const o=i.substring(0,s).trim();if(e&&e!==o||!tpe.test(o))continue;let a=i.substring(s+1).trim();if(a.startsWith('"')&&a.endsWith('"')&&(a=a.slice(1,-1)),npe.test(a)&&(r[o]=sT(a),e))break}return r},dD=async(t,e,n)=>{const r={},i=await oZ(e);for(const[s,o]of Object.entries(Pj(t,n))){const a=o.lastIndexOf(".");if(a<1)continue;const l=o.substring(0,a),c=o.substring(a+1);if(c.length!==44||!c.endsWith("="))continue;const u=await epe(c,l,i);r[s]=u?l:!1}return r},aZ=(t,e,n={})=>{let r=`${t}=${e}`;if(t.startsWith("__Secure-")&&!n.secure)throw new Error("__Secure- Cookie must have Secure attributes");if(t.startsWith("__Host-")){if(!n.secure)throw new Error("__Host- Cookie must have Secure attributes");if(n.path!=="/")throw new Error('__Host- Cookie must have Path attributes with "/"');if(n.domain)throw new Error("__Host- Cookie must not have Domain attributes")}if(n&&typeof n.maxAge=="number"&&n.maxAge>=0){if(n.maxAge>3456e4)throw new Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");r+=`; Max-Age=${n.maxAge|0}`}if(n.domain&&n.prefix!=="host"&&(r+=`; Domain=${n.domain}`),n.path&&(r+=`; Path=${n.path}`),n.expires){if(n.expires.getTime()-Date.now()>3456e7)throw new Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");r+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite&&(r+=`; SameSite=${n.sameSite.charAt(0).toUpperCase()+n.sameSite.slice(1)}`),n.priority&&(r+=`; Priority=${n.priority}`),n.partitioned){if(!n.secure)throw new Error("Partitioned Cookie must have Secure attributes");r+="; Partitioned"}return r},Hk=(t,e,n)=>(e=encodeURIComponent(e),aZ(t,e,n)),Jk=async(t,e,n,r={})=>{const i=await Khe(e,n);return e=`${e}.${i}`,e=encodeURIComponent(e),aZ(t,e,r)},lZ=(t,e,n)=>{const r=t.req.raw.headers.get("Cookie");if(typeof e=="string"){if(!r)return;let s=e;return Pj(r,s)[s]}return r?Pj(r):{}},cZ=async(t,e,n,r)=>{const i=t.req.raw.headers.get("Cookie");if(typeof n=="string"){if(!i)return;let o=n;return(await dD(i,e,o))[o]}return i?await dD(i,e):{}},uZ=(t,e,n,r)=>{let i;(r==null?void 0:r.prefix)==="secure"?i=Hk("__Secure-"+e,n,{path:"/",...r,secure:!0}):(r==null?void 0:r.prefix)==="host"?i=Hk("__Host-"+e,n,{...r,path:"/",secure:!0,domain:void 0}):i=Hk(e,n,{path:"/",...r}),t.header("Set-Cookie",i,{append:!0})},dZ=async(t,e,n,r,i)=>{let s;(i==null?void 0:i.prefix)==="secure"?s=await Jk("__Secure-"+e,n,r,{path:"/",...i,secure:!0}):(i==null?void 0:i.prefix)==="host"?s=await Jk("__Host-"+e,n,r,{...i,path:"/",secure:!0,domain:void 0}):s=await Jk(e,n,r,{path:"/",...i}),t.header("set-cookie",s,{append:!0})},rpe=(t,e,n)=>{const r=lZ(t,e);return uZ(t,e,"",{...n,maxAge:0}),r},jj=class extends Error{constructor(e=500,n){super(n==null?void 0:n.message,{cause:n==null?void 0:n.cause});Y(this,"res");Y(this,"status");this.res=n==null?void 0:n.res,this.status=e}getResponse(){return this.res?new Response(this.res.body,{status:this.status,headers:this.res.headers}):new Response(this.message,{status:this.status})}},ipe=async(t,e=Object.create(null))=>{const{all:n=!1,dot:r=!1}=e,s=(t instanceof fZ?t.raw.headers:t.headers).get("Content-Type");return s!=null&&s.startsWith("multipart/form-data")||s!=null&&s.startsWith("application/x-www-form-urlencoded")?spe(t,{all:n,dot:r}):{}};async function spe(t,e){const n=await t.formData();return n?ope(n,e):{}}function ope(t,e){const n=Object.create(null);return t.forEach((r,i)=>{e.all||i.endsWith("[]")?ape(n,i,r):n[i]=r}),e.dot&&Object.entries(n).forEach(([r,i])=>{r.includes(".")&&(lpe(n,r,i),delete n[r])}),n}var ape=(t,e,n)=>{t[e]!==void 0?Array.isArray(t[e])?t[e].push(n):t[e]=[t[e],n]:t[e]=n},lpe=(t,e,n)=>{let r=t;const i=e.split(".");i.forEach((s,o)=>{o===i.length-1?r[s]=n:((!r[s]||typeof r[s]!="object"||Array.isArray(r[s])||r[s]instanceof File)&&(r[s]=Object.create(null)),r=r[s])})},fD=t=>nZ(t,sT),ah,Fs,_l,hZ,pZ,Nj,hc,t9,fZ=(t9=class{constructor(t,e="/",n=[[]]){Ne(this,_l);Y(this,"raw");Ne(this,ah);Ne(this,Fs);Y(this,"routeIndex",0);Y(this,"path");Y(this,"bodyCache",{});Ne(this,hc,t=>{const{bodyCache:e,raw:n}=this,r=e[t];if(r)return r;const i=Object.keys(e)[0];return i?e[i].then(s=>(i==="json"&&(s=JSON.stringify(s)),new Response(s)[t]())):e[t]=n[t]()});this.raw=t,this.path=e,Se(this,Fs,n),Se(this,ah,{})}param(t){return t?Ve(this,_l,hZ).call(this,t):Ve(this,_l,pZ).call(this)}query(t){return Hhe(this.url,t)}queries(t){return Jhe(this.url,t)}header(t){if(t)return this.raw.headers.get(t.toLowerCase())??void 0;const e={};return this.raw.headers.forEach((n,r)=>{e[r]=n}),e}async parseBody(t){var e;return(e=this.bodyCache).parsedBody??(e.parsedBody=await ipe(this,t))}json(){return F(this,hc).call(this,"json")}text(){return F(this,hc).call(this,"text")}arrayBuffer(){return F(this,hc).call(this,"arrayBuffer")}blob(){return F(this,hc).call(this,"blob")}formData(){return F(this,hc).call(this,"formData")}addValidatedData(t,e){F(this,ah)[t]=e}valid(t){return F(this,ah)[t]}get url(){return this.raw.url}get method(){return this.raw.method}get matchedRoutes(){return F(this,Fs)[0].map(([[,t]])=>t)}get routePath(){return F(this,Fs)[0].map(([[,t]])=>t)[this.routeIndex].path}},ah=new WeakMap,Fs=new WeakMap,_l=new WeakSet,hZ=function(t){const e=F(this,Fs)[0][this.routeIndex][1][t],n=Ve(this,_l,Nj).call(this,e);return n?/\%/.test(n)?fD(n):n:void 0},pZ=function(){const t={},e=Object.keys(F(this,Fs)[0][this.routeIndex][1]);for(const n of e){const r=Ve(this,_l,Nj).call(this,F(this,Fs)[0][this.routeIndex][1][n]);r&&typeof r=="string"&&(t[n]=/\%/.test(r)?fD(r):r)}return t},Nj=function(t){return F(this,Fs)[1]?F(this,Fs)[1][t]:t},hc=new WeakMap,t9),cpe={Stringify:1,BeforeStream:2,Stream:3},mZ=async(t,e,n,r,i)=>{typeof t=="object"&&!(t instanceof String)&&(t instanceof Promise||(t=t.toString()),t instanceof Promise&&(t=await t));const s=t.callbacks;return s!=null&&s.length?(i?i[0]+=t:i=[t],Promise.all(s.map(a=>a({phase:e,buffer:i,context:r}))).then(a=>Promise.all(a.filter(Boolean).map(l=>mZ(l,e,!1,r,i))).then(()=>i[0]))):Promise.resolve(t)},upe="text/plain; charset=UTF-8",Kk=(t,e={})=>{for(const n of Object.keys(e))t.set(n,e[n]);return t},Vy,By,Wa,Gu,za,on,bn,Mo,Za,qy,lh,ch,Wy,zy,si,es,n9,gZ=(n9=class{constructor(e,n){Ne(this,si);Ne(this,Vy);Ne(this,By);Y(this,"env",{});Ne(this,Wa);Y(this,"finalized",!1);Y(this,"error");Ne(this,Gu,200);Ne(this,za);Ne(this,on);Ne(this,bn);Ne(this,Mo);Ne(this,Za,!0);Ne(this,qy);Ne(this,lh);Ne(this,ch);Ne(this,Wy);Ne(this,zy);Y(this,"render",(...e)=>(F(this,lh)??Se(this,lh,n=>this.html(n)),F(this,lh).call(this,...e)));Y(this,"setLayout",e=>Se(this,qy,e));Y(this,"getLayout",()=>F(this,qy));Y(this,"setRenderer",e=>{Se(this,lh,e)});Y(this,"header",(e,n,r)=>{if(n===void 0){F(this,on)?F(this,on).delete(e):F(this,bn)&&delete F(this,bn)[e.toLocaleLowerCase()],this.finalized&&this.res.headers.delete(e);return}r!=null&&r.append?(F(this,on)||(Se(this,Za,!1),Se(this,on,new Headers(F(this,bn))),Se(this,bn,{})),F(this,on).append(e,n)):F(this,on)?F(this,on).set(e,n):(F(this,bn)??Se(this,bn,{}),F(this,bn)[e.toLowerCase()]=n),this.finalized&&(r!=null&&r.append?this.res.headers.append(e,n):this.res.headers.set(e,n))});Y(this,"status",e=>{Se(this,Za,!1),Se(this,Gu,e)});Y(this,"set",(e,n)=>{F(this,Wa)??Se(this,Wa,new Map),F(this,Wa).set(e,n)});Y(this,"get",e=>F(this,Wa)?F(this,Wa).get(e):void 0);Y(this,"newResponse",(...e)=>Ve(this,si,es).call(this,...e));Y(this,"body",(e,n,r)=>typeof n=="number"?Ve(this,si,es).call(this,e,n,r):Ve(this,si,es).call(this,e,n));Y(this,"text",(e,n,r)=>{if(!F(this,bn)){if(F(this,Za)&&!r&&!n)return new Response(e);Se(this,bn,{})}return F(this,bn)["content-type"]=upe,typeof n=="number"?Ve(this,si,es).call(this,e,n,r):Ve(this,si,es).call(this,e,n)});Y(this,"json",(e,n,r)=>{const i=JSON.stringify(e);return F(this,bn)??Se(this,bn,{}),F(this,bn)["content-type"]="application/json",typeof n=="number"?Ve(this,si,es).call(this,i,n,r):Ve(this,si,es).call(this,i,n)});Y(this,"html",(e,n,r)=>(F(this,bn)??Se(this,bn,{}),F(this,bn)["content-type"]="text/html; charset=UTF-8",typeof e=="object"?mZ(e,cpe.Stringify,!1,{}).then(i=>typeof n=="number"?Ve(this,si,es).call(this,i,n,r):Ve(this,si,es).call(this,i,n)):typeof n=="number"?Ve(this,si,es).call(this,e,n,r):Ve(this,si,es).call(this,e,n)));Y(this,"redirect",(e,n)=>(F(this,on)??Se(this,on,new Headers),F(this,on).set("Location",String(e)),this.newResponse(null,n??302)));Y(this,"notFound",()=>(F(this,ch)??Se(this,ch,()=>new Response),F(this,ch).call(this,this)));Se(this,Vy,e),n&&(Se(this,za,n.executionCtx),this.env=n.env,Se(this,ch,n.notFoundHandler),Se(this,zy,n.path),Se(this,Wy,n.matchResult))}get req(){return F(this,By)??Se(this,By,new fZ(F(this,Vy),F(this,zy),F(this,Wy))),F(this,By)}get event(){if(F(this,za)&&"respondWith"in F(this,za))return F(this,za);throw Error("This context has no FetchEvent")}get executionCtx(){if(F(this,za))return F(this,za);throw Error("This context has no ExecutionContext")}get res(){return Se(this,Za,!1),F(this,Mo)||Se(this,Mo,new Response("404 Not Found",{status:404}))}set res(e){if(Se(this,Za,!1),F(this,Mo)&&e)try{for(const[n,r]of F(this,Mo).headers.entries())if(n!=="content-type")if(n==="set-cookie"){const i=F(this,Mo).headers.getSetCookie();e.headers.delete("set-cookie");for(const s of i)e.headers.append("set-cookie",s)}else e.headers.set(n,r)}catch(n){if(n instanceof TypeError&&n.message.includes("immutable")){this.res=new Response(e.body,{headers:e.headers,status:e.status});return}else throw n}Se(this,Mo,e),this.finalized=!0}get var(){return F(this,Wa)?Object.fromEntries(F(this,Wa)):{}}},Vy=new WeakMap,By=new WeakMap,Wa=new WeakMap,Gu=new WeakMap,za=new WeakMap,on=new WeakMap,bn=new WeakMap,Mo=new WeakMap,Za=new WeakMap,qy=new WeakMap,lh=new WeakMap,ch=new WeakMap,Wy=new WeakMap,zy=new WeakMap,si=new WeakSet,es=function(e,n,r){if(F(this,Za)&&!r&&!n&&F(this,Gu)===200)return new Response(e,{headers:F(this,bn)});if(n&&typeof n!="number"){const s=new Headers(n.headers);F(this,on)&&F(this,on).forEach((a,l)=>{l==="set-cookie"?s.append(l,a):s.set(l,a)});const o=Kk(s,F(this,bn));return new Response(e,{headers:o,status:n.status??F(this,Gu)})}const i=typeof n=="number"?n:F(this,Gu);F(this,bn)??Se(this,bn,{}),F(this,on)??Se(this,on,new Headers),Kk(F(this,on),F(this,bn)),F(this,Mo)&&(F(this,Mo).headers.forEach((s,o)=>{var a,l;o==="set-cookie"?(a=F(this,on))==null||a.append(o,s):(l=F(this,on))==null||l.set(o,s)}),Kk(F(this,on),F(this,bn))),r??(r={});for(const[s,o]of Object.entries(r))if(typeof o=="string")F(this,on).set(s,o);else{F(this,on).delete(s);for(const a of o)F(this,on).append(s,a)}return new Response(e,{status:i,headers:F(this,on)})},n9),Ky=Iue();const Nf=a1(Ky);var Fo=function(){return Fo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fo.apply(this,arguments)};function yZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dpe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var qx="right-scroll-bar-position",Wx="width-before-scroll-bar",fpe="with-scroll-bars-hidden",hpe="--removed-body-scroll-bar-size";function e$(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ppe(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var mpe=typeof window<"u"?S.useLayoutEffect:S.useEffect,hD=new WeakMap;function gpe(t,e){var n=ppe(null,function(r){return t.forEach(function(i){return e$(i,r)})});return mpe(function(){var r=hD.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||e$(a,null)}),s.forEach(function(a){i.has(a)||e$(a,o)})}hD.set(n,t)},[t]),n}function ype(t){return t}function Ope(t,e){e===void 0&&(e=ype);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function bpe(t){t===void 0&&(t={});var e=Ope(null);return e.options=Fo({async:!0,ssr:!1},t),e}var OZ=function(t){var e=t.sideCar,n=yZ(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Fo({},n))};OZ.isSideCarExport=!0;function xpe(t,e){return t.useMedium(e),OZ}var bZ=bpe(),t$=function(){},d1=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:t$,onWheelCapture:t$,onTouchMoveCapture:t$}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,m=t.inert,g=t.allowPinchZoom,y=t.as,O=y===void 0?"div":y,b=t.gapMode,w=yZ(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,v=gpe([n,e]),k=Fo(Fo({},w),i);return S.createElement(S.Fragment,null,u&&S.createElement(x,{sideCar:bZ,removeScrollBar:c,shards:d,noIsolation:h,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:b}),o?S.cloneElement(S.Children.only(a),Fo(Fo({},k),{ref:v})):S.createElement(O,Fo({},k,{className:l,ref:v}),a))});d1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};d1.classNames={fullWidth:Wx,zeroRight:qx};var wpe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vpe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wpe();return e&&t.setAttribute("nonce",e),t}function Spe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function kpe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $pe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=vpe())&&(Spe(e,n),kpe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Cpe=function(){var t=$pe();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},xZ=function(){var t=Cpe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Ppe={left:0,top:0,right:0,gap:0},n$=function(t){return parseInt(t||"",10)||0},jpe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[n$(n),n$(r),n$(i)]},Npe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Ppe;var e=jpe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Epe=xZ(),qf="data-scroll-locked",_pe=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(fpe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(qf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qx,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Wx,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qx," .").concat(qx,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Wx," .").concat(Wx,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qf,`] {
    `).concat(hpe,": ").concat(a,`px;
  }
`)},pD=function(){var t=parseInt(document.body.getAttribute(qf)||"0",10);return isFinite(t)?t:0},Tpe=function(){S.useEffect(function(){return document.body.setAttribute(qf,(pD()+1).toString()),function(){var t=pD()-1;t<=0?document.body.removeAttribute(qf):document.body.setAttribute(qf,t.toString())}},[])},Ape=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Tpe();var s=S.useMemo(function(){return Npe(i)},[i]);return S.createElement(Epe,{styles:_pe(s,!e,i,n?"":"!important")})},Ej=!1;if(typeof window<"u")try{var vb=Object.defineProperty({},"passive",{get:function(){return Ej=!0,!0}});window.addEventListener("test",vb,vb),window.removeEventListener("test",vb,vb)}catch{Ej=!1}var rf=Ej?{passive:!1}:!1,Rpe=function(t){return t.tagName==="TEXTAREA"},wZ=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Rpe(t)&&n[e]==="visible")},Mpe=function(t){return wZ(t,"overflowY")},Qpe=function(t){return wZ(t,"overflowX")},mD=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=vZ(t,r);if(i){var s=SZ(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ipe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Dpe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},vZ=function(t,e){return t==="v"?Mpe(e):Qpe(e)},SZ=function(t,e){return t==="v"?Ipe(e):Dpe(e)},Lpe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Fpe=function(t,e,n,r,i){var s=Lpe(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{var h=SZ(t,a),m=h[0],g=h[1],y=h[2],O=g-y-s*m;(m||O)&&vZ(t,a)&&(d+=O,f+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},Sb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gD=function(t){return[t.deltaX,t.deltaY]},yD=function(t){return t&&"current"in t?t.current:t},Vpe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Bpe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qpe=0,sf=[];function Wpe(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(qpe++)[0],s=S.useState(xZ)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=dpe([t.lockRef.current],(t.shards||[]).map(yD),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=S.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var O=Sb(g),b=n.current,w="deltaX"in g?g.deltaX:b[0]-O[0],x="deltaY"in g?g.deltaY:b[1]-O[1],v,k=g.target,$=Math.abs(w)>Math.abs(x)?"h":"v";if("touches"in g&&$==="h"&&k.type==="range")return!1;var C=mD($,k);if(!C)return!0;if(C?v=$:(v=$==="v"?"h":"v",C=mD($,k)),!C)return!1;if(!r.current&&"changedTouches"in g&&(w||x)&&(r.current=v),!v)return!0;var N=r.current||v;return Fpe(N,y,g,N==="h"?w:x)},[]),l=S.useCallback(function(g){var y=g;if(!(!sf.length||sf[sf.length-1]!==s)){var O="deltaY"in y?gD(y):Sb(y),b=e.current.filter(function(v){return v.name===y.type&&(v.target===y.target||y.target===v.shadowParent)&&Vpe(v.delta,O)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(yD).filter(Boolean).filter(function(v){return v.contains(y.target)}),x=w.length>0?a(y,w[0]):!o.current.noIsolation;x&&y.cancelable&&y.preventDefault()}}},[]),c=S.useCallback(function(g,y,O,b){var w={name:g,delta:y,target:O,should:b,shadowParent:zpe(O)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(x){return x!==w})},1)},[]),u=S.useCallback(function(g){n.current=Sb(g),r.current=void 0},[]),d=S.useCallback(function(g){c(g.type,gD(g),g.target,a(g,t.lockRef.current))},[]),f=S.useCallback(function(g){c(g.type,Sb(g),g.target,a(g,t.lockRef.current))},[]);S.useEffect(function(){return sf.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,rf),document.addEventListener("touchmove",l,rf),document.addEventListener("touchstart",u,rf),function(){sf=sf.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,rf),document.removeEventListener("touchmove",l,rf),document.removeEventListener("touchstart",u,rf)}},[]);var h=t.removeScrollBar,m=t.inert;return S.createElement(S.Fragment,null,m?S.createElement(s,{styles:Bpe(i)}):null,h?S.createElement(Ape,{gapMode:t.gapMode}):null)}function zpe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Zpe=xpe(bZ,Wpe);var kZ=S.forwardRef(function(t,e){return S.createElement(d1,Fo({},t,{ref:e,sideCar:Zpe}))});kZ.classNames=d1.classNames;function Jo(t){return Object.keys(t)}function r$(t){return t&&typeof t=="object"&&!Array.isArray(t)}function aT(t,e){const n={...t},r=e;return r$(t)&&r$(e)&&Object.keys(e).forEach(i=>{r$(r[i])&&i in t?n[i]=aT(n[i],r[i]):n[i]=r[i]}),n}function Upe(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function Xpe(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function Gpe(t){const e=Xpe(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function i$(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function $Z(t,{shouldScale:e=!1}={}){function n(r){if(r===0||r==="0")return`0${t}`;if(typeof r=="number"){const i=`${r/16}${t}`;return e?i$(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(s=>n(s)).join(",");if(r.includes(" "))return r.split(" ").map(s=>n(s)).join(" ");if(r.includes(t))return e?i$(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const s=`${Number(i)/16}${t}`;return e?i$(s):s}}return r}return n}const be=$Z("rem",{shouldScale:!0}),OD=$Z("em");function lT(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function CZ(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(r=>e.test(r))}return!1}function tu(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==S.Fragment:!1}function Tl(t){const e=S.createContext(null);return[({children:i,value:s})=>p.jsx(e.Provider,{value:s,children:i}),()=>{const i=S.useContext(e);if(i===null)throw new Error(t);return i}]}function Ld(t=null){const e=S.createContext(t);return[({children:i,value:s})=>p.jsx(e.Provider,{value:s,children:i}),()=>S.useContext(e)]}function bD(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function Yw(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function Ype(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].disabled)return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].disabled)return r}return t}function Hpe(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].disabled)return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].disabled)return r}return t}function Jpe(t,e,n){return Yw(t,n)===Yw(e,n)}function PZ({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var m;n==null||n(a);const l=Array.from(((m=Yw(a.currentTarget,t))==null?void 0:m.querySelectorAll(e))||[]).filter(g=>Jpe(a.currentTarget,g,t)),c=l.findIndex(g=>a.currentTarget===g),u=Hpe(c,l,r),d=Ype(c,l,r),f=s==="rtl"?d:u,h=s==="rtl"?u:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[u].focus(),i&&l[u].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const g=l.length-1;!l[g].disabled&&l[g].focus();break}}}}const Kpe={app:100,modal:200,popover:300,overlay:400,max:9999};function co(t){return Kpe[t]}const Hw=()=>{};function eme(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||Hw:n=>{var r;n.key==="Escape"&&(t(n),(r=e.onTrigger)==null||r.call(e))}}function wt(t,e="size",n=!0){if(t!==void 0)return CZ(t)?n?be(t):t:`var(--${e}-${t})`}function cT(t){return wt(t,"mantine-spacing")}function Un(t){return t===void 0?"var(--mantine-radius-default)":wt(t,"mantine-radius")}function Jr(t){return wt(t,"mantine-font-size")}function uT(t){if(t)return wt(t,"mantine-shadow",!1)}function zo(t,e){return n=>{t==null||t(n),e==null||e(n)}}function tme(t,e,n){var r;return n?Array.from(((r=Yw(n,e))==null?void 0:r.querySelectorAll(t))||[]).findIndex(i=>i===n):null}function nme(){const[t,e]=S.useState(-1);return[t,{setHovered:e,resetHovered:()=>e(-1)}]}function sl(t,e,n){return e===void 0&&n===void 0?t:e!==void 0&&n===void 0?Math.max(t,e):Math.min(e===void 0&&n!==void 0?t:Math.max(t,e),n)}function rme(t="mantine-"){return`${t}${Math.random().toString(36).slice(2,11)}`}function Au(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}const ime=()=>{};function f1(t,e){const n=typeof e=="number"?e:e.delay,r=typeof e=="number"?!1:e.flushOnUnmount,i=Au(t),s=S.useRef(0),o=Object.assign(S.useCallback((...a)=>{window.clearTimeout(s.current);const l=()=>{s.current!==0&&(s.current=0,i(...a))};o.flush=l,s.current=window.setTimeout(l,n)},[i,n]),{flush:ime});return S.useEffect(()=>()=>{window.clearTimeout(s.current),r&&o.flush()},[o,r]),o}const xD=["mousedown","touchstart"];function sme(t,e,n){const r=S.useRef(null);return S.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(c=>!!c&&!s.composedPath().includes(c))&&!a&&t()}else r.current&&!r.current.contains(o)&&t()};return(e||xD).forEach(s=>document.addEventListener(s,i)),()=>{(e||xD).forEach(s=>document.removeEventListener(s,i))}},[r,t,n]),r}function ome(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function ame(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function jZ(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=S.useState(n?e:ame(t)),s=S.useRef(null);return S.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(t),i(s.current.matches),ome(s.current,o=>i(o.matches))},[t]),r}function lme(t,e){return jZ("(prefers-color-scheme: dark)",t==="dark",e)?"dark":"light"}const up=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Mc(t,e){const n=S.useRef(!1);S.useEffect(()=>()=>{n.current=!1},[]),S.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function NZ({opened:t,shouldReturnFocus:e=!0}){const n=S.useRef(null),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return Mc(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),t?n.current=document.activeElement:e&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[t,e]),r}const cme=/input|select|textarea|button|object/,EZ="a, input, select, textarea, button, object, [tabindex]";function ume(t){return t.style.display==="none"}function dme(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(ume(n))return!1;n=n.parentNode}return!0}function _Z(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function _j(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(_Z(t));return(cme.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&dme(t)}function TZ(t){const e=_Z(t);return(Number.isNaN(e)||e>=0)&&_j(t)}function fme(t){return Array.from(t.querySelectorAll(EZ)).filter(TZ)}function hme(t,e){const n=fme(t);if(!n.length){e.preventDefault();return}const r=n[e.shiftKey?0:n.length-1],i=t.getRootNode();let s=r===i.activeElement||t===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(s=n.filter(u=>u.getAttribute("type")==="radio"&&u.getAttribute("name")===o.getAttribute("name")).includes(r)),!s)return;e.preventDefault();const l=n[e.shiftKey?n.length-1:0];l&&l.focus()}function pme(t=!0){const e=S.useRef(null),n=i=>{let s=i.querySelector("[data-autofocus]");if(!s){const o=Array.from(i.querySelectorAll(EZ));s=o.find(TZ)||o.find(_j)||null,!s&&_j(i)&&(s=i)}s&&s.focus({preventScroll:!0})},r=S.useCallback(i=>{t&&i!==null&&e.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),e.current=i):e.current=null)},[t]);return S.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const i=s=>{s.key==="Tab"&&e.current&&hme(e.current,s)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[t]),r}const mme=we.useId||(()=>{});function gme(){const t=mme();return t?`mantine-${t.replace(/:/g,"")}`:""}function vs(t){const e=gme(),[n,r]=S.useState(e);return up(()=>{r(rme())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function yme(t,e,n){S.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}function Jw(t,e){if(typeof t=="function")return t(e);typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function Ome(...t){const e=new Map;return n=>{if(t.forEach(r=>{const i=Jw(r,n);i&&e.set(r,i)}),e.size>0)return()=>{t.forEach(r=>{const i=e.get(r);i?i():Jw(r,null)}),e.clear()}}}function gn(...t){return S.useCallback(Ome(...t),t)}function bme(t,e,n="ltr"){const r=S.useRef(null),i=S.useRef(!1),s=S.useRef(!1),o=S.useRef(0),[a,l]=S.useState(!1);return S.useEffect(()=>{i.current=!0},[]),S.useEffect(()=>{var b,w;const c=({x,y:v})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const k=r.current.getBoundingClientRect();if(k.width&&k.height){const $=sl((x-k.left)/k.width,0,1);t({x:n==="ltr"?$:1-$,y:sl((v-k.top)/k.height,0,1)})}}})},u=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",h),document.addEventListener("touchmove",O),document.addEventListener("touchend",h)},d=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",O),document.removeEventListener("touchend",h)},f=()=>{!s.current&&i.current&&(s.current=!0,typeof(e==null?void 0:e.onScrubStart)=="function"&&e.onScrubStart(),l(!0),u())},h=()=>{s.current&&i.current&&(s.current=!1,l(!1),d(),setTimeout(()=>{typeof(e==null?void 0:e.onScrubEnd)=="function"&&e.onScrubEnd()},0))},m=x=>{f(),x.preventDefault(),g(x)},g=x=>c({x:x.clientX,y:x.clientY}),y=x=>{x.cancelable&&x.preventDefault(),f(),O(x)},O=x=>{x.cancelable&&x.preventDefault(),c({x:x.changedTouches[0].clientX,y:x.changedTouches[0].clientY})};return(b=r.current)==null||b.addEventListener("mousedown",m),(w=r.current)==null||w.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",m),r.current.removeEventListener("touchstart",y))}},[n,t]),{ref:r,active:a}}function Oi({value:t,defaultValue:e,finalValue:n,onChange:r=()=>{}}){const[i,s]=S.useState(e!==void 0?e:n),o=(a,...l)=>{s(a),r==null||r(a,...l)};return t!==void 0?[t,r,!0]:[i,o,!1]}function AZ(t,e){return jZ("(prefers-reduced-motion: reduce)",t,e)}function xme(t,e,n={autoInvoke:!1}){const r=S.useRef(null),i=S.useCallback((...o)=>{r.current||(r.current=window.setTimeout(()=>{t(o),r.current=null},e))},[e]),s=S.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return S.useEffect(()=>(n.autoInvoke&&i(),s),[s,i]),{start:i,clear:s}}function wme(t){const e=S.useRef(void 0);return S.useEffect(()=>{e.current=t},[t]),e.current}function vme(t,e,n){const r=S.useRef(null),i=S.useRef(null);return S.useEffect(()=>{const s=typeof n=="function"?n():n;return(s||i.current)&&(r.current=new MutationObserver(t),r.current.observe(s||i.current,e)),()=>{var o;(o=r.current)==null||o.disconnect()}},[t,e]),i}function Sme(){const[t,e]=S.useState(!1);return S.useEffect(()=>e(!0),[]),t}function kme(t,e){window.dispatchEvent(new CustomEvent(t,{detail:e}))}function $me(t){function e(r){const i=Object.keys(r).reduce((s,o)=>(s[`${t}:${o}`]=a=>r[o](a.detail),s),{});up(()=>(Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s]),window.addEventListener(s,i[s])}),()=>Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s])})),[i])}function n(r){return(...i)=>kme(`${t}:${String(r)}`,i[0])}return[e,n]}var Cme={};function RZ(){return typeof process<"u"&&Cme?"production":"development"}function wD(t,e){return e.length===0?t:e.reduce((n,r)=>Math.abs(r-t)<Math.abs(n-t)?r:n)}function h1(t){var n;const e=we.version;return typeof we.version!="string"||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}function MZ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=MZ(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=MZ(t))&&(r&&(r+=" "),r+=e);return r}const Pme={};function jme(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([r,i])=>{e[r]?e[r]=xr(e[r],i):e[r]=i})}),e}function p1({theme:t,classNames:e,props:n,stylesCtx:r}){const s=(Array.isArray(e)?e:[e]).map(o=>typeof o=="function"?o(t,n,r):o||Pme);return jme(s)}function Kw({theme:t,styles:e,props:n,stylesCtx:r}){return(Array.isArray(e)?e:[e]).reduce((s,o)=>typeof o=="function"?{...s,...o(t,n,r)}:{...s,...o},{})}const dT=S.createContext(null);function Fd(){const t=S.useContext(dT);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function Nme(){return Fd().cssVariablesResolver}function Eme(){return Fd().classNamesPrefix}function m1(){return Fd().getStyleNonce}function _me(){return Fd().withStaticClasses}function Tme(){return Fd().headless}function Ame(){var t;return(t=Fd().stylesTransform)==null?void 0:t.sx}function Rme(){var t;return(t=Fd().stylesTransform)==null?void 0:t.styles}function Mme(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function Qme(t){let e=t.replace("#","");if(e.length===3){const o=e.split("");e=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(e.length===8){const o=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:o}}const n=parseInt(e,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function Ime(t){const[e,n,r,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:r,a:i||1}}function Dme(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*s-1))*i,l=r/60,c=a*(1-Math.abs(l%2-1)),u=s-a/2;let d,f,h;return l>=0&&l<1?(d=a,f=c,h=0):l>=1&&l<2?(d=c,f=a,h=0):l>=2&&l<3?(d=0,f=a,h=c):l>=3&&l<4?(d=0,f=c,h=a):l>=4&&l<5?(d=c,f=0,h=a):(d=a,f=0,h=c),{r:Math.round((d+u)*255),g:Math.round((f+u)*255),b:Math.round((h+u)*255),a:o||1}}function fT(t){return Mme(t)?Qme(t):t.startsWith("rgb")?Ime(t):t.startsWith("hsl")?Dme(t):{r:0,g:0,b:0,a:1}}function kb(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:r,b:i,a:s}=fT(t),o=1-e,a=l=>Math.round(l*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function _g(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function s$(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function Lme(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function Fme(t){if(t.startsWith("oklch("))return(Lme(t)||0)/100;const{r:e,g:n,b:r}=fT(t),i=e/255,s=n/255,o=r/255,a=s$(i),l=s$(s),c=s$(o);return .2126*a+.7152*l+.0722*c}function cm(t,e=.179){return t.startsWith("var(")?!1:Fme(t)>e}function nu({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:cm(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:cm(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:cm(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[r,i]=t.split("."),s=i?Number(i):void 0,o=r in e.colors;if(o){const a=s!==void 0?e.colors[r][s]:e.colors[r][_g(e,n||"light")];return{color:r,value:a,shade:s,isThemeColor:o,isLight:cm(a,e.luminanceThreshold),variable:i?`--mantine-color-${r}-${s}`:`--mantine-color-${r}-filled`}}return{color:t,value:t,isThemeColor:o,isLight:cm(t,e.luminanceThreshold),shade:s,variable:void 0}}function Dr(t,e){const n=nu({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function vD(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)||e.defaultGradient.deg||0},r=Dr(n.from,e),i=Dr(n.to,e);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function Ao(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const s=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${s}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:r,b:i}=fT(t);return`rgba(${n}, ${r}, ${i}, ${e})`}const of=Ao,Vme=({color:t,theme:e,variant:n,gradient:r,autoContrast:i})=>{const s=nu({color:t,theme:e}),o=typeof i=="boolean"?i:e.autoContrast;if(n==="filled"){const a=o&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:a,border:`${be(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${be(1)} solid transparent`}:{background:t,hover:kb(t,.1),color:a,border:`${be(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${be(1)} solid transparent`};const a=e.colors[s.color][s.shade];return{background:Ao(a,.1),hover:Ao(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${be(1)} solid transparent`}}return{background:Ao(t,.1),hover:Ao(t,.12),color:t,border:`${be(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${be(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:Ao(e.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${be(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:Ao(t,.05),color:t,border:`${be(1)} solid ${t}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${be(1)} solid transparent`};const a=e.colors[s.color][s.shade];return{background:"transparent",hover:Ao(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${be(1)} solid transparent`}}return{background:"transparent",hover:Ao(t,.12),color:t,border:`${be(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${be(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${be(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${be(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:kb(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${be(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:kb(e.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${be(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:kb(e.white,.01),color:t,border:`${be(1)} solid transparent`}:n==="gradient"?{background:vD(r,e),hover:vD(r,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${be(1)} solid var(--mantine-color-default-border)`}:{}},Bme={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},SD="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",hT={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:Bme,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:Vme,autoContrast:!1,luminanceThreshold:.3,fontFamily:SD,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:SD,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:be(34),lineHeight:"1.3"},h2:{fontSize:be(26),lineHeight:"1.35"},h3:{fontSize:be(22),lineHeight:"1.4"},h4:{fontSize:be(18),lineHeight:"1.45"},h5:{fontSize:be(16),lineHeight:"1.5"},h6:{fontSize:be(14),lineHeight:"1.5"}}},fontSizes:{xs:be(12),sm:be(14),md:be(16),lg:be(18),xl:be(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:be(2),sm:be(4),md:be(8),lg:be(16),xl:be(32)},spacing:{xs:be(10),sm:be(12),md:be(16),lg:be(20),xl:be(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), 0 ${be(1)} ${be(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${be(10)} ${be(15)} ${be(-5)}, rgba(0, 0, 0, 0.04) 0 ${be(7)} ${be(7)} ${be(-5)}`,md:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${be(20)} ${be(25)} ${be(-5)}, rgba(0, 0, 0, 0.04) 0 ${be(10)} ${be(10)} ${be(-5)}`,lg:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${be(28)} ${be(23)} ${be(-7)}, rgba(0, 0, 0, 0.04) 0 ${be(12)} ${be(12)} ${be(-7)}`,xl:`0 ${be(1)} ${be(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${be(36)} ${be(28)} ${be(-7)}, rgba(0, 0, 0, 0.04) 0 ${be(17)} ${be(17)} ${be(-7)}`},other:{},components:{}};function kD(t){return t==="auto"||t==="dark"||t==="light"}function qme({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(t);return kD(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{e=r=>{r.storageArea===window.localStorage&&r.key===t&&kD(r.newValue)&&n(r.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const Wme="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",$D="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function o$(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function CD(t){if(!(t.primaryColor in t.colors))throw new Error(Wme);if(typeof t.primaryShade=="object"&&(!o$(t.primaryShade.dark)||!o$(t.primaryShade.light)))throw new Error($D);if(typeof t.primaryShade=="number"&&!o$(t.primaryShade))throw new Error($D)}function zme(t,e){var r;if(!e)return CD(t),t;const n=aT(t,e);return e.fontFamily&&!((r=e.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=e.fontFamily),CD(n),n}const pT=S.createContext(null),Zme=()=>S.useContext(pT)||hT;function Zi(){const t=S.useContext(pT);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function QZ({theme:t,children:e,inherit:n=!0}){const r=Zme(),i=S.useMemo(()=>zme(n?r:hT,t),[t,r,n]);return p.jsx(pT.Provider,{value:i,children:e})}QZ.displayName="@mantine/core/MantineThemeProvider";function Ume(){const t=Zi(),e=m1(),n=Jo(t.breakpoints).reduce((r,i)=>{const s=t.breakpoints[i].includes("px"),o=Gpe(t.breakpoints[i]),a=s?`${o-.1}px`:OD(o-.1),l=s?`${o}px`:OD(o);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return p.jsx("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function a$(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function um(t,e){return(Array.isArray(t)?t:[t]).reduce((r,i)=>`${i}{${r}}`,e)}function Xme(t,e){const n=a$(t.variables),r=n?um(e,n):"",i=a$(t.dark),s=a$(t.light),o=i?um(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,i):"",a=s?um(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,s):"";return`${r}${o}${a}`}function eO({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&nu({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function PD(t,e){return eO({color:t.colors[t.primaryColor][_g(t,e)],theme:t,autoContrast:null})}function $b({theme:t,color:e,colorScheme:n,name:r=e,withColorValues:i=!0}){if(!t.colors[e])return{};if(n==="light"){const a=_g(t,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:of(t.colors[e][a],.1),[`--mantine-color-${r}-light-hover`]:of(t.colors[e][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:of(t.colors[e][a],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...l}:l}const s=_g(t,"dark"),o={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:of(t.colors[e][Math.max(0,s-2)],.15),[`--mantine-color-${r}-light-hover`]:of(t.colors[e][Math.max(0,s-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(s-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(s-4,0)})`,[`--mantine-color-${r}-outline-hover`]:of(t.colors[e][Math.max(s-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...o}:o}function Gme(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function af(t,e,n){Jo(e).forEach(r=>Object.assign(t,{[`--mantine-${n}-${r}`]:e[r]}))}const IZ=t=>{const e=_g(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:be(t.defaultRadius),r={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":PD(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":PD(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};af(r.variables,t.breakpoints,"breakpoint"),af(r.variables,t.spacing,"spacing"),af(r.variables,t.fontSizes,"font-size"),af(r.variables,t.lineHeights,"line-height"),af(r.variables,t.shadows,"shadow"),af(r.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((s,o)=>{r.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${t.primaryColor}-${o})`}),Jo(t.colors).forEach(s=>{const o=t.colors[s];if(Gme(o)){Object.assign(r.light,$b({theme:t,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,$b({theme:t,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,l)=>{r.variables[`--mantine-color-${s}-${l}`]=a}),Object.assign(r.light,$b({theme:t,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,$b({theme:t,color:s,colorScheme:"dark",withColorValues:!1}))});const i=t.headings.sizes;return Jo(i).forEach(s=>{r.variables[`--mantine-${s}-font-size`]=i[s].fontSize,r.variables[`--mantine-${s}-line-height`]=i[s].lineHeight,r.variables[`--mantine-${s}-font-weight`]=i[s].fontWeight||t.headings.fontWeight}),r};function Yme({theme:t,generator:e}){const n=IZ(t),r=e==null?void 0:e(t);return r?aT(n,r):n}const l$=IZ(hT);function Hme(t){const e={variables:{},light:{},dark:{}};return Jo(t.variables).forEach(n=>{l$.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),Jo(t.light).forEach(n=>{l$.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),Jo(t.dark).forEach(n=>{l$.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function Jme(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function DZ({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=Zi(),r=m1(),i=Nme(),s=Yme({theme:n,generator:i}),o=t===":root"&&e,a=o?Hme(s):s,l=Xme(a,t);return l?p.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${l}${o?"":Jme(t)}`}}):null}DZ.displayName="@mantine/CssVariables";function Kme(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function lf(t,e){var i,s;const n=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),r=t!=="auto"?t:n?"dark":"light";(s=e())==null||s.setAttribute("data-mantine-color-scheme",r)}function ege({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:r}){const i=S.useRef(null),[s,o]=S.useState(()=>t.get(e)),a=r||s,l=S.useCallback(u=>{r||(lf(u,n),o(u),t.set(u))},[t.set,a,r]),c=S.useCallback(()=>{o(e),lf(e,n),t.clear()},[t.clear,e]);return S.useEffect(()=>(t.subscribe(l),t.unsubscribe),[t.subscribe,t.unsubscribe]),up(()=>{lf(t.get(e),n)},[]),S.useEffect(()=>{var d;if(r)return lf(r,n),()=>{};r===void 0&&lf(s,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const u=f=>{s==="auto"&&lf(f.matches?"dark":"light",n)};return(d=i.current)==null||d.addEventListener("change",u),()=>{var f;return(f=i.current)==null?void 0:f.removeEventListener("change",u)}},[s,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:c}}function tge({respectReducedMotion:t,getRootElement:e}){up(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}Kme();function LZ({theme:t,children:e,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:s=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:c=qme(),defaultColorScheme:u="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:h,stylesTransform:m}){const{colorScheme:g,setColorScheme:y,clearColorScheme:O}=ege({defaultColorScheme:u,forceColorScheme:h,manager:c,getRootElement:d});return tge({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:d}),p.jsx(dT.Provider,{value:{colorScheme:g,setColorScheme:y,clearColorScheme:O,getRootElement:d,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:f,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:m},children:p.jsxs(QZ,{theme:t,children:[o&&p.jsx(DZ,{cssVariablesSelector:a,deduplicateCssVariables:s}),i&&p.jsx(Ume,{}),e]})})}LZ.displayName="@mantine/core/MantineProvider";function dp({classNames:t,styles:e,props:n,stylesCtx:r}){const i=Zi();return{resolvedClassNames:p1({theme:i,classNames:t,props:n,stylesCtx:r||void 0}),resolvedStyles:Kw({theme:i,styles:e,props:n,stylesCtx:r||void 0})}}const nge={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function rge({theme:t,options:e,unstyled:n}){return xr((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||nge[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function ige({selector:t,stylesCtx:e,options:n,props:r,theme:i}){return p1({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:e})[t]}function jD({selector:t,stylesCtx:e,theme:n,classNames:r,props:i}){return p1({theme:n,classNames:r,props:i,stylesCtx:e})[t]}function sge({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function oge({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function age({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:r}){return r===!1?[]:t.map(i=>`${e}-${i}-${n}`)}function lge({themeName:t,theme:e,selector:n,props:r,stylesCtx:i}){return t.map(s=>{var o,a;return(a=p1({theme:e,classNames:(o=e.components[s])==null?void 0:o.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function cge({options:t,classes:e,selector:n,unstyled:r}){return t!=null&&t.variant&&!r?e[`${n}--${t.variant}`]:void 0}function uge({theme:t,options:e,themeName:n,selector:r,classNamesPrefix:i,classNames:s,classes:o,unstyled:a,className:l,rootSelector:c,props:u,stylesCtx:d,withStaticClasses:f,headless:h,transformedStyles:m}){return xr(rge({theme:t,options:e,unstyled:a||h}),lge({theme:t,themeName:n,selector:r,props:u,stylesCtx:d}),cge({options:e,classes:o,selector:r,unstyled:a}),jD({selector:r,stylesCtx:d,theme:t,classNames:s,props:u}),jD({selector:r,stylesCtx:d,theme:t,classNames:m,props:u}),ige({selector:r,stylesCtx:d,options:e,props:u,theme:t}),sge({rootSelector:c,selector:r,className:l}),oge({selector:r,classes:o,unstyled:a||h}),f&&!h&&age({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function dge({theme:t,themeName:e,props:n,stylesCtx:r,selector:i}){return e.map(s=>{var o;return Kw({theme:t,styles:(o=t.components[s])==null?void 0:o.styles,props:n,stylesCtx:r})[i]}).reduce((s,o)=>({...s,...o}),{})}function Tj({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...Tj({style:r,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function fge(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(r=>{e[r]={...e[r],...lT(n[r])}}),e),{})}function hge({vars:t,varsResolver:e,theme:n,props:r,stylesCtx:i,selector:s,themeName:o,headless:a}){var l;return(l=fge([a?{}:e==null?void 0:e(n,r,i),...o.map(c=>{var u,d,f;return(f=(d=(u=n.components)==null?void 0:u[c])==null?void 0:d.vars)==null?void 0:f.call(d,n,r,i)}),t==null?void 0:t(n,r,i)]))==null?void 0:l[s]}function pge({theme:t,themeName:e,selector:n,options:r,props:i,stylesCtx:s,rootSelector:o,styles:a,style:l,vars:c,varsResolver:u,headless:d,withStylesTransform:f}){return{...!f&&dge({theme:t,themeName:e,props:i,stylesCtx:s,selector:n}),...!f&&Kw({theme:t,styles:a,props:i,stylesCtx:s})[n],...!f&&Kw({theme:t,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:s})[n],...hge({theme:t,props:i,stylesCtx:s,vars:c,varsResolver:u,selector:n,themeName:e,headless:d}),...o===n?Tj({style:l,theme:t}):null,...Tj({style:r==null?void 0:r.style,theme:t})}}function mge({props:t,stylesCtx:e,themeName:n}){var o;const r=Zi(),i=(o=Rme())==null?void 0:o();return{getTransformedStyles:a=>i?[...a.map(c=>i(c,{props:t,theme:r,ctx:e})),...n.map(c=>{var u;return i((u=r.components[c])==null?void 0:u.styles,{props:t,theme:r,ctx:e})})].filter(Boolean):[],withStylesTransform:!!i}}function it({name:t,classes:e,props:n,stylesCtx:r,className:i,style:s,rootSelector:o="root",unstyled:a,classNames:l,styles:c,vars:u,varsResolver:d}){const f=Zi(),h=Eme(),m=_me(),g=Tme(),y=(Array.isArray(t)?t:[t]).filter(w=>w),{withStylesTransform:O,getTransformedStyles:b}=mge({props:n,stylesCtx:r,themeName:y});return(w,x)=>({className:uge({theme:f,options:x,themeName:y,selector:w,classNamesPrefix:h,classNames:l,classes:e,unstyled:a,className:i,rootSelector:o,props:n,stylesCtx:r,withStaticClasses:m,headless:g,transformedStyles:b([x==null?void 0:x.styles,c])}),style:pge({theme:f,themeName:y,selector:w,options:x,props:n,stylesCtx:r,rootSelector:o,styles:c,style:s,vars:u,varsResolver:d,headless:g,withStylesTransform:O})})}function mT(t,e){return typeof t=="boolean"?t:e.autoContrast}function ND(t){const e=document.createElement("style");return e.setAttribute("data-mantine-styles","inline"),e.innerHTML="*, *::before, *::after {transition: none !important;}",e.setAttribute("data-mantine-disable-transition","true"),t&&e.setAttribute("nonce",t),document.head.appendChild(e),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function gge({keepTransitions:t}={}){const e=S.useRef(Hw),n=S.useRef(-1),r=S.useContext(dT),i=m1(),s=S.useRef(i==null?void 0:i());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const o=d=>{r.setColorScheme(d),e.current=t?()=>{}:ND(s.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{var f;(f=e.current)==null||f.call(e)},10)},a=()=>{r.clearColorScheme(),e.current=t?()=>{}:ND(s.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{var d;(d=e.current)==null||d.call(e)},10)},l=lme("light",{getInitialValueInEffect:!1}),c=r.colorScheme==="auto"?l:r.colorScheme,u=S.useCallback(()=>o(c==="light"?"dark":"light"),[o,c]);return S.useEffect(()=>()=>{var d;(d=e.current)==null||d.call(e),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:o,clearColorScheme:a,toggleColorScheme:u}}function Ce(t,e,n){var o;const r=Zi(),i=(o=r.components[t])==null?void 0:o.defaultProps,s=typeof i=="function"?i(r):i;return{...e,...s,...lT(n)}}function c$(t){return Jo(t).reduce((e,n)=>t[n]!==void 0?`${e}${Upe(n)}:${t[n]};`:e,"").trim()}function yge({selector:t,styles:e,media:n,container:r}){const i=e?c$(e):"",s=Array.isArray(n)?n.map(a=>`@media${a.query}{${t}{${c$(a.styles)}}}`):[],o=Array.isArray(r)?r.map(a=>`@container ${a.query}{${t}{${c$(a.styles)}}}`):[];return`${i?`${t}{${i}}`:""}${s.join("")}${o.join("")}`.trim()}function Oge(t){const e=m1();return p.jsx("style",{"data-mantine-styles":"inline",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:yge(t)}})}function fp(t){const{m:e,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:l,ms:c,p:u,px:d,py:f,pt:h,pb:m,pl:g,pr:y,pe:O,ps:b,bd:w,bg:x,c:v,opacity:k,ff:$,fz:C,fw:N,lts:P,ta:R,lh:T,fs:A,tt:j,td:E,w:_,miw:Q,maw:M,h:L,mih:V,mah:W,bgsz:H,bgp:le,bgr:fe,bga:U,pos:ee,top:re,left:J,bottom:q,right:oe,inset:B,display:ie,flex:ce,hiddenFrom:de,visibleFrom:z,lightHidden:ne,darkHidden:X,sx:ae,...se}=t;return{styleProps:lT({m:e,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:l,ms:c,p:u,px:d,py:f,pt:h,pb:m,pl:g,pr:y,pe:O,ps:b,bd:w,bg:x,c:v,opacity:k,ff:$,fz:C,fw:N,lts:P,ta:R,lh:T,fs:A,tt:j,td:E,w:_,miw:Q,maw:M,h:L,mih:V,mah:W,bgsz:H,bgp:le,bgr:fe,bga:U,pos:ee,top:re,left:J,bottom:q,right:oe,inset:B,display:ie,flex:ce,hiddenFrom:de,visibleFrom:z,lightHidden:ne,darkHidden:X,sx:ae}),rest:se}}const bge={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function gT(t,e){const n=nu({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function xge(t,e){const n=nu({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:gT(t,e)}function wge(t,e){if(typeof t=="number")return be(t);if(typeof t=="string"){const[n,r,...i]=t.split(" ").filter(o=>o.trim()!=="");let s=`${be(n)}`;return r&&(s+=` ${r}`),i.length>0&&(s+=` ${gT(i.join(" "),e)}`),s.trim()}return t}const ED={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function vge(t){return typeof t=="string"&&t in ED?ED[t]:t}const Sge=["h1","h2","h3","h4","h5","h6"];function kge(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&Sge.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?be(t):t}function $ge(t){return t}const Cge=["h1","h2","h3","h4","h5","h6"];function Pge(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&Cge.includes(t)?`var(--mantine-${t}-line-height)`:t}function jge(t){return typeof t=="number"?be(t):t}function Nge(t,e){if(typeof t=="number")return be(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return be(t);const r=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return t}const u$={color:gT,textColor:xge,fontSize:kge,spacing:Nge,identity:$ge,size:jge,lineHeight:Pge,fontFamily:vge,border:wge};function _D(t){return t.replace("(min-width: ","").replace("em)","")}function Ege({media:t,...e}){const r=Object.keys(t).sort((i,s)=>Number(_D(i))-Number(_D(s))).map(i=>({query:i,styles:t[i]}));return{...e,media:r}}function _ge(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function Tge(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function Age(t){return typeof t=="object"&&t!==null?Jo(t).filter(e=>e!=="base"):[]}function Rge(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function Mge({styleProps:t,data:e,theme:n}){return Ege(Jo(t).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const s=e[i],o=Array.isArray(s.property)?s.property:[s.property],a=Tge(t[i]);if(!_ge(t[i]))return o.forEach(c=>{r.inlineStyles[c]=u$[s.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=Age(t[i]);return o.forEach(c=>{a&&(r.styles[c]=u$[s.type](a,n)),l.forEach(u=>{const d=`(min-width: ${n.breakpoints[u]})`;r.media[d]={...r.media[d],[c]:u$[s.type](Rge(t[i],u),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function Qge(){return`__m__-${S.useId().replace(/:/g,"")}`}function FZ(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...FZ(r,e)}),{}):typeof t=="function"?t(e):t??{}}function VZ(t){return t.startsWith("data-")?t:`data-${t}`}function Ige(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r===void 0||r===""||r===!1||r===null||(e[VZ(n)]=t[n]),e},{})}function BZ(t){return t?typeof t=="string"?{[VZ(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...BZ(n)}),{}):Ige(t):null}function Aj(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...Aj(r,e)}),{}):typeof t=="function"?t(e):t??{}}function Dge({theme:t,style:e,vars:n,styleProps:r}){const i=Aj(e,t),s=Aj(n,t);return{...i,...s,...r}}const qZ=S.forwardRef(({component:t,style:e,__vars:n,className:r,variant:i,mod:s,size:o,hiddenFrom:a,visibleFrom:l,lightHidden:c,darkHidden:u,renderRoot:d,__size:f,...h},m)=>{var C;const g=Zi(),y=t||"div",{styleProps:O,rest:b}=fp(h),w=Ame(),x=(C=w==null?void 0:w())==null?void 0:C(O.sx),v=Qge(),k=Mge({styleProps:O,theme:g,data:bge}),$={ref:m,style:Dge({theme:g,style:e,vars:n,styleProps:k.inlineStyles}),className:xr(r,x,{[v]:k.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":u,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":CZ(o)?void 0:o||void 0,size:f,...BZ(s),...b};return p.jsxs(p.Fragment,{children:[k.hasResponsiveStyles&&p.jsx(Oge,{selector:`.${v}`,styles:k.styles,media:k.media}),typeof d=="function"?d($):p.jsx(y,{...$})]})});qZ.displayName="@mantine/core/Box";const Ae=qZ;function WZ(t){return t}function Ie(t){const e=S.forwardRef(t);return e.extend=WZ,e.withProps=n=>{const r=S.forwardRef((i,s)=>p.jsx(e,{...n,...i,ref:s}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e}function ru(t){const e=S.forwardRef(t);return e.withProps=n=>{const r=S.forwardRef((i,s)=>p.jsx(e,{...n,...i,ref:s}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e.extend=WZ,e}const Lge=S.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function iu(){return S.useContext(Lge)}const[Fge,Ss]=Tl("ScrollArea.Root component was not found in tree");function $h(t,e){const n=Au(e);up(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}const Vge=S.forwardRef((t,e)=>{const{style:n,...r}=t,i=Ss(),[s,o]=S.useState(0),[a,l]=S.useState(0),c=!!(s&&a);return $h(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),$h(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?p.jsx("div",{...r,ref:e,style:{...n,width:s,height:a}}):null}),Bge=S.forwardRef((t,e)=>{const n=Ss(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(Vge,{...t,ref:e}):null}),qge={scrollHideDelay:1e3,type:"hover"},zZ=S.forwardRef((t,e)=>{const n=Ce("ScrollAreaRoot",qge,t),{type:r,scrollHideDelay:i,scrollbars:s,...o}=n,[a,l]=S.useState(null),[c,u]=S.useState(null),[d,f]=S.useState(null),[h,m]=S.useState(null),[g,y]=S.useState(null),[O,b]=S.useState(0),[w,x]=S.useState(0),[v,k]=S.useState(!1),[$,C]=S.useState(!1),N=gn(e,P=>l(P));return p.jsx(Fge,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:v,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:$,onScrollbarYEnabledChange:C,onCornerWidthChange:b,onCornerHeightChange:x},children:p.jsx(Ae,{...o,ref:N,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${O}px`,"--sa-corner-height":s!=="xy"?"0px":`${w}px`}})})});zZ.displayName="@mantine/core/ScrollAreaRoot";function ZZ(t,e){const n=t/e;return Number.isNaN(n)?0:n}function g1(t){const e=ZZ(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function UZ(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Wge(t,[e,n]){return Math.min(n,Math.max(e,t))}function TD(t,e,n="ltr"){const r=g1(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=Wge(t,l);return UZ([0,o],[0,a])(c)}function zge(t,e,n,r="ltr"){const i=g1(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return UZ([l,c],d)(t)}function XZ(t,e){return t>0&&t<e}function wc(t){return t?parseInt(t,10):0}function cd(t,e,{checkForDefaultPrevented:n=!0}={}){return r=>{t==null||t(r),(n===!1||!r.defaultPrevented)&&(e==null||e(r))}}const[Zge,GZ]=Tl("ScrollAreaScrollbar was not found in tree"),YZ=S.forwardRef((t,e)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:c,onResize:u,...d}=t,f=Ss(),[h,m]=S.useState(null),g=gn(e,C=>m(C)),y=S.useRef(null),O=S.useRef(""),{viewport:b}=f,w=n.content-n.viewport,x=Au(c),v=Au(a),k=f1(u,10),$=C=>{if(y.current){const N=C.clientX-y.current.left,P=C.clientY-y.current.top;l({x:N,y:P})}};return S.useEffect(()=>{const C=N=>{const P=N.target;(h==null?void 0:h.contains(P))&&x(N,w)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[b,h,w,x]),S.useEffect(v,[n,v]),$h(h,k),$h(f.content,k),p.jsx(Zge,{value:{scrollbar:h,hasThumb:r,onThumbChange:Au(i),onThumbPointerUp:Au(s),onThumbPositionChange:v,onThumbPointerDown:Au(o)},children:p.jsx("div",{...d,ref:g,"data-mantine-scrollbar":!0,style:{position:"absolute",...d.style},onPointerDown:cd(t.onPointerDown,C=>{C.preventDefault(),C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=h.getBoundingClientRect(),O.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",$(C))}),onPointerMove:cd(t.onPointerMove,$),onPointerUp:cd(t.onPointerUp,C=>{C.preventDefault();const N=C.target;N.hasPointerCapture(C.pointerId)&&N.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=O.current,y.current=null})})})}),HZ=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...s}=t,o=Ss(),[a,l]=S.useState(),c=S.useRef(null),u=gn(e,c,o.onScrollbarXChange);return S.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),p.jsx(YZ,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{...i,"--sa-thumb-width":`${g1(n)}px`},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),XZ(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:wc(a.paddingLeft),paddingEnd:wc(a.paddingRight)}})}})});HZ.displayName="@mantine/core/ScrollAreaScrollbarX";const JZ=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...s}=t,o=Ss(),[a,l]=S.useState(),c=S.useRef(null),u=gn(e,c,o.onScrollbarYChange);return S.useEffect(()=>{c.current&&l(window.getComputedStyle(c.current))},[]),p.jsx(YZ,{...s,"data-orientation":"vertical",ref:u,sizes:n,style:{"--sa-thumb-height":`${g1(n)}px`,...i},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),XZ(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:wc(a.paddingTop),paddingEnd:wc(a.paddingBottom)}})}})});JZ.displayName="@mantine/core/ScrollAreaScrollbarY";const y1=S.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,{dir:i}=iu(),s=Ss(),o=S.useRef(null),a=S.useRef(0),[l,c]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ZZ(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>{o.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},f=(h,m)=>zge(h,a.current,l,m);return n==="horizontal"?p.jsx(HZ,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,m=TD(h,l,i);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,i))}}):n==="vertical"?p.jsx(JZ,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,m=TD(h,l);l.scrollbar.size===0?o.current.style.setProperty("--thumb-opacity","0"):o.current.style.setProperty("--thumb-opacity","1"),o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null});y1.displayName="@mantine/core/ScrollAreaScrollbarVisible";const yT=S.forwardRef((t,e)=>{const n=Ss(),{forceMount:r,...i}=t,[s,o]=S.useState(!1),a=t.orientation==="horizontal",l=f1(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return $h(n.viewport,l),$h(n.content,l),r||s?p.jsx(y1,{"data-state":s?"visible":"hidden",...i,ref:e}):null});yT.displayName="@mantine/core/ScrollAreaScrollbarAuto";const KZ=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ss(),[s,o]=S.useState(!1);return S.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),n||s?p.jsx(yT,{"data-state":s?"visible":"hidden",...r,ref:e}):null});KZ.displayName="@mantine/core/ScrollAreaScrollbarHover";const Uge=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ss(),s=t.orientation==="horizontal",[o,a]=S.useState("hidden"),l=f1(()=>a("idle"),100);return S.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay]),S.useEffect(()=>{const{viewport:c}=i,u=s?"scrollLeft":"scrollTop";if(c){let d=c[u];const f=()=>{const h=c[u];d!==h&&(a("scrolling"),l()),d=h};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,s,l]),n||o!=="hidden"?p.jsx(y1,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:cd(t.onPointerEnter,()=>a("interacting")),onPointerLeave:cd(t.onPointerLeave,()=>a("idle"))}):null}),Rj=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ss(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return S.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?p.jsx(KZ,{...r,ref:e,forceMount:n}):i.type==="scroll"?p.jsx(Uge,{...r,ref:e,forceMount:n}):i.type==="auto"?p.jsx(yT,{...r,ref:e,forceMount:n}):i.type==="always"?p.jsx(y1,{...r,ref:e}):null});Rj.displayName="@mantine/core/ScrollAreaScrollbar";function Xge(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const e6=S.forwardRef((t,e)=>{const{style:n,...r}=t,i=Ss(),s=GZ(),{onThumbPositionChange:o}=s,a=gn(e,u=>s.onThumbChange(u)),l=S.useRef(void 0),c=f1(()=>{l.current&&(l.current(),l.current=void 0)},100);return S.useEffect(()=>{const{viewport:u}=i;if(u){const d=()=>{if(c(),!l.current){const f=Xge(u,o);l.current=f,o()}};return o(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[i.viewport,c,o]),p.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:cd(t.onPointerDownCapture,u=>{const f=u.target.getBoundingClientRect(),h=u.clientX-f.left,m=u.clientY-f.top;s.onThumbPointerDown({x:h,y:m})}),onPointerUp:cd(t.onPointerUp,s.onThumbPointerUp)})});e6.displayName="@mantine/core/ScrollAreaThumb";const Mj=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=GZ();return n||i.hasThumb?p.jsx(e6,{ref:e,...r}):null});Mj.displayName="@mantine/core/ScrollAreaThumb";const t6=S.forwardRef(({children:t,style:e,...n},r)=>{const i=Ss(),s=gn(r,i.onViewportChange);return p.jsx(Ae,{...n,ref:s,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e},children:p.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:t})})});t6.displayName="@mantine/core/ScrollAreaViewport";var OT={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const n6={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},Gge=(t,{scrollbarSize:e})=>({root:{"--scrollarea-scrollbar-size":be(e)}}),tO=Ie((t,e)=>{const n=Ce("ScrollArea",n6,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,scrollbarSize:l,vars:c,type:u,scrollHideDelay:d,viewportProps:f,viewportRef:h,onScrollPositionChange:m,children:g,offsetScrollbars:y,scrollbars:O,onBottomReached:b,onTopReached:w,...x}=n,[v,k]=S.useState(!1),$=it({name:"ScrollArea",props:n,classes:OT,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:Gge});return p.jsxs(zZ,{type:u==="never"?"always":u,scrollHideDelay:d,ref:e,scrollbars:O,...$("root"),...x,children:[p.jsx(t6,{...f,...$("viewport",{style:f==null?void 0:f.style}),ref:h,"data-offset-scrollbars":y===!0?"xy":y||void 0,"data-scrollbars":O||void 0,onScroll:C=>{var T;(T=f==null?void 0:f.onScroll)==null||T.call(f,C),m==null||m({x:C.currentTarget.scrollLeft,y:C.currentTarget.scrollTop});const{scrollTop:N,scrollHeight:P,clientHeight:R}=C.currentTarget;N-(P-R)>=0&&(b==null||b()),N===0&&(w==null||w())},children:g}),(O==="xy"||O==="x")&&p.jsx(Rj,{...$("scrollbar"),orientation:"horizontal","data-hidden":u==="never"||void 0,forceMount:!0,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:p.jsx(Mj,{...$("thumb")})}),(O==="xy"||O==="y")&&p.jsx(Rj,{...$("scrollbar"),orientation:"vertical","data-hidden":u==="never"||void 0,forceMount:!0,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:p.jsx(Mj,{...$("thumb")})}),p.jsx(Bge,{...$("corner"),"data-hovered":v||void 0,"data-hidden":u==="never"||void 0})]})});tO.displayName="@mantine/core/ScrollArea";const bT=Ie((t,e)=>{const{children:n,classNames:r,styles:i,scrollbarSize:s,scrollHideDelay:o,type:a,dir:l,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:m,scrollbars:g,style:y,vars:O,onBottomReached:b,onTopReached:w,...x}=Ce("ScrollAreaAutosize",n6,t);return p.jsx(Ae,{...x,ref:e,style:[{display:"flex",overflow:"auto"},y],children:p.jsx(Ae,{style:{display:"flex",flexDirection:"column",flex:1},children:p.jsx(tO,{classNames:r,styles:i,scrollHideDelay:o,scrollbarSize:s,type:a,dir:l,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:m,vars:O,scrollbars:g,onBottomReached:b,onTopReached:w,children:n})})})});tO.classes=OT;bT.displayName="@mantine/core/ScrollAreaAutosize";bT.classes=OT;tO.Autosize=bT;var r6={root:"m_87cf2631"};const Yge={__staticSelector:"UnstyledButton"},xl=ru((t,e)=>{const n=Ce("UnstyledButton",Yge,t),{className:r,component:i="button",__staticSelector:s,unstyled:o,classNames:a,styles:l,style:c,...u}=n,d=it({name:s,props:n,classes:r6,className:r,style:c,classNames:a,styles:l,unstyled:o});return p.jsx(Ae,{...d("root",{focusable:!0}),component:i,ref:e,type:i==="button"?"button":void 0,...u})});xl.classes=r6;xl.displayName="@mantine/core/UnstyledButton";var i6={root:"m_515a97f8"};const Hge={},xT=Ie((t,e)=>{const n=Ce("VisuallyHidden",Hge,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,...c}=n,u=it({name:"VisuallyHidden",classes:i6,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a});return p.jsx(Ae,{component:"span",ref:e,...u("root"),...c})});xT.classes=i6;xT.displayName="@mantine/core/VisuallyHidden";var s6={root:"m_1b7284a3"};const Jge={},Kge=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:Un(e),"--paper-shadow":uT(n)}}),wT=ru((t,e)=>{const n=Ce("Paper",Jge,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,withBorder:l,vars:c,radius:u,shadow:d,variant:f,mod:h,...m}=n,g=it({name:"Paper",props:n,classes:s6,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:Kge});return p.jsx(Ae,{ref:e,mod:[{"data-with-border":l},h],...g("root"),variant:f,...m})});wT.classes=s6;wT.displayName="@mantine/core/Paper";function O1(){return typeof window<"u"}function hp(t){return o6(t)?(t.nodeName||"").toLowerCase():"#document"}function gi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ma(t){var e;return(e=(o6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function o6(t){return O1()?t instanceof Node||t instanceof gi(t).Node:!1}function Xt(t){return O1()?t instanceof Element||t instanceof gi(t).Element:!1}function Vi(t){return O1()?t instanceof HTMLElement||t instanceof gi(t).HTMLElement:!1}function Qj(t){return!O1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gi(t).ShadowRoot}function nO(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ys(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function eye(t){return["table","td","th"].includes(hp(t))}function b1(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function vT(t){const e=x1(),n=Xt(t)?ys(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function tye(t){let e=wl(t);for(;Vi(e)&&!Qc(e);){if(vT(e))return e;if(b1(e))return null;e=wl(e)}return null}function x1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qc(t){return["html","body","#document"].includes(hp(t))}function ys(t){return gi(t).getComputedStyle(t)}function w1(t){return Xt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wl(t){if(hp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Qj(t)&&t.host||ma(t);return Qj(e)?e.host:e}function a6(t){const e=wl(t);return Qc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vi(e)&&nO(e)?e:a6(e)}function ul(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=a6(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=gi(i);if(s){const a=Ij(o);return e.concat(o,o.visualViewport||[],nO(i)?i:[],a&&n?ul(a):[])}return e.concat(i,ul(i,[],n))}function Ij(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function AD(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function Tg(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&Qj(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function l6(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function c6(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function nye(t){return sye()?!1:!RD()&&t.width===0&&t.height===0||RD()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function rye(){return/apple/i.test(navigator.vendor)}function RD(){const t=/android/i;return t.test(l6())||t.test(c6())}function iye(){return l6().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function sye(){return c6().includes("jsdom/")}function Dj(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}function oye(t){return"nativeEvent"in t}function aye(t){return t.matches("html,body")}function Bu(t){return(t==null?void 0:t.ownerDocument)||document}function d$(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function vf(t){return"composedPath"in t?t.composedPath()[0]:t.target}const lye="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function cye(t){return Vi(t)&&t.matches(lye)}const eo=Math.min,Rr=Math.max,ev=Math.round,Cb=Math.floor,Ko=t=>({x:t,y:t}),uye={left:"right",right:"left",bottom:"top",top:"bottom"},dye={start:"end",end:"start"};function Lj(t,e,n){return Rr(t,eo(e,n))}function vl(t,e){return typeof t=="function"?t(e):t}function to(t){return t.split("-")[0]}function pp(t){return t.split("-")[1]}function ST(t){return t==="x"?"y":"x"}function kT(t){return t==="y"?"height":"width"}function Sl(t){return["top","bottom"].includes(to(t))?"y":"x"}function $T(t){return ST(Sl(t))}function fye(t,e,n){n===void 0&&(n=!1);const r=pp(t),i=$T(t),s=kT(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=tv(o)),[o,tv(o)]}function hye(t){const e=tv(t);return[Fj(t),e,Fj(e)]}function Fj(t){return t.replace(/start|end/g,e=>dye[e])}function pye(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function mye(t,e,n,r){const i=pp(t);let s=pye(to(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Fj)))),s}function tv(t){return t.replace(/left|right|bottom|top/g,e=>uye[e])}function gye(t){return{top:0,right:0,bottom:0,left:0,...t}}function CT(t){return typeof t!="number"?gye(t):{top:t,right:t,bottom:t,left:t}}function Ch(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function MD(t,e,n){let{reference:r,floating:i}=t;const s=Sl(e),o=$T(e),a=kT(o),l=to(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(pp(e)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1);break}return h}const yye=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=MD(c,r,l),f=r,h={},m=0;for(let g=0;g<a.length;g++){const{name:y,fn:O}=a[g],{x:b,y:w,data:x,reset:v}=await O({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});u=b??u,d=w??d,h={...h,[y]:{...h[y],...x}},v&&m<=50&&(m++,typeof v=="object"&&(v.placement&&(f=v.placement),v.rects&&(c=v.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):v.rects),{x:u,y:d}=MD(c,f,l)),g=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function PT(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=vl(e,t),m=CT(h),y=a[f?d==="floating"?"reference":"floating":d],O=Ch(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),x=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},v=Ch(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:w,strategy:l}):b);return{top:(O.top-v.top+m.top)/x.y,bottom:(v.bottom-O.bottom+m.bottom)/x.y,left:(O.left-v.left+m.left)/x.x,right:(v.right-O.right+m.right)/x.x}}const Oye=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=vl(t,e)||{};if(c==null)return{};const d=CT(u),f={x:n,y:r},h=$T(i),m=kT(h),g=await o.getDimensions(c),y=h==="y",O=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",x=s.reference[m]+s.reference[h]-f[h]-s.floating[m],v=f[h]-s.reference[h],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let $=k?k[w]:0;(!$||!await(o.isElement==null?void 0:o.isElement(k)))&&($=a.floating[w]||s.floating[m]);const C=x/2-v/2,N=$/2-g[m]/2-1,P=eo(d[O],N),R=eo(d[b],N),T=P,A=$-g[m]-R,j=$/2-g[m]/2+C,E=Lj(T,j,A),_=!l.arrow&&pp(i)!=null&&j!==E&&s.reference[m]/2-(j<T?P:R)-g[m]/2<0,Q=_?j<T?j-T:j-A:0;return{[h]:f[h]+Q,data:{[h]:E,centerOffset:j-E-Q,..._&&{alignmentOffset:Q}},reset:_}}}),bye=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=vl(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const O=to(i),b=Sl(a),w=to(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),v=f||(w||!g?[tv(a)]:hye(a)),k=m!=="none";!f&&k&&v.push(...mye(a,g,m,x));const $=[a,...v],C=await PT(e,y),N=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&N.push(C[O]),d){const j=fye(i,o,x);N.push(C[j[0]],C[j[1]])}if(P=[...P,{placement:i,overflows:N}],!N.every(j=>j<=0)){var R,T;const j=(((R=s.flip)==null?void 0:R.index)||0)+1,E=$[j];if(E)return{data:{index:j,overflows:P},reset:{placement:E}};let _=(T=P.filter(Q=>Q.overflows[0]<=0).sort((Q,M)=>Q.overflows[1]-M.overflows[1])[0])==null?void 0:T.placement;if(!_)switch(h){case"bestFit":{var A;const Q=(A=P.filter(M=>{if(k){const L=Sl(M.placement);return L===b||L==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(L=>L>0).reduce((L,V)=>L+V,0)]).sort((M,L)=>M[1]-L[1])[0])==null?void 0:A[0];Q&&(_=Q);break}case"initialPlacement":_=a;break}if(i!==_)return{reset:{placement:_}}}return{}}}};function u6(t){const e=eo(...t.map(s=>s.left)),n=eo(...t.map(s=>s.top)),r=Rr(...t.map(s=>s.right)),i=Rr(...t.map(s=>s.bottom));return{x:e,y:n,width:r-e,height:i-n}}function xye(t){const e=t.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<e.length;i++){const s=e[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>Ch(u6(i)))}const wye=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=e,{padding:a=2,x:l,y:c}=vl(t,e),u=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),d=xye(u),f=Ch(u6(u)),h=CT(a);function m(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&c!=null)return d.find(y=>l>y.left-h.left&&l<y.right+h.right&&c>y.top-h.top&&c<y.bottom+h.bottom)||f;if(d.length>=2){if(Sl(n)==="y"){const P=d[0],R=d[d.length-1],T=to(n)==="top",A=P.top,j=R.bottom,E=T?P.left:R.left,_=T?P.right:R.right,Q=_-E,M=j-A;return{top:A,bottom:j,left:E,right:_,width:Q,height:M,x:E,y:A}}const y=to(n)==="left",O=Rr(...d.map(P=>P.right)),b=eo(...d.map(P=>P.left)),w=d.filter(P=>y?P.left===b:P.right===O),x=w[0].top,v=w[w.length-1].bottom,k=b,$=O,C=$-k,N=v-x;return{top:x,bottom:v,left:k,right:$,width:C,height:N,x:k,y:x}}return f}const g=await s.getElementRects({reference:{getBoundingClientRect:m},floating:r.floating,strategy:o});return i.reference.x!==g.reference.x||i.reference.y!==g.reference.y||i.reference.width!==g.reference.width||i.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function vye(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=to(n),a=pp(n),l=Sl(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=vl(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const Sye=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await vye(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},kye=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:O,y:b}=y;return{x:O,y:b}}},...l}=vl(t,e),c={x:n,y:r},u=await PT(e,l),d=Sl(to(i)),f=ST(d);let h=c[f],m=c[d];if(s){const y=f==="y"?"top":"left",O=f==="y"?"bottom":"right",b=h+u[y],w=h-u[O];h=Lj(b,h,w)}if(o){const y=d==="y"?"top":"left",O=d==="y"?"bottom":"right",b=m+u[y],w=m-u[O];m=Lj(b,m,w)}const g=a.fn({...e,[f]:h,[d]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:s,[d]:o}}}}}},$ye=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=vl(t,e),u={x:n,y:r},d=Sl(i),f=ST(d);let h=u[f],m=u[d];const g=vl(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=f==="y"?"height":"width",x=s.reference[f]-s.floating[w]+y.mainAxis,v=s.reference[f]+s.reference[w]-y.mainAxis;h<x?h=x:h>v&&(h=v)}if(c){var O,b;const w=f==="y"?"width":"height",x=["top","left"].includes(to(i)),v=s.reference[d]-s.floating[w]+(x&&((O=o.offset)==null?void 0:O[d])||0)+(x?0:y.crossAxis),k=s.reference[d]+s.reference[w]+(x?0:((b=o.offset)==null?void 0:b[d])||0)-(x?y.crossAxis:0);m<v?m=v:m>k&&(m=k)}return{[f]:h,[d]:m}}}},Cye=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=vl(t,e),u=await PT(e,c),d=to(i),f=pp(i),h=Sl(i)==="y",{width:m,height:g}=s.floating;let y,O;d==="top"||d==="bottom"?(y=d,O=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(O=d,y=f==="end"?"top":"bottom");const b=g-u.top-u.bottom,w=m-u.left-u.right,x=eo(g-u[y],b),v=eo(m-u[O],w),k=!e.middlewareData.shift;let $=x,C=v;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&($=b),k&&!f){const P=Rr(u.left,0),R=Rr(u.right,0),T=Rr(u.top,0),A=Rr(u.bottom,0);h?C=m-2*(P!==0||R!==0?P+R:Rr(u.left,u.right)):$=g-2*(T!==0||A!==0?T+A:Rr(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:$});const N=await o.getDimensions(a.floating);return m!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function d6(t){const e=ys(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Vi(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=ev(n)!==s||ev(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function jT(t){return Xt(t)?t:t.contextElement}function Wf(t){const e=jT(t);if(!Vi(e))return Ko(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=d6(e);let o=(s?ev(n.width):n.width)/r,a=(s?ev(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Pye=Ko(0);function f6(t){const e=gi(t);return!x1()||!e.visualViewport?Pye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jye(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gi(t)?!1:e}function yd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=jT(t);let o=Ko(1);e&&(r?Xt(r)&&(o=Wf(r)):o=Wf(t));const a=jye(s,n,r)?f6(s):Ko(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const f=gi(s),h=r&&Xt(r)?gi(r):r;let m=f,g=Ij(m);for(;g&&r&&h!==m;){const y=Wf(g),O=g.getBoundingClientRect(),b=ys(g),w=O.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,x=O.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=w,c+=x,m=gi(g),g=Ij(m)}}return Ch({width:u,height:d,x:l,y:c})}function NT(t,e){const n=w1(t).scrollLeft;return e?e.left+n:yd(ma(t)).left+n}function h6(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:NT(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Nye(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ma(r),a=e?b1(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Ko(1);const u=Ko(0),d=Vi(r);if((d||!d&&!s)&&((hp(r)!=="body"||nO(o))&&(l=w1(r)),Vi(r))){const h=yd(r);c=Wf(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const f=o&&!d&&!s?h6(o,l,!0):Ko(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function Eye(t){return Array.from(t.getClientRects())}function _ye(t){const e=ma(t),n=w1(t),r=t.ownerDocument.body,i=Rr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Rr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+NT(t);const a=-n.scrollTop;return ys(r).direction==="rtl"&&(o+=Rr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Tye(t,e){const n=gi(t),r=ma(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=x1();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Aye(t,e){const n=yd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Vi(t)?Wf(t):Ko(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function QD(t,e,n){let r;if(e==="viewport")r=Tye(t,n);else if(e==="document")r=_ye(ma(t));else if(Xt(e))r=Aye(e,n);else{const i=f6(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ch(r)}function p6(t,e){const n=wl(t);return n===e||!Xt(n)||Qc(n)?!1:ys(n).position==="fixed"||p6(n,e)}function Rye(t,e){const n=e.get(t);if(n)return n;let r=ul(t,[],!1).filter(a=>Xt(a)&&hp(a)!=="body"),i=null;const s=ys(t).position==="fixed";let o=s?wl(t):t;for(;Xt(o)&&!Qc(o);){const a=ys(o),l=vT(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||nO(o)&&!l&&p6(t,o))?r=r.filter(u=>u!==o):i=a,o=wl(o)}return e.set(t,r),r}function Mye(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?b1(e)?[]:Rye(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=QD(e,u,i);return c.top=Rr(d.top,c.top),c.right=eo(d.right,c.right),c.bottom=eo(d.bottom,c.bottom),c.left=Rr(d.left,c.left),c},QD(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Qye(t){const{width:e,height:n}=d6(t);return{width:e,height:n}}function Iye(t,e,n){const r=Vi(e),i=ma(e),s=n==="fixed",o=yd(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ko(0);if(r||!r&&!s)if((hp(e)!=="body"||nO(i))&&(a=w1(e)),r){const f=yd(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=NT(i));const c=i&&!r&&!s?h6(i,a):Ko(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function f$(t){return ys(t).position==="static"}function ID(t,e){if(!Vi(t)||ys(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ma(t)===n&&(n=n.ownerDocument.body),n}function m6(t,e){const n=gi(t);if(b1(t))return n;if(!Vi(t)){let i=wl(t);for(;i&&!Qc(i);){if(Xt(i)&&!f$(i))return i;i=wl(i)}return n}let r=ID(t,e);for(;r&&eye(r)&&f$(r);)r=ID(r,e);return r&&Qc(r)&&f$(r)&&!vT(r)?n:r||tye(t)||n}const Dye=async function(t){const e=this.getOffsetParent||m6,n=this.getDimensions,r=await n(t.floating);return{reference:Iye(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Lye(t){return ys(t).direction==="rtl"}const Fye={convertOffsetParentRelativeRectToViewportRelativeRect:Nye,getDocumentElement:ma,getClippingRect:Mye,getOffsetParent:m6,getElementRects:Dye,getClientRects:Eye,getDimensions:Qye,getScale:Wf,isElement:Xt,isRTL:Lye};function g6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Vye(t,e){let n=null,r;const i=ma(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(a||e(),!f||!h)return;const m=Cb(d),g=Cb(i.clientWidth-(u+f)),y=Cb(i.clientHeight-(d+h)),O=Cb(u),w={rootMargin:-m+"px "+-g+"px "+-y+"px "+-O+"px",threshold:Rr(0,eo(1,l))||1};let x=!0;function v(k){const $=k[0].intersectionRatio;if($!==l){if(!x)return o();$?o(!1,$):r=setTimeout(()=>{o(!1,1e-7)},1e3)}$===1&&!g6(c,t.getBoundingClientRect())&&o(),x=!1}try{n=new IntersectionObserver(v,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(v,w)}n.observe(t)}return o(!0),s}function Bye(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=jT(t),u=i||s?[...c?ul(c):[],...ul(e)]:[];u.forEach(O=>{i&&O.addEventListener("scroll",n,{passive:!0}),s&&O.addEventListener("resize",n)});const d=c&&a?Vye(c,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(O=>{let[b]=O;b&&b.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let m,g=l?yd(t):null;l&&y();function y(){const O=yd(t);g&&!g6(g,O)&&n(),g=O,m=requestAnimationFrame(y)}return n(),()=>{var O;u.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d==null||d(),(O=h)==null||O.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const qye=Sye,Wye=kye,zye=bye,Zye=Cye,DD=Oye,Uye=wye,Xye=$ye,Gye=(t,e,n)=>{const r=new Map,i={platform:Fye,...n},s={...i.platform,_c:r};return yye(t,e,{...i,platform:s})};var zx=typeof document<"u"?S.useLayoutEffect:S.useEffect;function nv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!nv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!nv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function y6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function LD(t,e){const n=y6(t);return Math.round(e*n)/n}function h$(t){const e=S.useRef(t);return zx(()=>{e.current=t}),e}function Yye(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=S.useState(r);nv(f,r)||h(r);const[m,g]=S.useState(null),[y,O]=S.useState(null),b=S.useCallback(M=>{M!==k.current&&(k.current=M,g(M))},[]),w=S.useCallback(M=>{M!==$.current&&($.current=M,O(M))},[]),x=s||m,v=o||y,k=S.useRef(null),$=S.useRef(null),C=S.useRef(u),N=l!=null,P=h$(l),R=h$(i),T=h$(c),A=S.useCallback(()=>{if(!k.current||!$.current)return;const M={placement:e,strategy:n,middleware:f};R.current&&(M.platform=R.current),Gye(k.current,$.current,M).then(L=>{const V={...L,isPositioned:T.current!==!1};j.current&&!nv(C.current,V)&&(C.current=V,Ky.flushSync(()=>{d(V)}))})},[f,e,n,R,T]);zx(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(M=>({...M,isPositioned:!1})))},[c]);const j=S.useRef(!1);zx(()=>(j.current=!0,()=>{j.current=!1}),[]),zx(()=>{if(x&&(k.current=x),v&&($.current=v),x&&v){if(P.current)return P.current(x,v,A);A()}},[x,v,A,P,N]);const E=S.useMemo(()=>({reference:k,floating:$,setReference:b,setFloating:w}),[b,w]),_=S.useMemo(()=>({reference:x,floating:v}),[x,v]),Q=S.useMemo(()=>{const M={position:n,left:0,top:0};if(!_.floating)return M;const L=LD(_.floating,u.x),V=LD(_.floating,u.y);return a?{...M,transform:"translate("+L+"px, "+V+"px)",...y6(_.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:V}},[n,a,_.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:A,refs:E,elements:_,floatingStyles:Q}),[u,A,E,_,Q])}const Hye=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?DD({element:r.current,padding:i}).fn(n):{}:r?DD({element:r,padding:i}).fn(n):{}}}},O6=(t,e)=>({...qye(t),options:[t,e]}),ET=(t,e)=>({...Wye(t),options:[t,e]}),FD=(t,e)=>({...Xye(t),options:[t,e]}),rv=(t,e)=>({...zye(t),options:[t,e]}),Jye=(t,e)=>({...Zye(t),options:[t,e]}),sg=(t,e)=>({...Uye(t),options:[t,e]}),b6=(t,e)=>({...Hye(t),options:[t,e]}),x6={...Due},Kye=x6.useInsertionEffect,eOe=Kye||(t=>t());function Ha(t){const e=S.useRef(()=>{});return eOe(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var ea=typeof document<"u"?S.useLayoutEffect:S.useEffect;let VD=!1,tOe=0;const BD=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tOe++;function nOe(){const[t,e]=S.useState(()=>VD?BD():void 0);return ea(()=>{t==null&&e(BD())},[]),S.useEffect(()=>{VD=!0},[]),t}const rOe=x6.useId,w6=rOe||nOe;function iOe(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const sOe=S.createContext(null),oOe=S.createContext(null),_T=()=>{var t;return((t=S.useContext(sOe))==null?void 0:t.id)||null},TT=()=>S.useContext(oOe);function AT(t){return"data-floating-ui-"+t}function p$(t){const e=S.useRef(t);return ea(()=>{e.current=t}),e}const qD=AT("safe-polygon");function Zx(t,e,n){return n&&!Dj(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}function aOe(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=t,{enabled:a=!0,delay:l=0,handleClose:c=null,mouseOnly:u=!1,restMs:d=0,move:f=!0}=e,h=TT(),m=_T(),g=p$(c),y=p$(l),O=p$(n),b=S.useRef(),w=S.useRef(-1),x=S.useRef(),v=S.useRef(-1),k=S.useRef(!0),$=S.useRef(!1),C=S.useRef(()=>{}),N=S.useRef(!1),P=S.useCallback(()=>{var Q;const M=(Q=i.current.openEvent)==null?void 0:Q.type;return(M==null?void 0:M.includes("mouse"))&&M!=="mousedown"},[i]);S.useEffect(()=>{if(!a)return;function Q(M){let{open:L}=M;L||(clearTimeout(w.current),clearTimeout(v.current),k.current=!0,N.current=!1)}return s.on("openchange",Q),()=>{s.off("openchange",Q)}},[a,s]),S.useEffect(()=>{if(!a||!g.current||!n)return;function Q(L){P()&&r(!1,L,"hover")}const M=Bu(o.floating).documentElement;return M.addEventListener("mouseleave",Q),()=>{M.removeEventListener("mouseleave",Q)}},[o.floating,n,r,a,g,P]);const R=S.useCallback(function(Q,M,L){M===void 0&&(M=!0),L===void 0&&(L="hover");const V=Zx(y.current,"close",b.current);V&&!x.current?(clearTimeout(w.current),w.current=window.setTimeout(()=>r(!1,Q,L),V)):M&&(clearTimeout(w.current),r(!1,Q,L))},[y,r]),T=Ha(()=>{C.current(),x.current=void 0}),A=Ha(()=>{if($.current){const Q=Bu(o.floating).body;Q.style.pointerEvents="",Q.removeAttribute(qD),$.current=!1}}),j=Ha(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);S.useEffect(()=>{if(!a)return;function Q(W){if(clearTimeout(w.current),k.current=!1,u&&!Dj(b.current)||d>0&&!Zx(y.current,"open"))return;const H=Zx(y.current,"open",b.current);H?w.current=window.setTimeout(()=>{O.current||r(!0,W,"hover")},H):n||r(!0,W,"hover")}function M(W){if(j())return;C.current();const H=Bu(o.floating);if(clearTimeout(v.current),N.current=!1,g.current&&i.current.floatingContext){n||clearTimeout(w.current),x.current=g.current({...i.current.floatingContext,tree:h,x:W.clientX,y:W.clientY,onClose(){A(),T(),j()||R(W,!0,"safe-polygon")}});const fe=x.current;H.addEventListener("mousemove",fe),C.current=()=>{H.removeEventListener("mousemove",fe)};return}(b.current==="touch"?!Tg(o.floating,W.relatedTarget):!0)&&R(W)}function L(W){j()||i.current.floatingContext&&(g.current==null||g.current({...i.current.floatingContext,tree:h,x:W.clientX,y:W.clientY,onClose(){A(),T(),j()||R(W)}})(W))}if(Xt(o.domReference)){var V;const W=o.domReference;return n&&W.addEventListener("mouseleave",L),(V=o.floating)==null||V.addEventListener("mouseleave",L),f&&W.addEventListener("mousemove",Q,{once:!0}),W.addEventListener("mouseenter",Q),W.addEventListener("mouseleave",M),()=>{var H;n&&W.removeEventListener("mouseleave",L),(H=o.floating)==null||H.removeEventListener("mouseleave",L),f&&W.removeEventListener("mousemove",Q),W.removeEventListener("mouseenter",Q),W.removeEventListener("mouseleave",M)}}},[o,a,t,u,d,f,R,T,A,r,n,O,h,y,g,i,j]),ea(()=>{var Q;if(a&&n&&(Q=g.current)!=null&&Q.__options.blockPointerEvents&&P()){$.current=!0;const L=o.floating;if(Xt(o.domReference)&&L){var M;const V=Bu(o.floating).body;V.setAttribute(qD,"");const W=o.domReference,H=h==null||(M=h.nodesRef.current.find(le=>le.id===m))==null||(M=M.context)==null?void 0:M.elements.floating;return H&&(H.style.pointerEvents=""),V.style.pointerEvents="none",W.style.pointerEvents="auto",L.style.pointerEvents="auto",()=>{V.style.pointerEvents="",W.style.pointerEvents="",L.style.pointerEvents=""}}}},[a,n,m,o,h,g,P]),ea(()=>{n||(b.current=void 0,N.current=!1,T(),A())},[n,T,A]),S.useEffect(()=>()=>{T(),clearTimeout(w.current),clearTimeout(v.current),A()},[a,o.domReference,T,A]);const E=S.useMemo(()=>{function Q(M){b.current=M.pointerType}return{onPointerDown:Q,onPointerEnter:Q,onMouseMove(M){const{nativeEvent:L}=M;function V(){!k.current&&!O.current&&r(!0,L,"hover")}u&&!Dj(b.current)||n||d===0||N.current&&M.movementX**2+M.movementY**2<2||(clearTimeout(v.current),b.current==="touch"?V():(N.current=!0,v.current=window.setTimeout(V,d)))}}},[u,r,n,O,d]),_=S.useMemo(()=>({onMouseEnter(){clearTimeout(w.current)},onMouseLeave(Q){j()||R(Q.nativeEvent,!1)}}),[R,j]);return S.useMemo(()=>a?{reference:E,floating:_}:{},[a,E,_])}const Vj=()=>{},v6=S.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Vj,setState:Vj,isInstantPhase:!1}),S6=()=>S.useContext(v6);function lOe(t){const{children:e,delay:n,timeoutMs:r=0}=t,[i,s]=S.useReducer((l,c)=>({...l,...c}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=S.useRef(null),a=S.useCallback(l=>{s({currentId:l})},[]);return ea(()=>{i.currentId?o.current===null?o.current=i.currentId:i.isInstantPhase||s({isInstantPhase:!0}):(i.isInstantPhase&&s({isInstantPhase:!1}),o.current=null)},[i.currentId,i.isInstantPhase]),S.createElement(v6.Provider,{value:S.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,a])},e)}function cOe(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,floatingId:i}=t,{id:s,enabled:o=!0}=e,a=s??i,l=S6(),{currentId:c,setCurrentId:u,initialDelay:d,setState:f,timeoutMs:h}=l;return ea(()=>{o&&c&&(f({delay:{open:1,close:Zx(d,"close")}}),c!==a&&r(!1))},[o,a,r,f,c,d]),ea(()=>{function m(){r(!1),f({delay:d,currentId:null})}if(o&&c&&!n&&c===a){if(h){const g=window.setTimeout(m,h);return()=>{clearTimeout(g)}}m()}},[o,n,f,c,a,r,d,h]),ea(()=>{o&&(u===Vj||!n||u(a))},[o,n,u,a]),l}function m$(t,e){let n=t.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=t.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const uOe="data-floating-ui-focusable",dOe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},fOe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},WD=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function hOe(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=t,{enabled:o=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:u=!1,referencePressEvent:d="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:m}=e,g=TT(),y=Ha(typeof l=="function"?l:()=>!1),O=typeof l=="function"?y:l,b=S.useRef(!1),w=S.useRef(!1),{escapeKey:x,outsidePress:v}=WD(h),{escapeKey:k,outsidePress:$}=WD(m),C=S.useRef(!1),N=Ha(E=>{var _;if(!n||!o||!a||E.key!=="Escape"||C.current)return;const Q=(_=s.current.floatingContext)==null?void 0:_.nodeId,M=g?m$(g.nodesRef.current,Q):[];if(!x&&(E.stopPropagation(),M.length>0)){let L=!0;if(M.forEach(V=>{var W;if((W=V.context)!=null&&W.open&&!V.context.dataRef.current.__escapeKeyBubbles){L=!1;return}}),!L)return}r(!1,oye(E)?E.nativeEvent:E,"escape-key")}),P=Ha(E=>{var _;const Q=()=>{var M;N(E),(M=vf(E))==null||M.removeEventListener("keydown",Q)};(_=vf(E))==null||_.addEventListener("keydown",Q)}),R=Ha(E=>{var _;const Q=b.current;b.current=!1;const M=w.current;if(w.current=!1,c==="click"&&M||Q||typeof O=="function"&&!O(E))return;const L=vf(E),V="["+AT("inert")+"]",W=Bu(i.floating).querySelectorAll(V);let H=Xt(L)?L:null;for(;H&&!Qc(H);){const ee=wl(H);if(Qc(ee)||!Xt(ee))break;H=ee}if(W.length&&Xt(L)&&!aye(L)&&!Tg(L,i.floating)&&Array.from(W).every(ee=>!Tg(H,ee)))return;if(Vi(L)&&j){const ee=L.clientWidth>0&&L.scrollWidth>L.clientWidth,re=L.clientHeight>0&&L.scrollHeight>L.clientHeight;let J=re&&E.offsetX>L.clientWidth;if(re&&ys(L).direction==="rtl"&&(J=E.offsetX<=L.offsetWidth-L.clientWidth),J||ee&&E.offsetY>L.clientHeight)return}const le=(_=s.current.floatingContext)==null?void 0:_.nodeId,fe=g&&m$(g.nodesRef.current,le).some(ee=>{var re;return d$(E,(re=ee.context)==null?void 0:re.elements.floating)});if(d$(E,i.floating)||d$(E,i.domReference)||fe)return;const U=g?m$(g.nodesRef.current,le):[];if(U.length>0){let ee=!0;if(U.forEach(re=>{var J;if((J=re.context)!=null&&J.open&&!re.context.dataRef.current.__outsidePressBubbles){ee=!1;return}}),!ee)return}r(!1,E,"outside-press")}),T=Ha(E=>{var _;const Q=()=>{var M;R(E),(M=vf(E))==null||M.removeEventListener(c,Q)};(_=vf(E))==null||_.addEventListener(c,Q)});S.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=x,s.current.__outsidePressBubbles=v;let E=-1;function _(W){r(!1,W,"ancestor-scroll")}function Q(){window.clearTimeout(E),C.current=!0}function M(){E=window.setTimeout(()=>{C.current=!1},x1()?5:0)}const L=Bu(i.floating);a&&(L.addEventListener("keydown",k?P:N,k),L.addEventListener("compositionstart",Q),L.addEventListener("compositionend",M)),O&&L.addEventListener(c,$?T:R,$);let V=[];return f&&(Xt(i.domReference)&&(V=ul(i.domReference)),Xt(i.floating)&&(V=V.concat(ul(i.floating))),!Xt(i.reference)&&i.reference&&i.reference.contextElement&&(V=V.concat(ul(i.reference.contextElement)))),V=V.filter(W=>{var H;return W!==((H=L.defaultView)==null?void 0:H.visualViewport)}),V.forEach(W=>{W.addEventListener("scroll",_,{passive:!0})}),()=>{a&&(L.removeEventListener("keydown",k?P:N,k),L.removeEventListener("compositionstart",Q),L.removeEventListener("compositionend",M)),O&&L.removeEventListener(c,$?T:R,$),V.forEach(W=>{W.removeEventListener("scroll",_)}),window.clearTimeout(E)}},[s,i,a,O,c,n,r,f,o,x,v,N,k,P,R,$,T]),S.useEffect(()=>{b.current=!1},[O,c]);const A=S.useMemo(()=>({onKeyDown:N,[dOe[d]]:E=>{u&&r(!1,E.nativeEvent,"reference-press")}}),[N,r,u,d]),j=S.useMemo(()=>({onKeyDown:N,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[fOe[c]]:()=>{b.current=!0}}),[N,c]);return S.useMemo(()=>o?{reference:A,floating:j}:{},[o,A,j])}function pOe(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=w6(),s=S.useRef({}),[o]=S.useState(()=>iOe()),a=_T()!=null,[l,c]=S.useState(r.reference),u=Ha((h,m,g)=>{s.current.openEvent=h?m:void 0,o.emit("openchange",{open:h,event:m,reason:g,nested:a}),n==null||n(h,m,g)}),d=S.useMemo(()=>({setPositionReference:c}),[]),f=S.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return S.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:f,events:o,floatingId:i,refs:d}),[e,u,f,o,i,d])}function RT(t){t===void 0&&(t={});const{nodeId:e}=t,n=pOe({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=S.useState(null),[a,l]=S.useState(null),u=(i==null?void 0:i.domReference)||s,d=S.useRef(null),f=TT();ea(()=>{u&&(d.current=u)},[u]);const h=Yye({...t,elements:{...i,...a&&{reference:a}}}),m=S.useCallback(w=>{const x=Xt(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(x),h.refs.setReference(x)},[h.refs]),g=S.useCallback(w=>{(Xt(w)||w===null)&&(d.current=w,o(w)),(Xt(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!Xt(w))&&h.refs.setReference(w)},[h.refs]),y=S.useMemo(()=>({...h.refs,setReference:g,setPositionReference:m,domReference:d}),[h.refs,g,m]),O=S.useMemo(()=>({...h.elements,domReference:u}),[h.elements,u]),b=S.useMemo(()=>({...h,...r,refs:y,elements:O,nodeId:e}),[h,y,O,e,r]);return ea(()=>{r.dataRef.current.floatingContext=b;const w=f==null?void 0:f.nodesRef.current.find(x=>x.id===e);w&&(w.context=b)}),S.useMemo(()=>({...h,context:b,refs:y,elements:O}),[h,y,O,b])}function mOe(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=t,{enabled:a=!0,visibleOnly:l=!0}=e,c=S.useRef(!1),u=S.useRef(),d=S.useRef(!0);S.useEffect(()=>{if(!a)return;const h=gi(o.domReference);function m(){!n&&Vi(o.domReference)&&o.domReference===AD(Bu(o.domReference))&&(c.current=!0)}function g(){d.current=!0}return h.addEventListener("blur",m),h.addEventListener("keydown",g,!0),()=>{h.removeEventListener("blur",m),h.removeEventListener("keydown",g,!0)}},[o.domReference,n,a]),S.useEffect(()=>{if(!a)return;function h(m){let{reason:g}=m;(g==="reference-press"||g==="escape-key")&&(c.current=!0)}return i.on("openchange",h),()=>{i.off("openchange",h)}},[i,a]),S.useEffect(()=>()=>{clearTimeout(u.current)},[]);const f=S.useMemo(()=>({onPointerDown(h){nye(h.nativeEvent)||(d.current=!1)},onMouseLeave(){c.current=!1},onFocus(h){if(c.current)return;const m=vf(h.nativeEvent);if(l&&Xt(m))try{if(rye()&&iye())throw Error();if(!m.matches(":focus-visible"))return}catch{if(!d.current&&!cye(m))return}r(!0,h.nativeEvent,"focus")},onBlur(h){c.current=!1;const m=h.relatedTarget,g=h.nativeEvent,y=Xt(m)&&m.hasAttribute(AT("focus-guard"))&&m.getAttribute("data-type")==="outside";u.current=window.setTimeout(()=>{var O;const b=AD(o.domReference?o.domReference.ownerDocument:document);!m&&b===o.domReference||Tg((O=s.current.floatingContext)==null?void 0:O.refs.floating.current,b)||Tg(o.domReference,b)||y||r(!1,g,"focus")})}}),[s,o.domReference,r,l]);return S.useMemo(()=>a?{reference:f}:{},[a,f])}const zD="active",ZD="selected";function g$(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[zD]:o,[ZD]:a,...l}=t;s=l}return{...n==="floating"&&{tabIndex:-1,[uOe]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[zD,ZD].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var d;(d=r.get(c))==null||d.push(u),o[c]=function(){for(var f,h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return(f=r.get(c))==null?void 0:f.map(y=>y(...m)).find(y=>y!==void 0)}}}else o[c]=u}),o),{})}}function gOe(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=S.useCallback(a=>g$(a,t,"reference"),e),s=S.useCallback(a=>g$(a,t,"floating"),n),o=S.useCallback(a=>g$(a,t,"item"),r);return S.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}const yOe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function OOe(t,e){var n;e===void 0&&(e={});const{open:r,floatingId:i}=t,{enabled:s=!0,role:o="dialog"}=e,a=(n=yOe.get(o))!=null?n:o,l=w6(),u=_T()!=null,d=S.useMemo(()=>a==="tooltip"||o==="label"?{["aria-"+(o==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&u&&{role:"menuitem"},...o==="select"&&{"aria-autocomplete":"none"},...o==="combobox"&&{"aria-autocomplete":"list"}},[a,i,u,r,l,o]),f=S.useMemo(()=>{const m={id:i,...a&&{role:a}};return a==="tooltip"||o==="label"?m:{...m,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,o]),h=S.useCallback(m=>{let{active:g,selected:y}=m;const O={role:"option",...g&&{id:i+"-option"}};switch(o){case"select":return{...O,"aria-selected":g&&y};case"combobox":return{...O,...g&&{"aria-selected":!0}}}return{}},[i,o]);return S.useMemo(()=>s?{reference:d,floating:f,item:h}:{},[s,d,f,h])}function k6(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,r]=e.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return e}function UD(t,e,n,r){return t==="center"||r==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function XD(t,e,n,r,i){return t==="center"||r==="center"?{left:e}:t==="end"?{[i==="ltr"?"right":"left"]:n}:t==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const bOe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function xOe({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:s,arrowY:o,dir:a}){const[l,c="center"]=t.split("-"),u={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[bOe[l]]:r},d=-e/2;return l==="left"?{...u,...UD(c,o,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:l==="right"?{...u,...UD(c,o,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:l==="top"?{...u,...XD(c,s,n,i,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:l==="bottom"?{...u,...XD(c,s,n,i,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const MT=S.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:s,arrowX:o,arrowY:a,style:l,...c},u)=>{const{dir:d}=iu();return s?p.jsx("div",{...c,ref:u,style:{...l,...xOe({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:o,arrowY:a})}}):null});MT.displayName="@mantine/core/FloatingArrow";var $6={root:"m_9814e45f"};const wOe={zIndex:co("modal")},vOe=(t,{gradient:e,color:n,backgroundOpacity:r,blur:i,radius:s,zIndex:o})=>({root:{"--overlay-bg":e||(n!==void 0||r!==void 0)&&Ao(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${be(i)})`:void 0,"--overlay-radius":s===void 0?void 0:Un(s),"--overlay-z-index":o==null?void 0:o.toString()}}),v1=ru((t,e)=>{const n=Ce("Overlay",wOe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,fixed:c,center:u,children:d,radius:f,zIndex:h,gradient:m,blur:g,color:y,backgroundOpacity:O,mod:b,...w}=n,x=it({name:"Overlay",props:n,classes:$6,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:vOe});return p.jsx(Ae,{ref:e,...x("root"),mod:[{center:u,fixed:c},b],...w,children:d})});v1.classes=$6;v1.displayName="@mantine/core/Overlay";function SOe(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}const kOe={},C6=S.forwardRef((t,e)=>{const{children:n,target:r,...i}=Ce("Portal",kOe,t),[s,o]=S.useState(!1),a=S.useRef(null);return up(()=>(o(!0),a.current=r?typeof r=="string"?document.querySelector(r):r:SOe(i),Jw(e,a.current),!r&&a.current&&document.body.appendChild(a.current),()=>{!r&&a.current&&document.body.removeChild(a.current)}),[r]),!s||!a.current?null:Ky.createPortal(p.jsx(p.Fragment,{children:n}),a.current)});C6.displayName="@mantine/core/Portal";function Vd({withinPortal:t=!0,children:e,...n}){return t?p.jsx(C6,{...n,children:e}):p.jsx(p.Fragment,{children:e})}Vd.displayName="@mantine/core/OptionalPortal";const dm=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Pb={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...dm("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...dm("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...dm("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...dm("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...dm("top"),common:{transformOrigin:"top right"}}},GD={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function $Oe({transition:t,state:e,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof t=="string"?t in Pb?{transitionProperty:Pb[t].transitionProperty,...i,...Pb[t].common,...Pb[t][GD[e]]}:{}:{transitionProperty:t.transitionProperty,...i,...t.common,...t[GD[e]]}}function COe({duration:t,exitDuration:e,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a,enterDelay:l,exitDelay:c}){const u=Zi(),d=AZ(),f=u.respectReducedMotion?d:!1,[h,m]=S.useState(f?0:t),[g,y]=S.useState(r?"entered":"exited"),O=S.useRef(-1),b=S.useRef(-1),w=S.useRef(-1),x=k=>{const $=k?i:s,C=k?o:a;window.clearTimeout(O.current);const N=f?0:k?t:e;m(N),N===0?(typeof $=="function"&&$(),typeof C=="function"&&C(),y(k?"entered":"exited")):w.current=requestAnimationFrame(()=>{Nf.flushSync(()=>{y(k?"pre-entering":"pre-exiting")}),w.current=requestAnimationFrame(()=>{typeof $=="function"&&$(),y(k?"entering":"exiting"),O.current=window.setTimeout(()=>{typeof C=="function"&&C(),y(k?"entered":"exited")},N)})})},v=k=>{if(window.clearTimeout(b.current),typeof(k?l:c)!="number"){x(k);return}b.current=window.setTimeout(()=>{x(k)},k?l:c)};return Mc(()=>{v(r)},[r]),S.useEffect(()=>()=>{window.clearTimeout(O.current),cancelAnimationFrame(w.current)},[]),{transitionDuration:h,transitionStatus:g,transitionTimingFunction:n||"ease"}}function su({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:r=n,mounted:i,children:s,timingFunction:o="ease",onExit:a,onEntered:l,onEnter:c,onExited:u,enterDelay:d,exitDelay:f}){const{transitionDuration:h,transitionStatus:m,transitionTimingFunction:g}=COe({mounted:i,exitDuration:r,duration:n,timingFunction:o,onExit:a,onEntered:l,onEnter:c,onExited:u,enterDelay:d,exitDelay:f});return h===0?i?p.jsx(p.Fragment,{children:s({})}):t?s({display:"none"}):null:m==="exited"?t?s({display:"none"}):null:p.jsx(p.Fragment,{children:s($Oe({transition:e,duration:h,state:m,timingFunction:g}))})}su.displayName="@mantine/core/Transition";const[POe,P6]=Tl("Popover component was not found in the tree");function S1({children:t,active:e=!0,refProp:n="ref",innerRef:r}){const i=pme(e),s=gn(i,r);return tu(t)?S.cloneElement(t,{[n]:s}):t}function j6(t){return p.jsx(xT,{tabIndex:-1,"data-autofocus":!0,...t})}S1.displayName="@mantine/core/FocusTrap";j6.displayName="@mantine/core/FocusTrapInitialFocus";S1.InitialFocus=j6;var N6={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const jOe={},QT=Ie((t,e)=>{var y,O,b,w;const n=Ce("PopoverDropdown",jOe,t),{className:r,style:i,vars:s,children:o,onKeyDownCapture:a,variant:l,classNames:c,styles:u,...d}=n,f=P6(),h=NZ({opened:f.opened,shouldReturnFocus:f.returnFocus}),m=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},g=gn(e,f.floating);return f.disabled?null:p.jsx(Vd,{...f.portalProps,withinPortal:f.withinPortal,children:p.jsx(su,{mounted:f.opened,...f.transitionProps,transition:((y=f.transitionProps)==null?void 0:y.transition)||"fade",duration:((O=f.transitionProps)==null?void 0:O.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((b=f.transitionProps)==null?void 0:b.exitDuration)=="number"?f.transitionProps.exitDuration:(w=f.transitionProps)==null?void 0:w.duration,children:x=>p.jsx(S1,{active:f.trapFocus&&f.opened,innerRef:g,children:p.jsxs(Ae,{...m,...d,variant:l,onKeyDownCapture:eme(f.onClose,{active:f.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:r,props:n,classNames:c,styles:u,style:[{...x,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:be(f.width)},f.resolvedStyles.dropdown,u==null?void 0:u.dropdown,i]}),children:[o,p.jsx(MT,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:c,styles:u})})]})})})})});QT.classes=N6;QT.displayName="@mantine/core/PopoverDropdown";const NOe={refProp:"ref",popupType:"dialog"},E6=Ie((t,e)=>{const{children:n,refProp:r,popupType:i,...s}=Ce("PopoverTarget",NOe,t);if(!tu(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=s,a=P6(),l=gn(a.reference,h1(n),e),c=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return S.cloneElement(n,{...o,...c,...a.targetProps,className:xr(a.targetProps.className,o.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});E6.displayName="@mantine/core/PopoverTarget";function _6({opened:t,floating:e,position:n,positionDependencies:r}){const[i,s]=S.useState(0);S.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current&&t)return Bye(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,t,i,n]),Mc(()=>{e.update()},r),Mc(()=>{s(o=>o+1)},[t])}function EOe(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function _Oe(t,e){const n=EOe(t.middlewares),r=[O6(t.offset)];return n.shift&&r.push(ET(typeof n.shift=="boolean"?{limiter:FD(),padding:5}:{limiter:FD(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?rv():rv(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?sg():sg(n.inline)),r.push(b6({element:t.arrowRef,padding:t.arrowOffset})),(n.size||t.width==="target")&&r.push(Jye({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:s,availableHeight:o,...a}){var u;const c=((u=e().refs.floating.current)==null?void 0:u.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:i,availableWidth:s,availableHeight:o,...a}):Object.assign(c,{maxWidth:`${s}px`,maxHeight:`${o}px`})),t.width==="target"&&Object.assign(c,{width:`${i.reference.width}px`})}})),r}function TOe(t){const[e,n]=Oi({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),r=S.useRef(e),i=()=>{e&&n(!1)},s=()=>n(!e),o=RT({strategy:t.strategy,placement:t.position,middleware:_Oe(t,()=>o)});return _6({opened:e,position:t.position,positionDependencies:t.positionDependencies||[],floating:o}),Mc(()=>{var a;(a=t.onPositionChange)==null||a.call(t,o.placement)},[o.placement]),Mc(()=>{var a,l;e!==r.current&&(e?(l=t.onOpen)==null||l.call(t):(a=t.onClose)==null||a.call(t)),r.current=e},[e,t.onClose,t.onOpen]),{floating:o,controlled:typeof t.opened=="boolean",opened:e,onClose:i,onToggle:s}}const AOe={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:co("popover"),__staticSelector:"Popover",width:"max-content"},ROe=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:Un(e),"--popover-shadow":uT(n)}});function yi(t){var ue,he,ye,ke,Pe,et;const e=Ce("Popover",AOe,t),{children:n,position:r,offset:i,onPositionChange:s,positionDependencies:o,opened:a,transitionProps:l,onExitTransitionEnd:c,onEnterTransitionEnd:u,width:d,middlewares:f,withArrow:h,arrowSize:m,arrowOffset:g,arrowRadius:y,arrowPosition:O,unstyled:b,classNames:w,styles:x,closeOnClickOutside:v,withinPortal:k,portalProps:$,closeOnEscape:C,clickOutsideEvents:N,trapFocus:P,onClose:R,onOpen:T,onChange:A,zIndex:j,radius:E,shadow:_,id:Q,defaultOpened:M,__staticSelector:L,withRoles:V,disabled:W,returnFocus:H,variant:le,keepMounted:fe,vars:U,floatingStrategy:ee,withOverlay:re,overlayProps:J,...q}=e,oe=it({name:L,props:e,classes:N6,classNames:w,styles:x,unstyled:b,rootSelector:"dropdown",vars:U,varsResolver:ROe}),{resolvedStyles:B}=dp({classNames:w,styles:x,props:e}),ie=S.useRef(null),[ce,de]=S.useState(null),[z,ne]=S.useState(null),{dir:X}=iu(),ae=vs(Q),se=TOe({middlewares:f,width:d,position:k6(X,r),offset:typeof i=="number"?i+(h?m/2:0):i,arrowRef:ie,arrowOffset:g,onPositionChange:s,positionDependencies:o,opened:a,defaultOpened:M,onChange:A,onOpen:T,onClose:R,strategy:ee});sme(()=>v&&se.onClose(),N,[ce,z]);const te=S.useCallback(He=>{de(He),se.floating.refs.setReference(He)},[se.floating.refs.setReference]),ge=S.useCallback(He=>{ne(He),se.floating.refs.setFloating(He)},[se.floating.refs.setFloating]),pe=S.useCallback(()=>{var He;(He=l==null?void 0:l.onExited)==null||He.call(l),c==null||c()},[l==null?void 0:l.onExited,c]),me=S.useCallback(()=>{var He;(He=l==null?void 0:l.onEntered)==null||He.call(l),u==null||u()},[l==null?void 0:l.onEntered,u]);return p.jsxs(POe,{value:{returnFocus:H,disabled:W,controlled:se.controlled,reference:te,floating:ge,x:se.floating.x,y:se.floating.y,arrowX:(ye=(he=(ue=se.floating)==null?void 0:ue.middlewareData)==null?void 0:he.arrow)==null?void 0:ye.x,arrowY:(et=(Pe=(ke=se.floating)==null?void 0:ke.middlewareData)==null?void 0:Pe.arrow)==null?void 0:et.y,opened:se.opened,arrowRef:ie,transitionProps:{...l,onExited:pe,onEntered:me},width:d,withArrow:h,arrowSize:m,arrowOffset:g,arrowRadius:y,arrowPosition:O,placement:se.floating.placement,trapFocus:P,withinPortal:k,portalProps:$,zIndex:j,radius:E,shadow:_,closeOnEscape:C,onClose:se.onClose,onToggle:se.onToggle,getTargetId:()=>`${ae}-target`,getDropdownId:()=>`${ae}-dropdown`,withRoles:V,targetProps:q,__staticSelector:L,classNames:w,styles:x,unstyled:b,variant:le,keepMounted:fe,getStyles:oe,resolvedStyles:B,floatingStrategy:ee},children:[n,re&&p.jsx(su,{transition:"fade",mounted:se.opened,duration:(l==null?void 0:l.duration)||250,exitDuration:(l==null?void 0:l.exitDuration)||250,children:He=>p.jsx(Vd,{withinPortal:k,children:p.jsx(v1,{...J,...oe("overlay",{className:J==null?void 0:J.className,style:[He,J==null?void 0:J.style]})})})})]})}yi.Target=E6;yi.Dropdown=QT;yi.displayName="@mantine/core/Popover";yi.extend=t=>t;var Us={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const T6=S.forwardRef(({className:t,...e},n)=>p.jsxs(Ae,{component:"span",className:xr(Us.barsLoader,t),...e,ref:n,children:[p.jsx("span",{className:Us.bar}),p.jsx("span",{className:Us.bar}),p.jsx("span",{className:Us.bar})]}));T6.displayName="@mantine/core/Bars";const A6=S.forwardRef(({className:t,...e},n)=>p.jsxs(Ae,{component:"span",className:xr(Us.dotsLoader,t),...e,ref:n,children:[p.jsx("span",{className:Us.dot}),p.jsx("span",{className:Us.dot}),p.jsx("span",{className:Us.dot})]}));A6.displayName="@mantine/core/Dots";const R6=S.forwardRef(({className:t,...e},n)=>p.jsx(Ae,{component:"span",className:xr(Us.ovalLoader,t),...e,ref:n}));R6.displayName="@mantine/core/Oval";const M6={bars:T6,oval:R6,dots:A6},MOe={loaders:M6,type:"oval"},QOe=(t,{size:e,color:n})=>({root:{"--loader-size":wt(e,"loader-size"),"--loader-color":n?Dr(n,t):void 0}}),rO=Ie((t,e)=>{const n=Ce("Loader",MOe,t),{size:r,color:i,type:s,vars:o,className:a,style:l,classNames:c,styles:u,unstyled:d,loaders:f,variant:h,children:m,...g}=n,y=it({name:"Loader",props:n,classes:Us,className:a,style:l,classNames:c,styles:u,unstyled:d,vars:o,varsResolver:QOe});return m?p.jsx(Ae,{...y("root"),ref:e,...g,children:m}):p.jsx(Ae,{...y("root"),ref:e,component:f[s],variant:h,size:r,...g})});rO.defaultLoaders=M6;rO.classes=Us;rO.displayName="@mantine/core/Loader";const Q6=S.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},r)=>p.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:r,...n,children:p.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));Q6.displayName="@mantine/core/CloseIcon";var I6={root:"m_86a44da5","root--subtle":"m_220c80f2"};const IOe={variant:"subtle"},DOe=(t,{size:e,radius:n,iconSize:r})=>({root:{"--cb-size":wt(e,"cb-size"),"--cb-radius":n===void 0?void 0:Un(n),"--cb-icon-size":be(r)}}),mp=ru((t,e)=>{const n=Ce("CloseButton",IOe,t),{iconSize:r,children:i,vars:s,radius:o,className:a,classNames:l,style:c,styles:u,unstyled:d,"data-disabled":f,disabled:h,variant:m,icon:g,mod:y,__staticSelector:O,...b}=n,w=it({name:O||"CloseButton",props:n,className:a,style:c,classes:I6,classNames:l,styles:u,unstyled:d,vars:s,varsResolver:DOe});return p.jsxs(xl,{ref:e,...b,unstyled:d,variant:m,disabled:h,mod:[{disabled:h||f},y],...w("root",{variant:m,active:!h&&!f}),children:[g||p.jsx(Q6,{}),i]})});mp.classes=I6;mp.displayName="@mantine/core/CloseButton";function LOe(t){return S.Children.toArray(t).filter(Boolean)}var D6={root:"m_4081bf90"};const FOe={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},VOe=(t,{grow:e,preventGrowOverflow:n,gap:r,align:i,justify:s,wrap:o},{childWidth:a})=>({root:{"--group-child-width":e&&n?a:void 0,"--group-gap":cT(r),"--group-align":i,"--group-justify":s,"--group-wrap":o}}),IT=Ie((t,e)=>{const n=Ce("Group",FOe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,children:l,gap:c,align:u,justify:d,wrap:f,grow:h,preventGrowOverflow:m,vars:g,variant:y,__size:O,mod:b,...w}=n,x=LOe(l),v=x.length,k=cT(c??"md"),C={childWidth:`calc(${100/v}% - (${k} - ${k} / ${v}))`},N=it({name:"Group",props:n,stylesCtx:C,className:i,style:s,classes:D6,classNames:r,styles:o,unstyled:a,vars:g,varsResolver:VOe});return p.jsx(Ae,{...N("root"),ref:e,variant:y,mod:[{grow:h},b],size:O,...w,children:x})});IT.classes=D6;IT.displayName="@mantine/core/Group";const[BOe,Al]=Tl("ModalBase component was not found in tree");function qOe({opened:t,transitionDuration:e}){const[n,r]=S.useState(t),i=S.useRef(-1),o=AZ()?0:e;return S.useEffect(()=>(t?(r(!0),window.clearTimeout(i.current)):o===0?r(!1):i.current=window.setTimeout(()=>r(!1),o),()=>window.clearTimeout(i.current)),[t,o]),n}function WOe({id:t,transitionProps:e,opened:n,trapFocus:r,closeOnEscape:i,onClose:s,returnFocus:o}){const a=vs(t),[l,c]=S.useState(!1),[u,d]=S.useState(!1),f=typeof(e==null?void 0:e.duration)=="number"?e==null?void 0:e.duration:200,h=qOe({opened:n,transitionDuration:f});return yme("keydown",m=>{var g;m.key==="Escape"&&i&&n&&((g=m.target)==null?void 0:g.getAttribute("data-mantine-stop-propagation"))!=="true"&&s()},{capture:!0}),NZ({opened:n,shouldReturnFocus:r&&o}),{_id:a,titleMounted:l,bodyMounted:u,shouldLockScroll:h,setTitleMounted:c,setBodyMounted:d}}const L6=S.forwardRef(({keepMounted:t,opened:e,onClose:n,id:r,transitionProps:i,onExitTransitionEnd:s,onEnterTransitionEnd:o,trapFocus:a,closeOnEscape:l,returnFocus:c,closeOnClickOutside:u,withinPortal:d,portalProps:f,lockScroll:h,children:m,zIndex:g,shadow:y,padding:O,__vars:b,unstyled:w,removeScrollProps:x,...v},k)=>{const{_id:$,titleMounted:C,bodyMounted:N,shouldLockScroll:P,setTitleMounted:R,setBodyMounted:T}=WOe({id:r,transitionProps:i,opened:e,trapFocus:a,closeOnEscape:l,onClose:n,returnFocus:c}),{key:A,...j}=x||{};return p.jsx(Vd,{...f,withinPortal:d,children:p.jsx(BOe,{value:{opened:e,onClose:n,closeOnClickOutside:u,onExitTransitionEnd:s,onEnterTransitionEnd:o,transitionProps:{...i,keepMounted:t},getTitleId:()=>`${$}-title`,getBodyId:()=>`${$}-body`,titleMounted:C,bodyMounted:N,setTitleMounted:R,setBodyMounted:T,trapFocus:a,closeOnEscape:l,zIndex:g,unstyled:w},children:p.jsx(kZ,{enabled:P&&h,...j,children:p.jsx(Ae,{ref:k,...v,__vars:{...b,"--mb-z-index":(g||co("modal")).toString(),"--mb-shadow":uT(y),"--mb-padding":cT(O)},children:m})},A)})})});L6.displayName="@mantine/core/ModalBase";function zOe(){const t=Al();return S.useEffect(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),t.getBodyId()}var Ph={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const F6=S.forwardRef(({className:t,...e},n)=>{const r=zOe(),i=Al();return p.jsx(Ae,{ref:n,...e,id:r,className:xr({[Ph.body]:!i.unstyled},t)})});F6.displayName="@mantine/core/ModalBaseBody";const V6=S.forwardRef(({className:t,onClick:e,...n},r)=>{const i=Al();return p.jsx(mp,{ref:r,...n,onClick:s=>{i.onClose(),e==null||e(s)},className:xr({[Ph.close]:!i.unstyled},t),unstyled:i.unstyled})});V6.displayName="@mantine/core/ModalBaseCloseButton";const B6=S.forwardRef(({transitionProps:t,className:e,innerProps:n,onKeyDown:r,style:i,...s},o)=>{const a=Al();return p.jsx(su,{mounted:a.opened,transition:"pop",...a.transitionProps,onExited:()=>{var l,c,u;(l=a.onExitTransitionEnd)==null||l.call(a),(u=(c=a.transitionProps)==null?void 0:c.onExited)==null||u.call(c)},onEntered:()=>{var l,c,u;(l=a.onEnterTransitionEnd)==null||l.call(a),(u=(c=a.transitionProps)==null?void 0:c.onEntered)==null||u.call(c)},...t,children:l=>p.jsx("div",{...n,className:xr({[Ph.inner]:!a.unstyled},n.className),children:p.jsx(S1,{active:a.opened&&a.trapFocus,innerRef:o,children:p.jsx(wT,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[i,l],className:xr({[Ph.content]:!a.unstyled},e),unstyled:a.unstyled,children:s.children})})})})});B6.displayName="@mantine/core/ModalBaseContent";const q6=S.forwardRef(({className:t,...e},n)=>{const r=Al();return p.jsx(Ae,{component:"header",ref:n,className:xr({[Ph.header]:!r.unstyled},t),...e})});q6.displayName="@mantine/core/ModalBaseHeader";const ZOe={duration:200,timingFunction:"ease",transition:"fade"};function UOe(t){const e=Al();return{...ZOe,...e.transitionProps,...t}}const W6=S.forwardRef(({onClick:t,transitionProps:e,style:n,visible:r,...i},s)=>{const o=Al(),a=UOe(e);return p.jsx(su,{mounted:r!==void 0?r:o.opened,...a,transition:"fade",children:l=>p.jsx(v1,{ref:s,fixed:!0,style:[n,l],zIndex:o.zIndex,unstyled:o.unstyled,onClick:c=>{t==null||t(c),o.closeOnClickOutside&&o.onClose()},...i})})});W6.displayName="@mantine/core/ModalBaseOverlay";function XOe(){const t=Al();return S.useEffect(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),t.getTitleId()}const z6=S.forwardRef(({className:t,...e},n)=>{const r=XOe(),i=Al();return p.jsx(Ae,{component:"h2",ref:n,className:xr({[Ph.title]:!i.unstyled},t),...e,id:r})});z6.displayName="@mantine/core/ModalBaseTitle";function GOe({children:t}){return p.jsx(p.Fragment,{children:t})}const[YOe,HOe]=Ld({size:"sm"}),JOe={},Z6=Ie((t,e)=>{const n=Ce("InputClearButton",JOe,t),{size:r,variant:i,vars:s,classNames:o,styles:a,...l}=n,c=HOe(),{resolvedClassNames:u,resolvedStyles:d}=dp({classNames:o,styles:a,props:n});return p.jsx(mp,{variant:i||"transparent",ref:e,size:r||(c==null?void 0:c.size)||"sm",classNames:u,styles:d,__staticSelector:"InputClearButton",...l})});Z6.displayName="@mantine/core/InputClearButton";const[KOe,gp]=Ld({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var ks={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const YD={},ebe=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${Jr(e)} - ${be(2)})`}}),k1=Ie((t,e)=>{const n=Ce("InputDescription",YD,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:c,__staticSelector:u,__inheritStyles:d=!0,variant:f,...h}=Ce("InputDescription",YD,n),m=gp(),g=it({name:["InputWrapper",u],props:n,classes:ks,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"description",vars:l,varsResolver:ebe}),y=d&&(m==null?void 0:m.getStyles)||g;return p.jsx(Ae,{component:"p",ref:e,variant:f,size:c,...y("description",m!=null&&m.getStyles?{className:i,style:s}:void 0),...h})});k1.classes=ks;k1.displayName="@mantine/core/InputDescription";const tbe={},nbe=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${Jr(e)} - ${be(2)})`}}),$1=Ie((t,e)=>{const n=Ce("InputError",tbe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:c,__staticSelector:u,__inheritStyles:d=!0,variant:f,...h}=n,m=it({name:["InputWrapper",u],props:n,classes:ks,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"error",vars:l,varsResolver:nbe}),g=gp(),y=d&&(g==null?void 0:g.getStyles)||m;return p.jsx(Ae,{component:"p",ref:e,variant:f,size:c,...y("error",g!=null&&g.getStyles?{className:i,style:s}:void 0),...h})});$1.classes=ks;$1.displayName="@mantine/core/InputError";const HD={labelElement:"label"},rbe=(t,{size:e})=>({label:{"--input-label-size":Jr(e),"--input-asterisk-color":void 0}}),C1=Ie((t,e)=>{const n=Ce("InputLabel",HD,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,labelElement:c,size:u,required:d,htmlFor:f,onMouseDown:h,children:m,__staticSelector:g,variant:y,mod:O,...b}=Ce("InputLabel",HD,n),w=it({name:["InputWrapper",g],props:n,classes:ks,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"label",vars:l,varsResolver:rbe}),x=gp(),v=(x==null?void 0:x.getStyles)||w;return p.jsxs(Ae,{...v("label",x!=null&&x.getStyles?{className:i,style:s}:void 0),component:c,variant:y,size:u,ref:e,htmlFor:c==="label"?f:void 0,mod:[{required:d},O],onMouseDown:k=>{h==null||h(k),!k.defaultPrevented&&k.detail>1&&k.preventDefault()},...b,children:[m,d&&p.jsx("span",{...v("required"),"aria-hidden":!0,children:" *"})]})});C1.classes=ks;C1.displayName="@mantine/core/InputLabel";const JD={},DT=Ie((t,e)=>{const n=Ce("InputPlaceholder",JD,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:c,variant:u,error:d,mod:f,...h}=Ce("InputPlaceholder",JD,n),m=it({name:["InputPlaceholder",c],props:n,classes:ks,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"placeholder"});return p.jsx(Ae,{...m("placeholder"),mod:[{error:!!d},f],component:"span",variant:u,ref:e,...h})});DT.classes=ks;DT.displayName="@mantine/core/InputPlaceholder";function ibe(t,{hasDescription:e,hasError:n}){const r=t.findIndex(l=>l==="input"),i=t.slice(0,r),s=t.slice(r+1),o=e&&i.includes("description")||n&&i.includes("error");return{offsetBottom:e&&s.includes("description")||n&&s.includes("error"),offsetTop:o}}const sbe={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},obe=(t,{size:e})=>({label:{"--input-label-size":Jr(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${Jr(e)} - ${be(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${Jr(e)} - ${be(2)})`}}),LT=Ie((t,e)=>{const n=Ce("InputWrapper",sbe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:c,variant:u,__staticSelector:d,inputContainer:f,inputWrapperOrder:h,label:m,error:g,description:y,labelProps:O,descriptionProps:b,errorProps:w,labelElement:x,children:v,withAsterisk:k,id:$,required:C,__stylesApiProps:N,mod:P,...R}=n,T=it({name:["InputWrapper",d],props:N||n,classes:ks,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:obe}),A={size:c,variant:u,__staticSelector:d},j=vs($),E=typeof k=="boolean"?k:C,_=(w==null?void 0:w.id)||`${j}-error`,Q=(b==null?void 0:b.id)||`${j}-description`,M=j,L=!!g&&typeof g!="boolean",V=!!y,W=`${L?_:""} ${V?Q:""}`,H=W.trim().length>0?W.trim():void 0,le=(O==null?void 0:O.id)||`${j}-label`,fe=m&&p.jsx(C1,{labelElement:x,id:le,htmlFor:M,required:E,...A,...O,children:m},"label"),U=V&&p.jsx(k1,{...b,...A,size:(b==null?void 0:b.size)||A.size,id:(b==null?void 0:b.id)||Q,children:y},"description"),ee=p.jsx(S.Fragment,{children:f(v)},"input"),re=L&&S.createElement($1,{...w,...A,size:(w==null?void 0:w.size)||A.size,key:"error",id:(w==null?void 0:w.id)||_},g),J=h.map(q=>{switch(q){case"label":return fe;case"input":return ee;case"description":return U;case"error":return re;default:return null}});return p.jsx(KOe,{value:{getStyles:T,describedBy:H,inputId:M,labelId:le,...ibe(h,{hasDescription:V,hasError:L})},children:p.jsx(Ae,{ref:e,variant:u,size:c,mod:[{error:!!g},P],...T("root"),...R,children:J})})});LT.classes=ks;LT.displayName="@mantine/core/InputWrapper";const abe={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},lbe=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":wt(e.size,"input-height"),"--input-fz":Jr(e.size),"--input-radius":e.radius===void 0?void 0:Un(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?be(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?be(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?wt(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),ut=ru((t,e)=>{const n=Ce("Input",abe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,required:l,__staticSelector:c,__stylesApiProps:u,size:d,wrapperProps:f,error:h,disabled:m,leftSection:g,leftSectionProps:y,leftSectionWidth:O,rightSection:b,rightSectionProps:w,rightSectionWidth:x,rightSectionPointerEvents:v,leftSectionPointerEvents:k,variant:$,vars:C,pointer:N,multiline:P,radius:R,id:T,withAria:A,withErrorStyles:j,mod:E,inputSize:_,__clearSection:Q,__clearable:M,__defaultRightSection:L,...V}=n,{styleProps:W,rest:H}=fp(V),le=gp(),fe={offsetBottom:le==null?void 0:le.offsetBottom,offsetTop:le==null?void 0:le.offsetTop},U=it({name:["Input",c],props:u||n,classes:ks,className:i,style:s,classNames:r,styles:o,unstyled:a,stylesCtx:fe,rootSelector:"wrapper",vars:C,varsResolver:lbe}),ee=A?{required:l,disabled:m,"aria-invalid":!!h,"aria-describedby":le==null?void 0:le.describedBy,id:(le==null?void 0:le.inputId)||T}:{},re=b||M&&Q||L;return p.jsx(YOe,{value:{size:d||"sm"},children:p.jsxs(Ae,{...U("wrapper"),...W,...f,mod:[{error:!!h&&j,pointer:N,disabled:m,multiline:P,"data-with-right-section":!!b,"data-with-left-section":!!g},E],variant:$,size:d,children:[g&&p.jsx("div",{...y,"data-position":"left",...U("section",{className:y==null?void 0:y.className,style:y==null?void 0:y.style}),children:g}),p.jsx(Ae,{component:"input",...H,...ee,ref:e,required:l,mod:{disabled:m,error:!!h&&j},variant:$,__size:_,...U("input")}),re&&p.jsx("div",{...w,"data-position":"right",...U("section",{className:w==null?void 0:w.className,style:w==null?void 0:w.style}),children:re})]})})});ut.classes=ks;ut.Wrapper=LT;ut.Label=C1;ut.Error=$1;ut.Description=k1;ut.Placeholder=DT;ut.ClearButton=Z6;ut.displayName="@mantine/core/Input";function cbe(t,e,n){const r=Ce(t,e,n),{label:i,description:s,error:o,required:a,classNames:l,styles:c,className:u,unstyled:d,__staticSelector:f,__stylesApiProps:h,errorProps:m,labelProps:g,descriptionProps:y,wrapperProps:O,id:b,size:w,style:x,inputContainer:v,inputWrapperOrder:k,withAsterisk:$,variant:C,vars:N,mod:P,...R}=r,{styleProps:T,rest:A}=fp(R),j={label:i,description:s,error:o,required:a,classNames:l,className:u,__staticSelector:f,__stylesApiProps:h||r,errorProps:m,labelProps:g,descriptionProps:y,unstyled:d,styles:c,size:w,style:x,inputContainer:v,inputWrapperOrder:k,withAsterisk:$,variant:C,id:b,mod:P,...O};return{...A,classNames:l,styles:c,unstyled:d,wrapperProps:{...j,...T},inputProps:{required:a,classNames:l,styles:c,unstyled:d,size:w,__staticSelector:f,__stylesApiProps:h||r,error:o,variant:C,id:b}}}const ube={__staticSelector:"InputBase",withAria:!0},$s=ru((t,e)=>{const{inputProps:n,wrapperProps:r,...i}=cbe("InputBase",ube,t);return p.jsx(ut.Wrapper,{...r,children:p.jsx(ut,{...n,...i,ref:e})})});$s.classes={...ut.classes,...ut.Wrapper.classes};$s.displayName="@mantine/core/InputBase";function dbe(t,e){if(!e||!t)return!1;let n=e.parentNode;for(;n!=null;){if(n===t)return!0;n=n.parentNode}return!1}function fbe({target:t,parent:e,ref:n,displayAfterTransitionEnd:r}){const i=S.useRef(-1),[s,o]=S.useState(!1),[a,l]=S.useState(typeof r=="boolean"?r:!1),c=()=>{if(!t||!e||!n.current)return;const h=t.getBoundingClientRect(),m=e.getBoundingClientRect(),g=window.getComputedStyle(t),y=window.getComputedStyle(e),O=wc(g.borderTopWidth)+wc(y.borderTopWidth),b=wc(g.borderLeftWidth)+wc(y.borderLeftWidth),w={top:h.top-m.top-O,left:h.left-m.left-b,width:h.width,height:h.height};n.current.style.transform=`translateY(${w.top}px) translateX(${w.left}px)`,n.current.style.width=`${w.width}px`,n.current.style.height=`${w.height}px`},u=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),c(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},d=S.useRef(null),f=S.useRef(null);return S.useEffect(()=>{if(c(),t)return d.current=new ResizeObserver(u),d.current.observe(t),e&&(f.current=new ResizeObserver(u),f.current.observe(e)),()=>{var h,m;(h=d.current)==null||h.disconnect(),(m=f.current)==null||m.disconnect()}},[e,t]),S.useEffect(()=>{if(e){const h=m=>{dbe(m.target,e)&&(u(),l(!1))};return e.addEventListener("transitionend",h),()=>{e.removeEventListener("transitionend",h)}}},[e]),xme(()=>{RZ()!=="test"&&o(!0)},20,{autoInvoke:!0}),vme(h=>{h.forEach(m=>{m.type==="attributes"&&m.attributeName==="dir"&&u()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:s,hidden:a}}var U6={root:"m_96b553a6"};const hbe={},pbe=(t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}}),FT=Ie((t,e)=>{const n=Ce("FloatingIndicator",hbe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,target:c,parent:u,transitionDuration:d,mod:f,displayAfterTransitionEnd:h,...m}=n,g=it({name:"FloatingIndicator",classes:U6,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:pbe}),y=S.useRef(null),{initialized:O,hidden:b}=fbe({target:c,parent:u,ref:y,displayAfterTransitionEnd:h}),w=gn(e,y);return!c||!u?null:p.jsx(Ae,{ref:w,mod:[{initialized:O,hidden:b},f],...g("root"),...m})});FT.displayName="@mantine/core/FloatingIndicator";FT.classes=U6;function X6(t){return typeof t=="string"?{value:t,label:t}:"value"in t&&!("label"in t)?{value:t.value,label:t.value,disabled:t.disabled}:typeof t=="number"?{value:t.toString(),label:t.toString()}:"group"in t?{group:t.group,items:t.items.map(e=>X6(e))}:t}function G6(t){return t?t.map(e=>X6(e)):[]}function VT(t){return t.reduce((e,n)=>"group"in n?{...e,...VT(n.items)}:(e[n.value]=n,e),{})}var bi={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const mbe={error:null},gbe=(t,{size:e,color:n})=>({chevron:{"--combobox-chevron-size":wt(e,"combobox-chevron-size"),"--combobox-chevron-color":n?Dr(n,t):void 0}}),BT=Ie((t,e)=>{const n=Ce("ComboboxChevron",mbe,t),{size:r,error:i,style:s,className:o,classNames:a,styles:l,unstyled:c,vars:u,mod:d,...f}=n,h=it({name:"ComboboxChevron",classes:bi,props:n,style:s,className:o,classNames:a,styles:l,unstyled:c,vars:u,varsResolver:gbe,rootSelector:"chevron"});return p.jsx(Ae,{component:"svg",...f,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},d],ref:e,children:p.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});BT.classes=bi;BT.displayName="@mantine/core/ComboboxChevron";const[ybe,Cs]=Tl("Combobox component was not found in tree"),Y6=S.forwardRef(({size:t,onMouseDown:e,onClick:n,onClear:r,...i},s)=>p.jsx(ut.ClearButton,{ref:s,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:o=>{o.preventDefault(),e==null||e(o)},onClick:o=>{r(),n==null||n(o)}}));Y6.displayName="@mantine/core/ComboboxClearButton";const Obe={},qT=Ie((t,e)=>{const{classNames:n,styles:r,className:i,style:s,hidden:o,...a}=Ce("ComboboxDropdown",Obe,t),l=Cs();return p.jsx(yi.Dropdown,{...a,ref:e,role:"presentation","data-hidden":o||void 0,...l.getStyles("dropdown",{className:i,style:s,classNames:n,styles:r})})});qT.classes=bi;qT.displayName="@mantine/core/ComboboxDropdown";const bbe={refProp:"ref"},H6=Ie((t,e)=>{const{children:n,refProp:r}=Ce("ComboboxDropdownTarget",bbe,t);if(Cs(),!tu(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return p.jsx(yi.Target,{ref:e,refProp:r,children:n})});H6.displayName="@mantine/core/ComboboxDropdownTarget";const xbe={},WT=Ie((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ce("ComboboxEmpty",xbe,t),l=Cs();return p.jsx(Ae,{ref:e,...l.getStyles("empty",{className:r,classNames:n,styles:s,style:i}),...a})});WT.classes=bi;WT.displayName="@mantine/core/ComboboxEmpty";function zT({onKeyDown:t,withKeyboardNavigation:e,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:s}){const o=Cs(),[a,l]=S.useState(null),c=d=>{if(t==null||t(d),!o.readOnly&&e){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),o.store.dropdownOpened?l(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),l(o.store.selectActiveOption()),o.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),o.store.dropdownOpened?l(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),l(o.store.selectActiveOption()),o.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&f!==-1?(d.preventDefault(),o.store.clickSelectedOption()):i==="button"&&(d.preventDefault(),o.store.openDropdown("keyboard"))}d.key==="Escape"&&o.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&i==="button"&&(d.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(o.store.listId&&o.store.dropdownOpened)||void 0,"aria-controls":o.store.dropdownOpened?o.store.listId:void 0,"aria-activedescendant":o.store.dropdownOpened&&a||void 0,autoComplete:s,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:c}}const wbe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},J6=Ie((t,e)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:l,...c}=Ce("ComboboxEventsTarget",wbe,t);if(!tu(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=Cs(),d=zT({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:l});return S.cloneElement(n,{...d,...c,[r]:gn(e,u.store.targetRef,h1(n))})});J6.displayName="@mantine/core/ComboboxEventsTarget";const vbe={},ZT=Ie((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ce("ComboboxFooter",vbe,t),l=Cs();return p.jsx(Ae,{ref:e,...l.getStyles("footer",{className:r,classNames:n,style:i,styles:s}),...a,onMouseDown:c=>{c.preventDefault()}})});ZT.classes=bi;ZT.displayName="@mantine/core/ComboboxFooter";const Sbe={},UT=Ie((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,label:l,...c}=Ce("ComboboxGroup",Sbe,t),u=Cs();return p.jsxs(Ae,{ref:e,...u.getStyles("group",{className:r,classNames:n,style:i,styles:s}),...c,children:[l&&p.jsx("div",{...u.getStyles("groupLabel",{classNames:n,styles:s}),children:l}),a]})});UT.classes=bi;UT.displayName="@mantine/core/ComboboxGroup";const kbe={},XT=Ie((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ce("ComboboxHeader",kbe,t),l=Cs();return p.jsx(Ae,{ref:e,...l.getStyles("header",{className:r,classNames:n,style:i,styles:s}),...a,onMouseDown:c=>{c.preventDefault()}})});XT.classes=bi;XT.displayName="@mantine/core/ComboboxHeader";function K6({value:t,valuesDivider:e=",",...n}){return p.jsx("input",{type:"hidden",value:Array.isArray(t)?t.join(e):t||"",...n})}K6.displayName="@mantine/core/ComboboxHiddenInput";const $be={},GT=Ie((t,e)=>{const n=Ce("ComboboxOption",$be,t),{classNames:r,className:i,style:s,styles:o,vars:a,onClick:l,id:c,active:u,onMouseDown:d,onMouseOver:f,disabled:h,selected:m,mod:g,...y}=n,O=Cs(),b=S.useId(),w=c||b;return p.jsx(Ae,{...O.getStyles("option",{className:i,classNames:r,styles:o,style:s}),...y,ref:e,id:w,mod:["combobox-option",{"combobox-active":u,"combobox-disabled":h,"combobox-selected":m},g],role:"option",onClick:x=>{var v;h?x.preventDefault():((v=O.onOptionSubmit)==null||v.call(O,n.value,n),l==null||l(x))},onMouseDown:x=>{x.preventDefault(),d==null||d(x)},onMouseOver:x=>{O.resetSelectionOnOptionHover&&O.store.resetSelectedOption(),f==null||f(x)}})});GT.classes=bi;GT.displayName="@mantine/core/ComboboxOption";const Cbe={},YT=Ie((t,e)=>{const n=Ce("ComboboxOptions",Cbe,t),{classNames:r,className:i,style:s,styles:o,id:a,onMouseDown:l,labelledBy:c,...u}=n,d=Cs(),f=vs(a);return S.useEffect(()=>{d.store.setListId(f)},[f]),p.jsx(Ae,{ref:e,...d.getStyles("options",{className:i,style:s,classNames:r,styles:o}),...u,id:f,role:"listbox","aria-labelledby":c,onMouseDown:h=>{h.preventDefault(),l==null||l(h)}})});YT.classes=bi;YT.displayName="@mantine/core/ComboboxOptions";const Pbe={withAriaAttributes:!0,withKeyboardNavigation:!0},HT=Ie((t,e)=>{const n=Ce("ComboboxSearch",Pbe,t),{classNames:r,styles:i,unstyled:s,vars:o,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:c,size:u,...d}=n,f=Cs(),h=f.getStyles("search"),m=zT({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:c,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return p.jsx(ut,{ref:gn(e,f.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:u||f.size,...m,...d,__staticSelector:"Combobox"})});HT.classes=bi;HT.displayName="@mantine/core/ComboboxSearch";const jbe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},e7=Ie((t,e)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:l,...c}=Ce("ComboboxTarget",jbe,t);if(!tu(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=Cs(),d=zT({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:l}),f=S.cloneElement(n,{...d,...c});return p.jsx(yi.Target,{ref:gn(e,u.store.targetRef),children:f})});e7.displayName="@mantine/core/ComboboxTarget";function Nbe(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return t}function Ebe(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return t}function _be(t){for(let e=0;e<t.length;e+=1)if(!t[e].hasAttribute("data-combobox-disabled"))return e;return-1}function JT({defaultOpened:t,opened:e,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:s=!0,scrollBehavior:o="instant"}={}){const[a,l]=Oi({value:e,defaultValue:t,finalValue:!1,onChange:n}),c=S.useRef(null),u=S.useRef(-1),d=S.useRef(null),f=S.useRef(null),h=S.useRef(-1),m=S.useRef(-1),g=S.useRef(-1),y=S.useCallback((_="unknown")=>{a||(l(!0),i==null||i(_))},[l,i,a]),O=S.useCallback((_="unknown")=>{a&&(l(!1),r==null||r(_))},[l,r,a]),b=S.useCallback((_="unknown")=>{a?O(_):y(_)},[O,y,a]),w=S.useCallback(()=>{const _=document.querySelector(`#${c.current} [data-combobox-selected]`);_==null||_.removeAttribute("data-combobox-selected"),_==null||_.removeAttribute("aria-selected")},[]),x=S.useCallback(_=>{const Q=document.getElementById(c.current),M=Q==null?void 0:Q.querySelectorAll("[data-combobox-option]");if(!M)return null;const L=_>=M.length?0:_<0?M.length-1:_;return u.current=L,M!=null&&M[L]&&!M[L].hasAttribute("data-combobox-disabled")?(w(),M[L].setAttribute("data-combobox-selected","true"),M[L].setAttribute("aria-selected","true"),M[L].scrollIntoView({block:"nearest",behavior:o}),M[L].id):null},[o,w]),v=S.useCallback(()=>{const _=document.querySelector(`#${c.current} [data-combobox-active]`);if(_){const Q=document.querySelectorAll(`#${c.current} [data-combobox-option]`),M=Array.from(Q).findIndex(L=>L===_);return x(M)}return x(0)},[x]),k=S.useCallback(()=>x(Ebe(u.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),s)),[x,s]),$=S.useCallback(()=>x(Nbe(u.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),s)),[x,s]),C=S.useCallback(()=>x(_be(document.querySelectorAll(`#${c.current} [data-combobox-option]`))),[x]),N=S.useCallback((_="selected",Q)=>{g.current=window.setTimeout(()=>{var V;const M=document.querySelectorAll(`#${c.current} [data-combobox-option]`),L=Array.from(M).findIndex(W=>W.hasAttribute(`data-combobox-${_}`));u.current=L,Q!=null&&Q.scrollIntoView&&((V=M[L])==null||V.scrollIntoView({block:"nearest",behavior:o}))},0)},[]),P=S.useCallback(()=>{u.current=-1,w()},[w]),R=S.useCallback(()=>{const _=document.querySelectorAll(`#${c.current} [data-combobox-option]`),Q=_==null?void 0:_[u.current];Q==null||Q.click()},[]),T=S.useCallback(_=>{c.current=_},[]),A=S.useCallback(()=>{h.current=window.setTimeout(()=>d.current.focus(),0)},[]),j=S.useCallback(()=>{m.current=window.setTimeout(()=>f.current.focus(),0)},[]),E=S.useCallback(()=>u.current,[]);return S.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(m.current),window.clearTimeout(g.current)},[]),{dropdownOpened:a,openDropdown:y,closeDropdown:O,toggleDropdown:b,selectedOptionIndex:u.current,getSelectedOptionIndex:E,selectOption:x,selectFirstOption:C,selectActiveOption:v,selectNextOption:k,selectPreviousOption:$,resetSelectedOption:P,updateSelectedOptionIndex:N,listId:c.current,setListId:T,clickSelectedOption:R,searchRef:d,focusSearchInput:A,targetRef:f,focusTarget:j}}const Tbe={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},Abe=(t,{size:e,dropdownPadding:n})=>({options:{"--combobox-option-fz":Jr(e),"--combobox-option-padding":wt(e,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:be(n),"--combobox-option-fz":Jr(e),"--combobox-option-padding":wt(e,"combobox-option-padding")}});function yt(t){const e=Ce("Combobox",Tbe,t),{classNames:n,styles:r,unstyled:i,children:s,store:o,vars:a,onOptionSubmit:l,onClose:c,size:u,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:h,readOnly:m,...g}=e,y=JT(),O=o||y,b=it({name:h||"Combobox",classes:bi,props:e,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:Abe}),w=()=>{c==null||c(),O.closeDropdown()};return p.jsx(ybe,{value:{getStyles:b,store:O,onOptionSubmit:l,size:u,resetSelectionOnOptionHover:f,readOnly:m},children:p.jsx(yi,{opened:O.dropdownOpened,...g,onChange:x=>!x&&w(),withRoles:!1,unstyled:i,children:s})})}const Rbe=t=>t;yt.extend=Rbe;yt.classes=bi;yt.displayName="@mantine/core/Combobox";yt.Target=e7;yt.Dropdown=qT;yt.Options=YT;yt.Option=GT;yt.Search=HT;yt.Empty=WT;yt.Chevron=BT;yt.Footer=ZT;yt.Header=XT;yt.EventsTarget=J6;yt.DropdownTarget=H6;yt.Group=UT;yt.ClearButton=Y6;yt.HiddenInput=K6;var t7={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const Mbe=t7,KT=S.forwardRef(({__staticSelector:t,__stylesApiProps:e,className:n,classNames:r,styles:i,unstyled:s,children:o,label:a,description:l,id:c,disabled:u,error:d,size:f,labelPosition:h="left",bodyElement:m="div",labelElement:g="label",variant:y,style:O,vars:b,mod:w,...x},v)=>{const k=it({name:t,props:e,className:n,style:O,classes:t7,classNames:r,styles:i,unstyled:s});return p.jsx(Ae,{...k("root"),ref:v,__vars:{"--label-fz":Jr(f),"--label-lh":wt(f,"label-lh")},mod:[{"label-position":h},w],variant:y,size:f,...x,children:p.jsxs(Ae,{component:m,htmlFor:m==="label"?c:void 0,...k("body"),children:[o,p.jsxs("div",{...k("labelWrapper"),"data-disabled":u||void 0,children:[a&&p.jsx(Ae,{component:g,htmlFor:g==="label"?c:void 0,...k("label"),"data-disabled":u||void 0,children:a}),l&&p.jsx(ut.Description,{size:f,__inheritStyles:!1,...k("description"),children:l}),d&&typeof d!="boolean"&&p.jsx(ut.Error,{size:f,__inheritStyles:!1,...k("error"),children:d})]})]})})});KT.displayName="@mantine/core/InlineInput";function n7({children:t,role:e}){const n=gp();return n?p.jsx("div",{role:e,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:t}):p.jsx(p.Fragment,{children:t})}function Qbe({size:t,style:e,...n}){const r=t!==void 0?{width:be(t),height:be(t),...e}:e;return p.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:p.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function jh(t){return"group"in t}function r7({options:t,search:e,limit:n}){const r=e.trim().toLowerCase(),i=[];for(let s=0;s<t.length;s+=1){const o=t[s];if(i.length===n)return i;jh(o)&&i.push({group:o.group,items:r7({options:o.items,search:e,limit:n-i.length})}),jh(o)||o.label.toLowerCase().includes(r)&&i.push(o)}return i}function Ibe(t){if(t.length===0)return!0;for(const e of t)if(!("group"in e)||e.items.length>0)return!1;return!0}function i7(t,e=new Set){if(Array.isArray(t))for(const n of t)if(jh(n))i7(n.items,e);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(e.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);e.add(n.value)}}function Dbe(t,e){return Array.isArray(t)?t.includes(e):t===e}function s7({data:t,withCheckIcon:e,value:n,checkIconPosition:r,unstyled:i,renderOption:s}){if(!jh(t)){const a=Dbe(n,t.value),l=e&&a&&p.jsx(Qbe,{className:bi.optionsDropdownCheckIcon}),c=p.jsxs(p.Fragment,{children:[r==="left"&&l,p.jsx("span",{children:t.label}),r==="right"&&l]});return p.jsx(yt.Option,{value:t.value,disabled:t.disabled,className:xr({[bi.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof s=="function"?s({option:t,checked:a}):c})}const o=t.items.map(a=>p.jsx(s7,{data:a,value:n,unstyled:i,withCheckIcon:e,checkIconPosition:r,renderOption:s},a.value));return p.jsx(yt.Group,{label:t.group,children:o})}function o7({data:t,hidden:e,hiddenWhenEmpty:n,filter:r,search:i,limit:s,maxDropdownHeight:o,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:c=!1,value:u,checkIconPosition:d,nothingFoundMessage:f,unstyled:h,labelId:m,renderOption:g,scrollAreaProps:y,"aria-label":O}){i7(t);const w=typeof i=="string"?(r||r7)({options:t,search:l?i:"",limit:s??1/0}):t,x=Ibe(w),v=w.map(k=>p.jsx(s7,{data:k,withCheckIcon:c,value:u,checkIconPosition:d,unstyled:h,renderOption:g},jh(k)?k.group:k.value));return p.jsx(yt.Dropdown,{hidden:e||n&&x,children:p.jsxs(yt.Options,{labelledBy:m,"aria-label":O,children:[a?p.jsx(tO.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...y,children:v}):v,x&&f&&p.jsx(yt.Empty,{children:f})]})})}var yp={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const KD={orientation:"horizontal"},Lbe=(t,{borderWidth:e})=>({group:{"--button-border-width":be(e)}}),eA=Ie((t,e)=>{const n=Ce("ButtonGroup",KD,t),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:l,vars:c,borderWidth:u,variant:d,mod:f,...h}=Ce("ButtonGroup",KD,t),m=it({name:"ButtonGroup",props:n,classes:yp,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:c,varsResolver:Lbe,rootSelector:"group"});return p.jsx(Ae,{...m("group"),ref:e,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});eA.classes=yp;eA.displayName="@mantine/core/ButtonGroup";const e5={},Fbe=(t,{radius:e,color:n,gradient:r,variant:i,autoContrast:s,size:o})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:s});return{groupSection:{"--section-height":wt(o,"section-height"),"--section-padding-x":wt(o,"section-padding-x"),"--section-fz":o!=null&&o.includes("compact")?Jr(o.replace("compact-","")):Jr(o),"--section-radius":e===void 0?void 0:Un(e),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},tA=Ie((t,e)=>{const n=Ce("ButtonGroupSection",e5,t),{className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,variant:c,gradient:u,radius:d,autoContrast:f,...h}=Ce("ButtonGroupSection",e5,t),m=it({name:"ButtonGroupSection",props:n,classes:yp,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,varsResolver:Fbe,rootSelector:"groupSection"});return p.jsx(Ae,{...m("groupSection"),ref:e,variant:c,...h})});tA.classes=yp;tA.displayName="@mantine/core/ButtonGroupSection";const Vbe={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${be(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},Bbe={},qbe=(t,{radius:e,color:n,gradient:r,variant:i,size:s,justify:o,autoContrast:a})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":wt(s,"button-height"),"--button-padding-x":wt(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?Jr(s.replace("compact-","")):Jr(s),"--button-radius":e===void 0?void 0:Un(e),"--button-bg":n||i?l.background:void 0,"--button-hover":n||i?l.hover:void 0,"--button-color":l.color,"--button-bd":n||i?l.border:void 0,"--button-hover-color":n||i?l.hoverColor:void 0}}},kl=ru((t,e)=>{const n=Ce("Button",Bbe,t),{style:r,vars:i,className:s,color:o,disabled:a,children:l,leftSection:c,rightSection:u,fullWidth:d,variant:f,radius:h,loading:m,loaderProps:g,gradient:y,classNames:O,styles:b,unstyled:w,"data-disabled":x,autoContrast:v,mod:k,...$}=n,C=it({name:"Button",props:n,classes:yp,className:s,style:r,classNames:O,styles:b,unstyled:w,vars:i,varsResolver:qbe}),N=!!c,P=!!u;return p.jsxs(xl,{ref:e,...C("root",{active:!a&&!m&&!x}),unstyled:w,variant:f,disabled:a||m,mod:[{disabled:a||x,loading:m,block:d,"with-left-section":N,"with-right-section":P},k],...$,children:[p.jsx(su,{mounted:!!m,transition:Vbe,duration:150,children:R=>p.jsx(Ae,{component:"span",...C("loader",{style:R}),"aria-hidden":!0,children:p.jsx(rO,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...g})})}),p.jsxs("span",{...C("inner"),children:[c&&p.jsx(Ae,{component:"span",...C("section"),mod:{position:"left"},children:c}),p.jsx(Ae,{component:"span",mod:{loading:m},...C("label"),children:l}),u&&p.jsx(Ae,{component:"span",...C("section"),mod:{position:"right"},children:u})]})]})});kl.classes=yp;kl.displayName="@mantine/core/Button";kl.Group=eA;kl.GroupSection=tA;function Wbe({open:t,close:e,openDelay:n,closeDelay:r}){const i=S.useRef(-1),s=S.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0||n===void 0?t():i.current=window.setTimeout(t,n)},l=()=>{o(),r===0||r===void 0?e():s.current=window.setTimeout(e,r)};return S.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:l}}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(null,arguments)}function a7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var zbe=S.useLayoutEffect,Zbe=function(e){var n=we.useRef(e);return zbe(function(){n.current=e}),n},t5=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},Ube=function(e,n){var r=we.useRef();return we.useCallback(function(i){e.current=i,r.current&&t5(r.current,null),r.current=n,n&&t5(n,i)},[n])},n5={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Xbe=function(e){Object.keys(n5).forEach(function(n){e.style.setProperty(n,n5[n],"important")})},r5=Xbe,Br=null,i5=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Gbe(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Br||(Br=document.createElement("textarea"),Br.setAttribute("tabindex","-1"),Br.setAttribute("aria-hidden","true"),r5(Br)),Br.parentNode===null&&document.body.appendChild(Br);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(f){var h=f;Br.style[h]=o[h]}),r5(Br),Br.value=e;var l=i5(Br,t);Br.value=e,l=i5(Br,t),Br.value="x";var c=Br.scrollHeight-i,u=c*n;a==="border-box"&&(u=u+i+s),l=Math.max(u,l);var d=c*r;return a==="border-box"&&(d=d+i+s),l=Math.min(d,l),[l,c]}var s5=function(){},Ybe=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},Hbe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Jbe=!!document.documentElement.currentStyle,Kbe=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=Ybe(Hbe,n),i=r.boxSizing;if(i==="")return null;Jbe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},exe=Kbe;function l7(t,e,n){var r=Zbe(n);S.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(t)return t.addEventListener(e,i),function(){return t.removeEventListener(e,i)}},[])}var txe=function(e){l7(window,"resize",e)},nxe=function(e){l7(document.fonts,"loadingdone",e)},rxe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],ixe=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?s5:o,l=e.onHeightChange,c=l===void 0?s5:l,u=a7(e,rxe),d=u.value!==void 0,f=S.useRef(null),h=Ube(f,n),m=S.useRef(0),g=S.useRef(),y=function(){var w=f.current,x=r&&g.current?g.current:exe(w);if(x){g.current=x;var v=Gbe(x,w.value||w.placeholder||"x",s,i),k=v[0],$=v[1];m.current!==k&&(m.current=k,w.style.setProperty("height",k+"px","important"),c(k,{rowHeight:$}))}},O=function(w){d||y(),a(w)};return S.useLayoutEffect(y),txe(y),nxe(y),S.createElement("textarea",Nh({},u,{onChange:O,ref:h}))},sxe=S.forwardRef(ixe);const oxe={},iO=Ie((t,e)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:s,resize:o,...a}=Ce("Textarea",oxe,t),l=n&&RZ()!=="test",c=l?{maxRows:r,minRows:i}:{};return p.jsx($s,{component:l?sxe:"textarea",ref:e,...a,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":o},...c})});iO.classes=$s.classes;iO.displayName="@mantine/core/Textarea";const[axe,sO]=Tl("Menu component was not found in the tree");var Op={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const lxe={},nA=Ie((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ce("MenuDivider",lxe,t),l=sO();return p.jsx(Ae,{ref:e,...l.getStyles("divider",{className:r,style:i,styles:s,classNames:n}),...a})});nA.classes=Op;nA.displayName="@mantine/core/MenuDivider";const cxe={},rA=Ie((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,onMouseEnter:a,onMouseLeave:l,onKeyDown:c,children:u,...d}=Ce("MenuDropdown",cxe,t),f=S.useRef(null),h=sO(),m=zo(c,O=>{var b,w;(O.key==="ArrowUp"||O.key==="ArrowDown")&&(O.preventDefault(),(w=(b=f.current)==null?void 0:b.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||w.focus())}),g=zo(a,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.openDropdown()),y=zo(l,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.closeDropdown());return p.jsxs(yi.Dropdown,{...d,onMouseEnter:g,onMouseLeave:y,role:"menu","aria-orientation":"vertical",ref:gn(e,f),...h.getStyles("dropdown",{className:r,style:i,styles:s,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:m,children:[h.withInitialFocusPlaceholder&&p.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),u]})});rA.classes=Op;rA.displayName="@mantine/core/MenuDropdown";const uxe={},iA=ru((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,color:a,closeMenuOnClick:l,leftSection:c,rightSection:u,children:d,disabled:f,"data-disabled":h,...m}=Ce("MenuItem",uxe,t),g=sO(),y=Zi(),{dir:O}=iu(),b=S.useRef(null),w=g.getItemIndex(b.current),x=m,v=zo(x.onMouseLeave,()=>g.setHovered(-1)),k=zo(x.onMouseEnter,()=>g.setHovered(g.getItemIndex(b.current))),$=zo(x.onClick,()=>{h||(typeof l=="boolean"?l&&g.closeDropdownImmediately():g.closeOnItemClick&&g.closeDropdownImmediately())}),C=zo(x.onFocus,()=>g.setHovered(g.getItemIndex(b.current))),N=a?y.variantColorResolver({color:a,theme:y,variant:"light"}):void 0,P=a?nu({color:a,theme:y}):null;return p.jsxs(xl,{...m,unstyled:g.unstyled,tabIndex:g.menuItemTabIndex,onFocus:C,...g.getStyles("item",{className:r,style:i,styles:s,classNames:n}),ref:gn(b,e),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||h||void 0,"data-hovered":g.hovered===w?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:k,onMouseLeave:v,onClick:$,onKeyDown:PZ({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:g.loop,dir:O,orientation:"vertical",onKeyDown:x.onKeyDown}),__vars:{"--menu-item-color":P!=null&&P.isThemeColor&&(P==null?void 0:P.shade)===void 0?`var(--mantine-color-${P.color}-6)`:N==null?void 0:N.color,"--menu-item-hover":N==null?void 0:N.hover},children:[c&&p.jsx("div",{...g.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"left",children:c}),d&&p.jsx("div",{...g.getStyles("itemLabel",{styles:s,classNames:n}),children:d}),u&&p.jsx("div",{...g.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"right",children:u})]})});iA.classes=Op;iA.displayName="@mantine/core/MenuItem";const dxe={},sA=Ie((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ce("MenuLabel",dxe,t),l=sO();return p.jsx(Ae,{ref:e,...l.getStyles("label",{className:r,style:i,styles:s,classNames:n}),...a})});sA.classes=Op;sA.displayName="@mantine/core/MenuLabel";const fxe={refProp:"ref"},c7=S.forwardRef((t,e)=>{const{children:n,refProp:r,...i}=Ce("MenuTarget",fxe,t);if(!tu(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=sO(),o=n.props,a=zo(o.onClick,()=>{s.trigger==="click"?s.toggleDropdown():s.trigger==="click-hover"&&(s.setOpenedViaClick(!0),s.opened||s.openDropdown())}),l=zo(o.onMouseEnter,()=>(s.trigger==="hover"||s.trigger==="click-hover")&&s.openDropdown()),c=zo(o.onMouseLeave,()=>{(s.trigger==="hover"||s.trigger==="click-hover"&&!s.openedViaClick)&&s.closeDropdown()});return p.jsx(yi.Target,{refProp:r,popupType:"menu",ref:e,...i,children:S.cloneElement(n,{onClick:a,onMouseEnter:l,onMouseLeave:c,"data-expanded":s.opened?!0:void 0})})});c7.displayName="@mantine/core/MenuTarget";const hxe={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Ai(t){const e=Ce("Menu",hxe,t),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,trapFocus:a,onChange:l,closeOnItemClick:c,loop:u,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:m,classNames:g,styles:y,unstyled:O,variant:b,vars:w,menuItemTabIndex:x,keepMounted:v,withInitialFocusPlaceholder:k,...$}=e,C=it({name:"Menu",classes:Op,props:e,classNames:g,styles:y,unstyled:O}),[N,{setHovered:P,resetHovered:R}]=nme(),[T,A]=Oi({value:s,defaultValue:o,finalValue:!1,onChange:l}),[j,E]=S.useState(!1),_=()=>{A(!1),E(!1),T&&(i==null||i())},Q=()=>{A(!0),!T&&(r==null||r())},M=()=>{T?_():Q()},{openDropdown:L,closeDropdown:V}=Wbe({open:Q,close:_,closeDelay:m,openDelay:h}),W=fe=>tme("[data-menu-item]","[data-menu-dropdown]",fe),{resolvedClassNames:H,resolvedStyles:le}=dp({classNames:g,styles:y,props:e});return Mc(()=>{R()},[T]),p.jsx(axe,{value:{getStyles:C,opened:T,toggleDropdown:M,getItemIndex:W,hovered:N,setHovered:P,openedViaClick:j,setOpenedViaClick:E,closeOnItemClick:c,closeDropdown:f==="click"?_:V,openDropdown:f==="click"?Q:L,closeDropdownImmediately:_,loop:u,trigger:f,unstyled:O,menuItemTabIndex:x,withInitialFocusPlaceholder:k},children:p.jsx(yi,{...$,opened:T,onChange:M,defaultOpened:o,trapFocus:v?!1:a,closeOnEscape:d,__staticSelector:"Menu",classNames:H,styles:le,unstyled:O,variant:b,keepMounted:v,children:n})})}Ai.extend=t=>t;Ai.classes=Op;Ai.displayName="@mantine/core/Menu";Ai.Item=iA;Ai.Label=sA;Ai.Dropdown=rA;Ai.Target=c7;Ai.Divider=nA;const[pxe,bp]=Tl("Modal component was not found in tree");var Rl={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const mxe={},P1=Ie((t,e)=>{const n=Ce("ModalBody",mxe,t),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,c=bp();return p.jsx(F6,{ref:e,...c.getStyles("body",{classNames:r,style:s,styles:o,className:i}),...l})});P1.classes=Rl;P1.displayName="@mantine/core/ModalBody";const gxe={},j1=Ie((t,e)=>{const n=Ce("ModalCloseButton",gxe,t),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,c=bp();return p.jsx(V6,{ref:e,...c.getStyles("close",{classNames:r,style:s,styles:o,className:i}),...l})});j1.classes=Rl;j1.displayName="@mantine/core/ModalCloseButton";const yxe={},N1=Ie((t,e)=>{const n=Ce("ModalContent",yxe,t),{classNames:r,className:i,style:s,styles:o,vars:a,children:l,__hidden:c,...u}=n,d=bp(),f=d.scrollAreaComponent||GOe;return p.jsx(B6,{...d.getStyles("content",{className:i,style:s,styles:o,classNames:r}),innerProps:d.getStyles("inner",{className:i,style:s,styles:o,classNames:r}),"data-full-screen":d.fullScreen||void 0,"data-modal-content":!0,"data-hidden":c||void 0,ref:e,...u,children:p.jsx(f,{style:{maxHeight:d.fullScreen?"100dvh":`calc(100dvh - (${be(d.yOffset)} * 2))`},children:l})})});N1.classes=Rl;N1.displayName="@mantine/core/ModalContent";const Oxe={},E1=Ie((t,e)=>{const n=Ce("ModalHeader",Oxe,t),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,c=bp();return p.jsx(q6,{ref:e,...c.getStyles("header",{classNames:r,style:s,styles:o,className:i}),...l})});E1.classes=Rl;E1.displayName="@mantine/core/ModalHeader";const bxe={},_1=Ie((t,e)=>{const n=Ce("ModalOverlay",bxe,t),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,c=bp();return p.jsx(W6,{ref:e,...c.getStyles("overlay",{classNames:r,style:s,styles:o,className:i}),...l})});_1.classes=Rl;_1.displayName="@mantine/core/ModalOverlay";const xxe={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:co("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},wxe=(t,{radius:e,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":e===void 0?void 0:Un(e),"--modal-size":wt(n,"modal-size"),"--modal-y-offset":be(r),"--modal-x-offset":be(i)}}),T1=Ie((t,e)=>{const n=Ce("ModalRoot",xxe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,yOffset:c,scrollAreaComponent:u,radius:d,fullScreen:f,centered:h,xOffset:m,__staticSelector:g,...y}=n,O=it({name:g,classes:Rl,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:wxe});return p.jsx(pxe,{value:{yOffset:c,scrollAreaComponent:u,getStyles:O,fullScreen:f},children:p.jsx(L6,{ref:e,...O("root"),"data-full-screen":f||void 0,"data-centered":h||void 0,unstyled:a,...y})})});T1.classes=Rl;T1.displayName="@mantine/core/ModalRoot";const[vxe,Sxe]=Ld();function u7({children:t}){const[e,n]=S.useState([]),[r,i]=S.useState(co("modal"));return p.jsx(vxe,{value:{stack:e,addModal:(s,o)=>{n(a=>[...new Set([...a,s])]),i(a=>typeof o=="number"&&typeof a=="number"?Math.max(a,o):a)},removeModal:s=>n(o=>o.filter(a=>a!==s)),getZIndex:s=>`calc(${r} + ${e.indexOf(s)} + 1)`,currentId:e[e.length-1],maxZIndex:r},children:t})}u7.displayName="@mantine/core/ModalStack";const kxe={},A1=Ie((t,e)=>{const n=Ce("ModalTitle",kxe,t),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,c=bp();return p.jsx(z6,{ref:e,...c.getStyles("title",{classNames:r,style:s,styles:o,className:i}),...l})});A1.classes=Rl;A1.displayName="@mantine/core/ModalTitle";const $xe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:co("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},xi=Ie((t,e)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:s,closeButtonProps:o,children:a,radius:l,opened:c,stackId:u,zIndex:d,...f}=Ce("Modal",$xe,t),h=Sxe(),m=!!n||s,g=h&&u?{closeOnEscape:h.currentId===u,trapFocus:h.currentId===u,zIndex:h.getZIndex(u)}:{},y=r===!1?!1:u&&h?h.currentId===u:c;return S.useEffect(()=>{h&&u&&(c?h.addModal(u,d||co("modal")):h.removeModal(u))},[c,u,d]),p.jsxs(T1,{ref:e,radius:l,opened:c,zIndex:h&&u?h.getZIndex(u):d,...f,...g,children:[r&&p.jsx(_1,{visible:y,transitionProps:h&&u?{duration:0}:void 0,...i}),p.jsxs(N1,{radius:l,__hidden:h&&u&&c?u!==h.currentId:!1,children:[m&&p.jsxs(E1,{children:[n&&p.jsx(A1,{children:n}),s&&p.jsx(j1,{...o})]}),p.jsx(P1,{children:a})]})]})});xi.classes=Rl;xi.displayName="@mantine/core/Modal";xi.Root=T1;xi.Overlay=_1;xi.Content=N1;xi.Body=P1;xi.Header=E1;xi.Title=A1;xi.CloseButton=j1;xi.Stack=u7;const[Cxe,oA]=Ld(),[Pxe,jxe]=Ld();var R1={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const Nxe={},Exe=(t,{gap:e},{size:n})=>({group:{"--pg-gap":e!==void 0?wt(e):wt(n,"pg-gap")}}),aA=Ie((t,e)=>{const n=Ce("PillGroup",Nxe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:c,disabled:u,...d}=n,f=oA(),h=(f==null?void 0:f.size)||c||void 0,m=it({name:"PillGroup",classes:R1,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Exe,stylesCtx:{size:h},rootSelector:"group"});return p.jsx(Pxe,{value:{size:h,disabled:u},children:p.jsx(Ae,{ref:e,size:h,...m("group"),...d})})});aA.classes=R1;aA.displayName="@mantine/core/PillGroup";const _xe={variant:"default"},Txe=(t,{radius:e},{size:n})=>({root:{"--pill-fz":wt(n,"pill-fz"),"--pill-height":wt(n,"pill-height"),"--pill-radius":e===void 0?void 0:Un(e)}}),Ag=Ie((t,e)=>{const n=Ce("Pill",_xe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,variant:c,children:u,withRemoveButton:d,onRemove:f,removeButtonProps:h,radius:m,size:g,disabled:y,mod:O,...b}=n,w=jxe(),x=oA(),v=g||(w==null?void 0:w.size)||void 0,k=(x==null?void 0:x.variant)==="filled"?"contrast":c||"default",$=it({name:"Pill",classes:R1,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Txe,stylesCtx:{size:v}});return p.jsxs(Ae,{component:"span",ref:e,variant:k,size:v,...$("root",{variant:k}),mod:[{"with-remove":d&&!y,disabled:y||(w==null?void 0:w.disabled)},O],...b,children:[p.jsx("span",{...$("label"),children:u}),d&&p.jsx(mp,{variant:"transparent",radius:m,tabIndex:-1,"aria-hidden":!0,unstyled:a,...h,...$("remove",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),onMouseDown:C=>{var N;C.preventDefault(),C.stopPropagation(),(N=h==null?void 0:h.onMouseDown)==null||N.call(h,C)},onClick:C=>{var N;C.stopPropagation(),f==null||f(),(N=h==null?void 0:h.onClick)==null||N.call(h,C)}})]})});Ag.classes=R1;Ag.displayName="@mantine/core/Pill";Ag.Group=aA;var d7={field:"m_45c4369d"};const Axe={type:"visible"},lA=Ie((t,e)=>{const n=Ce("PillsInputField",Axe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,type:c,disabled:u,id:d,pointer:f,mod:h,...m}=n,g=oA(),y=gp(),O=it({name:"PillsInputField",classes:d7,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"field"}),b=u||(g==null?void 0:g.disabled);return p.jsx(Ae,{component:"input",ref:gn(e,g==null?void 0:g.fieldRef),"data-type":c,disabled:b,mod:[{disabled:b,pointer:f},h],...O("field"),...m,id:(y==null?void 0:y.inputId)||d,"aria-invalid":g==null?void 0:g.hasError,"aria-describedby":y==null?void 0:y.describedBy,type:"text",onMouseDown:w=>!f&&w.stopPropagation()})});lA.classes=d7;lA.displayName="@mantine/core/PillsInputField";const Rxe={},iv=Ie((t,e)=>{const n=Ce("PillsInput",Rxe,t),{children:r,onMouseDown:i,onClick:s,size:o,disabled:a,__staticSelector:l,error:c,variant:u,...d}=n,f=S.useRef(null);return p.jsx(Cxe,{value:{fieldRef:f,size:o,disabled:a,hasError:!!c,variant:u},children:p.jsx($s,{size:o,error:c,variant:u,component:"div",ref:e,onMouseDown:h=>{var m;h.preventDefault(),i==null||i(h),(m=f.current)==null||m.focus()},onClick:h=>{var m;h.preventDefault(),s==null||s(h),(m=f.current)==null||m.focus()},...d,multiline:!0,disabled:a,__staticSelector:l||"PillsInput",withAria:!1,children:r})})});iv.displayName="@mantine/core/PillsInput";iv.Field=lA;var f7={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const Mxe={withCloseButton:!0},Qxe=(t,{radius:e,color:n})=>({root:{"--notification-radius":e===void 0?void 0:Un(e),"--notification-color":n?Dr(n,t):void 0}}),cA=Ie((t,e)=>{const n=Ce("Notification",Mxe,t),{className:r,color:i,radius:s,loading:o,withCloseButton:a,withBorder:l,title:c,icon:u,children:d,onClose:f,closeButtonProps:h,classNames:m,style:g,styles:y,unstyled:O,variant:b,vars:w,mod:x,...v}=n,k=it({name:"Notification",classes:f7,props:n,className:r,style:g,classNames:m,styles:y,unstyled:O,vars:w,varsResolver:Qxe});return p.jsxs(Ae,{...k("root"),mod:[{"data-with-icon":!!u||o,"data-with-border":l},x],ref:e,variant:b,...v,role:"alert",children:[u&&!o&&p.jsx("div",{...k("icon"),children:u}),o&&p.jsx(rO,{size:28,color:i,...k("loader")}),p.jsxs("div",{...k("body"),children:[c&&p.jsx("div",{...k("title"),children:c}),p.jsx(Ae,{...k("description"),mod:{"data-with-title":!!c},children:d})]}),a&&p.jsx(mp,{iconSize:16,color:"gray",...h,unstyled:O,onClick:f,...k("closeButton")})]})});cA.classes=f7;cA.displayName="@mantine/core/Notification";function h7(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Rg;(function(t){t.event="event",t.props="prop"})(Rg||(Rg={}));function ac(){}function Ixe(t){var e,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return e&&r.length===e.length&&r.every(function(s,o){return s===e[o]})||(e=r,n=t.apply(void 0,r)),n}}function Mg(t){return!!(t||"").match(/\d/)}function zf(t){return t==null}function Dxe(t){return typeof t=="number"&&isNaN(t)}function p7(t){return zf(t)||Dxe(t)||typeof t=="number"&&!isFinite(t)}function m7(t){return t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Lxe(t){switch(t){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function Fxe(t,e,n){var r=Lxe(n),i=t.search(/[1-9]/);return i=i===-1?t.length:i,t.substring(0,i)+t.substring(i,t.length).replace(r,"$1"+e)}function Vxe(t){var e=S.useRef(t);e.current=t;var n=S.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return e.current.apply(e,r)});return n.current}function uA(t,e){e===void 0&&(e=!0);var n=t[0]==="-",r=n&&e;t=t.replace("-","");var i=t.split("."),s=i[0],o=i[1]||"";return{beforeDecimal:s,afterDecimal:o,hasNegation:n,addNegation:r}}function Bxe(t){if(!t)return t;var e=t[0]==="-";e&&(t=t.substring(1,t.length));var n=t.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(e?"-":"")+r+(i?"."+i:"")}function g7(t,e,n){for(var r="",i=n?"0":"",s=0;s<=e-1;s++)r+=t[s]||i;return r}function o5(t,e){return Array(e+1).join(t)}function y7(t){var e=t+"",n=e[0]==="-"?"-":"";n&&(e=e.substring(1));var r=e.split(/[eE]/g),i=r[0],s=r[1];if(s=Number(s),!s)return n+i;i=i.replace(".","");var o=1+s,a=i.length;return o<0?i="0."+o5("0",Math.abs(o))+i:o>=a?i=i+o5("0",o-a):i=(i.substring(0,o)||"0")+"."+i.substring(o),n+i}function a5(t,e,n){if(["","-"].indexOf(t)!==-1)return t;var r=(t.indexOf(".")!==-1||n)&&e,i=uA(t),s=i.beforeDecimal,o=i.afterDecimal,a=i.hasNegation,l=parseFloat("0."+(o||"0")),c=o.length<=e?"0."+o:l.toFixed(e),u=c.split("."),d=s;s&&Number(u[0])&&(d=s.split("").reverse().reduce(function(g,y,O){return g.length>O?(Number(g[0])+Number(y)).toString()+g.substring(1,g.length):y+g},u[0]));var f=g7(u[1]||"",e,n),h=a?"-":"",m=r?".":"";return""+h+d+m+f}function Ru(t,e){if(t.value=t.value,t!==null){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select(),!0}return t.selectionStart||t.selectionStart===0?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}var O7=Ixe(function(t,e){for(var n=0,r=0,i=t.length,s=e.length;t[n]===e[n]&&n<i;)n++;for(;t[i-1-r]===e[s-1-r]&&s-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:s-r}}}),qxe=function(t,e){var n=Math.min(t.selectionStart,e);return{from:{start:n,end:t.selectionEnd},to:{start:n,end:e}}};function Wxe(t,e,n){return Math.min(Math.max(t,e),n)}function y$(t){return Math.max(t.selectionStart,t.selectionEnd)}function zxe(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function Zxe(t){return{from:{start:0,end:0},to:{start:0,end:t.length},lastValue:""}}function Uxe(t){var e=t.currentValue,n=t.formattedValue,r=t.currentValueIndex,i=t.formattedValueIndex;return e[r]===n[i]}function Xxe(t,e,n,r,i,s,o){o===void 0&&(o=Uxe);var a=i.findIndex(function(x){return x}),l=t.slice(0,a);!e&&!n.startsWith(l)&&(e=l,n=l+n,r=r+l.length);for(var c=n.length,u=t.length,d={},f=new Array(c),h=0;h<c;h++){f[h]=-1;for(var m=0,g=u;m<g;m++){var y=o({currentValue:n,lastValue:e,formattedValue:t,currentValueIndex:h,formattedValueIndex:m});if(y&&d[m]!==!0){f[h]=m,d[m]=!0;break}}}for(var O=r;O<c&&(f[O]===-1||!s(n[O]));)O++;var b=O===c||f[O]===-1?u:f[O];for(O=r-1;O>0&&f[O]===-1;)O--;var w=O===-1||f[O]===-1?0:f[O]+1;return w>b?b:r-w<b-r?w:b}function l5(t,e,n,r){var i=t.length;if(e=Wxe(e,0,i),r==="left"){for(;e>=0&&!n[e];)e--;e===-1&&(e=n.indexOf(!0))}else{for(;e<=i&&!n[e];)e++;e>i&&(e=n.lastIndexOf(!0))}return e===-1&&(e=i),e}function Gxe(t){for(var e=Array.from({length:t.length+1}).map(function(){return!0}),n=0,r=e.length;n<r;n++)e[n]=!!(Mg(t[n])||Mg(t[n-1]));return e}function b7(t,e,n,r,i,s){s===void 0&&(s=ac);var o=Vxe(function(m,g){var y,O;return p7(m)?(O="",y=""):typeof m=="number"||g?(O=typeof m=="number"?y7(m):m,y=r(O)):(O=i(m,void 0),y=r(O)),{formattedValue:y,numAsString:O}}),a=S.useState(function(){return o(zf(t)?e:t,n)}),l=a[0],c=a[1],u=function(m,g){m.formattedValue!==l.formattedValue&&c({formattedValue:m.formattedValue,numAsString:m.value}),s(m,g)},d=t,f=n;zf(t)&&(d=l.numAsString,f=!0);var h=o(d,f);return S.useMemo(function(){c(h)},[h.formattedValue]),[l,u]}function Yxe(t){return t.replace(/[^0-9]/g,"")}function Hxe(t){return t}function Jxe(t){var e=t.type;e===void 0&&(e="text");var n=t.displayType;n===void 0&&(n="input");var r=t.customInput,i=t.renderText,s=t.getInputRef,o=t.format;o===void 0&&(o=Hxe);var a=t.removeFormatting;a===void 0&&(a=Yxe);var l=t.defaultValue,c=t.valueIsNumericString,u=t.onValueChange,d=t.isAllowed,f=t.onChange;f===void 0&&(f=ac);var h=t.onKeyDown;h===void 0&&(h=ac);var m=t.onMouseUp;m===void 0&&(m=ac);var g=t.onFocus;g===void 0&&(g=ac);var y=t.onBlur;y===void 0&&(y=ac);var O=t.value,b=t.getCaretBoundary;b===void 0&&(b=Gxe);var w=t.isValidInputCharacter;w===void 0&&(w=Mg);var x=t.isCharacterSame,v=h7(t,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),k=b7(O,l,!!c,o,a,u),$=k[0],C=$.formattedValue,N=$.numAsString,P=k[1],R=S.useRef(),T=S.useRef({formattedValue:C,numAsString:N}),A=function(X,ae){T.current={formattedValue:X.formattedValue,numAsString:X.value},P(X,ae)},j=S.useState(!1),E=j[0],_=j[1],Q=S.useRef(null),M=S.useRef({setCaretTimeout:null,focusTimeout:null});S.useEffect(function(){return _(!0),function(){clearTimeout(M.current.setCaretTimeout),clearTimeout(M.current.focusTimeout)}},[]);var L=o,V=function(X,ae){var se=parseFloat(ae);return{formattedValue:X,value:ae,floatValue:isNaN(se)?void 0:se}},W=function(X,ae,se){X.selectionStart===0&&X.selectionEnd===X.value.length||(Ru(X,ae),M.current.setCaretTimeout=setTimeout(function(){X.value===se&&X.selectionStart!==ae&&Ru(X,ae)},0))},H=function(X,ae,se){return l5(X,ae,b(X),se)},le=function(X,ae,se){var te=b(ae),ge=Xxe(ae,C,X,se,te,w,x);return ge=l5(ae,ge,te),ge},fe=function(X){var ae=X.formattedValue;ae===void 0&&(ae="");var se=X.input,te=X.source,ge=X.event,pe=X.numAsString,me;if(se){var ue=X.inputValue||se.value,he=y$(se);se.value=ae,me=le(ue,ae,he),me!==void 0&&W(se,me,ae)}ae!==C&&A(V(ae,pe),{event:ge,source:te})};S.useEffect(function(){var X=T.current,ae=X.formattedValue,se=X.numAsString;(C!==ae||N!==se)&&A(V(C,N),{event:void 0,source:Rg.props})},[C,N]);var U=Q.current?y$(Q.current):void 0,ee=typeof window<"u"?S.useLayoutEffect:S.useEffect;ee(function(){var X=Q.current;if(C!==T.current.formattedValue&&X){var ae=le(T.current.formattedValue,C,U);X.value=C,W(X,ae,C)}},[C]);var re=function(X,ae,se){var te=ae.target,ge=R.current?qxe(R.current,te.selectionEnd):O7(C,X),pe=Object.assign(Object.assign({},ge),{lastValue:C}),me=a(X,pe),ue=L(me);if(me=a(ue,void 0),d&&!d(V(ue,me))){var he=ae.target,ye=y$(he),ke=le(X,C,ye);return he.value=C,W(he,ke,C),!1}return fe({formattedValue:ue,numAsString:me,inputValue:X,event:ae,source:se,input:ae.target}),!0},J=function(X,ae){ae===void 0&&(ae=0);var se=X.selectionStart,te=X.selectionEnd;R.current={selectionStart:se,selectionEnd:te+ae}},q=function(X){var ae=X.target,se=ae.value,te=re(se,X,Rg.event);te&&f(X),R.current=void 0},oe=function(X){var ae=X.target,se=X.key,te=ae.selectionStart,ge=ae.selectionEnd,pe=ae.value;pe===void 0&&(pe="");var me;se==="ArrowLeft"||se==="Backspace"?me=Math.max(te-1,0):se==="ArrowRight"?me=Math.min(te+1,pe.length):se==="Delete"&&(me=te);var ue=0;se==="Delete"&&te===ge&&(ue=1);var he=se==="ArrowLeft"||se==="ArrowRight";if(me===void 0||te!==ge&&!he){h(X),J(ae,ue);return}var ye=me;if(he){var ke=se==="ArrowLeft"?"left":"right";ye=H(pe,me,ke),ye!==me&&X.preventDefault()}else se==="Delete"&&!w(pe[me])?ye=H(pe,me,"right"):se==="Backspace"&&!w(pe[me])&&(ye=H(pe,me,"left"));ye!==me&&W(ae,ye,pe),h(X),J(ae,ue)},B=function(X){var ae=X.target,se=function(){var te=ae.selectionStart,ge=ae.selectionEnd,pe=ae.value;if(pe===void 0&&(pe=""),te===ge){var me=H(pe,te);me!==te&&W(ae,me,pe)}};se(),requestAnimationFrame(function(){se()}),m(X),J(ae)},ie=function(X){X.persist&&X.persist();var ae=X.target,se=X.currentTarget;Q.current=ae,M.current.focusTimeout=setTimeout(function(){var te=ae.selectionStart,ge=ae.selectionEnd,pe=ae.value;pe===void 0&&(pe="");var me=H(pe,te);me!==te&&!(te===0&&ge===pe.length)&&W(ae,me,pe),g(Object.assign(Object.assign({},X),{currentTarget:se}))},0)},ce=function(X){Q.current=null,clearTimeout(M.current.focusTimeout),clearTimeout(M.current.setCaretTimeout),y(X)},de=E&&zxe()?"numeric":void 0,z=Object.assign({inputMode:de},v,{type:e,value:C,onChange:q,onKeyDown:oe,onMouseUp:B,onFocus:ie,onBlur:ce});if(n==="text")return i?we.createElement(we.Fragment,null,i(C,v)||null):we.createElement("span",Object.assign({},v,{ref:s}),C);if(r){var ne=r;return we.createElement(ne,Object.assign({},z,{ref:s}))}return we.createElement("input",Object.assign({},z,{ref:s}))}function c5(t,e){var n=e.decimalScale,r=e.fixedDecimalScale,i=e.prefix;i===void 0&&(i="");var s=e.suffix;s===void 0&&(s="");var o=e.allowNegative,a=e.thousandsGroupStyle;if(a===void 0&&(a="thousand"),t===""||t==="-")return t;var l=M1(e),c=l.thousandSeparator,u=l.decimalSeparator,d=n!==0&&t.indexOf(".")!==-1||n&&r,f=uA(t,o),h=f.beforeDecimal,m=f.afterDecimal,g=f.addNegation;return n!==void 0&&(m=g7(m,n,!!r)),c&&(h=Fxe(h,c,a)),i&&(h=i+h),s&&(m=m+s),g&&(h="-"+h),t=h+(d&&u||"")+m,t}function M1(t){var e=t.decimalSeparator;e===void 0&&(e=".");var n=t.thousandSeparator,r=t.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[e,"."]),{decimalSeparator:e,thousandSeparator:n,allowedDecimalSeparators:r}}function Kxe(t,e){t===void 0&&(t="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(t),s=r.test(t);return t=t.replace(/-/g,""),i&&!s&&e&&(t="-"+t),t}function ewe(t,e){return new RegExp("(^-)|[0-9]|"+m7(t),"g")}function twe(t,e,n){return t===""?!0:!(e!=null&&e.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof t=="string"&&!isNaN(Number(t))}function nwe(t,e,n){var r;e===void 0&&(e=Zxe(t));var i=n.allowNegative,s=n.prefix;s===void 0&&(s="");var o=n.suffix;o===void 0&&(o="");var a=n.decimalScale,l=e.from,c=e.to,u=c.start,d=c.end,f=M1(n),h=f.allowedDecimalSeparators,m=f.decimalSeparator,g=t[d]===m;if(Mg(t)&&(t===s||t===o)&&e.lastValue==="")return t;if(d-u===1&&h.indexOf(t[u])!==-1){var y=a===0?"":m;t=t.substring(0,u)+y+t.substring(u+1,t.length)}var O=function(Q,M,L){var V=!1,W=!1;s.startsWith("-")?V=!1:Q.startsWith("--")?(V=!1,W=!0):o.startsWith("-")&&Q.length===o.length?V=!1:Q[0]==="-"&&(V=!0);var H=V?1:0;return W&&(H=2),H&&(Q=Q.substring(H),M-=H,L-=H),{value:Q,start:M,end:L,hasNegation:V}},b=O(t,u,d),w=b.hasNegation;r=b,t=r.value,u=r.start,d=r.end;var x=O(e.lastValue,l.start,l.end),v=x.start,k=x.end,$=x.value,C=t.substring(u,d);t.length&&$.length&&(v>$.length-o.length||k<s.length)&&!(C&&o.startsWith(C))&&(t=$);var N=0;t.startsWith(s)?N+=s.length:u<s.length&&(N=u),t=t.substring(N),d-=N;var P=t.length,R=t.length-o.length;t.endsWith(o)?P=R:(d>R||d>t.length-o.length)&&(P=d),t=t.substring(0,P),t=Kxe(w?"-"+t:t,i),t=(t.match(ewe(m))||[]).join("");var T=t.indexOf(m);t=t.replace(new RegExp(m7(m),"g"),function(Q,M){return M===T?".":""});var A=uA(t,i),j=A.beforeDecimal,E=A.afterDecimal,_=A.addNegation;return c.end-c.start<l.end-l.start&&j===""&&g&&!parseFloat(E)&&(t=_?"-":""),t}function rwe(t,e){var n=e.prefix;n===void 0&&(n="");var r=e.suffix;r===void 0&&(r="");var i=Array.from({length:t.length+1}).map(function(){return!0}),s=t[0]==="-";i.fill(!1,0,n.length+(s?1:0));var o=t.length;return i.fill(!1,o-r.length+1,o+1),i}function iwe(t){var e=M1(t),n=e.thousandSeparator,r=e.decimalSeparator,i=t.prefix;i===void 0&&(i="");var s=t.allowNegative;if(s===void 0&&(s=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&s&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+s+`
    `),s=!1),Object.assign(Object.assign({},t),{allowNegative:s})}function swe(t){t=iwe(t),t.decimalSeparator,t.allowedDecimalSeparators,t.thousandsGroupStyle;var e=t.suffix,n=t.allowNegative,r=t.allowLeadingZeros,i=t.onKeyDown;i===void 0&&(i=ac);var s=t.onBlur;s===void 0&&(s=ac);var o=t.thousandSeparator,a=t.decimalScale,l=t.fixedDecimalScale,c=t.prefix;c===void 0&&(c="");var u=t.defaultValue,d=t.value,f=t.valueIsNumericString,h=t.onValueChange,m=h7(t,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),g=M1(t),y=g.decimalSeparator,O=g.allowedDecimalSeparators,b=function(_){return c5(_,t)},w=function(_,Q){return nwe(_,Q,t)},x=zf(d)?u:d,v=f??twe(x,c,e);zf(d)?zf(u)||(v=v||typeof u=="number"):v=v||typeof d=="number";var k=function(_){return p7(_)?_:(typeof _=="number"&&(_=y7(_)),v&&typeof a=="number"?a5(_,a,!!l):_)},$=b7(k(d),k(u),!!v,b,w,h),C=$[0],N=C.numAsString,P=C.formattedValue,R=$[1],T=function(_){var Q=_.target,M=_.key,L=Q.selectionStart,V=Q.selectionEnd,W=Q.value;if(W===void 0&&(W=""),(M==="Backspace"||M==="Delete")&&V<c.length){_.preventDefault();return}if(L!==V){i(_);return}M==="Backspace"&&W[0]==="-"&&L===c.length+1&&n&&Ru(Q,1),a&&l&&(M==="Backspace"&&W[L-1]===y?(Ru(Q,L-1),_.preventDefault()):M==="Delete"&&W[L]===y&&_.preventDefault()),O!=null&&O.includes(M)&&W[L]===y&&Ru(Q,L+1);var H=o===!0?",":o;M==="Backspace"&&W[L-1]===H&&Ru(Q,L-1),M==="Delete"&&W[L]===H&&Ru(Q,L+1),i(_)},A=function(_){var Q=N;if(Q.match(/\d/g)||(Q=""),r||(Q=Bxe(Q)),l&&a&&(Q=a5(Q,a,l)),Q!==N){var M=c5(Q,t);R({formattedValue:M,value:Q,floatValue:parseFloat(Q)},{event:_,source:Rg.event})}s(_)},j=function(_){return _===y?!0:Mg(_)},E=function(_){var Q=_.currentValue,M=_.lastValue,L=_.formattedValue,V=_.currentValueIndex,W=_.formattedValueIndex,H=Q[V],le=L[W],fe=O7(M,Q),U=fe.to,ee=function(re){return w(re).indexOf(".")+c.length};return d===0&&l&&a&&Q[U.start]===y&&ee(Q)<V&&ee(L)>W?!1:V>=U.start&&V<U.end&&O&&O.includes(H)&&le===y?!0:H===le};return Object.assign(Object.assign({},m),{value:P,valueIsNumericString:!1,isValidInputCharacter:j,isCharacterSame:E,onValueChange:R,format:b,removeFormatting:w,getCaretBoundary:function(_){return rwe(_,t)},onKeyDown:T,onBlur:A})}function owe(t){var e=swe(t);return we.createElement(Jxe,Object.assign({},e))}function u5({direction:t,style:e,...n}){return p.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:t==="up"?"rotate(180deg)":void 0,...e},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:p.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var Bj={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const awe=/^(0\.0*|-0(\.0*)?)$/,lwe=/^-?0\d+(\.\d+)?\.?$/;function qj(t){return typeof t=="string"&&t!==""&&!Number.isNaN(Number(t))}function O$(t){return typeof t=="number"?t<Number.MAX_SAFE_INTEGER:t===""||qj(t)&&Number(t)<Number.MAX_SAFE_INTEGER}function cwe(t){return t.toString().replace(".","").length}function uwe(t,e){return(typeof t=="number"?t<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(t)))&&!Number.isNaN(t)&&cwe(e)<14&&e!==""}function d5(t,e,n){if(t===void 0)return!0;const r=e===void 0||t>=e,i=n===void 0||t<=n;return r&&i}const dwe={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},fwe=(t,{size:e})=>({controls:{"--ni-chevron-size":wt(e,"ni-chevron-size")}}),Q1=Ie((t,e)=>{const n=Ce("NumberInput",dwe,t),{className:r,classNames:i,styles:s,unstyled:o,vars:a,onChange:l,onValueChange:c,value:u,defaultValue:d,max:f,min:h,step:m,hideControls:g,rightSection:y,isAllowed:O,clampBehavior:b,onBlur:w,allowDecimal:x,decimalScale:v,onKeyDown:k,onKeyDownCapture:$,handlersRef:C,startValue:N,disabled:P,rightSectionPointerEvents:R,allowNegative:T,readOnly:A,size:j,rightSectionWidth:E,stepHoldInterval:_,stepHoldDelay:Q,allowLeadingZeros:M,withKeyboardEvents:L,trimLeadingZeroesOnBlur:V,...W}=n,H=it({name:"NumberInput",classes:Bj,props:n,classNames:i,styles:s,unstyled:o,vars:a,varsResolver:fwe}),{resolvedClassNames:le,resolvedStyles:fe}=dp({classNames:i,styles:s,props:n}),[U,ee]=Oi({value:u,defaultValue:d,finalValue:"",onChange:l}),re=Q!==void 0&&_!==void 0,J=S.useRef(null),q=S.useRef(null),oe=S.useRef(0),B=(ue,he)=>{he.source==="event"&&ee(uwe(ue.floatValue,ue.value)&&!awe.test(ue.value)&&!(M&&lwe.test(ue.value))?ue.floatValue:ue.value),c==null||c(ue,he)},ie=ue=>{const he=String(ue).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return he?Math.max(0,(he[1]?he[1].length:0)-(he[2]?+he[2]:0)):0},ce=ue=>{J.current&&typeof ue<"u"&&J.current.setSelectionRange(ue,ue)},de=S.useRef(Hw);de.current=()=>{if(!O$(U))return;let ue;const he=ie(U),ye=ie(m),ke=Math.max(he,ye),Pe=10**ke;if(!qj(U)&&(typeof U!="number"||Number.isNaN(U)))ue=sl(N,h,f);else if(f!==void 0){const He=(Math.round(Number(U)*Pe)+Math.round(m*Pe))/Pe;ue=He<=f?He:f}else ue=(Math.round(Number(U)*Pe)+Math.round(m*Pe))/Pe;const et=ue.toFixed(ke);ee(parseFloat(et)),c==null||c({floatValue:parseFloat(et),formattedValue:et,value:et},{source:"increment"}),setTimeout(()=>{var He;return ce((He=J.current)==null?void 0:He.value.length)},0)};const z=S.useRef(Hw);z.current=()=>{if(!O$(U))return;let ue;const he=h!==void 0?h:T?Number.MIN_SAFE_INTEGER:0,ye=ie(U),ke=ie(m),Pe=Math.max(ye,ke),et=10**Pe;if(!qj(U)&&typeof U!="number"||Number.isNaN(U))ue=sl(N,he,f);else{const kn=(Math.round(Number(U)*et)-Math.round(m*et))/et;ue=he!==void 0&&kn<he?he:kn}const He=ue.toFixed(Pe);ee(parseFloat(He)),c==null||c({floatValue:parseFloat(He),formattedValue:He,value:He},{source:"decrement"}),setTimeout(()=>{var kn;return ce((kn=J.current)==null?void 0:kn.value.length)},0)};const ne=ue=>{k==null||k(ue),!(A||!L)&&(ue.key==="ArrowUp"&&(ue.preventDefault(),de.current()),ue.key==="ArrowDown"&&(ue.preventDefault(),z.current()))},X=ue=>{if($==null||$(ue),ue.key==="Backspace"){const he=J.current;he.selectionStart===0&&he.selectionStart===he.selectionEnd&&(ue.preventDefault(),window.setTimeout(()=>ce(0),0))}},ae=ue=>{let he=U;if(b==="blur"&&typeof he=="number"&&(he=sl(he,h,f)),V&&typeof he=="string"&&ie(he)<15){const ye=he.toString().replace(/^0+/,""),ke=parseFloat(ye);he=Number.isNaN(ke)||ke>Number.MAX_SAFE_INTEGER?ye:sl(ke,h,f)}U!==he&&ee(he),w==null||w(ue)};Jw(C,{increment:de.current,decrement:z.current});const se=ue=>{ue?de.current():z.current(),oe.current+=1},te=ue=>{if(se(ue),re){const he=typeof _=="number"?_:_(oe.current);q.current=window.setTimeout(()=>te(ue),he)}},ge=(ue,he)=>{var ye;ue.preventDefault(),(ye=J.current)==null||ye.focus(),se(he),re&&(q.current=window.setTimeout(()=>te(he),Q))},pe=()=>{q.current&&window.clearTimeout(q.current),q.current=null,oe.current=0},me=p.jsxs("div",{...H("controls"),children:[p.jsx(xl,{...H("control"),tabIndex:-1,"aria-hidden":!0,disabled:P||typeof U=="number"&&f!==void 0&&U>=f,mod:{direction:"up"},onMouseDown:ue=>ue.preventDefault(),onPointerDown:ue=>{ge(ue,!0)},onPointerUp:pe,onPointerLeave:pe,children:p.jsx(u5,{direction:"up"})}),p.jsx(xl,{...H("control"),tabIndex:-1,"aria-hidden":!0,disabled:P||typeof U=="number"&&h!==void 0&&U<=h,mod:{direction:"down"},onMouseDown:ue=>ue.preventDefault(),onPointerDown:ue=>{ge(ue,!1)},onPointerUp:pe,onPointerLeave:pe,children:p.jsx(u5,{direction:"down"})})]});return p.jsx($s,{component:owe,allowNegative:T,className:xr(Bj.root,r),size:j,...W,readOnly:A,disabled:P,value:U,getInputRef:gn(e,J),onValueChange:B,rightSection:g||A||!O$(U)?y:y||me,classNames:le,styles:fe,unstyled:o,__staticSelector:"NumberInput",decimalScale:x?v:0,onKeyDown:ne,onKeyDownCapture:X,rightSectionPointerEvents:R??(P?"none":void 0),rightSectionWidth:E??`var(--ni-right-section-width-${j||"sm"})`,allowLeadingZeros:M,onBlur:ae,isAllowed:ue=>b==="strict"?O?O(ue)&&d5(ue.floatValue,h,f):d5(ue.floatValue,h,f):O?O(ue):!0})});Q1.classes={...$s.classes,...Bj};Q1.displayName="@mantine/core/NumberInput";const[hwe,x7]=Ld(),[pwe,mwe]=Ld();var w7={card:"m_9dc8ae12"};const gwe={withBorder:!0},ywe=(t,{radius:e})=>({card:{"--card-radius":Un(e)}}),dA=Ie((t,e)=>{const n=Ce("RadioCard",gwe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,checked:c,mod:u,withBorder:d,value:f,onClick:h,name:m,onKeyDown:g,...y}=n,O=it({name:"RadioCard",classes:w7,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:ywe,rootSelector:"card"}),{dir:b}=iu(),w=x7(),x=typeof c=="boolean"?c:(w==null?void 0:w.value)===f||!1,v=m||(w==null?void 0:w.name),k=$=>{if(g==null||g($),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes($.nativeEvent.code)){$.preventDefault();const C=Array.from(document.querySelectorAll(`[role="radio"][name="${v||"__mantine"}"]`)),N=C.findIndex(T=>T===$.target),P=N+1>=C.length?0:N+1,R=N-1<0?C.length-1:N-1;$.nativeEvent.code==="ArrowDown"&&(C[P].focus(),C[P].click()),$.nativeEvent.code==="ArrowUp"&&(C[R].focus(),C[R].click()),$.nativeEvent.code==="ArrowLeft"&&(C[b==="ltr"?R:P].focus(),C[b==="ltr"?R:P].click()),$.nativeEvent.code==="ArrowRight"&&(C[b==="ltr"?P:R].focus(),C[b==="ltr"?P:R].click())}};return p.jsx(pwe,{value:{checked:x},children:p.jsx(xl,{ref:e,mod:[{"with-border":d,checked:x},u],...O("card"),...y,role:"radio","aria-checked":x,name:v,onClick:$=>{h==null||h($),w==null||w.onChange(f||"")},onKeyDown:k})})});dA.displayName="@mantine/core/RadioCard";dA.classes=w7;const Owe={},I1=Ie((t,e)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,name:l,readOnly:c,...u}=Ce("RadioGroup",Owe,t),d=vs(l),[f,h]=Oi({value:n,defaultValue:r,finalValue:"",onChange:i}),m=g=>!c&&h(typeof g=="string"?g:g.currentTarget.value);return p.jsx(hwe,{value:{value:f,onChange:m,size:s,name:d},children:p.jsx(ut.Wrapper,{size:s,ref:e,...o,...u,labelElement:"div",__staticSelector:"RadioGroup",children:p.jsx(n7,{role:"radiogroup",children:a})})})});I1.classes=ut.Wrapper.classes;I1.displayName="@mantine/core/RadioGroup";function v7({size:t,style:e,...n}){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:be(t),height:be(t),...e},"aria-hidden":!0,...n,children:p.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var S7={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const bwe={icon:v7},xwe=(t,{radius:e,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=nu({color:n||t.primaryColor,theme:t}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":wt(r,"radio-size"),"--radio-radius":e===void 0?void 0:Un(e),"--radio-color":s==="outline"?l:Dr(n,t),"--radio-icon-size":wt(r,"radio-icon-size"),"--radio-icon-color":i?Dr(i,t):mT(o,t)?eO({color:n,theme:t,autoContrast:o}):void 0}}},fA=Ie((t,e)=>{const n=Ce("RadioIndicator",bwe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,icon:c,radius:u,color:d,iconColor:f,autoContrast:h,checked:m,mod:g,variant:y,disabled:O,...b}=n,w=c,x=it({name:"RadioIndicator",classes:S7,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:xwe,rootSelector:"indicator"}),v=mwe(),k=typeof m=="boolean"?m:(v==null?void 0:v.checked)||!1;return p.jsx(Ae,{ref:e,...x("indicator",{variant:y}),variant:y,mod:[{checked:k,disabled:O},g],...b,children:p.jsx(w,{...x("icon")})})});fA.displayName="@mantine/core/RadioIndicator";fA.classes=S7;var k7={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const wwe={labelPosition:"right"},vwe=(t,{size:e,radius:n,color:r,iconColor:i,variant:s,autoContrast:o})=>{const a=nu({color:r||t.primaryColor,theme:t}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":wt(e,"radio-size"),"--radio-radius":n===void 0?void 0:Un(n),"--radio-color":s==="outline"?l:Dr(r,t),"--radio-icon-color":i?Dr(i,t):mT(o,t)?eO({color:r,theme:t,autoContrast:o}):void 0,"--radio-icon-size":wt(e,"radio-icon-size")}}},aa=Ie((t,e)=>{const n=Ce("Radio",wwe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,id:c,size:u,label:d,labelPosition:f,description:h,error:m,radius:g,color:y,variant:O,disabled:b,wrapperProps:w,icon:x=v7,rootRef:v,iconColor:k,onChange:$,mod:C,...N}=n,P=it({name:"Radio",classes:k7,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:vwe}),R=x7(),T=(R==null?void 0:R.size)??u,A=n.size?u:T,{styleProps:j,rest:E}=fp(N),_=vs(c),Q=R?{checked:R.value===E.value,name:E.name??R.name,onChange:M=>{R.onChange(M),$==null||$(M)}}:{};return p.jsx(KT,{...P("root"),__staticSelector:"Radio",__stylesApiProps:n,id:_,size:A,labelPosition:f,label:d,description:h,error:m,disabled:b,classNames:r,styles:o,unstyled:a,"data-checked":Q.checked||void 0,variant:O,ref:v,mod:C,...j,...w,children:p.jsxs(Ae,{...P("inner"),mod:{"label-position":f},children:[p.jsx(Ae,{...P("radio",{focusable:!0,variant:O}),onChange:$,...E,...Q,component:"input",mod:{error:!!m},ref:e,id:_,disabled:b,type:"radio"}),p.jsx(x,{...P("icon"),"aria-hidden":!0})]})})});aa.classes=k7;aa.displayName="@mantine/core/Radio";aa.Group=I1;aa.Card=dA;aa.Indicator=fA;const Swe={duration:100,transition:"fade"};function kwe(t,e){return{...Swe,...e,...t}}function $we({offset:t,position:e,defaultOpened:n}){const[r,i]=S.useState(n),s=S.useRef(null),{x:o,y:a,elements:l,refs:c,update:u,placement:d}=RT({placement:e,middleware:[ET({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=d.includes("right")?t:e.includes("left")?t*-1:0,h=d.includes("bottom")?t:e.includes("top")?t*-1:0,m=S.useCallback(({clientX:g,clientY:y})=>{c.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:g,y,left:g+f,top:y+h,right:g,bottom:y}}})},[l.reference]);return S.useEffect(()=>{if(c.floating.current){const g=s.current;g.addEventListener("mousemove",m);const y=ul(c.floating.current);return y.forEach(O=>{O.addEventListener("scroll",u)}),()=>{g.removeEventListener("mousemove",m),y.forEach(O=>{O.removeEventListener("scroll",u)})}}},[l.reference,c.floating.current,u,m,r]),{handleMouseMove:m,x:o,y:a,opened:r,setOpened:i,boundaryRef:s,floating:c.setFloating}}var D1={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const Cwe={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:co("popover")},Pwe=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:Un(e),"--tooltip-bg":n?Dr(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),hA=Ie((t,e)=>{const n=Ce("TooltipFloating",Cwe,t),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:l,styles:c,unstyled:u,radius:d,color:f,label:h,offset:m,position:g,multiline:y,zIndex:O,disabled:b,defaultOpened:w,variant:x,vars:v,portalProps:k,...$}=n,C=Zi(),N=it({name:"TooltipFloating",props:n,classes:D1,className:a,style:o,classNames:l,styles:c,unstyled:u,rootSelector:"tooltip",vars:v,varsResolver:Pwe}),{handleMouseMove:P,x:R,y:T,opened:A,boundaryRef:j,floating:E,setOpened:_}=$we({offset:m,position:g,defaultOpened:w});if(!tu(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const Q=gn(j,h1(r),e),M=r.props,L=W=>{var H;(H=M.onMouseEnter)==null||H.call(M,W),P(W),_(!0)},V=W=>{var H;(H=M.onMouseLeave)==null||H.call(M,W),_(!1)};return p.jsxs(p.Fragment,{children:[p.jsx(Vd,{...k,withinPortal:s,children:p.jsx(Ae,{...$,...N("tooltip",{style:{...FZ(o,C),zIndex:O,display:!b&&A?"block":"none",top:(T&&Math.round(T))??"",left:(R&&Math.round(R))??""}}),variant:x,ref:E,mod:{multiline:y},children:h})}),S.cloneElement(r,{...M,[i]:Q,onMouseEnter:L,onMouseLeave:V})]})});hA.classes=D1;hA.displayName="@mantine/core/TooltipFloating";const $7=S.createContext(!1),jwe=$7.Provider,Nwe=()=>S.useContext($7),Ewe={openDelay:0,closeDelay:0};function pA(t){const{openDelay:e,closeDelay:n,children:r}=Ce("TooltipGroup",Ewe,t);return p.jsx(jwe,{value:!0,children:p.jsx(lOe,{delay:{open:e,close:n},children:r})})}pA.displayName="@mantine/core/TooltipGroup";pA.extend=t=>t;function _we(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function Twe(t){const e=_we(t.middlewares),n=[O6(t.offset)];return e.shift&&n.push(ET(typeof e.shift=="boolean"?{padding:8}:{padding:8,...e.shift})),e.flip&&n.push(typeof e.flip=="boolean"?rv():rv(e.flip)),n.push(b6({element:t.arrowRef,padding:t.arrowOffset})),e.inline?n.push(typeof e.inline=="boolean"?sg():sg(e.inline)):t.inline&&n.push(sg()),n}function Awe(t){var k,$,C;const[e,n]=S.useState(t.defaultOpened),i=typeof t.opened=="boolean"?t.opened:e,s=Nwe(),o=vs(),{delay:a,currentId:l,setCurrentId:c}=S6(),u=S.useCallback(N=>{n(N),N&&c(o)},[c,o]),{x:d,y:f,context:h,refs:m,update:g,placement:y,middlewareData:{arrow:{x:O,y:b}={}}}=RT({strategy:t.strategy,placement:t.position,open:i,onOpenChange:u,middleware:Twe(t)});cOe(h,{id:o});const{getReferenceProps:w,getFloatingProps:x}=gOe([aOe(h,{enabled:(k=t.events)==null?void 0:k.hover,delay:s?a:{open:t.openDelay,close:t.closeDelay},mouseOnly:!(($=t.events)!=null&&$.touch)}),mOe(h,{enabled:(C=t.events)==null?void 0:C.focus,visibleOnly:!0}),OOe(h,{role:"tooltip"}),hOe(h,{enabled:typeof t.opened>"u"})]);_6({opened:i,position:t.position,positionDependencies:t.positionDependencies,floating:{refs:m,update:g}}),Mc(()=>{var N;(N=t.onPositionChange)==null||N.call(t,y)},[y]);const v=i&&l&&l!==o;return{x:d,y:f,arrowX:O,arrowY:b,reference:m.setReference,floating:m.setFloating,getFloatingProps:x,getReferenceProps:w,isGroupPhase:v,opened:i,placement:y}}const f5={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:co("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},Rwe=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:Un(e),"--tooltip-bg":n?Dr(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Ml=Ie((t,e)=>{const n=Ce("Tooltip",f5,t),{children:r,position:i,refProp:s,label:o,openDelay:a,closeDelay:l,onPositionChange:c,opened:u,defaultOpened:d,withinPortal:f,radius:h,color:m,classNames:g,styles:y,unstyled:O,style:b,className:w,withArrow:x,arrowSize:v,arrowOffset:k,arrowRadius:$,arrowPosition:C,offset:N,transitionProps:P,multiline:R,events:T,zIndex:A,disabled:j,positionDependencies:E,onClick:_,onMouseEnter:Q,onMouseLeave:M,inline:L,variant:V,keepMounted:W,vars:H,portalProps:le,mod:fe,floatingStrategy:U,middlewares:ee,...re}=Ce("Tooltip",f5,n),{dir:J}=iu(),q=S.useRef(null),oe=Awe({position:k6(J,i),closeDelay:l,openDelay:a,onPositionChange:c,opened:u,defaultOpened:d,events:T,arrowRef:q,arrowOffset:k,offset:typeof N=="number"?N+(x?v/2:0):N,positionDependencies:[...E,r],inline:L,strategy:U,middlewares:ee}),B=it({name:"Tooltip",props:n,classes:D1,className:w,style:b,classNames:g,styles:y,unstyled:O,rootSelector:"tooltip",vars:H,varsResolver:Rwe});if(!tu(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const ie=gn(oe.reference,h1(r),e),ce=kwe(P,{duration:100,transition:"fade"}),de=r.props;return p.jsxs(p.Fragment,{children:[p.jsx(Vd,{...le,withinPortal:f,children:p.jsx(su,{...ce,keepMounted:W,mounted:!j&&!!oe.opened,duration:oe.isGroupPhase?10:ce.duration,children:z=>p.jsxs(Ae,{...re,"data-fixed":U==="fixed"||void 0,variant:V,mod:[{multiline:R},fe],...oe.getFloatingProps({ref:oe.floating,className:B("tooltip").className,style:{...B("tooltip").style,...z,zIndex:A,top:oe.y??0,left:oe.x??0}}),children:[o,p.jsx(MT,{ref:q,arrowX:oe.arrowX,arrowY:oe.arrowY,visible:x,position:oe.placement,arrowSize:v,arrowOffset:k,arrowRadius:$,arrowPosition:C,...B("arrow")})]})})}),S.cloneElement(r,oe.getReferenceProps({onClick:_,onMouseEnter:Q,onMouseLeave:M,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,[s]:ie,className:xr(w,de.className),...de}))]})});Ml.classes=D1;Ml.displayName="@mantine/core/Tooltip";Ml.Floating=hA;Ml.Group=pA;var C7={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const Mwe={withItemsBorders:!0},Qwe=(t,{radius:e,color:n,transitionDuration:r,size:i,transitionTimingFunction:s})=>({root:{"--sc-radius":e===void 0?void 0:Un(e),"--sc-color":n?Dr(n,t):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":s,"--sc-padding":wt(i,"sc-padding"),"--sc-font-size":Jr(i)}}),Bd=Ie((t,e)=>{var ee,re;const n=Ce("SegmentedControl",Mwe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,data:c,value:u,defaultValue:d,onChange:f,size:h,name:m,disabled:g,readOnly:y,fullWidth:O,orientation:b,radius:w,color:x,transitionDuration:v,transitionTimingFunction:k,variant:$,autoContrast:C,withItemsBorders:N,mod:P,...R}=n,T=it({name:"SegmentedControl",props:n,classes:C7,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Qwe}),A=Zi(),j=c.map(J=>typeof J=="string"?{label:J,value:J}:J),E=Sme(),[_,Q]=S.useState(null),[M,L]=S.useState({}),V=(J,q)=>{M[q]=J,L(M)},[W,H]=Oi({value:u,defaultValue:d,finalValue:Array.isArray(c)?((ee=j.find(J=>!J.disabled))==null?void 0:ee.value)??((re=c[0])==null?void 0:re.value)??null:null,onChange:f}),le=vs(m),fe=j.map(J=>S.createElement(Ae,{...T("control"),mod:{active:W===J.value,orientation:b},key:J.value},S.createElement("input",{...T("input"),disabled:g||J.disabled,type:"radio",name:le,value:J.value,id:`${le}-${J.value}`,checked:W===J.value,onChange:()=>!y&&H(J.value),"data-focus-ring":A.focusRing,key:`${J.value}-input`}),S.createElement(Ae,{component:"label",...T("label"),mod:{active:W===J.value&&!(g||J.disabled),disabled:g||J.disabled,"read-only":y},htmlFor:`${le}-${J.value}`,ref:q=>V(q,J.value),__vars:{"--sc-label-color":x!==void 0?eO({color:x,theme:A,autoContrast:C}):void 0},key:`${J.value}-label`},p.jsx("span",{...T("innerLabel"),children:J.label})))),U=gn(e,J=>Q(J));return c.length===0?null:p.jsxs(Ae,{...T("root"),variant:$,size:h,ref:U,mod:[{"full-width":O,orientation:b,initialized:E,"with-items-borders":N},P],...R,role:"radiogroup","data-disabled":g,children:[typeof W=="string"&&p.jsx(FT,{target:M[W],parent:_,component:"span",transitionDuration:"var(--sc-transition-duration)",...T("indicator")}),fe]})});Bd.classes=C7;Bd.displayName="@mantine/core/SegmentedControl";const Iwe={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Ja=Ie((t,e)=>{const n=Ce("Select",Iwe,t),{classNames:r,styles:i,unstyled:s,vars:o,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:c,onDropdownOpen:u,onFocus:d,onBlur:f,onClick:h,onChange:m,data:g,value:y,defaultValue:O,selectFirstOptionOnChange:b,onOptionSubmit:w,comboboxProps:x,readOnly:v,disabled:k,filter:$,limit:C,withScrollArea:N,maxDropdownHeight:P,size:R,searchable:T,rightSection:A,checkIconPosition:j,withCheckIcon:E,nothingFoundMessage:_,name:Q,form:M,searchValue:L,defaultSearchValue:V,onSearchChange:W,allowDeselect:H,error:le,rightSectionPointerEvents:fe,id:U,clearable:ee,clearButtonProps:re,hiddenInputProps:J,renderOption:q,onClear:oe,autoComplete:B,scrollAreaProps:ie,__defaultRightSection:ce,__clearSection:de,__clearable:z,chevronColor:ne,...X}=n,ae=S.useMemo(()=>G6(g),[g]),se=S.useMemo(()=>VT(ae),[ae]),te=vs(U),[ge,pe,me]=Oi({value:y,defaultValue:O,finalValue:null,onChange:m}),ue=typeof ge=="string"?se[ge]:void 0,he=wme(ue),[ye,ke]=Oi({value:L,defaultValue:V,finalValue:ue?ue.label:"",onChange:W}),Pe=JT({opened:a,defaultOpened:l,onDropdownOpen:()=>{u==null||u(),Pe.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{c==null||c(),Pe.resetSelectedOption()}}),{resolvedClassNames:et,resolvedStyles:He}=dp({props:n,styles:i,classNames:r});S.useEffect(()=>{b&&Pe.selectFirstOption()},[b,ge]),S.useEffect(()=>{y===null&&ke(""),typeof y=="string"&&ue&&((he==null?void 0:he.value)!==ue.value||(he==null?void 0:he.label)!==ue.label)&&ke(ue.label)},[y,ue]);const kn=p.jsx(yt.ClearButton,{...re,onClear:()=>{pe(null,null),ke(""),oe==null||oe()}});return p.jsxs(p.Fragment,{children:[p.jsxs(yt,{store:Pe,__staticSelector:"Select",classNames:et,styles:He,unstyled:s,readOnly:v,onOptionSubmit:fn=>{w==null||w(fn);const $n=H&&se[fn].value===ge?null:se[fn],Hi=$n?$n.value:null;Hi!==ge&&pe(Hi,$n),!me&&ke(typeof Hi=="string"&&($n==null?void 0:$n.label)||""),Pe.closeDropdown()},size:R,...x,children:[p.jsx(yt.Target,{targetType:T?"input":"button",autoComplete:B,children:p.jsx($s,{id:te,ref:e,__defaultRightSection:p.jsx(yt.Chevron,{size:R,error:le,unstyled:s,color:ne}),__clearSection:kn,__clearable:ee&&!!ge&&!k&&!v,rightSection:A,rightSectionPointerEvents:fe||(kn?"all":"none"),...X,size:R,__staticSelector:"Select",disabled:k,readOnly:v||!T,value:ye,onChange:fn=>{ke(fn.currentTarget.value),Pe.openDropdown(),b&&Pe.selectFirstOption()},onFocus:fn=>{T&&Pe.openDropdown(),d==null||d(fn)},onBlur:fn=>{var $n;T&&Pe.closeDropdown(),ke(ge!=null&&(($n=se[ge])==null?void 0:$n.label)||""),f==null||f(fn)},onClick:fn=>{T?Pe.openDropdown():Pe.toggleDropdown(),h==null||h(fn)},classNames:et,styles:He,unstyled:s,pointer:!T,error:le})}),p.jsx(o7,{data:ae,hidden:v||k,filter:$,search:ye,limit:C,hiddenWhenEmpty:!_,withScrollArea:N,maxDropdownHeight:P,filterOptions:T&&(ue==null?void 0:ue.label)!==ye,value:ge,checkIconPosition:j,withCheckIcon:E,nothingFoundMessage:_,unstyled:s,labelId:X.label?`${te}-label`:void 0,"aria-label":X.label?void 0:X["aria-label"],renderOption:q,scrollAreaProps:ie})]}),p.jsx(yt.HiddenInput,{value:ge,name:Q,form:M,disabled:k,...J})]})});Ja.classes={...$s.classes,...yt.classes};Ja.displayName="@mantine/core/Select";const[Dwe,L1]=Tl("SliderProvider was not found in tree"),P7=S.forwardRef(({size:t,disabled:e,variant:n,color:r,thumbSize:i,radius:s,...o},a)=>{const{getStyles:l}=L1();return p.jsx(Ae,{tabIndex:-1,variant:n,size:t,ref:a,...l("root"),...o})});P7.displayName="@mantine/core/SliderRoot";const j7=S.forwardRef(({max:t,min:e,value:n,position:r,label:i,dragging:s,onMouseDown:o,onKeyDownCapture:a,labelTransitionProps:l,labelAlwaysOn:c,thumbLabel:u,onFocus:d,onBlur:f,showLabelOnHover:h,isHovered:m,children:g=null,disabled:y},O)=>{const{getStyles:b}=L1(),[w,x]=S.useState(!1),v=c||s||w||h&&m;return p.jsxs(Ae,{tabIndex:0,role:"slider","aria-label":u,"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":n,ref:O,__vars:{"--slider-thumb-offset":`${r}%`},...b("thumb",{focusable:!0}),mod:{dragging:s,disabled:y},onFocus:k=>{x(!0),typeof d=="function"&&d(k)},onBlur:k=>{x(!1),typeof f=="function"&&f(k)},onTouchStart:o,onMouseDown:o,onKeyDownCapture:a,onClick:k=>k.stopPropagation(),children:[g,p.jsx(su,{mounted:i!=null&&!!v,transition:"fade",duration:0,...l,children:k=>p.jsx("div",{...b("label",{style:k}),children:i})})]})});j7.displayName="@mantine/core/SliderThumb";function N7({value:t,min:e,max:n}){const r=(t-e)/(n-e)*100;return Math.min(Math.max(r,0),100)}function Lwe({mark:t,offset:e,value:n,inverted:r=!1}){return r?typeof e=="number"&&t.value<=e||t.value>=n:typeof e=="number"?t.value>=e&&t.value<=n:t.value<=n}function E7({marks:t,min:e,max:n,disabled:r,value:i,offset:s,inverted:o}){const{getStyles:a}=L1();if(!t)return null;const l=t.map((c,u)=>S.createElement(Ae,{...a("markWrapper"),__vars:{"--mark-offset":`${N7({value:c.value,min:e,max:n})}%`},key:u},p.jsx(Ae,{...a("mark"),mod:{filled:Lwe({mark:c,value:i,offset:s,inverted:o}),disabled:r}}),c.label&&p.jsx("div",{...a("markLabel"),children:c.label})));return p.jsx("div",{children:l})}E7.displayName="@mantine/core/SliderMarks";function _7({filled:t,children:e,offset:n,disabled:r,marksOffset:i,inverted:s,containerProps:o,...a}){const{getStyles:l}=L1();return p.jsx(Ae,{...l("trackContainer"),mod:{disabled:r},...o,children:p.jsxs(Ae,{...l("track"),mod:{inverted:s,disabled:r},children:[p.jsx(Ae,{mod:{inverted:s,disabled:r},__vars:{"--slider-bar-width":`calc(${t}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...l("bar")}),e,p.jsx(E7,{...a,offset:i,disabled:r,inverted:s})]})})}_7.displayName="@mantine/core/SliderTrack";function Fwe({value:t,containerWidth:e,min:n,max:r,step:i,precision:s}){const a=(e?Math.min(Math.max(t,0),e)/e:t)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,c=Math.max(l,n);return s!==void 0?Number(c.toFixed(s)):c}function jb(t,e){return parseFloat(t.toFixed(e))}function Vwe(t){if(!t)return 0;const e=t.toString().split(".");return e.length>1?e[1].length:0}function b$(t,e){const r=[...e].sort((i,s)=>i.value-s.value).find(i=>i.value>t);return r?r.value:t}function x$(t,e){const r=[...e].sort((i,s)=>s.value-i.value).find(i=>i.value<t);return r?r.value:t}function h5(t){const e=[...t].sort((n,r)=>n.value-r.value);return e.length>0?e[0].value:0}function p5(t){const e=[...t].sort((n,r)=>n.value-r.value);return e.length>0?e[e.length-1].value:100}var T7={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const Bwe={radius:"xl",min:0,max:100,step:1,marks:[],label:t=>t,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:t=>t},qwe=(t,{size:e,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":wt(e,"slider-size"),"--slider-color":n?Dr(n,t):void 0,"--slider-radius":i===void 0?void 0:Un(i),"--slider-thumb-size":r!==void 0?be(r):"calc(var(--slider-size) * 2)"}}),mA=Ie((t,e)=>{const n=Ce("Slider",Bwe,t),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:l,min:c,max:u,step:d,precision:f,defaultValue:h,name:m,marks:g,label:y,labelTransitionProps:O,labelAlwaysOn:b,thumbLabel:w,showLabelOnHover:x,thumbChildren:v,disabled:k,unstyled:$,scale:C,inverted:N,className:P,style:R,vars:T,hiddenInputProps:A,restrictToMarks:j,thumbProps:E,..._}=n,Q=it({name:"Slider",props:n,classes:T7,classNames:r,className:P,styles:i,style:R,vars:T,varsResolver:qwe,unstyled:$}),{dir:M}=iu(),[L,V]=S.useState(!1),[W,H]=Oi({value:typeof s=="number"?sl(s,c,u):s,defaultValue:typeof h=="number"?sl(h,c,u):h,finalValue:sl(0,c,u),onChange:o}),le=S.useRef(W),fe=S.useRef(null),U=S.useRef(null),ee=N7({value:W,min:c,max:u}),re=C(W),J=typeof y=="function"?y(re):y,q=f??Vwe(d),oe=S.useCallback(({x:de})=>{if(!k){const z=Fwe({value:de,min:c,max:u,step:d,precision:q});H(j&&(g!=null&&g.length)?wD(z,g.map(ne=>ne.value)):z),le.current=z}},[k,c,u,d,q,H,g,j]),{ref:B,active:ie}=bme(oe,{onScrubEnd:()=>!k&&(a==null?void 0:a(j&&(g!=null&&g.length)?wD(le.current,g.map(de=>de.value)):le.current))},M),ce=de=>{var z,ne,X,ae,se,te;if(!k)switch(de.key){case"ArrowUp":{if(de.preventDefault(),(z=U.current)==null||z.focus(),j&&g){const pe=b$(W,g);H(pe),a==null||a(pe);break}const ge=jb(Math.min(Math.max(W+d,c),u),q);H(ge),a==null||a(ge);break}case"ArrowRight":{if(de.preventDefault(),(ne=U.current)==null||ne.focus(),j&&g){const pe=M==="rtl"?x$(W,g):b$(W,g);H(pe),a==null||a(pe);break}const ge=jb(Math.min(Math.max(M==="rtl"?W-d:W+d,c),u),q);H(ge),a==null||a(ge);break}case"ArrowDown":{if(de.preventDefault(),(X=U.current)==null||X.focus(),j&&g){const pe=x$(W,g);H(pe),a==null||a(pe);break}const ge=jb(Math.min(Math.max(W-d,c),u),q);H(ge),a==null||a(ge);break}case"ArrowLeft":{if(de.preventDefault(),(ae=U.current)==null||ae.focus(),j&&g){const pe=M==="rtl"?b$(W,g):x$(W,g);H(pe),a==null||a(pe);break}const ge=jb(Math.min(Math.max(M==="rtl"?W+d:W-d,c),u),q);H(ge),a==null||a(ge);break}case"Home":{if(de.preventDefault(),(se=U.current)==null||se.focus(),j&&g){H(h5(g)),a==null||a(h5(g));break}H(c),a==null||a(c);break}case"End":{if(de.preventDefault(),(te=U.current)==null||te.focus(),j&&g){H(p5(g)),a==null||a(p5(g));break}H(u),a==null||a(u);break}}};return p.jsx(Dwe,{value:{getStyles:Q},children:p.jsxs(P7,{..._,ref:gn(e,fe),onKeyDownCapture:ce,onMouseDownCapture:()=>{var de;return(de=fe.current)==null?void 0:de.focus()},size:l,disabled:k,children:[p.jsx(_7,{inverted:N,offset:0,filled:ee,marks:g,min:c,max:u,value:re,disabled:k,containerProps:{ref:B,onMouseEnter:x?()=>V(!0):void 0,onMouseLeave:x?()=>V(!1):void 0},children:p.jsx(j7,{max:u,min:c,value:re,position:ee,dragging:ie,label:J,ref:U,labelTransitionProps:O,labelAlwaysOn:b,thumbLabel:w,showLabelOnHover:x,isHovered:L,disabled:k,...E,children:v})}),p.jsx("input",{type:"hidden",name:m,value:re,...A})]})})});mA.classes=T7;mA.displayName="@mantine/core/Slider";const A7=S.createContext(null),Wwe=A7.Provider,zwe=()=>S.useContext(A7),Zwe={},gA=Ie((t,e)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:l,...c}=Ce("SwitchGroup",Zwe,t),[u,d]=Oi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const m=h.currentTarget.value;!l&&d(u.includes(m)?u.filter(g=>g!==m):[...u,m])};return p.jsx(Wwe,{value:{value:u,onChange:f,size:s},children:p.jsx(ut.Wrapper,{size:s,ref:e,...o,...c,labelElement:"div",__staticSelector:"SwitchGroup",children:p.jsx(n7,{role:"group",children:a})})})});gA.classes=ut.Wrapper.classes;gA.displayName="@mantine/core/SwitchGroup";var R7={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const Uwe={labelPosition:"right"},Xwe=(t,{radius:e,color:n,size:r})=>({root:{"--switch-radius":e===void 0?void 0:Un(e),"--switch-height":wt(r,"switch-height"),"--switch-width":wt(r,"switch-width"),"--switch-thumb-size":wt(r,"switch-thumb-size"),"--switch-label-font-size":wt(r,"switch-label-font-size"),"--switch-track-label-padding":wt(r,"switch-track-label-padding"),"--switch-color":n?Dr(n,t):void 0}}),uo=Ie((t,e)=>{const n=Ce("Switch",Uwe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:c,label:u,offLabel:d,onLabel:f,id:h,size:m,radius:g,wrapperProps:y,thumbIcon:O,checked:b,defaultChecked:w,onChange:x,labelPosition:v,description:k,error:$,disabled:C,variant:N,rootRef:P,mod:R,...T}=n,A=zwe(),j=m||(A==null?void 0:A.size),E=it({name:"Switch",props:n,classes:R7,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Xwe}),{styleProps:_,rest:Q}=fp(T),M=vs(h),L=A?{checked:A.value.includes(Q.value),onChange:A.onChange}:{},[V,W]=Oi({value:L.checked??b,defaultValue:w,finalValue:!1});return p.jsxs(KT,{...E("root"),__staticSelector:"Switch",__stylesApiProps:n,id:M,size:j,labelPosition:v,label:u,description:k,error:$,disabled:C,bodyElement:"label",labelElement:"span",classNames:r,styles:o,unstyled:a,"data-checked":L.checked||b||void 0,variant:N,ref:P,mod:R,..._,...y,children:[p.jsx("input",{...Q,disabled:C,checked:V,"data-checked":L.checked||b||void 0,onChange:H=>{var le;A?(le=L.onChange)==null||le.call(L,H):x==null||x(H),W(H.currentTarget.checked)},id:M,ref:e,type:"checkbox",role:"switch",...E("input")}),p.jsxs(Ae,{"aria-hidden":"true",mod:{error:$,"label-position":v,"without-labels":!f&&!d},...E("track"),children:[p.jsx(Ae,{component:"span",mod:"reduce-motion",...E("thumb"),children:O}),p.jsx("span",{...E("trackLabel"),children:V?f:d})]})]})});uo.classes={...R7,...Mbe};uo.displayName="@mantine/core/Switch";uo.Group=gA;const[Gwe,yA]=Tl("Tabs component was not found in the tree");var oO={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const Ywe={},OA=Ie((t,e)=>{const n=Ce("TabsList",Ywe,t),{children:r,className:i,grow:s,justify:o,classNames:a,styles:l,style:c,mod:u,...d}=n,f=yA();return p.jsx(Ae,{...d,...f.getStyles("list",{className:i,style:c,classNames:a,styles:l,props:n,variant:f.variant}),ref:e,role:"tablist",variant:f.variant,mod:[{grow:s,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},u],"aria-orientation":f.orientation,__vars:{"--tabs-justify":o},children:r})});OA.classes=oO;OA.displayName="@mantine/core/TabsList";const Hwe={},bA=Ie((t,e)=>{const n=Ce("TabsPanel",Hwe,t),{children:r,className:i,value:s,classNames:o,styles:a,style:l,mod:c,keepMounted:u,...d}=n,f=yA(),h=f.value===s,m=f.keepMounted||u||h?r:null;return p.jsx(Ae,{...d,...f.getStyles("panel",{className:i,classNames:o,styles:a,style:[l,h?void 0:{display:"none"}],props:n}),ref:e,mod:[{orientation:f.orientation},c],role:"tabpanel",id:f.getPanelId(s),"aria-labelledby":f.getTabId(s),children:m})});bA.classes=oO;bA.displayName="@mantine/core/TabsPanel";const Jwe={},xA=Ie((t,e)=>{const n=Ce("TabsTab",Jwe,t),{className:r,children:i,rightSection:s,leftSection:o,value:a,onClick:l,onKeyDown:c,disabled:u,color:d,style:f,classNames:h,styles:m,vars:g,mod:y,tabIndex:O,...b}=n,w=Zi(),{dir:x}=iu(),v=yA(),k=a===v.value,$=N=>{v.onChange(v.allowTabDeactivation&&a===v.value?null:a),l==null||l(N)},C={classNames:h,styles:m,props:n};return p.jsxs(xl,{...b,...v.getStyles("tab",{className:r,style:f,variant:v.variant,...C}),disabled:u,unstyled:v.unstyled,variant:v.variant,mod:[{active:k,disabled:u,orientation:v.orientation,inverted:v.inverted,placement:v.orientation==="vertical"&&v.placement},y],ref:e,role:"tab",id:v.getTabId(a),"aria-selected":k,tabIndex:O||k||v.value===null?0:-1,"aria-controls":v.getPanelId(a),onClick:$,__vars:{"--tabs-color":d?Dr(d,w):void 0},onKeyDown:PZ({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:v.activateTabWithKeyboard,loop:v.loop,orientation:v.orientation||"horizontal",dir:x,onKeyDown:c}),children:[o&&p.jsx("span",{...v.getStyles("tabSection",C),"data-position":"left",children:o}),i&&p.jsx("span",{...v.getStyles("tabLabel",C),children:i}),s&&p.jsx("span",{...v.getStyles("tabSection",C),"data-position":"right",children:s})]})});xA.classes=oO;xA.displayName="@mantine/core/TabsTab";const m5="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",Kwe={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},eve=(t,{radius:e,color:n,autoContrast:r})=>({root:{"--tabs-radius":Un(e),"--tabs-color":Dr(n,t),"--tabs-text-color":mT(r,t)?eO({color:n,theme:t,autoContrast:r}):void 0}}),pn=Ie((t,e)=>{const n=Ce("Tabs",Kwe,t),{defaultValue:r,value:i,onChange:s,orientation:o,children:a,loop:l,id:c,activateTabWithKeyboard:u,allowTabDeactivation:d,variant:f,color:h,radius:m,inverted:g,placement:y,keepMounted:O,classNames:b,styles:w,unstyled:x,className:v,style:k,vars:$,autoContrast:C,mod:N,...P}=n,R=vs(c),[T,A]=Oi({value:i,defaultValue:r,finalValue:null,onChange:s}),j=it({name:"Tabs",props:n,classes:oO,className:v,style:k,classNames:b,styles:w,unstyled:x,vars:$,varsResolver:eve});return p.jsx(Gwe,{value:{placement:y,value:T,orientation:o,id:R,loop:l,activateTabWithKeyboard:u,getTabId:bD(`${R}-tab`,m5),getPanelId:bD(`${R}-panel`,m5),onChange:A,allowTabDeactivation:d,variant:f,color:h,radius:m,inverted:g,keepMounted:O,unstyled:x,getStyles:j},children:p.jsx(Ae,{ref:e,id:R,variant:f,mod:[{orientation:o,inverted:o==="horizontal"&&g,placement:o==="vertical"&&y},N],...j("root"),...P,children:a})})});pn.classes=oO;pn.displayName="@mantine/core/Tabs";pn.Tab=xA;pn.Panel=bA;pn.List=OA;function tve({data:t,value:e}){const n=e.map(i=>i.trim().toLowerCase());return t.reduce((i,s)=>(jh(s)?i.push({group:s.group,items:s.items.filter(o=>n.indexOf(o.label.toLowerCase().trim())===-1)}):n.indexOf(s.label.toLowerCase().trim())===-1&&i.push(s),i),[])}function nve(t,e){return t?e.split(new RegExp(`[${t.join("")}]`)).map(n=>n.trim()).filter(n=>n!==""):[e]}function g5({splitChars:t,allowDuplicates:e,maxTags:n,value:r,currentTags:i}){const s=nve(t,r),o=e?[...i,...s]:[...new Set([...i,...s])];return n?o.slice(0,n):o}const rve={maxTags:1/0,allowDuplicates:!1,acceptValueOnBlur:!0,splitChars:[","],hiddenInputValuesDivider:","},Qg=Ie((t,e)=>{const n=Ce("TagsInput",rve,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:c,value:u,defaultValue:d,onChange:f,onKeyDown:h,maxTags:m,allowDuplicates:g,onDuplicate:y,variant:O,data:b,dropdownOpened:w,defaultDropdownOpened:x,onDropdownOpen:v,onDropdownClose:k,selectFirstOptionOnChange:$,onOptionSubmit:C,comboboxProps:N,filter:P,limit:R,withScrollArea:T,maxDropdownHeight:A,searchValue:j,defaultSearchValue:E,onSearchChange:_,readOnly:Q,disabled:M,splitChars:L,onFocus:V,onBlur:W,onPaste:H,radius:le,rightSection:fe,rightSectionWidth:U,rightSectionPointerEvents:ee,rightSectionProps:re,leftSection:J,leftSectionWidth:q,leftSectionPointerEvents:oe,leftSectionProps:B,inputContainer:ie,inputWrapperOrder:ce,withAsterisk:de,required:z,labelProps:ne,descriptionProps:X,errorProps:ae,wrapperProps:se,description:te,label:ge,error:pe,withErrorStyles:me,name:ue,form:he,id:ye,clearable:ke,clearButtonProps:Pe,hiddenInputProps:et,hiddenInputValuesDivider:He,mod:kn,renderOption:fn,onRemove:$n,onClear:Hi,scrollAreaProps:Ji,acceptValueOnBlur:Rs,...hb}=n,om=vs(ye),pb=G6(b),Ik=VT(pb),mb=S.useRef(null),Dk=gn(mb,e),vo=JT({opened:w,defaultOpened:x,onDropdownOpen:v,onDropdownClose:()=>{k==null||k(),vo.resetSelectedOption()}}),{styleProps:gb,rest:{type:GI,autoComplete:Lk,...Fk}}=fp(hb),[On,Ca]=Oi({value:u,defaultValue:d,finalValue:[],onChange:f}),[Pa,Zl]=Oi({value:j,defaultValue:E,finalValue:"",onChange:_}),am=it({name:"TagsInput",classes:{},props:n,classNames:r,styles:o,unstyled:a}),{resolvedClassNames:yb,resolvedStyles:Ob}=dp({props:n,styles:o,classNames:r}),bb=ot=>{const ri=On.some(So=>So.toLowerCase()===ot.toLowerCase());ri&&(y==null||y(ot)),(!ri||ri&&g)&&On.length<m&&(C==null||C(ot),Zl(""),ot.length>0&&Ca([...On,ot]))},Vk=ot=>{if(h==null||h(ot),ot.isPropagationStopped())return;const ri=Pa.trim(),{length:So}=ri;if(L.includes(ot.key)&&So>0&&(Ca(g5({splitChars:L,allowDuplicates:g,maxTags:m,value:Pa,currentTags:On})),Zl(""),ot.preventDefault()),ot.key==="Enter"&&So>0&&!ot.nativeEvent.isComposing){if(ot.preventDefault(),!!document.querySelector(`#${vo.listId} [data-combobox-option][data-combobox-selected]`))return;bb(ri)}ot.key==="Backspace"&&So===0&&On.length>0&&!ot.nativeEvent.isComposing&&($n==null||$n(On[On.length-1]),Ca(On.slice(0,On.length-1)))},Bk=ot=>{if(H==null||H(ot),ot.preventDefault(),ot.clipboardData){const ri=ot.clipboardData.getData("text/plain");Ca(g5({splitChars:L,allowDuplicates:g,maxTags:m,value:`${Pa}${ri}`,currentTags:On})),Zl("")}},qk=On.map((ot,ri)=>p.jsx(Ag,{withRemoveButton:!Q,onRemove:()=>{const So=On.slice();So.splice(ri,1),Ca(So),$n==null||$n(ot)},unstyled:a,disabled:M,...am("pill"),children:ot},`${ot}-${ri}`));S.useEffect(()=>{$&&vo.selectFirstOption()},[$,On,Pa]);const Wk=p.jsx(yt.ClearButton,{...Pe,onClear:()=>{var ot;Ca([]),Zl(""),(ot=mb.current)==null||ot.focus(),vo.openDropdown(),Hi==null||Hi()}});return p.jsxs(p.Fragment,{children:[p.jsxs(yt,{store:vo,classNames:yb,styles:Ob,unstyled:a,size:c,readOnly:Q,__staticSelector:"TagsInput",onOptionSubmit:ot=>{C==null||C(ot),Zl(""),On.length<m&&Ca([...On,Ik[ot].label]),vo.resetSelectedOption()},...N,children:[p.jsx(yt.DropdownTarget,{children:p.jsx(iv,{...gb,__staticSelector:"TagsInput",classNames:yb,styles:Ob,unstyled:a,size:c,className:i,style:s,variant:O,disabled:M,radius:le,rightSection:fe,__clearSection:Wk,__clearable:ke&&On.length>0&&!M&&!Q,rightSectionWidth:U,rightSectionPointerEvents:ee,rightSectionProps:re,leftSection:J,leftSectionWidth:q,leftSectionPointerEvents:oe,leftSectionProps:B,inputContainer:ie,inputWrapperOrder:ce,withAsterisk:de,required:z,labelProps:ne,descriptionProps:X,errorProps:ae,wrapperProps:se,description:te,label:ge,error:pe,multiline:!0,withErrorStyles:me,__stylesApiProps:{...n,multiline:!0},id:om,mod:kn,children:p.jsxs(Ag.Group,{disabled:M,unstyled:a,...am("pillsList"),children:[qk,p.jsx(yt.EventsTarget,{autoComplete:Lk,children:p.jsx(iv.Field,{...Fk,ref:Dk,...am("inputField"),unstyled:a,onKeyDown:Vk,onFocus:ot=>{V==null||V(ot),vo.openDropdown()},onBlur:ot=>{W==null||W(ot),Rs&&bb(Pa),vo.closeDropdown()},onPaste:Bk,value:Pa,onChange:ot=>Zl(ot.currentTarget.value),required:z&&On.length===0,disabled:M,readOnly:Q,id:om})})]})})}),p.jsx(o7,{data:tve({data:pb,value:On}),hidden:Q||M,filter:P,search:Pa,limit:R,hiddenWhenEmpty:!0,withScrollArea:T,maxDropdownHeight:A,unstyled:a,labelId:ge?`${om}-label`:void 0,"aria-label":ge?void 0:hb["aria-label"],renderOption:fn,scrollAreaProps:Ji})]}),p.jsx(yt.HiddenInput,{name:ue,form:he,value:On,valuesDivider:He,disabled:M,...et})]})});Qg.classes={...$s.classes,...yt.classes};Qg.displayName="@mantine/core/TagsInput";const ive={},Rt=Ie((t,e)=>{const n=Ce("TextInput",ive,t);return p.jsx($s,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});Rt.classes=$s.classes;Rt.displayName="@mantine/core/TextInput";var sve=(t,e)=>new Response(t,{headers:{"Content-Type":e}}).formData(),ove=/^application\/([a-z-\.]+\+)?json(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,ave=/^multipart\/form-data(;\s?boundary=[a-zA-Z0-9'"()+_,\-./:=?]+)?$/,lve=/^application\/x-www-form-urlencoded(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,cve=(t,e)=>async(n,r)=>{let i={};const s=n.req.header("Content-Type");switch(t){case"json":if(!s||!ove.test(s))break;try{i=await n.req.json()}catch{const a="Malformed JSON in request body";throw new jj(400,{message:a})}break;case"form":{if(!s||!(ave.test(s)||lve.test(s)))break;let a;if(n.req.bodyCache.formData)a=await n.req.bodyCache.formData;else try{const c=await n.req.arrayBuffer();a=await sve(c,s),n.req.bodyCache.formData=a}catch(c){let u="Malformed FormData request.";throw u+=c instanceof Error?` ${c.message}`:` ${String(c)}`,new jj(400,{message:u})}const l={};a.forEach((c,u)=>{u.endsWith("[]")?(l[u]??(l[u]=[])).push(c):Array.isArray(l[u])?l[u].push(c):u in l?l[u]=[l[u],c]:l[u]=c}),i=l;break}case"query":i=Object.fromEntries(Object.entries(n.req.queries()).map(([a,l])=>l.length===1?[a,l[0]]:[a,l]));break;case"param":i=n.req.param();break;case"header":i=n.req.header();break;case"cookie":i=lZ(n);break}const o=await e(i,n);if(o instanceof Response)return o;n.req.addValidatedData(t,o),await r()},w$={},v$={},y5;function wA(){return y5||(y5=1,function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+e+"]["+n+"]*",i=new RegExp("^"+r+"$"),s=function(a,l){const c=[];let u=l.exec(a);for(;u;){const d=[];d.startIndex=l.lastIndex-u[0].length;const f=u.length;for(let h=0;h<f;h++)d.push(u[h]);c.push(d),u=l.exec(a)}return c},o=function(a){const l=i.exec(a);return!(l===null||typeof l>"u")};t.isExist=function(a){return typeof a<"u"},t.isEmptyObject=function(a){return Object.keys(a).length===0},t.merge=function(a,l,c){if(l){const u=Object.keys(l),d=u.length;for(let f=0;f<d;f++)c==="strict"?a[u[f]]=[l[u[f]]]:a[u[f]]=l[u[f]]}},t.getValue=function(a){return t.isExist(a)?a:""},t.isName=o,t.getAllMatches=s,t.nameRegexp=r}(v$)),v$}var O5;function M7(){if(O5)return w$;O5=1;const t=wA(),e={allowBooleanAttributes:!1,unpairedTags:[]};w$.validate=function(O,b){b=Object.assign({},e,b);const w=[];let x=!1,v=!1;O[0]==="\uFEFF"&&(O=O.substr(1));for(let k=0;k<O.length;k++)if(O[k]==="<"&&O[k+1]==="?"){if(k+=2,k=r(O,k),k.err)return k}else if(O[k]==="<"){let $=k;if(k++,O[k]==="!"){k=i(O,k);continue}else{let C=!1;O[k]==="/"&&(C=!0,k++);let N="";for(;k<O.length&&O[k]!==">"&&O[k]!==" "&&O[k]!=="	"&&O[k]!==`
`&&O[k]!=="\r";k++)N+=O[k];if(N=N.trim(),N[N.length-1]==="/"&&(N=N.substring(0,N.length-1),k--),!m(N)){let T;return N.trim().length===0?T="Invalid space after '<'.":T="Tag '"+N+"' is an invalid name.",f("InvalidTag",T,g(O,k))}const P=a(O,k);if(P===!1)return f("InvalidAttr","Attributes for '"+N+"' have open quote.",g(O,k));let R=P.value;if(k=P.index,R[R.length-1]==="/"){const T=k-R.length;R=R.substring(0,R.length-1);const A=c(R,b);if(A===!0)x=!0;else return f(A.err.code,A.err.msg,g(O,T+A.err.line))}else if(C)if(P.tagClosed){if(R.trim().length>0)return f("InvalidTag","Closing tag '"+N+"' can't have attributes or invalid starting.",g(O,$));if(w.length===0)return f("InvalidTag","Closing tag '"+N+"' has not been opened.",g(O,$));{const T=w.pop();if(N!==T.tagName){let A=g(O,T.tagStartPos);return f("InvalidTag","Expected closing tag '"+T.tagName+"' (opened in line "+A.line+", col "+A.col+") instead of closing tag '"+N+"'.",g(O,$))}w.length==0&&(v=!0)}}else return f("InvalidTag","Closing tag '"+N+"' doesn't have proper closing.",g(O,k));else{const T=c(R,b);if(T!==!0)return f(T.err.code,T.err.msg,g(O,k-R.length+T.err.line));if(v===!0)return f("InvalidXml","Multiple possible root nodes found.",g(O,k));b.unpairedTags.indexOf(N)!==-1||w.push({tagName:N,tagStartPos:$}),x=!0}for(k++;k<O.length;k++)if(O[k]==="<")if(O[k+1]==="!"){k++,k=i(O,k);continue}else if(O[k+1]==="?"){if(k=r(O,++k),k.err)return k}else break;else if(O[k]==="&"){const T=d(O,k);if(T==-1)return f("InvalidChar","char '&' is not expected.",g(O,k));k=T}else if(v===!0&&!n(O[k]))return f("InvalidXml","Extra text at the end",g(O,k));O[k]==="<"&&k--}}else{if(n(O[k]))continue;return f("InvalidChar","char '"+O[k]+"' is not expected.",g(O,k))}if(x){if(w.length==1)return f("InvalidTag","Unclosed tag '"+w[0].tagName+"'.",g(O,w[0].tagStartPos));if(w.length>0)return f("InvalidXml","Invalid '"+JSON.stringify(w.map(k=>k.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return f("InvalidXml","Start tag expected.",1);return!0};function n(O){return O===" "||O==="	"||O===`
`||O==="\r"}function r(O,b){const w=b;for(;b<O.length;b++)if(O[b]=="?"||O[b]==" "){const x=O.substr(w,b-w);if(b>5&&x==="xml")return f("InvalidXml","XML declaration allowed only at the start of the document.",g(O,b));if(O[b]=="?"&&O[b+1]==">"){b++;break}else continue}return b}function i(O,b){if(O.length>b+5&&O[b+1]==="-"&&O[b+2]==="-"){for(b+=3;b<O.length;b++)if(O[b]==="-"&&O[b+1]==="-"&&O[b+2]===">"){b+=2;break}}else if(O.length>b+8&&O[b+1]==="D"&&O[b+2]==="O"&&O[b+3]==="C"&&O[b+4]==="T"&&O[b+5]==="Y"&&O[b+6]==="P"&&O[b+7]==="E"){let w=1;for(b+=8;b<O.length;b++)if(O[b]==="<")w++;else if(O[b]===">"&&(w--,w===0))break}else if(O.length>b+9&&O[b+1]==="["&&O[b+2]==="C"&&O[b+3]==="D"&&O[b+4]==="A"&&O[b+5]==="T"&&O[b+6]==="A"&&O[b+7]==="["){for(b+=8;b<O.length;b++)if(O[b]==="]"&&O[b+1]==="]"&&O[b+2]===">"){b+=2;break}}return b}const s='"',o="'";function a(O,b){let w="",x="",v=!1;for(;b<O.length;b++){if(O[b]===s||O[b]===o)x===""?x=O[b]:x!==O[b]||(x="");else if(O[b]===">"&&x===""){v=!0;break}w+=O[b]}return x!==""?!1:{value:w,index:b,tagClosed:v}}const l=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function c(O,b){const w=t.getAllMatches(O,l),x={};for(let v=0;v<w.length;v++){if(w[v][1].length===0)return f("InvalidAttr","Attribute '"+w[v][2]+"' has no space in starting.",y(w[v]));if(w[v][3]!==void 0&&w[v][4]===void 0)return f("InvalidAttr","Attribute '"+w[v][2]+"' is without value.",y(w[v]));if(w[v][3]===void 0&&!b.allowBooleanAttributes)return f("InvalidAttr","boolean attribute '"+w[v][2]+"' is not allowed.",y(w[v]));const k=w[v][2];if(!h(k))return f("InvalidAttr","Attribute '"+k+"' is an invalid name.",y(w[v]));if(!x.hasOwnProperty(k))x[k]=1;else return f("InvalidAttr","Attribute '"+k+"' is repeated.",y(w[v]))}return!0}function u(O,b){let w=/\d/;for(O[b]==="x"&&(b++,w=/[\da-fA-F]/);b<O.length;b++){if(O[b]===";")return b;if(!O[b].match(w))break}return-1}function d(O,b){if(b++,O[b]===";")return-1;if(O[b]==="#")return b++,u(O,b);let w=0;for(;b<O.length;b++,w++)if(!(O[b].match(/\w/)&&w<20)){if(O[b]===";")break;return-1}return b}function f(O,b,w){return{err:{code:O,msg:b,line:w.line||w,col:w.col}}}function h(O){return t.isName(O)}function m(O){return t.isName(O)}function g(O,b){const w=O.substring(0,b).split(/\r?\n/);return{line:w.length,col:w[w.length-1].length+1}}function y(O){return O.startIndex+O[1].length}return w$}var Nb={},b5;function uve(){if(b5)return Nb;b5=1;const t={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(n,r){return r},attributeValueProcessor:function(n,r){return r},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(n,r,i){return n}},e=function(n){return Object.assign({},t,n)};return Nb.buildOptions=e,Nb.defaultOptions=t,Nb}var S$,x5;function dve(){if(x5)return S$;x5=1;class t{constructor(n){this.tagname=n,this.child=[],this[":@"]={}}add(n,r){n==="__proto__"&&(n="#__proto__"),this.child.push({[n]:r})}addChild(n){n.tagname==="__proto__"&&(n.tagname="#__proto__"),n[":@"]&&Object.keys(n[":@"]).length>0?this.child.push({[n.tagname]:n.child,":@":n[":@"]}):this.child.push({[n.tagname]:n.child})}}return S$=t,S$}var k$,w5;function fve(){if(w5)return k$;w5=1;const t=wA();function e(l,c){const u={};if(l[c+3]==="O"&&l[c+4]==="C"&&l[c+5]==="T"&&l[c+6]==="Y"&&l[c+7]==="P"&&l[c+8]==="E"){c=c+9;let d=1,f=!1,h=!1,m="";for(;c<l.length;c++)if(l[c]==="<"&&!h){if(f&&r(l,c)){c+=7;let g,y;[g,y,c]=n(l,c+1),y.indexOf("&")===-1&&(u[a(g)]={regx:RegExp(`&${g};`,"g"),val:y})}else f&&i(l,c)||f&&s(l,c)?c+=8:f&&o(l,c)?c+=9:h=!0;d++,m=""}else if(l[c]===">"){if(h?l[c-1]==="-"&&l[c-2]==="-"&&(h=!1,d--):d--,d===0)break}else l[c]==="["?f=!0:m+=l[c];if(d!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:u,i:c}}function n(l,c){let u="";for(;c<l.length&&l[c]!=="'"&&l[c]!=='"';c++)u+=l[c];if(u=u.trim(),u.indexOf(" ")!==-1)throw new Error("External entites are not supported");const d=l[c++];let f="";for(;c<l.length&&l[c]!==d;c++)f+=l[c];return[u,f,c]}function r(l,c){return l[c+1]==="!"&&l[c+2]==="E"&&l[c+3]==="N"&&l[c+4]==="T"&&l[c+5]==="I"&&l[c+6]==="T"&&l[c+7]==="Y"}function i(l,c){return l[c+1]==="!"&&l[c+2]==="E"&&l[c+3]==="L"&&l[c+4]==="E"&&l[c+5]==="M"&&l[c+6]==="E"&&l[c+7]==="N"&&l[c+8]==="T"}function s(l,c){return l[c+1]==="!"&&l[c+2]==="A"&&l[c+3]==="T"&&l[c+4]==="T"&&l[c+5]==="L"&&l[c+6]==="I"&&l[c+7]==="S"&&l[c+8]==="T"}function o(l,c){return l[c+1]==="!"&&l[c+2]==="N"&&l[c+3]==="O"&&l[c+4]==="T"&&l[c+5]==="A"&&l[c+6]==="T"&&l[c+7]==="I"&&l[c+8]==="O"&&l[c+9]==="N"}function a(l){if(t.isName(l))return l;throw new Error(`Invalid entity name ${l}`)}return k$=e,k$}var $$,v5;function hve(){if(v5)return $$;v5=1;const t=/^[-+]?0x[a-fA-F0-9]+$/,e=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const n={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function r(s,o={}){if(o=Object.assign({},n,o),!s||typeof s!="string")return s;let a=s.trim();if(o.skipLike!==void 0&&o.skipLike.test(a))return s;if(o.hex&&t.test(a))return Number.parseInt(a,16);{const l=e.exec(a);if(l){const c=l[1],u=l[2];let d=i(l[3]);const f=l[4]||l[6];if(!o.leadingZeros&&u.length>0&&c&&a[2]!==".")return s;if(!o.leadingZeros&&u.length>0&&!c&&a[1]!==".")return s;{const h=Number(a),m=""+h;return m.search(/[eE]/)!==-1||f?o.eNotation?h:s:a.indexOf(".")!==-1?m==="0"&&d===""||m===d||c&&m==="-"+d?h:s:u?d===m||c+d===m?h:s:a===m||a===c+m?h:s}}else return s}}function i(s){return s&&s.indexOf(".")!==-1&&(s=s.replace(/0+$/,""),s==="."?s="0":s[0]==="."?s="0"+s:s[s.length-1]==="."&&(s=s.substr(0,s.length-1))),s}return $$=r,$$}var C$,S5;function Q7(){if(S5)return C$;S5=1;function t(e){return typeof e=="function"?e:Array.isArray(e)?n=>{for(const r of e)if(typeof r=="string"&&n===r||r instanceof RegExp&&r.test(n))return!0}:()=>!1}return C$=t,C$}var P$,k5;function pve(){if(k5)return P$;k5=1;const t=wA(),e=dve(),n=fve(),r=hve(),i=Q7();class s{constructor(k){this.options=k,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:($,C)=>String.fromCharCode(Number.parseInt(C,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:($,C)=>String.fromCharCode(Number.parseInt(C,16))}},this.addExternalEntities=o,this.parseXml=d,this.parseTextData=a,this.resolveNameSpace=l,this.buildAttributesMap=u,this.isItStopNode=g,this.replaceEntitiesValue=h,this.readStopNodeData=w,this.saveTextToParentTag=m,this.addChild=f,this.ignoreAttributesFn=i(this.options.ignoreAttributes)}}function o(v){const k=Object.keys(v);for(let $=0;$<k.length;$++){const C=k[$];this.lastEntities[C]={regex:new RegExp("&"+C+";","g"),val:v[C]}}}function a(v,k,$,C,N,P,R){if(v!==void 0&&(this.options.trimValues&&!C&&(v=v.trim()),v.length>0)){R||(v=this.replaceEntitiesValue(v));const T=this.options.tagValueProcessor(k,v,$,N,P);return T==null?v:typeof T!=typeof v||T!==v?T:this.options.trimValues?x(v,this.options.parseTagValue,this.options.numberParseOptions):v.trim()===v?x(v,this.options.parseTagValue,this.options.numberParseOptions):v}}function l(v){if(this.options.removeNSPrefix){const k=v.split(":"),$=v.charAt(0)==="/"?"/":"";if(k[0]==="xmlns")return"";k.length===2&&(v=$+k[1])}return v}const c=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function u(v,k,$){if(this.options.ignoreAttributes!==!0&&typeof v=="string"){const C=t.getAllMatches(v,c),N=C.length,P={};for(let R=0;R<N;R++){const T=this.resolveNameSpace(C[R][1]);if(this.ignoreAttributesFn(T,k))continue;let A=C[R][4],j=this.options.attributeNamePrefix+T;if(T.length)if(this.options.transformAttributeName&&(j=this.options.transformAttributeName(j)),j==="__proto__"&&(j="#__proto__"),A!==void 0){this.options.trimValues&&(A=A.trim()),A=this.replaceEntitiesValue(A);const E=this.options.attributeValueProcessor(T,A,k);E==null?P[j]=A:typeof E!=typeof A||E!==A?P[j]=E:P[j]=x(A,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(P[j]=!0)}if(!Object.keys(P).length)return;if(this.options.attributesGroupName){const R={};return R[this.options.attributesGroupName]=P,R}return P}}const d=function(v){v=v.replace(/\r\n?/g,`
`);const k=new e("!xml");let $=k,C="",N="";for(let P=0;P<v.length;P++)if(v[P]==="<")if(v[P+1]==="/"){const T=O(v,">",P,"Closing Tag is not closed.");let A=v.substring(P+2,T).trim();if(this.options.removeNSPrefix){const _=A.indexOf(":");_!==-1&&(A=A.substr(_+1))}this.options.transformTagName&&(A=this.options.transformTagName(A)),$&&(C=this.saveTextToParentTag(C,$,N));const j=N.substring(N.lastIndexOf(".")+1);if(A&&this.options.unpairedTags.indexOf(A)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${A}>`);let E=0;j&&this.options.unpairedTags.indexOf(j)!==-1?(E=N.lastIndexOf(".",N.lastIndexOf(".")-1),this.tagsNodeStack.pop()):E=N.lastIndexOf("."),N=N.substring(0,E),$=this.tagsNodeStack.pop(),C="",P=T}else if(v[P+1]==="?"){let T=b(v,P,!1,"?>");if(!T)throw new Error("Pi Tag is not closed.");if(C=this.saveTextToParentTag(C,$,N),!(this.options.ignoreDeclaration&&T.tagName==="?xml"||this.options.ignorePiTags)){const A=new e(T.tagName);A.add(this.options.textNodeName,""),T.tagName!==T.tagExp&&T.attrExpPresent&&(A[":@"]=this.buildAttributesMap(T.tagExp,N,T.tagName)),this.addChild($,A,N)}P=T.closeIndex+1}else if(v.substr(P+1,3)==="!--"){const T=O(v,"-->",P+4,"Comment is not closed.");if(this.options.commentPropName){const A=v.substring(P+4,T-2);C=this.saveTextToParentTag(C,$,N),$.add(this.options.commentPropName,[{[this.options.textNodeName]:A}])}P=T}else if(v.substr(P+1,2)==="!D"){const T=n(v,P);this.docTypeEntities=T.entities,P=T.i}else if(v.substr(P+1,2)==="!["){const T=O(v,"]]>",P,"CDATA is not closed.")-2,A=v.substring(P+9,T);C=this.saveTextToParentTag(C,$,N);let j=this.parseTextData(A,$.tagname,N,!0,!1,!0,!0);j==null&&(j=""),this.options.cdataPropName?$.add(this.options.cdataPropName,[{[this.options.textNodeName]:A}]):$.add(this.options.textNodeName,j),P=T+2}else{let T=b(v,P,this.options.removeNSPrefix),A=T.tagName;const j=T.rawTagName;let E=T.tagExp,_=T.attrExpPresent,Q=T.closeIndex;this.options.transformTagName&&(A=this.options.transformTagName(A)),$&&C&&$.tagname!=="!xml"&&(C=this.saveTextToParentTag(C,$,N,!1));const M=$;if(M&&this.options.unpairedTags.indexOf(M.tagname)!==-1&&($=this.tagsNodeStack.pop(),N=N.substring(0,N.lastIndexOf("."))),A!==k.tagname&&(N+=N?"."+A:A),this.isItStopNode(this.options.stopNodes,N,A)){let L="";if(E.length>0&&E.lastIndexOf("/")===E.length-1)A[A.length-1]==="/"?(A=A.substr(0,A.length-1),N=N.substr(0,N.length-1),E=A):E=E.substr(0,E.length-1),P=T.closeIndex;else if(this.options.unpairedTags.indexOf(A)!==-1)P=T.closeIndex;else{const W=this.readStopNodeData(v,j,Q+1);if(!W)throw new Error(`Unexpected end of ${j}`);P=W.i,L=W.tagContent}const V=new e(A);A!==E&&_&&(V[":@"]=this.buildAttributesMap(E,N,A)),L&&(L=this.parseTextData(L,A,N,!0,_,!0,!0)),N=N.substr(0,N.lastIndexOf(".")),V.add(this.options.textNodeName,L),this.addChild($,V,N)}else{if(E.length>0&&E.lastIndexOf("/")===E.length-1){A[A.length-1]==="/"?(A=A.substr(0,A.length-1),N=N.substr(0,N.length-1),E=A):E=E.substr(0,E.length-1),this.options.transformTagName&&(A=this.options.transformTagName(A));const L=new e(A);A!==E&&_&&(L[":@"]=this.buildAttributesMap(E,N,A)),this.addChild($,L,N),N=N.substr(0,N.lastIndexOf("."))}else{const L=new e(A);this.tagsNodeStack.push($),A!==E&&_&&(L[":@"]=this.buildAttributesMap(E,N,A)),this.addChild($,L,N),$=L}C="",P=Q}}else C+=v[P];return k.child};function f(v,k,$){const C=this.options.updateTag(k.tagname,$,k[":@"]);C===!1||(typeof C=="string"&&(k.tagname=C),v.addChild(k))}const h=function(v){if(this.options.processEntities){for(let k in this.docTypeEntities){const $=this.docTypeEntities[k];v=v.replace($.regx,$.val)}for(let k in this.lastEntities){const $=this.lastEntities[k];v=v.replace($.regex,$.val)}if(this.options.htmlEntities)for(let k in this.htmlEntities){const $=this.htmlEntities[k];v=v.replace($.regex,$.val)}v=v.replace(this.ampEntity.regex,this.ampEntity.val)}return v};function m(v,k,$,C){return v&&(C===void 0&&(C=Object.keys(k.child).length===0),v=this.parseTextData(v,k.tagname,$,!1,k[":@"]?Object.keys(k[":@"]).length!==0:!1,C),v!==void 0&&v!==""&&k.add(this.options.textNodeName,v),v=""),v}function g(v,k,$){const C="*."+$;for(const N in v){const P=v[N];if(C===P||k===P)return!0}return!1}function y(v,k,$=">"){let C,N="";for(let P=k;P<v.length;P++){let R=v[P];if(C)R===C&&(C="");else if(R==='"'||R==="'")C=R;else if(R===$[0])if($[1]){if(v[P+1]===$[1])return{data:N,index:P}}else return{data:N,index:P};else R==="	"&&(R=" ");N+=R}}function O(v,k,$,C){const N=v.indexOf(k,$);if(N===-1)throw new Error(C);return N+k.length-1}function b(v,k,$,C=">"){const N=y(v,k+1,C);if(!N)return;let P=N.data;const R=N.index,T=P.search(/\s/);let A=P,j=!0;T!==-1&&(A=P.substring(0,T),P=P.substring(T+1).trimStart());const E=A;if($){const _=A.indexOf(":");_!==-1&&(A=A.substr(_+1),j=A!==N.data.substr(_+1))}return{tagName:A,tagExp:P,closeIndex:R,attrExpPresent:j,rawTagName:E}}function w(v,k,$){const C=$;let N=1;for(;$<v.length;$++)if(v[$]==="<")if(v[$+1]==="/"){const P=O(v,">",$,`${k} is not closed`);if(v.substring($+2,P).trim()===k&&(N--,N===0))return{tagContent:v.substring(C,$),i:P};$=P}else if(v[$+1]==="?")$=O(v,"?>",$+1,"StopNode is not closed.");else if(v.substr($+1,3)==="!--")$=O(v,"-->",$+3,"StopNode is not closed.");else if(v.substr($+1,2)==="![")$=O(v,"]]>",$,"StopNode is not closed.")-2;else{const P=b(v,$,">");P&&((P&&P.tagName)===k&&P.tagExp[P.tagExp.length-1]!=="/"&&N++,$=P.closeIndex)}}function x(v,k,$){if(k&&typeof v=="string"){const C=v.trim();return C==="true"?!0:C==="false"?!1:r(v,$)}else return t.isExist(v)?v:""}return P$=s,P$}var j$={},$5;function mve(){if($5)return j$;$5=1;function t(s,o){return e(s,o)}function e(s,o,a){let l;const c={};for(let u=0;u<s.length;u++){const d=s[u],f=n(d);let h="";if(a===void 0?h=f:h=a+"."+f,f===o.textNodeName)l===void 0?l=d[f]:l+=""+d[f];else{if(f===void 0)continue;if(d[f]){let m=e(d[f],o,h);const g=i(m,o);d[":@"]?r(m,d[":@"],h,o):Object.keys(m).length===1&&m[o.textNodeName]!==void 0&&!o.alwaysCreateTextNode?m=m[o.textNodeName]:Object.keys(m).length===0&&(o.alwaysCreateTextNode?m[o.textNodeName]="":m=""),c[f]!==void 0&&c.hasOwnProperty(f)?(Array.isArray(c[f])||(c[f]=[c[f]]),c[f].push(m)):o.isArray(f,h,g)?c[f]=[m]:c[f]=m}}}return typeof l=="string"?l.length>0&&(c[o.textNodeName]=l):l!==void 0&&(c[o.textNodeName]=l),c}function n(s){const o=Object.keys(s);for(let a=0;a<o.length;a++){const l=o[a];if(l!==":@")return l}}function r(s,o,a,l){if(o){const c=Object.keys(o),u=c.length;for(let d=0;d<u;d++){const f=c[d];l.isArray(f,a+"."+f,!0,!0)?s[f]=[o[f]]:s[f]=o[f]}}}function i(s,o){const{textNodeName:a}=o,l=Object.keys(s).length;return!!(l===0||l===1&&(s[a]||typeof s[a]=="boolean"||s[a]===0))}return j$.prettify=t,j$}var N$,C5;function gve(){if(C5)return N$;C5=1;const{buildOptions:t}=uve(),e=pve(),{prettify:n}=mve(),r=M7();class i{constructor(o){this.externalEntities={},this.options=t(o)}parse(o,a){if(typeof o!="string")if(o.toString)o=o.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(a){a===!0&&(a={});const u=r.validate(o,a);if(u!==!0)throw Error(`${u.err.msg}:${u.err.line}:${u.err.col}`)}const l=new e(this.options);l.addExternalEntities(this.externalEntities);const c=l.parseXml(o);return this.options.preserveOrder||c===void 0?c:n(c,this.options)}addEntity(o,a){if(a.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(o.indexOf("&")!==-1||o.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(a==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[o]=a}}return N$=i,N$}var E$,P5;function yve(){if(P5)return E$;P5=1;const t=`
`;function e(a,l){let c="";return l.format&&l.indentBy.length>0&&(c=t),n(a,l,"",c)}function n(a,l,c,u){let d="",f=!1;for(let h=0;h<a.length;h++){const m=a[h],g=r(m);if(g===void 0)continue;let y="";if(c.length===0?y=g:y=`${c}.${g}`,g===l.textNodeName){let v=m[g];s(y,l)||(v=l.tagValueProcessor(g,v),v=o(v,l)),f&&(d+=u),d+=v,f=!1;continue}else if(g===l.cdataPropName){f&&(d+=u),d+=`<![CDATA[${m[g][0][l.textNodeName]}]]>`,f=!1;continue}else if(g===l.commentPropName){d+=u+`<!--${m[g][0][l.textNodeName]}-->`,f=!0;continue}else if(g[0]==="?"){const v=i(m[":@"],l),k=g==="?xml"?"":u;let $=m[g][0][l.textNodeName];$=$.length!==0?" "+$:"",d+=k+`<${g}${$}${v}?>`,f=!0;continue}let O=u;O!==""&&(O+=l.indentBy);const b=i(m[":@"],l),w=u+`<${g}${b}`,x=n(m[g],l,y,O);l.unpairedTags.indexOf(g)!==-1?l.suppressUnpairedNode?d+=w+">":d+=w+"/>":(!x||x.length===0)&&l.suppressEmptyNode?d+=w+"/>":x&&x.endsWith(">")?d+=w+`>${x}${u}</${g}>`:(d+=w+">",x&&u!==""&&(x.includes("/>")||x.includes("</"))?d+=u+l.indentBy+x+u:d+=x,d+=`</${g}>`),f=!0}return d}function r(a){const l=Object.keys(a);for(let c=0;c<l.length;c++){const u=l[c];if(a.hasOwnProperty(u)&&u!==":@")return u}}function i(a,l){let c="";if(a&&!l.ignoreAttributes)for(let u in a){if(!a.hasOwnProperty(u))continue;let d=l.attributeValueProcessor(u,a[u]);d=o(d,l),d===!0&&l.suppressBooleanAttributes?c+=` ${u.substr(l.attributeNamePrefix.length)}`:c+=` ${u.substr(l.attributeNamePrefix.length)}="${d}"`}return c}function s(a,l){a=a.substr(0,a.length-l.textNodeName.length-1);let c=a.substr(a.lastIndexOf(".")+1);for(let u in l.stopNodes)if(l.stopNodes[u]===a||l.stopNodes[u]==="*."+c)return!0;return!1}function o(a,l){if(a&&a.length>0&&l.processEntities)for(let c=0;c<l.entities.length;c++){const u=l.entities[c];a=a.replace(u.regex,u.val)}return a}return E$=e,E$}var _$,j5;function Ove(){if(j5)return _$;j5=1;const t=yve(),e=Q7(),n={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(a,l){return l},attributeValueProcessor:function(a,l){return l},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function r(a){this.options=Object.assign({},n,a),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=e(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=o),this.processTextOrObjNode=i,this.options.format?(this.indentate=s,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}r.prototype.build=function(a){return this.options.preserveOrder?t(a,this.options):(Array.isArray(a)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(a={[this.options.arrayNodeName]:a}),this.j2x(a,0,[]).val)},r.prototype.j2x=function(a,l,c){let u="",d="";const f=c.join(".");for(let h in a)if(Object.prototype.hasOwnProperty.call(a,h))if(typeof a[h]>"u")this.isAttribute(h)&&(d+="");else if(a[h]===null)this.isAttribute(h)?d+="":h[0]==="?"?d+=this.indentate(l)+"<"+h+"?"+this.tagEndChar:d+=this.indentate(l)+"<"+h+"/"+this.tagEndChar;else if(a[h]instanceof Date)d+=this.buildTextValNode(a[h],h,"",l);else if(typeof a[h]!="object"){const m=this.isAttribute(h);if(m&&!this.ignoreAttributesFn(m,f))u+=this.buildAttrPairStr(m,""+a[h]);else if(!m)if(h===this.options.textNodeName){let g=this.options.tagValueProcessor(h,""+a[h]);d+=this.replaceEntitiesValue(g)}else d+=this.buildTextValNode(a[h],h,"",l)}else if(Array.isArray(a[h])){const m=a[h].length;let g="",y="";for(let O=0;O<m;O++){const b=a[h][O];if(!(typeof b>"u"))if(b===null)h[0]==="?"?d+=this.indentate(l)+"<"+h+"?"+this.tagEndChar:d+=this.indentate(l)+"<"+h+"/"+this.tagEndChar;else if(typeof b=="object")if(this.options.oneListGroup){const w=this.j2x(b,l+1,c.concat(h));g+=w.val,this.options.attributesGroupName&&b.hasOwnProperty(this.options.attributesGroupName)&&(y+=w.attrStr)}else g+=this.processTextOrObjNode(b,h,l,c);else if(this.options.oneListGroup){let w=this.options.tagValueProcessor(h,b);w=this.replaceEntitiesValue(w),g+=w}else g+=this.buildTextValNode(b,h,"",l)}this.options.oneListGroup&&(g=this.buildObjectNode(g,h,y,l)),d+=g}else if(this.options.attributesGroupName&&h===this.options.attributesGroupName){const m=Object.keys(a[h]),g=m.length;for(let y=0;y<g;y++)u+=this.buildAttrPairStr(m[y],""+a[h][m[y]])}else d+=this.processTextOrObjNode(a[h],h,l,c);return{attrStr:u,val:d}},r.prototype.buildAttrPairStr=function(a,l){return l=this.options.attributeValueProcessor(a,""+l),l=this.replaceEntitiesValue(l),this.options.suppressBooleanAttributes&&l==="true"?" "+a:" "+a+'="'+l+'"'};function i(a,l,c,u){const d=this.j2x(a,c+1,u.concat(l));return a[this.options.textNodeName]!==void 0&&Object.keys(a).length===1?this.buildTextValNode(a[this.options.textNodeName],l,d.attrStr,c):this.buildObjectNode(d.val,l,d.attrStr,c)}r.prototype.buildObjectNode=function(a,l,c,u){if(a==="")return l[0]==="?"?this.indentate(u)+"<"+l+c+"?"+this.tagEndChar:this.indentate(u)+"<"+l+c+this.closeTag(l)+this.tagEndChar;{let d="</"+l+this.tagEndChar,f="";return l[0]==="?"&&(f="?",d=""),(c||c==="")&&a.indexOf("<")===-1?this.indentate(u)+"<"+l+c+f+">"+a+d:this.options.commentPropName!==!1&&l===this.options.commentPropName&&f.length===0?this.indentate(u)+`<!--${a}-->`+this.newLine:this.indentate(u)+"<"+l+c+f+this.tagEndChar+a+this.indentate(u)+d}},r.prototype.closeTag=function(a){let l="";return this.options.unpairedTags.indexOf(a)!==-1?this.options.suppressUnpairedNode||(l="/"):this.options.suppressEmptyNode?l="/":l=`></${a}`,l},r.prototype.buildTextValNode=function(a,l,c,u){if(this.options.cdataPropName!==!1&&l===this.options.cdataPropName)return this.indentate(u)+`<![CDATA[${a}]]>`+this.newLine;if(this.options.commentPropName!==!1&&l===this.options.commentPropName)return this.indentate(u)+`<!--${a}-->`+this.newLine;if(l[0]==="?")return this.indentate(u)+"<"+l+c+"?"+this.tagEndChar;{let d=this.options.tagValueProcessor(l,a);return d=this.replaceEntitiesValue(d),d===""?this.indentate(u)+"<"+l+c+this.closeTag(l)+this.tagEndChar:this.indentate(u)+"<"+l+c+">"+d+"</"+l+this.tagEndChar}},r.prototype.replaceEntitiesValue=function(a){if(a&&a.length>0&&this.options.processEntities)for(let l=0;l<this.options.entities.length;l++){const c=this.options.entities[l];a=a.replace(c.regex,c.val)}return a};function s(a){return this.options.indentBy.repeat(a)}function o(a){return a.startsWith(this.options.attributeNamePrefix)&&a!==this.options.textNodeName?a.substr(this.attrPrefixLen):!1}return _$=r,_$}var T$,N5;function bve(){if(N5)return T$;N5=1;const t=M7(),e=gve(),n=Ove();return T$={XMLParser:e,XMLValidator:t,XMLBuilder:n},T$}var xve=bve();/**
 * @license MIT <https://opensource.org/licenses/MIT>
 * @copyright Michael Hart 2024
 */const Wj=new TextEncoder,wve={appstream2:"appstream",cloudhsmv2:"cloudhsm",email:"ses",marketplace:"aws-marketplace",mobile:"AWSMobileHubService",pinpoint:"mobiletargeting",queue:"sqs","git-codecommit":"codecommit","mturk-requester-sandbox":"mturk-requester","personalize-runtime":"personalize"},vve=new Set(["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id","range","connection"]);class Sve{constructor({accessKeyId:e,secretAccessKey:n,sessionToken:r,service:i,region:s,cache:o,retries:a,initRetryMs:l}){if(e==null)throw new TypeError("accessKeyId is a required option");if(n==null)throw new TypeError("secretAccessKey is a required option");this.accessKeyId=e,this.secretAccessKey=n,this.sessionToken=r,this.service=i,this.region=s,this.cache=o||new Map,this.retries=a??10,this.initRetryMs=l||50}async sign(e,n){if(e instanceof Request){const{method:s,url:o,headers:a,body:l}=e;n=Object.assign({method:s,url:o,headers:a},n),n.body==null&&a.has("Content-Type")&&(n.body=l!=null&&a.has("X-Amz-Content-Sha256")?l:await e.clone().arrayBuffer()),e=o}const r=new kve(Object.assign({url:e.toString()},n,this,n&&n.aws)),i=Object.assign({},n,await r.sign());delete i.aws;try{return new Request(i.url.toString(),i)}catch(s){if(s instanceof TypeError)return new Request(i.url.toString(),Object.assign({duplex:"half"},i));throw s}}async fetch(e,n){for(let r=0;r<=this.retries;r++){const i=fetch(await this.sign(e,n));if(r===this.retries)return i;const s=await i;if(s.status<500&&s.status!==429)return s;await new Promise(o=>setTimeout(o,Math.random()*this.initRetryMs*Math.pow(2,r)))}throw new Error("An unknown error occurred, ensure retries is not negative")}}class kve{constructor({method:e,url:n,headers:r,body:i,accessKeyId:s,secretAccessKey:o,sessionToken:a,service:l,region:c,cache:u,datetime:d,signQuery:f,appendSessionToken:h,allHeaders:m,singleEncode:g}){if(n==null)throw new TypeError("url is a required option");if(s==null)throw new TypeError("accessKeyId is a required option");if(o==null)throw new TypeError("secretAccessKey is a required option");this.method=e||(i?"POST":"GET"),this.url=new URL(n),this.headers=new Headers(r||{}),this.body=i,this.accessKeyId=s,this.secretAccessKey=o,this.sessionToken=a;let y,O;(!l||!c)&&([y,O]=$ve(this.url,this.headers)),this.service=l||y||"",this.region=c||O||"us-east-1",this.cache=u||new Map,this.datetime=d||new Date().toISOString().replace(/[:-]|\.\d{3}/g,""),this.signQuery=f,this.appendSessionToken=h||this.service==="iotdevicegateway",this.headers.delete("Host"),this.service==="s3"&&!this.signQuery&&!this.headers.has("X-Amz-Content-Sha256")&&this.headers.set("X-Amz-Content-Sha256","UNSIGNED-PAYLOAD");const b=this.signQuery?this.url.searchParams:this.headers;if(b.set("X-Amz-Date",this.datetime),this.sessionToken&&!this.appendSessionToken&&b.set("X-Amz-Security-Token",this.sessionToken),this.signableHeaders=["host",...this.headers.keys()].filter(x=>m||!vve.has(x)).sort(),this.signedHeaders=this.signableHeaders.join(";"),this.canonicalHeaders=this.signableHeaders.map(x=>x+":"+(x==="host"?this.url.host:(this.headers.get(x)||"").replace(/\s+/g," "))).join(`
`),this.credentialString=[this.datetime.slice(0,8),this.region,this.service,"aws4_request"].join("/"),this.signQuery&&(this.service==="s3"&&!b.has("X-Amz-Expires")&&b.set("X-Amz-Expires","86400"),b.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),b.set("X-Amz-Credential",this.accessKeyId+"/"+this.credentialString),b.set("X-Amz-SignedHeaders",this.signedHeaders)),this.service==="s3")try{this.encodedPath=decodeURIComponent(this.url.pathname.replace(/\+/g," "))}catch{this.encodedPath=this.url.pathname}else this.encodedPath=this.url.pathname.replace(/\/+/g,"/");g||(this.encodedPath=encodeURIComponent(this.encodedPath).replace(/%2F/g,"/")),this.encodedPath=T5(this.encodedPath);const w=new Set;this.encodedSearch=[...this.url.searchParams].filter(([x])=>{if(!x)return!1;if(this.service==="s3"){if(w.has(x))return!1;w.add(x)}return!0}).map(x=>x.map(v=>T5(encodeURIComponent(v)))).sort(([x,v],[k,$])=>x<k?-1:x>k?1:v<$?-1:v>$?1:0).map(x=>x.join("=")).join("&")}async sign(){return this.signQuery?(this.url.searchParams.set("X-Amz-Signature",await this.signature()),this.sessionToken&&this.appendSessionToken&&this.url.searchParams.set("X-Amz-Security-Token",this.sessionToken)):this.headers.set("Authorization",await this.authHeader()),{method:this.method,url:this.url,headers:this.headers,body:this.body}}async authHeader(){return["AWS4-HMAC-SHA256 Credential="+this.accessKeyId+"/"+this.credentialString,"SignedHeaders="+this.signedHeaders,"Signature="+await this.signature()].join(", ")}async signature(){const e=this.datetime.slice(0,8),n=[this.secretAccessKey,e,this.region,this.service].join();let r=this.cache.get(n);if(!r){const i=await fm("AWS4"+this.secretAccessKey,e),s=await fm(i,this.region),o=await fm(s,this.service);r=await fm(o,"aws4_request"),this.cache.set(n,r)}return A$(await fm(r,await this.stringToSign()))}async stringToSign(){return["AWS4-HMAC-SHA256",this.datetime,this.credentialString,A$(await E5(await this.canonicalString()))].join(`
`)}async canonicalString(){return[this.method.toUpperCase(),this.encodedPath,this.encodedSearch,this.canonicalHeaders+`
`,this.signedHeaders,await this.hexBodyHash()].join(`
`)}async hexBodyHash(){let e=this.headers.get("X-Amz-Content-Sha256")||(this.service==="s3"&&this.signQuery?"UNSIGNED-PAYLOAD":null);if(e==null){if(this.body&&typeof this.body!="string"&&!("byteLength"in this.body))throw new Error("body must be a string, ArrayBuffer or ArrayBufferView, unless you include the X-Amz-Content-Sha256 header");e=A$(await E5(this.body||""))}return e}}async function fm(t,e){const n=await crypto.subtle.importKey("raw",typeof t=="string"?Wj.encode(t):t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return crypto.subtle.sign("HMAC",n,Wj.encode(e))}async function E5(t){return crypto.subtle.digest("SHA-256",typeof t=="string"?Wj.encode(t):t)}const _5=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function A$(t){const e=new Uint8Array(t);let n="";for(let r=0;r<e.length;r++){const i=e[r];n+=_5[i>>>4&15],n+=_5[i&15]}return n}function T5(t){return t.replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())}function $ve(t,e){const{hostname:n,pathname:r}=t;if(n.endsWith(".on.aws")){const a=n.match(/^[^.]{1,63}\.lambda-url\.([^.]{1,63})\.on\.aws$/);return a!=null?["lambda",a[1]||""]:["",""]}if(n.endsWith(".r2.cloudflarestorage.com"))return["s3","auto"];if(n.endsWith(".backblazeb2.com")){const a=n.match(/^(?:[^.]{1,63}\.)?s3\.([^.]{1,63})\.backblazeb2\.com$/);return a!=null?["s3",a[1]||""]:["",""]}const i=n.replace("dualstack.","").match(/([^.]{1,63})\.(?:([^.]{0,63})\.)?amazonaws\.com(?:\.cn)?$/);let s=i&&i[1]||"",o=i&&i[2];if(o==="us-gov")o="us-gov-west-1";else if(o==="s3"||o==="s3-accelerate")o="us-east-1",s="s3";else if(s==="iot")n.startsWith("iot.")?s="execute-api":n.startsWith("data.jobs.iot.")?s="iot-jobs-data":s=r==="/mqtt"?"iotdevicegateway":"iotdata";else if(s==="autoscaling"){const a=(e.get("X-Amz-Target")||"").split(".")[0];a==="AnyScaleFrontendService"?s="application-autoscaling":a==="AnyScaleScalingPlannerFrontendService"&&(s="autoscaling-plans")}else o==null&&s.startsWith("s3-")?(o=s.slice(3).replace(/^fips-|^external-1/,""),s="s3"):s.endsWith("-fips")?s=s.slice(0,-5):o&&/-\d$/.test(s)&&!/-\d$/.test(o)&&([s,o]=[o,s]);return[wve[s]||s,o||""]}class Ps{constructor(e,n,r,i,s){this.kind=e,this.input=n,this.begin=r,this.end=i,this.file=s}getText(){return this.input.slice(this.begin,this.end)}getPosition(){let[e,n]=[1,1];for(let r=0;r<this.begin;r++)this.input[r]===`
`?(e++,n=1):n++;return[e,n]}size(){return this.end-this.begin}}class qd{liquidMethodMissing(e){}}const Cve=Object.prototype.toString,A5=String.prototype.toLowerCase,vA=Object.hasOwnProperty;function nt(t){return typeof t=="string"}function qn(t){return typeof t=="function"}function Pve(t){return t&&qn(t.then)}function sv(t){return t&&qn(t.next)&&qn(t.throw)&&qn(t.return)}function jve(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function Le(t){return t=lt(t),nt(t)?t:Os(t)?"":vr(t)?t.map(e=>Le(e)).join(""):String(t)}function aO(t){return t=lt(t),vr(t)?t:nt(t)&&t.length>0?[t]:Eve(t)?Array.from(t):V1(t)?Object.keys(t).map(e=>[e,t[e]]):[]}function wr(t){return t=lt(t),Os(t)?[]:vr(t)?t:[t]}function lt(t){return t instanceof qd&&qn(t.valueOf)?t.valueOf():t}function R5(t){return t=Number(t),isNaN(t)?0:t}function F1(t){return typeof t=="number"}function I7(t){return t&&qn(t.toLiquid)?I7(t.toLiquid()):t}function Os(t){return t==null}function Nve(t){return t===void 0}function vr(t){return Cve.call(t)==="[object Array]"}function D7(t){return t&&F1(t.length)}function Eve(t){return V1(t)&&Symbol.iterator in t}function M5(t,e){t=t||{};for(const n in t)if(vA.call(t,n)&&e(t[n],n,t)===!1)break;return t}function L7(t){return t[t.length-1]}function V1(t){const e=typeof t;return t!==null&&(e==="object"||e==="function")}function F7(t,e,n=1){const r=[];for(let i=t;i<e;i+=n)r.push(i);return r}function Ig(t,e,n=" "){return V7(t,e,n,(r,i)=>i+r)}function _ve(t,e,n=" "){return V7(t,e,n,(r,i)=>r+i)}function V7(t,e,n,r){t=String(t);let i=e-t.length;for(;i-- >0;)t=r(t,n);return t}function B7(t){return t}function Tve(t){return[...t].some(n=>n>="a"&&n<="z")?t.toUpperCase():t.toLowerCase()}function Ave(t,e){return t.length>e?t.slice(0,e-3)+"...":t}function Q5(t,e){return t==null&&e==null?0:t==null?1:e==null||(t=A5.call(t),e=A5.call(e),t<e)?-1:t>e?1:0}function Ui(t){return function(...e){return t.call(this,...e.map(lt))}}function SA(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function*Eb(t){const e=new Set;for(const n of t){const r=JSON.stringify(n);e.has(r)||(e.add(r),yield n)}}const I5="__liquidClass__";class ou extends Error{constructor(e,n){super(typeof e=="string"?e:e.message),this.context="",typeof e!="string"&&Object.defineProperty(this,"originalError",{value:e,enumerable:!1}),Object.defineProperty(this,"token",{value:n,enumerable:!1}),Object.defineProperty(this,I5,{value:"LiquidError",enumerable:!1})}update(){Object.defineProperty(this,"context",{value:Fve(this.token),enumerable:!1}),this.message=Vve(this.message,this.token),this.stack=this.message+`
`+this.context+`
`+this.stack,this.originalError&&(this.stack+=`
From `+this.originalError.stack)}static is(e){return(e==null?void 0:e[I5])==="LiquidError"}}class Rve extends ou{constructor(e,n){super(e,n),this.name="TokenizationError",super.update()}}class Mve extends ou{constructor(e,n){super(e,n),this.name="ParseError",this.message=e.message,super.update()}}class Qve extends ou{constructor(e,n){super(e,n.token),this.name="RenderError",this.message=e.message,super.update()}static is(e){return e.name==="RenderError"}}class q7 extends ou{constructor(e){super(e[0],e[0].token),this.errors=e,this.name="LiquidErrors";const n=e.length>1?"s":"";this.message=`${e.length} error${n} found`,super.update()}static is(e){return e.name==="LiquidErrors"}}class Ive extends ou{constructor(e,n){super(e,n),this.name="UndefinedVariableError",this.message=e.message,super.update()}}class Dve extends Error{constructor(e){super(`undefined variable: ${e}`),this.name="InternalUndefinedVariableError",this.variableName=e}}class Lve extends Error{constructor(e){super(e),this.name="AssertionError",this.message=e+""}}function Fve(t){const[e,n]=t.getPosition(),r=t.input.split(`
`),i=Math.max(e-2,1),s=Math.min(e+3,r.length);return F7(i,s+1).map(a=>{const l=a===e?">> ":"   ",c=Ig(String(a),String(s).length);let u=`${l}${c}| `;const d=a===e?`
`+Ig("^",n+u.length):"";return u+=r[a-1],u+=d,u}).join(`
`)}function Vve(t,e){e.file&&(t+=`, file:${e.file}`);const[n,r]=e.getPosition();return t+=`, line:${n}, col:${r}`,t}const Tt=[0,0,0,0,0,0,0,0,0,20,4,4,4,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,2,8,0,0,0,0,8,0,0,0,64,0,65,0,0,33,33,33,33,33,33,33,33,33,33,0,0,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Bve=1,Eh=4,D5=8,W7=16,qve=32,Wve=64,zve=128;function Ux(t){const e=t.charCodeAt(0);return e>=128?!Tt[e]:!!(Tt[e]&Bve)}Tt[160]=Tt[5760]=Tt[6158]=Tt[8192]=Tt[8193]=Tt[8194]=Tt[8195]=Tt[8196]=Tt[8197]=Tt[8198]=Tt[8199]=Tt[8200]=Tt[8201]=Tt[8202]=Tt[8232]=Tt[8233]=Tt[8239]=Tt[8287]=Tt[12288]=Eh;Tt[8220]=Tt[8221]=zve;function Lr(t,e){if(!t){const n=typeof e=="function"?e():e||`expect ${t} to be true`;throw new Lve(n)}}function ov(t,e=`unexpected ${JSON.stringify(t)}`){Lr(!t,e)}class Zve extends qd{equals(e){return Os(lt(e))}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return null}}class _h extends qd{equals(e){return e instanceof _h?!1:(e=lt(e),nt(e)||vr(e)?e.length===0:V1(e)?Object.keys(e).length===0:!1)}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return""}static is(e){return e instanceof _h}}class kA extends _h{equals(e){return e===!1||Os(lt(e))?!0:nt(e)?/^\s*$/.test(e):super.equals(e)}static is(e){return e instanceof kA}}class $A extends qd{constructor(e,n,r){super(),this.i=0,this.length=e,this.name=`${r}-${n}`}next(){this.i++}index0(){return this.i}index(){return this.i+1}first(){return this.i===0}last(){return this.i===this.length-1}rindex(){return this.length-this.i}rindex0(){return this.length-this.i-1}valueOf(){return JSON.stringify(this)}}class L5 extends qd{constructor(e=()=>""){super(),this.superBlockRender=e}super(){return this.superBlockRender()}}function Ro(t){return t&&qn(t.equals)&&qn(t.gt)&&qn(t.geq)&&qn(t.lt)&&qn(t.leq)}const F5=new Zve,z7={true:!0,false:!1,nil:F5,null:F5,empty:new _h,blank:new kA};function V5(t){const e={};for(const[n,r]of Object.entries(t)){let i=e;for(let s=0;s<n.length;s++){const o=n[s];i[o]=i[o]||{},s===n.length-1&&Ux(n[s])&&(i[o].needBoundary=!0),i=i[o]}i.data=r,i.end=!0}return e}var av=function(){return av=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},av.apply(this,arguments)};function Ln(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Ka(t){return Ln(this,void 0,void 0,function*(){if(!sv(t))return t;let e,n=!1,r="next";do{const i=t[r](e);n=i.done,e=i.value,r="next";try{sv(e)&&(e=Ka(e)),Pve(e)&&(e=yield e)}catch(s){r="throw",e=s}}while(!n);return e})}function el(t){if(!sv(t))return t;let e,n=!1,r="next";do{const i=t[r](e);if(n=i.done,e=i.value,r="next",sv(e))try{e=el(e)}catch(s){r="throw",e=s}}while(!n);return e}const Uve=/%([-_0^#:]+)?(\d+)?([EO])?(.)/;function Xve(t){return[31,Gve(t)?29:28,31,30,31,30,31,31,30,31,30,31]}function Z7(t){let e=0;for(let n=0;n<t.getMonth();++n)e+=Xve(t)[n];return e+t.getDate()}function B5(t,e){const n=Z7(t)+(e-t.getDay()),i=7-new Date(t.getFullYear(),0,1).getDay()+e;return String(Math.floor((n-i)/7)+1)}function Gve(t){const e=t.getFullYear();return!!(!(e&3)&&(e%100||e%400===0&&e))}function Yve(t){const e=t.getDate();if([11,12,13].includes(e))return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function Hve(t){return parseInt(t.getFullYear().toString().substring(0,2),10)}const Jve={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},Kve=new Set("aAbBceklpP");function q5(t,e){const n=Math.abs(t.getTimezoneOffset()),r=Math.floor(n/60),i=n%60;return(t.getTimezoneOffset()>0?"-":"+")+Ig(r,2,"0")+(e.flags[":"]?":":"")+Ig(i,2,"0")}const zj={a:t=>t.getShortWeekdayName(),A:t=>t.getLongWeekdayName(),b:t=>t.getShortMonthName(),B:t=>t.getLongMonthName(),c:t=>t.toLocaleString(),C:t=>Hve(t),d:t=>t.getDate(),e:t=>t.getDate(),H:t=>t.getHours(),I:t=>String(t.getHours()%12||12),j:t=>Z7(t),k:t=>t.getHours(),l:t=>String(t.getHours()%12||12),L:t=>t.getMilliseconds(),m:t=>t.getMonth()+1,M:t=>t.getMinutes(),N:(t,e)=>{const n=Number(e.width)||9,r=String(t.getMilliseconds()).slice(0,n);return _ve(r,n,"0")},p:t=>t.getHours()<12?"AM":"PM",P:t=>t.getHours()<12?"am":"pm",q:t=>Yve(t),s:t=>Math.round(t.getTime()/1e3),S:t=>t.getSeconds(),u:t=>t.getDay()||7,U:t=>B5(t,0),w:t=>t.getDay(),W:t=>B5(t,1),x:t=>t.toLocaleDateString(),X:t=>t.toLocaleTimeString(),y:t=>t.getFullYear().toString().slice(2,4),Y:t=>t.getFullYear(),z:q5,Z:(t,e)=>t.getTimeZoneName()||q5(t,e),t:()=>"	",n:()=>`
`,"%":()=>"%"};zj.h=zj.b;function Xx(t,e){let n="",r=e,i;for(;i=Uve.exec(r);)n+=r.slice(0,i.index),r=r.slice(i.index+i[0].length),n+=e0e(t,i);return n+r}function e0e(t,e){const[n,r="",i,s,o]=e,a=zj[o];if(!a)return n;const l={};for(const f of r)l[f]=!0;let c=String(a(t,{flags:l,width:i,modifier:s})),u=Kve.has(o)?" ":"0",d=i||Jve[o]||0;return l["^"]?c=c.toUpperCase():l["#"]&&(c=Tve(c)),l._?u=" ":l[0]&&(u="0"),l["-"]&&(d=0),Ig(c,d,u)}function U7(){return typeof Intl<"u"?Intl.DateTimeFormat:void 0}const t0e=6e4,n0e=/([zZ]|([+-])(\d{2}):?(\d{2}))$/,X7=["January","February","March","April","May","June","July","August","September","October","November","December"],r0e=X7.map(t=>t.slice(0,3)),G7=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i0e=G7.map(t=>t.slice(0,3));class zs{constructor(e,n,r){this.locale=n,this.DateTimeFormat=U7(),this.date=new Date(e),this.timezoneFixed=r!==void 0,r===void 0&&(r=this.date.getTimezoneOffset()),this.timezoneOffset=nt(r)?zs.getTimezoneOffset(r,this.date):r,this.timezoneName=nt(r)?r:"";const i=(this.date.getTimezoneOffset()-this.timezoneOffset)*t0e,s=this.date.getTime()+i;this.displayDate=new Date(s)}getTime(){return this.displayDate.getTime()}getMilliseconds(){return this.displayDate.getMilliseconds()}getSeconds(){return this.displayDate.getSeconds()}getMinutes(){return this.displayDate.getMinutes()}getHours(){return this.displayDate.getHours()}getDay(){return this.displayDate.getDay()}getDate(){return this.displayDate.getDate()}getMonth(){return this.displayDate.getMonth()}getFullYear(){return this.displayDate.getFullYear()}toLocaleString(e,n){return n!=null&&n.timeZone?this.date.toLocaleString(e,n):this.displayDate.toLocaleString(e,n)}toLocaleTimeString(e){return this.displayDate.toLocaleTimeString(e)}toLocaleDateString(e){return this.displayDate.toLocaleDateString(e)}getTimezoneOffset(){return this.timezoneOffset}getTimeZoneName(){if(this.timezoneFixed)return this.timezoneName;if(this.DateTimeFormat)return this.DateTimeFormat().resolvedOptions().timeZone}getLongMonthName(){var e;return(e=this.format({month:"long"}))!==null&&e!==void 0?e:X7[this.getMonth()]}getShortMonthName(){var e;return(e=this.format({month:"short"}))!==null&&e!==void 0?e:r0e[this.getMonth()]}getLongWeekdayName(){var e;return(e=this.format({weekday:"long"}))!==null&&e!==void 0?e:G7[this.displayDate.getDay()]}getShortWeekdayName(){var e;return(e=this.format({weekday:"short"}))!==null&&e!==void 0?e:i0e[this.displayDate.getDay()]}valid(){return!isNaN(this.getTime())}format(e){return this.DateTimeFormat&&this.DateTimeFormat(this.locale,e).format(this.displayDate)}static createDateFixedToTimezone(e,n){const r=e.match(n0e);if(r&&r[1]==="Z")return new zs(+new Date(e),n,0);if(r&&r[2]&&r[3]&&r[4]){const[,,i,s,o]=r,a=(i==="+"?-1:1)*(parseInt(s,10)*60+parseInt(o,10));return new zs(+new Date(e),n,a)}return new zs(e,n)}static getTimezoneOffset(e,n){const r=n.toLocaleString("en-US",{timeZone:e}),i=n.toLocaleString("en-US",{timeZone:"UTC"}),s=new Date(r);return(+new Date(i)-+s)/(60*1e3)}}class Zj{constructor(e,n){this.base=0,this.message=`${e} limit exceeded`,this.limit=n}use(e){e=R5(e),Lr(this.base+e<=this.limit,this.message),this.base+=e}check(e){e=R5(e),Lr(e<=this.limit,this.message)}}class CA extends Ps{constructor(e,[n,r],i,s,o,a,l,c){super(e,i,s,o,c),this.trimLeft=!1,this.trimRight=!1;const u=i[n]==="-",d=i[r-1]==="-";let f=u?n+1:n,h=d?r-1:r;for(;f<h&&Tt[i.charCodeAt(f)]&Eh;)f++;for(;h>f&&Tt[i.charCodeAt(h-1)]&Eh;)h--;this.contentRange=[f,h],this.trimLeft=u||a,this.trimRight=d||l}get content(){return this.input.slice(this.contentRange[0],this.contentRange[1])}}class W5 extends CA{constructor(e,n,r,i,s){const{trimTagLeft:o,trimTagRight:a,tagDelimiterLeft:l,tagDelimiterRight:c}=i,[u,d]=[n+l.length,r-c.length];super(zt.Tag,[u,d],e,n,r,o,a,s),this.tokenizer=new la(e,i.operators,s,this.contentRange),this.name=this.tokenizer.readTagName(),this.tokenizer.assert(this.name,"illegal tag syntax, tag name expected"),this.tokenizer.skipBlank()}get args(){return this.tokenizer.input.slice(this.tokenizer.p,this.contentRange[1])}}class s0e extends CA{constructor(e,n,r,i,s){const{trimOutputLeft:o,trimOutputRight:a,outputDelimiterLeft:l,outputDelimiterRight:c}=i,u=[n+l.length,r-c.length];super(zt.Output,u,e,n,r,o,a,s)}}class z5 extends Ps{constructor(e,n,r,i){super(zt.HTML,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.trimLeft=0,this.trimRight=0}getContent(){return this.input.slice(this.begin+this.trimLeft,this.end-this.trimRight)}}class o0e extends Ps{constructor(e,n,r,i){super(zt.Number,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.content=Number(this.getText())}}class R$ extends Ps{constructor(e,n,r,i){super(zt.Word,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.content=this.getText()}}class a0e extends Ps{constructor(e,n,r,i){super(zt.Literal,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.literal=this.getText(),this.content=z7[this.literal]}}const Z5={"==":2,"!=":2,">":2,"<":2,">=":2,"<=":2,contains:2,not:1,and:0,or:0},l0e={"==":0,"!=":0,">":0,"<":0,">=":0,"<=":0,contains:0,not:1,and:0,or:0};class c0e extends Ps{constructor(e,n,r,i){super(zt.Operator,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.operator=this.getText()}getPrecedence(){const e=this.getText();return e in Z5?Z5[e]:1}}class U5 extends Ps{constructor(e,n,r,i,s,o){super(zt.PropertyAccess,r,i,s,o),this.variable=e,this.props=n}}class Y7 extends Ps{constructor(e,n,r,i,s,o){super(zt.Filter,r,i,s,o),this.name=e,this.args=n}}class u0e extends Ps{constructor(e,n,r,i,s,o){super(zt.Hash,e,n,r,o),this.input=e,this.begin=n,this.end=r,this.name=i,this.value=s,this.file=o}}const d0e=/[\da-fA-F]/,X5=/[0-7]/,G5={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",v:"\v"};function Y5(t){const e=t.charCodeAt(0);return e>=97?e-87:e>=65?e-55:e-48}function f0e(t){let e="";for(let n=1;n<t.length-1;n++){if(t[n]!=="\\"){e+=t[n];continue}if(G5[t[n+1]]!==void 0)e+=G5[t[++n]];else if(t[n+1]==="u"){let r=0,i=n+2;for(;i<=n+5&&d0e.test(t[i]);)r=r*16+Y5(t[i++]);n=i-1,e+=String.fromCharCode(r)}else if(!X5.test(t[n+1]))e+=t[++n];else{let r=n+1,i=0;for(;r<=n+3&&X5.test(t[r]);)i=i*8+Y5(t[r++]);n=r-1,e+=String.fromCharCode(i)}}return e}class h0e extends Ps{constructor(e,n,r,i){super(zt.Quoted,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.content=f0e(this.getText())}}class p0e extends Ps{constructor(e,n,r,i,s,o){super(zt.Range,e,n,r,o),this.input=e,this.begin=n,this.end=r,this.lhs=i,this.rhs=s,this.file=o}}class m0e extends CA{constructor(e,n,r,i,s){super(zt.Tag,[n,r],e,n,r,!1,!1,s),this.tokenizer=new la(e,i.operators,s,this.contentRange),this.name=this.tokenizer.readTagName(),this.tokenizer.assert(this.name,"illegal liquid tag syntax"),this.tokenizer.skipBlank()}get args(){return this.tokenizer.input.slice(this.tokenizer.p,this.contentRange[1])}}class g0e extends Ps{constructor(e,n,r,i,s,o){super(zt.FilteredValue,r,i,s,o),this.initial=e,this.filters=n,this.input=r,this.begin=i,this.end=s,this.file=o}}const y0e={now:()=>Date.now()};function H7(){return typeof global=="object"&&global.performance||typeof window=="object"&&window.performance||y0e}class O0e{constructor(){this.buffer=""}write(e){this.buffer+=Le(e)}}class b0e{constructor(){throw this.buffer="",this.stream=null,new Error("streaming not supported in browser")}}class x0e{constructor(){this.buffer=""}write(e){e=lt(e),typeof e!="string"&&this.buffer===""?this.buffer=e:this.buffer=Le(this.buffer)+Le(e)}}class w0e{renderTemplatesToNodeStream(e,n){const r=new b0e;return Promise.resolve().then(()=>Ka(this.renderTemplates(e,n,r))).then(()=>r.end(),i=>r.error(i)),r.stream}*renderTemplates(e,n,r){r||(r=n.opts.keepOutputType?new x0e:new O0e);const i=[];for(const s of e){n.renderLimit.check(H7().now());try{const o=yield s.render(n,r);if(o&&r.write(o),n.breakCalled||n.continueCalled)break}catch(o){const a=ou.is(o)?o:new Qve(o,s);if(n.opts.catchAllErrors)i.push(a);else throw a}}if(i.length)throw new q7(i);return r.buffer}}class v0e{constructor(e){this.postfix=[...C0e(e)]}*evaluate(e,n){Lr(e,"unable to evaluate: context not defined");const r=[];for(const i of this.postfix)if(iU(i)){const s=r.pop();let o;if(l0e[i.operator]===1)o=yield e.opts.operators[i.operator](s,e);else{const a=r.pop();o=yield e.opts.operators[i.operator](a,s,e)}r.push(o)}else r.push(yield An(i,e,n));return r[0]}valid(){return!!this.postfix.length}}function*An(t,e,n=!1){if(t){if("content"in t)return t.content;if(cv(t))return yield S0e(t,e,n);if(sU(t))return yield $0e(t,e)}}function*S0e(t,e,n){const r=[];for(const i of t.props)r.push(yield An(i,e,!1));try{if(t.variable){const i=yield An(t.variable,e,n);return yield e._getFromScope(i,r)}else return yield e._get(r)}catch(i){if(n&&i.name==="InternalUndefinedVariableError")return null;throw new Ive(i,t)}}function k0e(t){return t.content}function*$0e(t,e){const n=yield An(t.lhs,e),r=yield An(t.rhs,e);return e.memoryLimit.use(r-n+1),F7(+n,+r+1)}function*C0e(t){const e=[];for(const n of t)if(iU(n)){for(;e.length&&e[e.length-1].getPrecedence()>n.getPrecedence();)yield e.pop();e.push(n)}else yield n;for(;e.length;)yield e.pop()}function qu(t,e){return!B1(t,e)}function B1(t,e){return t=lt(t),e.opts.jsTruthy?!t:t===!1||t===void 0||t===null}const P0e={"==":ta,"!=":(t,e)=>!ta(t,e),">":(t,e)=>Ro(t)?t.gt(e):Ro(e)?e.lt(t):lt(t)>lt(e),"<":(t,e)=>Ro(t)?t.lt(e):Ro(e)?e.gt(t):lt(t)<lt(e),">=":(t,e)=>Ro(t)?t.geq(e):Ro(e)?e.leq(t):lt(t)>=lt(e),"<=":(t,e)=>Ro(t)?t.leq(e):Ro(e)?e.geq(t):lt(t)<=lt(e),contains:(t,e)=>(t=lt(t),vr(t)?t.some(n=>ta(n,e)):qn(t==null?void 0:t.indexOf)?t.indexOf(lt(e))>-1:!1),not:(t,e)=>B1(lt(t),e),and:(t,e,n)=>qu(lt(t),n)&&qu(lt(e),n),or:(t,e,n)=>qu(lt(t),n)||qu(lt(e),n)};function ta(t,e){return Ro(t)?t.equals(e):Ro(e)?e.equals(t):(t=lt(t),e=lt(e),vr(t)?vr(e)&&j0e(t,e):t===e)}function j0e(t,e){return t.length!==e.length?!1:!t.some((n,r)=>!ta(n,e[r]))}function N0e(t,e){return t.some(n=>ta(n,e))}let M$=class{constructor(e,n,r,i){this.key=e,this.value=n,this.next=r,this.prev=i}},H5=class{constructor(e,n=0){this.limit=e,this.size=n,this.cache={},this.head=new M$("HEAD",null,null,null),this.tail=new M$("TAIL",null,null,null),this.head.next=this.tail,this.tail.prev=this.head}write(e,n){if(this.cache[e])this.cache[e].value=n;else{const r=new M$(e,n,this.head.next,this.head);this.head.next.prev=r,this.head.next=r,this.cache[e]=r,this.size++,this.ensureLimit()}}read(e){if(!this.cache[e])return;const{value:n}=this.cache[e];return this.remove(e),this.write(e,n),n}remove(e){const n=this.cache[e];n.prev.next=n.next,n.next.prev=n.prev,delete this.cache[e],this.size--}clear(){this.head.next=this.tail,this.tail.prev=this.head,this.size=0,this.cache={}}ensureLimit(){this.size>this.limit&&this.remove(this.tail.prev.key)}};function J7(t,e){const n=document.createElement("base");n.href=t;const r=document.getElementsByTagName("head")[0];r.insertBefore(n,r.firstChild);const i=document.createElement("a");i.href=e;const s=i.href;return r.removeChild(n),s}function E0e(t,e,n){return t.length&&L7(t)!=="/"&&(t+="/"),J7(t,e).replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,(i,s,o)=>{const a=o.split("/").pop();return/\.\w+$/.test(a)?i:s+o+n})}function _0e(t){return Ln(this,void 0,void 0,function*(){return new Promise((e,n)=>{const r=new XMLHttpRequest;r.onload=()=>{r.status>=200&&r.status<300?e(r.responseText):n(new Error(r.statusText))},r.onerror=()=>{n(new Error("An error occurred whilst receiving the response."))},r.open("GET",t),r.send()})})}function T0e(t){const e=new XMLHttpRequest;if(e.open("GET",t,!1),e.send(),e.status<200||e.status>=300)throw new Error(e.statusText);return e.responseText}function A0e(t){return Ln(this,void 0,void 0,function*(){return!0})}function R0e(t){return!0}function M0e(t){return J7(t,".")}const Q0e="/";var I0e=Object.freeze({__proto__:null,resolve:E0e,readFile:_0e,readFileSync:T0e,exists:A0e,existsSync:R0e,dirname:M0e,sep:Q0e});function D0e(t,e,...n){return t=lt(t),vr(t)||nt(t)?t.length?t:e:t===!1&&new Map(n).get("allow_false")?!1:B1(t,this.context)?e:t}function J5(t,e=0){return JSON.stringify(t,null,e)}function L0e(t,e=0){const n=[];return JSON.stringify(t,function(r,i){if(typeof i!="object"||i===null)return i;for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(i)?"[Circular]":(n.push(i),i)},e)}function F0e(t){return Number(t)}const V0e={raw:!0,handler:B7};var K7={default:D0e,raw:V0e,jsonify:J5,to_integer:F0e,json:J5,inspect:L0e};const B0e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},q0e={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function q1(t){return t=Le(t),this.context.memoryLimit.use(t.length),t.replace(/&|<|>|"|'/g,e=>B0e[e])}function W0e(t){return q1.call(this,t)}function z0e(t){return t=Le(t),this.context.memoryLimit.use(t.length),t.replace(/&(amp|lt|gt|#34|#39);/g,e=>q0e[e])}function Z0e(t){return q1.call(this,z0e.call(this,t))}function U0e(t){const e=Le(t);return this.context.memoryLimit.use(e.length),e.replace(/\r?\n/gm,`<br />
`)}function X0e(t){const e=Le(t);return this.context.memoryLimit.use(e.length),e.replace(/<script[\s\S]*?<\/script>|<style[\s\S]*?<\/style>|<.*?>|<!--[\s\S]*?-->/g,"")}var G0e=Object.freeze({__proto__:null,escape:q1,xml_escape:W0e,escape_once:Z0e,newline_to_br:U0e,strip_html:X0e});class Y0e{constructor(e){this.mapping=e,this.sep="/"}exists(e){return Ln(this,void 0,void 0,function*(){return this.existsSync(e)})}existsSync(e){return!Os(this.mapping[e])}readFile(e){return Ln(this,void 0,void 0,function*(){return this.readFileSync(e)})}readFileSync(e){const n=this.mapping[e];if(Os(n))throw new Error(`ENOENT: ${e}`);return n}dirname(e){const n=e.split(this.sep);return n.pop(),n.join(this.sep)}resolve(e,n,r){if(n+=r,e===".")return n;const i=e.split(/\/+/);for(const s of n.split(this.sep))s==="."||s===""||(s===".."?(i.length>1||i[0]!=="")&&i.pop():i.push(s));return i.join(this.sep)}}const Ef={root:["."],layouts:["."],partials:["."],relativeReference:!0,jekyllInclude:!1,keyValueSeparator:":",cache:void 0,extname:"",fs:I0e,dynamicPartials:!0,jsTruthy:!1,dateFormat:"%A, %B %-e, %Y at %-l:%M %P %z",locale:"",trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",preserveTimezones:!1,strictFilters:!1,strictVariables:!1,ownPropertyOnly:!0,lenientIf:!1,globals:{},keepOutputType:!1,operators:P0e,memoryLimit:1/0,parseLimit:1/0,renderLimit:1/0};function H0e(t){var e,n;if(t.hasOwnProperty("root")&&(t.hasOwnProperty("partials")||(t.partials=t.root),t.hasOwnProperty("layouts")||(t.layouts=t.root)),t.hasOwnProperty("cache")){let r;typeof t.cache=="number"?r=t.cache>0?new H5(t.cache):void 0:typeof t.cache=="object"?r=t.cache:r=t.cache?new H5(1024):void 0,t.cache=r}return t=Object.assign(Object.assign(Object.assign({},Ef),t.jekyllInclude?{dynamicPartials:!1}:{}),t),(!t.fs.dirname||!t.fs.sep)&&t.relativeReference&&(console.warn("[LiquidJS] `fs.dirname` and `fs.sep` are required for relativeReference, set relativeReference to `false` to suppress this warning"),t.relativeReference=!1),t.root=Gx(t.root),t.partials=Gx(t.partials),t.layouts=Gx(t.layouts),t.outputEscape=t.outputEscape&&J0e(t.outputEscape),t.locale||(t.locale=(n=(e=U7())===null||e===void 0?void 0:e().resolvedOptions().locale)!==null&&n!==void 0?n:"en-US"),t.templates&&(t.fs=new Y0e(t.templates),t.relativeReference=!0,t.root=t.partials=t.layouts="."),t}function J0e(t){return t==="escape"?q1:t==="json"?K7.json:(Lr(qn(t),"`outputEscape` need to be of type string or function"),t)}function Gx(t){let e=[];return vr(t)&&(e=t),nt(t)&&(e=[t]),e}function K0e(t,e){let n=!1;for(let r=0;r<t.length;r++){const i=t[r];l1e(i)&&(!n&&i.trimLeft&&e1e(t[r-1],e.greedy),Wd(i)&&(i.name==="raw"?n=!0:i.name==="endraw"&&(n=!1)),!n&&i.trimRight&&t1e(t[r+1],e.greedy))}}function e1e(t,e){if(!t||!jA(t))return;const n=e?Eh:W7;for(;Tt[t.input.charCodeAt(t.end-1-t.trimRight)]&n;)t.trimRight++}function t1e(t,e){if(!t||!jA(t))return;const n=e?Eh:W7;for(;Tt[t.input.charCodeAt(t.begin+t.trimLeft)]&n;)t.trimLeft++;t.input.charAt(t.begin+t.trimLeft)===`
`&&t.trimLeft++}class la{constructor(e,n=Ef.operators,r,i){this.input=e,this.file=r,this.rawBeginAt=-1,this.p=i?i[0]:0,this.N=i?i[1]:e.length,this.opTrie=V5(n),this.literalTrie=V5(z7)}readExpression(){return new v0e(this.readExpressionTokens())}*readExpressionTokens(){for(;this.p<this.N;){const e=this.readOperator();if(e){yield e;continue}const n=this.readValue();if(n){yield n;continue}return}}readOperator(){this.skipBlank();const e=this.matchTrie(this.opTrie);if(e!==-1)return new c0e(this.input,this.p,this.p=e,this.file)}matchTrie(e){let n=e,r=this.p,i;for(;n[this.input[r]]&&r<this.N;)n=n[this.input[r++]],n.end&&(i=n);return!i||i.needBoundary&&Ux(this.peek(r-this.p))?-1:r}readFilteredValue(){const e=this.p,n=this.readExpression();this.assert(n.valid(),`invalid value expression: ${this.snapshot()}`);const r=this.readFilters();return new g0e(n,r,this.input,e,this.p,this.file)}readFilters(){const e=[];for(;;){const n=this.readFilter();if(!n)return e;e.push(n)}}readFilter(){if(this.skipBlank(),this.end())return null;this.assert(this.read()==="|",'expected "|" before filter');const e=this.readIdentifier();if(!e.size())return this.assert(this.end(),"expected filter name"),null;const n=[];if(this.skipBlank(),this.peek()===":")do{++this.p;const r=this.readFilterArg();r&&n.push(r),this.skipBlank(),this.assert(this.end()||this.peek()===","||this.peek()==="|",()=>`unexpected character ${this.snapshot()}`)}while(this.peek()===",");else if(!(this.peek()==="|"||this.end()))throw this.error('expected ":" after filter name');return new Y7(e.getText(),n,this.input,e.begin,this.p,this.file)}readFilterArg(){const e=this.readValue();if(!e)return;if(this.skipBlank(),this.peek()!==":")return e;++this.p;const n=this.readValue();return[e.getText(),n]}readTopLevelTokens(e=Ef){const n=[];for(;this.p<this.N;){const r=this.readTopLevelToken(e);n.push(r)}return K0e(n,e),n}readTopLevelToken(e){const{tagDelimiterLeft:n,outputDelimiterLeft:r}=e;return this.rawBeginAt>-1?this.readEndrawOrRawContent(e):this.match(n)?this.readTagToken(e):this.match(r)?this.readOutputToken(e):this.readHTMLToken([n,r])}readHTMLToken(e){const n=this.p;for(;this.p<this.N&&!e.some(r=>this.match(r));)++this.p;return new z5(this.input,n,this.p,this.file)}readTagToken(e){const{file:n,input:r}=this,i=this.p;if(this.readToDelimiter(e.tagDelimiterRight)===-1)throw this.error(`tag ${this.snapshot(i)} not closed`,i);const s=new W5(r,i,this.p,e,n);return s.name==="raw"&&(this.rawBeginAt=i),s}readToDelimiter(e,n=!1){for(this.skipBlank();this.p<this.N;){if(n&&this.peekType()&D5){this.readQuoted();continue}if(++this.p,this.rmatch(e))return this.p}return-1}readOutputToken(e=Ef){const{file:n,input:r}=this,{outputDelimiterRight:i}=e,s=this.p;if(this.readToDelimiter(i,!0)===-1)throw this.error(`output ${this.snapshot(s)} not closed`,s);return new s0e(r,s,this.p,e,n)}readEndrawOrRawContent(e){const{tagDelimiterLeft:n,tagDelimiterRight:r}=e,i=this.p;let s=this.readTo(n)-n.length;for(;this.p<this.N;){if(this.readIdentifier().getText()!=="endraw"){s=this.readTo(n)-n.length;continue}for(;this.p<=this.N;){if(this.rmatch(r)){const o=this.p;return i===s?(this.rawBeginAt=-1,new W5(this.input,i,o,e,this.file)):(this.p=s,new z5(this.input,i,s,this.file))}if(this.rmatch(n))break;this.p++}}throw this.error(`raw ${this.snapshot(this.rawBeginAt)} not closed`,i)}readLiquidTagTokens(e=Ef){const n=[];for(;this.p<this.N;){const r=this.readLiquidTagToken(e);r&&n.push(r)}return n}readLiquidTagToken(e){if(this.skipBlank(),this.end())return;const n=this.p;this.readToDelimiter(`
`);const r=this.p;return new m0e(this.input,n,r,e,this.file)}error(e,n=this.p){return new Rve(e,new R$(this.input,n,this.N,this.file))}assert(e,n,r){if(!e)throw this.error(typeof n=="function"?n():n,r)}snapshot(e=this.p){return JSON.stringify(Ave(this.input.slice(e,this.N),32))}readWord(){return this.readIdentifier()}readIdentifier(){this.skipBlank();const e=this.p;for(;!this.end()&&Ux(this.peek());)++this.p;return new R$(this.input,e,this.p,this.file)}readNonEmptyIdentifier(){const e=this.readIdentifier();return e.size()?e:void 0}readTagName(){return this.skipBlank(),this.input[this.p]==="#"?this.input.slice(this.p,++this.p):this.readIdentifier().getText()}readHashes(e){const n=[];for(;;){const r=this.readHash(e);if(!r)return n;n.push(r)}}readHash(e){this.skipBlank(),this.peek()===","&&++this.p;const n=this.p,r=this.readNonEmptyIdentifier();if(!r)return;let i;this.skipBlank();const s=nt(e)?e:e?"=":":";return this.peek()===s&&(++this.p,i=this.readValue()),new u0e(this.input,n,this.p,r,i,this.file)}remaining(){return this.input.slice(this.p,this.N)}advance(e=1){this.p+=e}end(){return this.p>=this.N}read(){return this.input[this.p++]}readTo(e){for(;this.p<this.N;)if(++this.p,this.rmatch(e))return this.p;return-1}readValue(){this.skipBlank();const e=this.p,n=this.readLiteral()||this.readQuoted()||this.readRange()||this.readNumber(),r=this.readProperties(!n);return r.length?new U5(n,r,this.input,e,this.p):n}readScopeValue(){this.skipBlank();const e=this.p,n=this.readProperties();if(n.length)return new U5(void 0,n,this.input,e,this.p)}readProperties(e=!0){const n=[];for(;;){if(this.peek()==="["){this.p++;const r=this.readValue()||new R$(this.input,this.p,this.p,this.file);this.assert(this.readTo("]")!==-1,"[ not closed"),n.push(r);continue}if(e&&!n.length){const r=this.readNonEmptyIdentifier();if(r){n.push(r);continue}}if(this.peek()==="."&&this.peek(1)!=="."){this.p++;const r=this.readNonEmptyIdentifier();if(!r)break;n.push(r);continue}break}return n}readNumber(){this.skipBlank();let e=!1,n=!1,r=0;for(this.peekType()&Wve&&r++;this.p+r<=this.N;)if(this.peekType(r)&qve)n=!0,r++;else if(this.peek(r)==="."&&this.peek(r+1)!=="."){if(e||!n)return;e=!0,r++}else break;if(n&&!Ux(this.peek(r))){const i=new o0e(this.input,this.p,this.p+r,this.file);return this.advance(r),i}}readLiteral(){this.skipBlank();const e=this.matchTrie(this.literalTrie);if(e===-1)return;const n=new a0e(this.input,this.p,e,this.file);return this.p=e,n}readRange(){this.skipBlank();const e=this.p;if(this.peek()!=="(")return;++this.p;const n=this.readValueOrThrow();this.skipBlank(),this.assert(this.read()==="."&&this.read()===".","invalid range syntax");const r=this.readValueOrThrow();return this.skipBlank(),this.assert(this.read()===")","invalid range syntax"),new p0e(this.input,e,this.p,n,r,this.file)}readValueOrThrow(){const e=this.readValue();return this.assert(e,()=>`unexpected token ${this.snapshot()}, value expected`),e}readQuoted(){this.skipBlank();const e=this.p;if(!(this.peekType()&D5))return;++this.p;let n=!1;for(;this.p<this.N&&(++this.p,!(this.input[this.p-1]===this.input[e]&&!n));)n?n=!1:this.input[this.p-1]==="\\"&&(n=!0);return new h0e(this.input,e,this.p,this.file)}*readFileNameTemplate(e){const{outputDelimiterLeft:n}=e,r=[","," ",n],i=new Set(r);for(;this.p<this.N&&!i.has(this.peek());)yield this.match(n)?this.readOutputToken(e):this.readHTMLToken(r)}match(e){for(let n=0;n<e.length;n++)if(e[n]!==this.input[this.p+n])return!1;return!0}rmatch(e){for(let n=0;n<e.length;n++)if(e[e.length-1-n]!==this.input[this.p-1-n])return!1;return!0}peekType(e=0){return this.p+e>=this.N?0:Tt[this.input.charCodeAt(this.p+e)]}peek(e=0){return this.p+e>=this.N?"":this.input[this.p+e]}skipBlank(){for(;this.peekType()&Eh;)++this.p}}class n1e{constructor(e,n){this.handlers={},this.stopRequested=!1,this.tokens=e,this.parseToken=n}on(e,n){return this.handlers[e]=n,this}trigger(e,n){const r=this.handlers[e];return r?(r.call(this,n),!0):!1}start(){this.trigger("start");let e;for(;!this.stopRequested&&(e=this.tokens.shift());){if(this.trigger("token",e)||Wd(e)&&this.trigger(`tag:${e.name}`,e))continue;const n=this.parseToken(e,this.tokens);this.trigger("template",n)}return this.stopRequested||this.trigger("end"),this}stop(){return this.stopRequested=!0,this}}class PA{constructor(e){this.token=e}}let yn=class extends PA{constructor(e,n,r){super(e),this.name=e.name,this.liquid=r,this.tokenizer=e.tokenizer}};class xp{constructor(e,n){this.hash={};const r=e instanceof la?e:new la(e,{});for(const i of r.readHashes(n))this.hash[i.name.content]=i.value}*render(e){const n={};for(const r of Object.keys(this.hash))n[r]=this.hash[r]===void 0?!0:yield An(this.hash[r],e);return n}}function r1e(t){return class extends yn{constructor(e,n,r){super(e,n,r),qn(t.parse)&&t.parse.call(this,e,n)}*render(e,n){const r=yield new xp(this.token.args,e.opts.keyValueSeparator).render(e);return yield t.render.call(this,e,n,r)}}}function eU(t){return vr(t)}class tU{constructor(e,n,r){this.token=e,this.name=e.name,this.handler=qn(n)?n:qn(n==null?void 0:n.handler)?n.handler:B7,this.raw=!qn(n)&&!!(n!=null&&n.raw),this.args=e.args,this.liquid=r}*render(e,n){const r=[];for(const i of this.args)eU(i)?r.push([i[0],yield An(i[1],n)]):r.push(yield An(i,n));return yield this.handler.apply({context:n,token:this.token,liquid:this.liquid},[e,...r])}}class Bi{constructor(e,n){this.filters=[];const r=typeof e=="string"?new la(e,n.options.operators).readFilteredValue():e;this.initial=r.initial,this.filters=r.filters.map(i=>new tU(i,this.getFilter(n,i.name),n))}*value(e,n){n=n||e.opts.lenientIf&&this.filters.length>0&&this.filters[0].name==="default";let r=yield this.initial.evaluate(e,n);for(const i of this.filters)r=yield i.render(r,e);return r}getFilter(e,n){const r=e.filters[n];return Lr(r||!e.options.strictFilters,()=>`undefined filter: ${n}`),r}}class i1e extends PA{constructor(e,n){var r;super(e);const i=new la(e.input,n.options.operators,e.file,e.contentRange);this.value=new Bi(i.readFilteredValue(),n);const s=this.value.filters,o=n.options.outputEscape;if(!(!((r=s[s.length-1])===null||r===void 0)&&r.raw)&&o){const a=new Y7(toString.call(o),[],"",0,0);s.push(new tU(a,o,n))}}*render(e,n){const r=yield this.value.value(e,!1);n.write(r)}*arguments(){yield this.value}}class s1e extends PA{constructor(e){super(e),this.str=e.getContent()}*render(e,n){n.write(this.str)}}class Od{constructor(e,n){this.segments=e,this.location=n}toString(){return lv(this.segments,!0)}toArray(){function*e(...n){for(const r of n)r instanceof Od?yield Array.from(e(...r.segments)):yield r}return Array.from(e(...this.segments))}}class Q${constructor(){this.map=new Map}get(e){const n=lv([e.segments[0]]);return this.map.has(n)||this.map.set(n,[]),this.map.get(n)}has(e){return this.map.has(lv([e.segments[0]]))}push(e){this.get(e).push(e)}asObject(){return Object.fromEntries(this.map)}}const nU={partials:!0};function*rU(t,e,n){const r=new Q$,i=new Q$,s=new Q$,o=new K5(new Set),a=new Set;function l(u,d){r.push(u);const f=d.alias(u);if(f!==void 0){const h=f.segments[0];nt(h)&&!o.has(h)&&i.push(f)}else{const h=u.segments[0];nt(h)&&!d.has(h)&&i.push(u)}for(const h of u.segments)h instanceof Od&&l(h,d)}function*c(u,d){if(u.arguments)for(const f of u.arguments())for(const h of eL(f))l(h,d);if(u.localScope)for(const f of u.localScope()){d.add(f.content),d.deleteAlias(f.content);const[h,m]=f.getPosition();s.push(new Od([f.content],{row:h,col:m,file:f.file}))}if(u.children)if(u.partialScope){const f=u.partialScope();if(f===void 0){for(const g of yield u.children(e,n))yield c(g,d);return}if(a.has(f.name))return;const h=new Set,m=f.isolated?new K5(h):d.push(h);for(const g of f.scope)if(nt(g))h.add(g);else{const[y,O]=g;h.add(y);const b=Array.from(eL(O));b.length&&m.setAlias(y,b[0].segments)}for(const g of yield u.children(e,n))yield c(g,m),a.add(f.name);m.pop()}else{u.blockScope&&d.push(new Set(u.blockScope()));for(const f of yield u.children(e,n))yield c(f,d);u.blockScope&&d.pop()}}for(const u of t)yield c(u,o);return{variables:r.asObject(),globals:i.asObject(),locals:s.asObject()}}function Ul(t,e={}){const n=Object.assign(Object.assign({},nU),e);return Ka(rU(t,n.partials,!1))}function Xl(t,e={}){const n=Object.assign(Object.assign({},nU),e);return el(rU(t,n.partials,!0))}class K5{constructor(e){this.stack=[{names:e,aliases:new Map}]}has(e){for(const n of this.stack)if(n.names.has(e))return!0;return!1}push(e){return this.stack.push({names:e,aliases:new Map}),this}pop(){var e;return(e=this.stack.pop())===null||e===void 0?void 0:e.names}add(e){this.stack[0].names.add(e)}alias(e){const n=e.segments[0];if(!nt(n))return;const r=this.getAlias(n);if(r!==void 0)return new Od([...r,...e.segments.slice(1)],e.location)}setAlias(e,n){this.stack[this.stack.length-1].aliases.set(e,n)}deleteAlias(e){this.stack[this.stack.length-1].aliases.delete(e)}getAlias(e){for(const n of this.stack){if(n.aliases.has(e))return n.aliases.get(e);if(n.names.has(e))return}}}function*eL(t){Ii(t)?yield*Zf(t):t instanceof Bi&&(yield*o1e(t))}function*o1e(t){for(const e of t.initial.postfix)Ii(e)&&(yield*Zf(e));for(const e of t.filters)for(const n of e.args)eU(n)&&n[1]?yield*Zf(n[1]):Ii(n)&&(yield*Zf(n))}function*Zf(t){sU(t)?(yield*Zf(t.lhs),yield*Zf(t.rhs)):cv(t)&&(yield Uj(t))}function Uj(t){const e=[];let n=t.file;const r=t.props[0];n=n||r.file,Xj(r)||nL(r)||rL(r)?e.push(r.content):cv(r)&&e.push(...Uj(r).segments);for(const o of t.props.slice(1))n=n||o.file,Xj(o)||nL(o)||rL(o)?e.push(o.content):cv(o)&&e.push(Uj(o));const[i,s]=t.getPosition();return new Od(e,{row:i,col:s,file:n})}const tL=/^[\u0080-\uFFFFa-zA-Z_][\u0080-\uFFFFa-zA-Z0-9_-]*$/;function lv(t,e=!1){const n=[],r=t[0];nt(r)&&(!e||r.match(tL)?n.push(`${r}`):n.push(`['${r}']`));for(const i of t.slice(1))i instanceof Od?n.push(`[${lv(i.segments)}]`):nt(i)?i.match(tL)?n.push(`.${i}`):n.push(`['${i}']`):n.push(`[${i}]`);return n.join("")}var bd;(function(t){t.Partials="partials",t.Layouts="layouts",t.Root="root"})(bd||(bd={}));class a1e{constructor(e){if(this.options=e,e.relativeReference){const n=e.fs.sep;Lr(n,"`fs.sep` is required for relative reference");const r=new RegExp(["."+n,".."+n,"./","../"].map(i=>jve(i)).join("|"));this.shouldLoadRelative=i=>r.test(i)}else this.shouldLoadRelative=n=>!1;this.contains=this.options.fs.contains||(()=>!0)}*lookup(e,n,r,i){const{fs:s}=this.options,o=this.options[n];for(const a of this.candidates(e,o,i,n!==bd.Root))if(r?s.existsSync(a):yield s.exists(a))return a;throw this.lookupError(e,o)}*candidates(e,n,r,i){const{fs:s,extname:o}=this.options;if(this.shouldLoadRelative(e)&&r){const a=s.resolve(this.dirname(r),e,o);for(const l of n)if(!i||this.contains(l,a)){yield a;break}}for(const a of n){const l=s.resolve(a,e,o);(!i||this.contains(a,l))&&(yield l)}if(s.fallback!==void 0){const a=s.fallback(e);a!==void 0&&(yield a)}}dirname(e){const n=this.options.fs;return Lr(n.dirname,"`fs.dirname` is required for relative reference"),n.dirname(e)}lookupError(e,n){const r=new Error("ENOENT");return r.message=`ENOENT: Failed to lookup "${e}" in "${n}"`,r.code="ENOENT",r}}let pu=class{constructor(e){this.liquid=e,this.cache=this.liquid.options.cache,this.fs=this.liquid.options.fs,this.parseFile=this.cache?this._parseFileCached:this._parseFile,this.loader=new a1e(this.liquid.options),this.parseLimit=new Zj("parse length",e.options.parseLimit)}parse(e,n){e=String(e),this.parseLimit.use(e.length);const i=new la(e,this.liquid.options.operators,n).readTopLevelTokens(this.liquid.options);return this.parseTokens(i)}parseTokens(e){let n;const r=[],i=[];for(;n=e.shift();)try{r.push(this.parseToken(n,e))}catch(s){if(this.liquid.options.catchAllErrors)i.push(s);else throw s}if(i.length)throw new q7(i);return r}parseToken(e,n){try{if(Wd(e)){const r=this.liquid.tags[e.name];return Lr(r,`tag "${e.name}" not found`),new r(e,n,this.liquid,this)}return c1e(e)?new i1e(e,this.liquid):new s1e(e)}catch(r){throw ou.is(r)?r:new Mve(r,e)}}parseStream(e){return new n1e(e,(n,r)=>this.parseToken(n,r))}*_parseFileCached(e,n,r=bd.Root,i){const s=this.cache,o=this.loader.shouldLoadRelative(e)?i+","+e:r+":"+e,a=yield s.read(o);if(a)return a;const l=this._parseFile(e,n,r,i),c=n?yield l:Ka(l);s.write(o,c);try{return yield c}catch(u){throw s.remove(o),u}}*_parseFile(e,n,r=bd.Root,i){const s=yield this.loader.lookup(e,r,n,i);return this.parse(n?this.fs.readFileSync(s):yield this.fs.readFile(s),s)}};var zt;(function(t){t[t.Number=1]="Number",t[t.Literal=2]="Literal",t[t.Tag=4]="Tag",t[t.Output=8]="Output",t[t.HTML=16]="HTML",t[t.Filter=32]="Filter",t[t.Hash=64]="Hash",t[t.PropertyAccess=128]="PropertyAccess",t[t.Word=256]="Word",t[t.Range=512]="Range",t[t.Quoted=1024]="Quoted",t[t.Operator=2048]="Operator",t[t.FilteredValue=4096]="FilteredValue",t[t.Delimited=12]="Delimited"})(zt||(zt={}));function l1e(t){return!!(fo(t)&zt.Delimited)}function iU(t){return fo(t)===zt.Operator}function jA(t){return fo(t)===zt.HTML}function c1e(t){return fo(t)===zt.Output}function Wd(t){return fo(t)===zt.Tag}function Xj(t){return fo(t)===zt.Quoted}function nL(t){return fo(t)===zt.Number}function cv(t){return fo(t)===zt.PropertyAccess}function rL(t){return fo(t)===zt.Word}function sU(t){return fo(t)===zt.Range}function Ii(t){return(fo(t)&1667)>0}function fo(t){return t?t.kind:-1}class Mu{constructor(e={},n=Ef,r={},{memoryLimit:i,renderLimit:s}={}){var o,a,l,c,u;this.scopes=[{}],this.registers={},this.breakCalled=!1,this.continueCalled=!1,this.sync=!!r.sync,this.opts=n,this.globals=(o=r.globals)!==null&&o!==void 0?o:n.globals,this.environments=V1(e)?e:Object(e),this.strictVariables=(a=r.strictVariables)!==null&&a!==void 0?a:this.opts.strictVariables,this.ownPropertyOnly=(l=r.ownPropertyOnly)!==null&&l!==void 0?l:n.ownPropertyOnly,this.memoryLimit=i??new Zj("memory alloc",(c=r.memoryLimit)!==null&&c!==void 0?c:n.memoryLimit),this.renderLimit=s??new Zj("template render",H7().now()+((u=r.renderLimit)!==null&&u!==void 0?u:n.renderLimit))}getRegister(e){return this.registers[e]=this.registers[e]||{}}setRegister(e,n){return this.registers[e]=n}saveRegister(...e){return e.map(n=>[n,this.getRegister(n)])}restoreRegister(e){return e.forEach(([n,r])=>this.setRegister(n,r))}getAll(){return[this.globals,this.environments,...this.scopes].reduce((e,n)=>av(e,n),{})}get(e){return this.getSync(e)}getSync(e){return el(this._get(e))}*_get(e){const n=this.findScope(e[0]);return yield this._getFromScope(n,e)}getFromScope(e,n){return el(this._getFromScope(e,n))}*_getFromScope(e,n,r=this.strictVariables){nt(n)&&(n=n.split("."));for(let i=0;i<n.length;i++)if(e=yield u1e(e,n[i],this.ownPropertyOnly),r&&Nve(e))throw new Dve(n.slice(0,i+1).join("."));return e}push(e){return this.scopes.push(e)}pop(){return this.scopes.pop()}bottom(){return this.scopes[0]}spawn(e={}){return new Mu(e,this.opts,{sync:this.sync,globals:this.globals,strictVariables:this.strictVariables},{renderLimit:this.renderLimit,memoryLimit:this.memoryLimit})}findScope(e){for(let n=this.scopes.length-1;n>=0;n--){const r=this.scopes[n];if(e in r)return r}return e in this.environments?this.environments:this.globals}}function u1e(t,e,n){if(t=I7(t),e=lt(e),Os(t))return t;if(vr(t)&&e<0)return t[t.length+ +e];const r=d1e(t,e,n);return r===void 0&&t instanceof qd?t.liquidMethodMissing(e):qn(r)?r.call(t):e==="size"?p1e(t):e==="first"?f1e(t):e==="last"?h1e(t):r}function d1e(t,e,n){if(!(n&&!vA.call(t,e)&&!(t instanceof qd)))return t[e]}function f1e(t){return vr(t)?t[0]:t.first}function h1e(t){return vr(t)?t[t.length-1]:t.last}function p1e(t){if(vA.call(t,"size")||t.size!==void 0)return t.size;if(vr(t)||nt(t))return t.length;if(typeof t=="object")return Object.keys(t).length}var ud;(function(t){t[t.OUTPUT=0]="OUTPUT",t[t.STORE=1]="STORE"})(ud||(ud={}));const m1e=Ui(Math.abs),g1e=Ui(Math.max),y1e=Ui(Math.min),O1e=Ui(Math.ceil),b1e=Ui((t,e,n=!1)=>n?Math.floor(t/e):t/e),x1e=Ui(Math.floor),w1e=Ui((t,e)=>t-e),v1e=Ui((t,e)=>t%e),S1e=Ui((t,e)=>t*e);function k1e(t,e=0){t=lt(t),e=lt(e);const n=Math.pow(10,e);return Math.round(t*n)/n}function $1e(t,e){return t=lt(t),e=lt(e),Number(t)+Number(e)}var C1e=Object.freeze({__proto__:null,abs:m1e,at_least:g1e,at_most:y1e,ceil:O1e,divided_by:b1e,floor:x1e,minus:w1e,modulo:v1e,times:S1e,round:k1e,plus:$1e});const P1e=t=>decodeURIComponent(Le(t)).replace(/\+/g," "),j1e=t=>encodeURIComponent(Le(t)).replace(/%20/g,"+"),N1e=t=>encodeURIComponent(Le(t)).replace(/%20/g,"+").replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase()),E1e=t=>encodeURI(Le(t)).replace(/%5B/g,"[").replace(/%5D/g,"]"),iL=/[^\p{M}\p{L}\p{Nd}]+/ug,_1e={raw:/\s+/g,default:iL,pretty:/[^\p{M}\p{L}\p{Nd}._~!$&'()+,;=@]+/ug,ascii:/[^A-Za-z0-9]+/g,latin:iL,none:null};function T1e(t,e="default",n=!1){t=Le(t);const r=_1e[e];return r&&(e==="latin"&&(t=A1e(t)),t=t.replace(r,"-").replace(/^-|-$/g,"")),n?t:t.toLowerCase()}function A1e(t){return t.replace(/[]/g,"a").replace(/[]/g,"ae").replace(/[]/g,"c").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"d").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[]/g,"ss").replace(/[]/g,"oe").replace(/[]/g,"th").replace(/[]/g,"SS").replace(/[]/g,"OE").replace(/[]/g,"TH")}var R1e=Object.freeze({__proto__:null,url_decode:P1e,url_encode:j1e,cgi_escape:N1e,uri_escape:E1e,slugify:T1e});const M1e=Ui(function(t,e){const n=wr(t),r=Os(e)?" ":Le(e),i=n.length*(1+r.length);return this.context.memoryLimit.use(i),n.join(r)}),Q1e=Ui(t=>D7(t)?L7(t):""),I1e=Ui(t=>D7(t)?t[0]:""),D1e=Ui(function(t){const e=wr(t);return this.context.memoryLimit.use(e.length),[...e].reverse()});function*L1e(t,e){const n=[],r=wr(t);this.context.memoryLimit.use(r.length);for(const i of r)n.push([i,e?yield this.context._getFromScope(i,Le(e).split("."),!1):i]);return n.sort((i,s)=>{const o=i[1],a=s[1];return o<a?-1:o>a?1:0}).map(i=>i[0])}function F1e(t,e){const n=Le(e),r=e===void 0?Q5:(s,o)=>Q5(s[n],o[n]),i=wr(t);return this.context.memoryLimit.use(i.length),[...i].sort(r)}const V1e=t=>t&&t.length||0;function*B1e(t,e){const n=[],r=wr(t);this.context.memoryLimit.use(r.length);for(const i of r)n.push(yield this.context._getFromScope(i,Le(e),!1));return n}function*q1e(t,e){let n=0;const r=wr(t);for(const i of r){const s=Number(e?yield this.context._getFromScope(i,Le(e),!1):i);n+=Number.isNaN(s)?0:s}return n}function W1e(t){const e=wr(t);return this.context.memoryLimit.use(e.length),e.filter(n=>!Os(lt(n)))}function oU(t,e=[]){const n=wr(t),r=wr(e);return this.context.memoryLimit.use(n.length+r.length),n.concat(r)}function z1e(t,e){return oU.call(this,t,[e])}function Z1e(t,e){const n=wr(t);this.context.memoryLimit.use(n.length);const r=[...n];return r.unshift(e),r}function U1e(t){const e=[...wr(t)];return e.pop(),e}function X1e(t){const e=wr(t);this.context.memoryLimit.use(e.length);const n=[...e];return n.shift(),n}function G1e(t,e,n=1){return t=lt(t),Os(t)?[]:(vr(t)||(t=Le(t)),e=e<0?t.length+e:e,this.context.memoryLimit.use(n),t.slice(e,e+n))}function*Y1e(t,e,n){const r=[];t=wr(t),this.context.memoryLimit.use(t.length);const i=new la(Le(e)).readScopeValue();for(const o of t)r.push(yield An(i,this.context.spawn(o)));const s=this.context.opts.jekyllWhere?o=>_h.is(n)?ta(o,n):vr(o)?N0e(o,n):ta(o,n):o=>ta(o,n);return t.filter((o,a)=>n===void 0?qu(r[a],this.context):s(r[a]))}function*H1e(t,e,n){const r=[],i=new Bi(Le(n),this.liquid),s=wr(t);this.context.memoryLimit.use(s.length);for(const o of s){this.context.push({[e]:o});const a=yield i.value(this.context);this.context.pop(),a&&r.push(o)}return r}function*J1e(t,e){const n=new Map;t=aO(t);const r=new la(Le(e)).readScopeValue();this.context.memoryLimit.use(t.length);for(const i of t){const s=yield An(r,this.context.spawn(i));n.has(s)||n.set(s,[]),n.get(s).push(i)}return[...n.entries()].map(([i,s])=>({name:i,items:s}))}function*K1e(t,e,n){const r=new Map,i=new Bi(Le(n),this.liquid);t=aO(t),this.context.memoryLimit.use(t.length);for(const s of t){this.context.push({[e]:s});const o=yield i.value(this.context);this.context.pop(),r.has(o)||r.set(o,[]),r.get(o).push(s)}return[...r.entries()].map(([s,o])=>({name:s,items:o}))}function*eSe(t,e,n){const r=new la(Le(e)).readScopeValue(),i=wr(t);for(const s of i){const o=yield An(r,this.context.spawn(s));if(ta(o,n))return s}}function*tSe(t,e,n){const r=new Bi(Le(n),this.liquid),i=wr(t);for(const s of i){this.context.push({[e]:s});const o=yield r.value(this.context);if(this.context.pop(),o)return s}}function nSe(t){return t=wr(t),this.context.memoryLimit.use(t.length),[...new Set(t)]}function rSe(t,e=1){if(t=lt(t),Os(t))return[];vr(t)||(t=Le(t)),this.context.memoryLimit.use(e);const n=[...t].sort(()=>Math.random()-.5);return e===1?n[0]:n.slice(0,e)}var iSe=Object.freeze({__proto__:null,join:M1e,last:Q1e,first:I1e,reverse:D1e,sort:L1e,sort_natural:F1e,size:V1e,map:B1e,sum:q1e,compact:W1e,concat:oU,push:z1e,unshift:Z1e,pop:U1e,shift:X1e,slice:G1e,where:Y1e,where_exp:H1e,group_by:J1e,group_by_exp:K1e,find:eSe,find_exp:tSe,uniq:nSe,sample:rSe});function NA(t,e,n){var r,i,s;const o=((r=t==null?void 0:t.length)!==null&&r!==void 0?r:0)+((i=e==null?void 0:e.length)!==null&&i!==void 0?i:0)+((s=n==null?void 0:n.length)!==null&&s!==void 0?s:0);this.context.memoryLimit.use(o);const a=lU(t,this.context.opts,n);return a?(e=lt(e),e=Os(e)?this.context.opts.dateFormat:Le(e),Xx(a,e)):t}function sSe(t){return NA.call(this,t,"%Y-%m-%dT%H:%M:%S%:z")}function oSe(t){return NA.call(this,t,"%a, %d %b %Y %H:%M:%S %z")}function aSe(t,e,n){return aU.call(this,t,"%b",e,n)}function lSe(t,e,n){return aU.call(this,t,"%B",e,n)}function aU(t,e,n,r){const i=lU(t,this.context.opts);if(!i)return t;if(n==="ordinal"){const s=i.getDate();return r==="US"?Xx(i,`${e} ${s}%q, %Y`):Xx(i,`${s}%q ${e} %Y`)}return Xx(i,`%d ${e} %Y`)}function lU(t,e,n){let r;const i=n??e.timezoneOffset,s=e.locale;return t=lt(t),t==="now"||t==="today"?r=new zs(Date.now(),s,i):F1(t)?r=new zs(t*1e3,s,i):nt(t)?/^\d+$/.test(t)?r=new zs(+t*1e3,s,i):e.preserveTimezones&&n===void 0?r=zs.createDateFixedToTimezone(t,s):r=new zs(t,s,i):r=new zs(t,s,i),r.valid()?r:void 0}var cSe=Object.freeze({__proto__:null,date:NA,date_to_xmlschema:sSe,date_to_rfc822:oSe,date_to_string:aSe,date_to_long_string:lSe});const I$=/[\u4E00-\u9FFF\uF900-\uFAFF\u3400-\u4DBF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF]/gu,sL=/[^\u4E00-\u9FFF\uF900-\uFAFF\u3400-\u4DBF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF\s]+/gu;function uSe(t,e){Lr(arguments.length===2,"append expect 2 arguments");const n=Le(t),r=Le(e);return this.context.memoryLimit.use(n.length+r.length),n+r}function dSe(t,e){Lr(arguments.length===2,"prepend expect 2 arguments");const n=Le(t),r=Le(e);return this.context.memoryLimit.use(n.length+r.length),r+n}function fSe(t,e){const n=Le(t);return this.context.memoryLimit.use(n.length),e?(e=SA(Le(e)),n.replace(new RegExp(`^[${e}]+`,"g"),"")):n.replace(/^\s+/,"")}function hSe(t){const e=Le(t);return this.context.memoryLimit.use(e.length),e.toLowerCase()}function pSe(t){const e=Le(t);return this.context.memoryLimit.use(e.length),Le(e).toUpperCase()}function mSe(t,e){const n=Le(t);return this.context.memoryLimit.use(n.length),n.split(Le(e)).join("")}function gSe(t,e){const n=Le(t);return this.context.memoryLimit.use(n.length),n.replace(Le(e),"")}function ySe(t,e){const n=Le(t);this.context.memoryLimit.use(n.length);const r=Le(e),i=n.lastIndexOf(r);return i===-1?n:n.substring(0,i)+n.substring(i+r.length)}function OSe(t,e){return t=Le(t),this.context.memoryLimit.use(t.length),e?(e=SA(Le(e)),t.replace(new RegExp(`[${e}]+$`,"g"),"")):t.replace(/\s+$/,"")}function bSe(t,e){const n=Le(t);this.context.memoryLimit.use(n.length);const r=n.split(Le(e));for(;r.length&&r[r.length-1]==="";)r.pop();return r}function xSe(t,e){const n=Le(t);return this.context.memoryLimit.use(n.length),e?(e=SA(Le(e)),n.replace(new RegExp(`^[${e}]+`,"g"),"").replace(new RegExp(`[${e}]+$`,"g"),"")):n.trim()}function wSe(t){const e=Le(t);return this.context.memoryLimit.use(e.length),e.replace(/\r?\n/gm,"")}function vSe(t){return t=Le(t),this.context.memoryLimit.use(t.length),t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}function SSe(t,e,n){const r=Le(t);return this.context.memoryLimit.use(r.length),r.split(Le(e)).join(n)}function kSe(t,e,n){const r=Le(t);return this.context.memoryLimit.use(r.length),r.replace(Le(e),n)}function $Se(t,e,n){const r=Le(t);this.context.memoryLimit.use(r.length);const i=Le(e),s=r.lastIndexOf(i);if(s===-1)return r;const o=Le(n);return r.substring(0,s)+o+r.substring(s+i.length)}function CSe(t,e=50,n="..."){const r=Le(t);return this.context.memoryLimit.use(r.length),r.length<=e?t:r.substring(0,e-n.length)+n}function PSe(t,e=15,n="..."){const r=Le(t);this.context.memoryLimit.use(r.length);const i=r.split(/\s+/);e<=0&&(e=1);let s=i.slice(0,e).join(" ");return i.length>=e&&(s+=n),s}function jSe(t){const e=Le(t);return this.context.memoryLimit.use(e.length),e.replace(/\s+/g," ")}function NSe(t,e){const n=Le(t);if(this.context.memoryLimit.use(n.length),t=n.trim(),!t)return 0;switch(e){case"cjk":return(t.match(I$)||[]).length+(t.match(sL)||[]).length;case"auto":return I$.test(t)?t.match(I$).length+(t.match(sL)||[]).length:t.split(/\s+/).length;default:return t.split(/\s+/).length}}function ESe(t,e="and"){switch(this.context.memoryLimit.use(t.length),t.length){case 0:return"";case 1:return t[0];case 2:return`${t[0]} ${e} ${t[1]}`;default:return`${t.slice(0,-1).join(", ")}, ${e} ${t[t.length-1]}`}}var _Se=Object.freeze({__proto__:null,append:uSe,prepend:dSe,lstrip:fSe,downcase:hSe,upcase:pSe,remove:mSe,remove_first:gSe,remove_last:ySe,rstrip:OSe,split:bSe,strip:xSe,strip_newlines:wSe,capitalize:vSe,replace:SSe,replace_first:kSe,replace_last:$Se,truncate:CSe,truncatewords:PSe,normalize_whitespace:jSe,number_of_words:NSe,array_to_sentence_string:ESe});const TSe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},G0e),C1e),R1e),iSe),cSe),_Se),K7);class ASe extends yn{constructor(e,n,r){super(e,n,r),this.identifier=this.tokenizer.readIdentifier(),this.key=this.identifier.content,this.tokenizer.assert(this.key,"expected variable name"),this.tokenizer.skipBlank(),this.tokenizer.assert(this.tokenizer.peek()==="=",'expected "="'),this.tokenizer.advance(),this.value=new Bi(this.tokenizer.readFilteredValue(),this.liquid)}*render(e){e.bottom()[this.key]=yield this.value.value(e,this.liquid.options.lenientIf)}*arguments(){yield this.value}*localScope(){yield this.identifier}}const oL=["offset","limit","reversed"];class RSe extends yn{constructor(e,n,r,i){super(e,n,r);const s=this.tokenizer.readIdentifier(),o=this.tokenizer.readIdentifier(),a=this.tokenizer.readValue();if(!s.size()||o.content!=="in"||!a)throw new Error(`illegal tag: ${e.getText()}`);this.variable=s.content,this.collection=a,this.hash=new xp(this.tokenizer,r.options.keyValueSeparator),this.templates=[],this.elseTemplates=[];let l;const c=i.parseStream(n).on("start",()=>l=this.templates).on("tag:else",u=>{ov(u.args),l=this.elseTemplates}).on("tag:endfor",u=>{ov(u.args),c.stop()}).on("template",u=>l.push(u)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});c.start()}*render(e,n){const r=this.liquid.renderer;let i=aO(yield An(this.collection,e));if(!i.length){yield r.renderTemplates(this.elseTemplates,e,n);return}const s="continue-"+this.variable+"-"+this.collection.getText();e.push({continue:e.getRegister(s)});const o=yield this.hash.render(e);e.pop(),i=(this.liquid.options.orderedFilterParameters?Object.keys(o).filter(c=>oL.includes(c)):oL.filter(c=>o[c]!==void 0)).reduce((c,u)=>u==="offset"?QSe(c,o.offset):u==="limit"?ISe(c,o.limit):MSe(c),i),e.setRegister(s,(o.offset||0)+i.length);const l={forloop:new $A(i.length,this.collection.getText(),this.variable)};e.push(l);for(const c of i){if(l[this.variable]=c,e.continueCalled=e.breakCalled=!1,yield r.renderTemplates(this.templates,e,n),e.breakCalled)break;l.forloop.next()}e.continueCalled=e.breakCalled=!1,e.pop()}*children(){const e=this.templates.slice();return this.elseTemplates&&e.push(...this.elseTemplates),e}*arguments(){yield this.collection;for(const e of Object.values(this.hash.hash))Ii(e)&&(yield e)}blockScope(){return[this.variable,"forloop"]}}function MSe(t){return[...t].reverse()}function QSe(t,e){return t.slice(e)}function ISe(t,e){return t.slice(0,e)}class DSe extends yn{constructor(e,n,r,i){for(super(e,n,r),this.templates=[],this.identifier=this.readVariable(),this.variable=this.identifier.content;n.length;){const s=n.shift();if(Wd(s)&&s.name==="endcapture")return;this.templates.push(i.parseToken(s,n))}throw new Error(`tag ${e.getText()} not closed`)}readVariable(){let e=this.tokenizer.readIdentifier();if(e.content||(e=this.tokenizer.readQuoted(),e))return e;throw this.tokenizer.error("invalid capture name")}*render(e){const r=yield this.liquid.renderer.renderTemplates(this.templates,e);e.bottom()[this.variable]=r}*children(){return this.templates}*localScope(){yield this.identifier}}class LSe extends yn{constructor(e,n,r,i){super(e,n,r),this.branches=[],this.elseTemplates=[],this.value=new Bi(this.tokenizer.readFilteredValue(),this.liquid),this.elseTemplates=[];let s=[],o=0;const a=i.parseStream(n).on("tag:when",l=>{if(o>0)return;s=[];const c=[];for(;!l.tokenizer.end();)c.push(l.tokenizer.readValueOrThrow()),l.tokenizer.skipBlank(),l.tokenizer.peek()===","?l.tokenizer.readTo(","):l.tokenizer.readTo("or");this.branches.push({values:c,templates:s})}).on("tag:else",()=>{o++,s=this.elseTemplates}).on("tag:endcase",()=>a.stop()).on("template",l=>{(s!==this.elseTemplates||o===1)&&s.push(l)}).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});a.start()}*render(e,n){const r=this.liquid.renderer,i=lt(yield this.value.value(e,e.opts.lenientIf));let s=!1;for(const o of this.branches)for(const a of o.values){const l=yield An(a,e,e.opts.lenientIf);if(ta(i,l)){yield r.renderTemplates(o.templates,e,n),s=!0;break}}s||(yield r.renderTemplates(this.elseTemplates,e,n))}*arguments(){yield this.value,yield*this.branches.flatMap(e=>e.values)}*children(){const e=this.branches.flatMap(n=>n.templates);return this.elseTemplates&&e.push(...this.elseTemplates),e}}class FSe extends yn{constructor(e,n,r){for(super(e,n,r);n.length;){const i=n.shift();if(Wd(i)&&i.name==="endcomment")return}throw new Error(`tag ${e.getText()} not closed`)}render(){}}class VSe extends yn{constructor(e,n,r,i){super(e,n,r);const s=this.tokenizer;for(this.file=EA(s,this.liquid,i),this.currentFile=e.file;!s.end();){s.skipBlank();const o=s.p,a=s.readIdentifier();if((a.content==="with"||a.content==="for")&&(s.skipBlank(),s.peek()!==":")){const l=s.readValue();if(l){const c=s.p,u=s.readIdentifier();let d;u.content==="as"?d=s.readIdentifier():s.p=c,this[a.content]={value:l,alias:d&&d.content},s.skipBlank(),s.peek()===","&&s.advance();continue}}s.p=o;break}this.hash=new xp(s,r.options.keyValueSeparator)}*render(e,n){const{liquid:r,hash:i}=this,s=yield _A(this.file,e,r);Lr(s,()=>`illegal file path "${s}"`);const o=e.spawn(),a=o.bottom();if(av(a,yield i.render(e)),this.with){const{value:l,alias:c}=this.with;a[c||s]=yield An(l,e)}if(this.for){const{value:l,alias:c}=this.for,u=aO(yield An(l,e));a.forloop=new $A(u.length,l.getText(),c);for(const d of u){a[c]=d;const f=yield r._parsePartialFile(s,o.sync,this.currentFile);yield r.renderer.renderTemplates(f,o,n),a.forloop.next()}}else{const l=yield r._parsePartialFile(s,o.sync,this.currentFile);yield r.renderer.renderTemplates(l,o,n)}}*children(e,n){return e&&nt(this.file)?yield this.liquid._parsePartialFile(this.file,n,this.currentFile):[]}partialScope(){if(nt(this.file)){const e=Object.keys(this.hash.hash);if(this.with){const{value:n,alias:r}=this.with;nt(r)?e.push([r,n]):nt(this.file)&&e.push([this.file,n])}if(this.for){const{value:n,alias:r}=this.for;nt(r)?e.push([r,n]):nt(this.file)&&e.push([this.file,n])}return{name:this.file,isolated:!0,scope:e}}}*arguments(){for(const e of Object.values(this.hash.hash))Ii(e)&&(yield e);if(this.with){const{value:e}=this.with;Ii(e)&&(yield e)}if(this.for){const{value:e}=this.for;Ii(e)&&(yield e)}}}function EA(t,e,n){if(e.options.dynamicPartials){const s=t.readValue();if(t.assert(s,"illegal file path"),s.getText()==="none")return;if(Xj(s)){const o=n.parse(k0e(s));return aL(o)}return s}const r=[...t.readFileNameTemplate(e.options)],i=aL(n.parseTokens(r));return i==="none"?void 0:i}function aL(t){return t.length===1&&jA(t[0].token)?t[0].token.getContent():t}function*_A(t,e,n){return typeof t=="string"?t:Array.isArray(t)?n.renderer.renderTemplates(t,e):yield An(t,e)}class BSe extends yn{constructor(e,n,r,i){super(e,n,r);const{tokenizer:s}=e;this.file=EA(s,this.liquid,i),this.currentFile=e.file;const o=s.p;s.readIdentifier().content==="with"?(s.skipBlank(),s.peek()!==":"?this.withVar=s.readValue():s.p=o):s.p=o,this.hash=new xp(s,r.options.jekyllInclude||r.options.keyValueSeparator)}*render(e,n){const{liquid:r,hash:i,withVar:s}=this,{renderer:o}=r,a=yield _A(this.file,e,r);Lr(a,()=>`illegal file path "${a}"`);const l=e.saveRegister("blocks","blockMode");e.setRegister("blocks",{}),e.setRegister("blockMode",ud.OUTPUT);const c=yield i.render(e);s&&(c[a]=yield An(s,e));const u=yield r._parsePartialFile(a,e.sync,this.currentFile);e.push(e.opts.jekyllInclude?{include:c}:c),yield o.renderTemplates(u,e,n),e.pop(),e.restoreRegister(l)}*children(e,n){return e&&nt(this.file)?yield this.liquid._parsePartialFile(this.file,n,this.currentFile):[]}partialScope(){if(nt(this.file)){let e;return this.liquid.options.jekyllInclude?e=["include"]:(e=Object.keys(this.hash.hash),this.withVar&&e.push([this.file,this.withVar])),{name:this.file,isolated:!1,scope:e}}}*arguments(){yield*Object.values(this.hash.hash).filter(Ii),Ii(this.file)&&(yield this.file),Ii(this.withVar)&&(yield this.withVar)}}class qSe extends yn{constructor(e,n,r){super(e,n,r),this.identifier=this.tokenizer.readIdentifier(),this.variable=this.identifier.content}render(e,n){const r=e.environments;F1(r[this.variable])||(r[this.variable]=0),n.write(Le(--r[this.variable]))}*localScope(){yield this.identifier}}class WSe extends yn{constructor(e,n,r){super(e,n,r),this.candidates=[];const i=this.tokenizer.readValue();for(this.tokenizer.skipBlank(),i&&(this.tokenizer.peek()===":"?(this.group=i,this.tokenizer.advance()):this.candidates.push(i));!this.tokenizer.end();){const s=this.tokenizer.readValue();s&&this.candidates.push(s),this.tokenizer.readTo(",")}this.tokenizer.assert(this.candidates.length,()=>`empty candidates: "${e.getText()}"`)}*render(e,n){const i=`cycle:${yield An(this.group,e)}:`+this.candidates.join(","),s=e.getRegister("cycle");let o=s[i];o===void 0&&(o=s[i]=0);const a=this.candidates[o];return o=(o+1)%this.candidates.length,s[i]=o,yield An(a,e)}*arguments(){yield*this.candidates,this.group&&(yield this.group)}}class zSe extends yn{constructor(e,n,r,i){super(e,n,r),this.branches=[];let s=[];i.parseStream(n).on("start",()=>this.branches.push({value:new Bi(e.tokenizer.readFilteredValue(),this.liquid),templates:s=[]})).on("tag:elsif",o=>{Lr(!this.elseTemplates,"unexpected elsif after else"),this.branches.push({value:new Bi(o.tokenizer.readFilteredValue(),this.liquid),templates:s=[]})}).on("tag:else",o=>{ov(o.args),Lr(!this.elseTemplates,"duplicated else"),s=this.elseTemplates=[]}).on("tag:endif",function(o){ov(o.args),this.stop()}).on("template",o=>s.push(o)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)}).start()}*render(e,n){const r=this.liquid.renderer;for(const{value:i,templates:s}of this.branches){const o=yield i.value(e,e.opts.lenientIf);if(qu(o,e)){yield r.renderTemplates(s,e,n);return}}yield r.renderTemplates(this.elseTemplates||[],e,n)}*children(){const e=this.branches.flatMap(n=>n.templates);return this.elseTemplates&&e.push(...this.elseTemplates),e}arguments(){return this.branches.map(e=>e.value)}}class ZSe extends yn{constructor(e,n,r){super(e,n,r),this.identifier=this.tokenizer.readIdentifier(),this.variable=this.identifier.content}render(e,n){const r=e.environments;F1(r[this.variable])||(r[this.variable]=0);const i=r[this.variable];r[this.variable]++,n.write(Le(i))}*localScope(){yield this.identifier}}class USe extends yn{constructor(e,n,r,i){super(e,n,r),this.file=EA(this.tokenizer,this.liquid,i),this.currentFile=e.file,this.args=new xp(this.tokenizer,r.options.keyValueSeparator),this.templates=i.parseTokens(n)}*render(e,n){const{liquid:r,args:i,file:s}=this,{renderer:o}=r;if(s===void 0){e.setRegister("blockMode",ud.OUTPUT),yield o.renderTemplates(this.templates,e,n);return}const a=yield _A(this.file,e,r);Lr(a,()=>`illegal file path "${a}"`);const l=yield r._parseLayoutFile(a,e.sync,this.currentFile);e.setRegister("blockMode",ud.STORE);const c=yield o.renderTemplates(this.templates,e),u=e.getRegister("blocks");u[""]===void 0&&(u[""]=(d,f)=>f.write(c)),e.setRegister("blockMode",ud.OUTPUT),e.push(yield i.render(e)),yield o.renderTemplates(l,e,n),e.pop()}*children(e){const n=this.templates.slice();return e&&nt(this.file)&&n.push(...yield this.liquid._parsePartialFile(this.file,!0,this.currentFile)),n}*arguments(){for(const e of Object.values(this.args.hash))Ii(e)&&(yield e);Ii(this.file)&&(yield this.file)}partialScope(){if(nt(this.file))return{name:this.file,isolated:!1,scope:Object.keys(this.args.hash)}}}class XSe extends yn{constructor(e,n,r,i){super(e,n,r),this.templates=[];const s=/\w+/.exec(e.args);for(this.block=s?s[0]:"";n.length;){const o=n.shift();if(Wd(o)&&o.name==="endblock")return;const a=i.parseToken(o,n);this.templates.push(a)}throw new Error(`tag ${e.getText()} not closed`)}*render(e,n){const r=this.getBlockRender(e);e.getRegister("blockMode")===ud.STORE?e.getRegister("blocks")[this.block]=r:yield r(new L5,n)}getBlockRender(e){const{liquid:n,templates:r}=this,i=e.getRegister("blocks")[this.block],s=function*(o,a){e.push({block:o}),yield n.renderer.renderTemplates(r,e,a),e.pop()};return i?(o,a)=>i(new L5(()=>s(o,a)),a):s}*children(){return this.templates}blockScope(){return["block"]}}class GSe extends yn{constructor(e,n,r){for(super(e,n,r),this.tokens=[];n.length;){const i=n.shift();if(Wd(i)&&i.name==="endraw")return;this.tokens.push(i)}throw new Error(`tag ${e.getText()} not closed`)}render(){return this.tokens.map(e=>e.getText()).join("")}}class YSe extends $A{constructor(e,n,r,i){super(e,r,i),this.length=e,this.cols=n}row(){return Math.floor(this.i/this.cols)+1}col0(){return this.i%this.cols}col(){return this.col0()+1}col_first(){return this.col0()===0}col_last(){return this.col()===this.cols}}class HSe extends yn{constructor(e,n,r,i){super(e,n,r);const s=this.tokenizer.readIdentifier();this.tokenizer.skipBlank();const o=this.tokenizer.readIdentifier(),a=this.tokenizer.readValue();if(o.content!=="in"||!a)throw new Error(`illegal tag: ${e.getText()}`);this.variable=s.content,this.collection=a,this.args=new xp(this.tokenizer,r.options.keyValueSeparator),this.templates=[];let l;const c=i.parseStream(n).on("start",()=>l=this.templates).on("tag:endtablerow",()=>c.stop()).on("template",u=>l.push(u)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});c.start()}*render(e,n){let r=aO(yield An(this.collection,e));const i=yield this.args.render(e),s=i.offset||0,o=i.limit===void 0?r.length:i.limit;r=r.slice(s,s+o);const a=i.cols||r.length,l=this.liquid.renderer,c=new YSe(r.length,a,this.collection.getText(),this.variable),u={tablerowloop:c};e.push(u);for(let d=0;d<r.length;d++,c.next())u[this.variable]=r[d],c.col0()===0&&(c.row()!==1&&n.write("</tr>"),n.write(`<tr class="row${c.row()}">`)),n.write(`<td class="col${c.col()}">`),yield l.renderTemplates(this.templates,e,n),n.write("</td>");r.length&&n.write("</tr>"),e.pop()}*children(){return this.templates}*arguments(){yield this.collection;for(const e of Object.values(this.args.hash))Ii(e)&&(yield e)}blockScope(){return[this.variable,"tablerowloop"]}}class JSe extends yn{constructor(e,n,r,i){super(e,n,r),this.branches=[],this.elseTemplates=[];let s=[],o=0;i.parseStream(n).on("start",()=>this.branches.push({value:new Bi(e.tokenizer.readFilteredValue(),this.liquid),test:B1,templates:s=[]})).on("tag:elsif",a=>{if(o>0){s=[];return}this.branches.push({value:new Bi(a.tokenizer.readFilteredValue(),this.liquid),test:qu,templates:s=[]})}).on("tag:else",()=>{o++,s=this.elseTemplates}).on("tag:endunless",function(){this.stop()}).on("template",a=>{(s!==this.elseTemplates||o===1)&&s.push(a)}).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)}).start()}*render(e,n){const r=this.liquid.renderer;for(const{value:i,test:s,templates:o}of this.branches){const a=yield i.value(e,e.opts.lenientIf);if(s(a,e)){yield r.renderTemplates(o,e,n);return}}yield r.renderTemplates(this.elseTemplates,e,n)}*children(){const e=this.branches.flatMap(n=>n.templates);return this.elseTemplates&&e.push(...this.elseTemplates),e}arguments(){return this.branches.map(e=>e.value)}}class KSe extends yn{render(e,n){e.breakCalled=!0}}class eke extends yn{render(e,n){e.continueCalled=!0}}class tke extends yn{constructor(e,n,r){super(e,n,r),this.tokenizer.skipBlank(),this.tokenizer.end()||(this.value=new Bi(this.tokenizer.readFilteredValue(),this.liquid))}*render(e,n){if(!this.value)return;const r=yield this.value.value(e,!1);n.write(r)}*arguments(){this.value&&(yield this.value)}}class nke extends yn{constructor(e,n,r,i){super(e,n,r);const s=this.tokenizer.readLiquidTagTokens(this.liquid.options);this.templates=i.parseTokens(s)}*render(e,n){yield this.liquid.renderer.renderTemplates(this.templates,e,n)}*children(){return this.templates}}class rke extends yn{constructor(e,n,r){if(super(e,n,r),e.args.search(/\n\s*[^#\s]/g)!==-1)throw new Error("every line of an inline comment must start with a '#' character")}render(){}}const ike={assign:ASe,for:RSe,capture:DSe,case:LSe,comment:FSe,include:BSe,render:VSe,decrement:qSe,increment:ZSe,cycle:WSe,if:zSe,layout:USe,block:XSe,raw:GSe,tablerow:HSe,unless:JSe,break:KSe,continue:eke,echo:tke,liquid:nke,"#":rke};class TA{constructor(e={}){this.renderer=new w0e,this.filters={},this.tags={},this.options=H0e(e),this.parser=new pu(this),M5(ike,(n,r)=>this.registerTag(r,n)),M5(TSe,(n,r)=>this.registerFilter(r,n))}parse(e,n){return new pu(this).parse(e,n)}_render(e,n,r){const i=n instanceof Mu?n:new Mu(n,this.options,r);return this.renderer.renderTemplates(e,i)}render(e,n,r){return Ln(this,void 0,void 0,function*(){return Ka(this._render(e,n,Object.assign(Object.assign({},r),{sync:!1})))})}renderSync(e,n,r){return el(this._render(e,n,Object.assign(Object.assign({},r),{sync:!0})))}renderToNodeStream(e,n,r={}){const i=new Mu(n,this.options,r);return this.renderer.renderTemplatesToNodeStream(e,i)}_parseAndRender(e,n,r){const i=this.parse(e);return this._render(i,n,r)}parseAndRender(e,n,r){return Ln(this,void 0,void 0,function*(){return Ka(this._parseAndRender(e,n,Object.assign(Object.assign({},r),{sync:!1})))})}parseAndRenderSync(e,n,r){return el(this._parseAndRender(e,n,Object.assign(Object.assign({},r),{sync:!0})))}_parsePartialFile(e,n,r){return new pu(this).parseFile(e,n,bd.Partials,r)}_parseLayoutFile(e,n,r){return new pu(this).parseFile(e,n,bd.Layouts,r)}_parseFile(e,n,r,i){return new pu(this).parseFile(e,n,r,i)}parseFile(e,n){return Ln(this,void 0,void 0,function*(){return Ka(new pu(this).parseFile(e,!1,n))})}parseFileSync(e,n){return el(new pu(this).parseFile(e,!0,n))}*_renderFile(e,n,r){const i=yield this._parseFile(e,r.sync,r.lookupType);return yield this._render(i,n,r)}renderFile(e,n,r){return Ln(this,void 0,void 0,function*(){return Ka(this._renderFile(e,n,Object.assign(Object.assign({},r),{sync:!1})))})}renderFileSync(e,n,r){return el(this._renderFile(e,n,Object.assign(Object.assign({},r),{sync:!0})))}renderFileToNodeStream(e,n,r){return Ln(this,void 0,void 0,function*(){const i=yield this.parseFile(e);return this.renderToNodeStream(i,n,r)})}_evalValue(e,n){const r=new Bi(e,this),i=n instanceof Mu?n:new Mu(n,this.options);return r.value(i)}evalValue(e,n){return Ln(this,void 0,void 0,function*(){return Ka(this._evalValue(e,n))})}evalValueSync(e,n){return el(this._evalValue(e,n))}registerFilter(e,n){this.filters[e]=n}registerTag(e,n){this.tags[e]=qn(n)?n:r1e(n)}plugin(e){return e.call(this,TA)}express(){const e=this;let n=!0;return function(r,i,s){if(n){n=!1;const o=Gx(this.root);e.options.root.unshift(...o),e.options.layouts.unshift(...o),e.options.partials.unshift(...o)}e.renderFile(r,i).then(o=>s(null,o),s)}}analyze(e,n={}){return Ln(this,void 0,void 0,function*(){return Ul(e,n)})}analyzeSync(e,n={}){return Xl(e,n)}parseAndAnalyze(e,n,r={}){return Ln(this,void 0,void 0,function*(){return Ul(this.parse(e,n),r)})}parseAndAnalyzeSync(e,n,r={}){return Xl(this.parse(e,n),r)}variables(e,n={}){return Ln(this,void 0,void 0,function*(){const r=yield Ul(nt(e)?this.parse(e):e,n);return Object.keys(r.variables)})}variablesSync(e,n={}){const r=Xl(nt(e)?this.parse(e):e,n);return Object.keys(r.variables)}fullVariables(e,n={}){return Ln(this,void 0,void 0,function*(){const r=yield Ul(nt(e)?this.parse(e):e,n);return Array.from(new Set(Object.values(r.variables).flatMap(i=>i.map(s=>String(s)))))})}fullVariablesSync(e,n={}){const r=Xl(nt(e)?this.parse(e):e,n);return Array.from(new Set(Object.values(r.variables).flatMap(i=>i.map(s=>String(s)))))}variableSegments(e,n={}){return Ln(this,void 0,void 0,function*(){const r=yield Ul(nt(e)?this.parse(e):e,n);return Array.from(Eb(Object.values(r.variables).flatMap(i=>i.map(s=>s.toArray()))))})}variableSegmentsSync(e,n={}){const r=Xl(nt(e)?this.parse(e):e,n);return Array.from(Eb(Object.values(r.variables).flatMap(i=>i.map(s=>s.toArray()))))}globalVariables(e,n={}){return Ln(this,void 0,void 0,function*(){const r=yield Ul(nt(e)?this.parse(e):e,n);return Object.keys(r.globals)})}globalVariablesSync(e,n={}){const r=Xl(nt(e)?this.parse(e):e,n);return Object.keys(r.globals)}globalFullVariables(e,n={}){return Ln(this,void 0,void 0,function*(){const r=yield Ul(nt(e)?this.parse(e):e,n);return Array.from(new Set(Object.values(r.globals).flatMap(i=>i.map(s=>String(s)))))})}globalFullVariablesSync(e,n={}){const r=Xl(nt(e)?this.parse(e):e,n);return Array.from(new Set(Object.values(r.globals).flatMap(i=>i.map(s=>String(s)))))}globalVariableSegments(e,n={}){return Ln(this,void 0,void 0,function*(){const r=yield Ul(nt(e)?this.parse(e):e,n);return Array.from(Eb(Object.values(r.globals).flatMap(i=>i.map(s=>s.toArray()))))})}globalVariableSegmentsSync(e,n={}){const r=Xl(nt(e)?this.parse(e):e,n);return Array.from(Eb(Object.values(r.globals).flatMap(i=>i.map(s=>s.toArray()))))}}var Yx={exports:{}},ske=Yx.exports,lL;function oke(){return lL||(lL=1,function(t,e){(function(n,r){t.exports=r()})(ske,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",m="date",g="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(j){var E=["th","st","nd","rd"],_=j%100;return"["+j+(E[(_-20)%10]||E[_]||E[0])+"]"}},w=function(j,E,_){var Q=String(j);return!Q||Q.length>=E?j:""+Array(E+1-Q.length).join(_)+j},x={s:w,z:function(j){var E=-j.utcOffset(),_=Math.abs(E),Q=Math.floor(_/60),M=_%60;return(E<=0?"+":"-")+w(Q,2,"0")+":"+w(M,2,"0")},m:function j(E,_){if(E.date()<_.date())return-j(_,E);var Q=12*(_.year()-E.year())+(_.month()-E.month()),M=E.clone().add(Q,d),L=_-M<0,V=E.clone().add(Q+(L?-1:1),d);return+(-(Q+(_-M)/(L?M-V:V-M))||0)},a:function(j){return j<0?Math.ceil(j)||0:Math.floor(j)},p:function(j){return{M:d,y:h,w:u,d:c,D:m,h:l,m:a,s:o,ms:s,Q:f}[j]||String(j||"").toLowerCase().replace(/s$/,"")},u:function(j){return j===void 0}},v="en",k={};k[v]=b;var $="$isDayjsObject",C=function(j){return j instanceof T||!(!j||!j[$])},N=function j(E,_,Q){var M;if(!E)return v;if(typeof E=="string"){var L=E.toLowerCase();k[L]&&(M=L),_&&(k[L]=_,M=L);var V=E.split("-");if(!M&&V.length>1)return j(V[0])}else{var W=E.name;k[W]=E,M=W}return!Q&&M&&(v=M),M||!Q&&v},P=function(j,E){if(C(j))return j.clone();var _=typeof E=="object"?E:{};return _.date=j,_.args=arguments,new T(_)},R=x;R.l=N,R.i=C,R.w=function(j,E){return P(j,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var T=function(){function j(_){this.$L=N(_.locale,null,!0),this.parse(_),this.$x=this.$x||_.x||{},this[$]=!0}var E=j.prototype;return E.parse=function(_){this.$d=function(Q){var M=Q.date,L=Q.utc;if(M===null)return new Date(NaN);if(R.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var V=M.match(y);if(V){var W=V[2]-1||0,H=(V[7]||"0").substring(0,3);return L?new Date(Date.UTC(V[1],W,V[3]||1,V[4]||0,V[5]||0,V[6]||0,H)):new Date(V[1],W,V[3]||1,V[4]||0,V[5]||0,V[6]||0,H)}}return new Date(M)}(_),this.init()},E.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},E.$utils=function(){return R},E.isValid=function(){return this.$d.toString()!==g},E.isSame=function(_,Q){var M=P(_);return this.startOf(Q)<=M&&M<=this.endOf(Q)},E.isAfter=function(_,Q){return P(_)<this.startOf(Q)},E.isBefore=function(_,Q){return this.endOf(Q)<P(_)},E.$g=function(_,Q,M){return R.u(_)?this[Q]:this.set(M,_)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(_,Q){var M=this,L=!!R.u(Q)||Q,V=R.p(_),W=function(q,oe){var B=R.w(M.$u?Date.UTC(M.$y,oe,q):new Date(M.$y,oe,q),M);return L?B:B.endOf(c)},H=function(q,oe){return R.w(M.toDate()[q].apply(M.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(oe)),M)},le=this.$W,fe=this.$M,U=this.$D,ee="set"+(this.$u?"UTC":"");switch(V){case h:return L?W(1,0):W(31,11);case d:return L?W(1,fe):W(0,fe+1);case u:var re=this.$locale().weekStart||0,J=(le<re?le+7:le)-re;return W(L?U-J:U+(6-J),fe);case c:case m:return H(ee+"Hours",0);case l:return H(ee+"Minutes",1);case a:return H(ee+"Seconds",2);case o:return H(ee+"Milliseconds",3);default:return this.clone()}},E.endOf=function(_){return this.startOf(_,!1)},E.$set=function(_,Q){var M,L=R.p(_),V="set"+(this.$u?"UTC":""),W=(M={},M[c]=V+"Date",M[m]=V+"Date",M[d]=V+"Month",M[h]=V+"FullYear",M[l]=V+"Hours",M[a]=V+"Minutes",M[o]=V+"Seconds",M[s]=V+"Milliseconds",M)[L],H=L===c?this.$D+(Q-this.$W):Q;if(L===d||L===h){var le=this.clone().set(m,1);le.$d[W](H),le.init(),this.$d=le.set(m,Math.min(this.$D,le.daysInMonth())).$d}else W&&this.$d[W](H);return this.init(),this},E.set=function(_,Q){return this.clone().$set(_,Q)},E.get=function(_){return this[R.p(_)]()},E.add=function(_,Q){var M,L=this;_=Number(_);var V=R.p(Q),W=function(fe){var U=P(L);return R.w(U.date(U.date()+Math.round(fe*_)),L)};if(V===d)return this.set(d,this.$M+_);if(V===h)return this.set(h,this.$y+_);if(V===c)return W(1);if(V===u)return W(7);var H=(M={},M[a]=r,M[l]=i,M[o]=n,M)[V]||1,le=this.$d.getTime()+_*H;return R.w(le,this)},E.subtract=function(_,Q){return this.add(-1*_,Q)},E.format=function(_){var Q=this,M=this.$locale();if(!this.isValid())return M.invalidDate||g;var L=_||"YYYY-MM-DDTHH:mm:ssZ",V=R.z(this),W=this.$H,H=this.$m,le=this.$M,fe=M.weekdays,U=M.months,ee=M.meridiem,re=function(oe,B,ie,ce){return oe&&(oe[B]||oe(Q,L))||ie[B].slice(0,ce)},J=function(oe){return R.s(W%12||12,oe,"0")},q=ee||function(oe,B,ie){var ce=oe<12?"AM":"PM";return ie?ce.toLowerCase():ce};return L.replace(O,function(oe,B){return B||function(ie){switch(ie){case"YY":return String(Q.$y).slice(-2);case"YYYY":return R.s(Q.$y,4,"0");case"M":return le+1;case"MM":return R.s(le+1,2,"0");case"MMM":return re(M.monthsShort,le,U,3);case"MMMM":return re(U,le);case"D":return Q.$D;case"DD":return R.s(Q.$D,2,"0");case"d":return String(Q.$W);case"dd":return re(M.weekdaysMin,Q.$W,fe,2);case"ddd":return re(M.weekdaysShort,Q.$W,fe,3);case"dddd":return fe[Q.$W];case"H":return String(W);case"HH":return R.s(W,2,"0");case"h":return J(1);case"hh":return J(2);case"a":return q(W,H,!0);case"A":return q(W,H,!1);case"m":return String(H);case"mm":return R.s(H,2,"0");case"s":return String(Q.$s);case"ss":return R.s(Q.$s,2,"0");case"SSS":return R.s(Q.$ms,3,"0");case"Z":return V}return null}(oe)||V.replace(":","")})},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(_,Q,M){var L,V=this,W=R.p(Q),H=P(_),le=(H.utcOffset()-this.utcOffset())*r,fe=this-H,U=function(){return R.m(V,H)};switch(W){case h:L=U()/12;break;case d:L=U();break;case f:L=U()/3;break;case u:L=(fe-le)/6048e5;break;case c:L=(fe-le)/864e5;break;case l:L=fe/i;break;case a:L=fe/r;break;case o:L=fe/n;break;default:L=fe}return M?L:R.a(L)},E.daysInMonth=function(){return this.endOf(d).$D},E.$locale=function(){return k[this.$L]},E.locale=function(_,Q){if(!_)return this.$L;var M=this.clone(),L=N(_,Q,!0);return L&&(M.$L=L),M},E.clone=function(){return R.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},j}(),A=T.prototype;return P.prototype=A,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",h],["$D",m]].forEach(function(j){A[j[1]]=function(E){return this.$g(E,j[0],j[1])}}),P.extend=function(j,E){return j.$i||(j(E,T,P),j.$i=!0),P},P.locale=N,P.isDayjs=C,P.unix=function(j){return P(1e3*j)},P.en=k[v],P.Ls=k,P.p={},P})}(Yx)),Yx.exports}var ake=oke();const Gj=a1(ake);var Hx={exports:{}},lke=Hx.exports,cL;function cke(){return cL||(cL=1,function(t,e){(function(n,r){t.exports=r()})(lke,function(){var n="week",r="year";return function(i,s,o){var a=s.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=o(this).startOf(r).add(1,r).date(c),d=o(this).endOf(n);if(u.isBefore(d))return 1}var f=o(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),h=this.diff(f,n,!0);return h<0?o(this).startOf("week").week():Math.ceil(h)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})}(Hx)),Hx.exports}var uke=cke();const dke=a1(uke);function uv(t){return typeof t>"u"||t===void 0}function ca(t){return typeof t=="string"}function AA(t){return typeof t=="number"}function cU(t){return typeof t=="boolean"}function uU(t){return t===null}function dU(t){return typeof t=="bigint"}function zd(t){return typeof t=="function"}function W1(t){return typeof t=="object"&&t!==null}function K(t){return Object.freeze(t)}function _b(t){return Ic(t)?t:[t]}function Ic(t){return Array.isArray(t)}const Di=K({is(t){return t.kind==="IdentifierNode"},create(t){return K({kind:"IdentifierNode",name:t})}}),Yj=K({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return K({kind:"SchemableIdentifierNode",identifier:Di.create(t)})},createWithSchema(t,e){return K({kind:"SchemableIdentifierNode",schema:Di.create(t),identifier:Di.create(e)})}}),au=K({is(t){return t.kind==="AliasNode"},create(t,e){return K({kind:"AliasNode",node:t,alias:e})}}),dd=K({is(t){return t.kind==="TableNode"},create(t){return K({kind:"TableNode",table:Yj.create(t)})},createWithSchema(t,e){return K({kind:"TableNode",table:Yj.createWithSchema(t,e)})}});function js(t){return W1(t)&&zd(t.toOperationNode)}function fke(t){return W1(t)&&"expressionType"in t&&js(t)}function hke(t){return W1(t)&&"expression"in t&&ca(t.alias)&&js(t)}const ja=K({is(t){return t.kind==="SelectModifierNode"},create(t,e){return K({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return K({kind:"SelectModifierNode",rawModifier:t})}}),Dc=K({is(t){return t.kind==="AndNode"},create(t,e){return K({kind:"AndNode",left:t,right:e})}}),wp=K({is(t){return t.kind==="OrNode"},create(t,e){return K({kind:"OrNode",left:t,right:e})}}),D$=K({is(t){return t.kind==="OnNode"},create(t){return K({kind:"OnNode",on:t})},cloneWithOperation(t,e,n){return K({...t,on:e==="And"?Dc.create(t.on,n):wp.create(t.on,n)})}}),og=K({is(t){return t.kind==="JoinNode"},create(t,e){return K({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,n){return K({kind:"JoinNode",joinType:t,table:e,on:D$.create(n)})},cloneWithOn(t,e){return K({...t,on:t.on?D$.cloneWithOperation(t.on,"And",e):D$.create(e)})}}),Th=K({is(t){return t.kind==="BinaryOperationNode"},create(t,e,n){return K({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:n})}}),pke=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],mke=["+","-","*","/","%","^","&","|","#","<<",">>"],fU=["->","->>"],gke=[...pke,...mke,"&&","||"],yke=["exists","not exists"],Oke=["not","-",...yke],bke=[...gke,...fU,...Oke,"between","between symmetric"],xd=K({is(t){return t.kind==="OperatorNode"},create(t){return K({kind:"OperatorNode",operator:t})}});function uL(t){return ca(t)&&fU.includes(t)}const RA=K({is(t){return t.kind==="ColumnNode"},create(t){return K({kind:"ColumnNode",column:Di.create(t)})}}),hU=K({is(t){return t.kind==="SelectAllNode"},create(){return K({kind:"SelectAllNode"})}}),z1=K({is(t){return t.kind==="ReferenceNode"},create(t,e){return K({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return K({kind:"ReferenceNode",table:t,column:hU.create()})}});function pU(t){return W1(t)&&js(t)&&ca(t.dynamicReference)}const Hj=K({is(t){return t.kind==="OrderByItemNode"},create(t,e){return K({kind:"OrderByItemNode",orderBy:t,direction:e})}}),Pi=K({is(t){return t.kind==="RawNode"},create(t,e){return K({kind:"RawNode",sqlFragments:K(t),parameters:K(e)})},createWithSql(t){return Pi.create([t],[])},createWithChild(t){return Pi.create(["",""],[t])},createWithChildren(t){return Pi.create(new Array(t.length+1).fill(""),t)}});function xke(t){return t==="asc"||t==="desc"}function MA(t){if(t.length===2)return[L$(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(n=>L$(n)):[L$(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function L$(t,e){const n=wke(t);if(Hj.is(n)){if(e)throw new Error("Cannot specify direction twice!");return n}return Hj.create(n,mU(e))}function wke(t){if(G1(t))return X1(t);if(pU(t))return t.toOperationNode();const[e,n]=t.split(" ");if(n){if(!xke(n))throw new Error(`Invalid order by direction: ${n}`);return Hj.create(Lc(e),mU(n))}return Lc(t)}function mU(t){if(t)return t==="asc"||t==="desc"?Pi.createWithSql(t):t.toOperationNode()}const dv=K({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return K({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return K({...t,traversal:e})}}),gU=K({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return K({kind:"JSONOperatorChainNode",operator:t,values:K([])})},cloneWithValue(t,e){return K({...t,values:K([...t.values,e])})}}),ag=K({is(t){return t.kind==="JSONPathNode"},create(t){return K({kind:"JSONPathNode",inOperator:t,pathLegs:K([])})},cloneWithLeg(t,e){return K({...t,pathLegs:K([...t.pathLegs,e])})}});function vke(t){return ca(t)?Lc(t):t.toOperationNode()}function Dg(t){return Ic(t)?t.map(e=>rs(e)):[rs(t)]}function rs(t){return G1(t)?X1(t):vke(t)}function Ske(t,e){const n=Lc(t);if(uL(e))return dv.create(n,gU.create(xd.create(e)));const r=e.slice(0,-1);if(uL(r))return dv.create(n,ag.create(xd.create(r)));throw new Error(`Invalid JSON operator: ${e}`)}function Lc(t){const e=".";if(!t.includes(e))return z1.create(RA.create(t));const n=t.split(e).map(yU);if(n.length===3)return $ke(n);if(n.length===2)return Cke(n);throw new Error(`invalid column reference ${t}`)}function kke(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(yU);return au.create(Lc(n),Di.create(r))}else return Lc(t)}function $ke(t){const[e,n,r]=t;return z1.create(RA.create(r),dd.createWithSchema(e,n))}function Cke(t){const[e,n]=t;return z1.create(RA.create(n),dd.create(e))}function yU(t){return t.trim()}const Pke=K({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return K({kind:"PrimitiveValueListNode",values:K([...t])})}}),jke=K({is(t){return t.kind==="ValueListNode"},create(t){return K({kind:"ValueListNode",values:K(t)})}}),Fc=K({is(t){return t.kind==="ValueNode"},create(t){return K({kind:"ValueNode",value:t})},createImmediate(t){return K({kind:"ValueNode",value:t,immediate:!0})}});function Nke(t){return Ic(t)?Eke(t):Yr(t)}function Yr(t){return G1(t)?X1(t):Fc.create(t)}function QA(t){return AA(t)||cU(t)||uU(t)}function IA(t){if(!QA(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return Fc.createImmediate(t)}function Eke(t){return t.some(G1)?jke.create(t.map(e=>Yr(e))):Pke.create(t)}const Lg=K({is(t){return t.kind==="ParensNode"},create(t){return K({kind:"ParensNode",node:t})}});function no(t){if(t.length===3)return DA(t[0],t[1],t[2]);if(t.length===1)return Yr(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function DA(t,e,n){return _ke(e)&&OU(n)?Th.create(rs(t),Kj(e),Fc.createImmediate(n)):Th.create(rs(t),Kj(e),Nke(n))}function Fg(t,e,n){return Th.create(rs(t),Kj(e),rs(n))}function dL(t,e){return Jj(Object.entries(t).filter(([,n])=>!uv(n)).map(([n,r])=>DA(n,OU(r)?"is":"=",r)),e)}function Jj(t,e,n=!0){const r=e==="and"?Dc.create:wp.create;if(t.length===0)return Th.create(Fc.createImmediate(1),xd.create("="),Fc.createImmediate(e==="and"?1:0));let i=fL(t[0]);for(let s=1;s<t.length;++s)i=r(i,fL(t[s]));return t.length>1&&n?Lg.create(i):i}function _ke(t){return t==="is"||t==="is not"}function OU(t){return uU(t)||cU(t)}function Kj(t){if(ca(t)&&bke.includes(t))return xd.create(t);if(js(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function fL(t){return js(t)?t.toOperationNode():t}const Vc=K({is(t){return t.kind==="OrderByNode"},create(t){return K({kind:"OrderByNode",items:K([...t])})},cloneWithItems(t,e){return K({...t,items:K([...t.items,...e])})}}),hL=K({is(t){return t.kind==="PartitionByNode"},create(t){return K({kind:"PartitionByNode",items:K(t)})},cloneWithItems(t,e){return K({...t,items:K([...t.items,...e])})}}),eN=K({is(t){return t.kind==="OverNode"},create(){return K({kind:"OverNode"})},cloneWithOrderByItems(t,e){return K({...t,orderBy:t.orderBy?Vc.cloneWithItems(t.orderBy,e):Vc.create(e)})},cloneWithPartitionByItems(t,e){return K({...t,partitionBy:t.partitionBy?hL.cloneWithItems(t.partitionBy,e):hL.create(e)})}}),fv=K({is(t){return t.kind==="FromNode"},create(t){return K({kind:"FromNode",froms:K(t)})},cloneWithFroms(t,e){return K({...t,froms:K([...t.froms,...e])})}}),pL=K({is(t){return t.kind==="GroupByNode"},create(t){return K({kind:"GroupByNode",items:K(t)})},cloneWithItems(t,e){return K({...t,items:K([...t.items,...e])})}}),mL=K({is(t){return t.kind==="HavingNode"},create(t){return K({kind:"HavingNode",having:t})},cloneWithOperation(t,e,n){return K({...t,having:e==="And"?Dc.create(t.having,n):wp.create(t.having,n)})}}),Zt=K({is(t){return t.kind==="SelectQueryNode"},create(t){return K({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return K({kind:"SelectQueryNode",from:fv.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return K({...t,selections:t.selections?K([...t.selections,...e]):K(e)})},cloneWithDistinctOn(t,e){return K({...t,distinctOn:t.distinctOn?K([...t.distinctOn,...e]):K(e)})},cloneWithFrontModifier(t,e){return K({...t,frontModifiers:t.frontModifiers?K([...t.frontModifiers,e]):K([e])})},cloneWithOrderByItems(t,e){return K({...t,orderBy:t.orderBy?Vc.cloneWithItems(t.orderBy,e):Vc.create(e)})},cloneWithGroupByItems(t,e){return K({...t,groupBy:t.groupBy?pL.cloneWithItems(t.groupBy,e):pL.create(e)})},cloneWithLimit(t,e){return K({...t,limit:e})},cloneWithOffset(t,e){return K({...t,offset:e})},cloneWithFetch(t,e){return K({...t,fetch:e})},cloneWithHaving(t,e){return K({...t,having:t.having?mL.cloneWithOperation(t.having,"And",e):mL.create(e)})},cloneWithSetOperations(t,e){return K({...t,setOperations:t.setOperations?K([...t.setOperations,...e]):K([...e])})},cloneWithoutSelections(t){return K({...t,selections:[]})},cloneWithoutLimit(t){return K({...t,limit:void 0})},cloneWithoutOffset(t){return K({...t,offset:void 0})},cloneWithoutOrderBy(t){return K({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return K({...t,groupBy:void 0})}});function Zd(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}var Vs;const Pg=class Pg{constructor(e){Ne(this,Vs);Se(this,Vs,K(e))}on(...e){return new Pg({...F(this,Vs),joinNode:og.cloneWithOn(F(this,Vs).joinNode,no(e))})}onRef(e,n,r){return new Pg({...F(this,Vs),joinNode:og.cloneWithOn(F(this,Vs).joinNode,Fg(e,n,r))})}onTrue(){return new Pg({...F(this,Vs),joinNode:og.cloneWithOn(F(this,Vs).joinNode,Pi.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return F(this,Vs).joinNode}};Vs=new WeakMap;let hv=Pg;Zd(hv,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const Tke=K({is(t){return t.kind==="PartitionByItemNode"},create(t){return K({kind:"PartitionByItemNode",partitionBy:t})}});function Ake(t){return Dg(t).map(Tke.create)}var Yu;const J0=class J0{constructor(e){Ne(this,Yu);Se(this,Yu,K(e))}orderBy(e,n){return new J0({overNode:eN.cloneWithOrderByItems(F(this,Yu).overNode,MA([e,n]))})}partitionBy(e){return new J0({overNode:eN.cloneWithPartitionByItems(F(this,Yu).overNode,Ake(e))})}$call(e){return e(this)}toOperationNode(){return F(this,Yu).overNode}};Yu=new WeakMap;let pv=J0;Zd(pv,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const lg=K({is(t){return t.kind==="SelectionNode"},create(t){return K({kind:"SelectionNode",selection:t})},createSelectAll(){return K({kind:"SelectionNode",selection:hU.create()})},createSelectAllFromTable(t){return K({kind:"SelectionNode",selection:z1.createSelectAll(t)})}});function bU(t){return zd(t)?bU(t(U1())):Ic(t)?t.map(e=>gL(e)):[gL(t)]}function gL(t){return ca(t)?lg.create(kke(t)):pU(t)?lg.create(t.toOperationNode()):lg.create(jU(t))}function xU(t){return t?Array.isArray(t)?t.map(yL):[yL(t)]:[lg.createSelectAll()]}function yL(t){if(ca(t))return lg.createSelectAllFromTable(Xs(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const Rke=K({is(t){return t.kind==="InsertQueryNode"},create(t,e,n){return K({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:n})},createWithoutInto(){return K({kind:"InsertQueryNode"})},cloneWith(t,e){return K({...t,...e})}}),Mke=K({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return K({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return K({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return K({...t,from:t.from?fv.cloneWithFroms(t.from,e):fv.create(e)})},cloneWithUpdates(t,e){return K({...t,updates:t.updates?K([...t.updates,...e]):e})},cloneWithLimit(t,e){return K({...t,limit:e})}}),OL=K({is(t){return t.kind==="UsingNode"},create(t){return K({kind:"UsingNode",tables:K(t)})},cloneWithTables(t,e){return K({...t,tables:K([...t.tables,...e])})}}),Qke=K({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return K({kind:"DeleteQueryNode",from:fv.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return K({...t,orderBy:t.orderBy?Vc.cloneWithItems(t.orderBy,e):Vc.create(e)})},cloneWithoutOrderBy(t){return K({...t,orderBy:void 0})},cloneWithLimit(t,e){return K({...t,limit:e})},cloneWithoutLimit(t){return K({...t,limit:void 0})},cloneWithUsing(t,e){return K({...t,using:t.using!==void 0?OL.cloneWithTables(t.using,e):OL.create(e)})}}),_f=K({is(t){return t.kind==="WhereNode"},create(t){return K({kind:"WhereNode",where:t})},cloneWithOperation(t,e,n){return K({...t,where:e==="And"?Dc.create(t.where,n):wp.create(t.where,n)})}}),bL=K({is(t){return t.kind==="ReturningNode"},create(t){return K({kind:"ReturningNode",selections:K(t)})},cloneWithSelections(t,e){return K({...t,selections:t.selections?K([...t.selections,...e]):K(e)})}}),Ike=K({is(t){return t.kind==="ExplainNode"},create(t,e){return K({kind:"ExplainNode",format:t,options:e})}}),Z1=K({is(t){return t.kind==="WhenNode"},create(t){return K({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return K({...t,result:e})}}),Dke=K({is(t){return t.kind==="MergeQueryNode"},create(t,e){return K({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return K({...t,using:e})},cloneWithWhen(t,e){return K({...t,whens:t.whens?K([...t.whens,e]):K([e])})},cloneWithThen(t,e){return K({...t,whens:t.whens?K([...t.whens.slice(0,-1),Z1.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),xL=K({is(t){return t.kind==="OutputNode"},create(t){return K({kind:"OutputNode",selections:K(t)})},cloneWithSelections(t,e){return K({...t,selections:t.selections?K([...t.selections,...e]):K(e)})}}),Gn=K({is(t){return Zt.is(t)||Rke.is(t)||Mke.is(t)||Qke.is(t)||Dke.is(t)},cloneWithEndModifier(t,e){return K({...t,endModifiers:t.endModifiers?K([...t.endModifiers,e]):K([e])})},cloneWithWhere(t,e){return K({...t,where:t.where?_f.cloneWithOperation(t.where,"And",e):_f.create(e)})},cloneWithJoin(t,e){return K({...t,joins:t.joins?K([...t.joins,e]):K([e])})},cloneWithReturning(t,e){return K({...t,returning:t.returning?bL.cloneWithSelections(t.returning,e):bL.create(e)})},cloneWithoutReturning(t){return K({...t,returning:void 0})},cloneWithoutWhere(t){return K({...t,where:void 0})},cloneWithExplain(t,e,n){return K({...t,explain:Ike.create(e,n==null?void 0:n.toOperationNode())})},cloneWithTop(t,e){return K({...t,top:e})},cloneWithOutput(t,e){return K({...t,output:t.output?xL.cloneWithSelections(t.output,e):xL.create(e)})}});class Lke extends Error{constructor(n){super("no result");Y(this,"node");this.node=n}}function Fke(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const Vke=K({is(t){return t.kind==="TopNode"},create(t,e){return K({kind:"TopNode",expression:t,modifiers:e})}});function Bke(t,e){if(!AA(t)&&!dU(t))throw new Error(`Invalid top expression: ${t}`);if(!uv(e)&&!qke(e))throw new Error(`Invalid top modifiers: ${e}`);return Vke.create(t,e)}function qke(t){return t==="percent"||t==="with ties"||t==="percent with ties"}const Wke=K({is(t){return t.kind==="LimitNode"},create(t){return K({kind:"LimitNode",limit:t})}}),wL=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function zke(t){let e="";for(let n=0;n<t;++n)e+=Zke();return e}function Zke(){return wL[~~(Math.random()*wL.length)]}function Qa(){return new Uke}var uh;class Uke{constructor(){Ne(this,uh)}get queryId(){return F(this,uh)===void 0&&Se(this,uh,zke(8)),F(this,uh)}}uh=new WeakMap;var K0;class Xke{constructor(){Y(this,"nodeStack",[]);Ne(this,K0,K({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)}))}transformNode(e){if(!e)return e;this.nodeStack.push(e);const n=this.transformNodeImpl(e);return this.nodeStack.pop(),K(n)}transformNodeImpl(e){return F(this,K0)[e.kind](e)}transformNodeList(e){return e&&K(e.map(n=>this.transformNode(n)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:K([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}K0=new WeakMap;const Gke=K({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});var dh,Hu,Ju,Wn,wU,vU,SU,Sf,tN,kU;class Yke extends Xke{constructor(n){super();Ne(this,Wn);Ne(this,dh);Ne(this,Hu,new Set);Ne(this,Ju,new Set);Se(this,dh,n)}transformNodeImpl(n){if(!Ve(this,Wn,wU).call(this,n))return super.transformNodeImpl(n);const r=Ve(this,Wn,SU).call(this,n);for(const o of r)F(this,Ju).add(o);const i=Ve(this,Wn,vU).call(this,n);for(const o of i)F(this,Hu).add(o);const s=super.transformNodeImpl(n);for(const o of i)F(this,Hu).delete(o);for(const o of r)F(this,Ju).delete(o);return s}transformSchemableIdentifier(n){const r=super.transformSchemableIdentifier(n);return r.schema||!F(this,Hu).has(n.identifier.name)?r:{...r,schema:Di.create(F(this,dh))}}transformReferences(n){const r=super.transformReferences(n);return r.table.table.schema?r:{...r,table:dd.createWithSchema(F(this,dh),r.table.table.identifier.name)}}}dh=new WeakMap,Hu=new WeakMap,Ju=new WeakMap,Wn=new WeakSet,wU=function(n){return n.kind in Gke},vU=function(n){const r=new Set;if("name"in n&&n.name&&Yj.is(n.name)&&Ve(this,Wn,tN).call(this,n.name,r),"from"in n&&n.from)for(const i of n.from.froms)Ve(this,Wn,Sf).call(this,i,r);if("into"in n&&n.into&&Ve(this,Wn,Sf).call(this,n.into,r),"table"in n&&n.table&&Ve(this,Wn,Sf).call(this,n.table,r),"joins"in n&&n.joins)for(const i of n.joins)Ve(this,Wn,Sf).call(this,i.table,r);return"using"in n&&n.using&&Ve(this,Wn,Sf).call(this,n.using,r),r},SU=function(n){const r=new Set;return"with"in n&&n.with&&Ve(this,Wn,kU).call(this,n.with,r),r},Sf=function(n,r){const i=dd.is(n)?n:au.is(n)&&dd.is(n.node)?n.node:null;i&&Ve(this,Wn,tN).call(this,i.table,r)},tN=function(n,r){const i=n.identifier.name;!F(this,Hu).has(i)&&!F(this,Ju).has(i)&&r.add(i)},kU=function(n,r){for(const i of n.expressions){const s=i.name.table.table.identifier.name;F(this,Ju).has(s)||r.add(s)}};var Zy;class Hke{constructor(e){Ne(this,Zy);Se(this,Zy,new Yke(e))}transformQuery(e){return F(this,Zy).transformNode(e.node)}async transformResult(e){return e.result}}Zy=new WeakMap;var Uy,fh,hh;class vL{constructor(){Ne(this,Uy);Ne(this,fh);Ne(this,hh);Y(this,"resolve",e=>{F(this,fh)&&F(this,fh).call(this,e)});Y(this,"reject",e=>{F(this,hh)&&F(this,hh).call(this,e)});Se(this,Uy,new Promise((e,n)=>{Se(this,hh,n),Se(this,fh,e)}))}get promise(){return F(this,Uy)}}Uy=new WeakMap,fh=new WeakMap,hh=new WeakMap;const SL=new Set;function Jke(t){SL.has(t)||(SL.add(t),console.log(t))}const Kke=K([]);var Ku,Xy,nN;class e$e{constructor(e=Kke){Ne(this,Xy);Ne(this,Ku);Se(this,Ku,e)}get plugins(){return F(this,Ku)}transformQuery(e,n){for(const r of F(this,Ku)){const i=r.transformQuery({node:e,queryId:n});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,n){return await this.provideConnection(async r=>{const i=await r.executeQuery(e),s=await Ve(this,Xy,nN).call(this,i,n);return t$e(i,s),s})}async*stream(e,n,r){const i=new vL,s=new vL;this.provideConnection(async a=>(i.resolve(a),await s.promise)).catch(a=>i.reject(a));const o=await i.promise;try{for await(const a of o.streamQuery(e,n))yield await Ve(this,Xy,nN).call(this,a,r)}finally{s.resolve()}}}Ku=new WeakMap,Xy=new WeakSet,nN=async function(e,n){for(const r of F(this,Ku))e=await r.transformResult({result:e,queryId:n});return e};function t$e(t,e){const{numAffectedRows:n}=t;n===void 0&&t.numUpdatedOrDeletedRows===void 0||n!==void 0&&e.numAffectedRows!==void 0||Jke("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class Tf extends e$e{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new Tf([...this.plugins,e])}withPlugins(e){return new Tf([...this.plugins,...e])}withPluginAtFront(e){return new Tf([e,...this.plugins])}withoutPlugins(){return new Tf([])}}const $U=new Tf;function n$e(t,e){return new hv({joinNode:og.create(t,yv(e))})}function r$e(){return new pv({overNode:eN.create()})}function cf(t,e){if(e.length===3)return s$e(t,e[0],e[1],e[2]);if(e.length===2)return i$e(t,e[0],e[1]);throw new Error("not implemented")}function i$e(t,e,n){return n(n$e(t,e)).toOperationNode()}function s$e(t,e,n,r){return og.createWithOn(t,yv(e),Fg(n,"=",r))}const o$e=K({is(t){return t.kind==="OffsetNode"},create(t){return K({kind:"OffsetNode",offset:t})}}),a$e=K({is(t){return t.kind==="GroupByItemNode"},create(t){return K({kind:"GroupByItemNode",groupBy:t})}});function l$e(t){return t=zd(t)?t(U1()):t,Dg(t).map(a$e.create)}const c$e=K({is(t){return t.kind==="SetOperationNode"},create(t,e,n){return K({kind:"SetOperationNode",operator:t,expression:e,all:n})}});function uf(t,e,n){return zd(e)&&(e=e(FA())),Ic(e)||(e=[e]),e.map(r=>c$e.create(t,X1(r),n))}var Ua;const e1=class e1{constructor(e){Ne(this,Ua);Se(this,Ua,e)}get expressionType(){}as(e){return new LA(this,e)}or(...e){return new rN(wp.create(F(this,Ua),no(e)))}and(...e){return new iN(Dc.create(F(this,Ua),no(e)))}$castTo(){return new e1(F(this,Ua))}$notNull(){return new e1(F(this,Ua))}toOperationNode(){return F(this,Ua)}};Ua=new WeakMap;let Vt=e1;var ph,pc;class LA{constructor(e,n){Ne(this,ph);Ne(this,pc);Se(this,ph,e),Se(this,pc,n)}get expression(){return F(this,ph)}get alias(){return F(this,pc)}toOperationNode(){return au.create(F(this,ph).toOperationNode(),js(F(this,pc))?F(this,pc).toOperationNode():Di.create(F(this,pc)))}}ph=new WeakMap,pc=new WeakMap;var ed;const t1=class t1{constructor(e){Ne(this,ed);Se(this,ed,e)}get expressionType(){}as(e){return new LA(this,e)}or(...e){return new t1(wp.create(F(this,ed),no(e)))}$castTo(){return new t1(F(this,ed))}toOperationNode(){return Lg.create(F(this,ed))}};ed=new WeakMap;let rN=t1;var td;const n1=class n1{constructor(e){Ne(this,td);Se(this,td,e)}get expressionType(){}as(e){return new LA(this,e)}and(...e){return new n1(Dc.create(F(this,td),no(e)))}$castTo(){return new n1(F(this,td))}toOperationNode(){return Lg.create(F(this,td))}};td=new WeakMap;let iN=n1;const u$e={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:Fc.create(t),modifier:e}}};function d$e(t,e){if(!AA(t)&&!dU(t))throw new Error(`Invalid fetch row count: ${t}`);if(!f$e(e))throw new Error(`Invalid fetch modifier: ${e}`);return u$e.create(t,e)}function f$e(t){return t==="only"||t==="with ties"}var xe;const Ge=class Ge{constructor(e){Ne(this,xe);Se(this,xe,K(e))}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new Ge({...F(this,xe),queryNode:Gn.cloneWithWhere(F(this,xe).queryNode,no(e))})}whereRef(e,n,r){return new Ge({...F(this,xe),queryNode:Gn.cloneWithWhere(F(this,xe).queryNode,Fg(e,n,r))})}having(...e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithHaving(F(this,xe).queryNode,no(e))})}havingRef(e,n,r){return new Ge({...F(this,xe),queryNode:Zt.cloneWithHaving(F(this,xe).queryNode,Fg(e,n,r))})}select(e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithSelections(F(this,xe).queryNode,bU(e))})}distinctOn(e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithDistinctOn(F(this,xe).queryNode,Dg(e))})}modifyFront(e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithFrontModifier(F(this,xe).queryNode,ja.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new Ge({...F(this,xe),queryNode:Gn.cloneWithEndModifier(F(this,xe).queryNode,ja.createWithExpression(e.toOperationNode()))})}distinct(){return new Ge({...F(this,xe),queryNode:Zt.cloneWithFrontModifier(F(this,xe).queryNode,ja.create("Distinct"))})}forUpdate(e){return new Ge({...F(this,xe),queryNode:Gn.cloneWithEndModifier(F(this,xe).queryNode,ja.create("ForUpdate",e?_b(e).map(Xs):void 0))})}forShare(e){return new Ge({...F(this,xe),queryNode:Gn.cloneWithEndModifier(F(this,xe).queryNode,ja.create("ForShare",e?_b(e).map(Xs):void 0))})}forKeyShare(e){return new Ge({...F(this,xe),queryNode:Gn.cloneWithEndModifier(F(this,xe).queryNode,ja.create("ForKeyShare",e?_b(e).map(Xs):void 0))})}forNoKeyUpdate(e){return new Ge({...F(this,xe),queryNode:Gn.cloneWithEndModifier(F(this,xe).queryNode,ja.create("ForNoKeyUpdate",e?_b(e).map(Xs):void 0))})}skipLocked(){return new Ge({...F(this,xe),queryNode:Gn.cloneWithEndModifier(F(this,xe).queryNode,ja.create("SkipLocked"))})}noWait(){return new Ge({...F(this,xe),queryNode:Gn.cloneWithEndModifier(F(this,xe).queryNode,ja.create("NoWait"))})}selectAll(e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithSelections(F(this,xe).queryNode,xU(e))})}innerJoin(...e){return new Ge({...F(this,xe),queryNode:Gn.cloneWithJoin(F(this,xe).queryNode,cf("InnerJoin",e))})}leftJoin(...e){return new Ge({...F(this,xe),queryNode:Gn.cloneWithJoin(F(this,xe).queryNode,cf("LeftJoin",e))})}rightJoin(...e){return new Ge({...F(this,xe),queryNode:Gn.cloneWithJoin(F(this,xe).queryNode,cf("RightJoin",e))})}fullJoin(...e){return new Ge({...F(this,xe),queryNode:Gn.cloneWithJoin(F(this,xe).queryNode,cf("FullJoin",e))})}innerJoinLateral(...e){return new Ge({...F(this,xe),queryNode:Gn.cloneWithJoin(F(this,xe).queryNode,cf("LateralInnerJoin",e))})}leftJoinLateral(...e){return new Ge({...F(this,xe),queryNode:Gn.cloneWithJoin(F(this,xe).queryNode,cf("LateralLeftJoin",e))})}orderBy(...e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithOrderByItems(F(this,xe).queryNode,MA(e))})}groupBy(e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithGroupByItems(F(this,xe).queryNode,l$e(e))})}limit(e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithLimit(F(this,xe).queryNode,Wke.create(Yr(e)))})}offset(e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithOffset(F(this,xe).queryNode,o$e.create(Yr(e)))})}fetch(e,n="only"){return new Ge({...F(this,xe),queryNode:Zt.cloneWithFetch(F(this,xe).queryNode,d$e(e,n))})}top(e,n){return new Ge({...F(this,xe),queryNode:Gn.cloneWithTop(F(this,xe).queryNode,Bke(e,n))})}union(e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithSetOperations(F(this,xe).queryNode,uf("union",e,!1))})}unionAll(e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithSetOperations(F(this,xe).queryNode,uf("union",e,!0))})}intersect(e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithSetOperations(F(this,xe).queryNode,uf("intersect",e,!1))})}intersectAll(e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithSetOperations(F(this,xe).queryNode,uf("intersect",e,!0))})}except(e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithSetOperations(F(this,xe).queryNode,uf("except",e,!1))})}exceptAll(e){return new Ge({...F(this,xe),queryNode:Zt.cloneWithSetOperations(F(this,xe).queryNode,uf("except",e,!0))})}as(e){return new CU(this,e)}clearSelect(){return new Ge({...F(this,xe),queryNode:Zt.cloneWithoutSelections(F(this,xe).queryNode)})}clearWhere(){return new Ge({...F(this,xe),queryNode:Gn.cloneWithoutWhere(F(this,xe).queryNode)})}clearLimit(){return new Ge({...F(this,xe),queryNode:Zt.cloneWithoutLimit(F(this,xe).queryNode)})}clearOffset(){return new Ge({...F(this,xe),queryNode:Zt.cloneWithoutOffset(F(this,xe).queryNode)})}clearOrderBy(){return new Ge({...F(this,xe),queryNode:Zt.cloneWithoutOrderBy(F(this,xe).queryNode)})}clearGroupBy(){return new Ge({...F(this,xe),queryNode:Zt.cloneWithoutGroupBy(F(this,xe).queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new Ge({...F(this,xe)})}$castTo(){return new Ge(F(this,xe))}$narrowType(){return new Ge(F(this,xe))}$assertType(){return new Ge(F(this,xe))}$asTuple(){return new Vt(this.toOperationNode())}withPlugin(e){return new Ge({...F(this,xe),executor:F(this,xe).executor.withPlugin(e)})}toOperationNode(){return F(this,xe).executor.transformQuery(F(this,xe).queryNode,F(this,xe).queryId)}compile(){return F(this,xe).executor.compileQuery(this.toOperationNode(),F(this,xe).queryId)}async execute(){const e=this.compile();return(await F(this,xe).executor.executeQuery(e,F(this,xe).queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Lke){const n=await this.executeTakeFirst();if(n===void 0)throw Fke(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async*stream(e=100){const n=this.compile(),r=F(this,xe).executor.stream(n,e,F(this,xe).queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Ge({...F(this,xe),queryNode:Gn.cloneWithExplain(F(this,xe).queryNode,e,n)}).execute()}};xe=new WeakMap;let mv=Ge;Zd(mv,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function h$e(t){return new mv(t)}var mh,gh;class CU{constructor(e,n){Ne(this,mh);Ne(this,gh);Se(this,mh,e),Se(this,gh,n)}get expression(){return F(this,mh)}get alias(){return F(this,gh)}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return au.create(F(this,mh).toOperationNode(),Di.create(F(this,gh)))}}mh=new WeakMap,gh=new WeakMap;Zd(CU,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const lc=K({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return K({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return K({...t,distinct:!0})},cloneWithOrderBy(t,e){return K({...t,orderBy:t.orderBy?Vc.cloneWithItems(t.orderBy,e):Vc.create(e)})},cloneWithFilter(t,e){return K({...t,filter:t.filter?_f.cloneWithOperation(t.filter,"And",e):_f.create(e)})},cloneWithOrFilter(t,e){return K({...t,filter:t.filter?_f.cloneWithOperation(t.filter,"Or",e):_f.create(e)})},cloneWithOver(t,e){return K({...t,over:e})}}),kL=K({is(t){return t.kind==="FunctionNode"},create(t,e){return K({kind:"FunctionNode",func:t,arguments:e})}});var ur;const Va=class Va{constructor(e){Ne(this,ur);Se(this,ur,K(e))}get expressionType(){}as(e){return new p$e(this,e)}distinct(){return new Va({...F(this,ur),aggregateFunctionNode:lc.cloneWithDistinct(F(this,ur).aggregateFunctionNode)})}orderBy(e,n){return new Va({...F(this,ur),aggregateFunctionNode:lc.cloneWithOrderBy(F(this,ur).aggregateFunctionNode,MA([e,n]))})}filterWhere(...e){return new Va({...F(this,ur),aggregateFunctionNode:lc.cloneWithFilter(F(this,ur).aggregateFunctionNode,no(e))})}filterWhereRef(e,n,r){return new Va({...F(this,ur),aggregateFunctionNode:lc.cloneWithFilter(F(this,ur).aggregateFunctionNode,Fg(e,n,r))})}over(e){const n=r$e();return new Va({...F(this,ur),aggregateFunctionNode:lc.cloneWithOver(F(this,ur).aggregateFunctionNode,(e?e(n):n).toOperationNode())})}$call(e){return e(this)}$castTo(){return new Va(F(this,ur))}$notNull(){return new Va(F(this,ur))}toOperationNode(){return F(this,ur).aggregateFunctionNode}};ur=new WeakMap;let Uf=Va;Zd(Uf,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");var yh,Oh;class p$e{constructor(e,n){Ne(this,yh);Ne(this,Oh);Se(this,yh,e),Se(this,Oh,n)}get expression(){return F(this,yh)}get alias(){return F(this,Oh)}toOperationNode(){return au.create(F(this,yh).toOperationNode(),Di.create(F(this,Oh)))}}yh=new WeakMap,Oh=new WeakMap;function m$e(){const t=(n,r)=>new Vt(kL.create(n,Dg(r??[]))),e=(n,r)=>new Uf({aggregateFunctionNode:lc.create(n,r?Dg(r):void 0)});return Object.assign(t,{agg:e,avg(n){return e("avg",[n])},coalesce(...n){return t("coalesce",n)},count(n){return e("count",[n])},countAll(n){return new Uf({aggregateFunctionNode:lc.create("count",xU(n))})},max(n){return e("max",[n])},min(n){return e("min",[n])},sum(n){return e("sum",[n])},any(n){return t("any",[n])},jsonAgg(n){return new Uf({aggregateFunctionNode:lc.create("json_agg",[ca(n)?Xs(n):n.toOperationNode()])})},toJson(n){return new Vt(kL.create("to_json",[ca(n)?Xs(n):n.toOperationNode()]))}})}const g$e=K({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return K({kind:"UnaryOperationNode",operator:t,operand:e})}});function y$e(t,e){return g$e.create(xd.create(t),rs(e))}const ol=K({is(t){return t.kind==="CaseNode"},create(t){return K({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return K({...t,when:K(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return K({...t,when:t.when?K([...t.when.slice(0,-1),Z1.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return K({...t,...e})}});var bh;class O$e{constructor(e){Ne(this,bh);Se(this,bh,K(e))}when(...e){return new PU({...F(this,bh),node:ol.cloneWithWhen(F(this,bh).node,Z1.create(no(e)))})}}bh=new WeakMap;var xh;class PU{constructor(e){Ne(this,xh);Se(this,xh,K(e))}then(e){return new b$e({...F(this,xh),node:ol.cloneWithThen(F(this,xh).node,QA(e)?IA(e):Yr(e))})}}xh=new WeakMap;var Qo;class b$e{constructor(e){Ne(this,Qo);Se(this,Qo,K(e))}when(...e){return new PU({...F(this,Qo),node:ol.cloneWithWhen(F(this,Qo).node,Z1.create(no(e)))})}else(e){return new x$e({...F(this,Qo),node:ol.cloneWith(F(this,Qo).node,{else:QA(e)?IA(e):Yr(e)})})}end(){return new Vt(ol.cloneWith(F(this,Qo).node,{isStatement:!1}))}endCase(){return new Vt(ol.cloneWith(F(this,Qo).node,{isStatement:!0}))}}Qo=new WeakMap;var wh;class x$e{constructor(e){Ne(this,wh);Se(this,wh,K(e))}end(){return new Vt(ol.cloneWith(F(this,wh).node,{isStatement:!1}))}endCase(){return new Vt(ol.cloneWith(F(this,wh).node,{isStatement:!0}))}}wh=new WeakMap;const $L=K({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return K({kind:"JSONPathLegNode",type:t,value:e})}});var Io,Gy,oN;class sN{constructor(e){Ne(this,Gy);Ne(this,Io);Se(this,Io,e)}at(e){return Ve(this,Gy,oN).call(this,"ArrayLocation",e)}key(e){return Ve(this,Gy,oN).call(this,"Member",e)}}Io=new WeakMap,Gy=new WeakSet,oN=function(e,n){return dv.is(F(this,Io))?new gv(dv.cloneWithTraversal(F(this,Io),ag.is(F(this,Io).traversal)?ag.cloneWithLeg(F(this,Io).traversal,$L.create(e,n)):gU.cloneWithValue(F(this,Io).traversal,Fc.createImmediate(n)))):new gv(ag.cloneWithLeg(F(this,Io),$L.create(e,n)))};var nd;const r1=class r1 extends sN{constructor(n){super(n);Ne(this,nd);Se(this,nd,n)}get expressionType(){}as(n){return new w$e(this,n)}$castTo(){return new r1(F(this,nd))}$notNull(){return new r1(F(this,nd))}toOperationNode(){return F(this,nd)}};nd=new WeakMap;let gv=r1;var vh,mc;class w$e{constructor(e,n){Ne(this,vh);Ne(this,mc);Se(this,vh,e),Se(this,mc,n)}get expression(){return F(this,vh)}get alias(){return F(this,mc)}toOperationNode(){return au.create(F(this,vh).toOperationNode(),js(F(this,mc))?F(this,mc).toOperationNode():Di.create(F(this,mc)))}}vh=new WeakMap,mc=new WeakMap;const CL=K({is(t){return t.kind==="TupleNode"},create(t){return K({kind:"TupleNode",values:K(t)})}}),v$e=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],S$e=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],k$e=K({is(t){return t.kind==="DataTypeNode"},create(t){return K({kind:"DataTypeNode",dataType:t})}});function $$e(t){return!!(v$e.includes(t)||S$e.some(e=>e.test(t)))}function C$e(t){if(js(t))return t.toOperationNode();if($$e(t))return k$e.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const P$e=K({is(t){return t.kind==="CastNode"},create(t,e){return K({kind:"CastNode",expression:t,dataType:e})}});function FA(t=$U){function e(i,s,o){return new Vt(DA(i,s,o))}function n(i,s){return new Vt(y$e(i,s))}const r=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(i){return h$e({queryId:Qa(),executor:t,queryNode:Zt.createFrom(j$e(i))})},case(i){return new O$e({node:ol.create(uv(i)?void 0:rs(i))})},ref(i,s){return uv(s)?new Vt(Lc(i)):new sN(Ske(i,s))},jsonPath(){return new sN(ag.create())},table(i){return new Vt(Xs(i))},val(i){return new Vt(Yr(i))},refTuple(...i){return new Vt(CL.create(i.map(rs)))},tuple(...i){return new Vt(CL.create(i.map(Yr)))},lit(i){return new Vt(IA(i))},unary:n,not(i){return n("not",i)},exists(i){return n("exists",i)},neg(i){return n("-",i)},between(i,s,o){return new Vt(Th.create(rs(i),xd.create("between"),Dc.create(Yr(s),Yr(o))))},betweenSymmetric(i,s,o){return new Vt(Th.create(rs(i),xd.create("between symmetric"),Dc.create(Yr(s),Yr(o))))},and(i){return Ic(i)?new Vt(Jj(i,"and")):new Vt(dL(i,"and"))},or(i){return Ic(i)?new Vt(Jj(i,"or")):new Vt(dL(i,"or"))},parens(...i){const s=no(i);return Lg.is(s)?new Vt(s):new Vt(Lg.create(s))},cast(i,s){return new Vt(P$e.create(rs(i),C$e(s)))},withSchema(i){return FA(t.withPluginAtFront(new Hke(i)))}});return r.fn=m$e(),r.eb=r,r}function U1(t){return FA()}function X1(t){if(js(t))return t.toOperationNode();if(zd(t))return t(U1()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function jU(t){if(js(t))return t.toOperationNode();if(zd(t))return t(U1()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function G1(t){return fke(t)||hke(t)||zd(t)}function j$e(t){return Ic(t)?t.map(e=>yv(e)):[yv(t)]}function yv(t){return ca(t)?N$e(t):jU(t)}function N$e(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(NU);return au.create(Xs(n),Di.create(r))}else return Xs(t)}function Xs(t){const e=".";if(t.includes(e)){const[n,r]=t.split(e).map(NU);return dd.createWithSchema(n,r)}else return dd.create(t)}function NU(t){return t.trim()}var zr,ps,Jx,aN,lN;const jg=class jg{constructor(e){Ne(this,ps);Ne(this,zr);Se(this,zr,K(e))}get expressionType(){}get isRawBuilder(){return!0}as(e){return new EU(this,e)}$castTo(){return new jg({...F(this,zr)})}$notNull(){return new jg(F(this,zr))}withPlugin(e){return new jg({...F(this,zr),plugins:F(this,zr).plugins!==void 0?K([...F(this,zr).plugins,e]):K([e])})}toOperationNode(){return Ve(this,ps,aN).call(this,Ve(this,ps,Jx).call(this))}compile(e){return Ve(this,ps,lN).call(this,Ve(this,ps,Jx).call(this,e))}async execute(e){const n=Ve(this,ps,Jx).call(this,e);return n.executeQuery(Ve(this,ps,lN).call(this,n),F(this,zr).queryId)}};zr=new WeakMap,ps=new WeakSet,Jx=function(e){const n=e!==void 0?e.getExecutor():$U;return F(this,zr).plugins!==void 0?n.withPlugins(F(this,zr).plugins):n},aN=function(e){return e.transformQuery(F(this,zr).rawNode,F(this,zr).queryId)},lN=function(e){return e.compileQuery(Ve(this,ps,aN).call(this,e),F(this,zr).queryId)};let Ov=jg;function Gl(t){return new Ov(t)}Zd(Ov,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");var rd,gc;class EU{constructor(e,n){Ne(this,rd);Ne(this,gc);Se(this,rd,e),Se(this,gc,n)}get expression(){return F(this,rd)}get alias(){return F(this,gc)}get rawBuilder(){return F(this,rd)}toOperationNode(){return au.create(F(this,rd).toOperationNode(),js(F(this,gc))?F(this,gc).toOperationNode():Di.create(F(this,gc)))}}rd=new WeakMap,gc=new WeakMap;Zd(EU,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const Vg=Object.assign((t,...e)=>Gl({queryId:Qa(),rawNode:Pi.create(t,(e==null?void 0:e.map(PL))??[])}),{ref(t){return Gl({queryId:Qa(),rawNode:Pi.createWithChild(Lc(t))})},val(t){return Gl({queryId:Qa(),rawNode:Pi.createWithChild(Yr(t))})},value(t){return this.val(t)},table(t){return Gl({queryId:Qa(),rawNode:Pi.createWithChild(Xs(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",Gl({queryId:Qa(),rawNode:Pi.create(e,t.map(Di.create))})},lit(t){return Gl({queryId:Qa(),rawNode:Pi.createWithChild(Fc.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return Gl({queryId:Qa(),rawNode:Pi.createWithSql(t)})},join(t,e=Vg`, `){const n=new Array(2*t.length-1),r=e.toOperationNode();for(let i=0;i<t.length;++i)n[2*i]=PL(t[i]),i!==t.length-1&&(n[2*i+1]=r);return Gl({queryId:Qa(),rawNode:Pi.createWithChildren(n)})}});function PL(t){return js(t)?t.toOperationNode():Yr(t)}function cg(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!cg(t[i],e[i]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const o of r)if(!cg(t[o],e[o]))return!1;return!0}return t===e}function Ds(t){return encodeURI(E$e(t))}function E$e(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}const _$e={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},T$e={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},A$e={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let R$e=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function Wu(t,e=Object.create(null),n=R$e,r=""){if(t&&typeof t=="object"&&!Array.isArray(t)){const s=t.$id||t.id;if(s){const o=new URL(s,n.href);o.hash.length>1?e[o.href]=t:(o.hash="",r===""?n=o:Wu(t,e,n))}}else if(t!==!0&&t!==!1)return e;const i=n.href+(r?"#"+r:"");if(e[i]!==void 0)throw new Error(`Duplicate schema URI "${i}".`);if(e[i]=t,t===!0||t===!1)return e;if(t.__absolute_uri__===void 0&&Object.defineProperty(t,"__absolute_uri__",{enumerable:!1,value:i}),t.$ref&&t.__absolute_ref__===void 0){const s=new URL(t.$ref,n.href);s.hash=s.hash,Object.defineProperty(t,"__absolute_ref__",{enumerable:!1,value:s.href})}if(t.$recursiveRef&&t.__absolute_recursive_ref__===void 0){const s=new URL(t.$recursiveRef,n.href);s.hash=s.hash,Object.defineProperty(t,"__absolute_recursive_ref__",{enumerable:!1,value:s.href})}if(t.$anchor){const s=new URL("#"+t.$anchor,n.href);e[s.href]=t}for(let s in t){if(A$e[s])continue;const o=`${r}/${Ds(s)}`,a=t[s];if(Array.isArray(a)){if(_$e[s]){const l=a.length;for(let c=0;c<l;c++)Wu(a[c],e,n,`${o}/${c}`)}}else if(T$e[s])for(let l in a)Wu(a[l],e,n,`${o}/${Ds(l)}`);else Wu(a,e,n,o)}return e}const M$e=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Q$e=[0,31,28,31,30,31,30,31,31,30,31,30,31],I$e=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,D$e=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,L$e=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,F$e=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,V$e=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,B$e=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,q$e=/^(?:\/(?:[^~/]|~0|~1)*)*$/,W$e=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,z$e=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Z$e=/^\d\d\d\d-[0-1]\d-[0-3]\d$/,U$e=/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,X$e=/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,G$e=/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,Y$e=t=>{if(t[0]==='"')return!1;const[e,n,...r]=t.split("@");return!e||!n||r.length!==0||e.length>64||n.length>253||e[0]==="."||e.endsWith(".")||e.includes("..")||!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(e)?!1:n.split(".").every(i=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(i))},H$e=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,J$e=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,K$e=t=>t.length>1&&t.length<80&&(/^P\d+([.,]\d+)?W$/.test(t)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(t)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(t));function oi(t){return t.test.bind(t)}const eCe={date:_U,time:TU.bind(void 0,!1),"date-time":rCe,duration:K$e,uri:oCe,"uri-reference":oi(L$e),"uri-template":oi(F$e),url:oi(V$e),email:Y$e,hostname:oi(D$e),ipv4:oi(H$e),ipv6:oi(J$e),regex:lCe,uuid:oi(B$e),"json-pointer":oi(q$e),"json-pointer-uri-fragment":oi(W$e),"relative-json-pointer":oi(z$e)},jL={...eCe,date:oi(Z$e),time:oi(U$e),"date-time":oi(X$e),"uri-reference":oi(G$e)};function tCe(t){return t%4===0&&(t%100!==0||t%400===0)}function _U(t){const e=t.match(M$e);if(!e)return!1;const n=+e[1],r=+e[2],i=+e[3];return r>=1&&r<=12&&i>=1&&i<=(r==2&&tCe(n)?29:Q$e[r])}function TU(t,e){const n=e.match(I$e);if(!n)return!1;const r=+n[1],i=+n[2],s=+n[3],o=!!n[5];return(r<=23&&i<=59&&s<=59||r==23&&i==59&&s==60)&&(!t||o)}const nCe=/t|\s/i;function rCe(t){const e=t.split(nCe);return e.length==2&&_U(e[0])&&TU(!0,e[1])}const iCe=/\/|:/,sCe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function oCe(t){return iCe.test(t)&&sCe.test(t)}const aCe=/[^\\]\\Z/;function lCe(t){if(aCe.test(t))return!1;try{return new RegExp(t,"u"),!0}catch{return!1}}function cCe(t){let e=0,n=t.length,r=0,i;for(;r<n;)e++,i=t.charCodeAt(r++),i>=55296&&i<=56319&&r<n&&(i=t.charCodeAt(r),(i&64512)==56320&&r++);return e}function sn(t,e,n="2019-09",r=Wu(e),i=!0,s=null,o="#",a="#",l=Object.create(null)){if(e===!0)return{valid:!0,errors:[]};if(e===!1)return{valid:!1,errors:[{instanceLocation:o,keyword:"false",keywordLocation:o,error:"False boolean schema."}]};const c=typeof t;let u;switch(c){case"boolean":case"number":case"string":u=c;break;case"object":t===null?u="null":Array.isArray(t)?u="array":u="object";break;default:throw new Error(`Instances of "${c}" type are not supported.`)}const{$ref:d,$recursiveRef:f,$recursiveAnchor:h,type:m,const:g,enum:y,required:O,not:b,anyOf:w,allOf:x,oneOf:v,if:k,then:$,else:C,format:N,properties:P,patternProperties:R,additionalProperties:T,unevaluatedProperties:A,minProperties:j,maxProperties:E,propertyNames:_,dependentRequired:Q,dependentSchemas:M,dependencies:L,prefixItems:V,items:W,additionalItems:H,unevaluatedItems:le,contains:fe,minContains:U,maxContains:ee,minItems:re,maxItems:J,uniqueItems:q,minimum:oe,maximum:B,exclusiveMinimum:ie,exclusiveMaximum:ce,multipleOf:de,minLength:z,maxLength:ne,pattern:X,__absolute_ref__:ae,__absolute_recursive_ref__:se}=e,te=[];if(h===!0&&s===null&&(s=e),f==="#"){const pe=s===null?r[se]:s,me=`${a}/$recursiveRef`,ue=sn(t,s===null?e:s,n,r,i,pe,o,me,l);ue.valid||te.push({instanceLocation:o,keyword:"$recursiveRef",keywordLocation:me,error:"A subschema had errors."},...ue.errors)}if(d!==void 0){const me=r[ae||d];if(me===void 0){let ye=`Unresolved $ref "${d}".`;throw ae&&ae!==d&&(ye+=`  Absolute URI "${ae}".`),ye+=`
Known schemas:
- ${Object.keys(r).join(`
- `)}`,new Error(ye)}const ue=`${a}/$ref`,he=sn(t,me,n,r,i,s,o,ue,l);if(he.valid||te.push({instanceLocation:o,keyword:"$ref",keywordLocation:ue,error:"A subschema had errors."},...he.errors),n==="4"||n==="7")return{valid:te.length===0,errors:te}}if(Array.isArray(m)){let pe=m.length,me=!1;for(let ue=0;ue<pe;ue++)if(u===m[ue]||m[ue]==="integer"&&u==="number"&&t%1===0&&t===t){me=!0;break}me||te.push({instanceLocation:o,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${u}" is invalid. Expected "${m.join('", "')}".`})}else m==="integer"?(u!=="number"||t%1||t!==t)&&te.push({instanceLocation:o,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${u}" is invalid. Expected "${m}".`}):m!==void 0&&u!==m&&te.push({instanceLocation:o,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${u}" is invalid. Expected "${m}".`});if(g!==void 0&&(u==="object"||u==="array"?cg(t,g)||te.push({instanceLocation:o,keyword:"const",keywordLocation:`${a}/const`,error:`Instance does not match ${JSON.stringify(g)}.`}):t!==g&&te.push({instanceLocation:o,keyword:"const",keywordLocation:`${a}/const`,error:`Instance does not match ${JSON.stringify(g)}.`})),y!==void 0&&(u==="object"||u==="array"?y.some(pe=>cg(t,pe))||te.push({instanceLocation:o,keyword:"enum",keywordLocation:`${a}/enum`,error:`Instance does not match any of ${JSON.stringify(y)}.`}):y.some(pe=>t===pe)||te.push({instanceLocation:o,keyword:"enum",keywordLocation:`${a}/enum`,error:`Instance does not match any of ${JSON.stringify(y)}.`})),b!==void 0){const pe=`${a}/not`;sn(t,b,n,r,i,s,o,pe).valid&&te.push({instanceLocation:o,keyword:"not",keywordLocation:pe,error:'Instance matched "not" schema.'})}let ge=[];if(w!==void 0){const pe=`${a}/anyOf`,me=te.length;let ue=!1;for(let he=0;he<w.length;he++){const ye=w[he],ke=Object.create(l),Pe=sn(t,ye,n,r,i,h===!0?s:null,o,`${pe}/${he}`,ke);te.push(...Pe.errors),ue=ue||Pe.valid,Pe.valid&&ge.push(ke)}ue?te.length=me:te.splice(me,0,{instanceLocation:o,keyword:"anyOf",keywordLocation:pe,error:"Instance does not match any subschemas."})}if(x!==void 0){const pe=`${a}/allOf`,me=te.length;let ue=!0;for(let he=0;he<x.length;he++){const ye=x[he],ke=Object.create(l),Pe=sn(t,ye,n,r,i,h===!0?s:null,o,`${pe}/${he}`,ke);te.push(...Pe.errors),ue=ue&&Pe.valid,Pe.valid&&ge.push(ke)}ue?te.length=me:te.splice(me,0,{instanceLocation:o,keyword:"allOf",keywordLocation:pe,error:"Instance does not match every subschema."})}if(v!==void 0){const pe=`${a}/oneOf`,me=te.length,ue=v.filter((he,ye)=>{const ke=Object.create(l),Pe=sn(t,he,n,r,i,h===!0?s:null,o,`${pe}/${ye}`,ke);return te.push(...Pe.errors),Pe.valid&&ge.push(ke),Pe.valid}).length;ue===1?te.length=me:te.splice(me,0,{instanceLocation:o,keyword:"oneOf",keywordLocation:pe,error:`Instance does not match exactly one subschema (${ue} matches).`})}if((u==="object"||u==="array")&&Object.assign(l,...ge),k!==void 0){const pe=`${a}/if`;if(sn(t,k,n,r,i,s,o,pe,l).valid){if($!==void 0){const ue=sn(t,$,n,r,i,s,o,`${a}/then`,l);ue.valid||te.push({instanceLocation:o,keyword:"if",keywordLocation:pe,error:'Instance does not match "then" schema.'},...ue.errors)}}else if(C!==void 0){const ue=sn(t,C,n,r,i,s,o,`${a}/else`,l);ue.valid||te.push({instanceLocation:o,keyword:"if",keywordLocation:pe,error:'Instance does not match "else" schema.'},...ue.errors)}}if(u==="object"){if(O!==void 0)for(const he of O)he in t||te.push({instanceLocation:o,keyword:"required",keywordLocation:`${a}/required`,error:`Instance does not have required property "${he}".`});const pe=Object.keys(t);if(j!==void 0&&pe.length<j&&te.push({instanceLocation:o,keyword:"minProperties",keywordLocation:`${a}/minProperties`,error:`Instance does not have at least ${j} properties.`}),E!==void 0&&pe.length>E&&te.push({instanceLocation:o,keyword:"maxProperties",keywordLocation:`${a}/maxProperties`,error:`Instance does not have at least ${E} properties.`}),_!==void 0){const he=`${a}/propertyNames`;for(const ye in t){const ke=`${o}/${Ds(ye)}`,Pe=sn(ye,_,n,r,i,s,ke,he);Pe.valid||te.push({instanceLocation:o,keyword:"propertyNames",keywordLocation:he,error:`Property name "${ye}" does not match schema.`},...Pe.errors)}}if(Q!==void 0){const he=`${a}/dependantRequired`;for(const ye in Q)if(ye in t){const ke=Q[ye];for(const Pe of ke)Pe in t||te.push({instanceLocation:o,keyword:"dependentRequired",keywordLocation:he,error:`Instance has "${ye}" but does not have "${Pe}".`})}}if(M!==void 0)for(const he in M){const ye=`${a}/dependentSchemas`;if(he in t){const ke=sn(t,M[he],n,r,i,s,o,`${ye}/${Ds(he)}`,l);ke.valid||te.push({instanceLocation:o,keyword:"dependentSchemas",keywordLocation:ye,error:`Instance has "${he}" but does not match dependant schema.`},...ke.errors)}}if(L!==void 0){const he=`${a}/dependencies`;for(const ye in L)if(ye in t){const ke=L[ye];if(Array.isArray(ke))for(const Pe of ke)Pe in t||te.push({instanceLocation:o,keyword:"dependencies",keywordLocation:he,error:`Instance has "${ye}" but does not have "${Pe}".`});else{const Pe=sn(t,ke,n,r,i,s,o,`${he}/${Ds(ye)}`);Pe.valid||te.push({instanceLocation:o,keyword:"dependencies",keywordLocation:he,error:`Instance has "${ye}" but does not match dependant schema.`},...Pe.errors)}}}const me=Object.create(null);let ue=!1;if(P!==void 0){const he=`${a}/properties`;for(const ye in P){if(!(ye in t))continue;const ke=`${o}/${Ds(ye)}`,Pe=sn(t[ye],P[ye],n,r,i,s,ke,`${he}/${Ds(ye)}`);if(Pe.valid)l[ye]=me[ye]=!0;else if(ue=i,te.push({instanceLocation:o,keyword:"properties",keywordLocation:he,error:`Property "${ye}" does not match schema.`},...Pe.errors),ue)break}}if(!ue&&R!==void 0){const he=`${a}/patternProperties`;for(const ye in R){const ke=new RegExp(ye,"u"),Pe=R[ye];for(const et in t){if(!ke.test(et))continue;const He=`${o}/${Ds(et)}`,kn=sn(t[et],Pe,n,r,i,s,He,`${he}/${Ds(ye)}`);kn.valid?l[et]=me[et]=!0:(ue=i,te.push({instanceLocation:o,keyword:"patternProperties",keywordLocation:he,error:`Property "${et}" matches pattern "${ye}" but does not match associated schema.`},...kn.errors))}}}if(!ue&&T!==void 0){const he=`${a}/additionalProperties`;for(const ye in t){if(me[ye])continue;const ke=`${o}/${Ds(ye)}`,Pe=sn(t[ye],T,n,r,i,s,ke,he);Pe.valid?l[ye]=!0:(ue=i,te.push({instanceLocation:o,keyword:"additionalProperties",keywordLocation:he,error:`Property "${ye}" does not match additional properties schema.`},...Pe.errors))}}else if(!ue&&A!==void 0){const he=`${a}/unevaluatedProperties`;for(const ye in t)if(!l[ye]){const ke=`${o}/${Ds(ye)}`,Pe=sn(t[ye],A,n,r,i,s,ke,he);Pe.valid?l[ye]=!0:te.push({instanceLocation:o,keyword:"unevaluatedProperties",keywordLocation:he,error:`Property "${ye}" does not match unevaluated properties schema.`},...Pe.errors)}}}else if(u==="array"){J!==void 0&&t.length>J&&te.push({instanceLocation:o,keyword:"maxItems",keywordLocation:`${a}/maxItems`,error:`Array has too many items (${t.length} > ${J}).`}),re!==void 0&&t.length<re&&te.push({instanceLocation:o,keyword:"minItems",keywordLocation:`${a}/minItems`,error:`Array has too few items (${t.length} < ${re}).`});const pe=t.length;let me=0,ue=!1;if(V!==void 0){const he=`${a}/prefixItems`,ye=Math.min(V.length,pe);for(;me<ye;me++){const ke=sn(t[me],V[me],n,r,i,s,`${o}/${me}`,`${he}/${me}`);if(l[me]=!0,!ke.valid&&(ue=i,te.push({instanceLocation:o,keyword:"prefixItems",keywordLocation:he,error:"Items did not match schema."},...ke.errors),ue))break}}if(W!==void 0){const he=`${a}/items`;if(Array.isArray(W)){const ye=Math.min(W.length,pe);for(;me<ye;me++){const ke=sn(t[me],W[me],n,r,i,s,`${o}/${me}`,`${he}/${me}`);if(l[me]=!0,!ke.valid&&(ue=i,te.push({instanceLocation:o,keyword:"items",keywordLocation:he,error:"Items did not match schema."},...ke.errors),ue))break}}else for(;me<pe;me++){const ye=sn(t[me],W,n,r,i,s,`${o}/${me}`,he);if(l[me]=!0,!ye.valid&&(ue=i,te.push({instanceLocation:o,keyword:"items",keywordLocation:he,error:"Items did not match schema."},...ye.errors),ue))break}if(!ue&&H!==void 0){const ye=`${a}/additionalItems`;for(;me<pe;me++){const ke=sn(t[me],H,n,r,i,s,`${o}/${me}`,ye);l[me]=!0,ke.valid||(ue=i,te.push({instanceLocation:o,keyword:"additionalItems",keywordLocation:ye,error:"Items did not match additional items schema."},...ke.errors))}}}if(fe!==void 0)if(pe===0&&U===void 0)te.push({instanceLocation:o,keyword:"contains",keywordLocation:`${a}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(U!==void 0&&pe<U)te.push({instanceLocation:o,keyword:"minContains",keywordLocation:`${a}/minContains`,error:`Array has less items (${pe}) than minContains (${U}).`});else{const he=`${a}/contains`,ye=te.length;let ke=0;for(let Pe=0;Pe<pe;Pe++){const et=sn(t[Pe],fe,n,r,i,s,`${o}/${Pe}`,he);et.valid?(l[Pe]=!0,ke++):te.push(...et.errors)}ke>=(U||0)&&(te.length=ye),U===void 0&&ee===void 0&&ke===0?te.splice(ye,0,{instanceLocation:o,keyword:"contains",keywordLocation:he,error:"Array does not contain item matching schema."}):U!==void 0&&ke<U?te.push({instanceLocation:o,keyword:"minContains",keywordLocation:`${a}/minContains`,error:`Array must contain at least ${U} items matching schema. Only ${ke} items were found.`}):ee!==void 0&&ke>ee&&te.push({instanceLocation:o,keyword:"maxContains",keywordLocation:`${a}/maxContains`,error:`Array may contain at most ${ee} items matching schema. ${ke} items were found.`})}if(!ue&&le!==void 0){const he=`${a}/unevaluatedItems`;for(me;me<pe;me++){if(l[me])continue;const ye=sn(t[me],le,n,r,i,s,`${o}/${me}`,he);l[me]=!0,ye.valid||te.push({instanceLocation:o,keyword:"unevaluatedItems",keywordLocation:he,error:"Items did not match unevaluated items schema."},...ye.errors)}}if(q)for(let he=0;he<pe;he++){const ye=t[he],ke=typeof ye=="object"&&ye!==null;for(let Pe=0;Pe<pe;Pe++){if(he===Pe)continue;const et=t[Pe];(ye===et||ke&&(typeof et=="object"&&et!==null)&&cg(ye,et))&&(te.push({instanceLocation:o,keyword:"uniqueItems",keywordLocation:`${a}/uniqueItems`,error:`Duplicate items at indexes ${he} and ${Pe}.`}),he=Number.MAX_SAFE_INTEGER,Pe=Number.MAX_SAFE_INTEGER)}}}else if(u==="number"){if(n==="4"?(oe!==void 0&&(ie===!0&&t<=oe||t<oe)&&te.push({instanceLocation:o,keyword:"minimum",keywordLocation:`${a}/minimum`,error:`${t} is less than ${ie?"or equal to ":""} ${oe}.`}),B!==void 0&&(ce===!0&&t>=B||t>B)&&te.push({instanceLocation:o,keyword:"maximum",keywordLocation:`${a}/maximum`,error:`${t} is greater than ${ce?"or equal to ":""} ${B}.`})):(oe!==void 0&&t<oe&&te.push({instanceLocation:o,keyword:"minimum",keywordLocation:`${a}/minimum`,error:`${t} is less than ${oe}.`}),B!==void 0&&t>B&&te.push({instanceLocation:o,keyword:"maximum",keywordLocation:`${a}/maximum`,error:`${t} is greater than ${B}.`}),ie!==void 0&&t<=ie&&te.push({instanceLocation:o,keyword:"exclusiveMinimum",keywordLocation:`${a}/exclusiveMinimum`,error:`${t} is less than ${ie}.`}),ce!==void 0&&t>=ce&&te.push({instanceLocation:o,keyword:"exclusiveMaximum",keywordLocation:`${a}/exclusiveMaximum`,error:`${t} is greater than or equal to ${ce}.`})),de!==void 0){const pe=t%de;Math.abs(0-pe)>=11920929e-14&&Math.abs(de-pe)>=11920929e-14&&te.push({instanceLocation:o,keyword:"multipleOf",keywordLocation:`${a}/multipleOf`,error:`${t} is not a multiple of ${de}.`})}}else if(u==="string"){const pe=z===void 0&&ne===void 0?0:cCe(t);z!==void 0&&pe<z&&te.push({instanceLocation:o,keyword:"minLength",keywordLocation:`${a}/minLength`,error:`String is too short (${pe} < ${z}).`}),ne!==void 0&&pe>ne&&te.push({instanceLocation:o,keyword:"maxLength",keywordLocation:`${a}/maxLength`,error:`String is too long (${pe} > ${ne}).`}),X!==void 0&&!new RegExp(X,"u").test(t)&&te.push({instanceLocation:o,keyword:"pattern",keywordLocation:`${a}/pattern`,error:"String does not match pattern."}),N!==void 0&&jL[N]&&!jL[N](t)&&te.push({instanceLocation:o,keyword:"format",keywordLocation:`${a}/format`,error:`String does not match format "${N}".`})}return{valid:te.length===0,errors:te}}class uCe{constructor(e,n="2019-09",r=!0){Y(this,"schema");Y(this,"draft");Y(this,"shortCircuit");Y(this,"lookup");this.schema=e,this.draft=n,this.shortCircuit=r,this.lookup=Wu(e)}validate(e){return sn(e,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(e,n){n&&(e={...e,$id:n}),Wu(e,this.lookup)}}var NL=(t,e,n)=>(r,i)=>{let s=-1;const o=r instanceof gZ;return a(0);async function a(l){if(l<=s)throw new Error("next() called multiple times");s=l;let c,u=!1,d;if(t[l]?(d=t[l][0][0],o&&(r.req.routeIndex=l)):d=l===t.length&&i||void 0,!d)o&&r.finalized===!1&&n&&(c=await n(r));else try{c=await d(r,()=>a(l+1))}catch(f){if(f instanceof Error&&o&&e)r.error=f,c=await e(f,r),u=!0;else throw f}return c&&(r.finalized===!1||u)&&(r.res=c),r}},Dn="ALL",dCe="all",fCe=["get","post","put","delete","options","patch"],AU="Can not add a route since the matcher is already built.",RU=class extends Error{},hCe="__COMPOSED_HANDLER",pCe=t=>t.text("404 Not Found",404),EL=(t,e)=>"getResponse"in t?t.getResponse():(console.error(t),e.text("Internal Server Error",500)),Bs,Bn,QU,Xa,vu,Kx,ew,r9,MU=(r9=class{constructor(e={}){Ne(this,Bn);Y(this,"get");Y(this,"post");Y(this,"put");Y(this,"delete");Y(this,"options");Y(this,"patch");Y(this,"all");Y(this,"on");Y(this,"use");Y(this,"router");Y(this,"getPath");Y(this,"_basePath","/");Ne(this,Bs,"/");Y(this,"routes",[]);Ne(this,Xa,pCe);Y(this,"errorHandler",EL);Y(this,"onError",e=>(this.errorHandler=e,this));Y(this,"notFound",e=>(Se(this,Xa,e),this));Y(this,"fetch",(e,...n)=>Ve(this,Bn,ew).call(this,e,n[1],n[0],e.method));Y(this,"request",(e,n,r,i)=>e instanceof Request?this.fetch(n?new Request(e,n):e,r,i):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${lm("/",e)}`,n),r,i)));Y(this,"fire",()=>{addEventListener("fetch",e=>{e.respondWith(Ve(this,Bn,ew).call(this,e.request,e,void 0,e.request.method))})});[...fCe,dCe].forEach(i=>{this[i]=(s,...o)=>(typeof s=="string"?Se(this,Bs,s):Ve(this,Bn,vu).call(this,i,F(this,Bs),s),o.forEach(a=>{Ve(this,Bn,vu).call(this,i,F(this,Bs),a)}),this)}),this.on=(i,s,...o)=>{for(const a of[s].flat()){Se(this,Bs,a);for(const l of[i].flat())o.map(c=>{Ve(this,Bn,vu).call(this,l.toUpperCase(),F(this,Bs),c)})}return this},this.use=(i,...s)=>(typeof i=="string"?Se(this,Bs,i):(Se(this,Bs,"*"),s.unshift(i)),s.forEach(o=>{Ve(this,Bn,vu).call(this,Dn,F(this,Bs),o)}),this);const r=e.strict??!0;delete e.strict,Object.assign(this,e),this.getPath=r?e.getPath??rZ:Yhe}route(e,n){const r=this.basePath(e);return n.routes.map(i=>{var o;let s;n.errorHandler===EL?s=i.handler:(s=async(a,l)=>(await NL([],n.errorHandler)(a,()=>i.handler(a,l))).res,s[hCe]=i.handler),Ve(o=r,Bn,vu).call(o,i.method,i.path,s)}),this}basePath(e){const n=Ve(this,Bn,QU).call(this);return n._basePath=lm(this._basePath,e),n}mount(e,n,r){let i,s;r&&(typeof r=="function"?s=r:(s=r.optionHandler,i=r.replaceRequest));const o=s?l=>{const c=s(l);return Array.isArray(c)?c:[c]}:l=>{let c;try{c=l.executionCtx}catch{}return[l.env,c]};i||(i=(()=>{const l=lm(this._basePath,e),c=l==="/"?0:l.length;return u=>{const d=new URL(u.url);return d.pathname=d.pathname.slice(c)||"/",new Request(d,u)}})());const a=async(l,c)=>{const u=await n(i(l.req.raw),...o(l));if(u)return u;await c()};return Ve(this,Bn,vu).call(this,Dn,lm(e,"*"),a),this}},Bs=new WeakMap,Bn=new WeakSet,QU=function(){const e=new MU({router:this.router,getPath:this.getPath});return e.routes=this.routes,e},Xa=new WeakMap,vu=function(e,n,r){e=e.toUpperCase(),n=lm(this._basePath,n);const i={path:n,method:e,handler:r};this.router.add(e,n,[r,i]),this.routes.push(i)},Kx=function(e,n){if(e instanceof Error)return this.errorHandler(e,n);throw e},ew=function(e,n,r,i){if(i==="HEAD")return(async()=>new Response(null,await Ve(this,Bn,ew).call(this,e,n,r,"GET")))();const s=this.getPath(e,{env:r}),o=this.router.match(i,s),a=new gZ(e,{path:s,matchResult:o,env:r,executionCtx:n,notFoundHandler:F(this,Xa)});if(o[0].length===1){let c;try{c=o[0][0][0][0](a,async()=>{a.res=await F(this,Xa).call(this,a)})}catch(u){return Ve(this,Bn,Kx).call(this,u,a)}return c instanceof Promise?c.then(u=>u||(a.finalized?a.res:F(this,Xa).call(this,a))).catch(u=>Ve(this,Bn,Kx).call(this,u,a)):c??F(this,Xa).call(this,a)}const l=NL(o[0],this.errorHandler,F(this,Xa));return(async()=>{try{const c=await l(a);if(!c.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return c.res}catch(c){return Ve(this,Bn,Kx).call(this,c,a)}})()},r9),bv="[^/]+",ug=".*",dg="(?:|/.*)",qm=Symbol(),mCe=new Set(".\\+*[^]$()");function gCe(t,e){return t.length===1?e.length===1?t<e?-1:1:-1:e.length===1||t===ug||t===dg?1:e===ug||e===dg?-1:t===bv?1:e===bv?-1:t.length===e.length?t<e?-1:1:e.length-t.length}var id,sd,qs,i9,cN=(i9=class{constructor(){Ne(this,id);Ne(this,sd);Ne(this,qs,Object.create(null))}insert(e,n,r,i,s){if(e.length===0){if(F(this,id)!==void 0)throw qm;if(s)return;Se(this,id,n);return}const[o,...a]=e,l=o==="*"?a.length===0?["","",ug]:["","",bv]:o==="/*"?["","",dg]:o.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let c;if(l){const u=l[1];let d=l[2]||bv;if(u&&l[2]&&(d=d.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(d)))throw qm;if(c=F(this,qs)[d],!c){if(Object.keys(F(this,qs)).some(f=>f!==ug&&f!==dg))throw qm;if(s)return;c=F(this,qs)[d]=new cN,u!==""&&Se(c,sd,i.varIndex++)}!s&&u!==""&&r.push([u,F(c,sd)])}else if(c=F(this,qs)[o],!c){if(Object.keys(F(this,qs)).some(u=>u.length>1&&u!==ug&&u!==dg))throw qm;if(s)return;c=F(this,qs)[o]=new cN}c.insert(a,n,r,i,s)}buildRegExpStr(){const n=Object.keys(F(this,qs)).sort(gCe).map(r=>{const i=F(this,qs)[r];return(typeof F(i,sd)=="number"?`(${r})@${F(i,sd)}`:mCe.has(r)?`\\${r}`:r)+i.buildRegExpStr()});return typeof F(this,id)=="number"&&n.unshift(`#${F(this,id)}`),n.length===0?"":n.length===1?n[0]:"(?:"+n.join("|")+")"}},id=new WeakMap,sd=new WeakMap,qs=new WeakMap,i9),i1,Yy,s9,yCe=(s9=class{constructor(){Ne(this,i1,{varIndex:0});Ne(this,Yy,new cN)}insert(t,e,n){const r=[],i=[];for(let o=0;;){let a=!1;if(t=t.replace(/\{[^}]+\}/g,l=>{const c=`@\\${o}`;return i[o]=[c,l],o++,a=!0,c}),!a)break}const s=t.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let o=i.length-1;o>=0;o--){const[a]=i[o];for(let l=s.length-1;l>=0;l--)if(s[l].indexOf(a)!==-1){s[l]=s[l].replace(a,i[o][1]);break}}return F(this,Yy).insert(s,e,r,F(this,i1),n),r}buildRegExp(){let t=F(this,Yy).buildRegExpStr();if(t==="")return[/^$/,[],[]];let e=0;const n=[],r=[];return t=t.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,s,o)=>s!==void 0?(n[++e]=Number(s),"$()"):(o!==void 0&&(r[Number(o)]=++e),"")),[new RegExp(`^${t}`),n,r]}},i1=new WeakMap,Yy=new WeakMap,s9),IU=[],OCe=[/^$/,[],Object.create(null)],tw=Object.create(null);function DU(t){return tw[t]??(tw[t]=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(e,n)=>n?`\\${n}`:"(?:|/.*)")}$`))}function bCe(){tw=Object.create(null)}function xCe(t){var c;const e=new yCe,n=[];if(t.length===0)return OCe;const r=t.map(u=>[!/\*|\/:/.test(u[0]),...u]).sort(([u,d],[f,h])=>u?1:f?-1:d.length-h.length),i=Object.create(null);for(let u=0,d=-1,f=r.length;u<f;u++){const[h,m,g]=r[u];h?i[m]=[g.map(([O])=>[O,Object.create(null)]),IU]:d++;let y;try{y=e.insert(m,d,h)}catch(O){throw O===qm?new RU(m):O}h||(n[d]=g.map(([O,b])=>{const w=Object.create(null);for(b-=1;b>=0;b--){const[x,v]=y[b];w[x]=v}return[O,w]}))}const[s,o,a]=e.buildRegExp();for(let u=0,d=n.length;u<d;u++)for(let f=0,h=n[u].length;f<h;f++){const m=(c=n[u][f])==null?void 0:c[1];if(!m)continue;const g=Object.keys(m);for(let y=0,O=g.length;y<O;y++)m[g[y]]=a[m[g[y]]]}const l=[];for(const u in o)l[u]=n[o[u]];return[s,l,i]}function df(t,e){if(t){for(const n of Object.keys(t).sort((r,i)=>i.length-r.length))if(DU(n).test(e))return[...t[n]]}}var yc,Oc,lp,LU,FU,o9,wCe=(o9=class{constructor(){Ne(this,lp);Y(this,"name","RegExpRouter");Ne(this,yc);Ne(this,Oc);Se(this,yc,{[Dn]:Object.create(null)}),Se(this,Oc,{[Dn]:Object.create(null)})}add(t,e,n){var a;const r=F(this,yc),i=F(this,Oc);if(!r||!i)throw new Error(AU);r[t]||[r,i].forEach(l=>{l[t]=Object.create(null),Object.keys(l[Dn]).forEach(c=>{l[t][c]=[...l[Dn][c]]})}),e==="/*"&&(e="*");const s=(e.match(/\/:/g)||[]).length;if(/\*$/.test(e)){const l=DU(e);t===Dn?Object.keys(r).forEach(c=>{var u;(u=r[c])[e]||(u[e]=df(r[c],e)||df(r[Dn],e)||[])}):(a=r[t])[e]||(a[e]=df(r[t],e)||df(r[Dn],e)||[]),Object.keys(r).forEach(c=>{(t===Dn||t===c)&&Object.keys(r[c]).forEach(u=>{l.test(u)&&r[c][u].push([n,s])})}),Object.keys(i).forEach(c=>{(t===Dn||t===c)&&Object.keys(i[c]).forEach(u=>l.test(u)&&i[c][u].push([n,s]))});return}const o=iZ(e)||[e];for(let l=0,c=o.length;l<c;l++){const u=o[l];Object.keys(i).forEach(d=>{var f;(t===Dn||t===d)&&((f=i[d])[u]||(f[u]=[...df(r[d],u)||df(r[Dn],u)||[]]),i[d][u].push([n,s-c+l+1]))})}}match(t,e){bCe();const n=Ve(this,lp,LU).call(this);return this.match=(r,i)=>{const s=n[r]||n[Dn],o=s[2][i];if(o)return o;const a=i.match(s[0]);if(!a)return[[],IU];const l=a.indexOf("",1);return[s[1][l],a]},this.match(t,e)}},yc=new WeakMap,Oc=new WeakMap,lp=new WeakSet,LU=function(){const t=Object.create(null);return Object.keys(F(this,Oc)).concat(Object.keys(F(this,yc))).forEach(e=>{t[e]||(t[e]=Ve(this,lp,FU).call(this,e))}),Se(this,yc,Se(this,Oc,void 0)),t},FU=function(t){const e=[];let n=t===Dn;return[F(this,yc),F(this,Oc)].forEach(r=>{const i=r[t]?Object.keys(r[t]).map(s=>[s,r[t][s]]):[];i.length!==0?(n||(n=!0),e.push(...i)):t!==Dn&&e.push(...Object.keys(r[Dn]).map(s=>[s,r[Dn][s]]))}),n?xCe(e):null},o9),bc,Ga,a9,vCe=(a9=class{constructor(t){Y(this,"name","SmartRouter");Ne(this,bc,[]);Ne(this,Ga,[]);Se(this,bc,t.routers)}add(t,e,n){if(!F(this,Ga))throw new Error(AU);F(this,Ga).push([t,e,n])}match(t,e){if(!F(this,Ga))throw new Error("Fatal error");const n=F(this,bc),r=F(this,Ga),i=n.length;let s=0,o;for(;s<i;s++){const a=n[s];try{for(let l=0,c=r.length;l<c;l++)a.add(...r[l]);o=a.match(t,e)}catch(l){if(l instanceof RU)continue;throw l}this.match=a.match.bind(a),Se(this,bc,[a]),Se(this,Ga,void 0);break}if(s===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,o}get activeRouter(){if(F(this,Ga)||F(this,bc).length!==1)throw new Error("No active router has been determined yet.");return F(this,bc)[0]}},bc=new WeakMap,Ga=new WeakMap,a9),hm=Object.create(null),xc,Zr,od,Sh,Ur,Ya,Su,l9,VU=(l9=class{constructor(e,n,r){Ne(this,Ya);Ne(this,xc);Ne(this,Zr);Ne(this,od);Ne(this,Sh,0);Ne(this,Ur,hm);if(Se(this,Zr,r||Object.create(null)),Se(this,xc,[]),e&&n){const i=Object.create(null);i[e]={handler:n,possibleKeys:[],score:0},Se(this,xc,[i])}Se(this,od,[])}insert(e,n,r){Se(this,Sh,++eD(this,Sh)._);let i=this;const s=Zhe(n),o=[];for(let c=0,u=s.length;c<u;c++){const d=s[c];if(Object.keys(F(i,Zr)).includes(d)){i=F(i,Zr)[d];const h=uD(d);h&&o.push(h[1]);continue}F(i,Zr)[d]=new VU;const f=uD(d);f&&(F(i,od).push(f),o.push(f[1])),i=F(i,Zr)[d]}const a=Object.create(null),l={handler:r,possibleKeys:o.filter((c,u,d)=>d.indexOf(c)===u),score:F(this,Sh)};return a[e]=l,F(i,xc).push(a),i}search(e,n){const r=[];Se(this,Ur,hm);let s=[this];const o=tZ(n);for(let a=0,l=o.length;a<l;a++){const c=o[a],u=a===l-1,d=[];for(let f=0,h=s.length;f<h;f++){const m=s[f],g=F(m,Zr)[c];g&&(Se(g,Ur,F(m,Ur)),u?(F(g,Zr)["*"]&&r.push(...Ve(this,Ya,Su).call(this,F(g,Zr)["*"],e,F(m,Ur))),r.push(...Ve(this,Ya,Su).call(this,g,e,F(m,Ur)))):d.push(g));for(let y=0,O=F(m,od).length;y<O;y++){const b=F(m,od)[y],w=F(m,Ur)===hm?{}:{...F(m,Ur)};if(b==="*"){const N=F(m,Zr)["*"];N&&(r.push(...Ve(this,Ya,Su).call(this,N,e,F(m,Ur))),d.push(N));continue}if(c==="")continue;const[x,v,k]=b,$=F(m,Zr)[x],C=o.slice(a).join("/");if(k instanceof RegExp&&k.test(C)){w[v]=C,r.push(...Ve(this,Ya,Su).call(this,$,e,F(m,Ur),w));continue}(k===!0||k.test(c))&&(w[v]=c,u?(r.push(...Ve(this,Ya,Su).call(this,$,e,w,F(m,Ur))),F($,Zr)["*"]&&r.push(...Ve(this,Ya,Su).call(this,F($,Zr)["*"],e,w,F(m,Ur)))):(Se($,Ur,w),d.push($)))}}s=d}return r.length>1&&r.sort((a,l)=>a.score-l.score),[r.map(({handler:a,params:l})=>[a,l])]}},xc=new WeakMap,Zr=new WeakMap,od=new WeakMap,Sh=new WeakMap,Ur=new WeakMap,Ya=new WeakSet,Su=function(e,n,r,i){const s=[];for(let o=0,a=F(e,xc).length;o<a;o++){const l=F(e,xc)[o],c=l[n]||l[Dn],u={};if(c!==void 0&&(c.params=Object.create(null),s.push(c),r!==hm||i&&i!==hm))for(let d=0,f=c.possibleKeys.length;d<f;d++){const h=c.possibleKeys[d],m=u[c.score];c.params[h]=i!=null&&i[h]&&!m?i[h]:r[h]??(i==null?void 0:i[h]),u[c.score]=!0}}return s},l9),ad,c9,SCe=(c9=class{constructor(){Y(this,"name","TrieRouter");Ne(this,ad);Se(this,ad,new VU)}add(t,e,n){const r=iZ(e);if(r){for(let i=0,s=r.length;i<s;i++)F(this,ad).insert(t,r[i],n);return}F(this,ad).insert(t,e,n)}match(t,e){return F(this,ad).search(t,e)}},ad=new WeakMap,c9),lO=class extends MU{constructor(t={}){super(t),this.router=t.router??new vCe({routers:[new wCe,new SCe]})}},_L=t=>t;let uN;var Bx,u9;(typeof navigator>"u"||!((u9=(Bx=navigator.userAgent)==null?void 0:Bx.startsWith)!=null&&u9.call(Bx,"Mozilla/5.0 ")))&&(uN="oauth4webapi/v2.17.0");function cO(t,e){if(t==null)return!1;try{return t instanceof e||Object.getPrototypeOf(t)[Symbol.toStringTag]===e.prototype[Symbol.toStringTag]}catch{return!1}}const xv=Symbol(),kCe=Symbol(),VA=Symbol(),BU=Symbol(),qU=Symbol(),$Ce=Symbol(),CCe=new TextEncoder,PCe=new TextDecoder;function Pc(t){return typeof t=="string"?CCe.encode(t):PCe.decode(t)}const TL=32768;function jCe(t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));const e=[];for(let n=0;n<t.byteLength;n+=TL)e.push(String.fromCharCode.apply(null,t.subarray(n,n+TL)));return btoa(e.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function NCe(t){try{const e=atob(t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}catch(e){throw new De("The input to be decoded is not correctly encoded.",{cause:e})}}function dl(t){return typeof t=="string"?NCe(t):jCe(t)}class ECe{constructor(e){this.cache=new Map,this._cache=new Map,this.maxSize=e}get(e){let n=this.cache.get(e);if(n)return n;if(n=this._cache.get(e))return this.update(e,n),n}has(e){return this.cache.has(e)||this._cache.has(e)}set(e,n){return this.cache.has(e)?this.cache.set(e,n):this.update(e,n),this}delete(e){return this.cache.has(e)?this.cache.delete(e):this._cache.has(e)?this._cache.delete(e):!1}update(e,n){this.cache.set(e,n),this.cache.size>=this.maxSize&&(this._cache=this.cache,this.cache=new Map)}}class ro extends Error{constructor(e){var n;super(e??"operation not supported"),this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class _Ce extends Error{constructor(e,n){var r;super(e,n),this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}const De=_Ce,WU=new ECe(100);function zU(t){return t instanceof CryptoKey}function ZU(t){return zU(t)&&t.type==="private"}function TCe(t){return zU(t)&&t.type==="public"}function BA(t){try{const e=t.headers.get("dpop-nonce");e&&WU.set(new URL(t.url).origin,e)}catch{}return t}function Ah(t){return!(t===null||typeof t!="object"||Array.isArray(t))}function Y1(t){cO(t,Headers)&&(t=Object.fromEntries(t.entries()));const e=new Headers(t);if(uN&&!e.has("user-agent")&&e.set("user-agent",uN),e.has("authorization"))throw new TypeError('"options.headers" must not include the "authorization" header name');if(e.has("dpop"))throw new TypeError('"options.headers" must not include the "dpop" header name');return e}function qA(t){if(typeof t=="function"&&(t=t()),!(t instanceof AbortSignal))throw new TypeError('"options.signal" must return or be an instance of AbortSignal');return t}async function ACe(t,e){if(!(t instanceof URL))throw new TypeError('"issuerIdentifier" must be an instance of URL');if(t.protocol!=="https:"&&t.protocol!=="http:")throw new TypeError('"issuer.protocol" must be "https:" or "http:"');const n=new URL(t.href);switch(e==null?void 0:e.algorithm){case void 0:case"oidc":n.pathname=`${n.pathname}/.well-known/openid-configuration`.replace("//","/");break;case"oauth2":n.pathname==="/"?n.pathname=".well-known/oauth-authorization-server":n.pathname=`.well-known/oauth-authorization-server/${n.pathname}`.replace("//","/");break;default:throw new TypeError('"options.algorithm" must be "oidc" (default), or "oauth2"')}const r=Y1(e==null?void 0:e.headers);return r.set("accept","application/json"),((e==null?void 0:e[VA])||fetch)(n.href,{headers:Object.fromEntries(r.entries()),method:"GET",redirect:"manual",signal:e!=null&&e.signal?qA(e.signal):null}).then(BA)}function zn(t){return typeof t=="string"&&t.length!==0}async function RCe(t,e){if(!(t instanceof URL))throw new TypeError('"expectedIssuer" must be an instance of URL');if(!cO(e,Response))throw new TypeError('"response" must be an instance of Response');if(e.status!==200)throw new De('"response" is not a conform Authorization Server Metadata response');Bg(e);let n;try{n=await e.json()}catch(r){throw new De('failed to parse "response" body as JSON',{cause:r})}if(!Ah(n))throw new De('"response" body must be a top level object');if(!zn(n.issuer))throw new De('"response" body "issuer" property must be a non-empty string');if(new URL(n.issuer).href!==t.href)throw new De('"response" body "issuer" does not match "expectedIssuer"');return n}function WA(){return dl(crypto.getRandomValues(new Uint8Array(32)))}function AL(){return WA()}async function MCe(t){if(!zn(t))throw new TypeError('"codeVerifier" must be a non-empty string');return dl(await crypto.subtle.digest("SHA-256",Pc(t)))}function QCe(t){if(t instanceof CryptoKey)return{key:t};if(!((t==null?void 0:t.key)instanceof CryptoKey))return{};if(t.kid!==void 0&&!zn(t.kid))throw new TypeError('"kid" must be a non-empty string');return{key:t.key,kid:t.kid,modifyAssertion:t[BU]}}function RL(t){return encodeURIComponent(t).replace(/%20/g,"+")}function ICe(t,e){const n=RL(t),r=RL(e);return`Basic ${btoa(`${n}:${r}`)}`}function DCe(t){switch(t.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new ro("unsupported RsaHashedKeyAlgorithm hash name")}}function LCe(t){switch(t.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new ro("unsupported RsaHashedKeyAlgorithm hash name")}}function FCe(t){switch(t.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new ro("unsupported EcKeyAlgorithm namedCurve")}}function UU(t){switch(t.algorithm.name){case"RSA-PSS":return DCe(t);case"RSASSA-PKCS1-v1_5":return LCe(t);case"ECDSA":return FCe(t);case"Ed25519":case"Ed448":return"EdDSA";default:throw new ro("unsupported CryptoKey algorithm name")}}function vp(t){const e=t==null?void 0:t[xv];return typeof e=="number"&&Number.isFinite(e)?e:0}function zA(t){const e=t==null?void 0:t[kCe];return typeof e=="number"&&Number.isFinite(e)&&Math.sign(e)!==-1?e:30}function H1(){return Math.floor(Date.now()/1e3)}function VCe(t,e){const n=H1()+vp(e);return{jti:WA(),aud:[t.issuer,t.token_endpoint],exp:n+60,iat:n,nbf:n,iss:e.client_id,sub:e.client_id}}async function BCe(t,e,n,r,i){const s={alg:UU(n),kid:r},o=VCe(t,e);return i==null||i(s,o),XU(s,o,n)}function uO(t){if(typeof t!="object"||t===null)throw new TypeError('"as" must be an object');if(!zn(t.issuer))throw new TypeError('"as.issuer" property must be a non-empty string');return!0}function dO(t){if(typeof t!="object"||t===null)throw new TypeError('"client" must be an object');if(!zn(t.client_id))throw new TypeError('"client.client_id" property must be a non-empty string');return!0}function ML(t){if(!zn(t))throw new TypeError('"client.client_secret" property must be a non-empty string');return t}function F$(t,e){if(e!==void 0)throw new TypeError(`"options.clientPrivateKey" property must not be provided when ${t} client authentication method is used.`)}function QL(t,e){if(e!==void 0)throw new TypeError(`"client.client_secret" property must not be provided when ${t} client authentication method is used.`)}async function qCe(t,e,n,r,i){switch(n.delete("client_secret"),n.delete("client_assertion_type"),n.delete("client_assertion"),e.token_endpoint_auth_method){case void 0:case"client_secret_basic":{F$("client_secret_basic",i),r.set("authorization",ICe(e.client_id,ML(e.client_secret)));break}case"client_secret_post":{F$("client_secret_post",i),n.set("client_id",e.client_id),n.set("client_secret",ML(e.client_secret));break}case"private_key_jwt":{if(QL("private_key_jwt",e.client_secret),i===void 0)throw new TypeError('"options.clientPrivateKey" must be provided when "client.token_endpoint_auth_method" is "private_key_jwt"');const{key:s,kid:o,modifyAssertion:a}=QCe(i);if(!ZU(s))throw new TypeError('"options.clientPrivateKey.key" must be a private CryptoKey');n.set("client_id",e.client_id),n.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),n.set("client_assertion",await BCe(t,e,s,o,a));break}case"tls_client_auth":case"self_signed_tls_client_auth":case"none":{QL(e.token_endpoint_auth_method,e.client_secret),F$(e.token_endpoint_auth_method,i),n.set("client_id",e.client_id);break}default:throw new ro("unsupported client token_endpoint_auth_method")}}async function XU(t,e,n){if(!n.usages.includes("sign"))throw new TypeError('CryptoKey instances used for signing assertions must include "sign" in their "usages"');const r=`${dl(Pc(JSON.stringify(t)))}.${dl(Pc(JSON.stringify(e)))}`,i=dl(await crypto.subtle.sign(r8(n),n,Pc(r)));return`${r}.${i}`}async function WCe(t,e,n,r,i,s){var f;const{privateKey:o,publicKey:a,nonce:l=WU.get(n.origin)}=e;if(!ZU(o))throw new TypeError('"DPoP.privateKey" must be a private CryptoKey');if(!TCe(a))throw new TypeError('"DPoP.publicKey" must be a public CryptoKey');if(l!==void 0&&!zn(l))throw new TypeError('"DPoP.nonce" must be a non-empty string or undefined');if(!a.extractable)throw new TypeError('"DPoP.publicKey.extractable" must be true');const c=H1()+i,u={alg:UU(o),typ:"dpop+jwt",jwk:await ZCe(a)},d={iat:c,jti:WA(),htm:r,nonce:l,htu:`${n.origin}${n.pathname}`,ath:s?dl(await crypto.subtle.digest("SHA-256",Pc(s))):void 0};(f=e[BU])==null||f.call(e,u,d),t.set("dpop",await XU(u,d,o))}let nw;async function zCe(t){const{kty:e,e:n,n:r,x:i,y:s,crv:o}=await crypto.subtle.exportKey("jwk",t),a={kty:e,e:n,n:r,x:i,y:s,crv:o};return nw.set(t,a),a}async function ZCe(t){return nw||(nw=new WeakMap),nw.get(t)||zCe(t)}function IL(t,e,n){if(typeof t!="string")throw n?new TypeError(`"as.mtls_endpoint_aliases.${e}" must be a string`):new TypeError(`"as.${e}" must be a string`);return new URL(t)}function GU(t,e,n=!1){return n&&t.mtls_endpoint_aliases&&e in t.mtls_endpoint_aliases?IL(t.mtls_endpoint_aliases[e],e,n):IL(t[e],e,n)}function YU(t,e){return!!(t.use_mtls_endpoint_aliases||e!=null&&e[$Ce])}function Af(t){const e=t;return typeof e!="object"||Array.isArray(e)||e===null?!1:e.error!==void 0}function UCe(t){return t.length>=2&&t[0]==='"'&&t[t.length-1]==='"'?t.slice(1,-1):t}const XCe=/((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/,GCe=/(?:^|, ?)([0-9a-zA-Z!#$%&'*+\-.^_`|~]+)(?=$|[ ,])/g;function YCe(t,e){const n=e.split(XCe).slice(1);if(!n.length)return{scheme:t.toLowerCase(),parameters:{}};n[n.length-1]=n[n.length-1].replace(/,$/,"");const r={};for(let i=1;i<n.length;i+=2){const s=i;if(n[s][0]==='"')for(;n[s].slice(-1)!=='"'&&++i<n.length;)n[s]+=n[i];const o=n[s-1].replace(/^(?:, ?)|=$/g,"").toLowerCase();r[o]=UCe(n[s])}return{scheme:t.toLowerCase(),parameters:r}}function DL(t){if(!cO(t,Response))throw new TypeError('"response" must be an instance of Response');const e=t.headers.get("www-authenticate");if(e===null)return;const n=[];for(const{1:i,index:s}of e.matchAll(GCe))n.push([i,s]);return n.length?n.map(([i,s],o,a)=>{const l=a[o+1];let c;return l?c=e.slice(s,l[1]):c=e.slice(s),YCe(i,c)}):void 0}async function HCe(t,e,n,r,i,s){if(!zn(t))throw new TypeError('"accessToken" must be a non-empty string');if(!(n instanceof URL))throw new TypeError('"url" must be an instance of URL');return r=Y1(r),(s==null?void 0:s.DPoP)===void 0?r.set("authorization",`Bearer ${t}`):(await WCe(r,s.DPoP,n,e.toUpperCase(),vp({[xv]:s==null?void 0:s[xv]}),t),r.set("authorization",`DPoP ${t}`)),((s==null?void 0:s[VA])||fetch)(n.href,{body:i,headers:Object.fromEntries(r.entries()),method:e,redirect:"manual",signal:s!=null&&s.signal?qA(s.signal):null}).then(BA)}async function LL(t,e,n,r){uO(t),dO(e);const i=GU(t,"userinfo_endpoint",YU(e,r)),s=Y1(r==null?void 0:r.headers);return e.userinfo_signed_response_alg?s.set("accept","application/jwt"):(s.set("accept","application/json"),s.append("accept","application/jwt")),HCe(n,"GET",i,s,null,{...r,[xv]:vp(e)})}const JCe=Symbol();function KCe(t){var e;return(e=t.headers.get("content-type"))==null?void 0:e.split(";")[0]}async function ePe(t,e,n,r){if(uO(t),dO(e),!cO(r,Response))throw new TypeError('"response" must be an instance of Response');if(r.status!==200)throw new De('"response" is not a conform UserInfo Endpoint response');let i;if(KCe(r)==="application/jwt"){Bg(r);const{claims:s,jwt:o}=await i8(await r.text(),s8.bind(void 0,e.userinfo_signed_response_alg,t.userinfo_signing_alg_values_supported),ZA,vp(e),zA(e),e[qU]).then(iPe.bind(void 0,e.client_id)).then(sPe.bind(void 0,t.issuer));rPe.set(r,o),i=s}else{if(e.userinfo_signed_response_alg)throw new De("JWT UserInfo Response expected");Bg(r);try{i=await r.json()}catch(s){throw new De('failed to parse "response" body as JSON',{cause:s})}}if(!Ah(i))throw new De('"response" body must be a top level object');if(!zn(i.sub))throw new De('"response" body "sub" property must be a non-empty string');switch(n){case JCe:break;default:if(!zn(n))throw new De('"expectedSubject" must be a non-empty string');if(i.sub!==n)throw new De('unexpected "response" body "sub" value')}return i}async function tPe(t,e,n,r,i,s,o){return await qCe(t,e,i,s,o==null?void 0:o.clientPrivateKey),s.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),((o==null?void 0:o[VA])||fetch)(r.href,{body:i,headers:Object.fromEntries(s.entries()),method:n,redirect:"manual",signal:o!=null&&o.signal?qA(o.signal):null}).then(BA)}async function nPe(t,e,n,r,i){const s=GU(t,"token_endpoint",YU(e,i));r.set("grant_type",n);const o=Y1(i==null?void 0:i.headers);return o.set("accept","application/json"),tPe(t,e,"POST",s,r,o,i)}const HU=new WeakMap,rPe=new WeakMap;function JU(t){if(!t.id_token)return;const e=HU.get(t);if(!e)throw new TypeError('"ref" was already garbage collected or did not resolve from the proper sources');return e[0]}async function KU(t,e,n,r=!1,i=!1){if(uO(t),dO(e),!cO(n,Response))throw new TypeError('"response" must be an instance of Response');if(n.status!==200){let o;if(o=await fPe(n))return o;throw new De('"response" is not a conform Token Endpoint response')}Bg(n);let s;try{s=await n.json()}catch(o){throw new De('failed to parse "response" body as JSON',{cause:o})}if(!Ah(s))throw new De('"response" body must be a top level object');if(!zn(s.access_token))throw new De('"response" body "access_token" property must be a non-empty string');if(!zn(s.token_type))throw new De('"response" body "token_type" property must be a non-empty string');if(s.token_type=s.token_type.toLowerCase(),s.token_type!=="dpop"&&s.token_type!=="bearer")throw new ro("unsupported `token_type` value");if(s.expires_in!==void 0&&(typeof s.expires_in!="number"||s.expires_in<=0))throw new De('"response" body "expires_in" property must be a positive number');if(!i&&s.refresh_token!==void 0&&!zn(s.refresh_token))throw new De('"response" body "refresh_token" property must be a non-empty string');if(s.scope!==void 0&&typeof s.scope!="string")throw new De('"response" body "scope" property must be a string');if(!r){if(s.id_token!==void 0&&!zn(s.id_token))throw new De('"response" body "id_token" property must be a non-empty string');if(s.id_token){const{claims:o,jwt:a}=await i8(s.id_token,s8.bind(void 0,e.id_token_signed_response_alg,t.id_token_signing_alg_values_supported),ZA,vp(e),zA(e),e[qU]).then(lPe.bind(void 0,["aud","exp","iat","iss","sub"])).then(t8.bind(void 0,t.issuer)).then(e8.bind(void 0,e.client_id));if(Array.isArray(o.aud)&&o.aud.length!==1){if(o.azp===void 0)throw new De('ID Token "aud" (audience) claim includes additional untrusted audiences');if(o.azp!==e.client_id)throw new De('unexpected ID Token "azp" (authorized party) claim value')}if(o.auth_time!==void 0&&(!Number.isFinite(o.auth_time)||Math.sign(o.auth_time)!==1))throw new De('ID Token "auth_time" (authentication time) must be a positive number');HU.set(s,[o,a])}}return s}function iPe(t,e){return e.claims.aud!==void 0?e8(t,e):e}function e8(t,e){if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t))throw new De('unexpected JWT "aud" (audience) claim value')}else if(e.claims.aud!==t)throw new De('unexpected JWT "aud" (audience) claim value');return e}function sPe(t,e){return e.claims.iss!==void 0?t8(t,e):e}function t8(t,e){if(e.claims.iss!==t)throw new De('unexpected JWT "iss" (issuer) claim value');return e}const n8=new WeakSet;function oPe(t){return n8.add(t),t}async function FL(t,e,n,r,i,s){if(uO(t),dO(e),!n8.has(n))throw new TypeError('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()');if(!zn(r))throw new TypeError('"redirectUri" must be a non-empty string');if(!zn(i))throw new TypeError('"codeVerifier" must be a non-empty string');const o=Ia(n,"code");if(!o)throw new De('no authorization code in "callbackParameters"');const a=new URLSearchParams(s==null?void 0:s.additionalParameters);return a.set("redirect_uri",r),a.set("code_verifier",i),a.set("code",o),nPe(t,e,"authorization_code",a,s)}const aPe={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation"};function lPe(t,e){for(const n of t)if(e.claims[n]===void 0)throw new De(`JWT "${n}" (${aPe[n]}) claim missing`);return e}const cPe=Symbol(),V$=Symbol();async function uPe(t,e,n,r,i){const s=await KU(t,e,n);if(Af(s))return s;if(!zn(s.id_token))throw new De('"response" body "id_token" property must be a non-empty string');i??(i=e.default_max_age??V$);const o=JU(s);if((e.require_auth_time||i!==V$)&&o.auth_time===void 0)throw new De('ID Token "auth_time" (authentication time) claim missing');if(i!==V$){if(typeof i!="number"||i<0)throw new TypeError('"maxAge" must be a non-negative number');const a=H1()+vp(e),l=zA(e);if(o.auth_time+i<a-l)throw new De("too much time has elapsed since the last End-User authentication")}switch(r){case void 0:case cPe:if(o.nonce!==void 0)throw new De('unexpected ID Token "nonce" claim value');break;default:if(!zn(r))throw new TypeError('"expectedNonce" must be a non-empty string');if(o.nonce===void 0)throw new De('ID Token "nonce" claim missing');if(o.nonce!==r)throw new De('unexpected ID Token "nonce" claim value')}return s}async function dPe(t,e,n){const r=await KU(t,e,n,!0);if(Af(r))return r;if(r.id_token!==void 0){if(typeof r.id_token=="string"&&r.id_token.length)throw new De("Unexpected ID Token returned, use processAuthorizationCodeOpenIDResponse() for OpenID Connect callback processing");delete r.id_token}return r}function Bg(t){if(t.bodyUsed)throw new TypeError('"response" body has been used already')}async function fPe(t){if(t.status>399&&t.status<500){Bg(t);try{const e=await t.json();if(Ah(e)&&typeof e.error=="string"&&e.error.length)return e.error_description!==void 0&&typeof e.error_description!="string"&&delete e.error_description,e.error_uri!==void 0&&typeof e.error_uri!="string"&&delete e.error_uri,e.algs!==void 0&&typeof e.algs!="string"&&delete e.algs,e.scope!==void 0&&typeof e.scope!="string"&&delete e.scope,e}catch{}}}function VL(t){if(typeof t.modulusLength!="number"||t.modulusLength<2048)throw new De(`${t.name} modulusLength must be at least 2048 bits`)}function hPe(t){switch(t){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new ro}}function r8(t){switch(t.algorithm.name){case"ECDSA":return{name:t.algorithm.name,hash:hPe(t.algorithm.namedCurve)};case"RSA-PSS":switch(VL(t.algorithm),t.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:t.algorithm.name,saltLength:parseInt(t.algorithm.hash.name.slice(-3),10)>>3};default:throw new ro}case"RSASSA-PKCS1-v1_5":return VL(t.algorithm),t.algorithm.name;case"Ed448":case"Ed25519":return t.algorithm.name}throw new ro}const ZA=Symbol();async function pPe(t,e,n,r){const i=`${t}.${e}`;if(!await crypto.subtle.verify(r8(n),n,r,Pc(i)))throw new De("JWT signature verification failed")}async function i8(t,e,n,r,i,s){let{0:o,1:a,2:l,length:c}=t.split(".");if(c===5)if(s!==void 0)t=await s(t),{0:o,1:a,2:l,length:c}=t.split(".");else throw new ro("JWE structure JWTs are not supported");if(c!==3)throw new De("Invalid JWT");let u;try{u=JSON.parse(Pc(dl(o)))}catch(g){throw new De("failed to parse JWT Header body as base64url encoded JSON",{cause:g})}if(!Ah(u))throw new De("JWT Header must be a top level object");if(e(u),u.crit!==void 0)throw new De('unexpected JWT "crit" header parameter');const d=dl(l);let f;n!==ZA&&(f=await n(u),await pPe(o,a,f,d));let h;try{h=JSON.parse(Pc(dl(a)))}catch(g){throw new De("failed to parse JWT Payload body as base64url encoded JSON",{cause:g})}if(!Ah(h))throw new De("JWT Payload must be a top level object");const m=H1()+r;if(h.exp!==void 0){if(typeof h.exp!="number")throw new De('unexpected JWT "exp" (expiration time) claim type');if(h.exp<=m-i)throw new De('unexpected JWT "exp" (expiration time) claim value, timestamp is <= now()')}if(h.iat!==void 0&&typeof h.iat!="number")throw new De('unexpected JWT "iat" (issued at) claim type');if(h.iss!==void 0&&typeof h.iss!="string")throw new De('unexpected JWT "iss" (issuer) claim type');if(h.nbf!==void 0){if(typeof h.nbf!="number")throw new De('unexpected JWT "nbf" (not before) claim type');if(h.nbf>m+i)throw new De('unexpected JWT "nbf" (not before) claim value, timestamp is > now()')}if(h.aud!==void 0&&typeof h.aud!="string"&&!Array.isArray(h.aud))throw new De('unexpected JWT "aud" (audience) claim type');return{header:u,claims:h,signature:d,key:f,jwt:t}}function s8(t,e,n){if(t!==void 0){if(n.alg!==t)throw new De('unexpected JWT "alg" header parameter');return}if(Array.isArray(e)){if(!e.includes(n.alg))throw new De('unexpected JWT "alg" header parameter');return}if(n.alg!=="RS256")throw new De('unexpected JWT "alg" header parameter')}function Ia(t,e){const{0:n,length:r}=t.getAll(e);if(r>1)throw new De(`"${e}" parameter must be provided only once`);return n}const mPe=Symbol(),dN=Symbol();function BL(t,e,n,r){if(uO(t),dO(e),n instanceof URL&&(n=n.searchParams),!(n instanceof URLSearchParams))throw new TypeError('"parameters" must be an instance of URLSearchParams, or URL');if(Ia(n,"response"))throw new De('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()');const i=Ia(n,"iss"),s=Ia(n,"state");if(!i&&t.authorization_response_iss_parameter_supported)throw new De('response parameter "iss" (issuer) missing');if(i&&i!==t.issuer)throw new De('unexpected "iss" (issuer) response parameter value');switch(r){case void 0:case dN:if(s!==void 0)throw new De('unexpected "state" response parameter encountered');break;case mPe:break;default:if(!zn(r))throw new De('"expectedState" must be a non-empty string');if(s===void 0)throw new De('response parameter "state" missing');if(s!==r)throw new De('unexpected "state" response parameter value')}const o=Ia(n,"error");if(o)return{error:o,error_description:Ia(n,"error_description"),error_uri:Ia(n,"error_uri")};const a=Ia(n,"id_token"),l=Ia(n,"token");if(a!==void 0||l!==void 0)throw new ro("implicit and hybrid flows are not supported");return oPe(new URLSearchParams(n))}var gPe=t=>{const n={...{origin:"*",allowMethods:["GET","HEAD","PUT","POST","DELETE","PATCH"],allowHeaders:[],exposeHeaders:[]},...t},r=(i=>typeof i=="string"?i==="*"?()=>i:s=>i===s?s:null:typeof i=="function"?i:s=>i.includes(s)?s:null)(n.origin);return async function(s,o){var c,u;function a(d,f){s.res.headers.set(d,f)}const l=r(s.req.header("origin")||"",s);if(l&&a("Access-Control-Allow-Origin",l),n.origin!=="*"){const d=s.req.header("Vary");d?a("Vary",d):a("Vary","Origin")}if(n.credentials&&a("Access-Control-Allow-Credentials","true"),(c=n.exposeHeaders)!=null&&c.length&&a("Access-Control-Expose-Headers",n.exposeHeaders.join(",")),s.req.method==="OPTIONS"){n.maxAge!=null&&a("Access-Control-Max-Age",n.maxAge.toString()),(u=n.allowMethods)!=null&&u.length&&a("Access-Control-Allow-Methods",n.allowMethods.join(","));let d=n.allowHeaders;if(!(d!=null&&d.length)){const f=s.req.header("Access-Control-Request-Headers");f&&(d=f.split(/\s*,\s*/))}return d!=null&&d.length&&(a("Access-Control-Allow-Headers",d.join(",")),s.res.headers.append("Vary","Access-Control-Request-Headers")),s.res.headers.delete("Content-Length"),s.res.headers.delete("Content-Type"),new Response(null,{headers:s.res.headers,status:204,statusText:"No Content"})}await o()}},qL="Payload Too Large",WL=class extends Error{constructor(t){super(t),this.name="BodyLimitError"}},o8=t=>{const e=t.onError||(()=>{const r=new Response(qL,{status:413});throw new jj(413,{res:r})}),n=t.maxSize;return async function(i,s){if(!i.req.raw.body)return s();if(i.req.raw.headers.has("content-length"))return parseInt(i.req.raw.headers.get("content-length")||"0",10)>n?e(i):s();let o=0;const a=i.req.raw.body.getReader(),c={body:new ReadableStream({async start(u){try{for(;;){const{done:d,value:f}=await a.read();if(d)break;if(o+=f.length,o>n){u.error(new WL(qL));break}u.enqueue(f)}}finally{u.close()}}}),duplex:"half"};i.req.raw=new Request(i.req.raw,c),await s(),i.error instanceof WL&&(i.res=await e(i))}};class a8{constructor(e,n,r,i){this.schema=e,this.references=n,this.checkFunc=r,this.code=i,this.hasTransform=B9(e,n)}Code(){return this.code}Errors(e){return kh(this.schema,this.references,e)}Check(e){return this.checkFunc(e)}Decode(e){if(!this.checkFunc(e))throw new F9(this.schema,e,this.Errors(e).First());return this.hasTransform?V9(this.schema,this.references,e):e}Encode(e){const n=this.hasTransform?lfe(this.schema,this.references,e):e;if(!this.checkFunc(n))throw new Hde(this.schema,e,this.Errors(e).First());return n}}var tl;(function(t){function e(s){return s===36}t.DollarSign=e;function n(s){return s===95}t.IsUnderscore=n;function r(s){return s>=65&&s<=90||s>=97&&s<=122}t.IsAlpha=r;function i(s){return s>=48&&s<=57}t.IsNumeric=i})(tl||(tl={}));var wv;(function(t){function e(s){return s.length===0?!1:tl.IsNumeric(s.charCodeAt(0))}function n(s){if(e(s))return!1;for(let o=0;o<s.length;o++){const a=s.charCodeAt(o);if(!(tl.IsAlpha(a)||tl.IsNumeric(a)||tl.DollarSign(a)||tl.IsUnderscore(a)))return!1}return!0}function r(s){return s.replace(/'/g,"\\'")}function i(s,o){return n(o)?`${s}.${o}`:`${s}['${r(o)}']`}t.Encode=i})(wv||(wv={}));var fN;(function(t){function e(n){const r=[];for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);tl.IsNumeric(s)||tl.IsAlpha(s)?r.push(n.charAt(i)):r.push(`_${s}_`)}return r.join("").replace(/__/g,"_")}t.Encode=e})(fN||(fN={}));var hN;(function(t){function e(n){return n.replace(/'/g,"\\'")}t.Escape=e})(hN||(hN={}));class yPe extends Id{constructor(e){super("Unknown type"),this.schema=e}}class zL extends Id{constructor(e){super("Preflight validation check failed to guard for the given schema"),this.schema=e}}var Qu;(function(t){function e(o,a,l){return Lo.ExactOptionalPropertyTypes?`('${a}' in ${o} ? ${l} : true)`:`(${wv.Encode(o,a)} !== undefined ? ${l} : true)`}t.IsExactOptionalProperty=e;function n(o){return Lo.AllowArrayObject?`(typeof ${o} === 'object' && ${o} !== null)`:`(typeof ${o} === 'object' && ${o} !== null && !Array.isArray(${o}))`}t.IsObjectLike=n;function r(o){return Lo.AllowArrayObject?`(typeof ${o} === 'object' && ${o} !== null && !(${o} instanceof Date) && !(${o} instanceof Uint8Array))`:`(typeof ${o} === 'object' && ${o} !== null && !Array.isArray(${o}) && !(${o} instanceof Date) && !(${o} instanceof Uint8Array))`}t.IsRecordLike=r;function i(o){return Lo.AllowNaN?`typeof ${o} === 'number'`:`Number.isFinite(${o})`}t.IsNumberLike=i;function s(o){return Lo.AllowNullVoid?`(${o} === undefined || ${o} === null)`:`${o} === undefined`}t.IsVoidLike=s})(Qu||(Qu={}));var ZL;(function(t){function e(q){return q[Hn]==="Any"||q[Hn]==="Unknown"}function*n(q,oe,B){yield"true"}function*r(q,oe,B){yield`Array.isArray(${B})`;const[ie,ce]=[fe("value","any"),fe("acc","number")];ht(q.maxItems)&&(yield`${B}.length <= ${q.maxItems}`),ht(q.minItems)&&(yield`${B}.length >= ${q.minItems}`);const de=V(q.items,oe,"value");if(yield`${B}.every((${ie}) => ${de})`,Gr(q.contains)||ht(q.minContains)||ht(q.maxContains)){const z=Gr(q.contains)?q.contains:f9(),ne=V(z,oe,"value"),X=ht(q.minContains)?[`(count >= ${q.minContains})`]:[],ae=ht(q.maxContains)?[`(count <= ${q.maxContains})`]:[],se=`const count = value.reduce((${ce}, ${ie}) => ${ne} ? acc + 1 : acc, 0)`,te=["(count > 0)",...X,...ae].join(" && ");yield`((${ie}) => { ${se}; return ${te}})(${B})`}q.uniqueItems===!0&&(yield`((${ie}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${B})`)}function*i(q,oe,B){yield`(typeof value === 'object' && Symbol.asyncIterator in ${B})`}function*s(q,oe,B){yield`(typeof ${B} === 'bigint')`,wf(q.exclusiveMaximum)&&(yield`${B} < BigInt(${q.exclusiveMaximum})`),wf(q.exclusiveMinimum)&&(yield`${B} > BigInt(${q.exclusiveMinimum})`),wf(q.maximum)&&(yield`${B} <= BigInt(${q.maximum})`),wf(q.minimum)&&(yield`${B} >= BigInt(${q.minimum})`),wf(q.multipleOf)&&(yield`(${B} % BigInt(${q.multipleOf})) === 0`)}function*o(q,oe,B){yield`(typeof ${B} === 'boolean')`}function*a(q,oe,B){yield*M(q.returns,oe,`${B}.prototype`)}function*l(q,oe,B){yield`(${B} instanceof Date) && Number.isFinite(${B}.getTime())`,ht(q.exclusiveMaximumTimestamp)&&(yield`${B}.getTime() < ${q.exclusiveMaximumTimestamp}`),ht(q.exclusiveMinimumTimestamp)&&(yield`${B}.getTime() > ${q.exclusiveMinimumTimestamp}`),ht(q.maximumTimestamp)&&(yield`${B}.getTime() <= ${q.maximumTimestamp}`),ht(q.minimumTimestamp)&&(yield`${B}.getTime() >= ${q.minimumTimestamp}`),ht(q.multipleOfTimestamp)&&(yield`(${B}.getTime() % ${q.multipleOfTimestamp}) === 0`)}function*c(q,oe,B){yield`(typeof ${B} === 'function')`}function*u(q,oe,B){yield`Number.isInteger(${B})`,ht(q.exclusiveMaximum)&&(yield`${B} < ${q.exclusiveMaximum}`),ht(q.exclusiveMinimum)&&(yield`${B} > ${q.exclusiveMinimum}`),ht(q.maximum)&&(yield`${B} <= ${q.maximum}`),ht(q.minimum)&&(yield`${B} >= ${q.minimum}`),ht(q.multipleOf)&&(yield`(${B} % ${q.multipleOf}) === 0`)}function*d(q,oe,B){const ie=q.allOf.map(ce=>V(ce,oe,B)).join(" && ");if(q.unevaluatedProperties===!1){const ce=H(`${new RegExp(Ww(q))};`),de=`Object.getOwnPropertyNames(${B}).every(key => ${ce}.test(key))`;yield`(${ie} && ${de})`}else if(Gr(q.unevaluatedProperties)){const ce=H(`${new RegExp(Ww(q))};`),de=`Object.getOwnPropertyNames(${B}).every(key => ${ce}.test(key) || ${V(q.unevaluatedProperties,oe,`${B}[key]`)})`;yield`(${ie} && ${de})`}else yield`(${ie})`}function*f(q,oe,B){yield`(typeof value === 'object' && Symbol.iterator in ${B})`}function*h(q,oe,B){typeof q.const=="number"||typeof q.const=="boolean"?yield`(${B} === ${q.const})`:yield`(${B} === '${hN.Escape(q.const)}')`}function*m(q,oe,B){yield"false"}function*g(q,oe,B){yield`(!${V(q.not,oe,B)})`}function*y(q,oe,B){yield`(${B} === null)`}function*O(q,oe,B){yield Qu.IsNumberLike(B),ht(q.exclusiveMaximum)&&(yield`${B} < ${q.exclusiveMaximum}`),ht(q.exclusiveMinimum)&&(yield`${B} > ${q.exclusiveMinimum}`),ht(q.maximum)&&(yield`${B} <= ${q.maximum}`),ht(q.minimum)&&(yield`${B} >= ${q.minimum}`),ht(q.multipleOf)&&(yield`(${B} % ${q.multipleOf}) === 0`)}function*b(q,oe,B){yield Qu.IsObjectLike(B),ht(q.minProperties)&&(yield`Object.getOwnPropertyNames(${B}).length >= ${q.minProperties}`),ht(q.maxProperties)&&(yield`Object.getOwnPropertyNames(${B}).length <= ${q.maxProperties}`);const ie=Object.getOwnPropertyNames(q.properties);for(const ce of ie){const de=wv.Encode(B,ce),z=q.properties[ce];if(q.required&&q.required.includes(ce))yield*M(z,oe,de),(p9(z)||e(z))&&(yield`('${ce}' in ${B})`);else{const ne=V(z,oe,de);yield Qu.IsExactOptionalProperty(B,ce,ne)}}if(q.additionalProperties===!1)if(q.required&&q.required.length===ie.length)yield`Object.getOwnPropertyNames(${B}).length === ${ie.length}`;else{const ce=`[${ie.map(de=>`'${de}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${B}).every(key => ${ce}.includes(key))`}if(typeof q.additionalProperties=="object"){const ce=V(q.additionalProperties,oe,`${B}[key]`),de=`[${ie.map(z=>`'${z}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${B}).every(key => ${de}.includes(key) || ${ce}))`}}function*w(q,oe,B){yield`(typeof value === 'object' && typeof ${B}.then === 'function')`}function*x(q,oe,B){yield Qu.IsRecordLike(B),ht(q.minProperties)&&(yield`Object.getOwnPropertyNames(${B}).length >= ${q.minProperties}`),ht(q.maxProperties)&&(yield`Object.getOwnPropertyNames(${B}).length <= ${q.maxProperties}`);const[ie,ce]=Object.entries(q.patternProperties)[0],de=H(`${new RegExp(ie)}`),z=V(ce,oe,"value"),ne=Gr(q.additionalProperties)?V(q.additionalProperties,oe,B):q.additionalProperties===!1?"false":"true",X=`(${de}.test(key) ? ${z} : ${ne})`;yield`(Object.entries(${B}).every(([key, value]) => ${X}))`}function*v(q,oe,B){const ie=lo(q,oe);if(L.functions.has(q.$ref))return yield`${W(q.$ref)}(${B})`;yield*M(ie,oe,B)}function*k(q,oe,B){const ie=H(`${new RegExp(q.source,q.flags)};`);yield`(typeof ${B} === 'string')`,ht(q.maxLength)&&(yield`${B}.length <= ${q.maxLength}`),ht(q.minLength)&&(yield`${B}.length >= ${q.minLength}`),yield`${ie}.test(${B})`}function*$(q,oe,B){yield`(typeof ${B} === 'string')`,ht(q.maxLength)&&(yield`${B}.length <= ${q.maxLength}`),ht(q.minLength)&&(yield`${B}.length >= ${q.minLength}`),q.pattern!==void 0&&(yield`${H(`${new RegExp(q.pattern)};`)}.test(${B})`),q.format!==void 0&&(yield`format('${q.format}', ${B})`)}function*C(q,oe,B){yield`(typeof ${B} === 'symbol')`}function*N(q,oe,B){yield`(typeof ${B} === 'string')`,yield`${H(`${new RegExp(q.pattern)};`)}.test(${B})`}function*P(q,oe,B){yield`${W(q.$ref)}(${B})`}function*R(q,oe,B){if(yield`Array.isArray(${B})`,q.items===void 0)return yield`${B}.length === 0`;yield`(${B}.length === ${q.maxItems})`;for(let ie=0;ie<q.items.length;ie++)yield`${V(q.items[ie],oe,`${B}[${ie}]`)}`}function*T(q,oe,B){yield`${B} === undefined`}function*A(q,oe,B){yield`(${q.anyOf.map(ce=>V(ce,oe,B)).join(" || ")})`}function*j(q,oe,B){yield`${B} instanceof Uint8Array`,ht(q.maxByteLength)&&(yield`(${B}.length <= ${q.maxByteLength})`),ht(q.minByteLength)&&(yield`(${B}.length >= ${q.minByteLength})`)}function*E(q,oe,B){yield"true"}function*_(q,oe,B){yield Qu.IsVoidLike(B)}function*Q(q,oe,B){const ie=L.instances.size;L.instances.set(ie,q),yield`kind('${q[Hn]}', ${ie}, ${B})`}function*M(q,oe,B,ie=!0){const ce=ld(q.$id)?[...oe,q]:oe,de=q;if(ie&&ld(q.$id)){const z=W(q.$id);if(L.functions.has(z))return yield`${z}(${B})`;{const ne=le(z,q,oe,"value",!1);return L.functions.set(z,ne),yield`${z}(${B})`}}switch(de[Hn]){case"Any":return yield*n();case"Array":return yield*r(de,ce,B);case"AsyncIterator":return yield*i(de,ce,B);case"BigInt":return yield*s(de,ce,B);case"Boolean":return yield*o(de,ce,B);case"Constructor":return yield*a(de,ce,B);case"Date":return yield*l(de,ce,B);case"Function":return yield*c(de,ce,B);case"Integer":return yield*u(de,ce,B);case"Intersect":return yield*d(de,ce,B);case"Iterator":return yield*f(de,ce,B);case"Literal":return yield*h(de,ce,B);case"Never":return yield*m();case"Not":return yield*g(de,ce,B);case"Null":return yield*y(de,ce,B);case"Number":return yield*O(de,ce,B);case"Object":return yield*b(de,ce,B);case"Promise":return yield*w(de,ce,B);case"Record":return yield*x(de,ce,B);case"Ref":return yield*v(de,ce,B);case"RegExp":return yield*k(de,ce,B);case"String":return yield*$(de,ce,B);case"Symbol":return yield*C(de,ce,B);case"TemplateLiteral":return yield*N(de,ce,B);case"This":return yield*P(de,ce,B);case"Tuple":return yield*R(de,ce,B);case"Undefined":return yield*T(de,ce,B);case"Union":return yield*A(de,ce,B);case"Uint8Array":return yield*j(de,ce,B);case"Unknown":return yield*E();case"Void":return yield*_(de,ce,B);default:if(!qw(de[Hn]))throw new yPe(q);return yield*Q(de,ce,B)}}const L={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function V(q,oe,B,ie=!0){return`(${[...M(q,oe,B,ie)].join(" && ")})`}function W(q){return`check_${fN.Encode(q)}`}function H(q){const oe=`local_${L.variables.size}`;return L.variables.set(oe,`const ${oe} = ${q}`),oe}function le(q,oe,B,ie,ce=!0){const[de,z]=[`
`,se=>"".padStart(se," ")],ne=fe("value","any"),X=U("boolean"),ae=[...M(oe,B,ie,ce)].map(se=>`${z(4)}${se}`).join(` &&${de}`);return`function ${q}(${ne})${X} {${de}${z(2)}return (${de}${ae}${de}${z(2)})
}`}function fe(q,oe){const B=L.language==="typescript"?`: ${oe}`:"";return`${q}${B}`}function U(q){return L.language==="typescript"?`: ${q}`:""}function ee(q,oe,B){const ie=le("check",q,oe,"value"),ce=fe("value","any"),de=U("boolean"),z=[...L.functions.values()],ne=[...L.variables.values()],X=ld(q.$id)?`return function check(${ce})${de} {
  return ${W(q.$id)}(value)
}`:`return ${ie}`;return[...ne,...z,X].join(`
`)}function re(...q){const oe={language:"javascript"},[B,ie,ce]=q.length===2&&ms(q[1])?[q[0],q[1],oe]:q.length===2&&!ms(q[1])?[q[0],[],q[1]]:q.length===3?[q[0],q[1],q[2]]:q.length===1?[q[0],[],oe]:[null,[],oe];if(L.language=ce.language,L.variables.clear(),L.functions.clear(),L.instances.clear(),!Gr(B))throw new zL(B);for(const de of ie)if(!Gr(de))throw new zL(de);return ee(B,ie)}t.Code=re;function J(q,oe=[]){const B=re(q,oe,{language:"javascript"}),ie=globalThis.Function("kind","format","hash",B),ce=new Map(L.instances);function de(ae,se,te){if(!qw(ae)||!ce.has(se))return!1;const ge=y9(ae),pe=ce.get(se);return ge(pe,te)}function z(ae,se){return m9(ae)?g9(ae)(se):!1}function ne(ae){return d9(ae)}const X=ie(de,z,ne);return new a8(q,oe,X,B)}t.Compile=J})(ZL||(ZL={}));let pN=[],l8=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?l8:pN).push(n=n+t[e])})();function OPe(t){if(t<768)return!1;for(let e=0,n=pN.length;;){let r=e+n>>1;if(t<pN[r])n=r;else if(t>=l8[r])e=r+1;else return!0;if(e==n)return!1}}function UL(t){return t>=127462&&t<=127487}const XL=8205;function bPe(t,e,n=!0,r=!0){return(n?c8:xPe)(t,e,r)}function c8(t,e,n){if(e==t.length)return e;e&&u8(t.charCodeAt(e))&&d8(t.charCodeAt(e-1))&&e--;let r=B$(t,e);for(e+=GL(r);e<t.length;){let i=B$(t,e);if(r==XL||i==XL||n&&OPe(i))e+=GL(i),r=i;else if(UL(i)){let s=0,o=e-2;for(;o>=0&&UL(B$(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function xPe(t,e,n){for(;e>0;){let r=c8(t,e-2,n);if(r<e)return r;e--}return 0}function B$(t,e){let n=t.charCodeAt(e);if(!d8(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return u8(r)?(n-55296<<10)+(r-56320)+65536:n}function u8(t){return t>=56320&&t<57344}function d8(t){return t>=55296&&t<56320}function GL(t){return t<65536?1:2}class gt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Rh(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Vo.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Rh(this,e,n);let r=[];return this.decompose(e,n,r,0),Vo.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new fg(this),s=new fg(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new fg(this,e)}iterRange(e,n=this.length){return new f8(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new h8(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?gt.empty:e.length<=32?new xn(e):Vo.from(xn.split(e,[]))}}class xn extends gt{constructor(e,n=wPe(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new vPe(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new xn(YL(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=rw(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new xn(a,o.length+s.length));else{let l=a.length>>1;r.push(new xn(a.slice(0,l)),new xn(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof xn))return super.replace(e,n,r);[e,n]=Rh(this,e,n);let i=rw(this.text,rw(r.text,YL(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new xn(i,s):Vo.from(xn.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=Rh(this,e,n);let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new xn(r,i)),r=[],i=-1);return i>-1&&n.push(new xn(r,i)),n}}class Vo extends gt{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let c=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!c?r.push(a):a.decompose(e-o,n-o,r,c)}o=l+1}}replace(e,n,r){if([e,n]=Rh(this,e,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new Vo(u,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Rh(this,e,n);let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Vo))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],c=e.children[s];if(l!=c)return r+l.scanIdentical(c,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let h of e)r+=h.lines;if(r<32){let h=[];for(let m of e)m.flatten(h);return new xn(h,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,c=-1,u=[];function d(h){let m;if(h.lines>s&&h instanceof Vo)for(let g of h.children)d(g);else h.lines>o&&(l>o||!l)?(f(),a.push(h)):h instanceof xn&&l&&(m=u[u.length-1])instanceof xn&&h.lines+m.lines<=32?(l+=h.lines,c+=h.length+1,u[u.length-1]=new xn(m.text.concat(h.text),m.length+1+h.length)):(l+h.lines>i&&f(),l+=h.lines,c+=h.length+1,u.push(h))}function f(){l!=0&&(a.push(u.length==1?u[0]:Vo.from(u,c)),c=-1,l=u.length=0)}for(let h of e)d(h);return f(),a.length==1?a[0]:new Vo(a,n)}}gt.empty=new xn([""],0);function wPe(t){let e=-1;for(let n of t)e+=n.length+1;return e}function rw(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function YL(t,e,n){return rw(t,[""],e,n)}class fg{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof xn?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof xn?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof xn){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof xn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class f8{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new fg(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class h8{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(gt.prototype[Symbol.iterator]=function(){return this.iter()},fg.prototype[Symbol.iterator]=f8.prototype[Symbol.iterator]=h8.prototype[Symbol.iterator]=function(){return this});class vPe{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function Rh(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function mr(t,e,n=!0,r=!0){return bPe(t,e,n,r)}function SPe(t){return t>=56320&&t<57344}function kPe(t){return t>=55296&&t<56320}function li(t,e){let n=t.charCodeAt(e);if(!kPe(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return SPe(r)?(n-55296<<10)+(r-56320)+65536:n}function UA(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Bo(t){return t<65536?1:2}const mN=/\r\n?|\n/;var pr=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(pr||(pr={}));class na{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){gN(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new na(e)}composeDesc(e){return this.empty?e:e.empty?this:p8(this,e)}mapDesc(e,n=!1){return e.empty?this:yN(this,e,n)}mapPos(e,n=-1,r=pr.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=i+a;if(l<0){if(c>e)return s+(e-i);s+=a}else{if(r!=pr.Simple&&c>=e&&(r==pr.TrackDel&&i<e&&c>e||r==pr.TrackBefore&&i<e||r==pr.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new na(e)}static create(e){return new na(e)}}class Vn extends na{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return gN(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return yN(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(gt.empty);r.push(o?e.slice(s,s+o):gt.empty)}s+=o}return new Vn(n,r)}compose(e){return this.empty?e:e.empty?this:p8(this,e,!0)}map(e,n=!1){return e.empty?this:yN(this,e,n,!0)}iterChanges(e,n=!1){gN(this,e,n)}get desc(){return na.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new qg(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,l-a);Tr(i,u,-1);let d=s.ins==-1?-1:s.off==0?s.ins:0;Tr(n,u,d),d>0&&vc(r,n,s.text),s.forward(u),a+=u}let c=e[o++];for(;a<c;){if(s.done)break e;let u=Math.min(s.len,c-a);Tr(n,u,-1),Tr(i,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),a+=u}}return{changes:new Vn(n,r),filtered:na.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(u=!1){if(!u&&!i.length)return;o<n&&Tr(i,n-o,-1);let d=new Vn(i,s);a=a?a.compose(d.map(a)):d,i=[],s=[],o=0}function c(u){if(Array.isArray(u))for(let d of u)c(d);else if(u instanceof Vn){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:d,to:f=d,insert:h}=u;if(d>f||d<0||f>n)throw new RangeError(`Invalid change range ${d} to ${f} (in doc of length ${n})`);let m=h?typeof h=="string"?gt.of(h.split(r||mN)):h:gt.empty,g=m.length;if(d==f&&g==0)return;d<o&&l(),d>o&&Tr(i,d-o,-1),Tr(i,f-d,g),vc(s,i,m),o=f}}return c(e),l(!a),a}static empty(e){return new Vn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(gt.empty);r[i]=gt.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new Vn(n,r)}static createSet(e,n){return new Vn(e,n)}}function Tr(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function vc(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(gt.empty);t.push(n)}}function gN(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let c=i,u=s,d=gt.empty;for(;c+=a,u+=l,l&&r&&(d=d.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,c,s,u,d),i=c,s=u}}}function yN(t,e,n,r=!1){let i=[],s=r?[]:null,o=new qg(t),a=new qg(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);Tr(i,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let c=a.len;for(Tr(i,a.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=u&&(Tr(i,0,o.ins),s&&vc(s,i,o.text),l=o.i),o.forward(u),c-=u}a.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(a.ins==-1){let d=Math.min(u,a.len);c+=d,u-=d,a.forward(d)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;Tr(i,c,l<o.i?o.ins:0),s&&l<o.i&&vc(s,i,o.text),l=o.i,o.forward(o.len-u)}else{if(o.done&&a.done)return s?Vn.createSet(i,s):na.create(i);throw new Error("Mismatched change set lengths")}}}function p8(t,e,n=!1){let r=[],i=n?[]:null,s=new qg(t),o=new qg(e);for(let a=!1;;){if(s.done&&o.done)return i?Vn.createSet(r,i):na.create(r);if(s.ins==0)Tr(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)Tr(r,0,o.ins,a),i&&vc(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=r.length;if(s.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;Tr(r,l,u,a),i&&u&&vc(i,r,o.text)}else o.ins==-1?(Tr(r,s.off?0:s.len,l,a),i&&vc(i,r,s.textBit(l))):(Tr(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&vc(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>c),s.forward2(l),o.forward(l)}}}}class qg{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?gt.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?gt.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class zu{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new zu(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Oe.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Oe.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Oe.range(e.anchor,e.head)}static create(e,n,r){return new zu(e,n,r)}}class Oe{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Oe.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Oe([this.main],0)}addRange(e,n=!0){return Oe.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Oe.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Oe(e.ranges.map(n=>zu.fromJSON(n)),e.main)}static single(e,n=e){return new Oe([Oe.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return Oe.normalized(e.slice(),n);r=s.to}return new Oe(e,n)}static cursor(e,n=0,r,i){return zu.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?zu.create(n,e,48|s):zu.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?Oe.range(l,a):Oe.range(a,l))}}return new Oe(e,n)}}function m8(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let XA=0;class Me{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=XA++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Me(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:GA),!!e.static,e.enables)}of(e){return new iw([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new iw(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new iw(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function GA(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class iw{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=XA++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let d of this.dependencies)d=="doc"?l=!0:d=="selection"?c=!0:((n=e[d.id])!==null&&n!==void 0?n:1)&1||u.push(e[d.id]);return{create(d){return d.values[o]=r(d),1},update(d,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||ON(d,u)){let h=r(d);if(a?!HL(h,d.values[o],i):!i(h,d.values[o]))return d.values[o]=h,1}return 0},reconfigure:(d,f)=>{let h,m=f.config.address[s];if(m!=null){let g=Sv(f,m);if(this.dependencies.every(y=>y instanceof Me?f.facet(y)===d.facet(y):y instanceof ir?f.field(y,!1)==d.field(y,!1):!0)||(a?HL(h=r(d),g,i):i(h=r(d),g)))return d.values[o]=g,0}else h=r(d);return d.values[o]=h,1}}}}function HL(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function ON(t,e){let n=!1;for(let r of e)hg(t,r)&1&&(n=!0);return n}function $Pe(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let c=[];for(let u=0;u<r.length;u++){let d=Sv(l,r[u]);if(i[u]==2)for(let f of d)c.push(f);else c.push(d)}return e.combine(c)}return{create(l){for(let c of r)hg(l,c);return l.values[o]=a(l),1},update(l,c){if(!ON(l,s))return 0;let u=a(l);return e.compare(u,l.values[o])?0:(l.values[o]=u,1)},reconfigure(l,c){let u=ON(l,r),d=c.config.facets[e.id],f=c.facet(e);if(d&&!u&&GA(n,d))return l.values[o]=f,0;let h=a(l);return e.compare(h,f)?(l.values[o]=f,0):(l.values[o]=h,1)}}}const JL=Me.define({static:!0});class ir{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new ir(XA++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(JL).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,JL.of({field:this,create:e})]}get extension(){return this}}const Iu={lowest:4,low:3,default:2,high:1,highest:0};function pm(t){return e=>new g8(e,t)}const lu={highest:pm(Iu.highest),high:pm(Iu.high),default:pm(Iu.default),low:pm(Iu.low),lowest:pm(Iu.lowest)};class g8{constructor(e,n){this.inner=e,this.prec=n}}class J1{of(e){return new bN(this,e)}reconfigure(e){return J1.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class bN{constructor(e,n){this.compartment=e,this.inner=n}}class vv{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let f of CPe(e,n,o))f instanceof ir?i.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],c=[];for(let f of i)a[f.id]=c.length<<1,c.push(h=>f.slot(h));let u=r==null?void 0:r.config.facets;for(let f in s){let h=s[f],m=h[0].facet,g=u&&u[f]||[];if(h.every(y=>y.type==0))if(a[m.id]=l.length<<1|1,GA(g,h))l.push(r.facet(m));else{let y=m.combine(h.map(O=>O.value));l.push(r&&m.compare(y,r.facet(m))?r.facet(m):y)}else{for(let y of h)y.type==0?(a[y.id]=l.length<<1|1,l.push(y.value)):(a[y.id]=c.length<<1,c.push(O=>y.dynamicSlot(O)));a[m.id]=c.length<<1,c.push(y=>$Pe(y,m,h))}}let d=c.map(f=>f(a));return new vv(e,o,d,a,l,s)}}function CPe(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let c=r[l].indexOf(o);c>-1&&r[l].splice(c,1),o instanceof bN&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof bN){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;n.set(o.compartment,c),s(c,a)}else if(o instanceof g8)s(o.inner,o.prec);else if(o instanceof ir)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof iw)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,Iu.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(t,Iu.default),r.reduce((o,a)=>o.concat(a))}function hg(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Sv(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const y8=Me.define(),xN=Me.define({combine:t=>t.some(e=>e),static:!0}),O8=Me.define({combine:t=>t.length?t[0]:void 0,static:!0}),b8=Me.define(),x8=Me.define(),w8=Me.define(),v8=Me.define({combine:t=>t.length?t[0]:!1});class ga{constructor(e,n){this.type=e,this.value=n}static define(){return new PPe}}class PPe{of(e){return new ga(this,e)}}class jPe{constructor(e){this.map=e}of(e){return new Ye(this,e)}}class Ye{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Ye(this.type,n)}is(e){return this.type==e}static define(e={}){return new jPe(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}Ye.reconfigure=Ye.define();Ye.appendConfig=Ye.define();class _n{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&m8(r,n.newLength),s.some(a=>a.type==_n.time)||(this.annotations=s.concat(_n.time.of(Date.now())))}static create(e,n,r,i,s,o){return new _n(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(_n.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}_n.time=ga.define();_n.userEvent=ga.define();_n.addToHistory=ga.define();_n.remote=ga.define();function NPe(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function S8(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=Vn.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Ye.mapEffects(t.effects,i).concat(Ye.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function wN(t,e,n){let r=e.selection,i=Xf(e.annotations);return e.userEvent&&(i=i.concat(_n.userEvent.of(e.userEvent))),{changes:e.changes instanceof Vn?e.changes:Vn.of(e.changes||[],n,t.facet(O8)),selection:r&&(r instanceof Oe?r:Oe.single(r.anchor,r.head)),effects:Xf(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function k8(t,e,n){let r=wN(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=S8(r,wN(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=_n.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return _Pe(n?EPe(i):i)}function EPe(t){let e=t.startState,n=!0;for(let i of e.facet(b8)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:NPe(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=Vn.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=_n.create(e,i,t.selection&&t.selection.map(s),Ye.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(x8);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof _n?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof _n?t=s[0]:t=k8(e,Xf(s),!1)}return t}function _Pe(t){let e=t.startState,n=e.facet(w8),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=S8(r,wN(e,s,t.changes.newLength),!0))}return r==t?t:_n.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const TPe=[];function Xf(t){return t==null?TPe:Array.isArray(t)?t:[t]}var Jt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Jt||(Jt={}));const APe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let vN;try{vN=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function RPe(t){if(vN)return vN.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||APe.test(n)))return!0}return!1}function MPe(t){return e=>{if(!/\S/.test(e))return Jt.Space;if(RPe(e))return Jt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Jt.Word;return Jt.Other}}class pt{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)hg(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return hg(this,r),Sv(this,r)}update(...e){return k8(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(J1.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,c)=>i.set(c,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(Ye.reconfigure)?(n=null,r=a.value):a.is(Ye.appendConfig)&&(n=null,r=Xf(r).concat(a.value));let s;n?s=e.startState.values.slice():(n=vv.resolve(r,i,this),s=new pt(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(xN)?e.newSelection:e.newSelection.asSingle();new pt(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Oe.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=Xf(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let f=0;f<a;f++)s[f]=s[f].map(u);let d=i.mapDesc(c,!0);s.push(l.range.map(d)),i=i.compose(u),o=Ye.mapEffects(o,u).concat(Ye.mapEffects(Xf(l.effects),d))}return{changes:i,selection:Oe.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof Vn?e:Vn.of(e,this.doc.length,this.facet(pt.lineSeparator))}toText(e){return gt.of(e.split(this.facet(pt.lineSeparator)||mN))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(hg(this,n),Sv(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof ir&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return pt.create({doc:e.doc,selection:Oe.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=vv.resolve(e.extensions||[],new Map),r=e.doc instanceof gt?e.doc:gt.of((e.doc||"").split(n.staticFacet(pt.lineSeparator)||mN)),i=e.selection?e.selection instanceof Oe?e.selection:Oe.single(e.selection.anchor,e.selection.head):Oe.single(0);return m8(i,r.length),n.staticFacet(xN)||(i=i.asSingle()),new pt(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(pt.tabSize)}get lineBreak(){return this.facet(pt.lineSeparator)||`
`}get readOnly(){return this.facet(v8)}phrase(e,...n){for(let r of this.facet(pt.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(y8))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return MPe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=mr(n,o,!1);if(s(n.slice(l,o))!=Jt.Word)break;o=l}for(;a<i;){let l=mr(n,a);if(s(n.slice(a,l))!=Jt.Word)break;a=l}return o==a?null:Oe.range(o+r,a+r)}}pt.allowMultipleSelections=xN;pt.tabSize=Me.define({combine:t=>t.length?t[0]:4});pt.lineSeparator=O8;pt.readOnly=v8;pt.phrases=Me.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});pt.languageData=y8;pt.changeFilter=b8;pt.transactionFilter=x8;pt.transactionExtender=w8;J1.reconfigure=Ye.define();function ya(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class wd{eq(e){return this==e}range(e,n=e){return SN.create(e,n,this)}}wd.prototype.startSide=wd.prototype.endSide=0;wd.prototype.point=!1;wd.prototype.mapMode=pr.TrackDel;let SN=class $8{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new $8(e,n,r)}};function kN(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class YA{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,d=this.to[l]+e,f,h;if(u==d){let m=n.mapPos(u,c.startSide,c.mapMode);if(m==null||(f=h=m,c.startSide!=c.endSide&&(h=n.mapPos(u,c.endSide),h<f)))continue}else if(f=n.mapPos(u,c.startSide),h=n.mapPos(d,c.endSide),f>h||f==h&&c.startSide>0&&c.endSide<=0)continue;(h-f||c.endSide-c.startSide)<0||(o<0&&(o=f),c.point&&(a=Math.max(a,h-f)),r.push(c),i.push(f-o),s.push(h-o))}return{mapped:r.length?new YA(i,s,r,a):null,pos:o}}}class bt{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new bt(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(kN)),this.isEmpty)return n.length?bt.of(n):this;let a=new C8(this,null,-1).goto(0),l=0,c=[],u=new $l;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let d=n[l++];u.addInner(d.from,d.to,d.value)||c.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(SN.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?bt.empty:this.nextLayer.update({add:c,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:d}=l.map(a,e);u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(d))}}let s=this.nextLayer.map(e);return n.length==0?s:new bt(r,n,s||bt.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Wg.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Wg.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),a=n.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),l=KL(o,a,r),c=new mm(o,l,s),u=new mm(a,l,s);r.iterGaps((d,f,h)=>e3(c,d,u,f,h,i)),r.empty&&r.length==0&&e3(c,0,u,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let s=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),o=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=KL(s,o),l=new mm(s,a,0).goto(r),c=new mm(o,a,0).goto(r);for(;;){if(l.to!=c.to||!$N(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,n,r,i,s=-1){let o=new mm(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let c=Math.min(o.to,r);if(o.point){let u=o.activeForPoint(o.to),d=o.pointFrom<n?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,l);i.point(a,c,o.point,u,d,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>a&&(i.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new $l;for(let i of e instanceof SN?[e]:n?QPe(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return bt.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=bt.empty;i=i.nextLayer)n=new bt(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}bt.empty=new bt([],[],null,-1);function QPe(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(kN(e,r)>0)return t.slice().sort(kN);e=r}return t}bt.empty.nextLayer=bt.empty;class $l{finishChunk(e){this.chunks.push(new YA(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new $l)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(bt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=bt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function KL(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class C8{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Wg{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new C8(o,n,r,s));return i.length==1?i[0]:new Wg(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)q$(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)q$(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),q$(this.heap,0)}}}function q$(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class mm{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Wg.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Tb(this.active,e),Tb(this.activeTo,e),Tb(this.activeRank,e),this.minActive=t3(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;Ab(this.active,n,r),Ab(this.activeTo,n,i),Ab(this.activeRank,n,s),e&&Ab(e,n,this.cursor.from),this.minActive=t3(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Tb(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function e3(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e;for(;;){let c=t.to+l-n.to,u=c||t.endSide-n.endSide,d=u<0?t.to+l:n.to,f=Math.min(d,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&$N(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,f,t.point,n.point):f>a&&!$N(t.active,n.active)&&s.compareRange(a,f,t.active,n.active),d>o)break;(c||t.openEnd!=n.openEnd)&&s.boundChange&&s.boundChange(d),a=d,u<=0&&t.next(),u>=0&&n.next()}}function $N(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Tb(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Ab(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function t3(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Sp(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=mr(t,i));return r}function CN(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=mr(t,i)}return r===!0?-1:t.length}const PN="",n3=typeof Symbol>"u"?"__"+PN:Symbol.for(PN),jN=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),r3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Bc{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let u=[],d=/^@(\w+)\b/.exec(o[0]),f=d&&d[1]=="keyframes";if(d&&a==null)return l.push(o[0]+";");for(let h in a){let m=a[h];if(/&/.test(h))s(h.split(/,\s*/).map(g=>o.map(y=>g.replace(/&/,y))).reduce((g,y)=>g.concat(y)),m,l);else if(m&&typeof m=="object"){if(!d)throw new RangeError("The value of a property ("+h+") should be a primitive value.");s(i(h),m,u,f)}else m!=null&&u.push(h.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+m+";")}(u.length||f)&&l.push((r&&!d&&!c?o.map(r):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=r3[n3]||1;return r3[n3]=e+1,PN+e.toString(36)}static mount(e,n,r){let i=e[jN],s=r&&r.nonce;i?s&&i.setNonce(s):i=new IPe(e,s),i.mount(Array.isArray(n)?n:[n],e)}}let i3=new Map;class IPe{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=i3.get(r);if(s)return e[jN]=s;this.sheet=new i.CSSStyleSheet,i3.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[jN]=this}mount(e,n){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var qc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},zg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},DPe=typeof navigator<"u"&&/Mac/.test(navigator.platform),LPe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var hr=0;hr<10;hr++)qc[48+hr]=qc[96+hr]=String(hr);for(var hr=1;hr<=24;hr++)qc[hr+111]="F"+hr;for(var hr=65;hr<=90;hr++)qc[hr]=String.fromCharCode(hr+32),zg[hr]=String.fromCharCode(hr);for(var W$ in qc)zg.hasOwnProperty(W$)||(zg[W$]=qc[W$]);function FPe(t){var e=DPe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||LPe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?zg:qc)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function Zg(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function NN(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function sw(t,e){if(!e.anchorNode)return!1;try{return NN(t,e.anchorNode)}catch{return!1}}function Mh(t){return t.nodeType==3?Sd(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function pg(t,e,n,r){return n?s3(t,e,n,r,-1)||s3(t,e,n,r,1):!1}function vd(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function kv(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function s3(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:ua(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=vd(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?ua(t):0}else return!1}}function ua(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function fO(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function VPe(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function P8(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function BPe(t,e,n,r,i,s,o,a){let l=t.ownerDocument,c=l.defaultView||window;for(let u=t,d=!1;u&&!d;)if(u.nodeType==1){let f,h=u==l.body,m=1,g=1;if(h)f=VPe(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let b=u.getBoundingClientRect();({scaleX:m,scaleY:g}=P8(u,b)),f={left:b.left,right:b.left+u.clientWidth*m,top:b.top,bottom:b.top+u.clientHeight*g}}let y=0,O=0;if(i=="nearest")e.top<f.top?(O=-(f.top-e.top+o),n>0&&e.bottom>f.bottom+O&&(O=e.bottom-f.bottom+O+o)):e.bottom>f.bottom&&(O=e.bottom-f.bottom+o,n<0&&e.top-O<f.top&&(O=-(f.top+O-e.top+o)));else{let b=e.bottom-e.top,w=f.bottom-f.top;O=(i=="center"&&b<=w?e.top+b/2-w/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-w+o)-f.top}if(r=="nearest"?e.left<f.left?(y=-(f.left-e.left+s),n>0&&e.right>f.right+y&&(y=e.right-f.right+y+s)):e.right>f.right&&(y=e.right-f.right+s,n<0&&e.left<f.left+y&&(y=-(f.left+y-e.left+s))):y=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==a?e.left-s:e.right-(f.right-f.left)+s)-f.left,y||O)if(h)c.scrollBy(y,O);else{let b=0,w=0;if(O){let x=u.scrollTop;u.scrollTop+=O/g,w=(u.scrollTop-x)*g}if(y){let x=u.scrollLeft;u.scrollLeft+=y/m,b=(u.scrollLeft-x)*m}e={left:e.left-b,top:e.top-w,right:e.right-b,bottom:e.bottom-w},b&&Math.abs(b-y)<1&&(r="nearest"),w&&Math.abs(w-O)<1&&(i="nearest")}if(h)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function qPe(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class WPe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?ua(n):0),r,Math.min(e.focusOffset,r?ua(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let ff=null;function j8(t){if(t.setActive)return t.setActive();if(ff)return t.focus(ff);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(ff==null?{get preventScroll(){return ff={preventScroll:!0},!0}}:void 0),!ff){ff=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let o3;function Sd(t,e,n=e){let r=o3||(o3=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Gf(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function zPe(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function N8(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function ZPe(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,ua(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=ua(n))}else{if(n==t)return!0;r=vd(n),n=n.parentNode}}function E8(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function _8(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=ua(n)}else if(n.parentNode&&!kv(n))r=vd(n),n=n.parentNode;else return null}}function T8(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!kv(n))r=vd(n)+1,n=n.parentNode;else return null}}class Mr{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Mr(e.parentNode,vd(e),n)}static after(e,n){return new Mr(e.parentNode,vd(e)+1,n)}}const HA=[];class It{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=It.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=o.dom&&(n.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=a3(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=a3(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=ua(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!It.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let d=this.children[l],f=c+d.length;if(c<e&&f>n)return d.domBoundsAround(e,n,c);if(f>=e&&i==-1&&(i=l,s=c),c>n&&d.dom.parentNode==this.dom){o=l,a=u;break}u=f,c=f+d.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=HA){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new A8(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}It.prototype.breakAfter=0;function a3(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class A8{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function R8(t,e,n,r,i,s,o,a,l){let{children:c}=t,u=c.length?c[e]:null,d=s.length?s[s.length-1]:null,f=d?d.breakAfter:o;if(!(e==r&&u&&!o&&!f&&s.length<2&&u.merge(n,i,s.length?d:null,n==0,a,l))){if(r<c.length){let h=c[r];h&&(i<h.length||h.breakAfter&&(d!=null&&d.breakAfter))?(e==r&&(h=h.split(i),i=0),!f&&d&&h.merge(0,i,d,!0,0,l)?s[s.length-1]=h:((i||h.children.length&&!h.children[0].length)&&h.merge(0,i,null,!1,0,l),s.push(h))):h!=null&&h.breakAfter&&(d?d.breakAfter=1:o=1),r++}for(u&&(u.breakAfter=o,n>0&&(!o&&s.length&&u.merge(n,u.length,s[0],!1,a,0)?u.breakAfter=s.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,a,0),e++));e<r&&s.length;)if(c[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function M8(t,e,n,r,i,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:c,off:u}=o.findPos(e,-1),d=e-n;for(let f of r)d+=f.length;t.length+=d,R8(t,c,u,a,l,r,0,i,s)}let ci=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},EN=typeof document<"u"?document:{documentElement:{style:{}}};const _N=/Edge\/(\d+)/.exec(ci.userAgent),Q8=/MSIE \d/.test(ci.userAgent),TN=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ci.userAgent),K1=!!(Q8||TN||_N),l3=!K1&&/gecko\/(\d+)/i.test(ci.userAgent),z$=!K1&&/Chrome\/(\d+)/.exec(ci.userAgent),c3="webkitFontSmoothing"in EN.documentElement.style,I8=!K1&&/Apple Computer/.test(ci.vendor),u3=I8&&(/Mobile\/\w+/.test(ci.userAgent)||ci.maxTouchPoints>2);var Re={mac:u3||/Mac/.test(ci.platform),windows:/Win/.test(ci.platform),linux:/Linux|X11/.test(ci.platform),ie:K1,ie_version:Q8?EN.documentMode||6:TN?+TN[1]:_N?+_N[1]:0,gecko:l3,gecko_version:l3?+(/Firefox\/(\d+)/.exec(ci.userAgent)||[0,0])[1]:0,chrome:!!z$,chrome_version:z$?+z$[1]:0,ios:u3,android:/Android\b/.test(ci.userAgent),webkit:c3,safari:I8,webkit_version:c3?+(/\bAppleWebKit\/(\d+)/.exec(ci.userAgent)||[0,0])[1]:0,tabSize:EN.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const UPe=256;class io extends It{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof io)||this.length-(n-e)+r.length>UPe||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new io(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Mr(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return XPe(this.dom,e,n)}}class Cl extends It{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(N8(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,s,o){return r&&(!(r instanceof Cl&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(M8(this,e,n,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Cl(this.mark,n,o)}domAtPos(e){return D8(this,e)}coordsAt(e,n){return F8(this,e,n)}}function XPe(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?Re.chrome||Re.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=Sd(t,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return Re.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?fO(l,o<0):l||null}class Sc extends It{static create(e,n,r){return new Sc(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=Sc.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,s,o){return r&&(!(r instanceof Sc)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Sc&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return gt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):gt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Mr.before(this.dom):Mr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return fO(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Qh extends It{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Qh&&e.side==this.side}split(){return new Qh(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Mr.before(this.dom):Mr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return gt.empty}get isHidden(){return!0}}io.prototype.children=Sc.prototype.children=Qh.prototype.children=HA;function D8(t,e){let n=t.dom,{children:r}=t,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new Mr(n,0)}function L8(t,e,n){let r,{children:i}=t;n>0&&e instanceof Cl&&i.length&&(r=i[i.length-1])instanceof Cl&&r.mark.eq(e.mark)?L8(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function F8(t,e,n){let r=null,i=-1,s=null,o=-1;function a(c,u){for(let d=0,f=0;d<c.children.length&&f<=u;d++){let h=c.children[d],m=f+h.length;m>=u&&(h.children.length?a(h,u-f):(!s||s.isHidden&&n>0)&&(m>u||f==m&&h.getSide()>0)?(s=h,o=u-f):(f<u||f==m&&h.getSide()<0&&!h.isHidden)&&(r=h,i=u-f)),f=m}}a(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):GPe(t)}function GPe(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Mh(e);return n[n.length-1]||null}function AN(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const d3=Object.create(null);function $v(t,e,n){if(t==e)return!0;t||(t=d3),e||(e=d3);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function RN(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function YPe(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Oa{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Kr=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Kr||(Kr={}));class qe extends wd{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new hO(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Wc(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=V8(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new Wc(e,r,i,n,e.widget||null,!0)}static line(e){return new pO(e)}static set(e,n=!1){return bt.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}qe.none=bt.empty;class hO extends qe{constructor(e){let{start:n,end:r}=V8(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof hO&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&$v(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}hO.prototype.point=!1;class pO extends qe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof pO&&this.spec.class==e.spec.class&&$v(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}pO.prototype.mapMode=pr.TrackBefore;pO.prototype.point=!0;class Wc extends qe{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?pr.TrackBefore:pr.TrackAfter:pr.TrackDel}get type(){return this.startSide!=this.endSide?Kr.WidgetRange:this.startSide<=0?Kr.WidgetBefore:Kr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Wc&&HPe(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Wc.prototype.point=!0;function V8(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function HPe(t,e){return t==e||!!(t&&e&&t.compare(e))}function ow(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class jn extends It{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,o){if(r){if(!(r instanceof jn))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),M8(this,e,n,r?r.children.slice():[],s,o),!0}split(e){let n=new jn;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){$v(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){L8(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=AN(n,this.attrs||{})),r&&(this.attrs=AN({class:r},this.attrs||{}))}domAtPos(e){return D8(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(N8(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(RN(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&It.get(i)instanceof Cl;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=It.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Re.ios||!this.children.some(s=>s instanceof io))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof io)||/[^ -~]/.test(r.text))return null;let i=Mh(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=F8(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof jn&&this.children.length==0&&e.children.length==0&&$v(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=n){if(s instanceof jn)return s;if(o>n)break}i=o+s.breakAfter}return null}}class fl extends It{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,o){return r&&(!(r instanceof fl)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Mr.before(this.dom):Mr.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new fl(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return HA}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):gt.empty}domBoundsAround(){return null}become(e){return e instanceof fl&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof MN?null:fO(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class MN extends Oa{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class mg{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof fl&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new jn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Rb(new Qh(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof fl)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Rb(new io(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof Wc){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof Wc)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new fl(r.widget||Ih.block,a,r));else{let l=Sc.create(r.widget||Ih.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<n||r.startSide>0),u=!l.isEditable&&(e<n||s>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(d.append(Rb(new Qh(1),i),s),s=i.length+Math.max(0,s-i.length)),d.append(Rb(l,i),s),this.atCursorPos=u,this.pendingBuffer=u?e<n||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let o=new mg(e,n,r,s);return o.openEnd=bt.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Rb(t,e){for(let n of e)t=new Cl(n,[t],t.length);return t}class Ih extends Oa{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Ih.inline=new Ih("span");Ih.block=new Ih("div");var Gt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Gt||(Gt={}));const kd=Gt.LTR,JA=Gt.RTL;function B8(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const JPe=B8("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),KPe=B8("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),QN=Object.create(null),ko=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);QN[e]=n,QN[n]=-e}function q8(t){return t<=247?JPe[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?KPe[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const eje=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class kc{get dir(){return this.level%2?JA:kd}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function W8(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!W8(r.inner,i.inner))return!1}return!0}const Qt=[];function tje(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:n,l=s?256:i;for(let c=o,u=l,d=l;c<a;c++){let f=q8(t.charCodeAt(c));f==512?f=u:f==8&&d==4&&(f=16),Qt[c]=f==4?2:f,f&7&&(d=f),u=f}for(let c=o,u=l,d=l;c<a;c++){let f=Qt[c];if(f==128)c<a-1&&u==Qt[c+1]&&u&24?f=Qt[c]=u:Qt[c]=256;else if(f==64){let h=c+1;for(;h<a&&Qt[h]==64;)h++;let m=c&&u==8||h<n&&Qt[h]==8?d==1?1:8:256;for(let g=c;g<h;g++)Qt[g]=m;c=h-1}else f==8&&d==1&&(Qt[c]=1);u=f,f&7&&(d=f)}}}function nje(t,e,n,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let c=o?r[o-1].to:e,u=o<r.length?r[o].from:n;for(let d=c,f,h,m;d<u;d++)if(h=QN[f=t.charCodeAt(d)])if(h<0){for(let g=a-3;g>=0;g-=3)if(ko[g+1]==-h){let y=ko[g+2],O=y&2?i:y&4?y&1?s:i:0;O&&(Qt[d]=Qt[ko[g]]=O),a=g;break}}else{if(ko.length==189)break;ko[a++]=d,ko[a++]=f,ko[a++]=l}else if((m=Qt[d])==2||m==1){let g=m==i;l=g?0:1;for(let y=a-3;y>=0;y-=3){let O=ko[y+2];if(O&2)break;if(g)ko[y+2]|=2;else{if(O&4)break;ko[y+2]|=4}}}}}function rje(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=o;l<a;){let c=Qt[l];if(c==256){let u=l+1;for(;;)if(u==a){if(i==n.length)break;u=n[i++].to,a=i<n.length?n[i].from:e}else if(Qt[u]==256)u++;else break;let d=s==1,f=(u<e?Qt[u]:r)==1,h=d==f?d?1:2:r;for(let m=u,g=i,y=g?n[g-1].to:t;m>l;)m==y&&(m=n[--g].from,y=g?n[g-1].to:t),Qt[--m]=h;l=u}else s=c,l++}}}function IN(t,e,n,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<n;){let u=!0,d=!1;if(c==s.length||l<s[c].from){let g=Qt[l];g!=a&&(u=!1,d=g==16)}let f=!u&&a==1?[]:null,h=u?r:r+1,m=l;e:for(;;)if(c<s.length&&m==s[c].from){if(d)break e;let g=s[c];if(!u)for(let y=g.to,O=c+1;;){if(y==n)break e;if(O<s.length&&s[O].from==y)y=s[O++].to;else{if(Qt[y]==a)break e;break}}if(c++,f)f.push(g);else{g.from>l&&o.push(new kc(l,g.from,h));let y=g.direction==kd!=!(h%2);DN(t,y?r+1:r,i,g.inner,g.from,g.to,o),l=g.to}m=g.to}else{if(m==n||(u?Qt[m]!=a:Qt[m]==a))break;m++}f?IN(t,l,m,r+1,i,f,o):l<m&&o.push(new kc(l,m,h)),l=m}else for(let l=n,c=s.length;l>e;){let u=!0,d=!1;if(!c||l>s[c-1].to){let g=Qt[l-1];g!=a&&(u=!1,d=g==16)}let f=!u&&a==1?[]:null,h=u?r:r+1,m=l;e:for(;;)if(c&&m==s[c-1].to){if(d)break e;let g=s[--c];if(!u)for(let y=g.from,O=c;;){if(y==e)break e;if(O&&s[O-1].to==y)y=s[--O].from;else{if(Qt[y-1]==a)break e;break}}if(f)f.push(g);else{g.to<l&&o.push(new kc(g.to,l,h));let y=g.direction==kd!=!(h%2);DN(t,y?r+1:r,i,g.inner,g.from,g.to,o),l=g.from}m=g.from}else{if(m==e||(u?Qt[m-1]!=a:Qt[m-1]==a))break;m--}f?IN(t,m,l,r+1,i,f,o):m<l&&o.push(new kc(m,l,h)),l=m}}function DN(t,e,n,r,i,s,o){let a=e%2?2:1;tje(t,i,s,r,a),nje(t,i,s,r,a),rje(i,s,r,a),IN(t,i,s,e,n,r,o)}function ije(t,e,n){if(!t)return[new kc(0,0,e==JA?1:0)];if(e==kd&&!n.length&&!eje.test(t))return z8(t.length);if(n.length)for(;t.length>Qt.length;)Qt[Qt.length]=256;let r=[],i=e==kd?0:1;return DN(t,i,i,n,0,t.length,r),r}function z8(t){return[new kc(0,t,0)]}let Z8="";function sje(t,e,n,r,i){var s;let o=r.head-t.from,a=kc.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],c=l.side(i,n);if(o==c){let f=a+=i?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],o=l.side(!i,n),c=l.side(i,n)}let u=mr(t.text,o,l.forward(i,n));(u<l.from||u>l.to)&&(u=c),Z8=t.text.slice(Math.min(o,u),Math.max(o,u));let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d&&u==c&&d.level+(i?0:1)<l.level?Oe.cursor(d.side(!i,n)+t.from,d.forward(i,n)?1:-1,d.level):Oe.cursor(u+t.from,l.forward(i,n)?-1:1,l.level)}function oje(t,e,n){for(let r=e;r<n;r++){let i=q8(t.charCodeAt(r));if(i==1)return kd;if(i==2||i==4)return JA}return kd}const U8=Me.define(),X8=Me.define(),G8=Me.define(),Y8=Me.define(),LN=Me.define(),H8=Me.define(),J8=Me.define(),KA=Me.define(),eR=Me.define(),K8=Me.define({combine:t=>t.some(e=>e)}),eX=Me.define({combine:t=>t.some(e=>e)}),tX=Me.define();class Yf{constructor(e,n="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Yf(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Yf(Oe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Mb=Ye.define({map:(t,e)=>t.map(e)}),nX=Ye.define();function hi(t,e,n){let r=t.facet(Y8);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const nl=Me.define({combine:t=>t.length?t[0]:!0});let aje=0;const Wm=Me.define();class vn{constructor(e,n,r,i,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.extension=s(this)}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=n||{};return new vn(aje++,e,r,i,a=>{let l=[Wm.of(a)];return o&&l.push(Ug.of(c=>{let u=c.plugin(a);return u?o(u):qe.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return vn.define(r=>new e(r),n)}}class Z${constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(hi(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){hi(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){hi(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const rX=Me.define(),tR=Me.define(),Ug=Me.define(),iX=Me.define(),nR=Me.define(),sX=Me.define();function f3(t,e){let n=t.state.facet(sX);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(t):s),i=[];return bt.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,u=o-e.from,d=i;for(let f=a.length-1;f>=0;f--,l--){let h=a[f].spec.bidiIsolate,m;if(h==null&&(h=oje(e.text,c,u)),l>0&&d.length&&(m=d[d.length-1]).to==c&&m.direction==h)m.to=u,d=m.inner;else{let g={from:c,to:u,direction:h,inner:[]};d.push(g),d=g.inner}}}}),i}const oX=Me.define();function rR(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(oX)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const zm=Me.define();class us{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new us(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],c=o-a,u=l?l.fromB:1e9;for(;s<n.length&&n[s]<u;){let d=n[s],f=n[s+1],h=Math.max(a,d),m=Math.min(u,f);if(h<=m&&new us(h+c,m+c,h,m).addToSet(r),f>u)break;s+=2}if(!l)return r;new us(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class Cv{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Vn.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new us(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new Cv(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class h3 extends It{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=qe.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new jn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new us(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!pje(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?cje(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;r=new us(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Re.ie||Re.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=fje(o,a,e.changes);return r=us.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Re.chrome||Re.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof fl&&o.widget instanceof MN&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:d}=a,f,h,m,g;if(r&&r.range.fromB<d&&r.range.toB>u){let x=mg.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),v=mg.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);h=x.breakAtStart,m=x.openStart,g=v.openEnd;let k=this.compositionView(r);v.breakAtStart?k.breakAfter=1:v.content.length&&k.merge(k.length,k.length,v.content[0],!1,v.openStart,0)&&(k.breakAfter=v.content[0].breakAfter,v.content.shift()),x.content.length&&k.merge(0,0,x.content[x.content.length-1],!0,0,x.openEnd)&&x.content.pop(),f=x.content.concat(k).concat(v.content)}else({content:f,breakAtStart:h,openStart:m,openEnd:g}=mg.build(this.view.state.doc,u,d,this.decorations,this.dynamicDecorationMap));let{i:y,off:O}=s.findPos(c,1),{i:b,off:w}=s.findPos(l,-1);R8(this,b,w,y,O,f,h,m,g)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(nX)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new io(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new Cl(i,[n],n.length);let r=new jn;return r.append(n,0),r}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=It.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],n(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(nl)||this.dom.tabIndex>-1)&&sw(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Re.gecko&&a.empty&&!this.hasComposition&&lje(l)){let d=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=c=new Mr(d,0),o=!0}let u=this.view.observer.selectionRange;(o||!u.focusNode||(!pg(l.node,l.offset,u.anchorNode,u.anchorOffset)||!pg(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{Re.android&&Re.chrome&&this.dom.contains(u.focusNode)&&hje(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=Zg(this.view.root);if(d)if(a.empty){if(Re.gecko){let f=uje(l.node,l.offset);if(f&&f!=3){let h=(f==1?_8:T8)(l.node,l.offset);h&&(l=new Mr(h.node,h.offset))}}d.collapse(l.node,l.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(c.node,c.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),f.setEnd(c.node,c.offset),f.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(f)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Mr(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new Mr(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&pg(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=Zg(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=jn.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);r.collapse(u.node,u.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=n.from&&r.collapse(i,s)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let s=It.get(n.childNodes[i]);s instanceof jn&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=It.get(n.childNodes[i]);s instanceof jn&&(r=s.domAtPos(s.length))}return r?new Mr(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=It.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof jn)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof jn&&!(r instanceof jn&&n>=0)))r=a,i=c;else if(r&&c==e&&l==e&&a instanceof fl&&Math.abs(n)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=c}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof jn))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof io))return null;let s=mr(i.text,r);if(s==r)return null;let o=Sd(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Gt.LTR;for(let c=0,u=0;u<this.children.length;u++){let d=this.children[u],f=c+d.length;if(f>i)break;if(c>=r){let h=d.dom.getBoundingClientRect();if(n.push(h.height),o){let m=d.dom.lastChild,g=m?Mh(m):[];if(g.length){let y=g[g.length-1],O=l?y.right-h.left:h.right-y.left;O>a&&(a=O,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+d.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Gt.RTL:Gt.LTR}measureTextSize(){for(let s of this.children)if(s instanceof jn){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Mh(e.firstChild)[0];n=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new A8(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(qe.replace({widget:new MN(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return qe.set(e)}updateDeco(){let e=1,n=this.view.state.facet(Ug).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(iX).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(bt.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(tX))try{if(c(this.view,e.range,e))return!0}catch(u){hi(this.view.state,u,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=rR(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;BPe(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Gt.LTR)}}function lje(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function aX(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=_8(n.focusNode,n.focusOffset),i=T8(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=It.get(i.node);if(!a||a instanceof io&&a.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let l=It.get(r.node);!l||l instanceof io&&l.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function cje(t,e,n){let r=aX(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,c=new us(l.mapPos(s),l.mapPos(o),s,o),u=[];for(let d=i.parentNode;;d=d.parentNode){let f=It.get(d);if(f instanceof Cl)u.push({node:d,deco:f.mark});else{if(f instanceof jn||d.nodeName=="DIV"&&d.parentNode==t.contentDOM)return{range:c,text:i,marks:u,line:d};if(d!=t.contentDOM)u.push({node:d,deco:new hO({inclusive:!0,attributes:YPe(d),tagName:d.tagName.toLowerCase()})});else return null}}}function uje(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let dje=class{constructor(){this.changes=[]}compareRange(e,n){ow(e,n,this.changes)}comparePoint(e,n){ow(e,n,this.changes)}boundChange(e){ow(e,e,this.changes)}};function fje(t,e,n){let r=new dje;return bt.compare(t,e,n,r),r.changes}function hje(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function pje(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function mje(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return Oe.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=mr(i.text,s,!1):a=mr(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let c=mr(i.text,o,!1);if(r(i.text.slice(c,o))!=l)break;o=c}for(;a<i.length;){let c=mr(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return Oe.range(o+i.from,a+i.from)}function gje(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function yje(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function U$(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function p3(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function m3(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function FN(t,e,n){let r,i,s,o,a=!1,l,c,u,d;for(let m=t.firstChild;m;m=m.nextSibling){let g=Mh(m);for(let y=0;y<g.length;y++){let O=g[y];i&&U$(i,O)&&(O=p3(m3(O,i.bottom),i.top));let b=gje(e,O),w=yje(n,O);if(b==0&&w==0)return m.nodeType==3?g3(m,e,n):FN(m,e,n);if(!r||o>w||o==w&&s>b){r=m,i=O,s=b,o=w;let x=w?n<O.top?-1:1:b?e<O.left?-1:1:0;a=!x||(x>0?y<g.length-1:y>0)}b==0?n>O.bottom&&(!u||u.bottom<O.bottom)?(l=m,u=O):n<O.top&&(!d||d.top>O.top)&&(c=m,d=O):u&&U$(u,O)?u=m3(u,O.bottom):d&&U$(d,O)&&(d=p3(d,O.top))}}if(u&&u.bottom>=n?(r=l,i=u):d&&d.top<=n&&(r=c,i=d),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return g3(r,f,n);if(a&&r.contentEditable!="false")return FN(r,f,n);let h=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:h}}function g3(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=Sd(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let d=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&d<s){let f=e>=(u.left+u.right)/2,h=f;if((Re.chrome||Re.gecko)&&Sd(t,a).getBoundingClientRect().left==u.right&&(h=!f),d<=0)return{node:t,offset:a+(h?1:0)};i=a+(h?1:0),s=d}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function lX(t,e,n,r=-1){var i,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:u,y:d}=e,f=d-a;if(f<0)return 0;if(f>c)return t.state.doc.length;for(let x=t.viewState.heightOracle.textHeight/2,v=!1;l=t.elementAtHeight(f),l.type!=Kr.Text;)for(;f=r>0?l.bottom+x:l.top-x,!(f>=0&&f<=c);){if(v)return n?null:0;v=!0,r=-r}d=a+f;let h=l.from;if(h<t.viewport.from)return t.viewport.from==0?0:n?null:y3(t,o,l,u,d);if(h>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:y3(t,o,l,u,d);let m=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:m,y=g.elementFromPoint(u,d);y&&!t.contentDOM.contains(y)&&(y=null),y||(u=Math.max(o.left+1,Math.min(o.right-1,u)),y=g.elementFromPoint(u,d),y&&!t.contentDOM.contains(y)&&(y=null));let O,b=-1;if(y&&((i=t.docView.nearest(y))===null||i===void 0?void 0:i.isEditable)!=!1){if(m.caretPositionFromPoint){let x=m.caretPositionFromPoint(u,d);x&&({offsetNode:O,offset:b}=x)}else if(m.caretRangeFromPoint){let x=m.caretRangeFromPoint(u,d);x&&({startContainer:O,startOffset:b}=x,(!t.contentDOM.contains(O)||Re.safari&&Oje(O,b,u)||Re.chrome&&bje(O,b,u))&&(O=void 0))}O&&(b=Math.min(ua(O),b))}if(!O||!t.docView.dom.contains(O)){let x=jn.find(t.docView,h);if(!x)return f>l.top+l.height/2?l.to:l.from;({node:O,offset:b}=FN(x.dom,u,d))}let w=t.docView.nearest(O);if(!w)return null;if(w.isWidget&&((s=w.dom)===null||s===void 0?void 0:s.nodeType)==1){let x=w.dom.getBoundingClientRect();return e.y<x.top||e.y<=x.bottom&&e.x<=(x.left+x.right)/2?w.posAtStart:w.posAtEnd}else return w.localPosFromDOM(O,b)+w.posAtStart}function y3(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+CN(o,s,t.state.tabSize)}function Oje(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Sd(t,r-1,r).getBoundingClientRect().left>n}function bje(t,e,n){if(e!=0)return!1;for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=t.nodeType==1?t.getBoundingClientRect():Sd(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function VN(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==Kr.Text))return r}return n}function xje(t,e,n,r){let i=VN(t,e.head),s=!r||i.type!=Kr.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==Gt.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Oe.cursor(l,n?-1:1)}return Oe.cursor(n?i.to:i.from,n?-1:1)}function O3(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let c=sje(i,s,o,a,n),u=Z8;if(!c){if(i.number==(n?t.state.doc.lines:1))return a;u=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),c=t.visualLineSide(i,!n)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function wje(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==Jt.Space&&(i=o),i==o}}function vje(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return Oe.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i,e.assoc||-1),u=t.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let h=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-h.from))),a=(s<0?h.top:h.bottom)+u}let d=l.left+o,f=r??t.viewState.heightOracle.textHeight>>1;for(let h=0;;h+=10){let m=a+(f+h)*s,g=lX(t,{x:d,y:m},!1,s);if(m<l.top||m>l.bottom||(s<0?g<i:g>i)){let y=t.docView.coordsForChar(g),O=!y||m<y.top?-1:1;return Oe.cursor(g,O,void 0,o)}}}function aw(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||n||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function X$(t,e,n){let r=aw(t.state.facet(nR).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:Oe.cursor(r,r<n.from?1:-1)}const Zm="";class Sje{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(pt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Zm}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==n)break;let a=It.get(i),l=It.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:kv(i))||kv(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let n=It.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(kje(e,r.node,r.offset)?n:0))}}function kje(t,e,n){for(;;){if(!e||n<ua(e))return!1;if(e==t)return!0;n=vd(e)+1,e=e.parentNode}}class b3{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class $je{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=s||o?[]:jje(e),l=new Sje(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Nje(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!NN(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!NN(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((Re.ios||Re.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let d=Math.min(l,c),f=Math.max(l,c),h=u.from-d,m=u.to-f;(h==0||h==1||d==0)&&(m==0||m==-1||f==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=Oe.single(c,l)}}}function cX(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,c=null;(s===8||Re.android&&e.text.length<a-o)&&(l=i.to,c="end");let u=Pje(t.state.doc.sliceString(o,a,Zm),e.text,l-o,c);u&&(Re.chrome&&s==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==Zm+Zm&&u.toB--,n={from:o+u.from,to:o+u.toA,insert:gt.of(e.text.slice(u.from,u.toB).split(Zm))})}else r&&(!t.hasFocus&&t.state.facet(nl)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(Re.mac||Re.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Oe.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:gt.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:Re.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Oe.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:gt.of([" "])}),n)return iR(t,n,r,s);if(r&&!r.main.eq(i)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function iR(t,e,n,r=-1){if(Re.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(Re.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Gf(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Gf(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Gf(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=Cje(t,e,n));return t.state.facet(H8).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function Cje(t,e,n){let r,i=t.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=s.from<e.from?i.sliceDoc(s.from,e.from):"",l=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=i.changes(e),l=n&&n.main.to<=a.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=t.state.sliceDoc(e.from,e.to),u,d=n&&aX(t,n.main.head);if(d){let m=e.insert.length-(e.to-e.from);u={from:d.from,to:d.to-m}}else u=t.state.doc.lineAt(s.head);let f=s.to-e.to,h=s.to-s.from;r=i.changeByRange(m=>{if(m.from==s.from&&m.to==s.to)return{changes:a,range:l||m.map(a)};let g=m.to-f,y=g-c.length;if(m.to-m.from!=h||t.state.sliceDoc(y,g)!=c||m.to>=u.from&&m.from<=u.to)return{range:m};let O=i.changes({from:y,to:g,insert:e.insert}),b=m.to-s.to;return{changes:O,range:l?Oe.range(Math.max(0,l.anchor+b),Math.max(0,l.head+b)):m.map(O)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function Pje(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function jje(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new b3(n,r)),(i!=n||s!=r)&&e.push(new b3(i,s))),e}function Nje(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Oe.single(n+e,r+e):null}class Eje{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Re.safari&&e.contentDOM.addEventListener("input",()=>null),Re.gecko&&Zje(e.contentDOM.ownerDocument)}handleEvent(e){!Dje(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=_je(e),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&dX.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Re.android&&Re.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return Re.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=uX.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||Tje.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Gf(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Re.safari&&!Re.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function x3(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){hi(n.state,i)}}}function _je(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec;if(i&&i.domEventHandlers)for(let s in i.domEventHandlers){let o=i.domEventHandlers[s];o&&n(s).handlers.push(x3(r.value,o))}if(i&&i.domEventObservers)for(let s in i.domEventObservers){let o=i.domEventObservers[s];o&&n(s).observers.push(x3(r.value,o))}}for(let r in so)n(r).handlers.push(so[r]);for(let r in bs)n(r).observers.push(bs[r]);return e}const uX=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Tje="dthko",dX=[16,17,18,20,91,92,224,225],Qb=6;function Ib(t){return Math.max(0,t)*.7+8}function Aje(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class Rje{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=qPe(e.contentDOM),this.atoms=e.state.facet(nR).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(pt.allowMultipleSelections)&&Mje(e,n),this.dragging=Ije(e,n)&&pX(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Aje(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=rR(this.view);e.clientX-l.left<=i+Qb?n=-Ib(i-e.clientX):e.clientX+l.right>=o-Qb&&(n=Ib(e.clientX-o)),e.clientY-l.top<=s+Qb?r=-Ib(s-e.clientY):e.clientY+l.bottom>=a-Qb&&(r=Ib(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=aw(this.atoms,i.from,0);o!=i.from&&(s=Oe.cursor(o,-1))}else{let o=aw(this.atoms,i.from,-1),a=aw(this.atoms,i.to,1);(o!=i.from||a!=i.to)&&(s=Oe.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?Oe.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Mje(t,e){let n=t.state.facet(U8);return n.length?n[0](e):Re.mac?e.metaKey:e.ctrlKey}function Qje(t,e){let n=t.state.facet(X8);return n.length?n[0](e):Re.mac?!e.altKey:!e.ctrlKey}function Ije(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=Zg(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function Dje(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=It.get(n))&&r.ignoreEvent(e))return!1;return!0}const so=Object.create(null),bs=Object.create(null),fX=Re.ie&&Re.ie_version<15||Re.ios&&Re.webkit_version<604;function Lje(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),hX(t,n.value)},50)}function eS(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function hX(t,e){e=eS(t.state,KA,e);let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(BN!=null&&n.selection.ranges.every(l=>l.empty)&&BN==s.toString()){let l=-1;r=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let d=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:d},range:Oe.cursor(c.from+d.length)}})}else o?r=n.changeByRange(l=>{let c=s.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Oe.cursor(l.from+c.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}bs.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};so.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);bs.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};bs.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};so.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(G8))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=Bje(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new Rje(t,e,n,r)),r&&t.observer.ignore(()=>{j8(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function w3(t,e,n,r){if(r==1)return Oe.cursor(e,n);if(r==2)return mje(t.state,e,n);{let i=jn.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,Oe.range(o,a)}}let v3=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function Fje(t,e,n,r){let i=jn.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&v3(n,r,o))return-1;let a=i.coordsAt(s,1);return a&&v3(n,r,a)?1:o&&o.bottom>=r?-1:1}function S3(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:Fje(t,n,e.clientX,e.clientY)}}const Vje=Re.ie&&Re.ie_version<=11;let k3=null,$3=0,C3=0;function pX(t){if(!Vje)return t.detail;let e=k3,n=C3;return k3=t,C3=Date.now(),$3=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?($3+1)%3:1}function Bje(t,e){let n=S3(t,e),r=pX(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=S3(t,s),c,u=w3(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){let d=w3(t,n.pos,n.bias,r),f=Math.min(d.from,u.from),h=Math.max(d.to,u.to);u=f<u.from?Oe.range(f,h):Oe.range(h,f)}return o?i.replaceRange(i.main.extend(u.from,u.to)):a&&r==1&&i.ranges.length>1&&(c=qje(i,l.pos))?c:a?i.addRange(u):Oe.create([u])}}}function qje(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return Oe.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}so.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=n.to||o<=n.from)&&(n=Oe.range(s,o))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",eS(t.state,eR,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};so.dragend=t=>(t.inputState.draggedContent=null,!1);function P3(t,e,n,r){if(n=eS(t.state,KA,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&Qje(t,e)?{from:s.from,to:s.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}so.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&P3(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return P3(t,e,r,!0),!0}return!1};so.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=fX?null:e.clipboardData;return n?(hX(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(Lje(t),!1)};function Wje(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function zje(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:eS(t,eR,e.join(t.lineBreak)),ranges:n,linewise:r}}let BN=null;so.copy=so.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=zje(t.state);if(!n&&!i)return!1;BN=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=fX?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(Wje(t,n),!1)};const mX=ga.define();function gX(t,e){let n=[];for(let r of t.facet(J8)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:mX.of(!0)}):null}function yX(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=gX(t.state,e);n?t.dispatch(n):t.update([])}},10)}bs.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),yX(t)};bs.blur=t=>{t.observer.clearSelectionRange(),yX(t)};bs.compositionstart=bs.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};bs.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Re.chrome&&Re.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};bs.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};so.beforeinput=(t,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),c=t.posAtDOM(a.endContainer,a.endOffset);return iR(t,{from:l,to:c,insert:t.state.toText(s)},null),!0}}let i;if(Re.chrome&&Re.android&&(i=uX.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Re.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Re.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>bs.compositionend(t,e),20),!1};const j3=new Set;function Zje(t){j3.has(t)||(j3.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const N3=["pre-wrap","normal","pre-line","break-spaces"];let Dh=!1;function E3(){Dh=!1}class Uje{constructor(e){this.lineWrapping=e,this.doc=gt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return N3.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,o){let a=N3.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let u=o[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class Xje{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class qo{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Kr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Wc?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new qo(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Ut=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Ut||(Ut={}));const lw=.001;class ei{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>lw&&(Dh=!0),this.height=e)}replace(e,n,r){return ei.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:d}=i[a],f=s.lineAt(l,Ut.ByPosNoHeight,r.setDoc(n),0,0),h=f.to>=c?f:s.lineAt(c,Ut.ByPosNoHeight,r,0,0);for(d+=h.to-c,c=h.to;a>0&&f.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,Ut.ByPosNoHeight,r,0,0));u+=f.from-l,l=f.from;let m=sR.build(r.setDoc(o),e,u,d);s=Pv(s,s.replace(l,c,m))}return s.updateHeight(r,0)}static empty(){return new ji(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new Gje(ei.of(e.slice(0,n)),o,ei.of(e.slice(r)))}}function Pv(t,e){return t==e?t:(t.constructor!=e.constructor&&(Dh=!0),e)}ei.prototype.size=1;class OX extends ei{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new qo(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ji extends OX{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new qo(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof ji||i instanceof dr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof dr?i=new ji(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):ei.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class dr extends ei{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),u=n.doc.lineAt(c),d=a+u.length*l,f=Math.max(r,e-d/2);return new qo(u.from,u.length,f,d,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:u,length:d}=n.doc.line(s+c);return new qo(u,d,r+a*c,a,0)}}lineAt(e,n,r,i,s){if(n==Ut.ByHeight)return this.blockAt(e,r,i,s);if(n==Ut.ByPosNoHeight){let{from:h,to:m}=r.doc.lineAt(e);return new qo(h,m-h,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),c=r.doc.lineAt(e),u=a+c.length*l,d=c.number-o,f=i+a*d+l*(c.from-s-d);return new qo(c.from,c.length,Math.max(i,Math.min(f,i+this.height-u)),u,0)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,s);for(let u=e,d=i;u<=n;){let f=r.doc.lineAt(u);if(u==e){let m=f.number-a;d+=l*m+c*(e-s-m)}let h=l+c*f.length;o(new qo(f.from,f.length,d,h,0)),d+=h,u=f.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof dr?r[r.length-1]=new dr(s.length+i):r.push(null,new dr(i-1))}if(e>0){let s=r[0];s instanceof dr?r[0]=new dr(e+s.length):r.unshift(new dr(e-1),null)}return ei.of(r)}decomposeLeft(e,n){n.push(new dr(e-1),null)}decomposeRight(e,n){n.push(null,new dr(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new dr(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let u=e.doc.lineAt(a).length;o.length&&o.push(null);let d=i.heights[i.index++];l==-1?l=d:Math.abs(d-l)>=lw&&(l=-2);let f=new ji(u,d);f.outdated=!1,o.push(f),a+=u+1}a<=s&&o.push(null,new dr(s-a).updateHeight(e,a));let c=ei.of(o);return(l<0||Math.abs(c.height-this.height)>=lw||Math.abs(l-this.heightMetrics(e,n).perLine)>=lw)&&(Dh=!0),Pv(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Gje extends ei{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==Ut.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=n==Ut.ByPosNoHeight?Ut.ByPosNoHeight:Ut.ByPos;return l?c.join(this.right.lineAt(a,u,r,o,a)):this.left.lineAt(a,u,r,i,s).join(c)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let c=this.lineAt(l,Ut.ByPos,r,i,s);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,s,o),c.to>=e&&c.from<=n&&o(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&_3(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),_3(s,a)}return ei.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?ei.of(this.break?[e,null,n]:[e,n]):(this.left=Pv(this.left,e),this.right=Pv(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function _3(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof dr&&(r=t[e+1])instanceof dr&&t.splice(e-1,3,new dr(n.length+1+r.length))}const Yje=5;class sR{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ji?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ji(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new OX(o,i,r)):(o||s||i>=Yje)&&this.addLineDeco(i,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ji(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new dr(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ji)return e;let n=new ji(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof ji)&&!this.isCovered?this.nodes.push(new ji(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof ji&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new sR(r,e);return bt.spans(n,r,i,s,0),s.finish(r)}}function Hje(t,e,n){let r=new Jje;return bt.compare(t,e,n,r,0),r.changes}class Jje{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&ow(e,n,this.changes,5)}}function Kje(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,d=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&d.overflow!="visible"){let f=u.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=Math.min(c==t.parentNode?i.innerHeight:l,f.bottom)}c=d.position=="absolute"||d.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function eNe(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function tNe(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class G${constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,n){return qe.replace({widget:new nNe(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class nNe extends Oa{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class T3{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=A3,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Gt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(tR).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Uje(n),this.stateDeco=e.facet(Ug).filter(r=>typeof r!="function"),this.heightMap=ei.empty().applyChanges(this.stateDeco,gt.empty,this.heightOracle.setDoc(e.doc),[new us(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=qe.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new Db(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?A3:new oR(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Um(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Ug).filter(u=>typeof u!="function");let i=e.changedRanges,s=us.extendWithRanges(i,Hje(r,this.stateDeco,e?e.changes:Vn.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);E3(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||Dh)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(eX)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Gt.RTL:Gt.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:x,scaleY:v}=P8(n,a);(x>.005&&Math.abs(this.scaleX-x)>.005||v>.005&&Math.abs(this.scaleY-v)>.005)&&(this.scaleX=x,this.scaleY=v,c|=16,o=l=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=f)&&(this.paddingTop=d,this.paddingBottom=f,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let h=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=E8(e.scrollDOM);let m=(this.printing?tNe:Kje)(n,this.paddingTop),g=m.top-this.pixelViewport.top,y=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let O=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(O!=this.inView&&(this.inView=O,O&&(l=!0)),!this.inView&&!this.scrollTarget&&!eNe(e.dom))return 0;let b=a.width;if((this.contentDOMWidth!=b||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let x=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(x)&&(o=!0),o||i.lineWrapping&&Math.abs(b-this.contentDOMWidth)>i.charWidth){let{lineHeight:v,charWidth:k,textHeight:$}=e.docView.measureTextSize();o=v>0&&i.refresh(s,v,k,$,b/k,x),o&&(e.docView.minWidth=0,c|=16)}g>0&&y>0?u=Math.max(g,y):g<0&&y<0&&(u=Math.min(g,y)),E3();for(let v of this.viewports){let k=v.from==this.viewport.from?x:e.docView.measureVisibleLineHeights(v);this.heightMap=(o?ei.empty().applyChanges(this.stateDeco,gt.empty,this.heightOracle,[new us(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new Xje(v.from,k))}Dh&&(c|=2)}let w=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return w&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||w)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new Db(i.lineAt(o-r*1e3,Ut.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,Ut.ByHeight,s,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(c,Ut.ByPos,s,0,0),f;n.y=="center"?f=(d.top+d.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?f=d.top:f=d.bottom-u,l=new Db(i.lineAt(f-1e3/2,Ut.ByHeight,s,0,0).from,i.lineAt(f+u+1e3/2,Ut.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Db(this.heightMap.lineAt(r,Ut.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Ut.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Ut.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,Ut.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new G$(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=Gt.LTR&&!r)return[];let a=[],l=(u,d,f,h)=>{if(d-u<s)return;let m=this.state.selection.main,g=[m.from];m.empty||g.push(m.to);for(let O of g)if(O>u&&O<d){l(u,O-10,f,h),l(O+10,d,f,h);return}let y=iNe(e,O=>O.from>=f.from&&O.to<=f.to&&Math.abs(O.from-u)<s&&Math.abs(O.to-d)<s&&!g.some(b=>O.from<b&&O.to>b));if(!y){if(d<f.to&&n&&r&&n.visibleRanges.some(w=>w.from<=d&&w.to>=d)){let w=n.moveToLineBoundary(Oe.cursor(d),!1,!0).head;w>u&&(d=w)}let O=this.gapSize(f,u,d,h),b=r||O<2e6?O:2e6;y=new G$(u,d,O,b)}a.push(y)},c=u=>{if(u.length<o||u.type!=Kr.Text)return;let d=rNe(u.from,u.to,this.stateDeco);if(d.total<o)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,h,m;if(r){let g=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,y,O;if(f!=null){let b=Fb(d,f),w=((this.visibleBottom-this.visibleTop)/2+g)/u.height;y=b-w,O=b+w}else y=(this.visibleTop-u.top-g)/u.height,O=(this.visibleBottom-u.top+g)/u.height;h=Lb(d,y),m=Lb(d,O)}else{let g=d.total*this.heightOracle.charWidth,y=i*this.heightOracle.charWidth,O=0;if(g>2e6)for(let k of e)k.from>=u.from&&k.from<u.to&&k.size!=k.displaySize&&k.from*this.heightOracle.charWidth+O<this.pixelViewport.left&&(O=k.size-k.displaySize);let b=this.pixelViewport.left+O,w=this.pixelViewport.right+O,x,v;if(f!=null){let k=Fb(d,f),$=((w-b)/2+y)/g;x=k-$,v=k+$}else x=(b-y)/g,v=(w+y)/g;h=Lb(d,x),m=Lb(d,v)}h>u.from&&l(u.from,h,u,d),m<u.to&&l(m,u.to,u,d)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,n,r,i){let s=Fb(i,r)-Fb(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){G$.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=qe.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];bt.spans(n,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Um(this.heightMap.lineAt(e,Ut.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||Um(this.heightMap.lineAt(this.scaler.fromDOM(e),Ut.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Um(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let Db=class{constructor(e,n){this.from=e,this.to=n}};function rNe(t,e,n){let r=[],i=t,s=0;return bt.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function Lb({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function Fb(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function iNe(t,e){for(let n of t)if(e(n))return n}const A3={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class oR{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let c=n.lineAt(a,Ut.ByPos,e,0,0).top,u=n.lineAt(l,Ut.ByPos,e,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof oR?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function Um(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new qo(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>Um(i,e)):t._content)}const Vb=Me.define({combine:t=>t.join(" ")}),qN=Me.define({combine:t=>t.indexOf(!0)>-1}),WN=Bc.newName(),bX=Bc.newName(),xX=Bc.newName(),wX={"&light":"."+bX,"&dark":"."+xX};function zN(t,e,n){return new Bc(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const sNe=zN("."+WN,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},wX),oNe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Y$=Re.ie&&Re.ie_version<=11;class aNe{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new WPe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(Re.ie&&Re.ie_version<=11||Re.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Re.chrome&&Re.chrome_version<126)&&(this.editContext=new cNe(e),e.state.facet(nl)&&(e.contentDOM.editContext=this.editContext.editContext)),Y$&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(nl)?r.root.activeElement!=this.dom:!sw(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Re.ie&&Re.ie_version<=11||Re.android&&Re.chrome)&&!r.state.selection.main.empty&&i.focusNode&&pg(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=Zg(e.root);if(!n)return!1;let r=Re.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&lNe(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=sw(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&ZPe(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,oNe),Y$&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Y$&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Gf(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&sw(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new $je(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=cX(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=R3(n,e.previousSibling||e.target.previousSibling,-1),i=R3(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(nl)!=e.state.facet(nl)&&(e.view.contentDOM.editContext=e.state.facet(nl)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function R3(t,e,n){for(;e;){let r=It.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function M3(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return pg(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function lNe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return M3(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?M3(t,n):null}class cNe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let c={from:a,to:l,insert:gt.of(r.text.split(`
`))};if(c.from==this.from&&s<this.from?c.from=s:c.to==this.to&&s>this.to&&(c.to=s),c.from==c.to&&!c.insert.length){let u=Oe.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));u.main.eq(i)||e.dispatch({selection:u,userEvent:"select"});return}if((Re.mac||Re.android)&&c.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:a,to:l,insert:gt.of([r.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let u=this.to-this.from+(c.to-c.from+c.insert.length);iR(e,c,Oe.single(this.toEditorPos(r.selectionStart,u),this.toEditorPos(r.selectionEnd,u)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let u=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(qe.mark({attributes:{style:u}}).range(l,c))}}}e.dispatch({effects:nX.of(qe.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Zg(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(r)return;let u=c.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(c)){i=this.pendingContextChange=null,n+=u,this.to+=u;return}else i=null,this.revertPending(e.state);if(s+=n,o+=n,o<=this.from)this.from+=u,this.to+=u;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=u}n+=u}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange;this.composing&&(this.composing.drifted||e.transactions.some(r=>!r.isUserEvent("input.type")&&r.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Te{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||zPe(e.parent)||document,this.viewState=new T3(e.state||pt.create(e)),e.scrollTo&&e.scrollTo.is(Mb)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Wm).map(i=>new Z$(i));for(let i of this.plugins)i.update(this);this.observer=new aNe(this),this.inputState=new Eje(this),this.inputState.ensureHandlers(this.plugins),this.docView=new h3(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof _n?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(mX))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=gX(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(u=null)):this.observer.clear(),s.facet(pt.phrases)!=this.state.facet(pt.phrases))return this.setState(s);i=Cv.create(this,s,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(d&&(d=d.map(f.changes)),f.scrollIntoView){let{main:h}=f.state.selection;d=new Yf(h.empty?h:Oe.cursor(h.head,h.head>h.anchor?-1:1))}for(let h of f.effects)h.is(Mb)&&(d=h.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=jv.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(zm)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Vb)!=i.state.facet(Vb)&&(this.viewState.mustMeasureContent=!0),(n||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let f of this.state.facet(LN))try{f(i)}catch(h){hi(this.state,h,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!cX(this,u)&&c.force&&Gf(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new T3(e),this.plugins=e.facet(Wm).map(r=>new Z$(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new h3(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Wm),r=e.state.facet(Wm);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new Z$(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){hi(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(E8(r))s=-1,o=this.viewState.heightMap.height;else{let h=this.viewState.scrollAnchorAt(i);s=h.from,o=h.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(h=>{try{return h.read(this)}catch(m){return hi(this.state,m),Q3}}),d=Cv.create(this,this.state,[]),f=!1;d.flags|=l,n?n.flags|=l:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),f=this.docView.update(d),f&&this.docViewUpdate());for(let h=0;h<c.length;h++)if(u[h]!=Q3)try{let m=c[h];m.write&&m.write(u[h],this)}catch(m){hi(this.state,m)}if(f&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let m=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(m>1||m<-1){i=i+m,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(LN))a(n)}get themeClasses(){return WN+" "+(this.state.facet(qN)?xX:bX)+" "+this.state.facet(Vb)}updateAttrs(){let e=I3(this,rX,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(nl)?"true":"false",class:"cm-content",style:`${Re.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),I3(this,tR,n);let r=this.observer.ignore(()=>{let i=RN(this.contentDOM,this.contentAttrs,n),s=RN(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(Te.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(zm);let e=this.state.facet(Te.cspNonce);Bc.mount(this.root,this.styleModules.concat(sNe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return X$(this,e,O3(this,e,n,r))}moveByGroup(e,n){return X$(this,e,O3(this,e,n,r=>wje(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return Oe.cursor(s.side(n,i)+e.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return xje(this,e,n,r)}moveVertically(e,n,r){return X$(this,e,vje(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),lX(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[kc.find(s,e-i.from,-1,n)];return fO(r,o.dir==Gt.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(K8)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>uNe)return z8(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||W8(s.isolates,r=f3(this,e))))return s.order;r||(r=f3(this,e));let i=ije(e.text,n,r);return this.bidiCache.push(new jv(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Re.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{j8(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Mb.of(new Yf(typeof e=="number"?Oe.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Mb.of(new Yf(Oe.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return vn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return vn.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Bc.newName(),i=[Vb.of(r),zm.of(zN(`.${r}`,e))];return n&&n.dark&&i.push(qN.of(!0)),i}static baseTheme(e){return lu.lowest(zm.of(zN("."+WN,e,wX)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&It.get(r)||It.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}Te.styleModule=zm;Te.inputHandler=H8;Te.clipboardInputFilter=KA;Te.clipboardOutputFilter=eR;Te.scrollHandler=tX;Te.focusChangeEffect=J8;Te.perLineTextDirection=K8;Te.exceptionSink=Y8;Te.updateListener=LN;Te.editable=nl;Te.mouseSelectionStyle=G8;Te.dragMovesSelection=X8;Te.clickAddsSelectionRange=U8;Te.decorations=Ug;Te.outerDecorations=iX;Te.atomicRanges=nR;Te.bidiIsolatedRanges=sX;Te.scrollMargins=oX;Te.darkTheme=qN;Te.cspNonce=Me.define({combine:t=>t.length?t[0]:""});Te.contentAttributes=tR;Te.editorAttributes=rX;Te.lineWrapping=Te.contentAttributes.of({class:"cm-lineWrapping"});Te.announce=Ye.define();const uNe=4096,Q3={};class jv{constructor(e,n,r,i,s,o){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Gt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new jv(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function I3(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&AN(o,n)}return n}const dNe=Re.mac?"mac":Re.windows?"win":Re.linux?"linux":"key";function fNe(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Bb(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const hNe=lu.default(Te.domEventHandlers({keydown(t,e){return SX(vX(e.state),t,e,"editor")}})),mO=Me.define({enables:hNe}),D3=new WeakMap;function vX(t){let e=t.facet(mO),n=D3.get(e);return n||D3.set(e,n=gNe(e.reduce((r,i)=>r.concat(i),[]))),n}function pNe(t,e,n){return SX(vX(t.state),e,t,n)}let cc=null;const mNe=4e3;function gNe(t,e=dNe){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,u)=>{var d,f;let h=n[o]||(n[o]=Object.create(null)),m=a.split(/ (?!$)/).map(O=>fNe(O,e));for(let O=1;O<m.length;O++){let b=m.slice(0,O).join(" ");i(b,!0),h[b]||(h[b]={preventDefault:!0,stopPropagation:!1,run:[w=>{let x=cc={view:w,prefix:b,scope:o};return setTimeout(()=>{cc==x&&(cc=null)},mNe),!0}]})}let g=m.join(" ");i(g,!1);let y=h[g]||(h[g]={preventDefault:!1,stopPropagation:!1,run:((f=(d=h._any)===null||d===void 0?void 0:d.run)===null||f===void 0?void 0:f.slice())||[]});l&&y.run.push(l),c&&(y.preventDefault=!0),u&&(y.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=o;for(let f in u)u[f].run.push(h=>d(h,ZN))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let ZN=null;function SX(t,e,n,r){ZN=e;let i=FPe(e),s=li(i,0),o=Bo(s)==i.length&&i!=" ",a="",l=!1,c=!1,u=!1;cc&&cc.view==n&&cc.scope==r&&(a=cc.prefix+" ",dX.indexOf(e.keyCode)<0&&(c=!0,cc=null));let d=new Set,f=y=>{if(y){for(let O of y.run)if(!d.has(O)&&(d.add(O),O(n)))return y.stopPropagation&&(u=!0),!0;y.preventDefault&&(y.stopPropagation&&(u=!0),c=!0)}return!1},h=t[r],m,g;return h&&(f(h[a+Bb(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Re.windows&&e.ctrlKey&&e.altKey)&&(m=qc[e.keyCode])&&m!=i?(f(h[a+Bb(m,e,!0)])||e.shiftKey&&(g=zg[e.keyCode])!=i&&g!=m&&f(h[a+Bb(g,e,!1)]))&&(l=!0):o&&e.shiftKey&&f(h[a+Bb(i,e,!0)])&&(l=!0),!l&&f(h._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),ZN=null,l}class gO{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=kX(e);return[new gO(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return yNe(e,n,r)}}function kX(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Gt.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function L3(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let s=t.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function yNe(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==Gt.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=kX(t),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),d=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),f=a.right-(u?parseInt(u.paddingRight):0),h=VN(t,r),m=VN(t,i),g=h.type==Kr.Text?h:null,y=m.type==Kr.Text?m:null;if(g&&(t.lineWrapping||h.widgetLineBreaks)&&(g=L3(t,r,1,g)),y&&(t.lineWrapping||m.widgetLineBreaks)&&(y=L3(t,i,-1,y)),g&&y&&g.from==y.from&&g.to==y.to)return b(w(n.from,n.to,g));{let v=g?w(n.from,null,g):x(h,!1),k=y?w(null,n.to,y):x(m,!0),$=[];return(g||h).to<(y||m).from-(g&&y?1:0)||h.widgetLineBreaks>1&&v.bottom+t.defaultLineHeight/2<k.top?$.push(O(d,v.bottom,f,k.top)):v.bottom<k.top&&t.elementAtHeight((v.bottom+k.top)/2).type==Kr.Text&&(v.bottom=k.top=(v.bottom+k.top)/2),b(v).concat($).concat(b(k))}function O(v,k,$,C){return new gO(e,v-l.left,k-l.top,$-v,C-k)}function b({top:v,bottom:k,horizontal:$}){let C=[];for(let N=0;N<$.length;N+=2)C.push(O($[N],v,$[N+1],k));return C}function w(v,k,$){let C=1e9,N=-1e9,P=[];function R(j,E,_,Q,M){let L=t.coordsAtPos(j,j==$.to?-2:2),V=t.coordsAtPos(_,_==$.from?2:-2);!L||!V||(C=Math.min(L.top,V.top,C),N=Math.max(L.bottom,V.bottom,N),M==Gt.LTR?P.push(s&&E?d:L.left,s&&Q?f:V.right):P.push(!s&&Q?d:V.left,!s&&E?f:L.right))}let T=v??$.from,A=k??$.to;for(let j of t.visibleRanges)if(j.to>T&&j.from<A)for(let E=Math.max(j.from,T),_=Math.min(j.to,A);;){let Q=t.state.doc.lineAt(E);for(let M of t.bidiSpans(Q)){let L=M.from+Q.from,V=M.to+Q.from;if(L>=_)break;V>E&&R(Math.max(L,E),v==null&&L<=T,Math.min(V,_),k==null&&V>=A,M.dir)}if(E=Q.to+1,E>=_)break}return P.length==0&&R(T,v==null,A,k==null,t.textDirection),{top:C,bottom:N,horizontal:P}}function x(v,k){let $=a.top+(k?v.top:v.bottom);return{top:$,bottom:$,horizontal:[]}}}function ONe(t,e){return t.constructor==e.constructor&&t.eq(e)}class bNe{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(cw)!=e.state.facet(cw)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(cw);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!ONe(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const cw=Me.define();function $X(t){return[vn.define(e=>new bNe(e,t)),cw.of(t)]}const CX=!(Re.ios&&Re.webkit&&Re.webkit_version<534),Xg=Me.define({combine(t){return ya(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function xNe(t={}){return[Xg.of(t),wNe,vNe,SNe,eX.of(!0)]}function PX(t){return t.startState.facet(Xg)!=t.state.facet(Xg)}const wNe=$X({above:!0,markers(t){let{state:e}=t,n=e.facet(Xg),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||CX:n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:Oe.cursor(i.head,i.head>i.anchor?-1:1);for(let l of gO.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=PX(t);return n&&F3(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){F3(e.state,t)},class:"cm-cursorLayer"});function F3(t,e){e.style.animationDuration=t.facet(Xg).cursorBlinkRate+"ms"}const vNe=$X({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:gO.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||PX(t)},class:"cm-selectionLayer"}),UN={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};CX&&(UN[".cm-line"].caretColor=UN[".cm-content"].caretColor="transparent !important");const SNe=lu.highest(Te.theme(UN)),jX=Ye.define({map(t,e){return t==null?null:e.mapPos(t)}}),Xm=ir.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(jX)?r.value:n,t)}}),kNe=vn.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Xm);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Xm)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Xm),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Xm)!=t&&this.view.dispatch({effects:jX.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function $Ne(){return[Xm,kNe]}function V3(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function CNe(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class PNe{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,c,u)=>i(u,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,u)=>{let d=r(a,l,c);d&&u(c,c+a[0].length,d)};else if(r)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new $l,r=n.add.bind(n);for(let{from:i,to:s}of CNe(e,this.maxLength))V3(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(s.from,l.from),d=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){u=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){d=a;break}}let f=[],h,m=(g,y,O)=>f.push(O.range(g,y));if(l==c)for(this.regexp.lastIndex=u-l.from;(h=this.regexp.exec(l.text))&&h.index<d-l.from;)this.addMatch(h,e,h.index+l.from,m);else V3(e.state.doc,this.regexp,u,d,(g,y)=>this.addMatch(y,e,g,m));n=n.update({filterFrom:u,filterTo:d,filter:(g,y)=>g<u||y>d,add:f})}}return n}}const XN=/x/.unicode!=null?"gu":"g",jNe=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,XN),NNe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let H$=null;function ENe(){var t;if(H$==null&&typeof document<"u"&&document.body){let e=document.body.style;H$=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return H$||!1}const uw=Me.define({combine(t){let e=ya(t,{render:null,specialChars:jNe,addSpecialChars:null});return(e.replaceTabs=!ENe())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,XN)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,XN)),e}});function _Ne(t={}){return[uw.of(t),TNe()]}let B3=null;function TNe(){return B3||(B3=vn.fromClass(class{constructor(t){this.view=t,this.decorations=qe.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(uw)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new PNe({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=li(e[0],0);if(s==9){let o=i.lineAt(r),a=n.state.tabSize,l=Sp(o.text,a,r-o.from);return qe.replace({widget:new QNe((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=qe.replace({widget:new MNe(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(uw);t.startState.facet(uw)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const ANe="";function RNe(t){return t>=32?ANe:t==10?"":String.fromCharCode(9216+t)}class MNe extends Oa{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=RNe(this.code),r=e.state.phrase("Control character")+" "+(NNe[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class QNe extends Oa{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function INe(){return LNe}const DNe=qe.line({class:"cm-activeLine"}),LNe=vn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(DNe.range(i.from)),e=i.from)}return qe.set(n)}},{decorations:t=>t.decorations});let FNe=class extends Oa{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),typeof this.content=="string"?n.setAttribute("aria-label","placeholder "+this.content):n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?Mh(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=fO(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}};function VNe(t){return vn.fromClass(class{constructor(e){this.view=e,this.placeholder=t?qe.set([qe.widget({widget:new FNe(t),side:1}).range(0)]):qe.none}get decorations(){return this.view.state.doc.length?qe.none:this.placeholder}},{decorations:e=>e.decorations})}const GN=2e3;function BNe(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>GN||n.off>GN||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let c=t.doc.line(l);c.length<=a&&s.push(Oe.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let c=t.doc.line(l),u=CN(c.text,o,t.tabSize,!0);if(u<0)s.push(Oe.cursor(c.to));else{let d=CN(c.text,a,t.tabSize);s.push(Oe.range(c.from+u,c.from+d))}}}return s}function qNe(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function q3(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>GN?-1:i==r.length?qNe(t,e.clientX):Sp(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function WNe(t,e){let n=q3(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=q3(t,i);if(!a)return r;let l=BNe(t.state,n,a);return l.length?o?Oe.create(l.concat(r.ranges)):Oe.create(l):r}}:null}function zNe(t){let e=n=>n.altKey&&n.button==0;return Te.mouseSelectionStyle.of((n,r)=>e(r)?WNe(n,r):null)}const ZNe={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},UNe={style:"cursor: crosshair"};function XNe(t={}){let[e,n]=ZNe[t.key||"Alt"],r=vn.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,Te.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?UNe:null})]}const gm="-10000px";class NX{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,n){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let c=s[l],u=-1;if(c){for(let d=0;d<this.tooltips.length;d++){let f=this.tooltips[d];f&&f.create==c.create&&(u=d)}if(u<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let d=o[l]=this.tooltipViews[u];a&&(a[l]=n[u]),d.update&&d.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function GNe(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const J$=Me.define({combine:t=>{var e,n,r;return{position:Re.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||GNe}}}),W3=new WeakMap,aR=vn.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(J$);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new NX(t,lR,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(J$);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=gm,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Re.gecko)n=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==gm&&s.style.left=="0px"){let o=s.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=rR(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(J$).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,d=t.pos[a],f=t.size[a];if(!d||l.clip!==!1&&(d.bottom<=Math.max(n.top,r.top)||d.top>=Math.min(n.bottom,r.bottom)||d.right<Math.max(n.left,r.left)-.1||d.left>Math.min(n.right,r.right)+.1)){u.style.top=gm;continue}let h=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,m=h?7:0,g=f.right-f.left,y=(e=W3.get(c))!==null&&e!==void 0?e:f.bottom-f.top,O=c.offset||HNe,b=this.view.textDirection==Gt.LTR,w=f.width>r.right-r.left?b?r.left:r.right-f.width:b?Math.max(r.left,Math.min(d.left-(h?14:0)+O.x,r.right-g)):Math.min(Math.max(r.left,d.left-g+(h?14:0)-O.x),r.right-g),x=this.above[a];!l.strictSide&&(x?d.top-y-m-O.y<r.top:d.bottom+y+m+O.y>r.bottom)&&x==r.bottom-d.bottom>d.top-r.top&&(x=this.above[a]=!x);let v=(x?d.top-r.top:r.bottom-d.bottom)-m;if(v<y&&c.resize!==!1){if(v<this.view.defaultLineHeight){u.style.top=gm;continue}W3.set(c,y),u.style.height=(y=v)/s+"px"}else u.style.height&&(u.style.height="");let k=x?d.top-y-m-O.y:d.bottom+m+O.y,$=w+g;if(c.overlap!==!0)for(let C of o)C.left<$&&C.right>w&&C.top<k+y&&C.bottom>k&&(k=x?C.top-y-2-m:C.bottom+m+2);if(this.position=="absolute"?(u.style.top=(k-t.parent.top)/s+"px",z3(u,(w-t.parent.left)/i)):(u.style.top=k/s+"px",z3(u,w/i)),h){let C=d.left+(b?O.x:-O.x)-(w+14-7);h.style.left=C/i+"px"}c.overlap!==!0&&o.push({left:w,top:k,right:$,bottom:k+y}),u.classList.toggle("cm-tooltip-above",x),u.classList.toggle("cm-tooltip-below",!x),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=gm}},{eventObservers:{scroll(){this.maybeMeasure()}}});function z3(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const YNe=Te.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),HNe={x:0,y:0},lR=Me.define({enables:[aR,YNe]}),Nv=Me.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class tS{static create(e){return new tS(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new NX(e,Nv,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const JNe=lR.compute([Nv],t=>{let e=t.facet(Nv);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:tS.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class KNe{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,s=1;if(r instanceof Sc)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==Gt.RTL?-1:1;s=n.x<a.left?-c:c}let o=this.source(e,i,s);if(o!=null&&o.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>hi(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(aR),n=e?e.manager.tooltips.findIndex(r=>r.create==tS.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!eEe(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!tEe(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const qb=4;function eEe(t,e){let{left:n,right:r,top:i,bottom:s}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=n-qb&&e.clientX<=r+qb&&e.clientY>=i-qb&&e.clientY<=s+qb}function tEe(t,e,n,r,i,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function nEe(t,e={}){let n=Ye.define(),r=ir.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,pr.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}i=o}for(let o of s.effects)o.is(n)&&(i=o.value),o.is(rEe)&&(i=[]);return i},provide:i=>Nv.from(i)});return{active:r,extension:[r,vn.define(i=>new KNe(i,t,r,n,e.hoverTime||300)),JNe]}}function EX(t,e){let n=t.plugin(aR);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const rEe=Ye.define(),Z3=Me.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Gg(t,e){let n=t.plugin(_X),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const _X=vn.fromClass(class{constructor(t){this.input=t.state.facet(Yg),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(Z3);this.top=new Wb(t,!0,e.topContainer),this.bottom=new Wb(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(Z3);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Wb(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Wb(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Yg);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(t.view),a.push(u)):(u=this.panels[c],u.update&&u.update(t)),i.push(u),(u.top?s:o).push(u)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Te.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Wb{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=U3(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=U3(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function U3(t){let e=t.nextSibling;return t.remove(),e}const Yg=Me.define({enables:_X});class Pl extends wd{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Pl.prototype.elementClass="";Pl.prototype.toDOM=void 0;Pl.prototype.mapMode=pr.TrackBefore;Pl.prototype.startSide=Pl.prototype.endSide=-1;Pl.prototype.point=!0;const dw=Me.define(),iEe=Me.define(),sEe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>bt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},gg=Me.define();function oEe(t){return[TX(),gg.of(Object.assign(Object.assign({},sEe),t))]}const X3=Me.define({combine:t=>t.some(e=>e)});function TX(t){return[aEe]}const aEe=vn.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(gg).map(e=>new Y3(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(X3),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(X3)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=bt.iter(this.view.state.facet(dw),this.view.viewport.from),r=[],i=this.gutters.map(s=>new lEe(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Kr.Text&&o){YN(n,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==Kr.Text){YN(n,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(gg),n=t.state.facet(gg),r=t.docChanged||t.heightChanged||t.viewportChanged||!bt.eq(t.startState.facet(dw),t.state.facet(dw),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let o=e.indexOf(s);o<0?i.push(new Y3(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Te.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Gt.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function G3(t){return Array.isArray(t)?t:[t]}function YN(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class lEe{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=bt.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==i.elements.length){let a=new AX(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];YN(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let s of e.state.facet(iEe)){let o=s(e,n.widget,n);o&&(i||(i=[])).push(o)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class Y3{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=G3(n.markers(e)),n.initialSpacer&&(this.spacer=new AX(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=G3(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!bt.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class AX{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),cEe(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let d=o;d<this.markers.length;d++)if(this.markers[d].compare(l)){a=d,c=!0;break}}else a=this.markers.length;for(;o<a;){let u=this.markers[o++];if(u.toDOM){u.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function cEe(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const uEe=Me.define(),dEe=Me.define(),Rf=Me.define({combine(t){return ya(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],o=n[i];r[i]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return r}})}});class K$ extends Pl{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function eC(t,e){return t.state.facet(Rf).formatNumber(e,t.state)}const fEe=gg.compute([Rf],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(uEe)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new K$(eC(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(dEe)){let s=i(e,n,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Rf)!=e.state.facet(Rf),initialSpacer(e){return new K$(eC(e,H3(e.state.doc.lines)))},updateSpacer(e,n){let r=eC(n.view,H3(n.view.state.doc.lines));return r==e.number?e:new K$(r)},domEventHandlers:t.facet(Rf).domEventHandlers}));function hEe(t={}){return[Rf.of(t),TX(),fEe]}function H3(t){let e=9;for(;e<t;)e=e*10+9;return e}const pEe=new class extends Pl{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},mEe=dw.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(pEe.range(i)))}return bt.of(e)});function gEe(){return mEe}const RX=1024;let yEe=0;class ss{constructor(e,n){this.from=e,this.to=n}}class rt{constructor(e={}){this.id=yEe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ti.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}rt.closedBy=new rt({deserialize:t=>t.split(" ")});rt.openedBy=new rt({deserialize:t=>t.split(" ")});rt.group=new rt({deserialize:t=>t.split(" ")});rt.isolate=new rt({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});rt.contextHash=new rt({perNode:!0});rt.lookAhead=new rt({perNode:!0});rt.mounted=new rt({perNode:!0});class Hg{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[rt.mounted.id]}}const OEe=Object.create(null);class ti{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):OEe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new ti(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(rt.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(rt.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}}ti.none=new ti("",Object.create(null),0,8);class cR{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);o&&(i||(i=Object.assign({},r.props)),i[o[0].id]=o[1])}n.push(i?new ti(r.name,i,r.id,r.flags):r)}return new cR(n)}}const zb=new WeakMap,J3=new WeakMap;var qt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(qt||(qt={}));class ln{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Hg.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Ev(this.topNode,e)}cursorAt(e,n=0,r=0){let i=zb.get(this)||this.topNode,s=new Ev(i);return s.moveTo(e,n),zb.set(this,s._tree),s}get topNode(){return new Ir(this,0,0,null)}resolve(e,n=0){let r=Jg(zb.get(this)||this.topNode,e,n,!1);return zb.set(this,r),r}resolveInner(e,n=0){let r=Jg(J3.get(this)||this.topNode,e,n,!0);return J3.set(this,r),r}resolveStack(e,n=0){return wEe(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&qt.IncludeAnonymous)>0;for(let l=this.cursor(o|qt.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:fR(ti.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new ln(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new ln(ti.none,n,r,i)))}static build(e){return vEe(e)}}ln.empty=new ln(ti.none,[],[],0);class uR{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new uR(this.buffer,this.index)}}class zc{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return ti.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(MX(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new zc(s,o,this.set)}}function MX(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Jg(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof Ir&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:qt.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof Ir&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class QX{cursor(e=0){return new Ev(this,e)}getChild(e,n=null,r=null){let i=K3(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return K3(this,e,n,r)}resolve(e,n=0){return Jg(this,e,n,!1)}resolveInner(e,n=0){return Jg(this,e,n,!0)}matchContext(e){return HN(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Ir extends QX{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=n>0?a.length:-1;e!=c;e+=n){let u=a[e],d=l[e]+o.from;if(MX(i,r,d,d+u.length)){if(u instanceof zc){if(s&qt.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,n,r-d,i);if(f>-1)return new Zo(new bEe(o,u,e,d),null,f)}else if(s&qt.IncludeAnonymous||!u.type.isAnonymous||dR(u)){let f;if(!(s&qt.IgnoreMounts)&&(f=Hg.get(u))&&!f.overlay)return new Ir(f.tree,d,e,o);let h=new Ir(u,d,e,o);return s&qt.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(n<0?u.children.length-1:0,n,r,i)}}}if(s&qt.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&qt.IgnoreOverlays)&&(i=Hg.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new Ir(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function K3(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function HN(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class bEe{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Zo extends QX{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new Zo(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&qt.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new Zo(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Zo(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Zo(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new ln(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function IX(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let r=n instanceof Ir&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new xEe(i,n)}class xEe{constructor(e,n){this.heads=e,this.node=n}get next(){return IX(this.heads)}}function wEe(t,e,n){let r=t.resolveInner(e,n),i=null;for(let s=r instanceof Ir?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,n)),s=o}else{let o=Hg.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Ir(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Jg(a,e,n,!1))}}return i?IX(i):r}class Ev{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ir)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ir?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&qt.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&qt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&qt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&qt.IncludeAnonymous||a instanceof zc||!a.type.isAnonymous||dR(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new Zo(this.buffer,n,this.stack[i]);return this.bufferNode=new Zo(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return HN(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return HN(this._tree,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function dR(t){return t.children.some(e=>e instanceof zc||!e.type.isAnonymous||dR(e))}function vEe(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=RX,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new uR(n,n.length):n,l=r.types,c=0,u=0;function d(v,k,$,C,N,P){let{id:R,start:T,end:A,size:j}=a,E=u,_=c;for(;j<0;)if(a.next(),j==-1){let W=s[R];$.push(W),C.push(T-v);return}else if(j==-3){c=R;return}else if(j==-4){u=R;return}else throw new RangeError(`Unrecognized record size: ${j}`);let Q=l[R],M,L,V=T-v;if(A-T<=i&&(L=y(a.pos-k,N))){let W=new Uint16Array(L.size-L.skip),H=a.pos-L.size,le=W.length;for(;a.pos>H;)le=O(L.start,W,le);M=new zc(W,A-L.start,r),V=L.start-v}else{let W=a.pos-j;a.next();let H=[],le=[],fe=R>=o?R:-1,U=0,ee=A;for(;a.pos>W;)fe>=0&&a.id==fe&&a.size>=0?(a.end<=ee-i&&(m(H,le,T,U,a.end,ee,fe,E,_),U=H.length,ee=a.end),a.next()):P>2500?f(T,W,H,le):d(T,W,H,le,fe,P+1);if(fe>=0&&U>0&&U<H.length&&m(H,le,T,U,T,ee,fe,E,_),H.reverse(),le.reverse(),fe>-1&&U>0){let re=h(Q,_);M=fR(Q,H,le,0,H.length,0,A-T,re,re)}else M=g(Q,H,le,A-T,E-A,_)}$.push(M),C.push(V)}function f(v,k,$,C){let N=[],P=0,R=-1;for(;a.pos>k;){let{id:T,start:A,end:j,size:E}=a;if(E>4)a.next();else{if(R>-1&&A<R)break;R<0&&(R=j-i),N.push(T,A,j),P++,a.next()}}if(P){let T=new Uint16Array(P*4),A=N[N.length-2];for(let j=N.length-3,E=0;j>=0;j-=3)T[E++]=N[j],T[E++]=N[j+1]-A,T[E++]=N[j+2]-A,T[E++]=E;$.push(new zc(T,N[2]-A,r)),C.push(A-v)}}function h(v,k){return($,C,N)=>{let P=0,R=$.length-1,T,A;if(R>=0&&(T=$[R])instanceof ln){if(!R&&T.type==v&&T.length==N)return T;(A=T.prop(rt.lookAhead))&&(P=C[R]+T.length+A)}return g(v,$,C,N,P,k)}}function m(v,k,$,C,N,P,R,T,A){let j=[],E=[];for(;v.length>C;)j.push(v.pop()),E.push(k.pop()+$-N);v.push(g(r.types[R],j,E,P-N,T-P,A)),k.push(N-$)}function g(v,k,$,C,N,P,R){if(P){let T=[rt.contextHash,P];R=R?[T].concat(R):[T]}if(N>25){let T=[rt.lookAhead,N];R=R?[T].concat(R):[T]}return new ln(v,k,$,C,R)}function y(v,k){let $=a.fork(),C=0,N=0,P=0,R=$.end-i,T={size:0,start:0,skip:0};e:for(let A=$.pos-v;$.pos>A;){let j=$.size;if($.id==k&&j>=0){T.size=C,T.start=N,T.skip=P,P+=4,C+=4,$.next();continue}let E=$.pos-j;if(j<0||E<A||$.start<R)break;let _=$.id>=o?4:0,Q=$.start;for($.next();$.pos>E;){if($.size<0)if($.size==-3)_+=4;else break e;else $.id>=o&&(_+=4);$.next()}N=Q,C+=j,P+=_}return(k<0||C==v)&&(T.size=C,T.start=N,T.skip=P),T.size>4?T:void 0}function O(v,k,$){let{id:C,start:N,end:P,size:R}=a;if(a.next(),R>=0&&C<o){let T=$;if(R>4){let A=a.pos-(R-4);for(;a.pos>A;)$=O(v,k,$)}k[--$]=T,k[--$]=P-v,k[--$]=N-v,k[--$]=C}else R==-3?c=C:R==-4&&(u=C);return $}let b=[],w=[];for(;a.pos>0;)d(t.start||0,t.bufferStart||0,b,w,-1,0);let x=(e=t.length)!==null&&e!==void 0?e:b.length?w[0]+b[0].length:0;return new ln(l[t.topID],b.reverse(),w.reverse(),x)}const eF=new WeakMap;function fw(t,e){if(!t.isAnonymous||e instanceof zc||e.type!=t)return 1;let n=eF.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof ln)){n=1;break}n+=fw(t,r)}eF.set(e,n)}return n}function fR(t,e,n,r,i,s,o,a,l){let c=0;for(let m=r;m<i;m++)c+=fw(t,e[m]);let u=Math.ceil(c*1.5/8),d=[],f=[];function h(m,g,y,O,b){for(let w=y;w<O;){let x=w,v=g[w],k=fw(t,m[w]);for(w++;w<O;w++){let $=fw(t,m[w]);if(k+$>=u)break;k+=$}if(w==x+1){if(k>u){let $=m[x];h($.children,$.positions,0,$.children.length,g[x]+b);continue}d.push(m[x])}else{let $=g[w-1]+m[w-1].length-v;d.push(fR(t,m,g,x,w,v,$,null,l))}f.push(v+b-s)}}return h(e,n,r,i,0),(a||l)(d,f,o)}class DX{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof Zo?this.setBuffer(e.context.buffer,e.index,n):e instanceof Ir&&this.map.set(e.tree,n)}get(e){return e instanceof Zo?this.getBuffer(e.context.buffer,e.index):e instanceof Ir?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class hl{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new hl(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<n.length?n[a]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let f=o;if(l>=f.from||d<=f.to||c){let h=Math.max(f.from,l)-c,m=Math.min(f.to,d)-c;f=h>=m?null:new hl(h,m,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>d)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class LX{startParse(e,n,r){return typeof e=="string"&&(e=new SEe(e)),r=r?r.length?r.map(i=>new ss(i.from,i.to)):[new ss(0,0)]:[new ss(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}}class SEe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function FX(t){return(e,n,r,i)=>new $Ee(e,t,n,r,i)}class tF{constructor(e,n,r,i,s){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.from=s}}function nF(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class kEe{constructor(e,n,r,i,s,o,a){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const JN=new rt({perNode:!0});class $Ee{constructor(e,n,r,i,s){this.nest=n,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new ln(r.type,r.children,r.positions,r.length,r.propValues.concat([[JN,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[rt.mounted.id]=new Hg(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new jEe(this.fragments),n=null,r=null,i=new Ev(new Ir(this.baseTree,this.ranges[0].from,0,null),qt.IncludeAnonymous|qt.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(n){let c=n.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let d=u.from+c.pos,f=u.to+c.pos;d>=i.from&&f<=i.to&&!n.ranges.some(h=>h.from<f&&h.to>d)&&n.ranges.push({from:d,to:f})}}a=!1}else if(r&&(o=CEe(r.ranges,i.from,i.to)))a=o!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||PEe(i);let c=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")n=new kEe(s.parser,s.overlay,c,this.inner.length,i.from,i.tree,n);else{let u=sF(this.ranges,s.overlay||(i.from<i.to?[new ss(i.from,i.to)]:[]));u.length&&nF(u),(u.length||!s.overlay)&&this.inner.push(new tF(s.parser,u.length?s.parser.startParse(this.input,oF(c,u),u):s.parser.startParse(""),s.overlay?s.overlay.map(d=>new ss(d.from-i.from,d.to-i.from)):null,i.tree,u.length?u[0].from:i.from)),s.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):a=!1}}else if(n&&(l=n.predicate(i))&&(l===!0&&(l=new ss(i.from,i.to)),l.from<l.to)){let c=n.ranges.length-1;c>=0&&n.ranges[c].to==l.from?n.ranges[c]={from:n.ranges[c].from,to:l.to}:n.ranges.push(l)}if(a&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let c=sF(this.ranges,n.ranges);c.length&&(nF(c),this.inner.splice(n.index,0,new tF(n.parser,n.parser.startParse(this.input,oF(n.mounts,c),c),n.ranges.map(u=>new ss(u.from-n.start,u.to-n.start)),n.target,c[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function CEe(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function rF(t,e,n,r,i,s){if(e<n){let o=t.buffer[e+1];r.push(t.slice(e,n,o)),i.push(o-s)}}function PEe(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,s=i.children.indexOf(r),o=i.children[s],a=o.buffer,l=[s];function c(u,d,f,h,m,g){let y=n[g],O=[],b=[];rF(o,u,y,O,b,h);let w=a[y+1],x=a[y+2];l.push(O.length);let v=g?c(y+4,a[y+3],o.set.types[a[y]],w,x-w,g-1):e.toTree();return O.push(v),b.push(w-h),rF(o,a[y+3],d,O,b,h),new ln(f,O,b,m)}i.children[s]=c(0,a.length,ti.none,0,o.length,n.length-1);for(let u of l){let d=t.tree.children[u],f=t.tree.positions[u];t.yield(new Ir(d,f+t.from,u,t._tree))}}class iF{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(qt.IncludeAnonymous|qt.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,qt.IgnoreOverlays|qt.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof ln)n=n.children[0];else break}return!1}}let jEe=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(JN))!==null&&n!==void 0?n:r.to,this.inner=new iF(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(JN))!==null&&e!==void 0?e:n.to,this.inner=new iF(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(rt.mounted);if(o&&o.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:s.from-l.offset,mount:o})}}}return i}};function sF(t,e){let n=null,r=e;for(let i=1,s=0;i<t.length;i++){let o=t[i-1].to,a=t[i].from;for(;s<r.length;s++){let l=r[s];if(l.from>=a)break;l.to<=o||(n||(r=n=e.slice()),l.from<o?(n[s]=new ss(l.from,o),l.to>a&&n.splice(s+1,0,new ss(a,l.to))):l.to>a?n[s--]=new ss(a,l.to):n.splice(s--,1))}}return r}function NEe(t,e,n,r){let i=0,s=0,o=!1,a=!1,l=-1e9,c=[];for(;;){let u=i==t.length?1e9:o?t[i].to:t[i].from,d=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let f=Math.max(l,n),h=Math.min(u,d,r);f<h&&c.push(new ss(f,h))}if(l=Math.min(u,d),l==1e9)break;u==l&&(o?(o=!1,i++):o=!0),d==l&&(a?(a=!1,s++):a=!0)}return c}function oF(t,e){let n=[];for(let{pos:r,mount:i,frag:s}of t){let o=r+(i.overlay?i.overlay[0].from:0),a=o+i.tree.length,l=Math.max(s.from,o),c=Math.min(s.to,a);if(i.overlay){let u=i.overlay.map(f=>new ss(f.from+r,f.to+r)),d=NEe(e,u,l,c);for(let f=0,h=l;;f++){let m=f==d.length,g=m?c:d[f].from;if(g>h&&n.push(new hl(h,g,i.tree,-o,s.from>=h||s.openStart,s.to<=g||s.openEnd)),m)break;h=d[f].to}}else n.push(new hl(l,c,i.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return n}let EEe=0;class ns{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=EEe++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof ns&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let i=new ns(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(e){let n=new _v(e);return r=>r.modified.indexOf(n)>-1?r:_v.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}}let _Ee=0;class _v{constructor(e){this.name=e,this.instances=[],this.id=_Ee++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&TEe(n,a.modified));if(r)return r;let i=[],s=new ns(e.name,i,e,n);for(let a of n)a.instances.push(s);let o=AEe(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(_v.get(a,l));return s}}function TEe(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function AEe(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function kp(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let d=0;;){if(a=="..."&&d>0&&d+3==i.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+i);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),d+=f[0].length,d==i.length)break;let h=i[d++];if(d==i.length&&h=="!"){o=0;break}if(h!="/")throw new RangeError("Invalid path: "+i);a=i.slice(d)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new Tv(r,o,l>0?s.slice(0,l):null);e[c]=u.sort(e[c])}}return VX.add(e)}const VX=new rt;class Tv{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Tv.empty=new Tv([],2,null);function BX(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let c=n[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:r}}function REe(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function MEe(t,e,n,r=0,i=t.length){let s=new QEe(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class QEe{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(h=>!h.scope||h.scope(o)));let c=i,u=IEe(e)||Tv.empty,d=REe(s,u.tags);if(d&&(c&&(c+=" "),c+=d,u.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(n,a),c),u.opaque)return;let f=e.tree&&e.tree.prop(rt.mounted);if(f&&f.overlay){let h=e.node.enter(f.overlay[0].from+a,1),m=this.highlighters.filter(y=>!y.scope||y.scope(f.tree.type)),g=e.firstChild();for(let y=0,O=a;;y++){let b=y<f.overlay.length?f.overlay[y]:null,w=b?b.from+a:l,x=Math.max(n,O),v=Math.min(r,w);if(x<v&&g)for(;e.from<v&&(this.highlightRange(e,x,v,i,s),this.startSpan(Math.min(v,e.to),c),!(e.to>=w||!e.nextSibling())););if(!b||w>r)break;O=b.to+a,O>n&&(this.highlightRange(h.cursor(),Math.max(n,b.from+a),Math.min(r,O),"",m),this.startSpan(Math.min(r,O),c))}g&&e.parent()}else if(e.firstChild()){f&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function IEe(t){let e=t.type.prop(VX);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const _e=ns.define,Zb=_e(),ic=_e(),aF=_e(ic),lF=_e(ic),sc=_e(),Ub=_e(sc),tC=_e(sc),_o=_e(),mu=_e(_o),$o=_e(),Co=_e(),KN=_e(),ym=_e(KN),Xb=_e(),G={comment:Zb,lineComment:_e(Zb),blockComment:_e(Zb),docComment:_e(Zb),name:ic,variableName:_e(ic),typeName:aF,tagName:_e(aF),propertyName:lF,attributeName:_e(lF),className:_e(ic),labelName:_e(ic),namespace:_e(ic),macroName:_e(ic),literal:sc,string:Ub,docString:_e(Ub),character:_e(Ub),attributeValue:_e(Ub),number:tC,integer:_e(tC),float:_e(tC),bool:_e(sc),regexp:_e(sc),escape:_e(sc),color:_e(sc),url:_e(sc),keyword:$o,self:_e($o),null:_e($o),atom:_e($o),unit:_e($o),modifier:_e($o),operatorKeyword:_e($o),controlKeyword:_e($o),definitionKeyword:_e($o),moduleKeyword:_e($o),operator:Co,derefOperator:_e(Co),arithmeticOperator:_e(Co),logicOperator:_e(Co),bitwiseOperator:_e(Co),compareOperator:_e(Co),updateOperator:_e(Co),definitionOperator:_e(Co),typeOperator:_e(Co),controlOperator:_e(Co),punctuation:KN,separator:_e(KN),bracket:ym,angleBracket:_e(ym),squareBracket:_e(ym),paren:_e(ym),brace:_e(ym),content:_o,heading:mu,heading1:_e(mu),heading2:_e(mu),heading3:_e(mu),heading4:_e(mu),heading5:_e(mu),heading6:_e(mu),contentSeparator:_e(_o),list:_e(_o),quote:_e(_o),emphasis:_e(_o),strong:_e(_o),link:_e(_o),monospace:_e(_o),strikethrough:_e(_o),inserted:_e(),deleted:_e(),changed:_e(),invalid:_e(),meta:Xb,documentMeta:_e(Xb),annotation:_e(Xb),processingInstruction:_e(Xb),definition:ns.defineModifier("definition"),constant:ns.defineModifier("constant"),function:ns.defineModifier("function"),standard:ns.defineModifier("standard"),local:ns.defineModifier("local"),special:ns.defineModifier("special")};for(let t in G){let e=G[t];e instanceof ns&&(e.name=t)}BX([{tag:G.link,class:"tok-link"},{tag:G.heading,class:"tok-heading"},{tag:G.emphasis,class:"tok-emphasis"},{tag:G.strong,class:"tok-strong"},{tag:G.keyword,class:"tok-keyword"},{tag:G.atom,class:"tok-atom"},{tag:G.bool,class:"tok-bool"},{tag:G.url,class:"tok-url"},{tag:G.labelName,class:"tok-labelName"},{tag:G.inserted,class:"tok-inserted"},{tag:G.deleted,class:"tok-deleted"},{tag:G.literal,class:"tok-literal"},{tag:G.string,class:"tok-string"},{tag:G.number,class:"tok-number"},{tag:[G.regexp,G.escape,G.special(G.string)],class:"tok-string2"},{tag:G.variableName,class:"tok-variableName"},{tag:G.local(G.variableName),class:"tok-variableName tok-local"},{tag:G.definition(G.variableName),class:"tok-variableName tok-definition"},{tag:G.special(G.variableName),class:"tok-variableName2"},{tag:G.definition(G.propertyName),class:"tok-propertyName tok-definition"},{tag:G.typeName,class:"tok-typeName"},{tag:G.namespace,class:"tok-namespace"},{tag:G.className,class:"tok-className"},{tag:G.macroName,class:"tok-macroName"},{tag:G.propertyName,class:"tok-propertyName"},{tag:G.operator,class:"tok-operator"},{tag:G.comment,class:"tok-comment"},{tag:G.meta,class:"tok-meta"},{tag:G.invalid,class:"tok-invalid"},{tag:G.punctuation,class:"tok-punctuation"}]);var nC;const Mf=new rt;function qX(t){return Me.define({combine:t?e=>e.concat(t):void 0})}const hR=new rt;class Gs{constructor(e,n,r=[],i=""){this.data=e,this.name=i,pt.prototype.hasOwnProperty("tree")||Object.defineProperty(pt.prototype,"tree",{get(){return cn(this)}}),this.parser=n,this.extension=[Uc.of(this),pt.languageData.of((s,o,a)=>{let l=cF(s,o,a),c=l.type.prop(Mf);if(!c)return[];let u=s.facet(c),d=l.type.prop(hR);if(d){let f=l.resolve(o-l.from,a);for(let h of d)if(h.test(f,s)){let m=s.facet(h.facet);return h.type=="replace"?m:m.concat(u)}}return u})].concat(r)}isActiveAt(e,n,r=-1){return cF(e,n,r).type.prop(Mf)==this.data}findRegions(e){let n=e.facet(Uc);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Mf)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(rt.mounted);if(a){if(a.tree.prop(Mf)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof ln&&i(c,s.positions[l]+o)}};return i(cn(e),0),r}get allowsNesting(){return!0}}Gs.setState=Ye.define();function cF(t,e,n){let r=t.facet(Uc),i=cn(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,qt.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Zc extends Gs{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=qX(e.languageData);return new Zc(n,e.parser.configure({props:[Mf.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Zc(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function cn(t){let e=t.field(Gs.state,!1);return e?e.tree:ln.empty}class DEe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Om=null;class Av{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Av(e,n,[],ln.empty,0,r,[],null)}startParse(){return this.parser.startParse(new DEe(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=ln.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(hl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(hl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Om;Om=this;try{return e()}finally{Om=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=uF(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,f)=>l.push({fromA:c,toA:u,fromB:d,toB:f})),r=hl.applyChanges(r,l),i=ln.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&a.push({from:u,to:d})}}}return new Av(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=uF(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends LX{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Om;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new ln(ti.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Om}}function uF(t,e,n){return hl.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Lh{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Lh(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Av.create(e.facet(Uc).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Lh(r)}}Gs.state=ir.define({create:Lh.init,update(t,e){for(let n of e.effects)if(n.is(Gs.setState))return n.value;return e.startState.facet(Uc)!=e.state.facet(Uc)?Lh.init(e.state):t.apply(e)}});let WX=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(WX=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const rC=typeof navigator<"u"&&(!((nC=navigator.scheduling)===null||nC===void 0)&&nC.isInputPending)?()=>navigator.scheduling.isInputPending():null,LEe=vn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Gs.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Gs.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=WX(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Gs.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!rC?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>rC&&rC()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Gs.setState.of(new Lh(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>hi(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Uc=Me.define({combine(t){return t.length?t[0]:null},enables:t=>[Gs.state,LEe,Te.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class yO{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const FEe=Me.define(),OO=Me.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Rv(t){let e=t.facet(OO);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Kg(t,e){let n="",r=t.tabSize,i=t.facet(OO)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function pR(t,e){t instanceof pt&&(t=new nS(t));for(let r of t.state.facet(FEe)){let i=r(t,e);if(i!==void 0)return i}let n=cn(t.state);return n.length>=e?VEe(t,n,e):null}class nS{constructor(e,n={}){this.state=e,this.options=n,this.unit=Rv(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return Sp(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const $p=new rt;function VEe(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return zX(r,t,n)}function zX(t,e,n){for(let r=t;r;r=r.next){let i=qEe(r.node);if(i)return i(mR.create(e,n,r))}return 0}function BEe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function qEe(t){let e=t.type.prop($p);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(rt.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>UX(o,!0,1,void 0,s&&!BEe(o)?i.from:void 0)}return t.parent==null?WEe:null}function WEe(){return 0}class mR extends nS{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new mR(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(zEe(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return zX(this.context.next,this.base,this.pos)}}function zEe(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function ZEe(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+c}}a=l.to}}function ZX({closing:t,align:e=!0,units:n=1}){return r=>UX(r,e,n,t)}function UX(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=e?ZEe(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const UEe=t=>t.baseIndent;function Hf({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const XEe=200;function GEe(){return pt.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+XEe)return t;let s=n.sliceString(i.from,r);if(!e.some(c=>c.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==a)continue;a=u.from;let d=pR(o,u.from);if(d==null)continue;let f=/^\s*/.exec(u.text)[0],h=Kg(o,d);f!=h&&l.push({from:u.from,to:u.from+f.length,insert:h})}return l.length?[t,{changes:l,sequential:!0}]:t})}const YEe=Me.define(),Cp=new rt;function gR(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function HEe(t,e,n){let r=cn(t);if(r.length<n)return null;let i=r.resolveStack(n,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=n||a.from>n)continue;if(s&&a.from<e)break;let l=a.type.prop(Cp);if(l&&(a.to<r.length-50||r.length==t.doc.length||!JEe(a))){let c=l(a,t);c&&c.from<=n&&c.from>=e&&c.to>n&&(s=c)}}return s}function JEe(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Mv(t,e,n){for(let r of t.facet(YEe)){let i=r(t,e,n);if(i)return i}return HEe(t,e,n)}function XX(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const rS=Ye.define({map:XX}),bO=Ye.define({map:XX});function GX(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const $d=ir.define({create(){return qe.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(rS)&&!KEe(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(JX),i=r?qe.replace({widget:new o2e(r(e.state,n.value))}):dF;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(bO)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(i,s)=>{i<r&&s>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return t},provide:t=>Te.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(dF.range(r,i))}return qe.set(e,!0)}});function Qv(t,e,n){var r;let i=null;return(r=t.field($d,!1))===null||r===void 0||r.between(e,n,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function KEe(t,e,n){let r=!1;return t.between(e,e,(i,s)=>{i==e&&s==n&&(r=!0)}),r}function YX(t,e){return t.field($d,!1)?e:e.concat(Ye.appendConfig.of(KX()))}const e2e=t=>{for(let e of GX(t)){let n=Mv(t.state,e.from,e.to);if(n)return t.dispatch({effects:YX(t.state,[rS.of(n),HX(t,n)])}),!0}return!1},t2e=t=>{if(!t.state.field($d,!1))return!1;let e=[];for(let n of GX(t)){let r=Qv(t.state,n.from,n.to);r&&e.push(bO.of(r),HX(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function HX(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Te.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const n2e=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=Mv(e,i.from,i.to);s&&n.push(rS.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:YX(t.state,n)}),!!n.length},r2e=t=>{let e=t.state.field($d,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(bO.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},i2e=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e2e},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t2e},{key:"Ctrl-Alt-[",run:n2e},{key:"Ctrl-Alt-]",run:r2e}],s2e={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},JX=Me.define({combine(t){return ya(t,s2e)}});function KX(t){return[$d,c2e]}function eG(t,e){let{state:n}=t,r=n.facet(JX),i=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=Qv(t.state,a.from,a.to);l&&t.dispatch({effects:bO.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const dF=qe.replace({widget:new class extends Oa{toDOM(t){return eG(t,null)}}});class o2e extends Oa{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return eG(e,this.value)}}const a2e={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class iC extends Pl{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function l2e(t={}){let e=Object.assign(Object.assign({},a2e),t),n=new iC(e,!0),r=new iC(e,!1),i=vn.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Uc)!=o.state.facet(Uc)||o.startState.field($d,!1)!=o.state.field($d,!1)||cn(o.startState)!=cn(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new $l;for(let l of o.viewportLineBlocks){let c=Qv(o.state,l.from,l.to)?r:Mv(o.state,l.from,l.to)?n:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[i,oEe({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||bt.empty},initialSpacer(){return new iC(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=Qv(o.state,a.from,a.to);if(c)return o.dispatch({effects:bO.of(c)}),!0;let u=Mv(o.state,a.from,a.to);return u?(o.dispatch({effects:rS.of(u)}),!0):!1}})}),KX()]}const c2e=Te.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class xO{constructor(e,n){this.specs=e;let r;function i(a){let l=Bc.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof Gs?a=>a.prop(Mf)==o.data:o?a=>a==o:void 0,this.style=BX(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Bc(r):null,this.themeType=n.themeType}static define(e,n){return new xO(e,n||{})}}const eE=Me.define(),tG=Me.define({combine(t){return t.length?[t[0]]:null}});function sC(t){let e=t.facet(eE);return e.length?e:t.facet(tG)}function nG(t,e){let n=[d2e],r;return t instanceof xO&&(t.module&&n.push(Te.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(tG.of(t)):r?n.push(eE.computeN([Te.darkTheme],i=>i.facet(Te.darkTheme)==(r=="dark")?[t]:[])):n.push(eE.of(t)),n}class u2e{constructor(e){this.markCache=Object.create(null),this.tree=cn(e.state),this.decorations=this.buildDeco(e,sC(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=cn(e.state),r=sC(e.state),i=r!=sC(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return qe.none;let r=new $l;for(let{from:i,to:s}of e.visibleRanges)MEe(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=qe.mark({class:l})))},i,s);return r.finish()}}const d2e=lu.high(vn.fromClass(u2e,{decorations:t=>t.decorations})),f2e=xO.define([{tag:G.meta,color:"#404740"},{tag:G.link,textDecoration:"underline"},{tag:G.heading,textDecoration:"underline",fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strong,fontWeight:"bold"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.keyword,color:"#708"},{tag:[G.atom,G.bool,G.url,G.contentSeparator,G.labelName],color:"#219"},{tag:[G.literal,G.inserted],color:"#164"},{tag:[G.string,G.deleted],color:"#a11"},{tag:[G.regexp,G.escape,G.special(G.string)],color:"#e40"},{tag:G.definition(G.variableName),color:"#00f"},{tag:G.local(G.variableName),color:"#30a"},{tag:[G.typeName,G.namespace],color:"#085"},{tag:G.className,color:"#167"},{tag:[G.special(G.variableName),G.macroName],color:"#256"},{tag:G.definition(G.propertyName),color:"#00c"},{tag:G.comment,color:"#940"},{tag:G.invalid,color:"#f00"}]),h2e=Te.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),rG=1e4,iG="()[]{}",sG=Me.define({combine(t){return ya(t,{afterCursor:!0,brackets:iG,maxScanDistance:rG,renderMatch:g2e})}}),p2e=qe.mark({class:"cm-matchingBracket"}),m2e=qe.mark({class:"cm-nonmatchingBracket"});function g2e(t){let e=[],n=t.matched?p2e:m2e;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const y2e=ir.define({create(){return qe.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(sG);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=Uo(e.state,i.head,-1,r)||i.head>0&&Uo(e.state,i.head-1,1,r)||r.afterCursor&&(Uo(e.state,i.head,1,r)||i.head<e.state.doc.length&&Uo(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return qe.set(n,!0)},provide:t=>Te.decorations.from(t)}),O2e=[y2e,h2e];function b2e(t={}){return[sG.of(t),O2e]}const oG=new rt;function tE(t,e,n){let r=t.prop(e<0?rt.openedBy:rt.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function nE(t){let e=t.type.prop(oG);return e?e(t.node):t}function Uo(t,e,n,r={}){let i=r.maxScanDistance||rG,s=r.brackets||iG,o=cn(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let c=tE(l.type,n,s);if(c&&l.from<l.to){let u=nE(l);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return x2e(t,e,n,l,u,c,s)}}return w2e(t,e,n,o,a.type,i,s)}function x2e(t,e,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},c=0,u=a==null?void 0:a.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let d=nE(u);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(tE(u.type,n,o))c++;else if(tE(u.type,-n,o)){if(c==0){let d=nE(u);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function w2e(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),d=0;for(let f=0;!u.next().done&&f<=s;){let h=u.value;n<0&&(f+=h.length);let m=e+f*n;for(let g=n>0?0:h.length-1,y=n>0?h.length:-1;g!=y;g+=n){let O=o.indexOf(h[g]);if(!(O<0||r.resolveInner(m+g,1).type!=i))if(O%2==0==n>0)d++;else{if(d==1)return{start:c,end:{from:m+g,to:m+g+1},matched:O>>1==l>>1};d--}}n>0&&(f+=h.length)}return u.done?{start:c,matched:!1}:null}const v2e=Object.create(null),fF=[ti.none],hF=[],pF=Object.create(null),S2e=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])S2e[t]=k2e(v2e,e);function oC(t,e){hF.indexOf(t)>-1||(hF.push(t),console.warn(e))}function k2e(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=t[c]||G[c];u?typeof u=="function"?l.length?l=l.map(u):oC(c,`Modifier ${c} used at start of tag`):l.length?oC(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:oC(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),s=pF[i];if(s)return s.id;let o=pF[i]=ti.define({id:fF.length,name:r,props:[kp({[r]:n})]});return fF.push(o),o.id}Gt.RTL,Gt.LTR;const $2e=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=OR(t.state,n.from);return r.line?C2e(t):r.block?j2e(t):!1};function yR(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const C2e=yR(_2e,0),P2e=yR(aG,0),j2e=yR((t,e)=>aG(t,e,E2e(e)),0);function OR(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const bm=50;function N2e(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-bm,r),o=t.sliceDoc(i,i+bm),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,d;i-r<=2*bm?u=d=t.sliceDoc(r,i):(u=t.sliceDoc(r,r+bm),d=t.sliceDoc(i-bm,i));let f=/^\s*/.exec(u)[0].length,h=/\s*$/.exec(d)[0].length,m=d.length-h-n.length;return u.slice(f,f+e.length)==e&&d.slice(m,m+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(u.charAt(f+e.length))?1:0},close:{pos:i-h-n.length,margin:/\s/.test(d.charAt(m-1))?1:0}}:null}function E2e(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function aG(t,e,n=e.selection.ranges){let r=n.map(s=>OR(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>N2e(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:c,close:u}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:s}}return null}function _2e(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of n){let a=r.length,l=1e9,c=OR(e,s).line;if(c){for(let u=s;u<=o;){let d=e.doc.lineAt(u);if(d.from>i&&(s==o||o>d.from)){i=d.from;let f=/^\s*/.exec(d.text)[0].length,h=f==d.length,m=d.text.slice(f,f+c.length)==c?f:-1;f<d.text.length&&f<l&&(l=f),r.push({line:d,comment:m,token:c,indent:f,empty:h,single:!1})}u=d.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:u,single:d}of r)(d||!u)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let c=o.from+a,u=c+l.length;o.text[u-o.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const rE=ga.define(),T2e=ga.define(),A2e=Me.define(),lG=Me.define({combine(t){return ya(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),cG=ir.define({create(){return Xo.empty},update(t,e){let n=e.state.facet(lG),r=e.annotation(rE);if(r){let l=pi.fromTransaction(e,r.selection),c=r.side,u=c==0?t.undone:t.done;return l?u=Iv(u,u.length,n.minDepth,l):u=fG(u,e.startState.selection),new Xo(c==0?r.rest:u,c==0?u:r.rest)}let i=e.annotation(T2e);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(_n.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=pi.fromTransaction(e),o=e.annotation(_n.time),a=e.annotation(_n.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Xo(t.done.map(pi.fromJSON),t.undone.map(pi.fromJSON))}});function R2e(t={}){return[cG,lG.of(t),Te.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?uG:e.inputType=="historyRedo"?iE:null;return r?(e.preventDefault(),r(n)):!1}})]}function iS(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(cG,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const uG=iS(0,!1),iE=iS(1,!1),M2e=iS(0,!0),Q2e=iS(1,!0);class pi{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new pi(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new pi(e.changes&&Vn.fromJSON(e.changes),[],e.mapped&&na.fromJSON(e.mapped),e.startSelection&&Oe.fromJSON(e.startSelection),e.selectionsAfter.map(Oe.fromJSON))}static fromTransaction(e,n){let r=os;for(let i of e.startState.facet(A2e)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new pi(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,os)}static selection(e){return new pi(void 0,os,void 0,void 0,e)}}function Iv(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function I2e(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let c=n[l++],u=n[l++];a>=c&&o<=u&&(r=!0)}}),r}function D2e(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function dG(t,e){return t.length?e.length?t.concat(e):t:e}const os=[],L2e=200;function fG(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-L2e));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Iv(t,t.length-1,1e9,n.setSelAfter(r)))}else return[pi.selection([e])]}function F2e(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function aC(t,e){if(!t.length)return t;let n=t.length,r=os;for(;n;){let i=V2e(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[pi.selection(r)]:os}function V2e(t,e,n){let r=dG(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):os,n);if(!t.changes)return pi.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new pi(i,Ye.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const B2e=/^(input\.type|delete)($|\.)/;class Xo{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Xo(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||B2e.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,I2e(a.changes,e.changes))||r=="input.type.compose")?o=Iv(o,o.length-1,i.minDepth,new pi(e.changes.compose(a.changes),dG(Ye.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,os)):o=Iv(o,o.length,i.minDepth,e),new Xo(o,os,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:os;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&D2e(s[s.length-1],e)?this:new Xo(fG(this.done,e),this.undone,n,r)}addMapping(e){return new Xo(aC(this.done,e),aC(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||n.selection;if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:rE.of({side:e,rest:F2e(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?os:i.slice(0,i.length-1);return s.mapped&&(a=aC(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:rE.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Xo.empty=new Xo(os,os);const q2e=[{key:"Mod-z",run:uG,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:iE,preventDefault:!0},{linux:"Ctrl-Shift-z",run:iE,preventDefault:!0},{key:"Mod-u",run:M2e,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Q2e,preventDefault:!0}];function Pp(t,e){return Oe.create(t.ranges.map(e),t.mainIndex)}function ba(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ho({state:t,dispatch:e},n){let r=Pp(t.selection,n);return r.eq(t.selection,!0)?!1:(e(ba(t,r)),!0)}function sS(t,e){return Oe.cursor(e?t.to:t.from)}function hG(t,e){return ho(t,n=>n.empty?t.moveByChar(n,e):sS(n,e))}function Fr(t){return t.textDirectionAt(t.state.selection.main.head)==Gt.LTR}const pG=t=>hG(t,!Fr(t)),mG=t=>hG(t,Fr(t));function gG(t,e){return ho(t,n=>n.empty?t.moveByGroup(n,e):sS(n,e))}const W2e=t=>gG(t,!Fr(t)),z2e=t=>gG(t,Fr(t));function Z2e(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function oS(t,e,n){let r=cn(t).resolveInner(e.head),i=n?rt.closedBy:rt.openedBy;for(let l=e.head;;){let c=n?r.childAfter(l):r.childBefore(l);if(!c)break;Z2e(t,c,i)?r=c:l=n?c.to:c.from}let s=r.type.prop(i),o,a;return s&&(o=n?Uo(t,r.from,1):Uo(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,Oe.cursor(a,n?-1:1)}const U2e=t=>ho(t,e=>oS(t.state,e,!Fr(t))),X2e=t=>ho(t,e=>oS(t.state,e,Fr(t)));function yG(t,e){return ho(t,n=>{if(!n.empty)return sS(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const OG=t=>yG(t,!1),bG=t=>yG(t,!0);function xG(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(Te.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function wG(t,e){let n=xG(t),{state:r}=t,i=Pp(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):sS(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<c&&(s=Te.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(ba(r,i),{effects:s}),!0}const mF=t=>wG(t,!1),sE=t=>wG(t,!0);function cu(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=Oe.cursor(r.from+s))}return i}const G2e=t=>ho(t,e=>cu(t,e,!0)),Y2e=t=>ho(t,e=>cu(t,e,!1)),H2e=t=>ho(t,e=>cu(t,e,!Fr(t))),J2e=t=>ho(t,e=>cu(t,e,Fr(t))),K2e=t=>ho(t,e=>Oe.cursor(t.lineBlockAt(e.head).from,1)),e_e=t=>ho(t,e=>Oe.cursor(t.lineBlockAt(e.head).to,-1));function t_e(t,e,n){let r=!1,i=Pp(t.selection,s=>{let o=Uo(t,s.head,-1)||Uo(t,s.head,1)||s.head>0&&Uo(t,s.head-1,1)||s.head<t.doc.length&&Uo(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return Oe.cursor(a)});return r?(e(ba(t,i)),!0):!1}const n_e=({state:t,dispatch:e})=>t_e(t,e);function Ns(t,e){let n=Pp(t.state.selection,r=>{let i=e(r);return Oe.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(ba(t.state,n)),!0)}function vG(t,e){return Ns(t,n=>t.moveByChar(n,e))}const SG=t=>vG(t,!Fr(t)),kG=t=>vG(t,Fr(t));function $G(t,e){return Ns(t,n=>t.moveByGroup(n,e))}const r_e=t=>$G(t,!Fr(t)),i_e=t=>$G(t,Fr(t)),s_e=t=>Ns(t,e=>oS(t.state,e,!Fr(t))),o_e=t=>Ns(t,e=>oS(t.state,e,Fr(t)));function CG(t,e){return Ns(t,n=>t.moveVertically(n,e))}const PG=t=>CG(t,!1),jG=t=>CG(t,!0);function NG(t,e){return Ns(t,n=>t.moveVertically(n,e,xG(t).height))}const gF=t=>NG(t,!1),yF=t=>NG(t,!0),a_e=t=>Ns(t,e=>cu(t,e,!0)),l_e=t=>Ns(t,e=>cu(t,e,!1)),c_e=t=>Ns(t,e=>cu(t,e,!Fr(t))),u_e=t=>Ns(t,e=>cu(t,e,Fr(t))),d_e=t=>Ns(t,e=>Oe.cursor(t.lineBlockAt(e.head).from)),f_e=t=>Ns(t,e=>Oe.cursor(t.lineBlockAt(e.head).to)),OF=({state:t,dispatch:e})=>(e(ba(t,{anchor:0})),!0),bF=({state:t,dispatch:e})=>(e(ba(t,{anchor:t.doc.length})),!0),xF=({state:t,dispatch:e})=>(e(ba(t,{anchor:t.selection.main.anchor,head:0})),!0),wF=({state:t,dispatch:e})=>(e(ba(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),h_e=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),p_e=({state:t,dispatch:e})=>{let n=aS(t).map(({from:r,to:i})=>Oe.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Oe.create(n),userEvent:"select"})),!0},m_e=({state:t,dispatch:e})=>{let n=Pp(t.selection,r=>{let i=cn(t),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return Oe.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e(ba(t,n)),!0)},g_e=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Oe.create([n.main]):n.main.empty||(r=Oe.create([Oe.cursor(n.main.head)])),r?(e(ba(t,r)),!0):!1};function wO(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=Gb(t,l,!1)):l>o&&(n="delete.forward",l=Gb(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Gb(t,o,!1),a=Gb(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Oe.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Te.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Gb(t,e,n){if(t instanceof Te)for(let r of t.state.facet(Te.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const EG=(t,e,n)=>wO(t,r=>{let i=r.from,{state:s}=t,o=s.doc.lineAt(i),a,l;if(n&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let c=Sp(a,s.tabSize),u=c%Rv(s)||Rv(s);for(let d=0;d<u&&a[a.length-1-d]==" ";d++)i--;l=i}else l=mr(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=mr(o.text,l-o.from,!1,!1)+o.from);return l}),oE=t=>EG(t,!1,!0),_G=t=>EG(t,!0,!1),TG=(t,e)=>wO(t,n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=mr(s.text,r-s.from,e)+s.from,c=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),u=o(c);if(a!=null&&u!=a)break;(c!=" "||r!=n.head)&&(a=u),r=l}return r}),AG=t=>TG(t,!1),y_e=t=>TG(t,!0),O_e=t=>wO(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),b_e=t=>wO(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),x_e=t=>wO(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),w_e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:gt.of(["",""])},range:Oe.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},v_e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:mr(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:mr(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:Oe.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function aS(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function RG(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of aS(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(Oe.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(Oe.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Oe.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const S_e=({state:t,dispatch:e})=>RG(t,e,!1),k_e=({state:t,dispatch:e})=>RG(t,e,!0);function MG(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of aS(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const $_e=({state:t,dispatch:e})=>MG(t,e,!1),C_e=({state:t,dispatch:e})=>MG(t,e,!0),P_e=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(aS(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=Pp(e.selection,i=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,s)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function j_e(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=cn(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(rt.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const vF=QG(!1),N_e=QG(!0);function QG(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&j_e(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new nS(e,{simulateBreak:s,simulateDoubleBreak:!!l}),u=pR(c,s);for(u==null&&(u=Sp(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let d=["",Kg(e,u)];return l&&d.push(Kg(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:gt.of(d)},range:Oe.cursor(s+1+d[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function bR(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:Oe.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const E_e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new nS(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),i=bR(t,(s,o,a)=>{let l=pR(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],u=Kg(t,l);(c!=u||a.from<s.from+c.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:u}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},IG=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(bR(t,(n,r)=>{r.push({from:n.from,insert:t.facet(OO)})}),{userEvent:"input.indent"})),!0),DG=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(bR(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=Sp(i,t.tabSize),o=0,a=Kg(t,Math.max(0,s-Rv(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),__e=t=>(t.setTabFocusMode(),!0),T_e=[{key:"Ctrl-b",run:pG,shift:SG,preventDefault:!0},{key:"Ctrl-f",run:mG,shift:kG},{key:"Ctrl-p",run:OG,shift:PG},{key:"Ctrl-n",run:bG,shift:jG},{key:"Ctrl-a",run:K2e,shift:d_e},{key:"Ctrl-e",run:e_e,shift:f_e},{key:"Ctrl-d",run:_G},{key:"Ctrl-h",run:oE},{key:"Ctrl-k",run:O_e},{key:"Ctrl-Alt-h",run:AG},{key:"Ctrl-o",run:w_e},{key:"Ctrl-t",run:v_e},{key:"Ctrl-v",run:sE}],A_e=[{key:"ArrowLeft",run:pG,shift:SG,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:W2e,shift:r_e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:H2e,shift:c_e,preventDefault:!0},{key:"ArrowRight",run:mG,shift:kG,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:z2e,shift:i_e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:J2e,shift:u_e,preventDefault:!0},{key:"ArrowUp",run:OG,shift:PG,preventDefault:!0},{mac:"Cmd-ArrowUp",run:OF,shift:xF},{mac:"Ctrl-ArrowUp",run:mF,shift:gF},{key:"ArrowDown",run:bG,shift:jG,preventDefault:!0},{mac:"Cmd-ArrowDown",run:bF,shift:wF},{mac:"Ctrl-ArrowDown",run:sE,shift:yF},{key:"PageUp",run:mF,shift:gF},{key:"PageDown",run:sE,shift:yF},{key:"Home",run:Y2e,shift:l_e,preventDefault:!0},{key:"Mod-Home",run:OF,shift:xF},{key:"End",run:G2e,shift:a_e,preventDefault:!0},{key:"Mod-End",run:bF,shift:wF},{key:"Enter",run:vF,shift:vF},{key:"Mod-a",run:h_e},{key:"Backspace",run:oE,shift:oE},{key:"Delete",run:_G},{key:"Mod-Backspace",mac:"Alt-Backspace",run:AG},{key:"Mod-Delete",mac:"Alt-Delete",run:y_e},{mac:"Mod-Backspace",run:b_e},{mac:"Mod-Delete",run:x_e}].concat(T_e.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),R_e=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:U2e,shift:s_e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:X2e,shift:o_e},{key:"Alt-ArrowUp",run:S_e},{key:"Shift-Alt-ArrowUp",run:$_e},{key:"Alt-ArrowDown",run:k_e},{key:"Shift-Alt-ArrowDown",run:C_e},{key:"Escape",run:g_e},{key:"Mod-Enter",run:N_e},{key:"Alt-l",mac:"Ctrl-l",run:p_e},{key:"Mod-i",run:m_e,preventDefault:!0},{key:"Mod-[",run:DG},{key:"Mod-]",run:IG},{key:"Mod-Alt-\\",run:E_e},{key:"Shift-Mod-k",run:P_e},{key:"Shift-Mod-\\",run:n_e},{key:"Mod-/",run:$2e},{key:"Alt-A",run:P2e},{key:"Ctrl-m",mac:"Shift-Alt-m",run:__e}].concat(A_e),M_e={key:"Tab",run:IG,shift:DG};function Bt(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)LG(t,arguments[e]);return t}function LG(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)LG(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const SF=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Fh{constructor(e,n,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(SF(a)):SF,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return li(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=UA(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Bo(e);let i=this.normalize(n);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Fh.prototype[Symbol.iterator]=function(){return this});const FG={from:-1,to:-1,match:/.*/.exec("")},xR="gm"+(/x/.unicode==null?"":"u");class VG{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=FG,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new BG(e,n,r,i,s);this.re=new RegExp(n,xR+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=Dv(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=Dv(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const lC=new WeakMap;class Jf{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=lC.get(e);if(!i||i.from>=r||i.to<=n){let a=new Jf(n,e.sliceString(n,r));return lC.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:s,from:o}=i;return o>n&&(s=e.sliceString(n,o)+s,o=n),i.to<r&&(s+=e.sliceString(i.to,r)),lC.set(e,new Jf(o,s)),new Jf(n,s.slice(n-o,r-o))}}class BG{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=FG,this.matchPos=Dv(e,i),this.re=new RegExp(n,xR+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Jf.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=Dv(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Jf.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(VG.prototype[Symbol.iterator]=BG.prototype[Symbol.iterator]=function(){return this});function Q_e(t){try{return new RegExp(t,xR),!0}catch{return!1}}function Dv(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function aE(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=Bt("input",{class:"cm-textfield",name:"line",value:e}),r=Bt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:Lv.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},Bt("label",t.state.phrase("Go to line"),": ",n)," ",Bt("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,c,u,d]=s,f=u?+u.slice(1):0,h=c?+c:a.number;if(c&&d){let y=h/100;l&&(y=y*(l=="-"?-1:1)+a.number/o.doc.lines),h=Math.round(o.doc.lines*y)}else c&&l&&(h=h*(l=="-"?-1:1)+a.number);let m=o.doc.line(Math.max(1,Math.min(o.doc.lines,h))),g=Oe.cursor(m.from+Math.max(0,Math.min(f,m.length)));t.dispatch({effects:[Lv.of(!1),Te.scrollIntoView(g.from,{y:"center"})],selection:g}),t.focus()}return{dom:r}}const Lv=Ye.define(),kF=ir.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(Lv)&&(t=n.value);return t},provide:t=>Yg.from(t,e=>e?aE:null)}),I_e=t=>{let e=Gg(t,aE);if(!e){let n=[Lv.of(!0)];t.state.field(kF,!1)==null&&n.push(Ye.appendConfig.of([kF,D_e])),t.dispatch({effects:n}),e=Gg(t,aE)}return e&&e.dom.querySelector("input").select(),!0},D_e=Te.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),L_e={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},F_e=Me.define({combine(t){return ya(t,L_e,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function V_e(t){return[Z_e,z_e]}const B_e=qe.mark({class:"cm-selectionMatch"}),q_e=qe.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function $F(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=Jt.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=Jt.Word)}function W_e(t,e,n,r){return t(e.sliceDoc(n,n+1))==Jt.Word&&t(e.sliceDoc(r-1,r))==Jt.Word}const z_e=vn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(F_e),{state:n}=t,r=n.selection;if(r.ranges.length>1)return qe.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return qe.none;let l=n.wordAt(i.head);if(!l)return qe.none;o=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return qe.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!($F(o,n,i.from,i.to)&&W_e(o,n,i.from,i.to)))return qe.none}else if(s=n.sliceDoc(i.from,i.to),!s)return qe.none}let a=[];for(let l of t.visibleRanges){let c=new Fh(n.doc,s,l.from,l.to);for(;!c.next().done;){let{from:u,to:d}=c.value;if((!o||$F(o,n,u,d))&&(i.empty&&u<=i.from&&d>=i.to?a.push(q_e.range(u,d)):(u>=i.to||d<=i.from)&&a.push(B_e.range(u,d)),a.length>e.maxMatches))return qe.none}}return qe.set(a)}},{decorations:t=>t.decorations}),Z_e=Te.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),U_e=({state:t,dispatch:e})=>{let{selection:n}=t,r=Oe.create(n.ranges.map(i=>t.wordAt(i.head)||Oe.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function X_e(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new Fh(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new Fh(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const G_e=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return U_e({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=X_e(t,r);return i?(e(t.update({selection:t.selection.addRange(Oe.range(i.from,i.to),!1),effects:Te.scrollIntoView(i.to)})),!0):!1},jp=Me.define({combine(t){return ya(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new aTe(e),scrollToMatch:e=>Te.scrollIntoView(e)})}});class qG{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Q_e(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new K_e(this):new H_e(this)}getCursor(e,n=0,r){let i=e.doc?e:pt.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?$f(this,i,n,r):kf(this,i,n,r)}}class WG{constructor(e){this.spec=e}}function kf(t,e,n,r){return new Fh(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?Y_e(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Y_e(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(Fv(i,n-s))!=Jt.Word||e(Vv(i,n-s))!=Jt.Word)&&(e(Vv(i,r-s))!=Jt.Word||e(Fv(i,r-s))!=Jt.Word))}class H_e extends WG{constructor(e){super(e)}nextMatch(e,n,r){let i=kf(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,n+this.spec.unquoted.length);i=kf(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),o=kf(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=kf(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=kf(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function $f(t,e,n,r){return new VG(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?J_e(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function Fv(t,e){return t.slice(mr(t,e,!1),e)}function Vv(t,e){return t.slice(e,mr(t,e))}function J_e(t){return(e,n,r)=>!r[0].length||(t(Fv(r.input,r.index))!=Jt.Word||t(Vv(r.input,r.index))!=Jt.Word)&&(t(Vv(r.input,r.index+r[0].length))!=Jt.Word||t(Fv(r.input,r.index+r[0].length))!=Jt.Word)}class K_e extends WG{nextMatch(e,n,r){let i=$f(this.spec,e,r,e.doc.length).next();return i.done&&(i=$f(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),o=$f(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:n)}matchAll(e,n){let r=$f(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=$f(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const ey=Ye.define(),wR=Ye.define(),jc=ir.define({create(t){return new cC(lE(t).create(),null)},update(t,e){for(let n of e.effects)n.is(ey)?t=new cC(n.value.create(),t.panel):n.is(wR)&&(t=new cC(t.query,n.value?vR:null));return t},provide:t=>Yg.from(t,e=>e.panel)});class cC{constructor(e,n){this.query=e,this.panel=n}}const eTe=qe.mark({class:"cm-searchMatch"}),tTe=qe.mark({class:"cm-searchMatch cm-searchMatch-selected"}),nTe=vn.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(jc))}update(t){let e=t.state.field(jc);(e!=t.startState.field(jc)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return qe.none;let{view:n}=this,r=new $l;for(let i=0,s=n.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;t.highlight(n.state,a,l,(c,u)=>{let d=n.state.selection.ranges.some(f=>f.from==c&&f.to==u);r.add(c,u,d?tTe:eTe)})}return r.finish()}},{decorations:t=>t.decorations});function vO(t){return e=>{let n=e.state.field(jc,!1);return n&&n.query.spec.valid?t(e,n):UG(e)}}const Bv=vO((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=Oe.single(r.from,r.to),s=t.state.facet(jp);return t.dispatch({selection:i,effects:[SR(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),ZG(t),!0}),qv=vO((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=Oe.single(i.from,i.to),o=t.state.facet(jp);return t.dispatch({selection:s,effects:[SR(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),ZG(t),!0}),rTe=vO((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:Oe.create(n.map(r=>Oe.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),iTe=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let a=new Fh(t.doc,t.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(Oe.range(a.value.from,a.value.to))}return e(t.update({selection:Oe.create(s,o),userEvent:"select.search.matches"})),!0},CF=vO((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o=s,a=[],l,c,u=[];if(o.from==r&&o.to==i&&(c=n.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(n,o.from,o.to),u.push(Te.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),o){let d=a.length==0||a[0].from>=s.to?0:s.to-s.from-c.length;l=Oe.single(o.from-d,o.to-d),u.push(SR(t,o)),u.push(n.facet(jp).scrollToMatch(l.main,t))}return t.dispatch({changes:a,selection:l,effects:u,userEvent:"input.replace"}),!0}),sTe=vO((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Te.announce.of(r),userEvent:"input.replace.all"}),!0});function vR(t){return t.state.facet(jp).createPanel(t)}function lE(t,e){var n,r,i,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=t.facet(jp);return new qG({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function zG(t){let e=Gg(t,vR);return e&&e.dom.querySelector("[main-field]")}function ZG(t){let e=zG(t);e&&e==t.root.activeElement&&e.select()}const UG=t=>{let e=t.state.field(jc,!1);if(e&&e.panel){let n=zG(t);if(n&&n!=t.root.activeElement){let r=lE(t.state,e.query.spec);r.valid&&t.dispatch({effects:ey.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[wR.of(!0),e?ey.of(lE(t.state,e.query.spec)):Ye.appendConfig.of(cTe)]});return!0},XG=t=>{let e=t.state.field(jc,!1);if(!e||!e.panel)return!1;let n=Gg(t,vR);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:wR.of(!1)}),!0},oTe=[{key:"Mod-f",run:UG,scope:"editor search-panel"},{key:"F3",run:Bv,shift:qv,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Bv,shift:qv,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:XG,scope:"editor search-panel"},{key:"Mod-Shift-l",run:iTe},{key:"Mod-Alt-g",run:I_e},{key:"Mod-d",run:G_e,preventDefault:!0}];class aTe{constructor(e){this.view=e;let n=this.query=e.state.field(jc).query.spec;this.commit=this.commit.bind(this),this.searchField=Bt("input",{value:n.search,placeholder:vi(e,"Find"),"aria-label":vi(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Bt("input",{value:n.replace,placeholder:vi(e,"Replace"),"aria-label":vi(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Bt("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=Bt("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=Bt("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,o){return Bt("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=Bt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>Bv(e),[vi(e,"next")]),r("prev",()=>qv(e),[vi(e,"previous")]),r("select",()=>rTe(e),[vi(e,"all")]),Bt("label",null,[this.caseField,vi(e,"match case")]),Bt("label",null,[this.reField,vi(e,"regexp")]),Bt("label",null,[this.wordField,vi(e,"by word")]),...e.state.readOnly?[]:[Bt("br"),this.replaceField,r("replace",()=>CF(e),[vi(e,"replace")]),r("replaceAll",()=>sTe(e),[vi(e,"replace all")])],Bt("button",{name:"close",onclick:()=>XG(e),"aria-label":vi(e,"close"),type:"button"},[""])])}commit(){let e=new qG({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:ey.of(e)}))}keydown(e){pNe(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?qv:Bv)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),CF(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(ey)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(jp).top}}function vi(t,e){return t.state.phrase(e)}const Yb=30,Hb=/[\s\.,:;?!]/;function SR(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-Yb),o=Math.min(i,n+Yb),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<Yb;l++)if(!Hb.test(a[l+1])&&Hb.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-Yb;l--)if(!Hb.test(a[l-1])&&Hb.test(a[l])){a=a.slice(0,l);break}}return Te.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const lTe=Te.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),cTe=[jc,lu.low(nTe),lTe];class GG{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=cn(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(HG(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function PF(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function uTe(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=PF(e)+PF(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function YG(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:uTe(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}function dTe(t,e){return n=>{for(let r=cn(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class jF{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function fd(t){return t.selection.main.from}function HG(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const kR=ga.define();function fTe(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return Object.assign(Object.assign({},t.changeByRange(a=>{if(a!=i&&n!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:Oe.cursor(a.from+s+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const NF=new WeakMap;function hTe(t){if(!Array.isArray(t))return t;let e=NF.get(t);return e||NF.set(t,e=YG(t)),e}const Wv=Ye.define(),ty=Ye.define();class pTe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=li(e,n),i=Bo(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(li(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let b=li(e,0),w=Bo(b),x=w==e.length?0:-100;if(b!=n[0])if(b==r[0])x+=-200;else return null;return this.ret(x,[0,w])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let b=0,w=Math.min(e.length,200);b<w&&c<l;){let x=li(e,b);(x==n[c]||x==r[c])&&(i[c++]=b),b+=Bo(x)}if(c<l)return null}let u=0,d=0,f=!1,h=0,m=-1,g=-1,y=/[a-z]/.test(e),O=!0;for(let b=0,w=Math.min(e.length,200),x=0;b<w&&d<l;){let v=li(e,b);a<0&&(u<l&&v==n[u]&&(s[u++]=b),h<l&&(v==n[h]||v==r[h]?(h==0&&(m=b),g=b+1,h++):h=0));let k,$=v<255?v>=48&&v<=57||v>=97&&v<=122?2:v>=65&&v<=90?1:0:(k=UA(v))!=k.toLowerCase()?1:k!=k.toUpperCase()?2:0;(!b||$==1&&y||x==0&&$!=0)&&(n[d]==v||r[d]==v&&(f=!0)?o[d++]=b:o.length&&(O=!1)),x=$,b+=Bo(v)}return d==l&&o[0]==0&&O?this.result(-100+(f?-200:0),o,e):h==l&&m==0?this.ret(-200-e.length+(g==e.length?0:-100),[0,g]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):h==l?this.ret(-900-e.length,[m,g]):d==l?this.result(-100+(f?-200:0)+-700+(O?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],s=0;for(let o of n){let a=o+(this.astral?Bo(li(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class mTe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Jn=Me.define({combine(t){return ya(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:gTe,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>EF(e(r),n(r)),optionClass:(e,n)=>r=>EF(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function EF(t,e){return t?e?t+" "+e:t:e}function gTe(t,e,n,r,i,s){let o=t.textDirection==Gt.RTL,a=o,l=!1,c="top",u,d,f=e.left-i.left,h=i.right-e.right,m=r.right-r.left,g=r.bottom-r.top;if(a&&f<Math.min(m,h)?a=!1:!a&&h<Math.min(m,f)&&(a=!0),m<=(a?f:h))u=Math.max(i.top,Math.min(n.top,i.bottom-g))-e.top,d=Math.min(400,a?f:h);else{l=!0,d=Math.min(400,(o?e.right:i.right-e.left)-30);let b=i.bottom-e.bottom;b>=g||b>e.top?u=n.bottom-e.top:(c="bottom",u=e.bottom-n.top)}let y=(e.bottom-e.top)/s.offsetHeight,O=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${u/y}px; max-width: ${d/O}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function yTe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<s.length;){let u=s[c++],d=s[c++];u>l&&o.appendChild(document.createTextNode(a.slice(l,u)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(u,d))),f.className="cm-completionMatchedText",l=d}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function uC(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class OTe{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:s,selected:o}=i.open,a=e.state.facet(Jn);this.optionContent=yTe(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=uC(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(n).open;for(let u=l.target,d;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(d=/-(\d+)$/.exec(u.id))&&+d[1]<c.length){this.applyCompletion(e,c[+d[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Jn).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:ty.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=uC(s.length,o,e.state.facet(Jn).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=uC(n.options.length,n.selected,this.view.state.facet(Jn).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>hi(this.view.state,o,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&xTe(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(Jn).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let f=typeof c=="string"?c:c.name;if(f!=s&&(o>r.from||r.from==0))if(s=f,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let h=i.appendChild(document.createElement("completion-section"));h.textContent=f}}const u=i.appendChild(document.createElement("li"));u.id=n+"-"+o,u.setAttribute("role","option");let d=this.optionClass(a);d&&(u.className=d);for(let f of this.optionContent){let h=f(a,this.view.state,this.view,l);h&&u.appendChild(h)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function bTe(t,e){return n=>new OTe(n,t,e)}function xTe(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function _F(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function wTe(t,e){let n=[],r=null,i=c=>{n.push(c);let{section:u}=c.completion;if(u){r||(r=[]);let d=typeof u=="string"?u:u.name;r.some(f=>f.name==d)||r.push(typeof u=="string"?{name:d}:u)}},s=e.facet(Jn);for(let c of t)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let d of c.result.options)i(new jF(d,c.source,u?u(d):[],1e9-n.length));else{let d=e.sliceDoc(c.from,c.to),f,h=s.filterStrict?new mTe(d):new pTe(d);for(let m of c.result.options)if(f=h.match(m.label)){let g=m.displayLabel?u?u(m,f.matched):[]:f.matched;i(new jF(m,c.source,g,f.score+(m.boost||0)))}}}if(r){let c=Object.create(null),u=0,d=(f,h)=>{var m,g;return((m=f.rank)!==null&&m!==void 0?m:1e9)-((g=h.rank)!==null&&g!==void 0?g:1e9)||(f.name<h.name?-1:1)};for(let f of r.sort(d))u-=1e5,c[f.name]=u;for(let f of n){let{section:h}=f.completion;h&&(f.score+=c[typeof h=="string"?h:h.name])}}let o=[],a=null,l=s.compareCompletions;for(let c of n.sort((u,d)=>d.score-u.score||l(u.completion,d.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?o.push(c):_F(c.completion)>_F(a)&&(o[o.length-1]=c),a=c.completion}return o}class Qf{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Qf(this.options,TF(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s,o){if(i&&!o&&e.some(c=>c.isPending))return i.setDisabled();let a=wTe(e,n);if(!a.length)return i&&e.some(c=>c.isPending)?i.setDisabled():null;let l=n.facet(Jn).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let c=i.options[i.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==c){l=u;break}}return new Qf(a,TF(r,l),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:PTe,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Qf(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Qf(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class zv{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new zv($Te,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Jn),s=(r.override||n.languageDataAt("autocomplete",fd(n)).map(hTe)).map(l=>(this.active.find(u=>u.source==l)||new as(l,this.active.some(u=>u.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,c)=>l==this.active[c])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is($R));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!vTe(s,this.active)||a?o=Qf.build(s,n,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new as(l.source,0):l));for(let l of e.effects)l.is(KG)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new zv(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?STe:kTe}}function vTe(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const STe={"aria-autocomplete":"list"},kTe={};function TF(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const $Te=[];function JG(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(kR);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class as{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=JG(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new as(i.source,0)),r&4&&i.state==0&&(i=new as(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(Wv))i=new as(i.source,1,s.value);else if(s.is(ty))i=new as(i.source,0);else if(s.is($R))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(fd(e.state))}}class Kf extends as{constructor(e,n,r,i,s,o){super(e,3,n),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=fd(e.state);if(a>o||!i||n&2&&(fd(e.startState)==this.from||a<this.limit))return new as(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return CTe(i.validFor,e.state,s,o)?new Kf(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new GG(e.state,a,!1)))?new Kf(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:fd(e.state)):new as(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Kf(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new as(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function CTe(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):HG(t,!0).test(i)}const $R=Ye.define({map(t,e){return t.map(n=>n.map(e))}}),KG=Ye.define(),ui=ir.define({create(){return zv.start()},update(t,e){return t.update(e)},provide:t=>[lR.from(t,e=>e.tooltip),Te.contentAttributes.from(t,e=>e.attrs)]});function CR(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(ui).active.find(i=>i.source==e.source);return r instanceof Kf?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},fTe(t.state,n,r.from,r.to)),{annotations:kR.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}const PTe=bTe(ui,CR);function Jb(t,e="option"){return n=>{let r=n.state.field(ui,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Jn).interactionDelay)return!1;let i=1,s;e=="page"&&(s=EX(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:KG.of(a)}),!0}}const jTe=t=>{let e=t.state.field(ui,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Jn).interactionDelay?!1:CR(t,e.open.options[e.open.selected])},AF=t=>t.state.field(ui,!1)?(t.dispatch({effects:Wv.of(!0)}),!0):!1,NTe=t=>{let e=t.state.field(ui,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:ty.of(null)}),!0)};class ETe{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const _Te=50,TTe=1e3,ATe=vn.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(ui).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(ui),n=t.state.facet(Jn);if(!t.selectionSet&&!t.docChanged&&t.startState.field(ui)==e)return;let r=t.transactions.some(s=>{let o=JG(s,n);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>_Te&&Date.now()-o.time>TTe){for(let a of o.context.abortListeners)try{a()}catch(l){hi(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(Wv)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(ui);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Jn).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=fd(e),r=new GG(e,n,t.explicit,this.view),i=new ETe(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:ty.of(null)}),hi(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Jn).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Jn),r=this.view.state.field(ui);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=fd(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),c=new Kf(s.active.source,s.active.explicit,l,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:a);for(let u of s.updates)c=c.update(u,n);if(c.hasResult()){e.push(c);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new as(s.active.source,0);for(let l of s.updates)a=a.update(l,n);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:$R.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(ui,!1);if(e&&e.tooltip&&this.view.state.facet(Jn).closeOnBlur){let n=e.open&&EX(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:ty.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Wv.of(!1)}),20),this.composing=0}}}),RTe=typeof navigator=="object"&&/Win/.test(navigator.platform),MTe=lu.highest(Te.domEventHandlers({keydown(t,e){let n=e.state.field(ui,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(RTe&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&CR(e,r),!1}})),eY=Te.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class QTe{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class PR{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,pr.TrackDel),r=e.mapPos(this.to,1,pr.TrackDel);return n==null||r==null?null:new PR(this.field,n,r)}}class jR{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],s=e.doc.lineAt(n),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let d=0;d<u;d++)c+=e.facet(OO);i.push(n+c.length-u),l=c+l.slice(u)}r.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new PR(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let n=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,u=l.replace(/\\[{}]/g,d=>d[1]);for(let d=0;d<n.length;d++)(a!=null?n[d].seq==a:u&&n[d].name==u)&&(c=d);if(c<0){let d=0;for(;d<n.length&&(a==null||n[d].seq!=null&&n[d].seq<a);)d++;n.splice(d,0,{seq:a,name:u}),c=d;for(let f of i)f.field>=c&&f.field++}i.push(new QTe(c,r.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let u of i)u.line==r.length&&u.from>c&&(u.from--,u.to--);return l}),r.push(o)}return new jR(r,i)}}let ITe=qe.widget({widget:new class extends Oa{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),DTe=qe.mark({class:"cm-snippetField"});class Np{constructor(e,n){this.ranges=e,this.active=n,this.deco=qe.set(e.map(r=>(r.from==r.to?ITe:DTe).range(r.from,r.to)))}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new Np(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const SO=Ye.define({map(t,e){return t&&t.map(e)}}),LTe=Ye.define(),ny=ir.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(SO))return n.value;if(n.is(LTe)&&t)return new Np(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>Te.decorations.from(t,e=>e?e.deco:qe.none)});function NR(t,e){return Oe.create(t.filter(n=>n.field==e).map(n=>Oe.range(n.from,n.to)))}function FTe(t){let e=jR.parse(t);return(n,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(n.state,i),{main:l}=n.state.selection,c={changes:{from:i,to:s==l.from?l.to:s,insert:gt.of(o)},scrollIntoView:!0,annotations:r?[kR.of(r),_n.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=NR(a,0)),a.some(u=>u.field>0)){let u=new Np(a,0),d=c.effects=[SO.of(u)];n.state.field(ny,!1)===void 0&&d.push(Ye.appendConfig.of([ny,zTe,ZTe,eY]))}n.dispatch(n.state.update(c))}}function tY(t){return({state:e,dispatch:n})=>{let r=e.field(ny,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,s=t>0&&!r.ranges.some(o=>o.field==i+t);return n(e.update({selection:NR(r.ranges,i),effects:SO.of(s?null:new Np(r.ranges,i)),scrollIntoView:!0})),!0}}const VTe=({state:t,dispatch:e})=>t.field(ny,!1)?(e(t.update({effects:SO.of(null)})),!0):!1,BTe=tY(1),qTe=tY(-1),WTe=[{key:"Tab",run:BTe,shift:qTe},{key:"Escape",run:VTe}],RF=Me.define({combine(t){return t.length?t[0]:WTe}}),zTe=lu.highest(mO.compute([RF],t=>t.facet(RF)));function ii(t,e){return Object.assign(Object.assign({},e),{apply:FTe(t)})}const ZTe=Te.domEventHandlers({mousedown(t,e){let n=e.state.field(ny,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:NR(n.ranges,i.field),effects:SO.of(n.ranges.some(s=>s.field>i.field)?new Np(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),ry={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Zu=Ye.define({map(t,e){let n=e.mapPos(t,-1,pr.TrackAfter);return n??void 0}}),ER=new class extends wd{};ER.startSide=1;ER.endSide=-1;const nY=ir.define({create(){return bt.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(Zu)&&(t=t.update({add:[ER.range(n.value,n.value+1)]}));return t}});function UTe(){return[GTe,nY]}const dC="()[]{}<>";function rY(t){for(let e=0;e<dC.length;e+=2)if(dC.charCodeAt(e)==t)return dC.charAt(e+1);return UA(t<128?t:t+1)}function iY(t,e){return t.languageDataAt("closeBrackets",e)[0]||ry}const XTe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),GTe=Te.inputHandler.of((t,e,n,r)=>{if((XTe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Bo(li(r,0))==1||e!=i.from||n!=i.to)return!1;let s=JTe(t.state,r);return s?(t.dispatch(s),!0):!1}),YTe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=iY(t,t.selection.main.head).brackets||ry.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let a=KTe(t.doc,o.head);for(let l of r)if(l==a&&lS(t.doc,o.head)==rY(li(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:Oe.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},HTe=[{key:"Backspace",run:YTe}];function JTe(t,e){let n=iY(t,t.selection.main.head),r=n.brackets||ry.brackets;for(let i of r){let s=rY(li(i,0));if(e==i)return s==i?nAe(t,i,r.indexOf(i+i+i)>-1,n):eAe(t,i,s,n.before||ry.before);if(e==s&&sY(t,t.selection.main.from))return tAe(t,i,s)}return null}function sY(t,e){let n=!1;return t.field(nY).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function lS(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Bo(li(n,0)))}function KTe(t,e){let n=t.sliceString(e-2,e);return Bo(li(n,0))==n.length?n:n.slice(1)}function eAe(t,e,n,r){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:Zu.of(o.to+e.length),range:Oe.range(o.anchor+e.length,o.head+e.length)};let a=lS(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:Zu.of(o.head+e.length),range:Oe.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function tAe(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&lS(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:Oe.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function nAe(t,e,n,r){let i=r.stringPrefixes||ry.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Zu.of(a.to+e.length),range:Oe.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=lS(t.doc,l),u;if(c==e){if(MF(t,l))return{changes:{insert:e+e,from:l},effects:Zu.of(l+e.length),range:Oe.cursor(l+e.length)};if(sY(t,l)){let f=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:Oe.cursor(l+f.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(u=QF(t,l-2*e.length,i))>-1&&MF(t,u))return{changes:{insert:e+e+e+e,from:l},effects:Zu.of(l+e.length),range:Oe.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=Jt.Word&&QF(t,l,i)>-1&&!rAe(t,l,e,i))return{changes:{insert:e+e,from:l},effects:Zu.of(l+e.length),range:Oe.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function MF(t,e){let n=cn(t).resolveInner(e+1);return n.parent&&n.from==e}function rAe(t,e,n,r){let i=cn(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>n.length+l;){if(t.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function QF(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=Jt.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=Jt.Word)return s}return-1}function iAe(t={}){return[MTe,ui,Jn.of(t),ATe,sAe,eY]}const oY=[{key:"Ctrl-Space",run:AF},{mac:"Alt-`",run:AF},{key:"Escape",run:NTe},{key:"ArrowDown",run:Jb(!0)},{key:"ArrowUp",run:Jb(!1)},{key:"PageDown",run:Jb(!0,"page")},{key:"PageUp",run:Jb(!1,"page")},{key:"Enter",run:jTe}],sAe=lu.highest(mO.computeN([Jn],t=>t.facet(Jn).defaultKeymap?[oY]:[]));class IF{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Du{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=e,s=r.facet(iy).markerFilter;s&&(i=s(i,r));let o=e.slice().sort((d,f)=>d.from-f.from||d.to-f.to),a=new $l,l=[],c=0;for(let d=0;;){let f=d==o.length?null:o[d];if(!f&&!l.length)break;let h,m;for(l.length?(h=c,m=l.reduce((y,O)=>Math.min(y,O.to),f&&f.from>h?f.from:1e8)):(h=f.from,m=f.to,l.push(f),d++);d<o.length;){let y=o[d];if(y.from==h&&(y.to>y.from||y.to==h))l.push(y),d++,m=Math.min(y.to,m);else{m=Math.min(y.from,m);break}}let g=OAe(l);if(l.some(y=>y.from==y.to||y.from==y.to-1&&r.doc.lineAt(y.from).to==y.from))a.add(h,h,qe.widget({widget:new pAe(g),diagnostics:l.slice()}));else{let y=l.reduce((O,b)=>b.markClass?O+" "+b.markClass:O,"");a.add(h,m,qe.mark({class:"cm-lintRange cm-lintRange-"+g+y,diagnostics:l.slice(),inclusiveEnd:l.some(O=>O.to>m)}))}c=m;for(let y=0;y<l.length;y++)l[y].to<=c&&l.splice(y--,1)}let u=a.finish();return new Du(u,n,Vh(u))}}function Vh(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new IF(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new IF(r.from,s,r.diagnostic)}}),r}function oAe(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(iy).hideOn(t,n,r);if(i!=null)return i;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(aY))||t.changes.touchesRange(s.from,Math.max(s.to,r)))}function aAe(t,e){return t.field(Ri,!1)?e:e.concat(Ye.appendConfig.of(bAe))}const aY=Ye.define(),_R=Ye.define(),lY=Ye.define(),Ri=ir.define({create(){return new Du(qe.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);r=Vh(n,t.selected.diagnostic,s)||Vh(n,null,s)}!n.size&&i&&e.state.facet(iy).autoPanel&&(i=null),t=new Du(n,i,r)}for(let n of e.effects)if(n.is(aY)){let r=e.state.facet(iy).autoPanel?n.value.length?sy.open:null:t.panel;t=Du.init(n.value,r,e.state)}else n.is(_R)?t=new Du(t.diagnostics,n.value?sy.open:null,t.selected):n.is(lY)&&(t=new Du(t.diagnostics,t.panel,n.value));return t},provide:t=>[Yg.from(t,e=>e.panel),Te.decorations.from(t,e=>e.diagnostics)]}),lAe=qe.mark({class:"cm-lintRange cm-lintRange-active"});function cAe(t,e,n){let{diagnostics:r}=t.state.field(Ri),i,s=-1,o=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:u})=>{if(e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0)))return i=u.diagnostics,s=l,o=c,!1});let a=t.state.facet(iy).tooltipFilter;return i&&a&&(i=a(i,t.state)),i?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:uAe(t,i)}}}:null}function uAe(t,e){return Bt("ul",{class:"cm-tooltip-lint"},e.map(n=>uY(t,n,!1)))}const dAe=t=>{let e=t.state.field(Ri,!1);(!e||!e.panel)&&t.dispatch({effects:aAe(t.state,[_R.of(!0)])});let n=Gg(t,sy.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},DF=t=>{let e=t.state.field(Ri,!1);return!e||!e.panel?!1:(t.dispatch({effects:_R.of(!1)}),!0)},fAe=t=>{let e=t.state.field(Ri,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},hAe=[{key:"Mod-Shift-m",run:dAe,preventDefault:!0},{key:"F8",run:fAe}],iy=Me.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},ya(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function cY(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function uY(t,e,n){var r;let i=n?cY(e.actions):[];return Bt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Bt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=f=>{if(f.preventDefault(),a)return;a=!0;let h=Vh(t.state.field(Ri).diagnostics,e);h&&s.apply(t,h.from,h.to)},{name:c}=s,u=i[o]?c.indexOf(i[o]):-1,d=u<0?c:[c.slice(0,u),Bt("u",c.slice(u,u+1)),c.slice(u+1)];return Bt("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[o]})"`}.`},d)}),e.source&&Bt("div",{class:"cm-diagnosticSource"},e.source))}class pAe extends Oa{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Bt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class LF{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=uY(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class sy{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)DF(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=cY(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=Vh(this.view.state.field(Ri).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Bt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=Bt("div",{class:"cm-panel-lint"},this.list,Bt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>DF(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Ri).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Ri),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let u of c.diagnostics){if(o.has(u))continue;o.add(u);let d=-1,f;for(let h=r;h<this.items.length;h++)if(this.items[h].diagnostic==u){d=h;break}d<0?(f=new LF(this.view,u),this.items.splice(r,0,f),i=!0):(f=this.items[d],d>r&&(this.items.splice(r,d-r),i=!0)),n&&f.diagnostic==n.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),s=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new LF(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Ri),r=Vh(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:lY.of(r)})}static open(e){return new sy(e)}}function mAe(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Kb(t){return mAe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const gAe=Te.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Kb("#d11")},".cm-lintRange-warning":{backgroundImage:Kb("orange")},".cm-lintRange-info":{backgroundImage:Kb("#999")},".cm-lintRange-hint":{backgroundImage:Kb("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function yAe(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function OAe(t){let e="hint",n=1;for(let r of t){let i=yAe(r.severity);i>n&&(n=i,e=r.severity)}return e}const bAe=[Ri,Te.decorations.compute([Ri],t=>{let{selected:e,panel:n}=t.field(Ri);return!e||!n||e.from==e.to?qe.none:qe.set([lAe.range(e.from,e.to)])}),nEe(cAe,{hideOn:oAe}),gAe];var FF=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(HTe)),e.defaultKeymap!==!1&&(r=r.concat(R_e)),e.searchKeymap!==!1&&(r=r.concat(oTe)),e.historyKeymap!==!1&&(r=r.concat(q2e)),e.foldKeymap!==!1&&(r=r.concat(i2e)),e.completionKeymap!==!1&&(r=r.concat(oY)),e.lintKeymap!==!1&&(r=r.concat(hAe));var i=[];return e.lineNumbers!==!1&&i.push(hEe()),e.highlightActiveLineGutter!==!1&&i.push(gEe()),e.highlightSpecialChars!==!1&&i.push(_Ne()),e.history!==!1&&i.push(R2e()),e.foldGutter!==!1&&i.push(l2e()),e.drawSelection!==!1&&i.push(xNe()),e.dropCursor!==!1&&i.push($Ne()),e.allowMultipleSelections!==!1&&i.push(pt.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(GEe()),e.syntaxHighlighting!==!1&&i.push(nG(f2e,{fallback:!0})),e.bracketMatching!==!1&&i.push(b2e()),e.closeBrackets!==!1&&i.push(UTe()),e.autocompletion!==!1&&i.push(iAe()),e.rectangularSelection!==!1&&i.push(zNe()),n!==!1&&i.push(XNe()),e.highlightActiveLine!==!1&&i.push(INe()),e.highlightSelectionMatches!==!1&&i.push(V_e()),e.tabSize&&typeof e.tabSize=="number"&&i.push(OO.of(" ".repeat(e.tabSize))),i.concat([mO.of(r.flat())]).filter(Boolean)};const xAe="#e5c07b",VF="#e06c75",wAe="#56b6c2",vAe="#ffffff",hw="#abb2bf",cE="#7d8799",SAe="#61afef",kAe="#98c379",BF="#d19a66",$Ae="#c678dd",CAe="#21252b",qF="#2c313a",WF="#282c34",fC="#353a42",PAe="#3E4451",zF="#528bff",jAe=Te.theme({"&":{color:hw,backgroundColor:WF},".cm-content":{caretColor:zF},".cm-cursor, .cm-dropCursor":{borderLeftColor:zF},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:PAe},".cm-panels":{backgroundColor:CAe,color:hw},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:WF,color:cE,border:"none"},".cm-activeLineGutter":{backgroundColor:qF},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:fC},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:fC,borderBottomColor:fC},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:qF,color:hw}}},{dark:!0}),NAe=xO.define([{tag:G.keyword,color:$Ae},{tag:[G.name,G.deleted,G.character,G.propertyName,G.macroName],color:VF},{tag:[G.function(G.variableName),G.labelName],color:SAe},{tag:[G.color,G.constant(G.name),G.standard(G.name)],color:BF},{tag:[G.definition(G.name),G.separator],color:hw},{tag:[G.typeName,G.className,G.number,G.changed,G.annotation,G.modifier,G.self,G.namespace],color:xAe},{tag:[G.operator,G.operatorKeyword,G.url,G.escape,G.regexp,G.link,G.special(G.string)],color:wAe},{tag:[G.meta,G.comment],color:cE},{tag:G.strong,fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.link,color:cE,textDecoration:"underline"},{tag:G.heading,fontWeight:"bold",color:VF},{tag:[G.atom,G.bool,G.special(G.variableName)],color:BF},{tag:[G.processingInstruction,G.string,G.inserted],color:kAe},{tag:G.invalid,color:vAe}]),EAe=[jAe,nG(NAe)];var _Ae=Te.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),TAe=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:o="",basicSetup:a=!0}=e,l=[];switch(n&&l.unshift(mO.of([M_e])),a&&(typeof a=="boolean"?l.unshift(FF()):l.unshift(FF(a))),o&&l.unshift(VNe(o)),s){case"light":l.push(_Ae);break;case"dark":l.push(EAe);break;case"none":break;default:l.push(s);break}return r===!1&&l.push(Te.editable.of(!1)),i&&l.push(pt.readOnly.of(!0)),[...l]},AAe=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)}),ZF=ga.define(),RAe=[];function MAe(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:o,extensions:a=RAe,autoFocus:l,theme:c="light",height:u=null,minHeight:d=null,maxHeight:f=null,width:h=null,minWidth:m=null,maxWidth:g=null,placeholder:y="",editable:O=!0,readOnly:b=!1,indentWithTab:w=!0,basicSetup:x=!0,root:v,initialState:k}=t,[$,C]=S.useState(),[N,P]=S.useState(),[R,T]=S.useState(),A=Te.theme({"&":{height:u,minHeight:d,maxHeight:f,width:h,minWidth:m,maxWidth:g},"& .cm-scroller":{height:"100% !important"}}),j=Te.updateListener.of(Q=>{if(Q.docChanged&&typeof r=="function"&&!Q.transactions.some(V=>V.annotation(ZF))){var M=Q.state.doc,L=M.toString();r(L,Q)}i&&i(AAe(Q))}),E=TAe({theme:c,editable:O,readOnly:b,placeholder:y,indentWithTab:w,basicSetup:x}),_=[j,A,...E];return o&&typeof o=="function"&&_.push(Te.updateListener.of(o)),_=_.concat(a),S.useEffect(()=>{if($&&!R){var Q={doc:e,selection:n,extensions:_},M=k?pt.fromJSON(k.json,Q,k.fields):pt.create(Q);if(T(M),!N){var L=new Te({state:M,parent:$,root:v});P(L),s&&s(L,M)}}return()=>{N&&(T(void 0),P(void 0))}},[$,R]),S.useEffect(()=>C(t.container),[t.container]),S.useEffect(()=>()=>{N&&(N.destroy(),P(void 0))},[N]),S.useEffect(()=>{l&&N&&N.focus()},[l,N]),S.useEffect(()=>{N&&N.dispatch({effects:Ye.reconfigure.of(_)})},[c,a,u,d,f,h,m,g,y,O,b,w,x,r,o]),S.useEffect(()=>{if(e!==void 0){var Q=N?N.state.doc.toString():"";N&&e!==Q&&N.dispatch({changes:{from:0,to:Q.length,insert:e||""},annotations:[ZF.of(!0)]})}},[e,N]),{state:R,setState:T,view:N,setView:P,container:$,setContainer:C}}var QAe=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],dY=S.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:s=[],onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:c,autoFocus:u,theme:d="light",height:f,minHeight:h,maxHeight:m,width:g,minWidth:y,maxWidth:O,basicSetup:b,placeholder:w,indentWithTab:x,editable:v,readOnly:k,root:$,initialState:C}=t,N=a7(t,QAe),P=S.useRef(null),{state:R,view:T,container:A}=MAe({container:P.current,root:$,value:r,autoFocus:u,theme:d,height:f,minHeight:h,maxHeight:m,width:g,minWidth:y,maxWidth:O,basicSetup:b,placeholder:w,indentWithTab:x,editable:v,readOnly:k,selection:i,onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:c,extensions:s,initialState:C});if(S.useImperativeHandle(e,()=>({editor:P.current,state:R,view:T}),[P,A,R,T]),typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var j=typeof d=="string"?"cm-theme-"+d:"cm-theme";return p.jsx("div",Nh({ref:P,className:""+j+(n?" "+n:"")},N))});dY.displayName="CodeMirror";var UF={};class Zv{constructor(e,n,r,i,s,o,a,l,c,u=0,d){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=d}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new Zv(e,[],n,r,r,0,[],0,i?new XF(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let d=l?this.stack[l-1]:0,f=this.bufferBase+this.buffer.length-d;if(i<s.minRepeatTerm||e&131072){let h=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,h,f+4,!0)}if(e&262144)this.state=this.stack[l];else{let h=this.stack[l-3];this.state=s.getGoto(h,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==r)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||n<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(n,r),n<=o.maxNode&&this.buffer.push(n,r,i,4)}}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new Zv(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new IAe(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let o=n[s+1];i.some((a,l)=>l&1&&a==o)||i.push(n[s],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new XF(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class XF{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class IAe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Uv{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Uv(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Uv(this.stack,this.pos,this.index)}}function Gm(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class pw{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const GF=new pw;class DAe{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=GF,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=GF,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class eh{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;fY(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}eh.prototype.contextual=eh.prototype.fallback=eh.prototype.extend=!1;class Xv{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?Gm(e):e}token(e,n){let r=e.pos,i=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(fY(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}Xv.prototype.contextual=eh.prototype.fallback=eh.prototype.extend=!1;class wi{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function fY(t,e,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;a&t[o];){let c=t[o+1];for(let h=o+3;h<c;h+=2)if((t[h+1]&a)>0){let m=t[h];if(l.allows(m)&&(e.token.value==-1||e.token.value==m||LAe(m,e.token.value,i,s))){e.acceptToken(m);break}}let u=e.next,d=0,f=t[o+2];if(e.next<0&&f>d&&t[c+f*3-3]==65535){o=t[c+f*3-1];continue e}for(;d<f;){let h=d+f>>1,m=c+h+(h<<1),g=t[m],y=t[m+1]||65536;if(u<g)f=h;else if(u>=y)d=h+1;else{o=t[m+2],e.advance();continue e}}break}}function YF(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function LAe(t,e,n,r){let i=YF(n,r,e);return i<0||YF(n,r,t)<i}const Si=typeof process<"u"&&UF&&/\bparse\b/.test(UF.LOG);let hC=null;function HF(t,e,n){let r=t.cursor(qt.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class FAe{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?HF(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?HF(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof ln){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(rt.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class VAe{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new pw)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let u=s[c],d=this.tokens[c];if(!(r&&!u.fallback)&&((u.contextual||d.start!=e.pos||d.mask!=o||d.context!=a)&&(this.updateCachedToken(d,u,e),d.mask=o,d.context=a),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let f=n;if(d.extended>-1&&(n=this.addActions(e,d.extended,d.end,n)),n=this.addActions(e,d.value,d.end,n),!u.extend&&(r=d,n>f))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new pw,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new pw,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=Ba(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(Ba(a,c+2),n,r,i));break}a[c]==n&&(i=this.putAction(Ba(a,c+1),n,r,i))}return i}}class BAe{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new DAe(n,i),this.tokens=new VAe(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[Zv.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new FAe(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&WAe(i);if(o)return Si&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Si&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return Si&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,o=Si?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let f=this.parser.nodeSet.types[d.type.id]==d.type?s.getGoto(e.state,d.type.id):-1;if(f>-1&&d.length&&(!c||(d.prop(rt.contextHash)||0)==u))return e.useNode(d,f),Si&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(d.type.id)})`),!0;if(!(d instanceof ln)||d.children.length==0||d.positions[0]>0)break;let h=d.children[0];if(h instanceof ln&&d.positions[0]==0)d=h;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Si&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],d=l[c++],f=l[c++],h=c==l.length||!r,m=h?e:e.split(),g=this.tokens.mainToken;if(m.apply(u,d,g?g.start:m.pos,f),Si&&console.log(o+this.stackID(m)+` (via ${u&65536?`reduce of ${s.getName(u&65535)}`:"shift"} for ${s.getName(d)} @ ${i}${m==e?"":", split"})`),h)return!0;m.pos>i?n.push(m):r.push(m)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return JF(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],c=n[(o<<1)+1],u=Si?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),Si&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let d=a.split(),f=u;for(let h=0;d.forceReduce()&&h<10&&(Si&&console.log(f+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));h++)Si&&(f=this.stackID(d)+" -> ");for(let h of a.recoverByInsert(l))Si&&console.log(u+this.stackID(h)+" (via recover-insert)"),this.advanceFully(h,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),Si&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),JF(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),ln.build({buffer:Uv.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(hC||(hC=new WeakMap)).get(e);return n||hC.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function JF(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class qAe{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const pC=t=>t;class hY{constructor(e){this.start=e.start,this.shift=e.shift||pC,this.reduce=e.reduce||pC,this.reuse=e.reuse||pC,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Xc extends LX{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=rt[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)s(u,l,a[c++]);else{let d=a[c+-u];for(let f=-u;f>0;f--)s(a[c++],l,d);c++}}}this.nodeSet=new cR(n.map((a,l)=>ti.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=RX;let o=Gm(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(KF),this.states=Gm(e.states,Uint32Array),this.data=Gm(e.stateData),this.goto=Gm(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new eh(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new BAe(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let c=s+(o>>1);s<c;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=Ba(r,s+2)];else{if(r[s+1]==2)return Ba(r,s+2);break}if(o==n||o==0)return Ba(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Ba(this.data,s+2);else break;i=n(Ba(this.data,s+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Ba(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((s,o)=>o&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(Xc.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=KF(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new qAe(e,r,i)}static deserialize(e){return new Xc(e)}}function Ba(t,e){return t[e]|t[e+1]<<16}function WAe(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function KF(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const zAe=kp({String:G.string,Number:G.number,"True False":G.bool,PropertyName:G.propertyName,Null:G.null,", :":G.separator,"[ ]":G.squareBracket,"{ }":G.brace}),ZAe=Xc.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[zAe],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),UAe=Zc.define({name:"json",parser:ZAe.configure({props:[$p.add({Object:Hf({except:/^\s*\}/}),Array:Hf({except:/^\s*\]/})}),Cp.add({"Object Array":gR})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function XAe(){return new yO(UAe)}const GAe=54,YAe=1,HAe=55,JAe=2,KAe=56,eRe=3,eV=4,tRe=5,Gv=6,pY=7,mY=8,gY=9,yY=10,nRe=11,rRe=12,iRe=13,mC=57,sRe=14,tV=58,OY=20,oRe=22,bY=23,aRe=24,uE=26,xY=27,lRe=28,cRe=31,uRe=34,dRe=36,fRe=37,hRe=0,pRe=1,mRe={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},gRe={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},nV={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function yRe(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function wY(t){return t==9||t==10||t==13||t==32}let rV=null,iV=null,sV=0;function dE(t,e){let n=t.pos+e;if(sV==n&&iV==t)return rV;let r=t.peek(e);for(;wY(r);)r=t.peek(++e);let i="";for(;yRe(r);)i+=String.fromCharCode(r),r=t.peek(++e);return iV=t,sV=n,rV=i?i.toLowerCase():r==ORe||r==bRe?void 0:null}const vY=60,Yv=62,TR=47,ORe=63,bRe=33,xRe=45;function oV(t,e){this.name=t,this.parent=e}const wRe=[Gv,yY,pY,mY,gY],vRe=new hY({start:null,shift(t,e,n,r){return wRe.indexOf(e)>-1?new oV(dE(r,1)||"",t):t},reduce(t,e){return e==OY&&t?t.parent:t},reuse(t,e,n,r){let i=e.type.id;return i==Gv||i==dRe?new oV(dE(r,1)||"",t):t},strict:!1}),SRe=new wi((t,e)=>{if(t.next!=vY){t.next<0&&e.context&&t.acceptToken(mC);return}t.advance();let n=t.next==TR;n&&t.advance();let r=dE(t,0);if(r===void 0)return;if(!r)return t.acceptToken(n?sRe:Gv);let i=e.context?e.context.name:null;if(n){if(r==i)return t.acceptToken(nRe);if(i&&gRe[i])return t.acceptToken(mC,-2);if(e.dialectEnabled(hRe))return t.acceptToken(rRe);for(let s=e.context;s;s=s.parent)if(s.name==r)return;t.acceptToken(iRe)}else{if(r=="script")return t.acceptToken(pY);if(r=="style")return t.acceptToken(mY);if(r=="textarea")return t.acceptToken(gY);if(mRe.hasOwnProperty(r))return t.acceptToken(yY);i&&nV[i]&&nV[i][r]?t.acceptToken(mC,-1):t.acceptToken(Gv)}},{contextual:!0}),kRe=new wi(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(tV);break}if(t.next==xRe)e++;else if(t.next==Yv&&e>=2){n>=3&&t.acceptToken(tV,-2);break}else e=0;t.advance()}});function $Re(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const CRe=new wi((t,e)=>{if(t.next==TR&&t.peek(1)==Yv){let n=e.dialectEnabled(pRe)||$Re(e.context);t.acceptToken(n?tRe:eV,2)}else t.next==Yv&&t.acceptToken(eV,1)});function AR(t,e,n){let r=2+t.length;return new wi(i=>{for(let s=0,o=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(e);break}if(s==0&&i.next==vY||s==1&&i.next==TR||s>=2&&s<r&&i.next==t.charCodeAt(s-2))s++,o++;else if((s==2||s==r)&&wY(i.next))o++;else if(s==r&&i.next==Yv){a>o?i.acceptToken(e,-o):i.acceptToken(n,-(o-2));break}else if((i.next==10||i.next==13)&&a){i.acceptToken(e,1);break}else s=o=0;i.advance()}})}const PRe=AR("script",GAe,YAe),jRe=AR("style",HAe,JAe),NRe=AR("textarea",KAe,eRe),ERe=kp({"Text RawText":G.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":G.angleBracket,TagName:G.tagName,"MismatchedCloseTag/TagName":[G.tagName,G.invalid],AttributeName:G.attributeName,"AttributeValue UnquotedAttributeValue":G.attributeValue,Is:G.definitionOperator,"EntityReference CharacterReference":G.character,Comment:G.blockComment,ProcessingInst:G.processingInstruction,DoctypeDecl:G.documentMeta}),_Re=Xc.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:vRe,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[ERe],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[PRe,jRe,NRe,CRe,SRe,kRe,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function SY(t,e){let n=Object.create(null);for(let r of t.getChildren(bY)){let i=r.getChild(aRe),s=r.getChild(uE)||r.getChild(xY);i&&(n[e.read(i.from,i.to)]=s?s.type.id==uE?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return n}function aV(t,e){let n=t.getChild(oRe);return n?e.read(n.from,n.to):" "}function gC(t,e,n){let r;for(let i of n)if(!i.attrs||i.attrs(r||(r=SY(t.node.parent.firstChild,e))))return{parser:i.parser};return null}function kY(t=[],e=[]){let n=[],r=[],i=[],s=[];for(let a of t)(a.tag=="script"?n:a.tag=="style"?r:a.tag=="textarea"?i:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return FX((a,l)=>{let c=a.type.id;if(c==lRe)return gC(a,l,n);if(c==cRe)return gC(a,l,r);if(c==uRe)return gC(a,l,i);if(c==OY&&s.length){let u=a.node,d=u.firstChild,f=d&&aV(d,l),h;if(f){for(let m of s)if(m.tag==f&&(!m.attrs||m.attrs(h||(h=SY(d,l))))){let g=u.lastChild,y=g.type.id==fRe?g.from:u.to;if(y>d.to)return{parser:m.parser,overlay:[{from:d.to,to:y}]}}}}if(o&&c==bY){let u=a.node,d;if(d=u.firstChild){let f=o[l.read(d.from,d.to)];if(f)for(let h of f){if(h.tagName&&h.tagName!=aV(u.parent,l))continue;let m=u.lastChild;if(m.type.id==uE){let g=m.from+1,y=m.lastChild,O=m.to-(y&&y.isError?0:1);if(O>g)return{parser:h.parser,overlay:[{from:g,to:O}]}}else if(m.type.id==xY)return{parser:h.parser,overlay:[{from:m.from,to:m.to}]}}}}return null})}const TRe=99,lV=1,ARe=100,RRe=101,cV=2,$Y=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],MRe=58,QRe=40,CY=95,IRe=91,mw=45,DRe=46,LRe=35,FRe=37,VRe=38,BRe=92,qRe=10;function oy(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function PY(t){return t>=48&&t<=57}const WRe=new wi((t,e)=>{for(let n=!1,r=0,i=0;;i++){let{next:s}=t;if(oy(s)||s==mw||s==CY||n&&PY(s))!n&&(s!=mw||i>0)&&(n=!0),r===i&&s==mw&&r++,t.advance();else if(s==BRe&&t.peek(1)!=qRe)t.advance(),t.next>-1&&t.advance(),n=!0;else{n&&t.acceptToken(s==QRe?ARe:r==2&&e.canShift(cV)?cV:RRe);break}}}),zRe=new wi(t=>{if($Y.includes(t.peek(-1))){let{next:e}=t;(oy(e)||e==CY||e==LRe||e==DRe||e==IRe||e==MRe&&oy(t.peek(1))||e==mw||e==VRe)&&t.acceptToken(TRe)}}),ZRe=new wi(t=>{if(!$Y.includes(t.peek(-1))){let{next:e}=t;if(e==FRe&&(t.advance(),t.acceptToken(lV)),oy(e)){do t.advance();while(oy(t.next)||PY(t.next));t.acceptToken(lV)}}}),URe=kp({"AtKeyword import charset namespace keyframes media supports":G.definitionKeyword,"from to selector":G.keyword,NamespaceName:G.namespace,KeyframeName:G.labelName,KeyframeRangeName:G.operatorKeyword,TagName:G.tagName,ClassName:G.className,PseudoClassName:G.constant(G.className),IdName:G.labelName,"FeatureName PropertyName":G.propertyName,AttributeName:G.attributeName,NumberLiteral:G.number,KeywordQuery:G.keyword,UnaryQueryOp:G.operatorKeyword,"CallTag ValueName":G.atom,VariableName:G.variableName,Callee:G.operatorKeyword,Unit:G.unit,"UniversalSelector NestingSelector":G.definitionOperator,MatchOp:G.compareOperator,"ChildOp SiblingOp, LogicOp":G.logicOperator,BinOp:G.arithmeticOperator,Important:G.modifier,Comment:G.blockComment,ColorLiteral:G.color,"ParenthesizedContent StringLiteral":G.string,":":G.punctuation,"PseudoOp #":G.derefOperator,"; ,":G.separator,"( )":G.paren,"[ ]":G.squareBracket,"{ }":G.brace}),XRe={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},GRe={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},YRe={__proto__:null,not:132,only:132},HRe=Xc.deserialize({version:14,states:":jQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO-kQdO,59}O-{Q[O'#E^O.YQWO,5;_O.YQWO,5;_POOO'#EV'#EVP.eO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO/[QXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/iQ`O1G/^O0SQXO1G/aO0jQXO1G/cO1QQXO1G/dO1hQWO,59|O1mQ[O'#DSO1tQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1{QpO,59]OOQS,59_,59_O${QdO,59aO2TQWO1G/mOOQS,59c,59cO2YQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2eQ[O,59jOOQS,59j,59jO2mQWO'#DjO2xQWO,5:VO2}QWO,5:]O&`Q[O,5:XO&`Q[O'#E_O3VQWO,5;`O3bQWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3sQWO1G0OO3xQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO4TQtO1G/iOOQO1G/i1G/iOOQO,5:x,5:xO4kQ[O,5:xOOQO-E8[-E8[O4xQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO5TQXO'#ErO5[QWO,59nO5aQtO'#EXO6XQdO'#EoO6cQWO,59ZO6hQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XOOQS1G/P1G/PO6pQWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6uQWO,5:yOOQO-E8]-E8]O7TQXO1G/xOOQS7+%j7+%jO7[QYO'#CsOOQO'#EQ'#EQO7gQ`O'#EPOOQO'#EP'#EPO7rQWO'#E`O7zQdO,5:jOOQS,5:j,5:jO8VQtO'#E]O${QdO'#E]O9WQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9kQpO<<HdO9sQWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9{QWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO:TQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3{QdO'#EaO7rQWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO:[QtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO;]QdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";o~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!X#rO!Y!Va#U!Va!S!Va~P${O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#xO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.pOp#zO|#{O~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/qOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/qOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/qO!S#|O~Oa#fP~P(aOa#cP~P${Oa$TOj#XO~O!Y$VO~Oa$WOh$XOo$XO~Op$ZO#X#]O~O]!`Xa!^X!b!^X~O]$[O~Oa$]O!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$bO~O!S$iO#X$dO#e$cO~Oj#XOt$kO!X$mO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$qO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$sOa#cX~P${Oa$uO~Oj#XOp$vO~Oa$wO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$yO~P.pOP#WOtgX!TgX~O#e$cOt!sX!T!sX~Ot${O!TwO~O!S%PO#X$dO#e$cO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$kO!X%SO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%TO~OtoOa#fa~Ot$sOa#ca~Oa%WO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#tkYOPdhotuvw!n#R#h#tkSOPdhotuvw!n#R#h#tQmTR!tnQ{VR!xqQ!x}Q#Z!XR#y!zq![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UU$f#m$h${R$z$eq!XZ]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#y!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ$}$gR%Z$|SgPwQ!phQ#s!nR$n#tZfPhw!n#ta!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$g#m$hR%X${V$e#m$h${Q!rjR#w!rQdOShPwU!ldh#tR#t!nQ$Q#SU$r$Q$x%UQ$x$[R%U$sQ#_!ZR$Y#_Q$t$QR%V$tQpUS!vp$pR$p#}Q$l#qR%R$lQ!ogS#u!o#vR#v!pQ#f!_R$`#fQ$h#mR%O$hQ$|$gR%Y$|_cOPdhw!n#t^UOPdhw!n#tQ!uoQ!}tQ#OuQ#PvQ#}#RR$a#hR$R#SQ!VZQ!d]Q#V!TQ#q!m[$P#S$Q$[$s$x%UQ$S#UQ$U#XS$j#q$lQ$o#{R%Q$kR$O#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$^#dR$_#e",nodeNames:" Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[URe],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[zRe,ZRe,WRe,1,2,3,4,new Xv("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:t=>XRe[t]||-1},{term:58,get:t=>GRe[t]||-1},{term:101,get:t=>YRe[t]||-1}],tokenPrec:1219});let yC=null;function OC(){if(!yC&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));yC=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return yC||[]}const uV=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),dV=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),JRe=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),KRe=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),Na=/^(\w[\w-]*|-\w[\w-]*|)$/,eMe=/^-(-[\w-]*)?$/;function tMe(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const fV=new DX,nMe=["Declaration"];function rMe(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function jY(t,e,n){if(e.to-e.from>4096){let r=fV.get(e);if(r)return r;let i=[],s=new Set,o=e.cursor(qt.IncludeAnonymous);if(o.firstChild())do for(let a of jY(t,o.node,n))s.has(a.label)||(s.add(a.label),i.push(a));while(o.nextSibling());return fV.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(s=>{var o;if(n(s)&&s.matchContext(nMe)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=t.sliceString(s.from,s.to);i.has(a)||(i.add(a),r.push({label:a,type:"variable"}))}}),r}}const iMe=t=>e=>{let{state:n,pos:r}=e,i=cn(n).resolveInner(r,-1),s=i.type.isError&&i.from==i.to-1&&n.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(s||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:OC(),validFor:Na};if(i.name=="ValueName")return{from:i.from,options:dV,validFor:Na};if(i.name=="PseudoClassName")return{from:i.from,options:uV,validFor:Na};if(t(i)||(e.explicit||s)&&tMe(i,n.doc))return{from:t(i)||s?i.from:r,options:jY(n.doc,rMe(i),t),validFor:eMe};if(i.name=="TagName"){for(let{parent:l}=i;l;l=l.parent)if(l.name=="Block")return{from:i.from,options:OC(),validFor:Na};return{from:i.from,options:JRe,validFor:Na}}if(i.name=="AtKeyword")return{from:i.from,options:KRe,validFor:Na};if(!e.explicit)return null;let o=i.resolve(r),a=o.childBefore(r);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:r,options:uV,validFor:Na}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:r,options:dV,validFor:Na}:o.name=="Block"||o.name=="Styles"?{from:r,options:OC(),validFor:Na}:null},sMe=iMe(t=>t.name=="VariableName"),Hv=Zc.define({name:"css",parser:HRe.configure({props:[$p.add({Declaration:Hf()}),Cp.add({"Block KeyframeList":gR})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function oMe(){return new yO(Hv,Hv.data.of({autocomplete:sMe}))}const aMe=314,lMe=315,hV=1,cMe=2,uMe=3,dMe=4,fMe=316,hMe=318,pMe=319,mMe=5,gMe=6,yMe=0,fE=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],NY=125,OMe=59,hE=47,bMe=42,xMe=43,wMe=45,vMe=60,SMe=44,kMe=63,$Me=46,CMe=91,PMe=new hY({start:!1,shift(t,e){return e==mMe||e==gMe||e==hMe?t:e==pMe},strict:!1}),jMe=new wi((t,e)=>{let{next:n}=t;(n==NY||n==-1||e.context)&&t.acceptToken(fMe)},{contextual:!0,fallback:!0}),NMe=new wi((t,e)=>{let{next:n}=t,r;fE.indexOf(n)>-1||n==hE&&((r=t.peek(1))==hE||r==bMe)||n!=NY&&n!=OMe&&n!=-1&&!e.context&&t.acceptToken(aMe)},{contextual:!0}),EMe=new wi((t,e)=>{t.next==CMe&&!e.context&&t.acceptToken(lMe)},{contextual:!0}),_Me=new wi((t,e)=>{let{next:n}=t;if(n==xMe||n==wMe){if(t.advance(),n==t.next){t.advance();let r=!e.context&&e.canShift(hV);t.acceptToken(r?hV:cMe)}}else n==kMe&&t.peek(1)==$Me&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(uMe))},{contextual:!0});function bC(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const TMe=new wi((t,e)=>{if(t.next!=vMe||!e.dialectEnabled(yMe)||(t.advance(),t.next==hE))return;let n=0;for(;fE.indexOf(t.next)>-1;)t.advance(),n++;if(bC(t.next,!0)){for(t.advance(),n++;bC(t.next,!1);)t.advance(),n++;for(;fE.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==SMe)return;for(let r=0;;r++){if(r==7){if(!bC(t.next,!0))return;break}if(t.next!="extends".charCodeAt(r))break;t.advance(),n++}}t.acceptToken(dMe,-n)}),AMe=kp({"get set async static":G.modifier,"for while do if else switch try catch finally return throw break continue default case":G.controlKeyword,"in of await yield void typeof delete instanceof":G.operatorKeyword,"let var const using function class extends":G.definitionKeyword,"import export from":G.moduleKeyword,"with debugger as new":G.keyword,TemplateString:G.special(G.string),super:G.atom,BooleanLiteral:G.bool,this:G.self,null:G.null,Star:G.modifier,VariableName:G.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":G.function(G.variableName),VariableDefinition:G.definition(G.variableName),Label:G.labelName,PropertyName:G.propertyName,PrivatePropertyName:G.special(G.propertyName),"CallExpression/MemberExpression/PropertyName":G.function(G.propertyName),"FunctionDeclaration/VariableDefinition":G.function(G.definition(G.variableName)),"ClassDeclaration/VariableDefinition":G.definition(G.className),"NewExpression/VariableName":G.className,PropertyDefinition:G.definition(G.propertyName),PrivatePropertyDefinition:G.definition(G.special(G.propertyName)),UpdateOp:G.updateOperator,"LineComment Hashbang":G.lineComment,BlockComment:G.blockComment,Number:G.number,String:G.string,Escape:G.escape,ArithOp:G.arithmeticOperator,LogicOp:G.logicOperator,BitOp:G.bitwiseOperator,CompareOp:G.compareOperator,RegExp:G.regexp,Equals:G.definitionOperator,Arrow:G.function(G.punctuation),": Spread":G.punctuation,"( )":G.paren,"[ ]":G.squareBracket,"{ }":G.brace,"InterpolationStart InterpolationEnd":G.special(G.brace),".":G.derefOperator,", ;":G.separator,"@":G.meta,TypeName:G.typeName,TypeDefinition:G.definition(G.typeName),"type enum interface implements namespace module declare":G.definitionKeyword,"abstract global Privacy readonly override":G.modifier,"is keyof unique infer asserts":G.operatorKeyword,JSXAttributeValue:G.attributeValue,JSXText:G.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":G.angleBracket,"JSXIdentifier JSXNameSpacedName":G.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":G.attributeName,"JSXBuiltin/JSXIdentifier":G.standard(G.tagName)}),RMe={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},MMe={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},QMe={__proto__:null,"<":189},IMe=Xc.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:PMe,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[AMe],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[NMe,EMe,_Me,TMe,2,3,4,5,6,7,8,9,10,11,12,13,14,jMe,new Xv("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new Xv("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:t=>RMe[t]||-1},{term:341,get:t=>MMe[t]||-1},{term:93,get:t=>QMe[t]||-1}],tokenPrec:15116}),EY=[ii("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),ii("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),ii("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),ii("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),ii("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),ii(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),ii("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),ii(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),ii(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),ii('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),ii('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],DMe=EY.concat([ii("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),ii("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),ii("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),pV=new DX,_Y=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function xm(t){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,t),!0}}const LMe=["FunctionDeclaration"],FMe={FunctionDeclaration:xm("function"),ClassDeclaration:xm("class"),ClassExpression:()=>!0,EnumDeclaration:xm("constant"),TypeAliasDeclaration:xm("type"),NamespaceDeclaration:xm("namespace"),VariableDefinition(t,e){t.matchContext(LMe)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function TY(t,e){let n=pV.get(e);if(n)return n;let r=[],i=!0;function s(o,a){let l=t.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(qt.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let a=FMe[o.name];if(a&&a(o,s)||_Y.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of TY(t,o.node))r.push(a);return!1}}),pV.set(e,r),r}const mV=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,AY=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function VMe(t){let e=cn(t.state).resolveInner(t.pos,-1);if(AY.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&mV.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let i=e;i;i=i.parent)_Y.has(i.name)&&(r=r.concat(TY(t.state.doc,i)));return{options:r,from:n?e.from:t.pos,validFor:mV}}const ra=Zc.define({name:"javascript",parser:IMe.configure({props:[$p.add({IfStatement:Hf({except:/^\s*({|else\b)/}),TryStatement:Hf({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:UEe,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:ZX({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":Hf({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),Cp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":gR,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),RY={test:t=>/^JSX/.test(t.name),facet:qX({commentTokens:{block:{open:"{/*",close:"*/}"}}})},MY=ra.configure({dialect:"ts"},"typescript"),QY=ra.configure({dialect:"jsx",props:[hR.add(t=>t.isTop?[RY]:void 0)]}),IY=ra.configure({dialect:"jsx ts",props:[hR.add(t=>t.isTop?[RY]:void 0)]},"typescript");let DY=t=>({label:t,type:"keyword"});const LY="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(DY),BMe=LY.concat(["declare","implements","private","protected","public"].map(DY));function qMe(t={}){let e=t.jsx?t.typescript?IY:QY:t.typescript?MY:ra,n=t.typescript?DMe.concat(BMe):EY.concat(LY);return new yO(e,[ra.data.of({autocomplete:dTe(AY,YG(n))}),ra.data.of({autocomplete:VMe}),t.jsx?ZMe:[]])}function WMe(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function gV(t,e,n=t.length){for(let r=e==null?void 0:e.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,n));return""}const zMe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),ZMe=Te.inputHandler.of((t,e,n,r,i)=>{if((zMe?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||r!=">"&&r!="/"||!ra.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var c;let{head:u}=l,d=cn(o).resolveInner(u-1,-1),f;if(d.name=="JSXStartTag"&&(d=d.parent),!(o.doc.sliceString(u-1,u)!=r||d.name=="JSXAttributeValue"&&d.to>u)){if(r==">"&&d.name=="JSXFragmentTag")return{range:l,changes:{from:u,insert:"</>"}};if(r=="/"&&d.name=="JSXStartCloseTag"){let h=d.parent,m=h.parent;if(m&&h.from==u-2&&((f=gV(o.doc,m.firstChild,u))||((c=m.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let g=`${f}>`;return{range:Oe.cursor(u+g.length,-1),changes:{from:u,insert:g}}}}else if(r==">"){let h=WMe(d);if(h&&h.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(u,u+2))&&(f=gV(o.doc,h,u)))return{range:l,changes:{from:u,insert:`</${f}>`}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),wm=["_blank","_self","_top","_parent"],xC=["ascii","utf-8","utf-16","latin1","latin1"],wC=["get","post","put","delete"],vC=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],ki=["true","false"],Be={},UMe={a:{attrs:{href:null,ping:null,type:null,media:null,target:wm,hreflang:null}},abbr:Be,address:Be,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Be,aside:Be,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Be,base:{attrs:{href:null,target:wm}},bdi:Be,bdo:Be,blockquote:{attrs:{cite:null}},body:Be,br:Be,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:vC,formmethod:wC,formnovalidate:["novalidate"],formtarget:wm,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Be,center:Be,cite:Be,code:Be,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Be,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Be,div:Be,dl:Be,dt:Be,em:Be,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Be,figure:Be,footer:Be,form:{attrs:{action:null,name:null,"accept-charset":xC,autocomplete:["on","off"],enctype:vC,method:wC,novalidate:["novalidate"],target:wm}},h1:Be,h2:Be,h3:Be,h4:Be,h5:Be,h6:Be,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Be,hgroup:Be,hr:Be,html:{attrs:{manifest:null}},i:Be,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:vC,formmethod:wC,formnovalidate:["novalidate"],formtarget:wm,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Be,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Be,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Be,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:xC,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Be,noscript:Be,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Be,param:{attrs:{name:null,value:null}},pre:Be,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Be,rt:Be,ruby:Be,samp:Be,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:xC}},section:Be,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Be,source:{attrs:{src:null,type:null,media:null}},span:Be,strong:Be,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Be,summary:Be,sup:Be,table:Be,tbody:Be,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Be,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Be,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Be,time:{attrs:{datetime:null}},title:Be,tr:Be,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Be,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Be},FY={accesskey:null,class:null,contenteditable:ki,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:ki,autocorrect:ki,autocapitalize:ki,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":ki,"aria-autocomplete":["inline","list","both","none"],"aria-busy":ki,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":ki,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":ki,"aria-hidden":ki,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":ki,"aria-multiselectable":ki,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":ki,"aria-relevant":null,"aria-required":ki,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},VY="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of VY)FY[t]=null;class Jv{constructor(e,n){this.tags=Object.assign(Object.assign({},UMe),e),this.globalAttrs=Object.assign(Object.assign({},FY),n),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Jv.default=new Jv;function Bh(t,e,n=t.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,n)):""}function qh(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function BY(t,e,n){let r=n.tags[Bh(t,qh(e))];return(r==null?void 0:r.children)||n.allTags}function RR(t,e){let n=[];for(let r=qh(e);r&&!r.type.isTop;r=qh(r.parent)){let i=Bh(t,r);if(i&&r.lastChild.name=="CloseTag")break;i&&n.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(i)}return n}const qY=/^[:\-\.\w\u00b7-\uffff]*$/;function yV(t,e,n,r,i){let s=/\s*>/.test(t.sliceDoc(i,i+5))?"":">",o=qh(n,!0);return{from:r,to:i,options:BY(t.doc,o,e).map(a=>({label:a,type:"type"})).concat(RR(t.doc,n).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function OV(t,e,n,r){let i=/\s*>/.test(t.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:RR(t.doc,e).map((s,o)=>({label:s,apply:s+i,type:"type",boost:99-o})),validFor:qY}}function XMe(t,e,n,r){let i=[],s=0;for(let o of BY(t.doc,n,e))i.push({label:"<"+o,type:"type"});for(let o of RR(t.doc,n))i.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function GMe(t,e,n,r,i){let s=qh(n),o=s?e.tags[Bh(t.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:l.map(c=>({label:c,type:"property"})),validFor:qY}}function YMe(t,e,n,r,i){var s;let o=(s=n.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let c=t.sliceDoc(o.from,o.to),u=e.globalAttrs[c];if(!u){let d=qh(n),f=d?e.tags[Bh(t.doc,d)]:null;u=(f==null?void 0:f.attrs)&&f.attrs[c]}if(u){let d=t.sliceDoc(r,i).toLowerCase(),f='"',h='"';/^['"]/.test(d)?(l=d[0]=='"'?/^[^"]*$/:/^[^']*$/,f="",h=t.sliceDoc(i,i+1)==d[0]?"":d[0],d=d.slice(1),r++):l=/^[^\s<>='"]*$/;for(let m of u)a.push({label:m,apply:f+m+h,type:"constant"})}}return{from:r,to:i,options:a,validFor:l}}function HMe(t,e){let{state:n,pos:r}=e,i=cn(n).resolveInner(r,-1),s=i.resolve(r);for(let o=r,a;s==i&&(a=i.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=i=a,o=l.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?OV(n,i,i.from,r):yV(n,t,i,i.from,r):i.name=="StartTag"?yV(n,t,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?OV(n,i,r,r):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?GMe(n,t,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?YMe(n,t,i,i.name=="Is"?r:i.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?XMe(n,t,i,r):null}function JMe(t){let{extraTags:e,extraGlobalAttributes:n}=t,r=n||e?new Jv(e,n):Jv.default;return i=>HMe(r,i)}const KMe=ra.parser.configure({top:"SingleExpression"}),WY=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:MY.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:QY.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:IY.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:KMe},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:ra.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:Hv.parser}],zY=[{name:"style",parser:Hv.parser.configure({top:"Styles"})}].concat(VY.map(t=>({name:t,parser:ra.parser}))),ZY=Zc.define({name:"html",parser:_Re.configure({props:[$p.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let r=t.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),Cp.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),oG.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),gw=ZY.configure({wrap:kY(WY,zY)});function eQe(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=kY((t.nestedLanguages||[]).concat(WY),(t.nestedAttributes||[]).concat(zY)));let r=n?ZY.configure({wrap:n,dialect:e}):e?gw.configure({dialect:e}):gw;return new yO(r,[gw.data.of({autocomplete:JMe(t)}),t.autoCloseTags!==!1?tQe:[],qMe().support,oMe().support])}const bV=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),tQe=Te.inputHandler.of((t,e,n,r,i)=>{if(t.composing||t.state.readOnly||e!=n||r!=">"&&r!="/"||!gw.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var c,u,d;let f=o.doc.sliceString(l.from-1,l.to)==r,{head:h}=l,m=cn(o).resolveInner(h,-1),g;if(f&&r==">"&&m.name=="EndTag"){let y=m.parent;if(((u=(c=y.parent)===null||c===void 0?void 0:c.lastChild)===null||u===void 0?void 0:u.name)!="CloseTag"&&(g=Bh(o.doc,y.parent,h))&&!bV.has(g)){let O=h+(o.doc.sliceString(h,h+1)===">"?1:0),b=`</${g}>`;return{range:l,changes:{from:h,to:O,insert:b}}}}else if(f&&r=="/"&&m.name=="IncompleteCloseTag"){let y=m.parent;if(m.from==h-2&&((d=y.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(g=Bh(o.doc,y,h))&&!bV.has(g)){let O=h+(o.doc.sliceString(h,h+1)===">"?1:0),b=`${g}>`;return{range:Oe.cursor(h+b.length,-1),changes:{from:h,to:O,insert:b}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),nQe=1,rQe=2,iQe=3,sQe=180,oQe=4,aQe=181,lQe=5,cQe=182;function uQe(t){return t>=65&&t<=90||t>=97&&t<=122}const dQe=new wi(t=>{let e=t.pos;for(;;){let{next:n}=t;if(n<0)break;if(n==123){let r=t.peek(1);if(r==123){if(t.pos>e)break;t.acceptToken(nQe,2);return}else if(r==37){if(t.pos>e)break;let i=2,s=2;for(;;){let o=t.peek(i);if(o==32||o==10)++i;else if(o==35)for(++i;;){let a=t.peek(i);if(a<0||a==10)break;i++}else if(o==45&&s==2)s=++i;else{let a=o==101&&t.peek(i+1)==110&&t.peek(i+2)==100;t.acceptToken(a?iQe:rQe,s);return}}}}if(t.advance(),n==10)break}t.pos>e&&t.acceptToken(sQe)});function UY(t,e,n){return new wi(r=>{let i=r.pos;for(;;){let{next:s}=r;if(s==123&&r.peek(1)==37){let o=2;for(;;o++){let l=r.peek(o);if(l!=32&&l!=10)break}let a="";for(;;o++){let l=r.peek(o);if(!uQe(l))break;a+=String.fromCharCode(l)}if(a==t){if(r.pos>i)break;r.acceptToken(n,2);break}}else if(s<0)break;if(r.advance(),s==10)break}r.pos>i&&r.acceptToken(e)})}const fQe=UY("endcomment",cQe,lQe),hQe=UY("endraw",aQe,oQe),pQe={__proto__:null,contains:32,or:36,and:36,true:50,false:50,empty:52,forloop:54,tablerowloop:56,continue:58,in:128,with:194,for:196,as:198,if:234,endif:238,unless:244,endunless:248,elsif:252,else:256,case:262,endcase:266,when:270,endfor:278,tablerow:284,endtablerow:288,break:292,cycle:298,echo:302,render:306,include:312,assign:316,capture:322,endcapture:326,increment:330,decrement:334},mQe={__proto__:null,if:82,endif:86,elsif:90,else:94,unless:100,endunless:104,case:110,endcase:114,when:118,for:126,endfor:136,tablerow:142,endtablerow:146,break:150,continue:154,cycle:158,comment:164,endcomment:170,raw:176,endraw:182,echo:186,render:190,include:202,assign:206,capture:212,endcapture:216,increment:220,decrement:224,liquid:228},gQe=Xc.deserialize({version:14,states:"HOQYOPOOOOOP'#F{'#F{OeOXO'#CdOsQWO'#CfO!bQ`O'#DQO#{OPO'#DTO$ZOPO'#D^O$iOPO'#DcO$wOPO'#DkO%VOPO'#DsO%eOSO'#EOO%jOQO'#EUO%oOPO'#EhOOOP'#G`'#G`OOOP'#G]'#G]OOOP'#Fz'#FzQYOPOOOOOP-E9y-E9yOOQO'#Cg'#CgO&`QpO,59QO&gQpO'#G^OsQWO'#CsOOQO'#G^'#G^OOOP,59l,59lO)PQWO,59lOsQWO,59pOsQWO,59tO)ZQWO,59vOsQWO,59yOsQWO,5:OOsQWO,5:SO!]QWO,5:WO!]QWO,5:`O)`QWO,5:dO)eQWO,5:fO)jQWO,5:hO)oQWO,5:kO)tQWO,5:qOsQWO,5:vOsQWO,5:xOsQWO,5;OOsQWO,5;QOsQWO,5;TOsQWO,5;XOsQWO,5;ZO+TQWO,5;]O+[OPO'#CdOOOP,59o,59oO#{OPO,59oO+jQ`O'#DWOOOP,59x,59xO$ZOPO,59xO+oQ`O'#DaOOOP,59},59}O$iOPO,59}O+tQ`O'#DfOOOP,5:V,5:VO$wOPO,5:VO+yQ`O'#DqOOOP,5:_,5:_O%VOPO,5:_O,OQ`O'#DvOOOS'#GQ'#GQO,TOSO'#ERO,]OSO,5:jOOOQ'#GR'#GRO,bOQO'#EXO,jOQO,5:pOOOP,5;S,5;SO%oOPO,5;SO,oQ`O'#EkOOOP-E9x-E9xO,tQ!bO,59SOsQWO,59VOsQWO,59VO,yQWO'#C|OOQO'#F|'#F|O-OQWO1G.lOOOP1G.l1G.lOsQWO,59VOsQWO,59ZO-WQpO,59_O-iQpO1G/WO-pQWO1G/WOOOP1G/W1G/WO-xQpO1G/[O.ZQpO1G/`OOOP1G/b1G/bO.lQpO1G/eO.}QpO1G/jO/qQpO1G/nO/xQWO1G/rO/}QWO1G/zOOOP1G0O1G0OOOOP1G0Q1G0QO0SQWO1G0SOOOS1G0V1G0VOOOQ1G0]1G0]O0_QpO1G0bO0fQpO1G0dO1QQpO1G0jO1cQpO1G0lO1jQpO1G0oO1{QpO1G0sO2^QpO1G0uO2oQWO'#EsO2vQWO'#ExO2}QWO'#FRO3UQWO'#FYO3]QWO'#F^O3dQWO'#FqOOQO'#Ga'#GaOOQO'#GT'#GTO3kQWO1G0wOsQWO'#EtOsQWO'#EyOsQWO'#E}OOQO'#FP'#FPOsQWO'#FSOsQWO'#FWO!]QWO'#FZO!]QWO'#F_OOQO'#Fc'#FcOOQO'#Fe'#FeO3rQWO'#FfOsQWO'#FhOsQWO'#FjOsQWO'#FmOsQWO'#FoOsQWO'#FrOsQWO'#FvOsQWO'#FxOOOP1G0w1G0wOOOP1G/Z1G/ZO3wQWO,59rOOOP1G/d1G/dO3|QWO,59{OOOP1G/i1G/iO4RQWO,5:QOOOP1G/q1G/qO4WQWO,5:]OOOP1G/y1G/yO4]QWO,5:bOOOS-E:O-E:OOOOP1G0U1G0UO4bQ`O'#ESOOOQ-E:P-E:POOOP1G0[1G0[O4gQ`O'#EYOOOP1G0n1G0nO4lQWO,5;VOOQO1G.n1G.nOOQO1G.q1G.qO7QQpO1G.qOOQO'#DO'#DOO7[QWO,59hOOQO-E9z-E9zOOOP7+$W7+$WO9UQpO1G.qO9`QpO1G.uOsQWO1G.yO;uQWO7+$rOOOP7+$r7+$rOOOP7+$v7+$vOOOP7+$z7+$zOOOP7+%P7+%POOOP7+%U7+%UOsQWO'#F}O;}QWO7+%YOOOP7+%Y7+%YOsQWO7+%^OsQWO7+%fO<VQWO'#GPO<[QWO7+%nOOOP7+%n7+%nO<dQWO7+%nO<iQWO7+%|OOOP7+%|7+%|O!]QWO'#E`OOQO'#GS'#GSO<qQWO7+&OOsQWO'#E`OOOP7+&O7+&OOOOP7+&U7+&UO=PQWO7+&WOOOP7+&W7+&WOOOP7+&Z7+&ZOOOP7+&_7+&_OOOP7+&a7+&aOOQO,5;_,5;_O2oQWO,5;_OOQO'#Ev'#EvOOQO,5;d,5;dO2vQWO,5;dOOQO'#E{'#E{OOQO,5;m,5;mO2}QWO,5;mOOQO'#FU'#FUOOQO,5;t,5;tO3UQWO,5;tOOQO'#F['#F[OOQO,5;x,5;xO3]QWO,5;xOOQO'#Fa'#FaOOQO,5<],5<]O3dQWO,5<]OOQO'#Ft'#FtOOQO-E:R-E:ROOOP7+&c7+&cO=XQpO,5;`O>rQpO,5;eO@]QpO,5;iOBYQpO,5;nOCsQpO,5;rOEfQWO,5;uOEkQWO,5;yOEpQWO,5<QOGgQpO,5<SOIYQpO,5<UOKYQpO,5<XOMVQpO,5<ZONxQpO,5<^O!!cQpO,5<bO!$`QpO,5<dOOOP1G/^1G/^OOOP1G/g1G/gOOOP1G/l1G/lOOOP1G/w1G/wOOOP1G/|1G/|O!&]QWO,5:nO!&bQWO,5:tOOOP1G0q1G0qOsQWO1G/SO!&gQpO7+$eOOOP<<H^<<H^O!&xQpO,5<iOOQO-E9{-E9{OOOP<<Ht<<HtO!)ZQpO<<HxO!)bQpO<<IQOOQO,5<k,5<kOOQO-E9}-E9}OOOP<<IY<<IYO!)iQWO<<IYOOOP<<Ih<<IhO!)qQWO,5:zOOQO-E:Q-E:QOOOP<<Ij<<IjO!)vQpO,5:zOOOP<<Ir<<IrOOQO1G0y1G0yOOQO1G1O1G1OOOQO1G1X1G1XOOQO1G1`1G1`OOQO1G1d1G1dOOQO1G1w1G1wO!*eQWO1G1^OsQWO1G1aOsQWO1G1eO!,XQWO1G1lO!-{QWO1G1lO!.QQWO1G1nO!]QWO'#FlOOQO'#GU'#GUO!/tQWO1G1pO!1hQWO1G1uOOOP1G0Y1G0YOOOP1G0`1G0`O!3[QpO7+$nOOQO<<HP<<HPOOQO'#Dp'#DpO!5_QWO'#DoOOQO'#GO'#GOO!6xQWOAN>dOOOPAN>dAN>dO!7QQWOAN>lOOOPAN>lAN>lO!7YQWOAN>tOOOPAN>tAN>tOsQWO1G0fO!]QWO1G0fO!7bQpO7+&{O!8qQpO7+'PO!:QQWO7+'WO!;tQWO,5<WOOQO-E:S-E:SOsQWO,5:ZOOQO-E9|-E9|OOOPG24OG24OOOOPG24WG24WOOOPG24`G24`O!;yQpO7+&QOOQO7+&Q7+&QO!<eQWO<<JgO!=uQWO<<JkO!?VQWO<<JrOsQWO1G1rO!@yQpO1G/uO!BmQpO7+'^",stateData:"!Dm~O%OOSUOS~OPROQSO$zPO~O$zPOPWXQWX$yWX~OfeOifOjfOkfOlfOmfOnfOofO%RbO~OuhOvgOyiO}jO!PkO!SlO!XmO!]nO!aoO!ipO!mqO!orO!qsO!ttO!zuO#PvO#RwO#XxO#ZyO#^zO#b{O#d|O#f}O~OPROQSOR!RO$zPO~OPROQSOR!UO$zPO~OPROQSOR!XO$zPO~OPROQSOR![O$zPO~OPROQSOR!_O$zPO~O$|!`O~O${!cO~OPROQSOR!hO$zPO~O]!jO`!qOa!kOb!lOq!mO~OX!pO~P%}Od!rOX%QX]%QX`%QXa%QXb%QXq%QXh%QXv%QX!^%QX#T%QX#U%QXm%QX#i%QX#k%QX#n%QX#r%QX#t%QX#w%QX#{%QX$S%QX$W%QX$Z%QX$]%QX$_%QX$b%QX$d%QX$g%QX$k%QX$m%QX#p%QX#y%QX$i%QXe%QX%R%QX#V%QX$P%QX$U%QX~Oq!mOv!vO~PsOv!yO~Ov#PO~Ov#QO~On#RO~Ov#SO~Ov#TO~Om#oO#U#lO#i#fO#n#gO#r#hO#t#iO#w#jO#{#kO$S#mO$W#nO$Z#pO$]#qO$_#rO$b#sO$d#tO$g#uO$k#vO$m#wO~Ov#xO~P)yO$zPOPWXQWXRWX~O{#zO~O!U#|O~O!Z$OO~O!f$QO~O!k$SO~O$|!`OT!uX~OT$VO~O${!cOS!{X~OS$YO~O#`$[O~O^$]O~O%R$`O~OX$cOq!mO~O]!jO`!qOa!kOb!lOh$fO~Ov$hO~P%}Oq!mOv$hO~O]!jO`!qOa!kOb!lOv$iO~O]!jO`!qOa!kOb!lOv$jO~O]!jO`!qOa!kOb!lOv$kO~O]!jO`!qOa!kOb!lOv$lO~O]!jO`!qOa!kOb!lO!^$mO~Ov$oO~P/`O!b$pO~O!b$qO~Os$uOv$tO!^$rO~Ov$wO~P%}O]!jO`!qOa!kOb!lOv$|O!^$xO#T${O#U${O~O]!jO`!qOa!kOb!lOv$}O~Ov%PO~P%}O]!jO`!qOa!kOb!lOv%QO~O]!jO`!qOa!kOb!lOv%RO~O]!jO`!qOa!kOb!lOv%SO~O#k%VO~P)yO#p%YO~P)yO#y%]O~P)yO$P%`O~P)yO$U%cO~P)yO$i%fO~P)yOv%hO~P)yOn%pO~Ov%xO~Ov%yO~Ov%zO~Ov%{O~Ov%|O~O!w%}O~O!}&OO~Ov&PO~Oa!kOX_i]_iq_ih_iv_i!^_i#T_i#U_im_i#i_i#k_i#n_i#r_i#t_i#w_i#{_i$S_i$W_i$Z_i$]_i$__i$b_i$d_i$g_i$k_i$m_i#p_i#y_i$i_ie_i%R_i#V_i$P_i$U_i~O`!qOb!lO~P4qOs&QOXpaqpavpampa#Upa#ipa#npa#rpa#tpa#wpa#{pa$Spa$Wpa$Zpa$]pa$_pa$bpa$dpa$gpa$kpa$mpa#kpa#ppa#ypa$Ppa$Upa$ipa~O`_ib_i~P4qO`!qOa!kOb!lOXci]ciqcihcivci!^ci#Tci#Ucimci#ici#kci#nci#rci#tci#wci#{ci$Sci$Wci$Zci$]ci$_ci$bci$dci$gci$kci$mci#pci#yci$icieci%Rci#Vci$Pci$Uci~Oq!mOv&SO~Ov&VO!^$mO~On&YO~Ov&[O!^$rO~On&]O~Oq!mOv&^O~Ov&aO!^$xO#T${O#U${O~Oq!mOv&cO~O]!jO`!qOa!kOb!lOm#ha#U#ha#i#ha#k#ha#n#ha#r#ha#t#ha#w#ha#{#ha$S#ha$W#ha$Z#ha$]#ha$_#ha$b#ha$d#ha$g#ha$k#ha$m#ha~O]!jO`!qOa!kOb!lOm#ma#U#ma#i#ma#n#ma#p#ma#r#ma#t#ma#w#ma#{#ma$S#ma$W#ma$Z#ma$]#ma$_#ma$b#ma$d#ma$g#ma$k#ma$m#ma~O]!jO`!qOa!kOb!lOm#qav#qa#U#qa#i#qa#n#qa#r#qa#t#qa#w#qa#{#qa$S#qa$W#qa$Z#qa$]#qa$_#qa$b#qa$d#qa$g#qa$k#qa$m#qa#k#qa#p#qa#y#qa$P#qa$U#qa$i#qa~O]!jO`!qOa!kOb!lOm#va#U#va#i#va#n#va#r#va#t#va#w#va#y#va#{#va$S#va$W#va$Z#va$]#va$_#va$b#va$d#va$g#va$k#va$m#va~Om#zav#za#U#za#i#za#n#za#r#za#t#za#w#za#{#za$S#za$W#za$Z#za$]#za$_#za$b#za$d#za$g#za$k#za$m#za#k#za#p#za#y#za$P#za$U#za$i#za~P/`O!b&kO~O!b&lO~Os&nO!^$rOm$Yav$Ya#U$Ya#i$Ya#n$Ya#r$Ya#t$Ya#w$Ya#{$Ya$S$Ya$W$Ya$Z$Ya$]$Ya$_$Ya$b$Ya$d$Ya$g$Ya$k$Ya$m$Ya#k$Ya#p$Ya#y$Ya$P$Ya$U$Ya$i$Ya~Om$[av$[a#U$[a#i$[a#n$[a#r$[a#t$[a#w$[a#{$[a$S$[a$W$[a$Z$[a$]$[a$_$[a$b$[a$d$[a$g$[a$k$[a$m$[a#k$[a#p$[a#y$[a$P$[a$U$[a$i$[a~P%}O]!jO`!qOa!kOb!lO!^&pOm$^av$^a#U$^a#i$^a#n$^a#r$^a#t$^a#w$^a#{$^a$S$^a$W$^a$Z$^a$]$^a$_$^a$b$^a$d$^a$g$^a$k$^a$m$^a#k$^a#p$^a#y$^a$P$^a$U$^a$i$^a~O]!jO`!qOa!kOb!lOm$aav$aa#U$aa#i$aa#n$aa#r$aa#t$aa#w$aa#{$aa$S$aa$W$aa$Z$aa$]$aa$_$aa$b$aa$d$aa$g$aa$k$aa$m$aa#k$aa#p$aa#y$aa$P$aa$U$aa$i$aa~Om$cav$ca#U$ca#i$ca#n$ca#r$ca#t$ca#w$ca#{$ca$S$ca$W$ca$Z$ca$]$ca$_$ca$b$ca$d$ca$g$ca$k$ca$m$ca#k$ca#p$ca#y$ca$P$ca$U$ca$i$ca~P%}O]!jO`!qOa!kOb!lOm$fa#U$fa#i$fa#n$fa#r$fa#t$fa#w$fa#{$fa$S$fa$W$fa$Z$fa$]$fa$_$fa$b$fa$d$fa$g$fa$i$fa$k$fa$m$fa~O]!jO`!qOa!kOb!lOm$jav$ja#U$ja#i$ja#n$ja#r$ja#t$ja#w$ja#{$ja$S$ja$W$ja$Z$ja$]$ja$_$ja$b$ja$d$ja$g$ja$k$ja$m$ja#k$ja#p$ja#y$ja$P$ja$U$ja$i$ja~O]!jO`!qOa!kOb!lOm$lav$la#U$la#i$la#n$la#r$la#t$la#w$la#{$la$S$la$W$la$Z$la$]$la$_$la$b$la$d$la$g$la$k$la$m$la#k$la#p$la#y$la$P$la$U$la$i$la~Ov&tO~Ov&uO~O]!jO`!qOa!kOb!lOe&wO~O]!jO`!qOa!kOb!lOv$qa!^$qam$qa#U$qa#i$qa#n$qa#r$qa#t$qa#w$qa#{$qa$S$qa$W$qa$Z$qa$]$qa$_$qa$b$qa$d$qa$g$qa$k$qa$m$qa#k$qa#p$qa#y$qa$P$qa$U$qa$i$qa~O]!jO`!qOa!kOb!lO%R&xO~Ov&|O~P!(xOv'OO~P!(xOv'QO!^$rO~Os'RO~O]!jO`!qOa!kOb!lO#V'SOv#Sa!^#Sa#T#Sa#U#Sa~O!^$mOm#ziv#zi#U#zi#i#zi#n#zi#r#zi#t#zi#w#zi#{#zi$S#zi$W#zi$Z#zi$]#zi$_#zi$b#zi$d#zi$g#zi$k#zi$m#zi#k#zi#p#zi#y#zi$P#zi$U#zi$i#zi~O!^$rOm$Yiv$Yi#U$Yi#i$Yi#n$Yi#r$Yi#t$Yi#w$Yi#{$Yi$S$Yi$W$Yi$Z$Yi$]$Yi$_$Yi$b$Yi$d$Yi$g$Yi$k$Yi$m$Yi#k$Yi#p$Yi#y$Yi$P$Yi$U$Yi$i$Yi~On'VO~Oq!mOm$[iv$[i#U$[i#i$[i#n$[i#r$[i#t$[i#w$[i#{$[i$S$[i$W$[i$Z$[i$]$[i$_$[i$b$[i$d$[i$g$[i$k$[i$m$[i#k$[i#p$[i#y$[i$P$[i$U$[i$i$[i~O!^&pOm$^iv$^i#U$^i#i$^i#n$^i#r$^i#t$^i#w$^i#{$^i$S$^i$W$^i$Z$^i$]$^i$_$^i$b$^i$d$^i$g$^i$k$^i$m$^i#k$^i#p$^i#y$^i$P$^i$U$^i$i$^i~Oq!mOm$civ$ci#U$ci#i$ci#n$ci#r$ci#t$ci#w$ci#{$ci$S$ci$W$ci$Z$ci$]$ci$_$ci$b$ci$d$ci$g$ci$k$ci$m$ci#k$ci#p$ci#y$ci$P$ci$U$ci$i$ci~O]!jO`!qOa!kOb!lOXpqqpqvpqmpq#Upq#ipq#npq#rpq#tpq#wpq#{pq$Spq$Wpq$Zpq$]pq$_pq$bpq$dpq$gpq$kpq$mpq#kpq#ppq#ypq$Ppq$Upq$ipq~Os'YOv!cX%R!cXm!cX#U!cX#i!cX#n!cX#r!cX#t!cX#w!cX#{!cX$P!cX$S!cX$W!cX$Z!cX$]!cX$_!cX$b!cX$d!cX$g!cX$k!cX$m!cX$U!cX~Ov'[O%R&xO~Ov']O%R&xO~Ov'^O!^$rO~Om#}q#U#}q#i#}q#n#}q#r#}q#t#}q#w#}q#{#}q$P#}q$S#}q$W#}q$Z#}q$]#}q$_#}q$b#}q$d#}q$g#}q$k#}q$m#}q~P!(xOm$Rq#U$Rq#i$Rq#n$Rq#r$Rq#t$Rq#w$Rq#{$Rq$S$Rq$U$Rq$W$Rq$Z$Rq$]$Rq$_$Rq$b$Rq$d$Rq$g$Rq$k$Rq$m$Rq~P!(xO!^$rOm$Yqv$Yq#U$Yq#i$Yq#n$Yq#r$Yq#t$Yq#w$Yq#{$Yq$S$Yq$W$Yq$Z$Yq$]$Yq$_$Yq$b$Yq$d$Yq$g$Yq$k$Yq$m$Yq#k$Yq#p$Yq#y$Yq$P$Yq$U$Yq$i$Yq~Os'dO~O]!jO`!qOa!kOb!lOv#Sq!^#Sq#T#Sq#U#Sq~O%R&xOm#}y#U#}y#i#}y#n#}y#r#}y#t#}y#w#}y#{#}y$P#}y$S#}y$W#}y$Z#}y$]#}y$_#}y$b#}y$d#}y$g#}y$k#}y$m#}y~O%R&xOm$Ry#U$Ry#i$Ry#n$Ry#r$Ry#t$Ry#w$Ry#{$Ry$S$Ry$U$Ry$W$Ry$Z$Ry$]$Ry$_$Ry$b$Ry$d$Ry$g$Ry$k$Ry$m$Ry~O!^$rOm$Yyv$Yy#U$Yy#i$Yy#n$Yy#r$Yy#t$Yy#w$Yy#{$Yy$S$Yy$W$Yy$Z$Yy$]$Yy$_$Yy$b$Yy$d$Yy$g$Yy$k$Yy$m$Yy#k$Yy#p$Yy#y$Yy$P$Yy$U$Yy$i$Yy~O]!jO`!qOa!kOb!lOv!ci%R!cim!ci#U!ci#i!ci#n!ci#r!ci#t!ci#w!ci#{!ci$P!ci$S!ci$W!ci$Z!ci$]!ci$_!ci$b!ci$d!ci$g!ci$k!ci$m!ci$U!ci~O]!jO`!qOa!kOb!lOm$`qv$`q!^$`q#U$`q#i$`q#n$`q#r$`q#t$`q#w$`q#{$`q$S$`q$W$`q$Z$`q$]$`q$_$`q$b$`q$d$`q$g$`q$k$`q$m$`q#k$`q#p$`q#y$`q$P$`q$U$`q$i$`q~O",goto:"7o%UPPPPPPPP%VP%V%g&zPP&zPPP&zPPP&zPPPPPPPP'xP(YP(]PP(](mP(}P(]P(]P(])TP)eP(])kP){P(]PP(]*RPP*c*m*wP(]*}P+_P(]P(]P(]P(]+eP+u+xP(]+{P,],`P(]P(]P,cPPP(]P(]P(],gP,wP(]P(]P(]P,}-_P-oP,}-uP.VP,}P,}P,}.]P.mP,}P,}.s/TP,}/ZP/kP,}P,},}P,}P,}P/q,}P,}P,}/uP0VP,}P,}P0]0{1c2R2]2o3R3X3_3e4TPPPPPP4Z4kP%V7_m^OTUVWX[`!Q!T!W!Z!^!g!vdRehijlmnvwxyz{|!k!l!q!r#f#g#h#j#k#q#r#s#t#u#v#w$f$m$p$q${&Q&k&l'R'Y'dQ!}oQ#OpQ%n#lQ%o#mQ&_$xQ'W&pR'`'S!wfRehijlmnvwxyz{|!k!l!q!r#f#g#h#j#k#q#r#s#t#u#v#w$f$m$p$q${&Q&k&l'R'Y'dm!nch!o!t!u#U#X$g$v%O%q%t&o&sR$a!mm]OTUVWX[`!Q!T!W!Z!^!gmTOTUVWX[`!Q!T!W!Z!^!gQ!PTR#y!QmUOTUVWX[`!Q!T!W!Z!^!gQ!SUR#{!TmVOTUVWX[`!Q!T!W!Z!^!gQ!VVR#}!WmWOTUVWX[`!Q!T!W!Z!^!ga&z&W&X&{&}'T'U'a'ba&y&W&X&{&}'T'U'a'bQ!YWR$P!ZmXOTUVWX[`!Q!T!W!Z!^!gQ!]XR$R!^mYOTUVWX[`!Q!T!W!Z!^!gR!bYR$U!bmZOTUVWX[`!Q!T!W!Z!^!gR!eZR$X!eT$y#V$zm[OTUVWX[`!Q!T!W!Z!^!gQ!f[R$Z!gm#c}#]#^#_#`#a#b#e%U%X%[%_%b%em#]}#]#^#_#`#a#b#e%U%X%[%_%b%eQ%T#]R&d%Um#^}#]#^#_#`#a#b#e%U%X%[%_%b%eQ%W#^R&e%Xm#_}#]#^#_#`#a#b#e%U%X%[%_%b%eQ%Z#_R&f%[m#`}#]#^#_#`#a#b#e%U%X%[%_%b%eQ%^#`R&g%_m#a}#]#^#_#`#a#b#e%U%X%[%_%b%eQ%a#aR&h%bT&q%r&rm#b}#]#^#_#`#a#b#e%U%X%[%_%b%eQ%d#bR&i%eQ`OQ!QTQ!TUQ!WVQ!ZWQ!^XQ!g[_!i`!Q!T!W!Z!^!gSQO`SaQ!Oi!OTUVWX[!Q!T!W!Z!^!gQ!ocQ!uh^$b!o!u$g$v%O&o&sQ$g!tQ$v#UQ%O#XQ&o%qR&s%tQ$n!|S&U$n&jR&j%mQ&{&WQ&}&XW'Z&{&}'a'bQ'a'TR'b'UQ$s#RW&Z$s&m'P'cQ&m%pQ'P&]R'c'VQ!aYR$T!aQ!dZR$W!dQ$z#VR&`$zQ#e}Q%U#]Q%X#^Q%[#_Q%_#`Q%b#aQ%e#b_%g#e%U%X%[%_%b%eQ&r%rR'X&rm_OTUVWX[`!Q!T!W!Z!^!gQcRQ!seQ!thQ!wiQ!xjQ!zlQ!{mQ!|nQ#UvQ#VwQ#WxQ#XyQ#YzQ#Z{Q#[|Q$^!kQ$_!lQ$d!qQ$e!rQ%i#fQ%j#gQ%k#hQ%l#jQ%m#kQ%q#qQ%r#rQ%s#sQ%t#tQ%u#uQ%v#vQ%w#wQ&R$fQ&T$mQ&W$pQ&X$qQ&b${Q&v&QQ'T&kQ'U&lQ'_'RQ'e'YR'f'dm#d}#]#^#_#`#a#b#e%U%X%[%_%b%e",nodeNames:" {{ {% {% {% {% InlineComment Template Text }} Interpolation VariableName MemberExpression . PropertyName BinaryExpression contains CompareOp LogicOp AssignmentExpression AssignOp ) ( RangeExpression .. BooleanLiteral empty forloop tablerowloop continue StringLiteral NumberLiteral Filter | FilterName : Tag TagName %} IfDirective Tag if EndTag endif Tag elsif Tag else UnlessDirective Tag unless EndTag endunless CaseDirective Tag case EndTag endcase Tag when , ForDirective Tag for in Parameter ParameterName EndTag endfor TableDirective Tag tablerow EndTag endtablerow Tag break Tag continue Tag cycle Comment Tag comment CommentText EndTag endcomment RawDirective Tag raw RawText EndTag endraw Tag echo Tag render RenderParameter with for as Tag include Tag assign CaptureDirective Tag capture EndTag endcapture Tag increment Tag decrement Tag liquid IfDirective Tag if EndTag endif UnlessDirective Tag unless EndTag endunless Tag elsif Tag else CaseDirective Tag case EndTag endcase Tag when ForDirective Tag EndTag endfor TableDirective Tag tablerow EndTag endtablerow Tag break Tag Tag cycle Tag echo Tag render RenderParameter Tag include Tag assign CaptureDirective Tag capture EndTag endcapture Tag increment Tag decrement",maxTerm:189,nodeProps:[["closedBy",1,"}}",-4,2,3,4,5,"%}",22,")"],["openedBy",9,"{{",21,"(",38,"{%"],["group",-12,11,12,15,19,23,25,26,27,28,29,30,31,"Expression"]],skippedNodes:[0,6],repeatNodeCount:11,tokenData:")l~RlXY!yYZ!y]^!ypq!yqr#[rs#gst$Xuv$pwx${xy%hyz%m{|%r|}'^}!O'c!O!P'o!Q![&{![!](P!^!_(U!_!`(^!`!a(U!c!}(f#R#S(f#T#o(f#p#q)[#q#r)a%W;'S(f;'S;:j)U<%lO(f~#OS%O~XY!yYZ!y]^!ypq!y~#_P!_!`#b~#gOa~~#jUOY#gZr#grs#|s;'S#g;'S;=`$R<%lO#g~$ROn~~$UP;=`<%l#g~$^SU~OY$XZ;'S$X;'S;=`$j<%lO$X~$mP;=`<%l$X~$sP#q#r$v~${Ov~~%OUOY${Zw${wx#|x;'S${;'S;=`%b<%lO${~%eP;=`<%l${~%mOf~~%rOe~P%uQ!O!P%{!Q![&{P&OP!Q![&RP&WRoP!Q![&R!g!h&a#X#Y&aP&dR{|&m}!O&m!Q![&sP&pP!Q![&sP&xPoP!Q![&sP'QSoP!O!P%{!Q![&{!g!h&a#X#Y&a~'cO!^~~'fRuv$p!O!P%{!Q![&{~'tQ]S!O!P'z!Q![&R~(POh~~(UOs~~(ZPa~!_!`#b~(cPd~!_!`#b_(oV^WuQ%RT!Q![(f!c!}(f#R#S(f#T#o(f%W;'S(f;'S;:j)U<%lO(f_)XP;=`<%l(f~)aOq~~)dP#q#r)g~)lOX~",tokenizers:[dQe,hQe,fQe,0,1,2,3],topRules:{Template:[0,7]},specialized:[{term:187,get:t=>pQe[t]||-1},{term:37,get:t=>mQe[t]||-1}],tokenPrec:0});function kO(t,e){return t.split(" ").map(n=>({label:n,type:e}))}const xV=kO("abs append at_least at_most capitalize ceil compact concat date default divided_by downcase escape escape_once first floor join last lstrip map minus modulo newline_to_br plus prepend remove remove_first replace replace_first reverse round rstrip size slice sort sort_natural split strip strip_html strip_newlines sum times truncate truncatewords uniq upcase url_decode url_encode where","function"),wV=kO("cycle comment endcomment raw endraw echo increment decrement liquid if elsif else endif unless endunless case endcase for endfor tablerow endtablerow break continue assign capture endcapture render include","keyword"),vV=kO("empty forloop tablerowloop in with as contains","keyword"),yQe=kO("first index index0 last length rindex","property"),OQe=kO("col col0 col_first col_last first index index0 last length rindex rindex0 row","property");function bQe(t){var e;let{state:n,pos:r}=t,i=cn(n).resolveInner(r,-1).enterUnfinishedNodesBefore(r),s=((e=i.childBefore(r))===null||e===void 0?void 0:e.name)||i.name;if(i.name=="FilterName")return{type:"filter",node:i};if(t.explicit&&s=="|")return{type:"filter"};if(i.name=="TagName")return{type:"tag",node:i};if(t.explicit&&s=="{%")return{type:"tag"};if(i.name=="PropertyName"&&i.parent.name=="MemberExpression")return{type:"property",node:i,target:i.parent};if(i.name=="."&&i.parent.name=="MemberExpression")return{type:"property",target:i.parent};if(i.name=="MemberExpression"&&s==".")return{type:"property",target:i};if(i.name=="VariableName")return{type:"expression",from:i.from};let o=t.matchBefore(/[\w\u00c0-\uffff]+$/);return o?{type:"expression",from:o.from}:t.explicit&&i.name!="CommentText"&&i.name!="StringLiteral"&&i.name!="NumberLiteral"&&i.name!="InlineComment"?{type:"expression"}:null}function xQe(t,e,n,r){let i=[];for(;;){let s=e.getChild("Expression");if(!s)return[];if(s.name=="forloop")return i.length?[]:yQe;if(s.name=="tablerowloop")return i.length?[]:OQe;if(s.name=="VariableName"){i.unshift(t.sliceDoc(s.from,s.to));break}else if(s.name=="MemberExpression"){let o=s.getChild("PropertyName");o&&i.unshift(t.sliceDoc(o.from,o.to)),e=s}else return[]}return r?r(i,t,n):[]}function wQe(t={}){let e=t.filters?t.filters.concat(xV):xV,n=t.tags?t.tags.concat(wV):wV,r=t.variables?t.variables.concat(vV):vV,{properties:i}=t;return s=>{var o;let a=bQe(s);if(!a)return null;let l=(o=a.from)!==null&&o!==void 0?o:a.node?a.node.from:s.pos,c;return a.type=="filter"?c=e:a.type=="tag"?c=n:a.type=="expression"?c=r:c=xQe(s.state,a.target,s,i),c.length?{options:c,from:l,validFor:/^[\w\u00c0-\uffff]*$/}:null}}const vQe=Te.inputHandler.of((t,e,n,r)=>r!="%"||e!=n||t.state.doc.sliceString(e-1,n+1)!="{}"?!1:(t.dispatch(t.state.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:"%%"},range:Oe.cursor(i.from+1)})),{scrollIntoView:!0,userEvent:"input.type"}),!0));function SC(t){return e=>{let n=t.test(e.textAfter);return e.lineIndent(e.node.from)+(n?0:e.unit)}}const SQe=Zc.define({name:"liquid",parser:gQe.configure({props:[kp({"cycle comment endcomment raw endraw echo increment decrement liquid in with as":G.keyword,"empty forloop tablerowloop":G.atom,"if elsif else endif unless endunless case endcase for endfor tablerow endtablerow break continue":G.controlKeyword,"assign capture endcapture":G.definitionKeyword,contains:G.operatorKeyword,"render include":G.moduleKeyword,VariableName:G.variableName,TagName:G.tagName,FilterName:G.function(G.variableName),PropertyName:G.propertyName,CompareOp:G.compareOperator,AssignOp:G.definitionOperator,LogicOp:G.logicOperator,NumberLiteral:G.number,StringLiteral:G.string,BooleanLiteral:G.bool,InlineComment:G.lineComment,CommentText:G.blockComment,"{% %} {{ }}":G.brace,"( )":G.paren,".":G.derefOperator,", .. : |":G.punctuation}),$p.add({Tag:ZX({closing:"%}"}),"UnlessDirective ForDirective TablerowDirective CaptureDirective":SC(/^\s*(\{%-?\s*)?end\w/),IfDirective:SC(/^\s*(\{%-?\s*)?(endif|else|elsif)\b/),CaseDirective:SC(/^\s*(\{%-?\s*)?(endcase|when)\b/)}),Cp.add({"UnlessDirective ForDirective TablerowDirective CaptureDirective IfDirective CaseDirective RawDirective Comment"(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="Tag"?null:{from:e.to,to:n.name=="EndTag"?n.from:t.to}}})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*{%-?\s*(?:end|elsif|else|when|)$/}}),pE=eQe();function XY(t){return SQe.configure({wrap:FX(e=>e.type.isTop?{parser:t.parser,overlay:n=>n.name=="Text"||n.name=="RawText"}:null)},"liquid")}const kQe=XY(pE.language);function $Qe(t={}){let e=t.base||pE,n=e.language==pE.language?kQe:XY(e.language);return new yO(n,[e.support,n.data.of({autocomplete:wQe(t)}),e.language.data.of({closeBrackets:{brackets:["{"]}}),vQe])}function Rn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Rn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var CQe={value:()=>{}};function cS(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new yw(n)}function yw(t){this._=t}function PQe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}yw.prototype=cS.prototype={constructor:yw,on:function(t,e){var n=this._,r=PQe(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=jQe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=SV(n[i],t.name,e);else if(e==null)for(i in n)n[i]=SV(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new yw(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function jQe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function SV(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=CQe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var mE="http://www.w3.org/1999/xhtml";const kV={svg:"http://www.w3.org/2000/svg",xhtml:mE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function uS(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),kV.hasOwnProperty(e)?{space:kV[e],local:t}:t}function NQe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===mE&&e.documentElement.namespaceURI===mE?e.createElement(t):e.createElementNS(n,t)}}function EQe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function GY(t){var e=uS(t);return(e.local?EQe:NQe)(e)}function _Qe(){}function MR(t){return t==null?_Qe:function(){return this.querySelector(t)}}function TQe(t){typeof t!="function"&&(t=MR(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=t.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new qi(r,this._parents)}function AQe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function RQe(){return[]}function YY(t){return t==null?RQe:function(){return this.querySelectorAll(t)}}function MQe(t){return function(){return AQe(t.apply(this,arguments))}}function QQe(t){typeof t=="function"?t=MQe(t):t=YY(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new qi(r,i)}function HY(t){return function(){return this.matches(t)}}function JY(t){return function(e){return e.matches(t)}}var IQe=Array.prototype.find;function DQe(t){return function(){return IQe.call(this.children,t)}}function LQe(){return this.firstElementChild}function FQe(t){return this.select(t==null?LQe:DQe(typeof t=="function"?t:JY(t)))}var VQe=Array.prototype.filter;function BQe(){return Array.from(this.children)}function qQe(t){return function(){return VQe.call(this.children,t)}}function WQe(t){return this.selectAll(t==null?BQe:qQe(typeof t=="function"?t:JY(t)))}function zQe(t){typeof t!="function"&&(t=HY(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new qi(r,this._parents)}function KY(t){return new Array(t.length)}function ZQe(){return new qi(this._enter||this._groups.map(KY),this._parents)}function Kv(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Kv.prototype={constructor:Kv,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function UQe(t){return function(){return t}}function XQe(t,e,n,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new Kv(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function GQe(t,e,n,r,i,s,o){var a,l,c=new Map,u=e.length,d=s.length,f=new Array(u),h;for(a=0;a<u;++a)(l=e[a])&&(f[a]=h=o.call(l,l.__data__,a,e)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<d;++a)h=o.call(t,s[a],a,s)+"",(l=c.get(h))?(r[a]=l,l.__data__=s[a],c.delete(h)):n[a]=new Kv(t,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(f[a])===l&&(i[a]=l)}function YQe(t){return t.__data__}function HQe(t,e){if(!arguments.length)return Array.from(this,YQe);var n=e?GQe:XQe,r=this._parents,i=this._groups;typeof t!="function"&&(t=UQe(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],d=i[c],f=d.length,h=JQe(t.call(u,u&&u.__data__,c,r)),m=h.length,g=a[c]=new Array(m),y=o[c]=new Array(m),O=l[c]=new Array(f);n(u,d,g,y,O,h,e);for(var b=0,w=0,x,v;b<m;++b)if(x=g[b]){for(b>=w&&(w=b+1);!(v=y[w])&&++w<m;);x._next=v||null}}return o=new qi(o,r),o._enter=a,o._exit=l,o}function JQe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KQe(){return new qi(this._exit||this._groups.map(KY),this._parents)}function eIe(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function tIe(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],u=r[l],d=c.length,f=a[l]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;l<i;++l)a[l]=n[l];return new qi(a,this._parents)}function nIe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function rIe(t){t||(t=iIe);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new qi(i,this._parents).order()}function iIe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function sIe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function oIe(){return Array.from(this)}function aIe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function lIe(){let t=0;for(const e of this)++t;return t}function cIe(){return!this.node()}function uIe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function dIe(t){return function(){this.removeAttribute(t)}}function fIe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hIe(t,e){return function(){this.setAttribute(t,e)}}function pIe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function mIe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function gIe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function yIe(t,e){var n=uS(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?fIe:dIe:typeof e=="function"?n.local?gIe:mIe:n.local?pIe:hIe)(n,e))}function eH(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function OIe(t){return function(){this.style.removeProperty(t)}}function bIe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function xIe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function wIe(t,e,n){return arguments.length>1?this.each((e==null?OIe:typeof e=="function"?xIe:bIe)(t,e,n??"")):Wh(this.node(),t)}function Wh(t,e){return t.style.getPropertyValue(e)||eH(t).getComputedStyle(t,null).getPropertyValue(e)}function vIe(t){return function(){delete this[t]}}function SIe(t,e){return function(){this[t]=e}}function kIe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function $Ie(t,e){return arguments.length>1?this.each((e==null?vIe:typeof e=="function"?kIe:SIe)(t,e)):this.node()[t]}function tH(t){return t.trim().split(/^|\s+/)}function QR(t){return t.classList||new nH(t)}function nH(t){this._node=t,this._names=tH(t.getAttribute("class")||"")}nH.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function rH(t,e){for(var n=QR(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function iH(t,e){for(var n=QR(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function CIe(t){return function(){rH(this,t)}}function PIe(t){return function(){iH(this,t)}}function jIe(t,e){return function(){(e.apply(this,arguments)?rH:iH)(this,t)}}function NIe(t,e){var n=tH(t+"");if(arguments.length<2){for(var r=QR(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?jIe:e?CIe:PIe)(n,e))}function EIe(){this.textContent=""}function _Ie(t){return function(){this.textContent=t}}function TIe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function AIe(t){return arguments.length?this.each(t==null?EIe:(typeof t=="function"?TIe:_Ie)(t)):this.node().textContent}function RIe(){this.innerHTML=""}function MIe(t){return function(){this.innerHTML=t}}function QIe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function IIe(t){return arguments.length?this.each(t==null?RIe:(typeof t=="function"?QIe:MIe)(t)):this.node().innerHTML}function DIe(){this.nextSibling&&this.parentNode.appendChild(this)}function LIe(){return this.each(DIe)}function FIe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function VIe(){return this.each(FIe)}function BIe(t){var e=typeof t=="function"?t:GY(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function qIe(){return null}function WIe(t,e){var n=typeof t=="function"?t:GY(t),r=e==null?qIe:typeof e=="function"?e:MR(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function zIe(){var t=this.parentNode;t&&t.removeChild(this)}function ZIe(){return this.each(zIe)}function UIe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function XIe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function GIe(t){return this.select(t?XIe:UIe)}function YIe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function HIe(t){return function(e){t.call(this,e,this.__data__)}}function JIe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function KIe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function eDe(t,e,n){return function(){var r=this.__on,i,s=HIe(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function tDe(t,e,n){var r=JIe(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=e?eDe:KIe,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function sH(t,e,n){var r=eH(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function nDe(t,e){return function(){return sH(this,t,e)}}function rDe(t,e){return function(){return sH(this,t,e.apply(this,arguments))}}function iDe(t,e){return this.each((typeof e=="function"?rDe:nDe)(t,e))}function*sDe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var oH=[null];function qi(t,e){this._groups=t,this._parents=e}function $O(){return new qi([[document.documentElement]],oH)}function oDe(){return this}qi.prototype=$O.prototype={constructor:qi,select:TQe,selectAll:QQe,selectChild:FQe,selectChildren:WQe,filter:zQe,data:HQe,enter:ZQe,exit:KQe,join:eIe,merge:tIe,selection:oDe,order:nIe,sort:rIe,call:sIe,nodes:oIe,node:aIe,size:lIe,empty:cIe,each:uIe,attr:yIe,style:wIe,property:$Ie,classed:NIe,text:AIe,html:IIe,raise:LIe,lower:VIe,append:BIe,insert:WIe,remove:ZIe,clone:GIe,datum:YIe,on:tDe,dispatch:iDe,[Symbol.iterator]:sDe};function _i(t){return typeof t=="string"?new qi([[document.querySelector(t)]],[document.documentElement]):new qi([[t]],oH)}function aDe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ws(t,e){if(t=aDe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const lDe={passive:!1},ay={capture:!0,passive:!1};function kC(t){t.stopImmediatePropagation()}function th(t){t.preventDefault(),t.stopImmediatePropagation()}function aH(t){var e=t.document.documentElement,n=_i(t).on("dragstart.drag",th,ay);"onselectstart"in e?n.on("selectstart.drag",th,ay):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function lH(t,e){var n=t.document.documentElement,r=_i(t).on("dragstart.drag",null);e&&(r.on("click.drag",th,ay),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ex=t=>()=>t;function gE(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}gE.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function cDe(t){return!t.ctrlKey&&!t.button}function uDe(){return this.parentNode}function dDe(t,e){return e??{x:t.x,y:t.y}}function fDe(){return navigator.maxTouchPoints||"ontouchstart"in this}function cH(){var t=cDe,e=uDe,n=dDe,r=fDe,i={},s=cS("start","drag","end"),o=0,a,l,c,u,d=0;function f(x){x.on("mousedown.drag",h).filter(r).on("touchstart.drag",y).on("touchmove.drag",O,lDe).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(x,v){if(!(u||!t.call(this,x,v))){var k=w(this,e.call(this,x,v),x,v,"mouse");k&&(_i(x.view).on("mousemove.drag",m,ay).on("mouseup.drag",g,ay),aH(x.view),kC(x),c=!1,a=x.clientX,l=x.clientY,k("start",x))}}function m(x){if(th(x),!c){var v=x.clientX-a,k=x.clientY-l;c=v*v+k*k>d}i.mouse("drag",x)}function g(x){_i(x.view).on("mousemove.drag mouseup.drag",null),lH(x.view,c),th(x),i.mouse("end",x)}function y(x,v){if(t.call(this,x,v)){var k=x.changedTouches,$=e.call(this,x,v),C=k.length,N,P;for(N=0;N<C;++N)(P=w(this,$,x,v,k[N].identifier,k[N]))&&(kC(x),P("start",x,k[N]))}}function O(x){var v=x.changedTouches,k=v.length,$,C;for($=0;$<k;++$)(C=i[v[$].identifier])&&(th(x),C("drag",x,v[$]))}function b(x){var v=x.changedTouches,k=v.length,$,C;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),$=0;$<k;++$)(C=i[v[$].identifier])&&(kC(x),C("end",x,v[$]))}function w(x,v,k,$,C,N){var P=s.copy(),R=Ws(N||k,v),T,A,j;if((j=n.call(x,new gE("beforestart",{sourceEvent:k,target:f,identifier:C,active:o,x:R[0],y:R[1],dx:0,dy:0,dispatch:P}),$))!=null)return T=j.x-R[0]||0,A=j.y-R[1]||0,function E(_,Q,M){var L=R,V;switch(_){case"start":i[C]=E,V=o++;break;case"end":delete i[C],--o;case"drag":R=Ws(M||Q,v),V=o;break}P.call(_,x,new gE(_,{sourceEvent:Q,subject:j,target:f,identifier:C,active:V,x:R[0]+T,y:R[1]+A,dx:R[0]-L[0],dy:R[1]-L[1],dispatch:P}),$)}}return f.filter=function(x){return arguments.length?(t=typeof x=="function"?x:ex(!!x),f):t},f.container=function(x){return arguments.length?(e=typeof x=="function"?x:ex(x),f):e},f.subject=function(x){return arguments.length?(n=typeof x=="function"?x:ex(x),f):n},f.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:ex(!!x),f):r},f.on=function(){var x=s.on.apply(s,arguments);return x===s?f:x},f.clickDistance=function(x){return arguments.length?(d=(x=+x)*x,f):Math.sqrt(d)},f}function IR(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function uH(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function CO(){}var ly=.7,e0=1/ly,nh="\\s*([+-]?\\d+)\\s*",cy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ia="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hDe=/^#([0-9a-f]{3,8})$/,pDe=new RegExp(`^rgb\\(${nh},${nh},${nh}\\)$`),mDe=new RegExp(`^rgb\\(${ia},${ia},${ia}\\)$`),gDe=new RegExp(`^rgba\\(${nh},${nh},${nh},${cy}\\)$`),yDe=new RegExp(`^rgba\\(${ia},${ia},${ia},${cy}\\)$`),ODe=new RegExp(`^hsl\\(${cy},${ia},${ia}\\)$`),bDe=new RegExp(`^hsla\\(${cy},${ia},${ia},${cy}\\)$`),$V={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};IR(CO,uy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:CV,formatHex:CV,formatHex8:xDe,formatHsl:wDe,formatRgb:PV,toString:PV});function CV(){return this.rgb().formatHex()}function xDe(){return this.rgb().formatHex8()}function wDe(){return dH(this).formatHsl()}function PV(){return this.rgb().formatRgb()}function uy(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=hDe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jV(e):n===3?new mi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?tx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?tx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pDe.exec(t))?new mi(e[1],e[2],e[3],1):(e=mDe.exec(t))?new mi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gDe.exec(t))?tx(e[1],e[2],e[3],e[4]):(e=yDe.exec(t))?tx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ODe.exec(t))?_V(e[1],e[2]/100,e[3]/100,1):(e=bDe.exec(t))?_V(e[1],e[2]/100,e[3]/100,e[4]):$V.hasOwnProperty(t)?jV($V[t]):t==="transparent"?new mi(NaN,NaN,NaN,0):null}function jV(t){return new mi(t>>16&255,t>>8&255,t&255,1)}function tx(t,e,n,r){return r<=0&&(t=e=n=NaN),new mi(t,e,n,r)}function vDe(t){return t instanceof CO||(t=uy(t)),t?(t=t.rgb(),new mi(t.r,t.g,t.b,t.opacity)):new mi}function yE(t,e,n,r){return arguments.length===1?vDe(t):new mi(t,e,n,r??1)}function mi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}IR(mi,yE,uH(CO,{brighter(t){return t=t==null?e0:Math.pow(e0,t),new mi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ly:Math.pow(ly,t),new mi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mi(hd(this.r),hd(this.g),hd(this.b),t0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NV,formatHex:NV,formatHex8:SDe,formatRgb:EV,toString:EV}));function NV(){return`#${Uu(this.r)}${Uu(this.g)}${Uu(this.b)}`}function SDe(){return`#${Uu(this.r)}${Uu(this.g)}${Uu(this.b)}${Uu((isNaN(this.opacity)?1:this.opacity)*255)}`}function EV(){const t=t0(this.opacity);return`${t===1?"rgb(":"rgba("}${hd(this.r)}, ${hd(this.g)}, ${hd(this.b)}${t===1?")":`, ${t})`}`}function t0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Uu(t){return t=hd(t),(t<16?"0":"")+t.toString(16)}function _V(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zs(t,e,n,r)}function dH(t){if(t instanceof Zs)return new Zs(t.h,t.s,t.l,t.opacity);if(t instanceof CO||(t=uy(t)),!t)return new Zs;if(t instanceof Zs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Zs(o,a,l,t.opacity)}function kDe(t,e,n,r){return arguments.length===1?dH(t):new Zs(t,e,n,r??1)}function Zs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}IR(Zs,kDe,uH(CO,{brighter(t){return t=t==null?e0:Math.pow(e0,t),new Zs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ly:Math.pow(ly,t),new Zs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new mi($C(t>=240?t-240:t+120,i,r),$C(t,i,r),$C(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Zs(TV(this.h),nx(this.s),nx(this.l),t0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=t0(this.opacity);return`${t===1?"hsl(":"hsla("}${TV(this.h)}, ${nx(this.s)*100}%, ${nx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function TV(t){return t=(t||0)%360,t<0?t+360:t}function nx(t){return Math.max(0,Math.min(1,t||0))}function $C(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fH=t=>()=>t;function $De(t,e){return function(n){return t+n*e}}function CDe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function PDe(t){return(t=+t)==1?hH:function(e,n){return n-e?CDe(e,n,t):fH(isNaN(e)?n:e)}}function hH(t,e){var n=e-t;return n?$De(t,n):fH(isNaN(t)?e:t)}const AV=function t(e){var n=PDe(e);function r(i,s){var o=n((i=yE(i)).r,(s=yE(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=hH(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function oc(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var OE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,CC=new RegExp(OE.source,"g");function jDe(t){return function(){return t}}function NDe(t){return function(e){return t(e)+""}}function EDe(t,e){var n=OE.lastIndex=CC.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=OE.exec(t))&&(i=CC.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:oc(r,i)})),n=CC.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?NDe(l[0].x):jDe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var RV=180/Math.PI,bE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pH(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*RV,skewX:Math.atan(l)*RV,scaleX:o,scaleY:a}}var rx;function _De(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?bE:pH(e.a,e.b,e.c,e.d,e.e,e.f)}function TDe(t){return t==null||(rx||(rx=document.createElementNS("http://www.w3.org/2000/svg","g")),rx.setAttribute("transform",t),!(t=rx.transform.baseVal.consolidate()))?bE:(t=t.matrix,pH(t.a,t.b,t.c,t.d,t.e,t.f))}function mH(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,d,f,h,m){if(c!==d||u!==f){var g=h.push("translate(",null,e,null,n);m.push({i:g-4,x:oc(c,d)},{i:g-2,x:oc(u,f)})}else(d||f)&&h.push("translate("+d+e+f+n)}function o(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:oc(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function a(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:oc(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,f,h,m){if(c!==d||u!==f){var g=h.push(i(h)+"scale(",null,",",null,")");m.push({i:g-4,x:oc(c,d)},{i:g-2,x:oc(u,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=t(c),u=t(u),s(c.translateX,c.translateY,u.translateX,u.translateY,d,f),o(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var m=-1,g=f.length,y;++m<g;)d[(y=f[m]).i]=y.x(h);return d.join("")}}}var ADe=mH(_De,"px, ","px)","deg)"),RDe=mH(TDe,", ",")",")"),MDe=1e-12;function MV(t){return((t=Math.exp(t))+1/t)/2}function QDe(t){return((t=Math.exp(t))-1/t)/2}function IDe(t){return((t=Math.exp(2*t))-1)/(t+1)}const DDe=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],u=o[0],d=o[1],f=o[2],h=u-a,m=d-l,g=h*h+m*m,y,O;if(g<MDe)O=Math.log(f/c)/e,y=function($){return[a+$*h,l+$*m,c*Math.exp(e*$*O)]};else{var b=Math.sqrt(g),w=(f*f-c*c+r*g)/(2*c*n*b),x=(f*f-c*c-r*g)/(2*f*n*b),v=Math.log(Math.sqrt(w*w+1)-w),k=Math.log(Math.sqrt(x*x+1)-x);O=(k-v)/e,y=function($){var C=$*O,N=MV(v),P=c/(n*b)*(N*IDe(e*C+v)-QDe(v));return[a+P*h,l+P*m,c*N/MV(e*C+v)]}}return y.duration=O*1e3*e/Math.SQRT2,y}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);var zh=0,Ym=0,vm=0,gH=1e3,n0,Hm,r0=0,Cd=0,dS=0,dy=typeof performance=="object"&&performance.now?performance:Date,yH=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function DR(){return Cd||(yH(LDe),Cd=dy.now()+dS)}function LDe(){Cd=0}function i0(){this._call=this._time=this._next=null}i0.prototype=OH.prototype={constructor:i0,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?DR():+n)+(e==null?0:+e),!this._next&&Hm!==this&&(Hm?Hm._next=this:n0=this,Hm=this),this._call=t,this._time=n,xE()},stop:function(){this._call&&(this._call=null,this._time=1/0,xE())}};function OH(t,e,n){var r=new i0;return r.restart(t,e,n),r}function FDe(){DR(),++zh;for(var t=n0,e;t;)(e=Cd-t._time)>=0&&t._call.call(void 0,e),t=t._next;--zh}function QV(){Cd=(r0=dy.now())+dS,zh=Ym=0;try{FDe()}finally{zh=0,BDe(),Cd=0}}function VDe(){var t=dy.now(),e=t-r0;e>gH&&(dS-=e,r0=t)}function BDe(){for(var t,e=n0,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:n0=n);Hm=t,xE(r)}function xE(t){if(!zh){Ym&&(Ym=clearTimeout(Ym));var e=t-Cd;e>24?(t<1/0&&(Ym=setTimeout(QV,t-dy.now()-dS)),vm&&(vm=clearInterval(vm))):(vm||(r0=dy.now(),vm=setInterval(VDe,gH)),zh=1,yH(QV))}}function IV(t,e,n){var r=new i0;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var qDe=cS("start","end","cancel","interrupt"),WDe=[],bH=0,DV=1,wE=2,Ow=3,LV=4,vE=5,bw=6;function fS(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;zDe(t,n,{name:e,index:r,group:i,on:qDe,tween:WDe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:bH})}function LR(t,e){var n=po(t,e);if(n.state>bH)throw new Error("too late; already scheduled");return n}function xa(t,e){var n=po(t,e);if(n.state>Ow)throw new Error("too late; already running");return n}function po(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function zDe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=OH(s,0,n.time);function s(c){n.state=DV,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,f,h;if(n.state!==DV)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===Ow)return IV(o);h.state===LV?(h.state=bw,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<e&&(h.state=bw,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(IV(function(){n.state===Ow&&(n.state=LV,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=wE,n.on.call("start",t,t.__data__,n.index,n.group),n.state===wE){for(n.state=Ow,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=vE,1),d=-1,f=i.length;++d<f;)i[d].call(t,u);n.state===vE&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=bw,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function xw(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>wE&&r.state<vE,r.state=bw,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function ZDe(t){return this.each(function(){xw(this,t)})}function UDe(t,e){var n,r;return function(){var i=xa(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function XDe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=xa(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function GDe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=po(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?UDe:XDe)(n,t,e))}function FR(t,e,n){var r=t._id;return t.each(function(){var i=xa(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return po(i,r).value[e]}}function xH(t,e){var n;return(typeof e=="number"?oc:e instanceof uy?AV:(n=uy(e))?(e=n,AV):EDe)(t,e)}function YDe(t){return function(){this.removeAttribute(t)}}function HDe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function JDe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function KDe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function e5e(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function t5e(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function n5e(t,e){var n=uS(t),r=n==="transform"?RDe:xH;return this.attrTween(t,typeof e=="function"?(n.local?t5e:e5e)(n,r,FR(this,"attr."+t,e)):e==null?(n.local?HDe:YDe)(n):(n.local?KDe:JDe)(n,r,e))}function r5e(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function i5e(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function s5e(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&i5e(t,s)),n}return i._value=e,i}function o5e(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&r5e(t,s)),n}return i._value=e,i}function a5e(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=uS(t);return this.tween(n,(r.local?s5e:o5e)(r,e))}function l5e(t,e){return function(){LR(this,t).delay=+e.apply(this,arguments)}}function c5e(t,e){return e=+e,function(){LR(this,t).delay=e}}function u5e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?l5e:c5e)(e,t)):po(this.node(),e).delay}function d5e(t,e){return function(){xa(this,t).duration=+e.apply(this,arguments)}}function f5e(t,e){return e=+e,function(){xa(this,t).duration=e}}function h5e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?d5e:f5e)(e,t)):po(this.node(),e).duration}function p5e(t,e){if(typeof e!="function")throw new Error;return function(){xa(this,t).ease=e}}function m5e(t){var e=this._id;return arguments.length?this.each(p5e(e,t)):po(this.node(),e).ease}function g5e(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;xa(this,t).ease=n}}function y5e(t){if(typeof t!="function")throw new Error;return this.each(g5e(this._id,t))}function O5e(t){typeof t!="function"&&(t=HY(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new jl(r,this._parents,this._name,this._id)}function b5e(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],u=l.length,d=o[a]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;a<r;++a)o[a]=e[a];return new jl(o,this._parents,this._name,this._id)}function x5e(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function w5e(t,e,n){var r,i,s=x5e(e)?LR:xa;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function v5e(t,e){var n=this._id;return arguments.length<2?po(this.node(),n).on.on(t):this.each(w5e(n,t,e))}function S5e(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function k5e(){return this.on("end.remove",S5e(this._id))}function $5e(t){var e=this._name,n=this._id;typeof t!="function"&&(t=MR(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=t.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,fS(c[f],e,n,f,c,po(u,n)));return new jl(s,this._parents,e,n)}function C5e(t){var e=this._name,n=this._id;typeof t!="function"&&(t=YY(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=t.call(u,u.__data__,d,l),h,m=po(u,n),g=0,y=f.length;g<y;++g)(h=f[g])&&fS(h,e,n,g,f,m);s.push(f),o.push(u)}return new jl(s,o,e,n)}var P5e=$O.prototype.constructor;function j5e(){return new P5e(this._groups,this._parents)}function N5e(t,e){var n,r,i;return function(){var s=Wh(this,t),o=(this.style.removeProperty(t),Wh(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function wH(t){return function(){this.style.removeProperty(t)}}function E5e(t,e,n){var r,i=n+"",s;return function(){var o=Wh(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function _5e(t,e,n){var r,i,s;return function(){var o=Wh(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Wh(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function T5e(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=xa(this,t),c=l.on,u=l.value[s]==null?a||(a=wH(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),l.on=r}}function A5e(t,e,n){var r=(t+="")=="transform"?ADe:xH;return e==null?this.styleTween(t,N5e(t,r)).on("end.style."+t,wH(t)):typeof e=="function"?this.styleTween(t,_5e(t,r,FR(this,"style."+t,e))).each(T5e(this._id,t)):this.styleTween(t,E5e(t,r,e),n).on("end.style."+t,null)}function R5e(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function M5e(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&R5e(t,o,n)),r}return s._value=e,s}function Q5e(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,M5e(t,e,n??""))}function I5e(t){return function(){this.textContent=t}}function D5e(t){return function(){var e=t(this);this.textContent=e??""}}function L5e(t){return this.tween("text",typeof t=="function"?D5e(FR(this,"text",t)):I5e(t==null?"":t+""))}function F5e(t){return function(e){this.textContent=t.call(this,e)}}function V5e(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&F5e(i)),e}return r._value=t,r}function B5e(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,V5e(t))}function q5e(){for(var t=this._name,e=this._id,n=vH(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=po(l,e);fS(l,t,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new jl(r,this._parents,t,n)}function W5e(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=xa(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var z5e=0;function jl(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function vH(){return++z5e}var Ea=$O.prototype;jl.prototype={constructor:jl,select:$5e,selectAll:C5e,selectChild:Ea.selectChild,selectChildren:Ea.selectChildren,filter:O5e,merge:b5e,selection:j5e,transition:q5e,call:Ea.call,nodes:Ea.nodes,node:Ea.node,size:Ea.size,empty:Ea.empty,each:Ea.each,on:v5e,attr:n5e,attrTween:a5e,style:A5e,styleTween:Q5e,text:L5e,textTween:B5e,remove:k5e,tween:GDe,delay:u5e,duration:h5e,ease:m5e,easeVarying:y5e,end:W5e,[Symbol.iterator]:Ea[Symbol.iterator]};function Z5e(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var U5e={time:null,delay:0,duration:250,ease:Z5e};function X5e(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function G5e(t){var e,n;t instanceof jl?(e=t._id,t=t._name):(e=vH(),(n=U5e).time=DR(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&fS(l,t,e,c,o,n||X5e(l,e));return new jl(r,this._parents,t,e)}$O.prototype.interrupt=ZDe;$O.prototype.transition=G5e;const ix=t=>()=>t;function Y5e(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function al(t,e,n){this.k=t,this.x=e,this.y=n}al.prototype={constructor:al,scale:function(t){return t===1?this:new al(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new al(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hS=new al(1,0,0);SH.prototype=al.prototype;function SH(t){for(;!t.__zoom;)if(!(t=t.parentNode))return hS;return t.__zoom}function PC(t){t.stopImmediatePropagation()}function Sm(t){t.preventDefault(),t.stopImmediatePropagation()}function H5e(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function J5e(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function FV(){return this.__zoom||hS}function K5e(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function eLe(){return navigator.maxTouchPoints||"ontouchstart"in this}function tLe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function kH(){var t=H5e,e=J5e,n=tLe,r=K5e,i=eLe,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=DDe,c=cS("start","zoom","end"),u,d,f,h=500,m=150,g=0,y=10;function O(j){j.property("__zoom",FV).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",P).filter(i).on("touchstart.zoom",R).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}O.transform=function(j,E,_,Q){var M=j.selection?j.selection():j;M.property("__zoom",FV),j!==M?v(j,E,_,Q):M.interrupt().each(function(){k(this,arguments).event(Q).start().zoom(null,typeof E=="function"?E.apply(this,arguments):E).end()})},O.scaleBy=function(j,E,_,Q){O.scaleTo(j,function(){var M=this.__zoom.k,L=typeof E=="function"?E.apply(this,arguments):E;return M*L},_,Q)},O.scaleTo=function(j,E,_,Q){O.transform(j,function(){var M=e.apply(this,arguments),L=this.__zoom,V=_==null?x(M):typeof _=="function"?_.apply(this,arguments):_,W=L.invert(V),H=typeof E=="function"?E.apply(this,arguments):E;return n(w(b(L,H),V,W),M,o)},_,Q)},O.translateBy=function(j,E,_,Q){O.transform(j,function(){return n(this.__zoom.translate(typeof E=="function"?E.apply(this,arguments):E,typeof _=="function"?_.apply(this,arguments):_),e.apply(this,arguments),o)},null,Q)},O.translateTo=function(j,E,_,Q,M){O.transform(j,function(){var L=e.apply(this,arguments),V=this.__zoom,W=Q==null?x(L):typeof Q=="function"?Q.apply(this,arguments):Q;return n(hS.translate(W[0],W[1]).scale(V.k).translate(typeof E=="function"?-E.apply(this,arguments):-E,typeof _=="function"?-_.apply(this,arguments):-_),L,o)},Q,M)};function b(j,E){return E=Math.max(s[0],Math.min(s[1],E)),E===j.k?j:new al(E,j.x,j.y)}function w(j,E,_){var Q=E[0]-_[0]*j.k,M=E[1]-_[1]*j.k;return Q===j.x&&M===j.y?j:new al(j.k,Q,M)}function x(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function v(j,E,_,Q){j.on("start.zoom",function(){k(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(Q).end()}).tween("zoom",function(){var M=this,L=arguments,V=k(M,L).event(Q),W=e.apply(M,L),H=_==null?x(W):typeof _=="function"?_.apply(M,L):_,le=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),fe=M.__zoom,U=typeof E=="function"?E.apply(M,L):E,ee=l(fe.invert(H).concat(le/fe.k),U.invert(H).concat(le/U.k));return function(re){if(re===1)re=U;else{var J=ee(re),q=le/J[2];re=new al(q,H[0]-J[0]*q,H[1]-J[1]*q)}V.zoom(null,re)}})}function k(j,E,_){return!_&&j.__zooming||new $(j,E)}function $(j,E){this.that=j,this.args=E,this.active=0,this.sourceEvent=null,this.extent=e.apply(j,E),this.taps=0}$.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,E){return this.mouse&&j!=="mouse"&&(this.mouse[1]=E.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=E.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=E.invert(this.touch1[0])),this.that.__zoom=E,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var E=_i(this.that).datum();c.call(j,this.that,new Y5e(j,{sourceEvent:this.sourceEvent,target:O,type:j,transform:this.that.__zoom,dispatch:c}),E)}};function C(j,...E){if(!t.apply(this,arguments))return;var _=k(this,E).event(j),Q=this.__zoom,M=Math.max(s[0],Math.min(s[1],Q.k*Math.pow(2,r.apply(this,arguments)))),L=Ws(j);if(_.wheel)(_.mouse[0][0]!==L[0]||_.mouse[0][1]!==L[1])&&(_.mouse[1]=Q.invert(_.mouse[0]=L)),clearTimeout(_.wheel);else{if(Q.k===M)return;_.mouse=[L,Q.invert(L)],xw(this),_.start()}Sm(j),_.wheel=setTimeout(V,m),_.zoom("mouse",n(w(b(Q,M),_.mouse[0],_.mouse[1]),_.extent,o));function V(){_.wheel=null,_.end()}}function N(j,...E){if(f||!t.apply(this,arguments))return;var _=j.currentTarget,Q=k(this,E,!0).event(j),M=_i(j.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",le,!0),L=Ws(j,_),V=j.clientX,W=j.clientY;aH(j.view),PC(j),Q.mouse=[L,this.__zoom.invert(L)],xw(this),Q.start();function H(fe){if(Sm(fe),!Q.moved){var U=fe.clientX-V,ee=fe.clientY-W;Q.moved=U*U+ee*ee>g}Q.event(fe).zoom("mouse",n(w(Q.that.__zoom,Q.mouse[0]=Ws(fe,_),Q.mouse[1]),Q.extent,o))}function le(fe){M.on("mousemove.zoom mouseup.zoom",null),lH(fe.view,Q.moved),Sm(fe),Q.event(fe).end()}}function P(j,...E){if(t.apply(this,arguments)){var _=this.__zoom,Q=Ws(j.changedTouches?j.changedTouches[0]:j,this),M=_.invert(Q),L=_.k*(j.shiftKey?.5:2),V=n(w(b(_,L),Q,M),e.apply(this,E),o);Sm(j),a>0?_i(this).transition().duration(a).call(v,V,Q,j):_i(this).call(O.transform,V,Q,j)}}function R(j,...E){if(t.apply(this,arguments)){var _=j.touches,Q=_.length,M=k(this,E,j.changedTouches.length===Q).event(j),L,V,W,H;for(PC(j),V=0;V<Q;++V)W=_[V],H=Ws(W,this),H=[H,this.__zoom.invert(H),W.identifier],M.touch0?!M.touch1&&M.touch0[2]!==H[2]&&(M.touch1=H,M.taps=0):(M.touch0=H,L=!0,M.taps=1+!!u);u&&(u=clearTimeout(u)),L&&(M.taps<2&&(d=H[0],u=setTimeout(function(){u=null},h)),xw(this),M.start())}}function T(j,...E){if(this.__zooming){var _=k(this,E).event(j),Q=j.changedTouches,M=Q.length,L,V,W,H;for(Sm(j),L=0;L<M;++L)V=Q[L],W=Ws(V,this),_.touch0&&_.touch0[2]===V.identifier?_.touch0[0]=W:_.touch1&&_.touch1[2]===V.identifier&&(_.touch1[0]=W);if(V=_.that.__zoom,_.touch1){var le=_.touch0[0],fe=_.touch0[1],U=_.touch1[0],ee=_.touch1[1],re=(re=U[0]-le[0])*re+(re=U[1]-le[1])*re,J=(J=ee[0]-fe[0])*J+(J=ee[1]-fe[1])*J;V=b(V,Math.sqrt(re/J)),W=[(le[0]+U[0])/2,(le[1]+U[1])/2],H=[(fe[0]+ee[0])/2,(fe[1]+ee[1])/2]}else if(_.touch0)W=_.touch0[0],H=_.touch0[1];else return;_.zoom("touch",n(w(V,W,H),_.extent,o))}}function A(j,...E){if(this.__zooming){var _=k(this,E).event(j),Q=j.changedTouches,M=Q.length,L,V;for(PC(j),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),L=0;L<M;++L)V=Q[L],_.touch0&&_.touch0[2]===V.identifier?delete _.touch0:_.touch1&&_.touch1[2]===V.identifier&&delete _.touch1;if(_.touch1&&!_.touch0&&(_.touch0=_.touch1,delete _.touch1),_.touch0)_.touch0[1]=this.__zoom.invert(_.touch0[0]);else if(_.end(),_.taps===2&&(V=Ws(V,this),Math.hypot(d[0]-V[0],d[1]-V[1])<y)){var W=_i(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return O.wheelDelta=function(j){return arguments.length?(r=typeof j=="function"?j:ix(+j),O):r},O.filter=function(j){return arguments.length?(t=typeof j=="function"?j:ix(!!j),O):t},O.touchable=function(j){return arguments.length?(i=typeof j=="function"?j:ix(!!j),O):i},O.extent=function(j){return arguments.length?(e=typeof j=="function"?j:ix([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),O):e},O.scaleExtent=function(j){return arguments.length?(s[0]=+j[0],s[1]=+j[1],O):[s[0],s[1]]},O.translateExtent=function(j){return arguments.length?(o[0][0]=+j[0][0],o[1][0]=+j[1][0],o[0][1]=+j[0][1],o[1][1]=+j[1][1],O):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},O.constrain=function(j){return arguments.length?(n=j,O):n},O.duration=function(j){return arguments.length?(a=+j,O):a},O.interpolate=function(j){return arguments.length?(l=j,O):l},O.on=function(){var j=c.on.apply(c,arguments);return j===c?O:j},O.clickDistance=function(j){return arguments.length?(g=(j=+j)*j,O):Math.sqrt(g)},O.tapDistance=function(j){return arguments.length?(y=+j,O):y},O}const Ql={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},fy=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],$H=["Enter"," ","Escape"];var Zh;(function(t){t.Strict="strict",t.Loose="loose"})(Zh||(Zh={}));var pd;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(pd||(pd={}));var hy;(function(t){t.Partial="partial",t.Full="full"})(hy||(hy={}));const CH={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var uc;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(uc||(uc={}));var Gc;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Gc||(Gc={}));var Fe;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Fe||(Fe={}));const VV={[Fe.Left]:Fe.Right,[Fe.Right]:Fe.Left,[Fe.Top]:Fe.Bottom,[Fe.Bottom]:Fe.Top};function PH(t){return t===null?null:t?"valid":"invalid"}const jH=t=>"id"in t&&"source"in t&&"target"in t,nLe=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),VR=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),PO=(t,e=[0,0])=>{const{width:n,height:r}=Il(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},rLe=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):VR(i)?i:e.nodeLookup.get(i.id));const a=o?s0(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return pS(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return mS(n)},jO=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=s0(r);n=pS(n,i)}}),mS(n)},NH=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...NO(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const c of t.values()){const{measured:u,selectable:d=!0,hidden:f=!1}=c;if(o&&!d||f)continue;const h=u.width??c.width??c.initialWidth??null,m=u.height??c.height??c.initialHeight??null,g=py(a,Xh(c)),y=(h??0)*(m??0),O=s&&g>0;(!c.internals.handleBounds||O||g>=y||c.dragging)&&l.push(c)}return l},iLe=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function SE(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function kE({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!1);const a=jO(t),l=BR(a,e,n,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await r.setViewport(l,{duration:o==null?void 0:o.duration}),Promise.resolve(!0)}function EH({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},u=o.origin??r;let d=i;if(o.extent==="parent"&&!o.expandParent)if(!a)s==null||s("005",Ql.error005());else{const h=a.measured.width,m=a.measured.height;h&&m&&(d=[[l,c],[l+h,c+m]])}else a&&Gh(o.extent)&&(d=[[o.extent[0][0]+l,o.extent[0][1]+c],[o.extent[1][0]+l,o.extent[1][1]+c]]);const f=Gh(d)?Pd(e,d,o.measured):e;return{position:{x:f.x-l+o.measured.width*u[0],y:f.y-c+o.measured.height*u[1]},positionAbsolute:f}}async function sLe({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(f=>f.id)),o=[];for(const f of n){if(f.deletable===!1)continue;const h=s.has(f.id),m=!h&&f.parentId&&o.find(g=>g.id===f.parentId);(h||m)&&o.push(f)}const a=new Set(e.map(f=>f.id)),l=r.filter(f=>f.deletable!==!1),u=iLe(o,l);for(const f of l)a.has(f.id)&&!u.find(m=>m.id===f.id)&&u.push(f);if(!i)return{edges:u,nodes:o};const d=await i({nodes:o,edges:u});return typeof d=="boolean"?d?{edges:u,nodes:o}:{edges:[],nodes:[]}:d}const Uh=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Pd=(t={x:0,y:0},e,n)=>({x:Uh(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:Uh(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function _H(t,e,n){const{width:r,height:i}=Il(n),{x:s,y:o}=n.internals.positionAbsolute;return Pd(t,[[s,o],[s+r,o+i]],e)}const BV=(t,e,n)=>t<e?Uh(Math.abs(t-e),1,e)/e:t>n?-Uh(Math.abs(t-n),1,e)/e:0,TH=(t,e,n=15,r=40)=>{const i=BV(t.x,r,e.width-r)*n,s=BV(t.y,r,e.height-r)*n;return[i,s]},pS=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),$E=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),mS=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Xh=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=VR(t)?t.internals.positionAbsolute:PO(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},s0=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=VR(t)?t.internals.positionAbsolute:PO(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},AH=(t,e)=>mS(pS($E(t),$E(e))),py=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},qV=t=>Ys(t.width)&&Ys(t.height)&&Ys(t.x)&&Ys(t.y),Ys=t=>!isNaN(t)&&isFinite(t),oLe=(t,e)=>{},gS=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),NO=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return s?gS(a,o):a},RH=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),BR=(t,e,n,r,i,s)=>{const o=e/(t.width*(1+s)),a=n/(t.height*(1+s)),l=Math.min(o,a),c=Uh(l,r,i),u=t.x+t.width/2,d=t.y+t.height/2,f=e/2-u*c,h=n/2-d*c;return{x:f,y:h,zoom:c}},o0=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Gh(t){return t!==void 0&&t!=="parent"}function Il(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function MH(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function QH(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*a[1]}return s}function WV(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function yg(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=pl(t),a=NO({x:s-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},r),{x:l,y:c}=n?gS(a,e):a;return{xSnapped:l,ySnapped:c,...a}}const yS=t=>({width:t.offsetWidth,height:t.offsetHeight}),IH=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},aLe=["INPUT","SELECT","TEXTAREA"];function CE(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:aLe.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const DH=t=>"clientX"in t,pl=(t,e)=>{var s,o;const n=DH(t),r=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,i=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},zV=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...yS(o)}})};function LH({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=t*.125+i*.375+o*.375+n*.125,c=e*.125+s*.375+a*.375+r*.125,u=Math.abs(l-t),d=Math.abs(c-e);return[l,c,u,d]}function sx(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function ZV({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Fe.Left:return[e-sx(e-r,s),n];case Fe.Right:return[e+sx(r-e,s),n];case Fe.Top:return[e,n-sx(n-i,s)];case Fe.Bottom:return[e,n+sx(i-n,s)]}}function FH({sourceX:t,sourceY:e,sourcePosition:n=Fe.Bottom,targetX:r,targetY:i,targetPosition:s=Fe.Top,curvature:o=.25}){const[a,l]=ZV({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[c,u]=ZV({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[d,f,h,m]=LH({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${e} C${a},${l} ${c},${u} ${r},${i}`,d,f,h,m]}function VH({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function lLe({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||e.selected||t.selected,o=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(s?o:0)}function cLe({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=pS(s0(t),s0(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return py(o,mS(s))>0}const uLe=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,dLe=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),BH=(t,e)=>{if(!t.source||!t.target)return e;let n;return jH(t)?n={...t}:n={...t,id:uLe(t)},dLe(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function qH({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,a]=VH({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,a]}const UV={[Fe.Left]:{x:-1,y:0},[Fe.Right]:{x:1,y:0},[Fe.Top]:{x:0,y:-1},[Fe.Bottom]:{x:0,y:1}},fLe=({source:t,sourcePosition:e=Fe.Bottom,target:n})=>e===Fe.Left||e===Fe.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},XV=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function hLe({source:t,sourcePosition:e=Fe.Bottom,target:n,targetPosition:r=Fe.Top,center:i,offset:s}){const o=UV[e],a=UV[r],l={x:t.x+o.x*s,y:t.y+o.y*s},c={x:n.x+a.x*s,y:n.y+a.y*s},u=fLe({source:l,sourcePosition:e,target:c}),d=u.x!==0?"x":"y",f=u[d];let h=[],m,g;const y={x:0,y:0},O={x:0,y:0},[b,w,x,v]=VH({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[d]*a[d]===-1){m=i.x??b,g=i.y??w;const $=[{x:m,y:l.y},{x:m,y:c.y}],C=[{x:l.x,y:g},{x:c.x,y:g}];o[d]===f?h=d==="x"?$:C:h=d==="x"?C:$}else{const $=[{x:l.x,y:c.y}],C=[{x:c.x,y:l.y}];if(d==="x"?h=o.x===f?C:$:h=o.y===f?$:C,e===r){const A=Math.abs(t[d]-n[d]);if(A<=s){const j=Math.min(s-1,s-A);o[d]===f?y[d]=(l[d]>t[d]?-1:1)*j:O[d]=(c[d]>n[d]?-1:1)*j}}if(e!==r){const A=d==="x"?"y":"x",j=o[d]===a[A],E=l[A]>c[A],_=l[A]<c[A];(o[d]===1&&(!j&&E||j&&_)||o[d]!==1&&(!j&&_||j&&E))&&(h=d==="x"?$:C)}const N={x:l.x+y.x,y:l.y+y.y},P={x:c.x+O.x,y:c.y+O.y},R=Math.max(Math.abs(N.x-h[0].x),Math.abs(P.x-h[0].x)),T=Math.max(Math.abs(N.y-h[0].y),Math.abs(P.y-h[0].y));R>=T?(m=(N.x+P.x)/2,g=h[0].y):(m=h[0].x,g=(N.y+P.y)/2)}return[[t,{x:l.x+y.x,y:l.y+y.y},...h,{x:c.x+O.x,y:c.y+O.y},n],m,g,x,v]}function pLe(t,e,n,r){const i=Math.min(XV(t,e)/2,XV(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const c=t.x<n.x?-1:1,u=t.y<n.y?1:-1;return`L ${s+i*c},${o}Q ${s},${o} ${s},${o+i*u}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function PE({sourceX:t,sourceY:e,sourcePosition:n=Fe.Bottom,targetX:r,targetY:i,targetPosition:s=Fe.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20}){const[u,d,f,h,m]=hLe({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c});return[u.reduce((y,O,b)=>{let w="";return b>0&&b<u.length-1?w=pLe(u[b-1],O,u[b+1],o):w=`${b===0?"M":"L"}${O.x} ${O.y}`,y+=w,y},""),d,f,h,m]}function GV(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function mLe(t){var d;const{sourceNode:e,targetNode:n}=t;if(!GV(e)||!GV(n))return null;const r=e.internals.handleBounds||YV(e.handles),i=n.internals.handleBounds||YV(n.handles),s=HV((r==null?void 0:r.source)??[],t.sourceHandle),o=HV(t.connectionMode===Zh.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!s||!o)return(d=t.onError)==null||d.call(t,"008",Ql.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(s==null?void 0:s.position)||Fe.Bottom,l=(o==null?void 0:o.position)||Fe.Top,c=my(e,s,a),u=my(n,o,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:l}}function YV(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function my(t,e,n=Fe.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:o,height:a}=e??Il(t);if(r)return{x:i+o/2,y:s+a/2};switch((e==null?void 0:e.position)??n){case Fe.Top:return{x:i+o/2,y:s};case Fe.Right:return{x:i+o,y:s+a/2};case Fe.Bottom:return{x:i+o/2,y:s+a};case Fe.Left:return{x:i,y:s+a/2}}}function HV(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function jE(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function gLe(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=jE(l,e);s.has(c)||(o.push({id:c,color:l.color||n,...l}),s.add(c))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const qR={nodeOrigin:[0,0],nodeExtent:fy,elevateNodesOnSelect:!0,defaults:{}},yLe={...qR,checkEquality:!0};function WR(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function OLe(t,e,n){const r=WR(qR,n);for(const i of t.values())if(i.parentId)zR(i,t,e,r);else{const s=PO(i,r.nodeOrigin),o=Gh(i.extent)?i.extent:r.nodeExtent,a=Pd(s,o,Il(i));i.internals.positionAbsolute=a}}function NE(t,e,n,r){var a,l;const i=WR(yLe,r),s=new Map(e),o=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const c of t){let u=s.get(c.id);if(i.checkEquality&&c===(u==null?void 0:u.internals.userNode))e.set(c.id,u);else{const d=PO(c,i.nodeOrigin),f=Gh(c.extent)?c.extent:i.nodeExtent,h=Pd(d,f,Il(c));u={...i.defaults,...c,measured:{width:(a=c.measured)==null?void 0:a.width,height:(l=c.measured)==null?void 0:l.height},internals:{positionAbsolute:h,handleBounds:c.measured?u==null?void 0:u.internals.handleBounds:void 0,z:WH(c,o),userNode:c}},e.set(c.id,u)}c.parentId&&zR(u,e,n,r)}}function bLe(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function zR(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=WR(qR,r),a=t.parentId,l=e.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}bLe(t,n);const c=i?1e3:0,{x:u,y:d,z:f}=xLe(t,l,s,o,c),{positionAbsolute:h}=t.internals,m=u!==h.x||d!==h.y;(m||f!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:m?{x:u,y:d}:h,z:f}})}function WH(t,e){return(Ys(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function xLe(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,a=Il(t),l=PO(t,n),c=Gh(t.extent)?Pd(l,t.extent,a):l;let u=Pd({x:s+c.x,y:o+c.y},r,a);t.extent==="parent"&&(u=_H(u,a,e));const d=WH(t,i),f=e.internals.z??0;return{x:u.x,y:u.y,z:f>d?f:d}}function ZR(t,e,n,r=[0,0]){var o;const i=[],s=new Map;for(const a of t){const l=e.get(a.parentId);if(!l)continue;const c=((o=s.get(a.parentId))==null?void 0:o.expandedRect)??Xh(l),u=AH(c,a.rect);s.set(a.parentId,{expandedRect:u,parent:l})}return s.size>0&&s.forEach(({expandedRect:a,parent:l},c)=>{var w;const u=l.internals.positionAbsolute,d=Il(l),f=l.origin??r,h=a.x<u.x?Math.round(Math.abs(u.x-a.x)):0,m=a.y<u.y?Math.round(Math.abs(u.y-a.y)):0,g=Math.max(d.width,Math.round(a.width)),y=Math.max(d.height,Math.round(a.height)),O=(g-d.width)*f[0],b=(y-d.height)*f[1];(h>0||m>0||O||b)&&(i.push({id:c,type:"position",position:{x:l.position.x-h+O,y:l.position.y-m+b}}),(w=n.get(c))==null||w.forEach(x=>{t.some(v=>v.id===x.id)||i.push({id:x.id,type:"position",position:{x:x.position.x+h,y:x.position.y+m}})})),(d.width<a.width||d.height<a.height||h||m)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:g+(h?f[0]*h-O:0),height:y+(m?f[1]*m-b:0)}})}),i}function wLe(t,e,n,r,i,s){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(o),{m22:u}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const f of t.values()){const h=e.get(f.id);if(!h)continue;if(h.hidden){e.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),a=!0;continue}const m=yS(f.nodeElement),g=h.measured.width!==m.width||h.measured.height!==m.height;if(!!(m.width&&m.height&&(g||!h.internals.handleBounds||f.force))){const O=f.nodeElement.getBoundingClientRect(),b=Gh(h.extent)?h.extent:s;let{positionAbsolute:w}=h.internals;h.parentId&&h.extent==="parent"?w=_H(w,m,e.get(h.parentId)):b&&(w=Pd(w,b,m));const x={...h,measured:m,internals:{...h.internals,positionAbsolute:w,handleBounds:{source:zV("source",f.nodeElement,O,u,h.id),target:zV("target",f.nodeElement,O,u,h.id)}}};e.set(h.id,x),h.parentId&&zR(x,e,n,{nodeOrigin:i}),a=!0,g&&(l.push({id:h.id,type:"dimensions",dimensions:m}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:Xh(x,i)}))}}if(d.length>0){const f=ZR(d,e,n,i);l.push(...f)}return{changes:l,updatedInternals:a}}async function vLe({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function JV(t,e,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,e)),o=`${i}-${t}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,e)),s){o=`${i}-${t}-${s}`;const c=r.get(o)||new Map;r.set(o,c.set(n,e))}}function zH(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},c=`${i}-${o}--${s}-${a}`,u=`${s}-${a}--${i}-${o}`;JV("source",l,u,t,i,o),JV("target",l,c,t,s,a),e.set(r.id,r)}}function ZH(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:ZH(n,e):!1}function KV(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function SLe(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!ZH(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const a=t.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function jC({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var o,a,l;const i=[];for(const[c,u]of e){const d=(o=n.get(c))==null?void 0:o.internals.userNode;d&&i.push({...d,position:u.position,dragging:r})}if(!t)return[i[0],i];const s=(a=n.get(t))==null?void 0:a.internals.userNode;return[s?{...s,position:((l=e.get(t))==null?void 0:l.position)||s.position,dragging:r}:i[0],i]}function kLe({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,c={x:0,y:0},u=null,d=!1,f=null,h=!1;function m({noDragClassName:y,handleSelector:O,domNode:b,isSelectable:w,nodeId:x,nodeClickDistance:v=0}){f=_i(b);function k({x:P,y:R},T){const{nodeLookup:A,nodeExtent:j,snapGrid:E,snapToGrid:_,nodeOrigin:Q,onNodeDrag:M,onSelectionDrag:L,onError:V,updateNodePositions:W}=e();s={x:P,y:R};let H=!1,le={x:0,y:0,x2:0,y2:0};if(a.size>1&&j){const fe=jO(a);le=$E(fe)}for(const[fe,U]of a){if(!A.has(fe))continue;let ee={x:P-U.distance.x,y:R-U.distance.y};_&&(ee=gS(ee,E));let re=[[j[0][0],j[0][1]],[j[1][0],j[1][1]]];if(a.size>1&&j&&!U.extent){const{positionAbsolute:oe}=U.internals,B=oe.x-le.x+j[0][0],ie=oe.x+U.measured.width-le.x2+j[1][0],ce=oe.y-le.y+j[0][1],de=oe.y+U.measured.height-le.y2+j[1][1];re=[[B,ce],[ie,de]]}const{position:J,positionAbsolute:q}=EH({nodeId:fe,nextPosition:ee,nodeLookup:A,nodeExtent:re,nodeOrigin:Q,onError:V});H=H||U.position.x!==J.x||U.position.y!==J.y,U.position=J,U.internals.positionAbsolute=q}if(H&&(W(a,!0),T&&(r||M||!x&&L))){const[fe,U]=jC({nodeId:x,dragItems:a,nodeLookup:A});r==null||r(T,a,fe,U),M==null||M(T,fe,U),x||L==null||L(T,U)}}async function $(){if(!u)return;const{transform:P,panBy:R,autoPanSpeed:T}=e(),[A,j]=TH(c,u,T);(A!==0||j!==0)&&(s.x=(s.x??0)-A/P[2],s.y=(s.y??0)-j/P[2],await R({x:A,y:j})&&k(s,null)),o=requestAnimationFrame($)}function C(P){var H;const{nodeLookup:R,multiSelectionActive:T,nodesDraggable:A,transform:j,snapGrid:E,snapToGrid:_,selectNodesOnDrag:Q,onNodeDragStart:M,onSelectionDragStart:L,unselectNodesAndEdges:V}=e();d=!0,(!Q||!w)&&!T&&x&&((H=R.get(x))!=null&&H.selected||V()),w&&Q&&x&&(t==null||t(x));const W=yg(P.sourceEvent,{transform:j,snapGrid:E,snapToGrid:_,containerBounds:u});if(s=W,a=SLe(R,A,W,x),a.size>0&&(n||M||!x&&L)){const[le,fe]=jC({nodeId:x,dragItems:a,nodeLookup:R});n==null||n(P.sourceEvent,a,le,fe),M==null||M(P.sourceEvent,le,fe),x||L==null||L(P.sourceEvent,fe)}}const N=cH().clickDistance(v).on("start",P=>{const{domNode:R,nodeDragThreshold:T,transform:A,snapGrid:j,snapToGrid:E}=e();u=(R==null?void 0:R.getBoundingClientRect())||null,h=!1,T===0&&C(P),s=yg(P.sourceEvent,{transform:A,snapGrid:j,snapToGrid:E,containerBounds:u}),c=pl(P.sourceEvent,u)}).on("drag",P=>{const{autoPanOnNodeDrag:R,transform:T,snapGrid:A,snapToGrid:j,nodeDragThreshold:E,nodeLookup:_}=e(),Q=yg(P.sourceEvent,{transform:T,snapGrid:A,snapToGrid:j,containerBounds:u});if((P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1||x&&!_.has(x))&&(h=!0),!h){if(!l&&R&&d&&(l=!0,$()),!d){const M=Q.xSnapped-(s.x??0),L=Q.ySnapped-(s.y??0);Math.sqrt(M*M+L*L)>E&&C(P)}(s.x!==Q.xSnapped||s.y!==Q.ySnapped)&&a&&d&&(c=pl(P.sourceEvent,u),k(Q,P.sourceEvent))}}).on("end",P=>{if(!(!d||h)&&(l=!1,d=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:R,updateNodePositions:T,onNodeDragStop:A,onSelectionDragStop:j}=e();if(T(a,!1),i||A||!x&&j){const[E,_]=jC({nodeId:x,dragItems:a,nodeLookup:R,dragging:!1});i==null||i(P.sourceEvent,a,E,_),A==null||A(P.sourceEvent,E,_),x||j==null||j(P.sourceEvent,_)}}}).filter(P=>{const R=P.target;return!P.button&&(!y||!KV(R,`.${y}`,b))&&(!O||KV(R,O,b))});f.call(N)}function g(){f==null||f.on(".drag",null)}return{update:m,destroy:g}}function $Le(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())py(i,Xh(s))>0&&r.push(s);return r}const CLe=250;function PLe(t,e,n,r){var a,l;let i=[],s=1/0;const o=$Le(t,n,e+CLe);for(const c of o){const u=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((l=c.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of u){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:f,y:h}=my(c,d,d.position,!0),m=Math.sqrt(Math.pow(f-t.x,2)+Math.pow(h-t.y,2));m>e||(m<s?(i=[{...d,x:f,y:h}],s=m):m===s&&i.push({...d,x:f,y:h}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(u=>u.type===c)??i[0]}return i[0]}function UH(t,e,n,r,i,s=!1){var c,u,d;const o=r.get(t);if(!o)return null;const a=i==="strict"?(c=o.internals.handleBounds)==null?void 0:c[e]:[...((u=o.internals.handleBounds)==null?void 0:u.source)??[],...((d=o.internals.handleBounds)==null?void 0:d.target)??[]],l=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return l&&s?{...l,...my(o,l,l.position,!0)}:l}function XH(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function jLe(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const GH=()=>!0;function NLe(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:d,panBy:f,cancelConnection:h,onConnectStart:m,onConnect:g,onConnectEnd:y,isValidConnection:O=GH,onReconnectEnd:b,updateConnection:w,getTransform:x,getFromHandle:v,autoPanSpeed:k}){const $=IH(t.target);let C=0,N;const{x:P,y:R}=pl(t),T=$==null?void 0:$.elementFromPoint(P,R),A=XH(s,T),j=a==null?void 0:a.getBoundingClientRect();if(!j||!A)return;const E=UH(i,A,r,l,e);if(!E)return;let _=pl(t,j),Q=!1,M=null,L=!1,V=null;function W(){if(!u||!j)return;const[q,oe]=TH(_,j,k);f({x:q,y:oe}),C=requestAnimationFrame(W)}const H={...E,nodeId:i,type:A,position:E.position},le=l.get(i),U={inProgress:!0,isValid:null,from:my(le,H,Fe.Left,!0),fromHandle:H,fromPosition:H.position,fromNode:le,to:_,toHandle:null,toPosition:VV[H.position],toNode:null};w(U);let ee=U;m==null||m(t,{nodeId:i,handleId:r,handleType:A});function re(q){if(!v()||!H){J(q);return}const oe=x();_=pl(q,j),N=PLe(NO(_,oe,!1,[1,1]),n,l,H),Q||(W(),Q=!0);const B=YH(q,{handle:N,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:O,doc:$,lib:c,flowId:d,nodeLookup:l});V=B.handleDomNode,M=B.connection,L=jLe(!!N,B.isValid);const ie={...ee,isValid:L,to:N&&L?RH({x:N.x,y:N.y},oe):_,toHandle:B.toHandle,toPosition:L&&B.toHandle?B.toHandle.position:VV[H.position],toNode:B.toHandle?l.get(B.toHandle.nodeId):null};L&&N&&ee.toHandle&&ie.toHandle&&ee.toHandle.type===ie.toHandle.type&&ee.toHandle.nodeId===ie.toHandle.nodeId&&ee.toHandle.id===ie.toHandle.id&&ee.to.x===ie.to.x&&ee.to.y===ie.to.y||(w(ie),ee=ie)}function J(q){(N||V)&&M&&L&&(g==null||g(M));const{inProgress:oe,...B}=ee,ie={...B,toPosition:ee.toHandle?ee.toPosition:null};y==null||y(q,ie),s&&(b==null||b(q,ie)),h(),cancelAnimationFrame(C),Q=!1,L=!1,M=null,V=null,$.removeEventListener("mousemove",re),$.removeEventListener("mouseup",J),$.removeEventListener("touchmove",re),$.removeEventListener("touchend",J)}$.addEventListener("mousemove",re),$.addEventListener("mouseup",J),$.addEventListener("touchmove",re),$.addEventListener("touchend",J)}function YH(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:c=GH,nodeLookup:u}){const d=s==="target",f=e?o.querySelector(`.${a}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:h,y:m}=pl(t),g=o.elementFromPoint(h,m),y=g!=null&&g.classList.contains(`${a}-flow__handle`)?g:f,O={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const b=XH(void 0,y),w=y.getAttribute("data-nodeid"),x=y.getAttribute("data-handleid"),v=y.classList.contains("connectable"),k=y.classList.contains("connectableend");if(!w||!b)return O;const $={source:d?w:r,sourceHandle:d?x:i,target:d?r:w,targetHandle:d?i:x};O.connection=$;const N=v&&k&&(n===Zh.Strict?d&&b==="source"||!d&&b==="target":w!==r||x!==i);O.isValid=N&&c($),O.toHandle=UH(w,b,x,u,n,!1)}return O}const EE={onPointerDown:NLe,isValid:YH};function ELe({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=_i(t);function s({translateExtent:a,width:l,height:c,zoomStep:u=10,pannable:d=!0,zoomable:f=!0,inversePan:h=!1}){const m=w=>{const x=n();if(w.sourceEvent.type!=="wheel"||!e)return;const v=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*u,k=x[2]*Math.pow(2,v);e.scaleTo(k)};let g=[0,0];const y=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(g=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},O=w=>{const x=n();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!e)return;const v=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],k=[v[0]-g[0],v[1]-g[1]];g=v;const $=r()*Math.max(x[2],Math.log(x[2]))*(h?-1:1),C={x:x[0]-k[0]*$,y:x[1]-k[1]*$},N=[[0,0],[l,c]];e.setViewportConstrained({x:C.x,y:C.y,zoom:x[2]},N,a)},b=kH().on("start",y).on("zoom",d?O:null).on("zoom.wheel",f?m:null);i.call(b,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:Ws}}const _Le=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,OS=t=>({x:t.x,y:t.y,zoom:t.k}),NC=({x:t,y:e,zoom:n})=>hS.translate(t,e).scale(n),If=(t,e)=>t.target.closest(`.${e}`),HH=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),EC=(t,e=0,n=()=>{})=>{const r=typeof e=="number"&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},JH=t=>{const e=t.ctrlKey&&o0()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function TLe({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(If(u,e))return!1;u.preventDefault(),u.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(u.ctrlKey&&o){const y=Ws(u),O=JH(u),b=d*Math.pow(2,O);r.scaleTo(n,b,y,u);return}const f=u.deltaMode===1?20:1;let h=i===pd.Vertical?0:u.deltaX*f,m=i===pd.Horizontal?0:u.deltaY*f;!o0()&&u.shiftKey&&i!==pd.Vertical&&(h=u.deltaY*f,m=0),r.translateBy(n,-(h/d)*s,-(m/d)*s,{internal:!0});const g=OS(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,a==null||a(u,g)),t.isPanScrolling&&(l==null||l(u,g),t.panScrollTimeout=setTimeout(()=>{c==null||c(u,g),t.isPanScrolling=!1},150))}}function ALe({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||If(r,t))return null;r.preventDefault(),n.call(this,r,i)}}function RLe({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var s,o,a;if((s=r.sourceEvent)!=null&&s.internal)return;const i=OS(r.transform);t.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function MLe({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{var o,a;t.usedRightMouseButton=!!(n&&HH(e,t.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((a=s.sourceEvent)!=null&&a.internal)&&(i==null||i(s.sourceEvent,OS(s.transform)))}}function QLe({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,s&&HH(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&_Le(t.prevViewport,o.transform))){const l=OS(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,l)},n?150:0)}}}function ILe({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:c}){return u=>{var m;const d=t||e,f=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(If(u,`${c}-flow__node`)||If(u,`${c}-flow__edge`)))return!0;if(!r&&!d&&!i&&!s&&!n||o||If(u,a)&&u.type==="wheel"||If(u,l)&&(u.type!=="wheel"||i&&u.type==="wheel"&&!t)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&((m=u.touches)==null?void 0:m.length)>1)return u.preventDefault(),!1;if(!d&&!i&&!f&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&h}}function DLe({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),f=kH().clickDistance(!Ys(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),h=_i(t).call(f);w({x:s.x,y:s.y,zoom:Uh(s.zoom,e,n)},[[0,0],[d.width,d.height]],i);const m=h.on("wheel.zoom"),g=h.on("dblclick.zoom");f.wheelDelta(JH);function y(T,A){return h?new Promise(j=>{f==null||f.transform(EC(h,A==null?void 0:A.duration,()=>j(!0)),T)}):Promise.resolve(!1)}function O({noWheelClassName:T,noPanClassName:A,onPaneContextMenu:j,userSelectionActive:E,panOnScroll:_,panOnDrag:Q,panOnScrollMode:M,panOnScrollSpeed:L,preventScrolling:V,zoomOnPinch:W,zoomOnScroll:H,zoomOnDoubleClick:le,zoomActivationKeyPressed:fe,lib:U,onTransformChange:ee}){E&&!u.isZoomingOrPanning&&b();const J=_&&!fe&&!E?TLe({zoomPanValues:u,noWheelClassName:T,d3Selection:h,d3Zoom:f,panOnScrollMode:M,panOnScrollSpeed:L,zoomOnPinch:W,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:l}):ALe({noWheelClassName:T,preventScrolling:V,d3ZoomHandler:m});if(h.on("wheel.zoom",J,{passive:!1}),!E){const oe=RLe({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:a});f.on("start",oe);const B=MLe({zoomPanValues:u,panOnDrag:Q,onPaneContextMenu:!!j,onPanZoom:o,onTransformChange:ee});f.on("zoom",B);const ie=QLe({zoomPanValues:u,panOnDrag:Q,panOnScroll:_,onPaneContextMenu:j,onPanZoomEnd:l,onDraggingChange:c});f.on("end",ie)}const q=ILe({zoomActivationKeyPressed:fe,panOnDrag:Q,zoomOnScroll:H,panOnScroll:_,zoomOnDoubleClick:le,zoomOnPinch:W,userSelectionActive:E,noPanClassName:A,noWheelClassName:T,lib:U});f.filter(q),le?h.on("dblclick.zoom",g):h.on("dblclick.zoom",null)}function b(){f.on("zoom",null)}async function w(T,A,j){const E=NC(T),_=f==null?void 0:f.constrain()(E,A,j);return _&&await y(_),new Promise(Q=>Q(_))}async function x(T,A){const j=NC(T);return await y(j,A),new Promise(E=>E(j))}function v(T){if(h){const A=NC(T),j=h.property("__zoom");(j.k!==T.zoom||j.x!==T.x||j.y!==T.y)&&(f==null||f.transform(h,A,null,{sync:!0}))}}function k(){const T=h?SH(h.node()):{x:0,y:0,k:1};return{x:T.x,y:T.y,zoom:T.k}}function $(T,A){return h?new Promise(j=>{f==null||f.scaleTo(EC(h,A==null?void 0:A.duration,()=>j(!0)),T)}):Promise.resolve(!1)}function C(T,A){return h?new Promise(j=>{f==null||f.scaleBy(EC(h,A==null?void 0:A.duration,()=>j(!0)),T)}):Promise.resolve(!1)}function N(T){f==null||f.scaleExtent(T)}function P(T){f==null||f.translateExtent(T)}function R(T){const A=!Ys(T)||T<0?0:T;f==null||f.clickDistance(A)}return{update:O,destroy:b,setViewport:x,setViewportConstrained:w,getViewport:k,scaleTo:$,scaleBy:C,setScaleExtent:N,setTranslateExtent:P,syncViewport:v,setClickDistance:R}}var Og;(function(t){t.Line="line",t.Handle="handle"})(Og||(Og={}));function LLe({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(l[0]=l[0]*-1),a&&s&&(l[1]=l[1]*-1),l}function FLe(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function Yl(t,e){return Math.max(0,e-t)}function Hl(t,e){return Math.max(0,t-e)}function ox(t,e,n){return Math.max(0,e-t,t-n)}function eB(t,e){return t?!e:e}function VLe(t,e,n,r,i,s,o,a){let{affectsX:l,affectsY:c}=e;const{isHorizontal:u,isVertical:d}=e,f=u&&d,{xSnapped:h,ySnapped:m}=n,{minWidth:g,maxWidth:y,minHeight:O,maxHeight:b}=r,{x:w,y:x,width:v,height:k,aspectRatio:$}=t;let C=Math.floor(u?h-t.pointerX:0),N=Math.floor(d?m-t.pointerY:0);const P=v+(l?-C:C),R=k+(c?-N:N),T=-s[0]*v,A=-s[1]*k;let j=ox(P,g,y),E=ox(R,O,b);if(o){let M=0,L=0;l&&C<0?M=Yl(w+C+T,o[0][0]):!l&&C>0&&(M=Hl(w+P+T,o[1][0])),c&&N<0?L=Yl(x+N+A,o[0][1]):!c&&N>0&&(L=Hl(x+R+A,o[1][1])),j=Math.max(j,M),E=Math.max(E,L)}if(a){let M=0,L=0;l&&C>0?M=Hl(w+C,a[0][0]):!l&&C<0&&(M=Yl(w+P,a[1][0])),c&&N>0?L=Hl(x+N,a[0][1]):!c&&N<0&&(L=Yl(x+R,a[1][1])),j=Math.max(j,M),E=Math.max(E,L)}if(i){if(u){const M=ox(P/$,O,b)*$;if(j=Math.max(j,M),o){let L=0;!l&&!c||l&&!c&&f?L=Hl(x+A+P/$,o[1][1])*$:L=Yl(x+A+(l?C:-C)/$,o[0][1])*$,j=Math.max(j,L)}if(a){let L=0;!l&&!c||l&&!c&&f?L=Yl(x+P/$,a[1][1])*$:L=Hl(x+(l?C:-C)/$,a[0][1])*$,j=Math.max(j,L)}}if(d){const M=ox(R*$,g,y)/$;if(E=Math.max(E,M),o){let L=0;!l&&!c||c&&!l&&f?L=Hl(w+R*$+T,o[1][0])/$:L=Yl(w+(c?N:-N)*$+T,o[0][0])/$,E=Math.max(E,L)}if(a){let L=0;!l&&!c||c&&!l&&f?L=Yl(w+R*$,a[1][0])/$:L=Hl(w+(c?N:-N)*$,a[0][0])/$,E=Math.max(E,L)}}}N=N+(N<0?E:-E),C=C+(C<0?j:-j),i&&(f?P>R*$?N=(eB(l,c)?-C:C)/$:C=(eB(l,c)?-N:N)*$:u?(N=C/$,c=l):(C=N*$,l=c));const _=l?w+C:w,Q=c?x+N:x;return{width:v+(l?-C:C),height:k+(c?-N:N),x:s[0]*C*(l?-1:1)+_,y:s[1]*N*(c?-1:1)+Q}}const KH={width:0,height:0,x:0,y:0},BLe={...KH,pointerX:0,pointerY:0,aspectRatio:1};function qLe(t){return[[0,0],[t.measured.width,t.measured.height]]}function WLe(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,a=n[0]*s,l=n[1]*o;return[[r-a,i-l],[r+s-a,i+o-l]]}function zLe({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=_i(t);function o({controlPosition:l,boundaries:c,keepAspectRatio:u,onResizeStart:d,onResize:f,onResizeEnd:h,shouldResize:m}){let g={...KH},y={...BLe};const O=FLe(l);let b,w=null,x=[],v,k,$;const C=cH().on("start",N=>{const{nodeLookup:P,transform:R,snapGrid:T,snapToGrid:A,nodeOrigin:j,paneDomNode:E}=n();if(b=P.get(e),!b)return;w=(E==null?void 0:E.getBoundingClientRect())??null;const{xSnapped:_,ySnapped:Q}=yg(N.sourceEvent,{transform:R,snapGrid:T,snapToGrid:A,containerBounds:w});g={width:b.measured.width??0,height:b.measured.height??0,x:b.position.x??0,y:b.position.y??0},y={...g,pointerX:_,pointerY:Q,aspectRatio:g.width/g.height},v=void 0,b.parentId&&(b.extent==="parent"||b.expandParent)&&(v=P.get(b.parentId),k=v&&b.extent==="parent"?qLe(v):void 0),x=[],$=void 0;for(const[M,L]of P)if(L.parentId===e&&(x.push({id:M,position:{...L.position},extent:L.extent}),L.extent==="parent"||L.expandParent)){const V=WLe(L,b,L.origin??j);$?$=[[Math.min(V[0][0],$[0][0]),Math.min(V[0][1],$[0][1])],[Math.max(V[1][0],$[1][0]),Math.max(V[1][1],$[1][1])]]:$=V}d==null||d(N,{...g})}).on("drag",N=>{const{transform:P,snapGrid:R,snapToGrid:T,nodeOrigin:A}=n(),j=yg(N.sourceEvent,{transform:P,snapGrid:R,snapToGrid:T,containerBounds:w}),E=[];if(!b)return;const{x:_,y:Q,width:M,height:L}=g,V={},W=b.origin??A,{width:H,height:le,x:fe,y:U}=VLe(y,O,j,c,u,W,k,$),ee=H!==M,re=le!==L,J=fe!==_&&ee,q=U!==Q&&re;if(!J&&!q&&!ee&&!re)return;if((J||q||W[0]===1||W[1]===1)&&(V.x=J?fe:g.x,V.y=q?U:g.y,g.x=V.x,g.y=V.y,x.length>0)){const ce=fe-_,de=U-Q;for(const z of x)z.position={x:z.position.x-ce+W[0]*(H-M),y:z.position.y-de+W[1]*(le-L)},E.push(z)}if((ee||re)&&(V.width=ee?H:g.width,V.height=re?le:g.height,g.width=V.width,g.height=V.height),v&&b.expandParent){const ce=W[0]*(V.width??0);V.x&&V.x<ce&&(g.x=ce,y.x=y.x-(V.x-ce));const de=W[1]*(V.height??0);V.y&&V.y<de&&(g.y=de,y.y=y.y-(V.y-de))}const oe=LLe({width:g.width,prevWidth:M,height:g.height,prevHeight:L,affectsX:O.affectsX,affectsY:O.affectsY}),B={...g,direction:oe};(m==null?void 0:m(N,B))!==!1&&(f==null||f(N,B),r(V,E))}).on("end",N=>{h==null||h(N,{...g}),i==null||i()});s.call(C)}function a(){s.on(".drag",null)}return{update:o,destroy:a}}var _C={exports:{}},TC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tB;function ZLe(){if(tB)return TC;tB=1;var t=rT(),e=Lue();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return TC.useSyncExternalStoreWithSelector=function(c,u,d,f,h){var m=s(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=a(function(){function O(k){if(!b){if(b=!0,w=k,k=f(k),h!==void 0&&g.hasValue){var $=g.value;if(h($,k))return x=$}return x=k}if($=x,r(w,k))return $;var C=f(k);return h!==void 0&&h($,C)?(w=k,$):(w=k,x=C)}var b=!1,w,x,v=d===void 0?null:d;return[function(){return O(u())},v===null?void 0:function(){return O(v())}]},[u,d,f,h]);var y=i(c,m[0],m[1]);return o(function(){g.hasValue=!0,g.value=y},[y]),l(y),y},TC}var nB;function ULe(){return nB||(nB=1,_C.exports=ZLe()),_C.exports}var eJ=ULe();const XLe=a1(eJ),rB=t=>{let e;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const h=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,h))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{n.clear()}},c=e=t(r,i,l);return l},GLe=t=>t?rB(t):rB,{useDebugValue:YLe}=we,{useSyncExternalStoreWithSelector:HLe}=XLe,JLe=t=>t;function tJ(t,e=JLe,n){const r=HLe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return YLe(r),r}const iB=(t,e)=>{const n=GLe(t),r=(i,s=e)=>tJ(n,i,s);return Object.assign(r,n),r},KLe=(t,e)=>t?iB(t,e):iB;function un(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const bS=S.createContext(null),e3e=bS.Provider,nJ=Ql.error001();function Ot(t,e){const n=S.useContext(bS);if(n===null)throw new Error(nJ);return tJ(n,t,e)}function Kt(){const t=S.useContext(bS);if(t===null)throw new Error(nJ);return S.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const sB={display:"none"},t3e={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},rJ="react-flow__node-desc",iJ="react-flow__edge-desc",n3e="react-flow__aria-live",r3e=t=>t.ariaLiveMessage;function i3e({rfId:t}){const e=Ot(r3e);return p.jsx("div",{id:`${n3e}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:t3e,children:e})}function s3e({rfId:t,disableKeyboardA11y:e}){return p.jsxs(p.Fragment,{children:[p.jsxs("div",{id:`${rJ}-${t}`,style:sB,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),p.jsx("div",{id:`${iJ}-${t}`,style:sB,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&p.jsx(i3e,{rfId:t})]})}const o3e=t=>t.userSelectionActive?"none":"all",gy=S.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=Ot(o3e),a=`${t}`.split("-");return p.jsx("div",{className:Rn(["react-flow__panel",n,...a]),style:{...r,pointerEvents:o},ref:s,...i,children:e})});function a3e({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:p.jsx(gy,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:p.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const l3e=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},ax=t=>t.id;function c3e(t,e){return un(t.selectedNodes.map(ax),e.selectedNodes.map(ax))&&un(t.selectedEdges.map(ax),e.selectedEdges.map(ax))}function u3e({onSelectionChange:t}){const e=Kt(),{selectedNodes:n,selectedEdges:r}=Ot(l3e,c3e);return S.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const d3e=t=>!!t.onSelectionChangeHandlers;function f3e({onSelectionChange:t}){const e=Ot(d3e);return t||e?p.jsx(u3e,{onSelectionChange:t}):null}const sJ=[0,0],h3e={x:0,y:0,zoom:1},p3e=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],oB=[...p3e,"rfId"],m3e=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),aB={translateExtent:fy,nodeOrigin:sJ,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function g3e(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=Ot(m3e,un),u=Kt();S.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{d.current=aB,a()}),[]);const d=S.useRef(aB);return S.useEffect(()=>{for(const f of oB){const h=t[f],m=d.current[f];h!==m&&(typeof t[f]>"u"||(f==="nodes"?e(h):f==="edges"?n(h):f==="minZoom"?r(h):f==="maxZoom"?i(h):f==="translateExtent"?s(h):f==="nodeExtent"?o(h):f==="paneClickDistance"?c(h):f==="fitView"?u.setState({fitViewOnInit:h}):f==="fitViewOptions"?u.setState({fitViewOnInitOptions:h}):u.setState({[f]:h})))}d.current=t},oB.map(f=>t[f])),null}function lB(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function y3e(t){var r;const[e,n]=S.useState(t==="system"?null:t);return S.useEffect(()=>{if(t!=="system"){n(t);return}const i=lB(),s=()=>n(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[t]),e!==null?e:(r=lB())!=null&&r.matches?"dark":"light"}const cB=typeof document<"u"?document:null;function yy(t=null,e={target:cB,actInsideInputWithModifier:!0}){const[n,r]=S.useState(!1),i=S.useRef(!1),s=S.useRef(new Set([])),[o,a]=S.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=c.reduce((d,f)=>d.concat(...f),[]);return[c,u]}return[[],[]]},[t]);return S.useEffect(()=>{const l=(e==null?void 0:e.target)||cB;if(t!==null){const c=f=>{if(i.current=f.ctrlKey||f.metaKey||f.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&CE(f))return!1;const m=dB(f.code,a);s.current.add(f[m]),uB(o,s.current,!1)&&(f.preventDefault(),r(!0))},u=f=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&CE(f))return!1;const m=dB(f.code,a);uB(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(f[m]),f.key==="Meta"&&s.current.clear(),i.current=!1},d=()=>{s.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",u),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",u),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[t,r]),n}function uB(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function dB(t,e){return e.includes(t)?"code":"key"}const O3e=()=>{const t=Kt();return S.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:s,domNode:o}=t.getState();if(!s||!o)return Promise.resolve(!1);const a=SE(n,e),{width:l,height:c}=yS(o);return kE({nodes:a,width:l,height:c,minZoom:r,maxZoom:i,panZoom:s},e)},setCenter:async(e,n,r)=>{const{width:i,height:s,maxZoom:o,panZoom:a}=t.getState(),l=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:o,c=i/2-e*l,u=s/2-n*l;return a?(await a.setViewport({x:c,y:u,zoom:l},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:a}=t.getState(),l=BR(e,r,i,s,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={snapToGrid:!0})=>{const{transform:r,snapGrid:i,domNode:s}=t.getState();if(!s)return e;const{x:o,y:a}=s.getBoundingClientRect(),l={x:e.x-o,y:e.y-a};return NO(l,r,n.snapToGrid,i)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=RH(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function oJ(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...s};for(const l of o)b3e(l,a);n.push(a)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function b3e(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function aJ(t,e){return oJ(t,e)}function lJ(t,e){return oJ(t,e)}function ku(t,e){return{id:t,type:"select",selected:e}}function Df(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(ku(s.id,o)))}return r}function fB({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(s=>[s.id,s]));for(const[s,o]of t.entries()){const a=e.get(o.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==o&&n.push({id:o.id,item:o,type:"replace"}),l===void 0&&n.push({item:o,type:"add",index:s})}for(const[s]of e)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function hB(t){return{id:t.id,type:"remove"}}const pB=t=>nLe(t),x3e=t=>jH(t);function cJ(t){return S.forwardRef(t)}const w3e=typeof window<"u"?S.useLayoutEffect:S.useEffect;function mB(t){const[e,n]=S.useState(BigInt(0)),[r]=S.useState(()=>v3e(()=>n(i=>i+BigInt(1))));return w3e(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function v3e(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const uJ=S.createContext(null);function S3e({children:t}){const e=Kt(),n=S.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:u,onNodesChange:d,nodeLookup:f}=e.getState();let h=l;for(const m of a)h=typeof m=="function"?m(h):m;u?c(h):d&&d(fB({items:h,lookup:f}))},[]),r=mB(n),i=S.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:u,onEdgesChange:d,edgeLookup:f}=e.getState();let h=l;for(const m of a)h=typeof m=="function"?m(h):m;u?c(h):d&&d(fB({items:h,lookup:f}))},[]),s=mB(i),o=S.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return p.jsx(uJ.Provider,{value:o,children:t})}function k3e(){const t=S.useContext(uJ);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const $3e=t=>!!t.panZoom;function Ep(){const t=O3e(),e=Kt(),n=k3e(),r=Ot($3e),i=S.useMemo(()=>{const s=d=>e.getState().nodeLookup.get(d),o=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{var O,b;const{nodeLookup:f,nodeOrigin:h}=e.getState(),m=pB(d)?d:f.get(d.id),g=m.parentId?QH(m.position,m.measured,m.parentId,f,h):m.position,y={...m,position:g,width:((O=m.measured)==null?void 0:O.width)??m.width,height:((b=m.measured)==null?void 0:b.height)??m.height};return Xh(y)},c=(d,f,h={replace:!1})=>{o(m=>m.map(g=>{if(g.id===d){const y=typeof f=="function"?f(g):f;return h.replace&&pB(y)?y:{...g,...y}}return g}))},u=(d,f,h={replace:!1})=>{a(m=>m.map(g=>{if(g.id===d){const y=typeof f=="function"?f(g):f;return h.replace&&x3e(y)?y:{...g,...y}}return g}))};return{getNodes:()=>e.getState().nodes.map(d=>({...d})),getNode:d=>{var f;return(f=s(d))==null?void 0:f.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:d=[]}=e.getState();return d.map(f=>({...f}))},getEdge:d=>e.getState().edgeLookup.get(d),setNodes:o,setEdges:a,addNodes:d=>{const f=Array.isArray(d)?d:[d];n.nodeQueue.push(h=>[...h,...f])},addEdges:d=>{const f=Array.isArray(d)?d:[d];n.edgeQueue.push(h=>[...h,...f])},toObject:()=>{const{nodes:d=[],edges:f=[],transform:h}=e.getState(),[m,g,y]=h;return{nodes:d.map(O=>({...O})),edges:f.map(O=>({...O})),viewport:{x:m,y:g,zoom:y}}},deleteElements:async({nodes:d=[],edges:f=[]})=>{const{nodes:h,edges:m,onNodesDelete:g,onEdgesDelete:y,triggerNodeChanges:O,triggerEdgeChanges:b,onDelete:w,onBeforeDelete:x}=e.getState(),{nodes:v,edges:k}=await sLe({nodesToRemove:d,edgesToRemove:f,nodes:h,edges:m,onBeforeDelete:x}),$=k.length>0,C=v.length>0;if($){const N=k.map(hB);y==null||y(k),b(N)}if(C){const N=v.map(hB);g==null||g(v),O(N)}return(C||$)&&(w==null||w({nodes:v,edges:k})),{deletedNodes:v,deletedEdges:k}},getIntersectingNodes:(d,f=!0,h)=>{const m=qV(d),g=m?d:l(d),y=h!==void 0;return g?(h||e.getState().nodes).filter(O=>{const b=e.getState().nodeLookup.get(O.id);if(b&&!m&&(O.id===d.id||!b.internals.positionAbsolute))return!1;const w=Xh(y?O:b),x=py(w,g);return f&&x>0||x>=g.width*g.height}):[]},isNodeIntersecting:(d,f,h=!0)=>{const g=qV(d)?d:l(d);if(!g)return!1;const y=py(g,f);return h&&y>0||y>=g.width*g.height},updateNode:c,updateNodeData:(d,f,h={replace:!1})=>{c(d,m=>{const g=typeof f=="function"?f(m):f;return h.replace?{...m,data:g}:{...m,data:{...m.data,...g}}},h)},updateEdge:u,updateEdgeData:(d,f,h={replace:!1})=>{u(d,m=>{const g=typeof f=="function"?f(m):f;return h.replace?{...m,data:g}:{...m,data:{...m.data,...g}}},h)},getNodesBounds:d=>{const{nodeLookup:f,nodeOrigin:h}=e.getState();return rLe(d,{nodeLookup:f,nodeOrigin:h})},getHandleConnections:({type:d,id:f,nodeId:h})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${h}-${d}${f?`-${f}`:""}`))==null?void 0:m.values())??[])},getNodeConnections:({type:d,handleId:f,nodeId:h})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${h}${d?f?`-${d}-${f}`:`-${d}`:""}`))==null?void 0:m.values())??[])}}},[]);return S.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const gB=t=>t.selected,C3e={actInsideInputWithModifier:!1},P3e=typeof window<"u"?window:void 0;function j3e({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=Kt(),{deleteElements:r}=Ep(),i=yy(t,C3e),s=yy(e,{target:P3e});S.useEffect(()=>{if(i){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(gB),edges:o.filter(gB)}),n.setState({nodesSelectionActive:!1})}},[i]),S.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function N3e(t){const e=Kt();S.useEffect(()=>{const n=()=>{var i,s;if(!t.current)return!1;const r=yS(t.current);(r.height===0||r.width===0)&&((s=(i=e.getState()).onError)==null||s.call(i,"004",Ql.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const xS={position:"absolute",width:"100%",height:"100%",top:0,left:0},E3e=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function _3e({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=pd.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:u,maxZoom:d,zoomActivationKeyCode:f,preventScrolling:h=!0,children:m,noWheelClassName:g,noPanClassName:y,onViewportChange:O,isControlledViewport:b,paneClickDistance:w}){const x=Kt(),v=S.useRef(null),{userSelectionActive:k,lib:$}=Ot(E3e,un),C=yy(f),N=S.useRef();N3e(v);const P=S.useCallback(R=>{O==null||O({x:R[0],y:R[1],zoom:R[2]}),b||x.setState({transform:R})},[O,b]);return S.useEffect(()=>{if(v.current){N.current=DLe({domNode:v.current,minZoom:u,maxZoom:d,translateExtent:c,viewport:l,paneClickDistance:w,onDraggingChange:j=>x.setState({paneDragging:j}),onPanZoomStart:(j,E)=>{const{onViewportChangeStart:_,onMoveStart:Q}=x.getState();Q==null||Q(j,E),_==null||_(E)},onPanZoom:(j,E)=>{const{onViewportChange:_,onMove:Q}=x.getState();Q==null||Q(j,E),_==null||_(E)},onPanZoomEnd:(j,E)=>{const{onViewportChangeEnd:_,onMoveEnd:Q}=x.getState();Q==null||Q(j,E),_==null||_(E)}});const{x:R,y:T,zoom:A}=N.current.getViewport();return x.setState({panZoom:N.current,transform:[R,T,A],domNode:v.current.closest(".react-flow")}),()=>{var j;(j=N.current)==null||j.destroy()}}},[]),S.useEffect(()=>{var R;(R=N.current)==null||R.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:C,preventScrolling:h,noPanClassName:y,userSelectionActive:k,noWheelClassName:g,lib:$,onTransformChange:P})},[t,e,n,r,i,s,o,a,C,h,y,k,g,$,P]),p.jsx("div",{className:"react-flow__renderer",ref:v,style:xS,children:m})}const T3e=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function A3e(){const{userSelectionActive:t,userSelectionRect:e}=Ot(T3e,un);return t&&e?p.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const AC=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},R3e=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging});function M3e({isSelecting:t,selectionKeyPressed:e,selectionMode:n=hy.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:f,children:h}){const m=Kt(),{userSelectionActive:g,elementsSelectable:y,dragging:O}=Ot(R3e,un),b=y&&(t||g),w=S.useRef(null),x=S.useRef(),v=S.useRef(new Set),k=S.useRef(new Set),$=S.useRef(!1),C=S.useRef(!1),N=_=>{if($.current){$.current=!1;return}a==null||a(_),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},P=_=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){_.preventDefault();return}l==null||l(_)},R=c?_=>c(_):void 0,T=_=>{var W,H;const{resetSelectedElements:Q,domNode:M}=m.getState();if(x.current=M==null?void 0:M.getBoundingClientRect(),!y||!t||_.button!==0||_.target!==w.current||!x.current)return;(H=(W=_.target)==null?void 0:W.setPointerCapture)==null||H.call(W,_.pointerId),C.current=!0,$.current=!1;const{x:L,y:V}=pl(_.nativeEvent,x.current);Q(),m.setState({userSelectionRect:{width:0,height:0,startX:L,startY:V,x:L,y:V}}),s==null||s(_)},A=_=>{const{userSelectionRect:Q,transform:M,nodeLookup:L,edgeLookup:V,connectionLookup:W,triggerNodeChanges:H,triggerEdgeChanges:le,defaultEdgeOptions:fe}=m.getState();if(!x.current||!Q)return;$.current=!0;const{x:U,y:ee}=pl(_.nativeEvent,x.current),{startX:re,startY:J}=Q,q={startX:re,startY:J,x:U<re?U:re,y:ee<J?ee:J,width:Math.abs(U-re),height:Math.abs(ee-J)},oe=v.current,B=k.current;v.current=new Set(NH(L,q,M,n===hy.Partial,!0).map(ce=>ce.id)),k.current=new Set;const ie=(fe==null?void 0:fe.selectable)??!0;for(const ce of v.current){const de=W.get(ce);if(de)for(const{edgeId:z}of de.values()){const ne=V.get(z);ne&&(ne.selectable??ie)&&k.current.add(z)}}if(!WV(oe,v.current)){const ce=Df(L,v.current,!0);H(ce)}if(!WV(B,k.current)){const ce=Df(V,k.current);le(ce)}m.setState({userSelectionRect:q,userSelectionActive:!0,nodesSelectionActive:!1})},j=_=>{var M,L;if(_.button!==0||!C.current)return;(L=(M=_.target)==null?void 0:M.releasePointerCapture)==null||L.call(M,_.pointerId);const{userSelectionRect:Q}=m.getState();!g&&Q&&_.target===w.current&&(N==null||N(_)),m.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:v.current.size>0}),o==null||o(_),(e||i)&&($.current=!1),C.current=!1},E=r===!0||Array.isArray(r)&&r.includes(0);return p.jsxs("div",{className:Rn(["react-flow__pane",{draggable:E,dragging:O,selection:t}]),onClick:b?void 0:AC(N,w),onContextMenu:AC(P,w),onWheel:AC(R,w),onPointerEnter:b?void 0:u,onPointerDown:b?T:d,onPointerMove:b?A:d,onPointerUp:b?j:void 0,onPointerLeave:f,ref:w,style:xS,children:[h,p.jsx(A3e,{})]})}function _E({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:a,onError:l}=e.getState(),c=a.get(t);if(!c){l==null||l("012",Ql.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):i([t])}function dJ({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const a=Kt(),[l,c]=S.useState(!1),u=S.useRef();return S.useEffect(()=>{u.current=kLe({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{_E({id:d,store:a,nodeRef:t})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),S.useEffect(()=>{var d,f;if(e)(d=u.current)==null||d.destroy();else if(t.current)return(f=u.current)==null||f.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{var h;(h=u.current)==null||h.destroy()}},[n,r,e,s,t,i]),l}const Q3e=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function fJ(){const t=Kt();return S.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:u}=t.getState(),d=new Map,f=Q3e(o),h=i?s[0]:5,m=i?s[1]:5,g=n.direction.x*h*n.factor,y=n.direction.y*m*n.factor;for(const[,O]of c){if(!f(O))continue;let b={x:O.internals.positionAbsolute.x+g,y:O.internals.positionAbsolute.y+y};i&&(b=gS(b,s));const{position:w,positionAbsolute:x}=EH({nodeId:O.id,nextPosition:b,nodeLookup:c,nodeExtent:r,nodeOrigin:u,onError:a});O.position=w,O.internals.positionAbsolute=x,d.set(O.id,O)}l(d)},[])}const UR=S.createContext(null),I3e=UR.Provider;UR.Consumer;const hJ=()=>S.useContext(UR),D3e=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),L3e=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:a,toHandle:l,isValid:c}=o,u=(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===e&&(a==null?void 0:a.type)===n,connectingTo:u,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:s===Zh.Strict?(a==null?void 0:a.type)!==n:t!==(a==null?void 0:a.nodeId)||e!==(a==null?void 0:a.id),connectionInProcess:!!a,valid:u&&c}};function F3e({type:t="source",position:e=Fe.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:c,onMouseDown:u,onTouchStart:d,...f},h){var j,E;const m=o||null,g=t==="target",y=Kt(),O=hJ(),{connectOnClick:b,noPanClassName:w,rfId:x}=Ot(D3e,un),{connectingFrom:v,connectingTo:k,clickConnecting:$,isPossibleEndHandle:C,connectionInProcess:N,valid:P}=Ot(L3e(O,m,t),un);O||(E=(j=y.getState()).onError)==null||E.call(j,"010",Ql.error010());const R=_=>{const{defaultEdgeOptions:Q,onConnect:M,hasDefaultEdges:L}=y.getState(),V={...Q,..._};if(L){const{edges:W,setEdges:H}=y.getState();H(BH(V,W))}M==null||M(V),a==null||a(V)},T=_=>{if(!O)return;const Q=DH(_.nativeEvent);if(i&&(Q&&_.button===0||!Q)){const M=y.getState();EE.onPointerDown(_.nativeEvent,{autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:g,handleId:m,nodeId:O,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:R,isValidConnection:n||M.isValidConnection,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed})}Q?u==null||u(_):d==null||d(_)},A=_=>{const{onClickConnectStart:Q,onClickConnectEnd:M,connectionClickStartHandle:L,connectionMode:V,isValidConnection:W,lib:H,rfId:le,nodeLookup:fe,connection:U}=y.getState();if(!O||!L&&!i)return;if(!L){Q==null||Q(_.nativeEvent,{nodeId:O,handleId:m,handleType:t}),y.setState({connectionClickStartHandle:{nodeId:O,type:t,id:m}});return}const ee=IH(_.target),re=n||W,{connection:J,isValid:q}=EE.isValid(_.nativeEvent,{handle:{nodeId:O,id:m,type:t},connectionMode:V,fromNodeId:L.nodeId,fromHandleId:L.id||null,fromType:L.type,isValidConnection:re,flowId:le,doc:ee,lib:H,nodeLookup:fe});q&&J&&R(J);const oe=structuredClone(U);delete oe.inProgress,oe.toPosition=oe.toHandle?oe.toHandle.position:null,M==null||M(_,oe),y.setState({connectionClickStartHandle:null})};return p.jsx("div",{"data-handleid":m,"data-nodeid":O,"data-handlepos":e,"data-id":`${x}-${O}-${m}-${t}`,className:Rn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",w,c,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:s,clickconnecting:$,connectingfrom:v,connectingto:k,valid:P,connectionindicator:r&&(!N||C)&&(N?s:i)}]),onMouseDown:T,onTouchStart:T,onClick:b?A:void 0,ref:h,...f,children:l})}const jd=S.memo(cJ(F3e));function V3e({data:t,isConnectable:e,sourcePosition:n=Fe.Bottom}){return p.jsxs(p.Fragment,{children:[t==null?void 0:t.label,p.jsx(jd,{type:"source",position:n,isConnectable:e})]})}function B3e({data:t,isConnectable:e,targetPosition:n=Fe.Top,sourcePosition:r=Fe.Bottom}){return p.jsxs(p.Fragment,{children:[p.jsx(jd,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,p.jsx(jd,{type:"source",position:r,isConnectable:e})]})}function q3e(){return null}function W3e({data:t,isConnectable:e,targetPosition:n=Fe.Top}){return p.jsxs(p.Fragment,{children:[p.jsx(jd,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const a0={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},yB={input:V3e,default:B3e,output:W3e,group:q3e};function z3e(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const Z3e=t=>{const{width:e,height:n,x:r,y:i}=jO(t.nodeLookup,{filter:s=>!!s.selected});return{width:Ys(e)?e:null,height:Ys(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function U3e({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Kt(),{width:i,height:s,transformString:o,userSelectionActive:a}=Ot(Z3e,un),l=fJ(),c=S.useRef(null);if(S.useEffect(()=>{var f;n||(f=c.current)==null||f.focus({preventScroll:!0})},[n]),dJ({nodeRef:c}),a||!i||!s)return null;const u=t?f=>{const h=r.getState().nodes.filter(m=>m.selected);t(f,h)}:void 0,d=f=>{Object.prototype.hasOwnProperty.call(a0,f.key)&&(f.preventDefault(),l({direction:a0[f.key],factor:f.shiftKey?4:1}))};return p.jsx("div",{className:Rn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:p.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:s}})})}const OB=typeof window<"u"?window:void 0,X3e=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function pJ({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:u,selectionMode:d,onSelectionStart:f,onSelectionEnd:h,multiSelectionKeyCode:m,panActivationKeyCode:g,zoomActivationKeyCode:y,elementsSelectable:O,zoomOnScroll:b,zoomOnPinch:w,panOnScroll:x,panOnScrollSpeed:v,panOnScrollMode:k,zoomOnDoubleClick:$,panOnDrag:C,defaultViewport:N,translateExtent:P,minZoom:R,maxZoom:T,preventScrolling:A,onSelectionContextMenu:j,noWheelClassName:E,noPanClassName:_,disableKeyboardA11y:Q,onViewportChange:M,isControlledViewport:L}){const{nodesSelectionActive:V,userSelectionActive:W}=Ot(X3e),H=yy(c,{target:OB}),le=yy(g,{target:OB}),fe=le||C,U=le||x,ee=u&&fe!==!0,re=H||W||ee;return j3e({deleteKeyCode:l,multiSelectionKeyCode:m}),p.jsx(_3e,{onPaneContextMenu:s,elementsSelectable:O,zoomOnScroll:b,zoomOnPinch:w,panOnScroll:U,panOnScrollSpeed:v,panOnScrollMode:k,zoomOnDoubleClick:$,panOnDrag:!H&&fe,defaultViewport:N,translateExtent:P,minZoom:R,maxZoom:T,zoomActivationKeyCode:y,preventScrolling:A,noWheelClassName:E,noPanClassName:_,onViewportChange:M,isControlledViewport:L,paneClickDistance:a,children:p.jsxs(M3e,{onSelectionStart:f,onSelectionEnd:h,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:fe,isSelecting:!!re,selectionMode:d,selectionKeyPressed:H,selectionOnDrag:ee,children:[t,V&&p.jsx(U3e,{onSelectionContextMenu:j,noPanClassName:_,disableKeyboardA11y:Q})]})})}pJ.displayName="FlowRenderer";const G3e=S.memo(pJ),Y3e=t=>e=>t?NH(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function H3e(t){return Ot(S.useCallback(Y3e(t),[t]),un)}const J3e=t=>t.updateNodeInternals;function K3e(){const t=Ot(J3e),[e]=S.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return S.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function eFe({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=Kt(),s=S.useRef(null),o=S.useRef(null),a=S.useRef(t.sourcePosition),l=S.useRef(t.targetPosition),c=S.useRef(e),u=n&&!!t.internals.handleBounds;return S.useEffect(()=>{s.current&&!t.hidden&&(!u||o.current!==s.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(s.current),o.current=s.current)},[u,t.hidden]),S.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),S.useEffect(()=>{if(s.current){const d=c.current!==e,f=a.current!==t.sourcePosition,h=l.current!==t.targetPosition;(d||f||h)&&(c.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function tFe({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:u,resizeObserver:d,noDragClassName:f,noPanClassName:h,disableKeyboardA11y:m,rfId:g,nodeTypes:y,nodeExtent:O,nodeClickDistance:b,onError:w}){const{node:x,internals:v,isParent:k}=Ot(J=>{const q=J.nodeLookup.get(t),oe=J.parentLookup.has(t);return{node:q,internals:q.internals,isParent:oe}},un);let $=x.type||"default",C=(y==null?void 0:y[$])||yB[$];C===void 0&&(w==null||w("003",Ql.error003($)),$="default",C=yB.default);const N=!!(x.draggable||a&&typeof x.draggable>"u"),P=!!(x.selectable||l&&typeof x.selectable>"u"),R=!!(x.connectable||c&&typeof x.connectable>"u"),T=!!(x.focusable||u&&typeof x.focusable>"u"),A=Kt(),j=MH(x),E=eFe({node:x,nodeType:$,hasDimensions:j,resizeObserver:d}),_=dJ({nodeRef:E,disabled:x.hidden||!N,noDragClassName:f,handleSelector:x.dragHandle,nodeId:t,isSelectable:P,nodeClickDistance:b}),Q=fJ();if(x.hidden)return null;const M=Il(x),L=z3e(x),V=P||N||e||n||r||i,W=n?J=>n(J,{...v.userNode}):void 0,H=r?J=>r(J,{...v.userNode}):void 0,le=i?J=>i(J,{...v.userNode}):void 0,fe=s?J=>s(J,{...v.userNode}):void 0,U=o?J=>o(J,{...v.userNode}):void 0,ee=J=>{const{selectNodesOnDrag:q,nodeDragThreshold:oe}=A.getState();P&&(!q||!N||oe>0)&&_E({id:t,store:A,nodeRef:E}),e&&e(J,{...v.userNode})},re=J=>{if(!(CE(J.nativeEvent)||m))if($H.includes(J.key)&&P){const q=J.key==="Escape";_E({id:t,store:A,unselect:q,nodeRef:E})}else N&&x.selected&&Object.prototype.hasOwnProperty.call(a0,J.key)&&(J.preventDefault(),A.setState({ariaLiveMessage:`Moved selected node ${J.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~v.positionAbsolute.x}, y: ${~~v.positionAbsolute.y}`}),Q({direction:a0[J.key],factor:J.shiftKey?4:1}))};return p.jsx("div",{className:Rn(["react-flow__node",`react-flow__node-${$}`,{[h]:N},x.className,{selected:x.selected,selectable:P,parent:k,draggable:N,dragging:_}]),ref:E,style:{zIndex:v.z,transform:`translate(${v.positionAbsolute.x}px,${v.positionAbsolute.y}px)`,pointerEvents:V?"all":"none",visibility:j?"visible":"hidden",...x.style,...L},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:W,onMouseMove:H,onMouseLeave:le,onContextMenu:fe,onClick:ee,onDoubleClick:U,onKeyDown:T?re:void 0,tabIndex:T?0:void 0,role:T?"button":void 0,"aria-describedby":m?void 0:`${rJ}-${g}`,"aria-label":x.ariaLabel,children:p.jsx(I3e,{value:t,children:p.jsx(C,{id:t,data:x.data,type:$,positionAbsoluteX:v.positionAbsolute.x,positionAbsoluteY:v.positionAbsolute.y,selected:x.selected??!1,selectable:P,draggable:N,deletable:x.deletable??!0,isConnectable:R,sourcePosition:x.sourcePosition,targetPosition:x.targetPosition,dragging:_,dragHandle:x.dragHandle,zIndex:v.z,parentId:x.parentId,...M})})})}const nFe=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function mJ(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=Ot(nFe,un),o=H3e(t.onlyRenderVisibleElements),a=K3e();return p.jsx("div",{className:"react-flow__nodes",style:xS,children:o.map(l=>p.jsx(tFe,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},l))})}mJ.displayName="NodeRenderer";const rFe=S.memo(mJ);function iFe(t){return Ot(S.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&cLe({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),un)}const sFe=({color:t="none",strokeWidth:e=1})=>p.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),oFe=({color:t="none",strokeWidth:e=1})=>p.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),bB={[Gc.Arrow]:sFe,[Gc.ArrowClosed]:oFe};function aFe(t){const e=Kt();return S.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(bB,t)?bB[t]:((s=(i=e.getState()).onError)==null||s.call(i,"009",Ql.error009(t)),null)},[t])}const lFe=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=aFe(e);return l?p.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:p.jsx(l,{color:n,strokeWidth:o})}):null},gJ=({defaultColor:t,rfId:e})=>{const n=Ot(s=>s.edges),r=Ot(s=>s.defaultEdgeOptions),i=S.useMemo(()=>gLe(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?p.jsx("svg",{className:"react-flow__marker",children:p.jsx("defs",{children:i.map(s=>p.jsx(lFe,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};gJ.displayName="MarkerDefinitions";var cFe=S.memo(gJ);function yJ({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...u}){const[d,f]=S.useState({x:1,y:0,width:0,height:0}),h=Rn(["react-flow__edge-textwrapper",c]),m=S.useRef(null);return S.useEffect(()=>{if(m.current){const g=m.current.getBBox();f({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:p.jsxs("g",{transform:`translate(${t-d.width/2} ${e-d.height/2})`,className:h,visibility:d.width?"visible":"hidden",...u,children:[i&&p.jsx("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),p.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:m,style:r,children:n}),l]})}yJ.displayName="EdgeText";const uFe=S.memo(yJ);function wS({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...u}){return p.jsxs(p.Fragment,{children:[p.jsx("path",{...u,d:t,fill:"none",className:Rn(["react-flow__edge-path",u.className])}),c&&p.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}),r&&Ys(e)&&Ys(n)?p.jsx(uFe,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function xB({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Fe.Left||t===Fe.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function OJ({sourceX:t,sourceY:e,sourcePosition:n=Fe.Bottom,targetX:r,targetY:i,targetPosition:s=Fe.Top}){const[o,a]=xB({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,c]=xB({pos:s,x1:r,y1:i,x2:t,y2:e}),[u,d,f,h]=LH({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${t},${e} C${o},${a} ${l},${c} ${r},${i}`,u,d,f,h]}function bJ(t){return S.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Fe.Bottom,targetPosition:a=Fe.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,interactionWidth:O})=>{const[b,w,x]=OJ({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a}),v=t.isInternal?void 0:e;return p.jsx(wS,{id:v,path:b,labelX:w,labelY:x,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,interactionWidth:O})})}const dFe=bJ({isInternal:!1}),xJ=bJ({isInternal:!0});dFe.displayName="SimpleBezierEdge";xJ.displayName="SimpleBezierEdgeInternal";function wJ(t){return S.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,sourcePosition:h=Fe.Bottom,targetPosition:m=Fe.Top,markerEnd:g,markerStart:y,pathOptions:O,interactionWidth:b})=>{const[w,x,v]=PE({sourceX:n,sourceY:r,sourcePosition:h,targetX:i,targetY:s,targetPosition:m,borderRadius:O==null?void 0:O.borderRadius,offset:O==null?void 0:O.offset}),k=t.isInternal?void 0:e;return p.jsx(wS,{id:k,path:w,labelX:x,labelY:v,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:g,markerStart:y,interactionWidth:b})})}const vJ=wJ({isInternal:!1}),SJ=wJ({isInternal:!0});vJ.displayName="SmoothStepEdge";SJ.displayName="SmoothStepEdgeInternal";function kJ(t){return S.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return p.jsx(vJ,{...n,id:r,pathOptions:S.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const fFe=kJ({isInternal:!1}),$J=kJ({isInternal:!0});fFe.displayName="StepEdge";$J.displayName="StepEdgeInternal";function CJ(t){return S.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:m,interactionWidth:g})=>{const[y,O,b]=qH({sourceX:n,sourceY:r,targetX:i,targetY:s}),w=t.isInternal?void 0:e;return p.jsx(wS,{id:w,path:y,labelX:O,labelY:b,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:m,interactionWidth:g})})}const hFe=CJ({isInternal:!1}),PJ=CJ({isInternal:!0});hFe.displayName="StraightEdge";PJ.displayName="StraightEdgeInternal";function jJ(t){return S.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Fe.Bottom,targetPosition:a=Fe.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,pathOptions:O,interactionWidth:b})=>{const[w,x,v]=FH({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a,curvature:O==null?void 0:O.curvature}),k=t.isInternal?void 0:e;return p.jsx(wS,{id:k,path:w,labelX:x,labelY:v,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,interactionWidth:b})})}const pFe=jJ({isInternal:!1}),NJ=jJ({isInternal:!0});pFe.displayName="BezierEdge";NJ.displayName="BezierEdgeInternal";const wB={default:NJ,straight:PJ,step:$J,smoothstep:SJ,simplebezier:xJ},vB={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},mFe=(t,e,n)=>n===Fe.Left?t-e:n===Fe.Right?t+e:t,gFe=(t,e,n)=>n===Fe.Top?t-e:n===Fe.Bottom?t+e:t,SB="react-flow__edgeupdater";function kB({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a}){return p.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Rn([SB,`${SB}-${a}`]),cx:mFe(e,r,t),cy:gFe(n,r,t),r,stroke:"transparent",fill:"transparent"})}function yFe({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:u,onReconnectEnd:d,setReconnecting:f,setUpdateHover:h}){const m=Kt(),g=(x,v)=>{if(x.button!==0)return;const{autoPanOnConnect:k,domNode:$,isValidConnection:C,connectionMode:N,connectionRadius:P,lib:R,onConnectStart:T,onConnectEnd:A,cancelConnection:j,nodeLookup:E,rfId:_,panBy:Q,updateConnection:M}=m.getState(),L=v.type==="target";f(!0),u==null||u(x,n,v.type);const V=(H,le)=>{f(!1),d==null||d(H,n,v.type,le)},W=H=>c==null?void 0:c(n,H);EE.onPointerDown(x.nativeEvent,{autoPanOnConnect:k,connectionMode:N,connectionRadius:P,domNode:$,handleId:v.id,nodeId:v.nodeId,nodeLookup:E,isTarget:L,edgeUpdaterType:v.type,lib:R,flowId:_,cancelConnection:j,panBy:Q,isValidConnection:C,onConnect:W,onConnectStart:T,onConnectEnd:A,onReconnectEnd:V,updateConnection:M,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle})},y=x=>g(x,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),O=x=>g(x,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),b=()=>h(!0),w=()=>h(!1);return p.jsxs(p.Fragment,{children:[(t===!0||t==="source")&&p.jsx(kB,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:y,onMouseEnter:b,onMouseOut:w,type:"source"}),(t===!0||t==="target")&&p.jsx(kB,{position:l,centerX:s,centerY:o,radius:e,onMouseDown:O,onMouseEnter:b,onMouseOut:w,type:"target"})]})}function OFe({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:u,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,rfId:m,edgeTypes:g,noPanClassName:y,onError:O,disableKeyboardA11y:b}){let w=Ot(ie=>ie.edgeLookup.get(t));const x=Ot(ie=>ie.defaultEdgeOptions);w=x?{...x,...w}:w;let v=w.type||"default",k=(g==null?void 0:g[v])||wB[v];k===void 0&&(O==null||O("011",Ql.error011(v)),v="default",k=wB.default);const $=!!(w.focusable||e&&typeof w.focusable>"u"),C=typeof d<"u"&&(w.reconnectable||n&&typeof w.reconnectable>"u"),N=!!(w.selectable||r&&typeof w.selectable>"u"),P=S.useRef(null),[R,T]=S.useState(!1),[A,j]=S.useState(!1),E=Kt(),{zIndex:_,sourceX:Q,sourceY:M,targetX:L,targetY:V,sourcePosition:W,targetPosition:H}=Ot(S.useCallback(ie=>{const ce=ie.nodeLookup.get(w.source),de=ie.nodeLookup.get(w.target);if(!ce||!de)return{zIndex:w.zIndex,...vB};const z=mLe({id:t,sourceNode:ce,targetNode:de,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:ie.connectionMode,onError:O});return{zIndex:lLe({selected:w.selected,zIndex:w.zIndex,sourceNode:ce,targetNode:de,elevateOnSelect:ie.elevateEdgesOnSelect}),...z||vB}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),un),le=S.useMemo(()=>w.markerStart?`url('#${jE(w.markerStart,m)}')`:void 0,[w.markerStart,m]),fe=S.useMemo(()=>w.markerEnd?`url('#${jE(w.markerEnd,m)}')`:void 0,[w.markerEnd,m]);if(w.hidden||Q===null||M===null||L===null||V===null)return null;const U=ie=>{var ne;const{addSelectedEdges:ce,unselectNodesAndEdges:de,multiSelectionActive:z}=E.getState();N&&(E.setState({nodesSelectionActive:!1}),w.selected&&z?(de({nodes:[],edges:[w]}),(ne=P.current)==null||ne.blur()):ce([t])),i&&i(ie,w)},ee=s?ie=>{s(ie,{...w})}:void 0,re=o?ie=>{o(ie,{...w})}:void 0,J=a?ie=>{a(ie,{...w})}:void 0,q=l?ie=>{l(ie,{...w})}:void 0,oe=c?ie=>{c(ie,{...w})}:void 0,B=ie=>{var ce;if(!b&&$H.includes(ie.key)&&N){const{unselectNodesAndEdges:de,addSelectedEdges:z}=E.getState();ie.key==="Escape"?((ce=P.current)==null||ce.blur(),de({edges:[w]})):z([t])}};return p.jsx("svg",{style:{zIndex:_},children:p.jsxs("g",{className:Rn(["react-flow__edge",`react-flow__edge-${v}`,w.className,y,{selected:w.selected,animated:w.animated,inactive:!N&&!i,updating:R,selectable:N}]),onClick:U,onDoubleClick:ee,onContextMenu:re,onMouseEnter:J,onMouseMove:q,onMouseLeave:oe,onKeyDown:$?B:void 0,tabIndex:$?0:void 0,role:$?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":$?`${iJ}-${m}`:void 0,ref:P,children:[!A&&p.jsx(k,{id:t,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:N,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:Q,sourceY:M,targetX:L,targetY:V,sourcePosition:W,targetPosition:H,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:le,markerEnd:fe,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),C&&p.jsx(yFe,{edge:w,isReconnectable:C,reconnectRadius:u,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,sourceX:Q,sourceY:M,targetX:L,targetY:V,sourcePosition:W,targetPosition:H,setUpdateHover:T,setReconnecting:j})]})})}const bFe=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function EJ({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:d,onEdgeDoubleClick:f,onReconnectStart:h,onReconnectEnd:m,disableKeyboardA11y:g}){const{edgesFocusable:y,edgesReconnectable:O,elementsSelectable:b,onError:w}=Ot(bFe,un),x=iFe(e);return p.jsxs("div",{className:"react-flow__edges",children:[p.jsx(cFe,{defaultColor:t,rfId:n}),x.map(v=>p.jsx(OFe,{id:v,edgesFocusable:y,edgesReconnectable:O,elementsSelectable:b,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:u,reconnectRadius:d,onDoubleClick:f,onReconnectStart:h,onReconnectEnd:m,rfId:n,onError:w,edgeTypes:r,disableKeyboardA11y:g},v))]})}EJ.displayName="EdgeRenderer";const xFe=S.memo(EJ),wFe=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function vFe({children:t}){const e=Ot(wFe);return p.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function SFe(t){const e=Ep(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const kFe=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function $Fe(t){const e=Ot(kFe),n=Kt();return S.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function CFe(t){return t.connection.inProgress?{...t.connection,to:NO(t.connection.to,t.transform)}:{...t.connection}}function PFe(t){return CFe}function jFe(t){const e=PFe();return Ot(e,un)}const NFe=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function EFe({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:a,inProgress:l}=Ot(NFe,un);return!(s&&i&&l)?null:p.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:p.jsx("g",{className:Rn(["react-flow__connection",PH(a)]),children:p.jsx(_J,{style:e,type:n,CustomComponent:r,isValid:a})})})}const _J=({style:t,type:e=uc.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:a,fromPosition:l,to:c,toNode:u,toHandle:d,toPosition:f}=jFe();if(!i)return;if(n)return p.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:a,fromX:s.x,fromY:s.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:f,connectionStatus:PH(r),toNode:u,toHandle:d});let h="";const m={sourceX:s.x,sourceY:s.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:f};switch(e){case uc.Bezier:[h]=FH(m);break;case uc.SimpleBezier:[h]=OJ(m);break;case uc.Step:[h]=PE({...m,borderRadius:0});break;case uc.SmoothStep:[h]=PE(m);break;default:[h]=qH(m)}return p.jsx("path",{d:h,fill:"none",className:"react-flow__connection-path",style:t})};_J.displayName="ConnectionLine";const _Fe={};function $B(t=_Fe){S.useRef(t),Kt(),S.useEffect(()=>{},[t])}function TFe(){Kt(),S.useRef(!1),S.useEffect(()=>{},[])}function TJ({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:d,onSelectionStart:f,onSelectionEnd:h,connectionLineType:m,connectionLineStyle:g,connectionLineComponent:y,connectionLineContainerStyle:O,selectionKeyCode:b,selectionOnDrag:w,selectionMode:x,multiSelectionKeyCode:v,panActivationKeyCode:k,zoomActivationKeyCode:$,deleteKeyCode:C,onlyRenderVisibleElements:N,elementsSelectable:P,defaultViewport:R,translateExtent:T,minZoom:A,maxZoom:j,preventScrolling:E,defaultMarkerColor:_,zoomOnScroll:Q,zoomOnPinch:M,panOnScroll:L,panOnScrollSpeed:V,panOnScrollMode:W,zoomOnDoubleClick:H,panOnDrag:le,onPaneClick:fe,onPaneMouseEnter:U,onPaneMouseMove:ee,onPaneMouseLeave:re,onPaneScroll:J,onPaneContextMenu:q,paneClickDistance:oe,nodeClickDistance:B,onEdgeContextMenu:ie,onEdgeMouseEnter:ce,onEdgeMouseMove:de,onEdgeMouseLeave:z,reconnectRadius:ne,onReconnect:X,onReconnectStart:ae,onReconnectEnd:se,noDragClassName:te,noWheelClassName:ge,noPanClassName:pe,disableKeyboardA11y:me,nodeExtent:ue,rfId:he,viewport:ye,onViewportChange:ke}){return $B(t),$B(e),TFe(),SFe(n),$Fe(ye),p.jsx(G3e,{onPaneClick:fe,onPaneMouseEnter:U,onPaneMouseMove:ee,onPaneMouseLeave:re,onPaneContextMenu:q,onPaneScroll:J,paneClickDistance:oe,deleteKeyCode:C,selectionKeyCode:b,selectionOnDrag:w,selectionMode:x,onSelectionStart:f,onSelectionEnd:h,multiSelectionKeyCode:v,panActivationKeyCode:k,zoomActivationKeyCode:$,elementsSelectable:P,zoomOnScroll:Q,zoomOnPinch:M,zoomOnDoubleClick:H,panOnScroll:L,panOnScrollSpeed:V,panOnScrollMode:W,panOnDrag:le,defaultViewport:R,translateExtent:T,minZoom:A,maxZoom:j,onSelectionContextMenu:d,preventScrolling:E,noDragClassName:te,noWheelClassName:ge,noPanClassName:pe,disableKeyboardA11y:me,onViewportChange:ke,isControlledViewport:!!ye,children:p.jsxs(vFe,{children:[p.jsx(xFe,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:X,onReconnectStart:ae,onReconnectEnd:se,onlyRenderVisibleElements:N,onEdgeContextMenu:ie,onEdgeMouseEnter:ce,onEdgeMouseMove:de,onEdgeMouseLeave:z,reconnectRadius:ne,defaultMarkerColor:_,noPanClassName:pe,disableKeyboardA11y:me,rfId:he}),p.jsx(EFe,{style:g,type:m,component:y,containerStyle:O}),p.jsx("div",{className:"react-flow__edgelabel-renderer"}),p.jsx(rFe,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:B,onlyRenderVisibleElements:N,noPanClassName:pe,noDragClassName:te,disableKeyboardA11y:me,nodeExtent:ue,rfId:he}),p.jsx("div",{className:"react-flow__viewport-portal"})]})})}TJ.displayName="GraphView";const AFe=S.memo(TJ),CB=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:l}={})=>{const c=new Map,u=new Map,d=new Map,f=new Map,h=r??e??[],m=n??t??[],g=a??[0,0],y=l??fy;zH(d,f,h),NE(m,c,u,{nodeOrigin:g,nodeExtent:y,elevateNodesOnSelect:!1});let O=[0,0,1];if(o&&i&&s){const b=jO(c,{filter:k=>!!((k.width||k.initialWidth)&&(k.height||k.initialHeight))}),{x:w,y:x,zoom:v}=BR(b,i,s,.5,2,.1);O=[w,x,v]}return{rfId:"1",width:0,height:0,transform:O,nodes:m,nodeLookup:c,parentLookup:u,edges:h,edgeLookup:f,connectionLookup:d,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:fy,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Zh.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:g,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...CH},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:oLe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},RFe=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:l})=>KLe((c,u)=>({...CB({nodes:t,edges:e,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:l,defaultNodes:n,defaultEdges:r}),setNodes:d=>{const{nodeLookup:f,parentLookup:h,nodeOrigin:m,elevateNodesOnSelect:g}=u();NE(d,f,h,{nodeOrigin:m,nodeExtent:l,elevateNodesOnSelect:g,checkEquality:!0}),c({nodes:d})},setEdges:d=>{const{connectionLookup:f,edgeLookup:h}=u();zH(f,h,d),c({edges:d})},setDefaultNodesAndEdges:(d,f)=>{if(d){const{setNodes:h}=u();h(d),c({hasDefaultNodes:!0})}if(f){const{setEdges:h}=u();h(f),c({hasDefaultEdges:!0})}},updateNodeInternals:(d,f={triggerFitView:!0})=>{const{triggerNodeChanges:h,nodeLookup:m,parentLookup:g,fitViewOnInit:y,fitViewDone:O,fitViewOnInitOptions:b,domNode:w,nodeOrigin:x,nodeExtent:v,debug:k,fitViewSync:$}=u(),{changes:C,updatedInternals:N}=wLe(d,m,g,w,x,v);if(N){if(OLe(m,g,{nodeOrigin:x,nodeExtent:v}),f.triggerFitView){let P=O;!O&&y&&(P=$({...b,nodes:b==null?void 0:b.nodes})),c({fitViewDone:P})}else c({});(C==null?void 0:C.length)>0&&(k&&console.log("React Flow: trigger node changes",C),h==null||h(C))}},updateNodePositions:(d,f=!1)=>{const h=[],m=[];for(const[g,y]of d){const O=!!(y!=null&&y.expandParent&&(y!=null&&y.parentId)&&(y!=null&&y.position)),b={id:g,type:"position",position:O?{x:Math.max(0,y.position.x),y:Math.max(0,y.position.y)}:y.position,dragging:f};O&&h.push({id:g,parentId:y.parentId,rect:{...y.internals.positionAbsolute,width:y.measured.width,height:y.measured.height}}),m.push(b)}if(h.length>0){const{nodeLookup:g,parentLookup:y,nodeOrigin:O}=u(),b=ZR(h,g,y,O);m.push(...b)}u().triggerNodeChanges(m)},triggerNodeChanges:d=>{const{onNodesChange:f,setNodes:h,nodes:m,hasDefaultNodes:g,debug:y}=u();if(d!=null&&d.length){if(g){const O=aJ(d,m);h(O)}y&&console.log("React Flow: trigger node changes",d),f==null||f(d)}},triggerEdgeChanges:d=>{const{onEdgesChange:f,setEdges:h,edges:m,hasDefaultEdges:g,debug:y}=u();if(d!=null&&d.length){if(g){const O=lJ(d,m);h(O)}y&&console.log("React Flow: trigger edge changes",d),f==null||f(d)}},addSelectedNodes:d=>{const{multiSelectionActive:f,edgeLookup:h,nodeLookup:m,triggerNodeChanges:g,triggerEdgeChanges:y}=u();if(f){const O=d.map(b=>ku(b,!0));g(O);return}g(Df(m,new Set([...d]),!0)),y(Df(h))},addSelectedEdges:d=>{const{multiSelectionActive:f,edgeLookup:h,nodeLookup:m,triggerNodeChanges:g,triggerEdgeChanges:y}=u();if(f){const O=d.map(b=>ku(b,!0));y(O);return}y(Df(h,new Set([...d]))),g(Df(m,new Set,!0))},unselectNodesAndEdges:({nodes:d,edges:f}={})=>{const{edges:h,nodes:m,nodeLookup:g,triggerNodeChanges:y,triggerEdgeChanges:O}=u(),b=d||m,w=f||h,x=b.map(k=>{const $=g.get(k.id);return $&&($.selected=!1),ku(k.id,!1)}),v=w.map(k=>ku(k.id,!1));y(x),O(v)},setMinZoom:d=>{const{panZoom:f,maxZoom:h}=u();f==null||f.setScaleExtent([d,h]),c({minZoom:d})},setMaxZoom:d=>{const{panZoom:f,minZoom:h}=u();f==null||f.setScaleExtent([h,d]),c({maxZoom:d})},setTranslateExtent:d=>{var f;(f=u().panZoom)==null||f.setTranslateExtent(d),c({translateExtent:d})},setPaneClickDistance:d=>{var f;(f=u().panZoom)==null||f.setClickDistance(d)},resetSelectedElements:()=>{const{edges:d,nodes:f,triggerNodeChanges:h,triggerEdgeChanges:m}=u(),g=f.reduce((O,b)=>b.selected?[...O,ku(b.id,!1)]:O,[]),y=d.reduce((O,b)=>b.selected?[...O,ku(b.id,!1)]:O,[]);h(g),m(y)},setNodeExtent:d=>{const{nodes:f,nodeLookup:h,parentLookup:m,nodeOrigin:g,elevateNodesOnSelect:y,nodeExtent:O}=u();d[0][0]===O[0][0]&&d[0][1]===O[0][1]&&d[1][0]===O[1][0]&&d[1][1]===O[1][1]||(NE(f,h,m,{nodeOrigin:g,nodeExtent:d,elevateNodesOnSelect:y,checkEquality:!1}),c({nodeExtent:d}))},panBy:d=>{const{transform:f,width:h,height:m,panZoom:g,translateExtent:y}=u();return vLe({delta:d,panZoom:g,transform:f,translateExtent:y,width:h,height:m})},fitView:d=>{const{panZoom:f,width:h,height:m,minZoom:g,maxZoom:y,nodeLookup:O}=u();if(!f)return Promise.resolve(!1);const b=SE(O,d);return kE({nodes:b,width:h,height:m,panZoom:f,minZoom:g,maxZoom:y},d)},fitViewSync:d=>{const{panZoom:f,width:h,height:m,minZoom:g,maxZoom:y,nodeLookup:O}=u();if(!f)return!1;const b=SE(O,d);return kE({nodes:b,width:h,height:m,panZoom:f,minZoom:g,maxZoom:y},d),b.size>0},cancelConnection:()=>{c({connection:{...CH}})},updateConnection:d=>{c({connection:d})},reset:()=>c({...CB()})}),Object.is);function XR({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:o,nodeOrigin:a,nodeExtent:l,children:c}){const[u]=S.useState(()=>RFe({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:l}));return p.jsx(e3e,{value:u,children:p.jsx(S3e,{children:c})})}function MFe({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:a,nodeOrigin:l,nodeExtent:c}){return S.useContext(bS)?p.jsx(p.Fragment,{children:t}):p.jsx(XR,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:a,nodeOrigin:l,nodeExtent:c,children:t})}const QFe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function IFe({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:f,onConnect:h,onConnectStart:m,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:O,onNodeMouseEnter:b,onNodeMouseMove:w,onNodeMouseLeave:x,onNodeContextMenu:v,onNodeDoubleClick:k,onNodeDragStart:$,onNodeDrag:C,onNodeDragStop:N,onNodesDelete:P,onEdgesDelete:R,onDelete:T,onSelectionChange:A,onSelectionDragStart:j,onSelectionDrag:E,onSelectionDragStop:_,onSelectionContextMenu:Q,onSelectionStart:M,onSelectionEnd:L,onBeforeDelete:V,connectionMode:W,connectionLineType:H=uc.Bezier,connectionLineStyle:le,connectionLineComponent:fe,connectionLineContainerStyle:U,deleteKeyCode:ee="Backspace",selectionKeyCode:re="Shift",selectionOnDrag:J=!1,selectionMode:q=hy.Full,panActivationKeyCode:oe="Space",multiSelectionKeyCode:B=o0()?"Meta":"Control",zoomActivationKeyCode:ie=o0()?"Meta":"Control",snapToGrid:ce,snapGrid:de,onlyRenderVisibleElements:z=!1,selectNodesOnDrag:ne,nodesDraggable:X,nodesConnectable:ae,nodesFocusable:se,nodeOrigin:te=sJ,edgesFocusable:ge,edgesReconnectable:pe,elementsSelectable:me=!0,defaultViewport:ue=h3e,minZoom:he=.5,maxZoom:ye=2,translateExtent:ke=fy,preventScrolling:Pe=!0,nodeExtent:et,defaultMarkerColor:He="#b1b1b7",zoomOnScroll:kn=!0,zoomOnPinch:fn=!0,panOnScroll:$n=!1,panOnScrollSpeed:Hi=.5,panOnScrollMode:Ji=pd.Free,zoomOnDoubleClick:Rs=!0,panOnDrag:hb=!0,onPaneClick:om,onPaneMouseEnter:pb,onPaneMouseMove:Ik,onPaneMouseLeave:mb,onPaneScroll:Dk,onPaneContextMenu:vo,paneClickDistance:gb=0,nodeClickDistance:GI=0,children:Lk,onReconnect:Fk,onReconnectStart:On,onReconnectEnd:Ca,onEdgeContextMenu:Pa,onEdgeDoubleClick:Zl,onEdgeMouseEnter:am,onEdgeMouseMove:yb,onEdgeMouseLeave:Ob,reconnectRadius:bb=10,onNodesChange:Vk,onEdgesChange:Bk,noDragClassName:qk="nodrag",noWheelClassName:Wk="nowheel",noPanClassName:ot="nopan",fitView:ri,fitViewOptions:So,connectOnClick:YI,attributionPosition:Mce,proOptions:Qce,defaultEdgeOptions:Ice,elevateNodesOnSelect:Dce,elevateEdgesOnSelect:Lce,disableKeyboardA11y:HI=!1,autoPanOnConnect:Fce,autoPanOnNodeDrag:Vce,autoPanSpeed:Bce,connectionRadius:qce,isValidConnection:Wce,onError:zce,style:Zce,id:JI,nodeDragThreshold:Uce,viewport:Xce,onViewportChange:Gce,width:Yce,height:Hce,colorMode:Jce="light",debug:Kce,...eue},tue){const zk=JI||"1",nue=y3e(Jce);return p.jsx("div",{"data-testid":"rf__wrapper",...eue,style:{...Zce,...QFe},ref:tue,className:Rn(["react-flow",i,nue]),id:JI,children:p.jsxs(MFe,{nodes:t,edges:e,width:Yce,height:Hce,fitView:ri,nodeOrigin:te,nodeExtent:et,children:[p.jsx(AFe,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:b,onNodeMouseMove:w,onNodeMouseLeave:x,onNodeContextMenu:v,onNodeDoubleClick:k,nodeTypes:s,edgeTypes:o,connectionLineType:H,connectionLineStyle:le,connectionLineComponent:fe,connectionLineContainerStyle:U,selectionKeyCode:re,selectionOnDrag:J,selectionMode:q,deleteKeyCode:ee,multiSelectionKeyCode:B,panActivationKeyCode:oe,zoomActivationKeyCode:ie,onlyRenderVisibleElements:z,defaultViewport:ue,translateExtent:ke,minZoom:he,maxZoom:ye,preventScrolling:Pe,zoomOnScroll:kn,zoomOnPinch:fn,zoomOnDoubleClick:Rs,panOnScroll:$n,panOnScrollSpeed:Hi,panOnScrollMode:Ji,panOnDrag:hb,onPaneClick:om,onPaneMouseEnter:pb,onPaneMouseMove:Ik,onPaneMouseLeave:mb,onPaneScroll:Dk,onPaneContextMenu:vo,paneClickDistance:gb,nodeClickDistance:GI,onSelectionContextMenu:Q,onSelectionStart:M,onSelectionEnd:L,onReconnect:Fk,onReconnectStart:On,onReconnectEnd:Ca,onEdgeContextMenu:Pa,onEdgeDoubleClick:Zl,onEdgeMouseEnter:am,onEdgeMouseMove:yb,onEdgeMouseLeave:Ob,reconnectRadius:bb,defaultMarkerColor:He,noDragClassName:qk,noWheelClassName:Wk,noPanClassName:ot,rfId:zk,disableKeyboardA11y:HI,nodeExtent:et,viewport:Xce,onViewportChange:Gce}),p.jsx(g3e,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:m,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:O,nodesDraggable:X,nodesConnectable:ae,nodesFocusable:se,edgesFocusable:ge,edgesReconnectable:pe,elementsSelectable:me,elevateNodesOnSelect:Dce,elevateEdgesOnSelect:Lce,minZoom:he,maxZoom:ye,nodeExtent:et,onNodesChange:Vk,onEdgesChange:Bk,snapToGrid:ce,snapGrid:de,connectionMode:W,translateExtent:ke,connectOnClick:YI,defaultEdgeOptions:Ice,fitView:ri,fitViewOptions:So,onNodesDelete:P,onEdgesDelete:R,onDelete:T,onNodeDragStart:$,onNodeDrag:C,onNodeDragStop:N,onSelectionDrag:E,onSelectionDragStart:j,onSelectionDragStop:_,onMove:u,onMoveStart:d,onMoveEnd:f,noPanClassName:ot,nodeOrigin:te,rfId:zk,autoPanOnConnect:Fce,autoPanOnNodeDrag:Vce,autoPanSpeed:Bce,onError:zce,connectionRadius:qce,isValidConnection:Wce,selectNodesOnDrag:ne,nodeDragThreshold:Uce,onBeforeDelete:V,paneClickDistance:gb,debug:Kce}),p.jsx(f3e,{onSelectionChange:A}),Lk,p.jsx(a3e,{proOptions:Qce,position:Mce}),p.jsx(s3e,{rfId:zk,disableKeyboardA11y:HI})]})})}var AJ=cJ(IFe);const DFe=t=>({x:t.transform[0],y:t.transform[1],zoom:t.transform[2]});function LFe(){return Ot(DFe,un)}function FFe(t){const[e,n]=S.useState(t),r=S.useCallback(i=>n(s=>aJ(i,s)),[]);return[e,n,r]}function VFe(t){const[e,n]=S.useState(t),r=S.useCallback(i=>n(s=>lJ(i,s)),[]);return[e,n,r]}function BFe({dimensions:t,lineWidth:e,variant:n,className:r}){return p.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Rn(["react-flow__background-pattern",n,r])})}function qFe({radius:t,className:e}){return p.jsx("circle",{cx:t,cy:t,r:t,className:Rn(["react-flow__background-pattern","dots",e])})}var ml;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(ml||(ml={}));const WFe={[ml.Dots]:1,[ml.Lines]:1,[ml.Cross]:6},zFe=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function RJ({id:t,variant:e=ml.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:a,style:l,className:c,patternClassName:u}){const d=S.useRef(null),{transform:f,patternId:h}=Ot(zFe,un),m=r||WFe[e],g=e===ml.Dots,y=e===ml.Cross,O=Array.isArray(n)?n:[n,n],b=[O[0]*f[2]||1,O[1]*f[2]||1],w=m*f[2],x=Array.isArray(s)?s:[s,s],v=y?[w,w]:b,k=[x[0]*f[2]||1+v[0]/2,x[1]*f[2]||1+v[1]/2],$=`${h}${t||""}`;return p.jsxs("svg",{className:Rn(["react-flow__background",c]),style:{...l,...xS,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:d,"data-testid":"rf__background",children:[p.jsx("pattern",{id:$,x:f[0]%b[0],y:f[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`,children:g?p.jsx(qFe,{radius:w/2,className:u}):p.jsx(BFe,{dimensions:v,lineWidth:i,variant:e,className:u})}),p.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${$})`})]})}RJ.displayName="Background";const PB=S.memo(RJ);function ZFe(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:p.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function UFe(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:p.jsx("path",{d:"M0 0h32v4.2H0z"})})}function XFe(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:p.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function GFe(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function YFe(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function lx({children:t,className:e,...n}){return p.jsx("button",{type:"button",className:Rn(["react-flow__controls-button",e]),...n,children:t})}const HFe=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function MJ({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:c,children:u,position:d="bottom-left",orientation:f="vertical","aria-label":h="React Flow controls"}){const m=Kt(),{isInteractive:g,minZoomReached:y,maxZoomReached:O}=Ot(HFe,un),{zoomIn:b,zoomOut:w,fitView:x}=Ep(),v=()=>{b(),s==null||s()},k=()=>{w(),o==null||o()},$=()=>{x(i),a==null||a()},C=()=>{m.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)},N=f==="horizontal"?"horizontal":"vertical";return p.jsxs(gy,{className:Rn(["react-flow__controls",N,c]),position:d,style:t,"data-testid":"rf__controls","aria-label":h,children:[e&&p.jsxs(p.Fragment,{children:[p.jsx(lx,{onClick:v,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:O,children:p.jsx(ZFe,{})}),p.jsx(lx,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y,children:p.jsx(UFe,{})})]}),n&&p.jsx(lx,{className:"react-flow__controls-fitview",onClick:$,title:"fit view","aria-label":"fit view",children:p.jsx(XFe,{})}),r&&p.jsx(lx,{className:"react-flow__controls-interactive",onClick:C,title:"toggle interactivity","aria-label":"toggle interactivity",children:g?p.jsx(YFe,{}):p.jsx(GFe,{})}),u]})}MJ.displayName="Controls";S.memo(MJ);function JFe({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:c,borderRadius:u,shapeRendering:d,selected:f,onClick:h}){const{background:m,backgroundColor:g}=s||{},y=o||m||g;return p.jsx("rect",{className:Rn(["react-flow__minimap-node",{selected:f},c]),x:e,y:n,rx:u,ry:u,width:r,height:i,style:{fill:y,stroke:a,strokeWidth:l},shapeRendering:d,onClick:h?O=>h(O,t):void 0})}const KFe=S.memo(JFe),eVe=t=>t.nodes.map(e=>e.id),RC=t=>t instanceof Function?t:()=>t;function tVe({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=KFe,onClick:o}){const a=Ot(eVe,un),l=RC(e),c=RC(t),u=RC(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return p.jsx(p.Fragment,{children:a.map(f=>p.jsx(rVe,{id:f,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:d},f))})}function nVe({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:a,onClick:l}){const{node:c,x:u,y:d,width:f,height:h}=Ot(m=>{const g=m.nodeLookup.get(t),{x:y,y:O}=g.internals.positionAbsolute,{width:b,height:w}=Il(g);return{node:g,x:y,y:O,width:b,height:w}},un);return!c||c.hidden||!MH(c)?null:p.jsx(a,{x:u,y:d,width:f,height:h,style:c.style,selected:!!c.selected,className:r(c),color:e(c),borderRadius:i,strokeColor:n(c),strokeWidth:s,shapeRendering:o,onClick:l,id:c.id})}const rVe=S.memo(nVe);var iVe=S.memo(tVe);const sVe=200,oVe=150,aVe=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?AH(jO(t.nodeLookup),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},lVe="react-flow__minimap-desc";function QJ({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:u,maskStrokeWidth:d,position:f="bottom-right",onClick:h,onNodeClick:m,pannable:g=!1,zoomable:y=!1,ariaLabel:O="React Flow mini map",inversePan:b,zoomStep:w=10,offsetScale:x=5}){const v=Kt(),k=S.useRef(null),{boundingRect:$,viewBB:C,rfId:N,panZoom:P,translateExtent:R,flowWidth:T,flowHeight:A}=Ot(aVe,un),j=(t==null?void 0:t.width)??sVe,E=(t==null?void 0:t.height)??oVe,_=$.width/j,Q=$.height/E,M=Math.max(_,Q),L=M*j,V=M*E,W=x*M,H=$.x-(L-$.width)/2-W,le=$.y-(V-$.height)/2-W,fe=L+W*2,U=V+W*2,ee=`${lVe}-${N}`,re=S.useRef(0),J=S.useRef();re.current=M,S.useEffect(()=>{if(k.current&&P)return J.current=ELe({domNode:k.current,panZoom:P,getTransform:()=>v.getState().transform,getViewScale:()=>re.current}),()=>{var B;(B=J.current)==null||B.destroy()}},[P]),S.useEffect(()=>{var B;(B=J.current)==null||B.update({translateExtent:R,width:T,height:A,inversePan:b,pannable:g,zoomStep:w,zoomable:y})},[g,y,b,w,R,T,A]);const q=h?B=>{var de;const[ie,ce]=((de=J.current)==null?void 0:de.pointer(B))||[0,0];h(B,{x:ie,y:ce})}:void 0,oe=m?S.useCallback((B,ie)=>{const ce=v.getState().nodeLookup.get(ie);m(B,ce)},[]):void 0;return p.jsx(gy,{position:f,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*M:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="string"?o:void 0},className:Rn(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:p.jsxs("svg",{width:j,height:E,viewBox:`${H} ${le} ${fe} ${U}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ee,ref:k,onClick:q,children:[O&&p.jsx("title",{id:ee,children:O}),p.jsx(iVe,{onClick:oe,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),p.jsx("path",{className:"react-flow__minimap-mask",d:`M${H-W},${le-W}h${fe+W*2}v${U+W*2}h${-fe-W*2}z
        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}QJ.displayName="MiniMap";const IJ=S.memo(QJ);function cVe({nodeId:t,position:e,variant:n=Og.Handle,className:r,style:i={},children:s,color:o,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:d=!1,shouldResize:f,onResizeStart:h,onResize:m,onResizeEnd:g}){const y=hJ(),O=typeof t=="string"?t:y,b=Kt(),w=S.useRef(null),x=n===Og.Line?"right":"bottom-right",v=e??x,k=S.useRef(null);S.useEffect(()=>{if(!(!w.current||!O))return k.current||(k.current=zLe({domNode:w.current,nodeId:O,getStoreItems:()=>{const{nodeLookup:P,transform:R,snapGrid:T,snapToGrid:A,nodeOrigin:j,domNode:E}=b.getState();return{nodeLookup:P,transform:R,snapGrid:T,snapToGrid:A,nodeOrigin:j,paneDomNode:E}},onChange:(P,R)=>{const{triggerNodeChanges:T,nodeLookup:A,parentLookup:j,nodeOrigin:E}=b.getState(),_=[],Q={x:P.x,y:P.y},M=A.get(O);if(M&&M.expandParent&&M.parentId){const L=M.origin??E,V=P.width??M.measured.width,W=P.height??M.measured.height,H={id:M.id,parentId:M.parentId,rect:{width:V,height:W,...QH({x:P.x??M.position.x,y:P.y??M.position.y},{width:V,height:W},M.parentId,A,L)}},le=ZR([H],A,j,E);_.push(...le),Q.x=P.x?Math.max(L[0]*V,P.x):void 0,Q.y=P.y?Math.max(L[1]*W,P.y):void 0}if(Q.x!==void 0&&Q.y!==void 0){const L={id:O,type:"position",position:{...Q}};_.push(L)}if(P.width!==void 0&&P.height!==void 0){const L={id:O,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:P.width,height:P.height}};_.push(L)}for(const L of R){const V={...L,type:"position"};_.push(V)}T(_)},onEnd:()=>{const P={id:O,type:"dimensions",resizing:!1};b.getState().triggerNodeChanges([P])}})),k.current.update({controlPosition:v,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:u},keepAspectRatio:d,onResizeStart:h,onResize:m,onResizeEnd:g,shouldResize:f}),()=>{var P;(P=k.current)==null||P.destroy()}},[v,a,l,c,u,d,h,m,g,f]);const $=v.split("-"),C=n===Og.Line?"borderColor":"backgroundColor",N=o?{...i,[C]:o}:i;return p.jsx("div",{className:Rn(["react-flow__resize-control","nodrag",...$,n,r]),ref:w,style:N,children:s})}S.memo(cVe);function Wr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var uVe=typeof Symbol=="function"&&Symbol.observable||"@@observable",jB=uVe,MC=()=>Math.random().toString(36).substring(7).split("").join("."),dVe={INIT:`@@redux/INIT${MC()}`,REPLACE:`@@redux/REPLACE${MC()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${MC()}`},NB=dVe;function fVe(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function DJ(t,e,n){if(typeof t!="function")throw new Error(Wr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Wr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Wr(1));return n(DJ)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((y,O)=>{o.set(O,y)}))}function u(){if(l)throw new Error(Wr(3));return i}function d(y){if(typeof y!="function")throw new Error(Wr(4));if(l)throw new Error(Wr(5));let O=!0;c();const b=a++;return o.set(b,y),function(){if(O){if(l)throw new Error(Wr(6));O=!1,c(),o.delete(b),s=null}}}function f(y){if(!fVe(y))throw new Error(Wr(7));if(typeof y.type>"u")throw new Error(Wr(8));if(typeof y.type!="string")throw new Error(Wr(17));if(l)throw new Error(Wr(9));try{l=!0,i=r(i,y)}finally{l=!1}return(s=o).forEach(b=>{b()}),y}function h(y){if(typeof y!="function")throw new Error(Wr(10));r=y,f({type:NB.REPLACE})}function m(){const y=d;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(Wr(11));function b(){const x=O;x.next&&x.next(u())}return b(),{unsubscribe:y(b)}},[jB](){return this}}}return f({type:NB.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:h,[jB]:m}}function EB(t,e){return function(...n){return e(t.apply(this,n))}}function _B(t,e){if(typeof t=="function")return EB(t,e);if(typeof t!="object"||t===null)throw new Error(Wr(16));const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=EB(i,e))}return n}function LJ(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function hVe(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Wr(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=LJ(...a)(i.dispatch),{...i,dispatch:s}}}var QC={exports:{}},IC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TB;function pVe(){if(TB)return IC;TB=1;var t=rT();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,a=t.useDebugValue;return IC.useSyncExternalStoreWithSelector=function(l,c,u,d,f){var h=i(null);if(h.current===null){var m={hasValue:!1,value:null};h.current=m}else m=h.current;h=o(function(){function y(v){if(!O){if(O=!0,b=v,v=d(v),f!==void 0&&m.hasValue){var k=m.value;if(f(k,v))return w=k}return w=v}if(k=w,n(b,v))return k;var $=d(v);return f!==void 0&&f(k,$)?(b=v,k):(b=v,w=$)}var O=!1,b,w,x=u===void 0?null:u;return[function(){return y(c())},x===null?void 0:function(){return y(x())}]},[c,u,d,f]);var g=r(l,h[0],h[1]);return s(function(){m.hasValue=!0,m.value=g},[g]),a(g),g},IC}var AB;function mVe(){return AB||(AB=1,QC.exports=pVe()),QC.exports}mVe();var gVe=S.version.startsWith("19"),yVe=Symbol.for(gVe?"react.transitional.element":"react.element"),OVe=Symbol.for("react.portal"),bVe=Symbol.for("react.fragment"),xVe=Symbol.for("react.strict_mode"),wVe=Symbol.for("react.profiler"),vVe=Symbol.for("react.consumer"),SVe=Symbol.for("react.context"),FJ=Symbol.for("react.forward_ref"),kVe=Symbol.for("react.suspense"),$Ve=Symbol.for("react.suspense_list"),GR=Symbol.for("react.memo"),CVe=Symbol.for("react.lazy"),PVe=FJ,jVe=GR;function NVe(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case yVe:switch(t=t.type,t){case bVe:case wVe:case xVe:case kVe:case $Ve:return t;default:switch(t=t&&t.$$typeof,t){case SVe:case FJ:case CVe:case GR:return t;case vVe:return t;default:return e}}case OVe:return e}}}function EVe(t){return NVe(t)===GR}function _Ve(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,c,u,d,f;function h(b,w){return l=b,c=w,u=t(l,c),d=e(r,c),f=n(u,d,c),a=!0,f}function m(){return u=t(l,c),e.dependsOnOwnProps&&(d=e(r,c)),f=n(u,d,c),f}function g(){return t.dependsOnOwnProps&&(u=t(l,c)),e.dependsOnOwnProps&&(d=e(r,c)),f=n(u,d,c),f}function y(){const b=t(l,c),w=!o(b,u);return u=b,w&&(f=n(u,d,c)),f}function O(b,w){const x=!s(w,c),v=!i(b,l,w,c);return l=b,c=w,x&&v?m():x?g():v?y():f}return function(w,x){return a?O(w,x):h(w,x)}}function TVe(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=e(t,i),o=n(t,i),a=r(t,i);return _Ve(s,o,a,t,i)}function AVe(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...s)=>e(i(...s)))}return n}function TE(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function RB(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function VJ(t,e){return function(r,{displayName:i}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=t,s.dependsOnOwnProps=RB(t);let c=s(a,l);return typeof c=="function"&&(s.mapToProps=c,s.dependsOnOwnProps=RB(c),c=s(a,l)),c},s}}function YR(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function RVe(t){return t&&typeof t=="object"?TE(e=>AVe(t,e)):t?typeof t=="function"?VJ(t):YR(t,"mapDispatchToProps"):TE(e=>({dispatch:e}))}function MVe(t){return t?typeof t=="function"?VJ(t):YR(t,"mapStateToProps"):TE(()=>({}))}function QVe(t,e,n){return{...n,...t,...e}}function IVe(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,o;return function(l,c,u){const d=t(l,c,u);return s?i(d,o)||(o=d):(s=!0,o=d),o}}}function DVe(t){return t?typeof t=="function"?IVe(t):YR(t,"mergeProps"):()=>QVe}function LVe(t){t()}function FVe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){LVe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var MB={notify(){},get:()=>[]};function BJ(t,e){let n,r=MB,i=0,s=!1;function o(g){u();const y=r.subscribe(g);let O=!1;return()=>{O||(O=!0,y(),d())}}function a(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return s}function u(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=FVe())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=MB)}function f(){s||(s=!0,u())}function h(){s&&(s=!1,d())}const m={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return m}var VVe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BVe=VVe(),qVe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WVe=qVe(),zVe=()=>BVe||WVe?S.useLayoutEffect:S.useEffect,l0=zVe();function QB(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function DC(t,e){if(QB(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!QB(t[n[i]],e[n[i]]))return!1;return!0}var ZVe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},UVe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},XVe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qJ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GVe={[PVe]:XVe,[jVe]:qJ};function IB(t){return EVe(t)?qJ:GVe[t.$$typeof]||ZVe}var YVe=Object.defineProperty,HVe=Object.getOwnPropertyNames,DB=Object.getOwnPropertySymbols,JVe=Object.getOwnPropertyDescriptor,KVe=Object.getPrototypeOf,LB=Object.prototype;function AE(t,e){if(typeof e!="string"){if(LB){const s=KVe(e);s&&s!==LB&&AE(t,s)}let n=HVe(e);DB&&(n=n.concat(DB(e)));const r=IB(t),i=IB(e);for(let s=0;s<n.length;++s){const o=n[s];if(!UVe[o]&&!(i&&i[o])&&!(r&&r[o])){const a=JVe(e,o);try{YVe(t,o,a)}catch{}}}}return t}var LC=Symbol.for("react-redux-context"),FC=typeof globalThis<"u"?globalThis:{};function eBe(){if(!S.createContext)return{};const t=FC[LC]??(FC[LC]=new Map);let e=t.get(S.createContext);return e||(e=S.createContext(null),t.set(S.createContext,e)),e}var WJ=eBe(),tBe=[null,null];function nBe(t,e,n){l0(()=>t(...e),n)}function rBe(t,e,n,r,i,s){t.current=r,n.current=!1,i.current&&(i.current=null,s())}function iBe(t,e,n,r,i,s,o,a,l,c,u){if(!t)return()=>{};let d=!1,f=null;const h=()=>{if(d||!a.current)return;const g=e.getState();let y,O;try{y=r(g,i.current)}catch(b){O=b,f=b}O||(f=null),y===s.current?o.current||c():(s.current=y,l.current=y,o.current=!0,u())};return n.onStateChange=h,n.trySubscribe(),h(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function sBe(t,e){return t===e}function oBe(t,e,n,{pure:r,areStatesEqual:i=sBe,areOwnPropsEqual:s=DC,areStatePropsEqual:o=DC,areMergedPropsEqual:a=DC,forwardRef:l=!1,context:c=WJ}={}){const u=c,d=MVe(t),f=RVe(e),h=DVe(n),m=!!t;return y=>{const O=y.displayName||y.name||"Component",b=`Connect(${O})`,w={shouldHandleStateChanges:m,displayName:b,wrappedComponentName:O,WrappedComponent:y,initMapStateToProps:d,initMapDispatchToProps:f,initMergeProps:h,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function x($){const[C,N,P]=S.useMemo(()=>{const{reactReduxForwardedRef:ie,...ce}=$;return[$.context,ie,ce]},[$]),R=S.useMemo(()=>{let ie=u;return C!=null&&C.Consumer,ie},[C,u]),T=S.useContext(R),A=!!$.store&&!!$.store.getState&&!!$.store.dispatch,j=!!T&&!!T.store,E=A?$.store:T.store,_=j?T.getServerState:E.getState,Q=S.useMemo(()=>TVe(E.dispatch,w),[E]),[M,L]=S.useMemo(()=>{if(!m)return tBe;const ie=BJ(E,A?void 0:T.subscription),ce=ie.notifyNestedSubs.bind(ie);return[ie,ce]},[E,A,T]),V=S.useMemo(()=>A?T:{...T,subscription:M},[A,T,M]),W=S.useRef(void 0),H=S.useRef(P),le=S.useRef(void 0),fe=S.useRef(!1),U=S.useRef(!1),ee=S.useRef(void 0);l0(()=>(U.current=!0,()=>{U.current=!1}),[]);const re=S.useMemo(()=>()=>le.current&&P===H.current?le.current:Q(E.getState(),P),[E,P]),J=S.useMemo(()=>ce=>M?iBe(m,E,M,Q,H,W,fe,U,le,L,ce):()=>{},[M]);nBe(rBe,[H,W,fe,P,le,L]);let q;try{q=S.useSyncExternalStore(J,re,_?()=>Q(_(),P):re)}catch(ie){throw ee.current&&(ie.message+=`
The error may be correlated with this previous error:
${ee.current.stack}

`),ie}l0(()=>{ee.current=void 0,le.current=void 0,W.current=q});const oe=S.useMemo(()=>S.createElement(y,{...q,ref:N}),[N,y,q]);return S.useMemo(()=>m?S.createElement(R.Provider,{value:V},oe):oe,[R,oe,V])}const k=S.memo(x);if(k.WrappedComponent=y,k.displayName=x.displayName=b,l){const C=S.forwardRef(function(P,R){return S.createElement(k,{...P,reactReduxForwardedRef:R})});return C.displayName=b,C.WrappedComponent=y,AE(C,y)}return AE(k,y)}}var zJ=oBe;function aBe(t){const{children:e,context:n,serverState:r,store:i}=t,s=S.useMemo(()=>{const l=BJ(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=S.useMemo(()=>i.getState(),[i]);l0(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||WJ;return S.createElement(a.Provider,{value:s},e)}var lBe=aBe;function cBe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function ZJ(t,e){var n=S.useState(function(){return{inputs:e,result:t()}})[0],r=S.useRef(!0),i=S.useRef(n),s=r.current||!!(e&&i.current.inputs&&cBe(e,i.current.inputs)),o=s?i.current:{inputs:e,result:t()};return S.useEffect(function(){r.current=!1,i.current=o},[o]),o.result}function uBe(t,e){return ZJ(function(){return t},e)}var xt=ZJ,We=uBe,dBe="Invariant failed";function fBe(t,e){throw new Error(dBe)}var Hs=function(e){var n=e.top,r=e.right,i=e.bottom,s=e.left,o=r-s,a=i-n,l={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return l},HR=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},FB=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},hBe=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},VC={top:0,right:0,bottom:0,left:0},JR=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?VC:r,s=e.border,o=s===void 0?VC:s,a=e.padding,l=a===void 0?VC:a,c=Hs(HR(n,i)),u=Hs(FB(n,o)),d=Hs(FB(u,l));return{marginBox:c,borderBox:Hs(n),paddingBox:u,contentBox:d,margin:i,border:o,padding:l}},Ki=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&fBe(),i},pBe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},c0=function(e,n){var r=e.borderBox,i=e.border,s=e.margin,o=e.padding,a=hBe(r,n);return JR({borderBox:a,border:i,margin:s,padding:o})},u0=function(e,n){return n===void 0&&(n=pBe()),c0(e,n)},UJ=function(e,n){var r={top:Ki(n.marginTop),right:Ki(n.marginRight),bottom:Ki(n.marginBottom),left:Ki(n.marginLeft)},i={top:Ki(n.paddingTop),right:Ki(n.paddingRight),bottom:Ki(n.paddingBottom),left:Ki(n.paddingLeft)},s={top:Ki(n.borderTopWidth),right:Ki(n.borderRightWidth),bottom:Ki(n.borderBottomWidth),left:Ki(n.borderLeftWidth)};return JR({borderBox:e,margin:r,padding:i,border:s})},XJ=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return UJ(n,r)},VB=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function mBe(t,e){return!!(t===e||VB(t)&&VB(e))}function gBe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!mBe(t[n],e[n]))return!1;return!0}function er(t,e){e===void 0&&(e=gBe);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var Oy=function(e){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function GJ(t,e){}GJ.bind(null,"warn");GJ.bind(null,"error");function Nc(){}function yBe(t,e){return{...t,...e}}function ls(t,e,n){const r=e.map(i=>{const s=yBe(n,i.options);return t.addEventListener(i.eventName,i.fn,s),function(){t.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(s=>{s()})}}const OBe="Invariant failed";class d0 extends Error{}d0.prototype.toString=function(){return this.message};function je(t,e){throw new d0(OBe)}class bBe extends we.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Nc,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof d0&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ls(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof d0){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const xBe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,f0=t=>t+1,wBe=t=>`
  You have lifted an item in position ${f0(t.source.index)}
`,YJ=(t,e)=>{const n=t.droppableId===e.droppableId,r=f0(t.index),i=f0(e.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},HJ=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,vBe=t=>{const e=t.destination;if(e)return YJ(t.source,e);const n=t.combine;return n?HJ(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},BB=t=>`
  The item has returned to its starting position
  of ${f0(t.index)}
`,SBe=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${BB(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${YJ(t.source,e)}
    `:n?`
      You have dropped the item.
      ${HJ(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${BB(t.source)}
  `},ww={dragHandleUsageInstructions:xBe,onDragStart:wBe,onDragUpdate:vBe,onDragEnd:SBe},nr={x:0,y:0},gr=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Mi=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),Ec=(t,e)=>t.x===e.x&&t.y===e.y,_p=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Nd=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},by=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),qB=(t,e)=>Math.min(...e.map(n=>by(t,n))),JJ=t=>e=>({x:t(e.x),y:t(e.y)});var kBe=(t,e)=>{const n=Hs({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const EO=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),WB=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],$Be={top:0,right:0,bottom:0,left:0},CBe=(t,e)=>e?EO(t,e.scroll.diff.displacement):t,PBe=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,jBe=(t,e)=>e&&e.shouldClipSubject?kBe(e.pageMarginBox,t):Hs(t);var Yh=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const i=CBe(t.marginBox,r),s=PBe(i,n,e),o=jBe(s,r);return{page:t,withPlaceholder:e,active:o}},KR=(t,e)=>{t.frame||je();const n=t.frame,r=Mi(e,n.scroll.initial),i=_p(r),s={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}},o=Yh({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s});return{...t,frame:s,subject:o}};const KJ=er(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),eK=er(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),vS=er(t=>Object.values(t)),NBe=er(t=>Object.values(t));var Tp=er((t,e)=>NBe(e).filter(r=>t===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function eM(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function SS(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var kS=er((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),EBe=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!eM(i))return null;function o(h){const m={type:"COMBINE",combine:{draggableId:h,droppableId:n.descriptor.id}};return{...i,at:m}}const a=i.displaced.all,l=a.length?a[0]:null;if(t)return l?o(l):null;const c=kS(e,r);if(!l){if(!c.length)return null;const h=c[c.length-1];return o(h.descriptor.id)}const u=c.findIndex(h=>h.descriptor.id===l);u===-1&&je();const d=u-1;if(d<0)return null;const f=c[d];return o(f.descriptor.id)},Ap=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const tK={point:nr,value:0},xy={invisible:{},visible:{},all:[]},_Be={displaced:xy,displacedBy:tK,at:null};var ds=(t,e)=>n=>t<=n&&n<=e,nK=t=>{const e=ds(t.top,t.bottom),n=ds(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=e(r.top)||e(r.bottom),o=n(r.left)||n(r.right);if(s&&o)return!0;const l=r.top<t.top&&r.bottom>t.bottom,c=r.left<t.left&&r.right>t.right;return l&&c?!0:l&&o||c&&s}},TBe=t=>{const e=ds(t.top,t.bottom),n=ds(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const tM={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},rK={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var ABe=t=>e=>{const n=ds(e.top,e.bottom),r=ds(e.left,e.right);return i=>t===tM?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const RBe=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:nr;return EO(t,n)},MBe=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,QBe=(t,e,n)=>n(e)(t),nM=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const s=r?RBe(t,e):t;return MBe(s,e,i)&&QBe(s,n,i)},IBe=t=>nM({...t,isVisibleThroughFrameFn:nK}),iK=t=>nM({...t,isVisibleThroughFrameFn:TBe}),DBe=t=>nM({...t,isVisibleThroughFrameFn:ABe(t.destination.axis)}),LBe=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:i}=e;if(r[t])return!1;const s=i[t];return s?s.shouldAnimate:!0};function FBe(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Hs(HR(n,r))}function wy({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:i,last:s}){return t.reduce(function(a,l){const c=FBe(l,n),u=l.descriptor.id;if(a.all.push(u),!IBe({target:c,destination:e,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const f=LBe(u,s,i),h={draggableId:u,shouldAnimate:f};return a.visible[u]=h,a},{all:[],visible:{},invisible:{}})}function VBe(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function zB({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const i=VBe(t,{inHomeList:e});return{displaced:xy,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function h0({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:i,last:s,index:o,forceShouldAnimate:a}){const l=Ap(t,n);if(o==null)return zB({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const c=e.find(m=>m.descriptor.index===o);if(!c)return zB({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const u=kS(t,e),d=e.indexOf(c),f=u.slice(d);return{displaced:wy({afterDragging:f,destination:n,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Yc(t,e){return!!e.effected[t]}var BBe=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const s=r.draggableId,a=n[s].descriptor.index;return Yc(s,i)?t?a:a-1:t?a+1:a},qBe=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,s=t?i+1:i-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=e?a:a+1;return s<o||s>l?null:s},WBe=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:i,insideDestination:s,previousImpact:o,viewport:a,afterCritical:l})=>{const c=o.at;if(c||je(),c.type==="REORDER"){const d=qBe({isMovingForward:t,isInHomeList:e,location:c.destination,insideDestination:s});return d==null?null:h0({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:d})}const u=BBe({isMovingForward:t,destination:i,displaced:o.displaced,draggables:r,combine:c.combine,afterCritical:l});return u==null?null:h0({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:u})},zBe=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const i=!!(t.visible[n]||t.invisible[n]);return Yc(n,e)?i?nr:_p(r.point):i?r.point:nr},ZBe=({afterCritical:t,impact:e,draggables:n})=>{const r=SS(e);r||je();const i=r.draggableId,s=n[i].page.borderBox.center,o=zBe({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return gr(s,o)};const sK=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,UBe=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,rM=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,ZB=({axis:t,moveRelativeTo:e,isMoving:n})=>Nd(t.line,e.marginBox[t.end]+sK(t,n),rM(t,e.marginBox,n)),UB=({axis:t,moveRelativeTo:e,isMoving:n})=>Nd(t.line,e.marginBox[t.start]-UBe(t,n),rM(t,e.marginBox,n)),XBe=({axis:t,moveInto:e,isMoving:n})=>Nd(t.line,e.contentBox[t.start]+sK(t,n),rM(t,e.contentBox,n));var GBe=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:i})=>{const s=Tp(r.descriptor.id,n),o=e.page,a=r.axis;if(!s.length)return XBe({axis:a,moveInto:r.page,isMoving:o});const{displaced:l,displacedBy:c}=t,u=l.all[0];if(u){const f=n[u];if(Yc(u,i))return UB({axis:a,moveRelativeTo:f.page,isMoving:o});const h=c0(f.page,c.point);return UB({axis:a,moveRelativeTo:h,isMoving:o})}const d=s[s.length-1];if(d.descriptor.id===e.descriptor.id)return o.borderBox.center;if(Yc(d.descriptor.id,i)){const f=c0(d.page,_p(i.displacedBy.point));return ZB({axis:a,moveRelativeTo:f,isMoving:o})}return ZB({axis:a,moveRelativeTo:d.page,isMoving:o})},RE=(t,e)=>{const n=t.frame;return n?gr(e,n.scroll.diff.displacement):e};const YBe=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:i})=>{const s=e.page.borderBox.center,o=t.at;return!n||!o?s:o.type==="REORDER"?GBe({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i}):ZBe({impact:t,draggables:r,afterCritical:i})};var $S=t=>{const e=YBe(t),n=t.droppable;return n?RE(n,e):e},oK=(t,e)=>{const n=Mi(e,t.scroll.initial),r=_p(n);return{frame:Hs({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function XB(t,e){return t.map(n=>e[n])}function HBe(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var JBe=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:i})=>{const s=oK(e,gr(e.scroll.current,i)),o=n.frame?KR(n,gr(n.frame.scroll.current,i)):n,a=t.displaced,l=wy({afterDragging:XB(a.all,r),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),c=wy({afterDragging:XB(a.all,r),destination:o,displacedBy:t.displacedBy,viewport:e.frame,last:a,forceShouldAnimate:!1}),u={},d={},f=[a,l,c];return a.all.forEach(m=>{const g=HBe(m,f);if(g){d[m]=g;return}u[m]=!0}),{...t,displaced:{all:a.all,invisible:u,visible:d}}},KBe=(t,e)=>gr(t.scroll.diff.displacement,e),iM=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=KBe(n,t),i=Mi(r,e.page.borderBox.center);return gr(e.client.borderBox.center,i)},aK=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const o=Mi(n,t.page.borderBox.center),l={target:EO(t.page.borderBox,o),destination:e,withDroppableDisplacement:i,viewport:r};return s?DBe(l):iK(l)},eqe=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:i,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const c=Tp(n.descriptor.id,r),u=Ap(e,n),d=EBe({isMovingForward:t,draggable:e,destination:n,insideDestination:c,previousImpact:i})||WBe({isMovingForward:t,isInHomeList:u,draggable:e,draggables:r,destination:n,insideDestination:c,previousImpact:i,viewport:s,afterCritical:l});if(!d)return null;const f=$S({impact:d,draggable:e,droppable:n,draggables:r,afterCritical:l});if(aK({draggable:e,destination:n,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:iM({pageBorderBoxCenter:f,draggable:e,viewport:s}),impact:d,scrollJumpRequest:null};const m=Mi(f,o),g=JBe({impact:d,viewport:s,destination:n,draggables:r,maxScrollChange:m});return{clientSelection:a,impact:g,scrollJumpRequest:m}};const qr=t=>{const e=t.subject.active;return e||je(),e};var tqe=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:i})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,a=ds(s[o.start],s[o.end]),l=vS(r).filter(u=>u!==n).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>nK(i.frame)(qr(u))).filter(u=>{const d=qr(u);return t?s[o.crossAxisEnd]<d[o.crossAxisEnd]:d[o.crossAxisStart]<s[o.crossAxisStart]}).filter(u=>{const d=qr(u),f=ds(d[o.start],d[o.end]);return a(d[o.start])||a(d[o.end])||f(s[o.start])||f(s[o.end])}).sort((u,d)=>{const f=qr(u)[o.crossAxisStart],h=qr(d)[o.crossAxisStart];return t?f-h:h-f}).filter((u,d,f)=>qr(u)[o.crossAxisStart]===qr(f[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(u=>ds(qr(u)[o.start],qr(u)[o.end])(e[o.line]));return c.length===1?c[0]:c.length>1?c.sort((u,d)=>qr(u)[o.start]-qr(d)[o.start])[0]:l.sort((u,d)=>{const f=qB(e,WB(qr(u))),h=qB(e,WB(qr(d)));return f!==h?f-h:qr(u)[o.start]-qr(d)[o.start]})[0]};const GB=(t,e)=>{const n=t.page.borderBox.center;return Yc(t.descriptor.id,e)?Mi(n,e.displacedBy.point):n},nqe=(t,e)=>{const n=t.page.borderBox;return Yc(t.descriptor.id,e)?EO(n,_p(e.displacedBy.point)):n};var rqe=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>iK({target:nqe(o,i),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=by(t,RE(n,GB(o,i))),c=by(t,RE(n,GB(a,i)));return l<c?-1:c<l?1:o.descriptor.index-a.descriptor.index})[0]||null,_O=er(function(e,n){const r=n[e.line];return{value:r,point:Nd(e.line,r)}});const iqe=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return Nd(r.line,e[r.line]);const i=t.subject.page.contentBox[r.size],l=Tp(t.descriptor.id,n).reduce((c,u)=>c+u.client.marginBox[r.size],0)+e[r.line]-i;return l<=0?null:Nd(r.line,l)},lK=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),cK=(t,e,n)=>{const r=t.frame;Ap(e,t)&&je(),t.subject.withPlaceholder&&je();const i=_O(t.axis,e.displaceBy).point,s=iqe(t,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const u=Yh({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return{...t,subject:u}}const a=s?gr(r.scroll.max,s):r.scroll.max,l=lK(r,a),c=Yh({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:l});return{...t,subject:c,frame:l}},sqe=t=>{const e=t.subject.withPlaceholder;e||je();const n=t.frame;if(!n){const o=Yh({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:o}}const r=e.oldFrameMaxScroll;r||je();const i=lK(n,r),s=Yh({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:s,frame:i}};var oqe=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:i,destination:s,viewport:o,afterCritical:a})=>{if(!e){if(n.length)return null;const d={displaced:xy,displacedBy:tK,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},f=$S({impact:d,draggable:r,droppable:s,draggables:i,afterCritical:a}),h=Ap(r,s)?s:cK(s,r,i);return aK({draggable:r,destination:h,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const l=t[s.axis.line]<=e.page.borderBox.center[s.axis.line],c=(()=>{const d=e.descriptor.index;return e.descriptor.id===r.descriptor.id||l?d:d+1})(),u=_O(s.axis,r.displaceBy);return h0({draggable:r,insideDestination:n,destination:s,viewport:o,displacedBy:u,last:xy,index:c})},aqe=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:i,droppables:s,viewport:o,afterCritical:a})=>{const l=tqe({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:s,viewport:o});if(!l)return null;const c=Tp(l.descriptor.id,i),u=rqe({pageBorderBoxCenter:e,viewport:o,destination:l,insideDestination:c,afterCritical:a}),d=oqe({previousPageBorderBoxCenter:e,destination:l,draggable:n,draggables:i,moveRelativeTo:u,insideDestination:c,viewport:o,afterCritical:a});if(!d)return null;const f=$S({impact:d,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:iM({pageBorderBoxCenter:f,draggable:n,viewport:o}),impact:d,scrollJumpRequest:null}},Li=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const lqe=(t,e)=>{const n=Li(t);return n?e[n]:null};var cqe=({state:t,type:e})=>{const n=lqe(t.impact,t.dimensions.droppables),r=!!n,i=t.dimensions.droppables[t.critical.droppable.id],s=n||i,o=s.axis.direction,a=o==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||o==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(a&&!r)return null;const l=e==="MOVE_DOWN"||e==="MOVE_RIGHT",c=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,{draggables:d,droppables:f}=t.dimensions;return a?eqe({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:s,draggables:d,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):aqe({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:s,draggables:d,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function $u(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function uK(t){const e=ds(t.top,t.bottom),n=ds(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function uqe(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function dqe({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,i=n.map(s=>{const o=s.axis,a=Nd(s.axis.line,t.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:by(r,a)}}).sort((s,o)=>o.distance-s.distance);return i[0]?i[0].id:null}function fqe({pageBorderBox:t,draggable:e,droppables:n}){const r=vS(n).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!uqe(t,s))return!1;if(uK(s)(t.center))return!0;const o=i.axis,a=s.center[o.crossAxisLine],l=t[o.crossAxisStart],c=t[o.crossAxisEnd],u=ds(s[o.crossAxisStart],s[o.crossAxisEnd]),d=u(l),f=u(c);return!d&&!f?!0:d?l<a:c>a});return r.length?r.length===1?r[0].descriptor.id:dqe({pageBorderBox:t,draggable:e,candidates:r}):null}const dK=(t,e)=>Hs(EO(t,e));var hqe=(t,e)=>{const n=t.frame;return n?dK(e,n.scroll.diff.value):e};function fK({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function pqe({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var mqe=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:i,viewport:s,afterCritical:o})=>{const a=n.axis,l=_O(n.axis,e.displaceBy),c=l.value,u=t[a.start],d=t[a.end],h=kS(e,r).find(g=>{const y=g.descriptor.id,O=g.page.borderBox.center[a.line],b=Yc(y,o),w=fK({displaced:i,id:y});return b?w?d<=O:u<O-c:w?d<=O+c:u<O})||null,m=pqe({draggable:e,closest:h,inHomeList:Ap(e,n)});return h0({draggable:e,insideDestination:r,destination:n,viewport:s,last:i,displacedBy:l,index:m})};const gqe=4;var yqe=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:i,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const o=r.axis,a=_O(r.axis,t.displaceBy),l=a.value,c=e[o.start],u=e[o.end],f=kS(t,i).find(m=>{const g=m.descriptor.id,y=m.page.borderBox,b=y[o.size]/gqe,w=Yc(g,s),x=fK({displaced:n.displaced,id:g});return w?x?u>y[o.start]+b&&u<y[o.end]-b:c>y[o.start]-l+b&&c<y[o.end]-l-b:x?u>y[o.start]+l+b&&u<y[o.end]+l-b:c>y[o.start]+b&&c<y[o.end]-b});return f?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:r.descriptor.id}}}:null},hK=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:i,viewport:s,afterCritical:o})=>{const a=dK(e.page.borderBox,t),l=fqe({pageBorderBox:a,draggable:e,droppables:r});if(!l)return _Be;const c=r[l],u=Tp(c.descriptor.id,n),d=hqe(c,a);return yqe({pageBorderBoxWithDroppableScroll:d,draggable:e,previousImpact:i,destination:c,insideDestination:u,afterCritical:o})||mqe({pageBorderBoxWithDroppableScroll:d,draggable:e,destination:c,insideDestination:u,last:i.displaced,viewport:s,afterCritical:o})},sM=(t,e)=>({...t,[e.descriptor.id]:e});const Oqe=({previousImpact:t,impact:e,droppables:n})=>{const r=Li(t),i=Li(e);if(!r||r===i)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const o=sqe(s);return sM(n,o)};var bqe=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:i})=>{const s=Oqe({previousImpact:r,impact:i,droppables:n}),o=Li(i);if(!o)return s;const a=n[o];if(Ap(t,a)||a.subject.withPlaceholder)return s;const l=cK(a,t,e);return sM(s,l)},bg=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:i,scrollJumpRequest:s})=>{const o=r||t.viewport,a=n||t.dimensions,l=e||t.current.client.selection,c=Mi(l,t.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:gr(t.initial.client.borderBoxCenter,c)},d={selection:gr(u.selection,o.scroll.current),borderBoxCenter:gr(u.borderBoxCenter,o.scroll.current),offset:gr(u.offset,o.scroll.diff.value)},f={client:u,page:d};if(t.phase==="COLLECTING")return{...t,dimensions:a,viewport:o,current:f};const h=a.draggables[t.critical.draggable.id],m=i||hK({pageOffset:d.offset,draggable:h,draggables:a.draggables,droppables:a.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),g=bqe({draggable:h,impact:m,previousImpact:t.impact,draggables:a.draggables,droppables:a.droppables});return{...t,current:f,dimensions:{draggables:a.draggables,droppables:g},impact:m,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function xqe(t,e){return t.map(n=>e[n])}var pK=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:i})=>{const s=t.displaced,o=xqe(s.all,n),a=wy({afterDragging:o,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:s});return{...t,displaced:a}},mK=({impact:t,draggable:e,droppable:n,draggables:r,viewport:i,afterCritical:s})=>{const o=$S({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:s});return iM({pageBorderBoxCenter:o,draggable:e,viewport:i})},gK=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&je();const r=t.impact,i=n||t.viewport,s=e||t.dimensions,{draggables:o,droppables:a}=s,l=o[t.critical.draggable.id],c=Li(r);c||je();const u=a[c],d=pK({impact:r,viewport:i,destination:u,draggables:o}),f=mK({impact:d,draggable:l,droppable:u,draggables:o,viewport:i,afterCritical:t.afterCritical});return bg({impact:d,clientSelection:f,state:t,dimensions:s,viewport:i})},wqe=t=>({index:t.index,droppableId:t.droppableId}),yK=({draggable:t,home:e,draggables:n,viewport:r})=>{const i=_O(e.axis,t.displaceBy),s=Tp(e.descriptor.id,n),o=s.indexOf(t);o===-1&&je();const a=s.slice(o+1),l=a.reduce((f,h)=>(f[h.descriptor.id]=!0,f),{}),c={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:wy({afterDragging:a,destination:e,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:wqe(t.descriptor)}},afterCritical:c}},vqe=(t,e)=>({draggables:t.draggables,droppables:sM(t.droppables,e)}),Sqe=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=c0(t.client,e),i=u0(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:i}},kqe=t=>{const e=t.frame;return e||je(),e},$qe=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(i=>{const s=i.descriptor.droppableId,o=e[s],l=kqe(o).scroll.diff.value,c=gr(r,l);return Sqe({draggable:i,offset:c,initialWindowScroll:n.scroll.initial})})},Cqe=({state:t,published:e})=>{const n=e.modified.map(O=>{const b=t.dimensions.droppables[O.droppableId];return KR(b,O.scroll)}),r={...t.dimensions.droppables,...KJ(n)},i=eK($qe({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),s={...t.dimensions.draggables,...i};e.removals.forEach(O=>{delete s[O]});const o={droppables:r,draggables:s},a=Li(t.impact),l=a?o.droppables[a]:null,c=o.draggables[t.critical.draggable.id],u=o.droppables[t.critical.droppable.id],{impact:d,afterCritical:f}=yK({draggable:c,home:u,draggables:s,viewport:t.viewport}),h=l&&l.isCombineEnabled?t.impact:d,m=hK({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:h,viewport:t.viewport,afterCritical:f}),g={...t,phase:"DRAGGING",impact:m,onLiftImpact:d,dimensions:o,afterCritical:f,forceShouldAnimate:!1};return t.phase==="COLLECTING"?g:{...g,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const ME=t=>t.movementMode==="SNAP",BC=(t,e,n)=>{const r=vqe(t.dimensions,e);return!ME(t)||n?bg({state:t,dimensions:r}):gK({state:t,dimensions:r})};function qC(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const YB={phase:"IDLE",completed:null,shouldFlush:!1};var Pqe=(t=YB,e)=>{if(e.type==="FLUSH")return{...YB,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&je();const{critical:n,clientSelection:r,viewport:i,dimensions:s,movementMode:o}=e.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],c={selection:r,borderBoxCenter:a.client.borderBox.center,offset:nr},u={client:c,page:{selection:gr(c.selection,i.scroll.initial),borderBoxCenter:gr(c.selection,i.scroll.initial),offset:gr(c.selection,i.scroll.diff.value)}},d=vS(s.droppables).every(g=>!g.isFixedOnPage),{impact:f,afterCritical:h}=yK({draggable:a,home:l,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:u,current:u,isWindowScrollAllowed:d,impact:f,afterCritical:h,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&je(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||je(),Cqe({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;$u(t)||je();const{client:n}=e.payload;return Ec(n,t.current.client.selection)?t:bg({state:t,clientSelection:n,impact:ME(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return qC(t);$u(t)||je();const{id:n,newScroll:r}=e.payload,i=t.dimensions.droppables[n];if(!i)return t;const s=KR(i,r);return BC(t,s,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;$u(t)||je();const{id:n,isEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||je(),i.isEnabled===r&&je();const s={...i,isEnabled:r};return BC(t,s,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;$u(t)||je();const{id:n,isCombineEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||je(),i.isCombineEnabled===r&&je();const s={...i,isCombineEnabled:r};return BC(t,s,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;$u(t)||je(),t.isWindowScrollAllowed||je();const n=e.payload.newScroll;if(Ec(t.viewport.scroll.current,n))return qC(t);const r=oK(t.viewport,n);return ME(t)?gK({state:t,viewport:r}):bg({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!$u(t))return t;const n=e.payload.maxScroll;if(Ec(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&je();const n=cqe({state:t,type:e.type});return n?bg({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&je(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||je(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function jt(t,e){return t instanceof Object&&"type"in t&&t.type===e}const jqe=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),Nqe=t=>({type:"LIFT",payload:t}),Eqe=t=>({type:"INITIAL_PUBLISH",payload:t}),_qe=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),Tqe=()=>({type:"COLLECTION_STARTING",payload:null}),Aqe=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),Rqe=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),Mqe=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),OK=t=>({type:"MOVE",payload:t}),Qqe=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),Iqe=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),Dqe=()=>({type:"MOVE_UP",payload:null}),Lqe=()=>({type:"MOVE_DOWN",payload:null}),Fqe=()=>({type:"MOVE_RIGHT",payload:null}),Vqe=()=>({type:"MOVE_LEFT",payload:null}),oM=()=>({type:"FLUSH",payload:null}),Bqe=t=>({type:"DROP_ANIMATE",payload:t}),aM=t=>({type:"DROP_COMPLETE",payload:t}),bK=t=>({type:"DROP",payload:t}),qqe=t=>({type:"DROP_PENDING",payload:t}),xK=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Wqe=t=>({getState:e,dispatch:n})=>r=>i=>{if(!jt(i,"LIFT")){r(i);return}const{id:s,clientSelection:o,movementMode:a}=i.payload,l=e();l.phase==="DROP_ANIMATING"&&n(aM({completed:l.completed})),e().phase!=="IDLE"&&je(),n(oM()),n(jqe({draggableId:s,movementMode:a}));const u={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:d,dimensions:f,viewport:h}=t.startPublishing(u);n(Eqe({critical:d,dimensions:f,clientSelection:o,movementMode:a,viewport:h}))},zqe=t=>()=>e=>n=>{jt(n,"INITIAL_PUBLISH")&&t.dragging(),jt(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(jt(n,"FLUSH")||jt(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const lM={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},vy={opacity:{drop:0,combining:.7},scale:{drop:.75}},wK={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},gu=`${wK.outOfTheWay}s ${lM.outOfTheWay}`,xg={fluid:`opacity ${gu}`,snap:`transform ${gu}, opacity ${gu}`,drop:t=>{const e=`${t}s ${lM.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${gu}`,placeholder:`height ${gu}, width ${gu}, margin ${gu}`},HB=t=>Ec(t,nr)?void 0:`translate(${t.x}px, ${t.y}px)`,QE={moveTo:HB,drop:(t,e)=>{const n=HB(t);if(n)return e?`${n} scale(${vy.scale.drop})`:n}},{minDropTime:IE,maxDropTime:vK}=wK,Zqe=vK-IE,JB=1500,Uqe=.6;var Xqe=({current:t,destination:e,reason:n})=>{const r=by(t,e);if(r<=0)return IE;if(r>=JB)return vK;const i=r/JB,s=IE+Zqe*i,o=n==="CANCEL"?s*Uqe:s;return Number(o.toFixed(2))},Gqe=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:s,droppables:o}=n,a=Li(t),l=a?o[a]:null,c=o[e.descriptor.droppableId],u=mK({impact:t,draggable:e,draggables:s,afterCritical:i,droppable:l||c,viewport:r});return Mi(u,e.client.borderBox.center)},Yqe=({draggables:t,reason:e,lastImpact:n,home:r,viewport:i,onLiftImpact:s})=>!n.at||e!=="DROP"?{impact:pK({draggables:t,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:xy},didDropInsideDroppable:!0};const Hqe=({getState:t,dispatch:e})=>n=>r=>{if(!jt(r,"DROP")){n(r);return}const i=t(),s=r.payload.reason;if(i.phase==="COLLECTING"){e(qqe({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&je(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||je();const a=i.critical,l=i.dimensions,c=l.draggables[i.critical.draggable.id],{impact:u,didDropInsideDroppable:d}=Yqe({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=d?eM(u):null,h=d?SS(u):null,m={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:m,reason:s,mode:i.movementMode,destination:f,combine:h},y=Gqe({impact:u,draggable:c,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),O={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:u};if(!(!Ec(i.current.client.offset,y)||!!g.combine)){e(aM({completed:O}));return}const w=Xqe({current:i.current.client.offset,destination:y,reason:s});e(Bqe({newHomeClientOffset:y,dropDuration:w,completed:O}))};var SK=()=>({x:window.pageXOffset,y:window.pageYOffset});function Jqe(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function Kqe({onWindowScroll:t}){function e(){t(SK())}const n=Oy(e),r=Jqe(n);let i=Nc;function s(){return i!==Nc}function o(){s()&&je(),i=ls(window,[r])}function a(){s()||je(),n.cancel(),i(),i=Nc}return{start:o,stop:a,isActive:s}}const e4e=t=>jt(t,"DROP_COMPLETE")||jt(t,"DROP_ANIMATE")||jt(t,"FLUSH"),t4e=t=>{const e=Kqe({onWindowScroll:n=>{t.dispatch(Qqe({newScroll:n}))}});return n=>r=>{!e.isActive()&&jt(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&e4e(r)&&e.stop(),n(r)}};var n4e=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=s=>{e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=()=>e,i},r4e=()=>{const t=[],e=i=>{const s=t.findIndex(a=>a.timerId===i);s===-1&&je();const[o]=t.splice(s,1);o.callback()};return{add:i=>{const s=setTimeout(()=>e(s)),o={timerId:s,callback:i};t.push(o)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const i4e=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,s4e=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,o4e=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},km=(t,e)=>{e()},cx=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function WC(t,e,n,r){if(!t){n(r(e));return}const i=n4e(n);t(e,{announce:i}),i.wasCalled()||n(r(e))}var a4e=(t,e)=>{const n=r4e();let r=null;const i=(d,f)=>{r&&je(),km("onBeforeCapture",()=>{const h=t().onBeforeCapture;h&&h({draggableId:d,mode:f})})},s=(d,f)=>{r&&je(),km("onBeforeDragStart",()=>{const h=t().onBeforeDragStart;h&&h(cx(d,f))})},o=(d,f)=>{r&&je();const h=cx(d,f);r={mode:f,lastCritical:d,lastLocation:h.source,lastCombine:null},n.add(()=>{km("onDragStart",()=>WC(t().onDragStart,h,e,ww.onDragStart))})},a=(d,f)=>{const h=eM(f),m=SS(f);r||je();const g=!o4e(d,r.lastCritical);g&&(r.lastCritical=d);const y=!i4e(r.lastLocation,h);y&&(r.lastLocation=h);const O=!s4e(r.lastCombine,m);if(O&&(r.lastCombine=m),!g&&!y&&!O)return;const b={...cx(d,r.mode),combine:m,destination:h};n.add(()=>{km("onDragUpdate",()=>WC(t().onDragUpdate,b,e,ww.onDragUpdate))})},l=()=>{r||je(),n.flush()},c=d=>{r||je(),r=null,km("onDragEnd",()=>WC(t().onDragEnd,d,e,ww.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:l,drop:c,abort:()=>{if(!r)return;const d={...cx(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(d)}}},l4e=(t,e)=>{const n=a4e(t,e);return r=>i=>s=>{if(jt(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(jt(s,"INITIAL_PUBLISH")){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),i(s),n.start(a,s.payload.movementMode);return}if(jt(s,"DROP_COMPLETE")){const a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),jt(s,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const c4e=t=>e=>n=>{if(!jt(n,"DROP_ANIMATION_FINISHED")){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&je(),t.dispatch(aM({completed:r.completed}))},u4e=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return i=>s=>{if((jt(s,"FLUSH")||jt(s,"DROP_COMPLETE")||jt(s,"DROP_ANIMATION_FINISHED"))&&r(),i(s),!jt(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(xK())}};n=requestAnimationFrame(()=>{n=null,e=ls(window,[o])})}};var d4e=t=>()=>e=>n=>{(jt(n,"DROP_COMPLETE")||jt(n,"FLUSH")||jt(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},f4e=t=>{let e=!1;return()=>n=>r=>{if(jt(r,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(jt(r,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(jt(r,"DROP_COMPLETE")){e=!1;const i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const h4e=t=>jt(t,"DROP_COMPLETE")||jt(t,"DROP_ANIMATE")||jt(t,"FLUSH");var p4e=t=>e=>n=>r=>{if(h4e(r)){t.stop(),n(r);return}if(jt(r,"INITIAL_PUBLISH")){n(r);const i=e.getState();i.phase!=="DRAGGING"&&je(),t.start(i);return}n(r),t.scroll(e.getState())};const m4e=t=>e=>n=>{if(e(n),!jt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(bK({reason:r.reason})))},g4e=LJ;var y4e=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:i,autoScroller:s})=>DJ(Pqe,g4e(hVe(zqe(n),d4e(t),Wqe(t),Hqe,c4e,u4e,m4e,p4e(s),t4e,f4e(e),l4e(r,i))));const zC=()=>({additions:{},removals:{},modified:{}});function O4e({registry:t,callbacks:e}){let n=zC(),r=null;const i=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:c,modified:u}=n,d=Object.keys(l).map(m=>t.draggable.getById(m).getDimension(nr)).sort((m,g)=>m.descriptor.index-g.descriptor.index),f=Object.keys(u).map(m=>{const y=t.droppable.getById(m).callbacks.getScrollWhileDragging();return{droppableId:m,scroll:y}}),h={additions:d,removals:Object.keys(c),modified:f};n=zC(),e.publish(h)}))};return{add:l=>{const c=l.descriptor.id;n.additions[c]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],i()},remove:l=>{const c=l.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=zC())}}}var kK=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const i=Mi({x:e,y:t},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},$K=()=>{const t=document.documentElement;return t||je(),t},CK=()=>{const t=$K();return kK({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},b4e=()=>{const t=SK(),e=CK(),n=t.y,r=t.x,i=$K(),s=i.clientWidth,o=i.clientHeight,a=r+s,l=n+o;return{frame:Hs({top:n,left:r,right:a,bottom:l}),scroll:{initial:t,current:t,max:e,diff:{value:nr,displacement:nr}}}},x4e=({critical:t,scrollOptions:e,registry:n})=>{const r=b4e(),i=r.scroll.current,s=t.droppable,o=n.droppable.getAllByType(s.type).map(u=>u.callbacks.getDimensionAndWatchScroll(i,e)),a=n.draggable.getAllByType(t.draggable.type).map(u=>u.getDimension(i));return{dimensions:{draggables:eK(a),droppables:KJ(o)},critical:t,viewport:r}};function KB(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var w4e=(t,e)=>{let n=null;const r=O4e({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(f,h)=>{t.droppable.exists(f)||je(),n&&e.updateDroppableIsEnabled({id:f,isEnabled:h})},s=(f,h)=>{n&&(t.droppable.exists(f)||je(),e.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:h}))},o=(f,h)=>{n&&(t.droppable.exists(f)||je(),e.updateDroppableScroll({id:f,newScroll:h}))},a=(f,h)=>{n&&t.droppable.getById(f).callbacks.scroll(h)},l=()=>{if(!n)return;r.stop();const f=n.critical.droppable;t.droppable.getAllByType(f.type).forEach(h=>h.callbacks.dragStopped()),n.unsubscribe(),n=null},c=f=>{n||je();const h=n.critical.draggable;f.type==="ADDITION"&&KB(t,h,f.value)&&r.add(f.value),f.type==="REMOVAL"&&KB(t,h,f.value)&&r.remove(f.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:f=>{n&&je();const h=t.draggable.getById(f.draggableId),m=t.droppable.getById(h.descriptor.droppableId),g={draggable:h.descriptor,droppable:m.descriptor},y=t.subscribe(c);return n={critical:g,unsubscribe:y},x4e({critical:g,registry:t,scrollOptions:f.scrollOptions})},stopPublishing:l}},PK=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",v4e=t=>{window.scrollBy(t.x,t.y)};const S4e=er(t=>vS(t).filter(e=>!(!e.isEnabled||!e.frame))),k4e=(t,e)=>S4e(e).find(r=>(r.frame||je(),uK(r.frame.pageMarginBox)(t)))||null;var $4e=({center:t,destination:e,droppables:n})=>{if(e){const i=n[e];return i.frame?i:null}return k4e(t,n)};const Sy={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var C4e=(t,e,n=()=>Sy)=>{const r=n(),i=t[e.size]*r.startFromPercentage,s=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},jK=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},cM=1,P4e=(t,e,n=()=>Sy)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return cM;const s=1-jK({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),o=r.maxPixelScroll*r.ease(s);return Math.ceil(o)},j4e=(t,e,n)=>{const r=n(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,o=e,a=s,c=Date.now()-o;if(c>=s)return t;if(c<i)return cM;const u=jK({startOfRange:i,endOfRange:a,current:c}),d=t*r.ease(u);return Math.ceil(d)},eq=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=P4e(t,e,i);return s===0?0:r?Math.max(j4e(s,n,i),cM):s},tq=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=C4e(t,r,s);return e[r.end]<e[r.start]?eq({distanceToEdge:e[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*eq({distanceToEdge:e[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},N4e=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,i=e.width>t.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const E4e=JJ(t=>t===0?0:t);var NK=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},a=tq({container:e,distanceToEdges:o,dragStartTime:t,axis:tM,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),l=tq({container:e,distanceToEdges:o,dragStartTime:t,axis:rK,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),c=E4e({x:l,y:a});if(Ec(c,nr))return null;const u=N4e({container:e,subject:n,proposedScroll:c});return u?Ec(u,nr)?null:u:null};const _4e=JJ(t=>t===0?0:t>0?1:-1),uM=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const i=gr(e,r),s={x:t(i.x,n.x),y:t(i.y,n.y)};return Ec(s,nr)?null:s}})(),EK=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=_4e(n),s=uM({max:r,current:e,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},dM=(t,e)=>EK({current:t.scroll.current,max:t.scroll.max,change:e}),T4e=(t,e)=>{if(!dM(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return uM({current:r,max:n,change:e})},fM=(t,e)=>{const n=t.frame;return n?EK({current:n.scroll.current,max:n.scroll.max,change:e}):!1},A4e=(t,e)=>{const n=t.frame;return!n||!fM(t,e)?null:uM({current:n.scroll.current,max:n.scroll.max,change:e})};var R4e=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=NK({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return o&&dM(t,o)?o:null},M4e=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=t.frame;if(!o)return null;const a=NK({dragStartTime:r,container:o.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return a&&fM(t,a)?a:null},nq=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:s})=>{const o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const d=t.viewport,f=R4e({dragStartTime:e,viewport:d,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(f){r(f);return}}const c=$4e({center:o,destination:Li(t.impact),droppables:t.dimensions.droppables});if(!c)return;const u=M4e({dragStartTime:e,droppable:c,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});u&&i(c.descriptor.id,u)},Q4e=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>Sy})=>{const r=Oy(t),i=Oy(e);let s=null;const o=c=>{s||je();const{shouldUseTimeDampening:u,dragStartTime:d}=s;nq({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:d,shouldUseTimeDampening:u,getAutoScrollerOptions:n})};return{start:c=>{s&&je();const u=Date.now();let d=!1;const f=()=>{d=!0};nq({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:n}),s={dragStartTime:u,shouldUseTimeDampening:d},d&&o(c)},stop:()=>{s&&(r.cancel(),i.cancel(),s=null)},scroll:o}},I4e=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(a,l)=>{const c=gr(a.current.client.selection,l);t({client:c})},i=(a,l)=>{if(!fM(a,l))return l;const c=A4e(a,l);if(!c)return e(a.descriptor.id,l),null;const u=Mi(l,c);return e(a.descriptor.id,u),Mi(l,u)},s=(a,l,c)=>{if(!a||!dM(l,c))return c;const u=T4e(l,c);if(!u)return n(c),null;const d=Mi(c,u);return n(d),Mi(c,d)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=Li(a.impact);c||je();const u=i(a.dimensions.droppables[c],l);if(!u)return;const d=a.viewport,f=s(a.isWindowScrollAllowed,d,u);f&&r(a,f)}},D4e=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const i=Q4e({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),s=I4e({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:i.start,stop:i.stop}};const Hh="data-rfd",Jh=(()=>{const t=`${Hh}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),DE=(()=>{const t=`${Hh}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),L4e=(()=>{const t=`${Hh}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),rq={contextId:`${Hh}-scroll-container-context-id`},F4e=t=>e=>`[${e}="${t}"]`,$m=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),V4e="pointer-events: none;";var B4e=t=>{const e=F4e(t),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Jh.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:V4e,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${xg.outOfTheWay};
    `;return{selector:e(DE.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:e(L4e.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:$m(o,"always"),resting:$m(o,"resting"),dragging:$m(o,"dragging"),dropAnimating:$m(o,"dropAnimating"),userCancel:$m(o,"userCancel")}};const Fi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,ZC=()=>{const t=document.querySelector("head");return t||je(),t},iq=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function q4e(t,e){const n=xt(()=>B4e(t),[t]),r=S.useRef(null),i=S.useRef(null),s=We(er(d=>{const f=i.current;f||je(),f.textContent=d}),[]),o=We(d=>{const f=r.current;f||je(),f.textContent=d},[]);Fi(()=>{!r.current&&!i.current||je();const d=iq(e),f=iq(e);return r.current=d,i.current=f,d.setAttribute(`${Hh}-always`,t),f.setAttribute(`${Hh}-dynamic`,t),ZC().appendChild(d),ZC().appendChild(f),o(n.always),s(n.resting),()=>{const h=m=>{const g=m.current;g||je(),ZC().removeChild(g),m.current=null};h(r),h(i)}},[e,o,s,n.always,n.resting,t]);const a=We(()=>s(n.dragging),[s,n.dragging]),l=We(d=>{if(d==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),c=We(()=>{i.current&&s(n.resting)},[s,n.resting]);return xt(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function _K(t,e){return Array.from(t.querySelectorAll(e))}var TK=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function CS(t){return t instanceof TK(t).HTMLElement}function W4e(t,e){const n=`[${Jh.contextId}="${t}"]`,r=_K(document,n);if(!r.length)return null;const i=r.find(s=>s.getAttribute(Jh.draggableId)===e);return!i||!CS(i)?null:i}function z4e(t){const e=S.useRef({}),n=S.useRef(null),r=S.useRef(null),i=S.useRef(!1),s=We(function(f,h){const m={id:f,focus:h};return e.current[f]=m,function(){const y=e.current;y[f]!==m&&delete y[f]}},[]),o=We(function(f){const h=W4e(t,f);h&&h!==document.activeElement&&h.focus()},[t]),a=We(function(f,h){n.current===f&&(n.current=h)},[]),l=We(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const f=n.current;f&&o(f)}))},[o]),c=We(function(f){n.current=null;const h=document.activeElement;h&&h.getAttribute(Jh.draggableId)===f&&(n.current=f)},[]);return Fi(()=>(i.current=!0,function(){i.current=!1;const f=r.current;f&&cancelAnimationFrame(f)}),[]),xt(()=>({register:s,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,c,l,a])}function Z4e(){const t={draggables:{},droppables:{}},e=[];function n(d){return e.push(d),function(){const h=e.indexOf(d);h!==-1&&e.splice(h,1)}}function r(d){e.length&&e.forEach(f=>f(d))}function i(d){return t.draggables[d]||null}function s(d){const f=i(d);return f||je(),f}const o={register:d=>{t.draggables[d.descriptor.id]=d,r({type:"ADDITION",value:d})},update:(d,f)=>{const h=t.draggables[f.descriptor.id];h&&h.uniqueId===d.uniqueId&&(delete t.draggables[f.descriptor.id],t.draggables[d.descriptor.id]=d)},unregister:d=>{const f=d.descriptor.id,h=i(f);h&&d.uniqueId===h.uniqueId&&(delete t.draggables[f],t.droppables[d.descriptor.droppableId]&&r({type:"REMOVAL",value:d}))},getById:s,findById:i,exists:d=>!!i(d),getAllByType:d=>Object.values(t.draggables).filter(f=>f.descriptor.type===d)};function a(d){return t.droppables[d]||null}function l(d){const f=a(d);return f||je(),f}const c={register:d=>{t.droppables[d.descriptor.id]=d},unregister:d=>{const f=a(d.descriptor.id);f&&d.uniqueId===f.uniqueId&&delete t.droppables[d.descriptor.id]},getById:l,findById:a,exists:d=>!!a(d),getAllByType:d=>Object.values(t.droppables).filter(f=>f.descriptor.type===d)};function u(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:c,subscribe:n,clean:u}}function U4e(){const t=xt(Z4e,[]);return S.useEffect(()=>function(){t.clean()},[t]),t}var hM=we.createContext(null),p0=()=>{const t=document.body;return t||je(),t};const X4e={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},G4e=t=>`rfd-announcement-${t}`;function Y4e(t){const e=xt(()=>G4e(t),[t]),n=S.useRef(null);return S.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),Nh(s.style,X4e),p0().appendChild(s),function(){setTimeout(function(){const l=p0();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[e]),We(i=>{const s=n.current;if(s){s.textContent=i;return}},[])}const H4e={separator:"::"};function pM(t,e=H4e){const n=we.useId();return xt(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function J4e({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function K4e({contextId:t,text:e}){const n=pM("hidden-text",{separator:"-"}),r=xt(()=>J4e({contextId:t,uniqueId:n}),[n,t]);return S.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=e,s.style.display="none",p0().appendChild(s),function(){const a=p0();a.contains(s)&&a.removeChild(s)}},[r,e]),r}var PS=we.createContext(null);function AK(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),e}function eWe(){let t=null;function e(){return!!t}function n(o){return o===t}function r(o){t&&je();const a={abandon:o};return t=a,a}function i(){t||je(),t=null}function s(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:s}}function ky(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const tWe=9,nWe=13,mM=27,RK=32,rWe=33,iWe=34,sWe=35,oWe=36,aWe=37,lWe=38,cWe=39,uWe=40,dWe={[nWe]:!0,[tWe]:!0};var MK=t=>{dWe[t.keyCode]&&t.preventDefault()};const jS=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),QK=0,sq=5;function fWe(t,e){return Math.abs(e.x-t.x)>=sq||Math.abs(e.y-t.y)>=sq}const oq={type:"IDLE"};function hWe({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:o,clientY:a}=i;if(s!==QK)return;const l={x:o,y:a},c=n();if(c.type==="DRAGGING"){i.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&je();const u=c.point;if(!fWe(u,l))return;i.preventDefault();const d=c.actions.fluidLift(l);r({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:i=>{const s=n();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){t();return}if(i.keyCode===mM){i.preventDefault(),t();return}MK(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=n();if(s.type==="IDLE"&&je(),s.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:jS,fn:t}]}function pWe(t){const e=S.useRef(oq),n=S.useRef(Nc),r=xt(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==QK||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const f=t.findClosestDraggableId(d);if(!f)return;const h=t.tryGetLock(f,o,{sourceEvent:d});if(!h)return;d.preventDefault();const m={x:d.clientX,y:d.clientY};n.current(),c(h,m)}}),[t]),i=xt(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const d=t.findClosestDraggableId(u);if(!d)return;const f=t.findOptionsForDraggable(d);f&&(f.shouldRespectForcePress||t.canGetLock(d)&&u.preventDefault())}}),[t]),s=We(function(){const d={passive:!1,capture:!0};n.current=ls(window,[i,r],d)},[i,r]),o=We(()=>{e.current.type!=="IDLE"&&(e.current=oq,n.current(),s())},[s]),a=We(()=>{const u=e.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),l=We(function(){const d={capture:!0,passive:!1},f=hWe({cancel:a,completed:o,getPhase:()=>e.current,setPhase:h=>{e.current=h}});n.current=ls(window,f,d)},[a,o]),c=We(function(d,f){e.current.type!=="IDLE"&&je(),e.current={type:"PENDING",point:f,actions:d},l()},[l]);Fi(function(){return s(),function(){n.current()}},[s])}function mWe(){}const gWe={[iWe]:!0,[rWe]:!0,[oWe]:!0,[sWe]:!0};function yWe(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===mM){i.preventDefault(),n();return}if(i.keyCode===RK){i.preventDefault(),r();return}if(i.keyCode===uWe){i.preventDefault(),t.moveDown();return}if(i.keyCode===lWe){i.preventDefault(),t.moveUp();return}if(i.keyCode===cWe){i.preventDefault(),t.moveRight();return}if(i.keyCode===aWe){i.preventDefault(),t.moveLeft();return}if(gWe[i.keyCode]){i.preventDefault();return}MK(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:jS,fn:n}]}function OWe(t){const e=S.useRef(mWe),n=xt(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==RK)return;const o=t.findClosestDraggableId(s);if(!o)return;const a=t.tryGetLock(o,u,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const c=a.snapLift();e.current();function u(){l||je(),l=!1,e.current(),r()}e.current=ls(window,yWe(c,u),{capture:!0,passive:!1})}}),[t]),r=We(function(){const s={passive:!1,capture:!0};e.current=ls(window,[n],s)},[n]);Fi(function(){return r(),function(){e.current()}},[r])}const UC={type:"IDLE"},bWe=120,xWe=.15;function wWe({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===mM&&n.preventDefault(),t()}},{eventName:jS,fn:t}]}function vWe({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:s,clientY:o}=r.touches[0],a={x:s,y:o};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&je();const s=r.touches[0];if(!s||!(s.force>=xWe))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&t();return}if(a){if(i.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:jS,fn:t}]}function SWe(t){const e=S.useRef(UC),n=S.useRef(Nc),r=We(function(){return e.current},[]),i=We(function(h){e.current=h},[]),s=xt(()=>({eventName:"touchstart",fn:function(h){if(h.defaultPrevented)return;const m=t.findClosestDraggableId(h);if(!m)return;const g=t.tryGetLock(m,a,{sourceEvent:h});if(!g)return;const y=h.touches[0],{clientX:O,clientY:b}=y,w={x:O,y:b};n.current(),d(g,w)}}),[t]),o=We(function(){const h={capture:!0,passive:!1};n.current=ls(window,[s],h)},[s]),a=We(()=>{const f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(UC),n.current(),o())},[o,i]),l=We(()=>{const f=e.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=We(function(){const h={capture:!0,passive:!1},m={cancel:l,completed:a,getPhase:r},g=ls(window,vWe(m),h),y=ls(window,wWe(m),h);n.current=function(){g(),y()}},[l,r,a]),u=We(function(){const h=r();h.type!=="PENDING"&&je();const m=h.actions.fluidLift(h.point);i({type:"DRAGGING",actions:m,hasMoved:!1})},[r,i]),d=We(function(h,m){r().type!=="IDLE"&&je();const g=setTimeout(u,bWe);i({type:"PENDING",point:m,actions:h,longPressTimerId:g}),c()},[c,r,i,u]);Fi(function(){return o(),function(){n.current();const m=r();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),i(UC))}},[r,o,i]),Fi(function(){return ls(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const kWe=["input","button","textarea","select","option","optgroup","video","audio"];function IK(t,e){if(e==null)return!1;if(kWe.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:IK(t,e.parentElement)}function $We(t,e){const n=e.target;return CS(n)?IK(t,n):!1}var CWe=t=>Hs(t.getBoundingClientRect()).center;function PWe(t){return t instanceof TK(t).Element}const jWe=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function DK(t,e){return t==null?null:t[jWe](e)?t:DK(t.parentElement,e)}function NWe(t,e){return t.closest?t.closest(e):DK(t,e)}function EWe(t){return`[${Jh.contextId}="${t}"]`}function _We(t,e){const n=e.target;if(!PWe(n))return null;const r=EWe(t),i=NWe(n,r);return!i||!CS(i)?null:i}function TWe(t,e){const n=_We(t,e);return n?n.getAttribute(Jh.draggableId):null}function AWe(t,e){const n=`[${DE.contextId}="${t}"]`,i=_K(document,n).find(s=>s.getAttribute(DE.id)===e);return!i||!CS(i)?null:i}function RWe(t){t.preventDefault()}function ux({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function LK({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!PK(e.getState(),r))}function MWe({lockAPI:t,contextId:e,store:n,registry:r,draggableId:i,forceSensorStop:s,sourceEvent:o}){if(!LK({lockAPI:t,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),c=AWe(e,l.descriptor.id);if(!c||o&&!l.options.canDragInteractiveElements&&$We(c,o))return null;const u=t.claim(s||Nc);let d="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function h(){return t.isActive(u)}function m(v,k){ux({expected:v,phase:d,isLockActive:h,shouldWarn:!0})&&n.dispatch(k())}const g=m.bind(null,"DRAGGING");function y(v){function k(){t.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(k(),je()),n.dispatch(Nqe(v.liftActionArgs)),d="DRAGGING";function $(C,N={shouldBlockNextClick:!1}){if(v.cleanup(),N.shouldBlockNextClick){const P=ls(window,[{eventName:"click",fn:RWe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}k(),n.dispatch(bK({reason:C}))}return{isActive:()=>ux({expected:"DRAGGING",phase:d,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:f,drop:C=>$("DROP",C),cancel:C=>$("CANCEL",C),...v.actions}}function O(v){const k=Oy(C=>{g(()=>OK({client:C}))});return{...y({liftActionArgs:{id:i,clientSelection:v,movementMode:"FLUID"},cleanup:()=>k.cancel(),actions:{move:k}}),move:k}}function b(){const v={moveUp:()=>g(Dqe),moveRight:()=>g(Fqe),moveDown:()=>g(Lqe),moveLeft:()=>g(Vqe)};return y({liftActionArgs:{id:i,clientSelection:CWe(c),movementMode:"SNAP"},cleanup:Nc,actions:v})}function w(){ux({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!0})&&t.release()}return{isActive:()=>ux({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:O,snapLift:b,abort:w}}const QWe=[pWe,OWe,SWe];function IWe({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:i}){const s=[...i?QWe:[],...r||[]],o=S.useState(()=>eWe())[0],a=We(function(y,O){ky(y)&&!ky(O)&&o.tryAbandon()},[o]);Fi(function(){let y=e.getState();return e.subscribe(()=>{const b=e.getState();a(y,b),y=b})},[o,e,a]),Fi(()=>o.tryAbandon,[o.tryAbandon]);const l=We(g=>LK({lockAPI:o,registry:n,store:e,draggableId:g}),[o,n,e]),c=We((g,y,O)=>MWe({lockAPI:o,registry:n,contextId:t,store:e,draggableId:g,forceSensorStop:y||null,sourceEvent:O&&O.sourceEvent?O.sourceEvent:null}),[t,o,n,e]),u=We(g=>TWe(t,g),[t]),d=We(g=>{const y=n.draggable.findById(g);return y?y.options:null},[n.draggable]),f=We(function(){o.isClaimed()&&(o.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(oM()))},[o,e]),h=We(()=>o.isClaimed(),[o]),m=xt(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:d,tryReleaseLock:f,isLockClaimed:h}),[l,c,u,d,f,h]);for(let g=0;g<s.length;g++)s[g](m)}const DWe=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};Ky.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),LWe=t=>({...Sy,...t.autoScrollerOptions,durationDampening:{...Sy.durationDampening,...t.autoScrollerOptions}});function Cm(t){return t.current||je(),t.current}function FWe(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:s}=t,o=S.useRef(null),a=AK(t),l=We(()=>DWe(a.current),[a]),c=We(()=>LWe(a.current),[a]),u=Y4e(e),d=K4e({contextId:e,text:s}),f=q4e(e,i),h=We(P=>{Cm(o).dispatch(P)},[]),m=xt(()=>_B({publishWhileDragging:_qe,updateDroppableScroll:Aqe,updateDroppableIsEnabled:Rqe,updateDroppableIsCombineEnabled:Mqe,collectionStarting:Tqe},h),[h]),g=U4e(),y=xt(()=>w4e(g,m),[g,m]),O=xt(()=>D4e({scrollWindow:v4e,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:c,..._B({move:OK},h)}),[y.scrollDroppable,h,c]),b=z4e(e),w=xt(()=>y4e({announce:u,autoScroller:O,dimensionMarshal:y,focusMarshal:b,getResponders:l,styleMarshal:f}),[u,O,y,b,l,f]);o.current=w;const x=We(()=>{const P=Cm(o);P.getState().phase!=="IDLE"&&P.dispatch(oM())},[]),v=We(()=>{const P=Cm(o).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),k=xt(()=>({isDragging:v,tryAbort:x}),[v,x]);n(k);const $=We(P=>PK(Cm(o).getState(),P),[]),C=We(()=>$u(Cm(o).getState()),[]),N=xt(()=>({marshal:y,focus:b,contextId:e,canLift:$,isMovementAllowed:C,dragHandleUsageInstructionsId:d,registry:g}),[e,y,d,b,$,C,g]);return IWe({contextId:e,store:w,registry:g,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),S.useEffect(()=>x,[x]),we.createElement(PS.Provider,{value:N},we.createElement(lBe,{context:hM,store:w},t.children))}function VWe(){return we.useId()}function FK(t){const e=VWe(),n=t.dragHandleUsageInstructions||ww.dragHandleUsageInstructions;return we.createElement(bBe,null,r=>we.createElement(FWe,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const aq={dragging:5e3,dropAnimating:4500},BWe=(t,e)=>e?xg.drop(e.duration):t?xg.snap:xg.fluid,qWe=(t,e)=>{if(t)return e?vy.opacity.drop:vy.opacity.combining},WWe=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function zWe(t){const n=t.dimension.client,{offset:r,combineWith:i,dropping:s}=t,o=!!i,a=WWe(t),l=!!s,c=l?QE.drop(r,o):QE.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:BWe(a,s),transform:c,opacity:qWe(o,l),zIndex:l?aq.dropAnimating:aq.dragging,pointerEvents:"none"}}function ZWe(t){return{transform:QE.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function UWe(t){return t.type==="DRAGGING"?zWe(t):ZWe(t)}function XWe(t,e,n=nr){const r=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=UJ(i,r),o=u0(s,n),a={client:s,tagName:e.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:t,placeholder:a,displaceBy:l,client:s,page:o}}function GWe(t){const e=pM("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=t,l=xt(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),c=We(h=>{const m=i();return m||je(),XWe(n,m,h)},[n,i]),u=xt(()=>({uniqueId:e,descriptor:n,options:l,getDimension:c}),[n,c,l,e]),d=S.useRef(u),f=S.useRef(!0);Fi(()=>(r.draggable.register(d.current),()=>r.draggable.unregister(d.current)),[r.draggable]),Fi(()=>{if(f.current){f.current=!1;return}const h=d.current;d.current=u,r.draggable.update(u,h)},[u,r.draggable])}var gM=we.createContext(null);function m0(t){const e=S.useContext(t);return e||je(),e}function YWe(t){t.preventDefault()}const HWe=t=>{const e=S.useRef(null),n=We((k=null)=>{e.current=k},[]),r=We(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:o}=m0(PS),{type:a,droppableId:l}=m0(gM),c=xt(()=>({id:t.draggableId,index:t.index,type:a,droppableId:l}),[t.draggableId,t.index,a,l]),{children:u,draggableId:d,isEnabled:f,shouldRespectForcePress:h,canDragInteractiveElements:m,isClone:g,mapped:y,dropAnimationFinished:O}=t;if(!g){const k=xt(()=>({descriptor:c,registry:o,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:h,isEnabled:f}),[c,o,r,m,h,f]);GWe(k)}const b=xt(()=>f?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:YWe}:null,[i,s,d,f]),w=We(k=>{y.type==="DRAGGING"&&y.dropping&&k.propertyName==="transform"&&Ky.flushSync(O)},[O,y]),x=xt(()=>{const k=UWe(y),$=y.type==="DRAGGING"&&y.dropping?w:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":d,style:k,onTransitionEnd:$},dragHandleProps:b}},[i,b,d,y,w,n]),v=xt(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return we.createElement(we.Fragment,null,u(x,y.snapshot,v))};var VK=(t,e)=>t===e,BK=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const JWe=t=>t.combine?t.combine.draggableId:null,KWe=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function eze(){const t=er((i,s)=>({x:i,y:s})),e=er((i,s,o=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null})),n=er((i,s,o,a,l=null,c=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:s,offset:i,dimension:o,forceShouldAnimate:u,snapshot:e(s,a,l,c,null)}}));return(i,s)=>{if(ky(i)){if(i.critical.draggable.id!==s.draggableId)return null;const o=i.current.client.offset,a=i.dimensions.draggables[s.draggableId],l=Li(i.impact),c=KWe(i.impact),u=i.forceShouldAnimate;return n(t(o.x,o.y),i.movementMode,a,s.isClone,l,c,u)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=i.dimensions.draggables[s.draggableId],c=o.result,u=c.mode,d=BK(c),f=JWe(c),m={duration:i.dropDuration,curve:lM.drop,moveTo:i.newHomeClientOffset,opacity:f?vy.opacity.drop:null,scale:f?vy.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:m,draggingOver:d,combineWith:f,mode:u,forceShouldAnimate:null,snapshot:e(u,a,d,f,m)}}}return null}}function qK(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const tze={mapped:{type:"SECONDARY",offset:nr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:qK(null)}};function nze(){const t=er((o,a)=>({x:o,y:a})),e=er(qK),n=er((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}})),r=o=>o?n(nr,o,!0):null,i=(o,a,l,c)=>{const u=l.displaced.visible[o],d=!!(c.inVirtualList&&c.effected[o]),f=SS(l),h=f&&f.draggableId===o?a:null;if(!u){if(!d)return r(h);if(l.displaced.invisible[o])return null;const y=_p(c.displacedBy.point),O=t(y.x,y.y);return n(O,h,!0)}if(d)return r(h);const m=l.displacedBy.point,g=t(m.x,m.y);return n(g,h,u.shouldAnimate)};return(o,a)=>{if(ky(o))return o.critical.draggable.id===a.draggableId?null:i(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const rze=()=>{const t=eze(),e=nze();return(r,i)=>t(r,i)||e(r,i)||tze},ize={dropAnimationFinished:xK},sze=zJ(rze,ize,null,{context:hM,areStatePropsEqual:VK})(HWe);function WK(t){return m0(gM).isUsingCloneFor===t.draggableId&&!t.isClone?null:we.createElement(sze,t)}function zK(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return we.createElement(WK,Nh({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const ZK=t=>e=>t===e,oze=ZK("scroll"),aze=ZK("auto"),lq=(t,e)=>e(t.overflowX)||e(t.overflowY),lze=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return lq(n,oze)||lq(n,aze)},cze=()=>!1,UK=t=>t==null?null:t===document.body?cze()?t:null:t===document.documentElement?null:lze(t)?t:UK(t.parentElement);var LE=t=>({x:t.scrollLeft,y:t.scrollTop});const XK=t=>t?window.getComputedStyle(t).position==="fixed"?!0:XK(t.parentElement):!1;var uze=t=>{const e=UK(t),n=XK(t);return{closestScrollable:e,isFixedOnPage:n}},dze=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:s,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:f,client:h}=a,m=kK({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:h,scrollSize:f,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:m,diff:{value:nr,displacement:nr}}}})(),c=i==="vertical"?tM:rK,u=Yh({page:o,withPlaceholder:null,axis:c,frame:l});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:e,client:s,page:o,frame:l,subject:u}};const fze=(t,e)=>{const n=XJ(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,i=n.paddingBox.left-e.scrollLeft,s=r+e.scrollHeight,o=i+e.scrollWidth,l=HR({top:r,right:o,bottom:s,left:i},n.border);return JR({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var hze=({ref:t,descriptor:e,env:n,windowScroll:r,direction:i,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const l=n.closestScrollable,c=fze(t,l),u=u0(c,r),d=(()=>{if(!l)return null;const h=XJ(l),m={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:h,page:u0(h,r),scroll:LE(l),scrollSize:m,shouldClipSubject:a}})();return dze({descriptor:e,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:c,page:u,closest:d})};const pze={passive:!1},mze={passive:!0};var cq=t=>t.shouldPublishImmediately?pze:mze;const dx=t=>t&&t.env.closestScrollable||null;function gze(t){const e=S.useRef(null),n=m0(PS),r=pM("droppable"),{registry:i,marshal:s}=n,o=AK(t),a=xt(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),l=S.useRef(a),c=xt(()=>er((x,v)=>{e.current||je();const k={x,y:v};s.updateDroppableScroll(a.id,k)}),[a.id,s]),u=We(()=>{const x=e.current;return!x||!x.env.closestScrollable?nr:LE(x.env.closestScrollable)},[]),d=We(()=>{const x=u();c(x.x,x.y)},[u,c]),f=xt(()=>Oy(d),[d]),h=We(()=>{const x=e.current,v=dx(x);if(x&&v||je(),x.scrollOptions.shouldPublishImmediately){d();return}f()},[f,d]),m=We((x,v)=>{e.current&&je();const k=o.current,$=k.getDroppableRef();$||je();const C=uze($),N={ref:$,descriptor:a,env:C,scrollOptions:v};e.current=N;const P=hze({ref:$,descriptor:a,env:C,windowScroll:x,direction:k.direction,isDropDisabled:k.isDropDisabled,isCombineEnabled:k.isCombineEnabled,shouldClipSubject:!k.ignoreContainerClipping}),R=C.closestScrollable;return R&&(R.setAttribute(rq.contextId,n.contextId),R.addEventListener("scroll",h,cq(N.scrollOptions))),P},[n.contextId,a,h,o]),g=We(()=>{const x=e.current,v=dx(x);return x&&v||je(),LE(v)},[]),y=We(()=>{const x=e.current;x||je();const v=dx(x);e.current=null,v&&(f.cancel(),v.removeAttribute(rq.contextId),v.removeEventListener("scroll",h,cq(x.scrollOptions)))},[h,f]),O=We(x=>{const v=e.current;v||je();const k=dx(v);k||je(),k.scrollTop+=x.y,k.scrollLeft+=x.x},[]),b=xt(()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:y,scroll:O}),[y,m,g,O]),w=xt(()=>({uniqueId:r,descriptor:a,callbacks:b}),[b,a,r]);Fi(()=>(l.current=w.descriptor,i.droppable.register(w),()=>{e.current&&y(),i.droppable.unregister(w)}),[b,a,y,w,s,i.droppable]),Fi(()=>{e.current&&s.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),Fi(()=>{e.current&&s.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function XC(){}const uq={width:0,height:0,margin:$Be},yze=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?uq:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},Oze=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=yze({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?xg.placeholder:null}},bze=t=>{const e=S.useRef(null),n=We(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:s,contextId:o}=t,[a,l]=S.useState(t.animate==="open");S.useEffect(()=>a?r!=="open"?(n(),l(!1),XC):e.current?XC:(e.current=setTimeout(()=>{e.current=null,l(!1)}),n):XC,[r,a,n]);const c=We(d=>{d.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),u=Oze({isAnimatingOpenOnMount:a,animate:t.animate,placeholder:t.placeholder});return we.createElement(t.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:c,ref:t.innerRef})};var xze=we.memo(bze);class wze extends we.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const vze=t=>{const e=S.useContext(PS);e||je();const{contextId:n,isMovementAllowed:r}=e,i=S.useRef(null),s=S.useRef(null),{children:o,droppableId:a,type:l,mode:c,direction:u,ignoreContainerClipping:d,isDropDisabled:f,isCombineEnabled:h,snapshot:m,useClone:g,updateViewportMaxScroll:y,getContainerForClone:O}=t,b=We(()=>i.current,[]),w=We((R=null)=>{i.current=R},[]);We(()=>s.current,[]);const x=We((R=null)=>{s.current=R},[]),v=We(()=>{r()&&y({maxScroll:CK()})},[r,y]);gze({droppableId:a,type:l,mode:c,direction:u,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:d,getDroppableRef:b});const k=xt(()=>we.createElement(wze,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:R,data:T,animate:A})=>we.createElement(xze,{placeholder:T,onClose:R,innerRef:x,animate:A,contextId:n,onTransitionEnd:v})),[n,v,t.placeholder,t.shouldAnimatePlaceholder,x]),$=xt(()=>({innerRef:w,placeholder:k,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,k,w]),C=g?g.dragging.draggableId:null,N=xt(()=>({droppableId:a,type:l,isUsingCloneFor:C}),[a,C,l]);function P(){if(!g)return null;const{dragging:R,render:T}=g,A=we.createElement(WK,{draggableId:R.draggableId,index:R.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(j,E)=>T(j,E,R));return Nf.createPortal(A,O())}return we.createElement(gM.Provider,{value:N},o($,m),P())};function Sze(){return document.body||je(),document.body}const dq={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Sze},GK=t=>{let e={...t},n;for(n in dq)t[n]===void 0&&(e={...e,[n]:dq[n]});return e},GC=(t,e)=>t===e.droppable.type,fq=(t,e)=>e.draggables[t.draggable.id],kze=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=er(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=er((s,o,a,l,c,u)=>{const d=c.descriptor.id;if(c.descriptor.droppableId===s){const m=u?{render:u,dragging:n(c.descriptor)}:null,g={isDraggingOver:a,draggingOverWith:a?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:m}}if(!o)return e;if(!l)return t;const h={isDraggingOver:a,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return(s,o)=>{const a=GK(o),l=a.droppableId,c=a.type,u=!a.isDropDisabled,d=a.renderClone;if(ky(s)){const f=s.critical;if(!GC(c,f))return e;const h=fq(f,s.dimensions),m=Li(s.impact)===l;return r(l,u,m,m,h,d)}if(s.phase==="DROP_ANIMATING"){const f=s.completed;if(!GC(c,f.critical))return e;const h=fq(f.critical,s.dimensions);return r(l,u,BK(f.result)===l,Li(f.impact)===l,h,d)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const f=s.completed;if(!GC(c,f.critical))return e;const h=Li(f.impact)===l,m=!!(f.impact.at&&f.impact.at.type==="COMBINE"),g=f.critical.droppable.id===l;return h?m?t:e:g?t:e}return e}},$ze={updateViewportMaxScroll:Iqe},Cze=zJ(kze,$ze,(t,e,n)=>({...GK(n),...t,...e}),{context:hM,areStatePropsEqual:VK})(vze);var YK=Cze;class HK{constructor(e,n){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.setState=r=>{var i,s,o;const a=this.state;this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(a)(r):r(a),(o=(s=this.options)==null?void 0:s.onUpdate)==null||o.call(s),this._flush()},this._flush=()=>{if(this._batching)return;const r=++this._flushing;this.listeners.forEach(i=>{this._flushing===r&&i()})},this.batch=r=>{if(this._batching)return r();this._batching=!0,r(),this._batching=!1,this._flush()},this.state=e,this.options=n}}function NS(t,e){return typeof t=="function"?t(e):t}function Pze(t,e){return yM(e).reduce((r,i)=>{if(typeof r<"u")return r[i]},t)}function YC(t,e,n){const r=yM(e);function i(s){if(!r.length)return NS(n,s);const o=r.shift();if(typeof o=="string")return typeof s=="object"?{...s,[o]:i(s[o])}:{[o]:i()};if(Array.isArray(s)&&o!==void 0){const a=s.slice(0,o);return[...a.length?a:new Array(o),i(s[o]),...s.slice(o+1)]}return[...new Array(o),i()]}return i(t)}function jze(t,e){const n=yM(e);function r(i){if(!i)return;if(n.length===1){const o=n[0];if(Array.isArray(i)&&typeof o=="number")return i.filter((c,u)=>u!==o);const{[o]:a,...l}=i;return l}const s=n.shift();if(typeof s=="string"&&typeof i=="object")return{...i,[s]:r(i[s])};if(typeof s=="number"&&Array.isArray(i)){if(s>=i.length)return i;const o=i.slice(0,s);return[...o.length?o:new Array(s),r(i[s]),...i.slice(s+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(t)}const Nze=/^(\d*)$/gm,Eze=/\.(\d*)\./gm,_ze=/^(\d*)\./gm,Tze=/\.(\d*$)/gm,Aze=/\.{2,}/gm,FE="__int__",fx=`${FE}$1`;function yM(t){if(typeof t!="string")throw new Error("Path must be a string.");return t.replaceAll("[",".").replaceAll("]","").replace(Nze,fx).replace(Eze,`.${fx}.`).replace(_ze,`${fx}.`).replace(Tze,`.${fx}`).replace(Aze,".").split(".").map(e=>e.indexOf(FE)===0?parseInt(e.substring(FE.length),10):e)}function Rze(t){return!(Array.isArray(t)&&t.length===0)}function VE(t,e){const{asyncDebounceMs:n}=e,{onChangeAsync:r,onBlurAsync:i,onSubmitAsync:s,onBlurAsyncDebounceMs:o,onChangeAsyncDebounceMs:a,onSubmitAsyncDebounceMs:l}=e.validators||{},c=n??0,u={cause:"change",validate:r,debounceMs:a??c},d={cause:"blur",validate:i,debounceMs:o??c},f={cause:"submit",validate:s,debounceMs:l??c};switch(t){case"submit":return[u,d,f];case"server":return[];case"blur":return[d];case"change":default:return[u]}}function BE(t,e){const{onChange:n,onBlur:r,onSubmit:i}=e.validators||{},s={cause:"change",validate:n},o={cause:"blur",validate:r},a={cause:"submit",validate:i},l={cause:"server",validate:()=>{}};switch(t){case"submit":return[s,o,a,l];case"server":return[l];case"blur":return[o,l];case"change":default:return[s,l]}}function HC(t){return{values:t.values??{},errors:t.errors??[],errorMap:t.errorMap??{},fieldMeta:t.fieldMeta??{},canSubmit:t.canSubmit??!0,isFieldsValid:t.isFieldsValid??!1,isFieldsValidating:t.isFieldsValidating??!1,isFormValid:t.isFormValid??!1,isFormValidating:t.isFormValidating??!1,isSubmitted:t.isSubmitted??!1,isSubmitting:t.isSubmitting??!1,isTouched:t.isTouched??!1,isPristine:t.isPristine??!0,isDirty:t.isDirty??!1,isValid:t.isValid??!1,isValidating:t.isValidating??!1,submissionAttempts:t.submissionAttempts??0,validationMetaMap:t.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}}}class Mze{constructor(e){var n;this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{const{onMount:r}=this.options.validators||{};if(!r)return;const i=this.runValidator({validate:r,value:{value:this.state.values,formApi:this},type:"validate"});i&&this.store.setState(s=>({...s,errorMap:{...s.errorMap,onMount:i}}))},this.update=r=>{if(!r)return;const i=this.options;this.options=r,this.store.batch(()=>{const s=r.defaultValues&&r.defaultValues!==i.defaultValues&&!this.state.isTouched,o=r.defaultState!==i.defaultState&&!this.state.isTouched;this.store.setState(()=>HC(Object.assign({},this.state,o?r.defaultState:{},s?{values:r.defaultValues}:{})))})},this.reset=()=>{const{fieldMeta:r}=this.state,i=this.resetFieldMeta(r);this.store.setState(()=>{var s;return HC({...this.options.defaultState,values:this.options.defaultValues??((s=this.options.defaultState)==null?void 0:s.values),fieldMeta:i})})},this.validateAllFields=async r=>{const i=[];return this.store.batch(()=>{Object.values(this.fieldInfo).forEach(o=>{if(!o.instance)return;const a=o.instance;i.push(Promise.resolve().then(()=>a.validate(r))),o.instance.state.meta.isTouched||o.instance.setMeta(l=>({...l,isTouched:!0}))})}),(await Promise.all(i)).flat()},this.validateSync=r=>{const i=BE(r,this.options);let s=!1;this.store.batch(()=>{for(const a of i){if(!a.validate)continue;const l=hq(this.runValidator({validate:a.validate,value:{value:this.state.values,formApi:this},type:"validate"})),c=hx(a.cause);this.state.errorMap[c]!==l&&this.store.setState(u=>({...u,errorMap:{...u.errorMap,[c]:l}})),l&&(s=!0)}});const o=hx("submit");return this.state.errorMap[o]&&r!=="submit"&&!s&&this.store.setState(a=>({...a,errorMap:{...a.errorMap,[o]:void 0}})),{hasErrored:s}},this.validateAsync=async r=>{const i=VE(r,this.options);this.state.isFormValidating||this.store.setState(a=>({...a,isFormValidating:!0}));const s=[];for(const a of i){if(!a.validate)continue;const l=hx(a.cause),c=this.state.validationMetaMap[l];c==null||c.lastAbortController.abort();const u=new AbortController;this.state.validationMetaMap[l]={lastAbortController:u},s.push(new Promise(async d=>{let f;try{f=await new Promise((m,g)=>{setTimeout(async()=>{if(u.signal.aborted)return m(void 0);try{m(await this.runValidator({validate:a.validate,value:{value:this.state.values,formApi:this,signal:u.signal},type:"validateAsync"}))}catch(y){g(y)}},a.debounceMs)})}catch(m){f=m}const h=hq(f);this.store.setState(m=>({...m,errorMap:{...m.errorMap,[hx(r)]:h}})),d(h)}))}let o=[];return s.length&&(o=await Promise.all(s)),this.store.setState(a=>({...a,isFormValidating:!1})),o.filter(Boolean)},this.validate=r=>{const{hasErrored:i}=this.validateSync(r);return i&&!this.options.asyncAlways?this.state.errors:this.validateAsync(r)},this.handleSubmit=async()=>{var r,i,s,o,a,l;if(this.store.setState(u=>({...u,isSubmitted:!1,submissionAttempts:u.submissionAttempts+1})),!this.state.canSubmit)return;this.store.setState(u=>({...u,isSubmitting:!0}));const c=()=>{this.store.setState(u=>({...u,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){c(),(i=(r=this.options).onSubmitInvalid)==null||i.call(r,{value:this.state.values,formApi:this});return}if(await this.validate("submit"),!this.state.isValid){c(),(o=(s=this.options).onSubmitInvalid)==null||o.call(s,{value:this.state.values,formApi:this});return}try{await((l=(a=this.options).onSubmit)==null?void 0:l.call(a,{value:this.state.values,formApi:this})),this.store.batch(()=>{this.store.setState(u=>({...u,isSubmitted:!0})),c()})}catch(u){throw c(),u}},this.getFieldValue=r=>Pze(this.state.values,r),this.getFieldMeta=r=>this.state.fieldMeta[r],this.getFieldInfo=r=>{var i;return(i=this.fieldInfo)[r]||(i[r]={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}})},this.setFieldMeta=(r,i)=>{this.store.setState(s=>({...s,fieldMeta:{...s.fieldMeta,[r]:NS(i,s.fieldMeta[r])}}))},this.resetFieldMeta=r=>Object.keys(r).reduce((i,s)=>{const o=s;return i[o]={isValidating:!1,isTouched:!1,isDirty:!1,isPristine:!0,touchedErrors:[],errors:[],errorMap:{}},i},{}),this.setFieldValue=(r,i,s)=>{const o=s==null?void 0:s.touch;this.store.batch(()=>{o&&this.setFieldMeta(r,a=>({...a,isTouched:!0,isDirty:!0})),this.store.setState(a=>({...a,values:YC(a.values,r,i)}))})},this.deleteField=r=>{this.store.setState(i=>{const s={...i};return s.values=jze(s.values,r),delete s.fieldMeta[r],s}),delete this.fieldInfo[r]},this.pushFieldValue=(r,i,s)=>this.setFieldValue(r,o=>[...Array.isArray(o)?o:[],i],s),this.insertFieldValue=(r,i,s,o)=>{this.setFieldValue(r,a=>a.map((l,c)=>c===i?s:l),o)},this.removeFieldValue=(r,i,s)=>{this.setFieldValue(r,o=>o.filter((a,l)=>l!==i),s)},this.swapFieldValues=(r,i,s)=>{this.setFieldValue(r,o=>{const a=o[i],l=o[s];return YC(YC(o,`${i}`,l),`${s}`,a)})},this.moveFieldValues=(r,i,s)=>{this.setFieldValue(r,o=>(o.splice(s,0,o.splice(i,1)[0]),o))},this.store=new HK(HC({...e==null?void 0:e.defaultState,values:(e==null?void 0:e.defaultValues)??((n=e==null?void 0:e.defaultState)==null?void 0:n.values),isFormValid:!0}),{onUpdate:()=>{var r,i;let{state:s}=this.store;const o=Object.values(s.fieldMeta),a=o.some(b=>b==null?void 0:b.isValidating),l=!o.some(b=>(b==null?void 0:b.errorMap)&&Rze(Object.values(b.errorMap).filter(Boolean))),c=o.some(b=>b==null?void 0:b.isTouched),u=o.some(b=>b==null?void 0:b.isDirty),d=!u,f=a||s.isFormValidating;s.errors=Object.values(s.errorMap).filter(b=>b!==void 0);const h=s.errors.length===0,m=l&&h,g=s.submissionAttempts===0&&!c||!f&&!s.isSubmitting&&m;s={...s,isFieldsValidating:a,isFieldsValid:l,isFormValid:h,isValid:m,canSubmit:g,isTouched:c,isPristine:d,isDirty:u},this.state=s,this.store.state=this.state;const y=((r=this.options.transform)==null?void 0:r.deps)??[];(y.length!==this.prevTransformArray.length||y.some((b,w)=>b!==this.prevTransformArray[w]))&&((i=this.options.transform)==null||i.fn(this),this.store.state=this.state,this.prevTransformArray=y)}}),this.state=this.store.state,this.update(e||{})}runValidator(e){const n=this.options.validatorAdapter;return n&&typeof e.validate!="function"?n()[e.type](e.value,e.validate):e.validate(e.value)}}function hq(t){if(t)return typeof t!="string"?"Invalid Form Values":t}function hx(t){switch(t){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}class Qze{constructor(e){this.options={},this.mount=()=>{const n=this.getInfo();n.instance=this;const r=this.form.store.subscribe(()=>{this.store.batch(()=>{const s=this.getValue(),o=this.getMeta();s!==this.state.value&&this.store.setState(a=>({...a,value:s})),o!==this.state.meta&&this.store.setState(a=>({...a,meta:o}))})});this.update(this.options);const{onMount:i}=this.options.validators||{};if(i){const s=this.runValidator({validate:i,value:{value:this.state.value,fieldApi:this},type:"validate"});s&&this.setMeta(o=>({...o,errorMap:{...o==null?void 0:o.errorMap,onMount:s}}))}return()=>{const s=this.options.preserveValue;r(),s||this.form.deleteField(this.name)}},this.update=n=>{var r;if(this.state.value===void 0){const i=(r=n.form.options.defaultValues)==null?void 0:r[n.name];n.defaultValue!==void 0?this.setValue(n.defaultValue):i!==void 0&&this.setValue(i)}this._getMeta()===void 0&&this.setMeta(this.state.meta),this.options=n},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(n,r)=>{this.form.setFieldValue(this.name,n,r),this.validate("change")},this._getMeta=()=>this.form.getFieldMeta(this.name),this.getMeta=()=>this._getMeta()??{isValidating:!1,isTouched:!1,isDirty:!1,isPristine:!0,touchedErrors:[],errors:[],errorMap:{},...this.options.defaultMeta},this.setMeta=n=>this.form.setFieldMeta(this.name,n),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=n=>this.form.pushFieldValue(this.name,n),this.insertValue=(n,r)=>this.form.insertFieldValue(this.name,n,r),this.removeValue=n=>this.form.removeFieldValue(this.name,n),this.swapValues=(n,r)=>this.form.swapFieldValues(this.name,n,r),this.getLinkedFields=n=>{const r=Object.values(this.form.fieldInfo),i=[];for(const s of r){if(!s.instance)continue;const{onChangeListenTo:o,onBlurListenTo:a}=s.instance.options.validators||{};n==="change"&&(o!=null&&o.includes(this.name))&&i.push(s.instance),n==="blur"&&(a!=null&&a.includes(this.name))&&i.push(s.instance)}return i},this.moveValue=(n,r)=>this.form.moveFieldValues(this.name,n,r),this.validateSync=n=>{const r=BE(n,this.options),s=this.getLinkedFields(n).reduce((l,c)=>{const u=BE(n,c.options);return u.forEach(d=>{d.field=c}),l.concat(u)},[]);let o=!1;this.form.store.batch(()=>{const l=(c,u)=>{const d=pq(c.runValidator({validate:u.validate,value:{value:c.getValue(),fieldApi:c},type:"validate"})),f=Pm(u.cause);c.state.meta.errorMap[f]!==d&&c.setMeta(h=>({...h,errorMap:{...h.errorMap,[Pm(u.cause)]:d}})),d&&(o=!0)};for(const c of r)c.validate&&l(this,c);for(const c of s)c.validate&&l(c.field,c)});const a=Pm("submit");return this.state.meta.errorMap[a]&&n!=="submit"&&!o&&this.setMeta(l=>({...l,errorMap:{...l.errorMap,[a]:void 0}})),{hasErrored:o}},this.validateAsync=async n=>{const r=VE(n,this.options),i=this.getLinkedFields(n),s=i.reduce((u,d)=>{const f=VE(n,d.options);return f.forEach(h=>{h.field=d}),u.concat(f)},[]);this.state.meta.isValidating||this.setMeta(u=>({...u,isValidating:!0}));for(const u of i)u.setMeta(d=>({...d,isValidating:!0}));const o=[],a=[],l=(u,d,f)=>{const h=Pm(d.cause),m=u.getInfo().validationMetaMap[h];m==null||m.lastAbortController.abort();const g=new AbortController;this.getInfo().validationMetaMap[h]={lastAbortController:g},f.push(new Promise(async y=>{let O;try{O=await new Promise((w,x)=>{setTimeout(async()=>{if(g.signal.aborted)return w(void 0);try{w(await this.runValidator({validate:d.validate,value:{value:u.getValue(),fieldApi:u,signal:g.signal},type:"validateAsync"}))}catch(v){x(v)}},d.debounceMs)})}catch(w){O=w}const b=pq(O);u.setMeta(w=>({...w,errorMap:{...w==null?void 0:w.errorMap,[Pm(n)]:b}})),y(b)}))};for(const u of r)u.validate&&l(this,u,o);for(const u of s)u.validate&&l(u.field,u,a);let c=[];(o.length||a.length)&&(c=await Promise.all(o),await Promise.all(a)),this.setMeta(u=>({...u,isValidating:!1}));for(const u of i)u.setMeta(d=>({...d,isValidating:!1}));return c.filter(Boolean)},this.validate=n=>{if(!this.state.meta.isTouched)return[];try{this.form.validate(n)}catch{}const{hasErrored:r}=this.validateSync(n);return r&&!this.options.asyncAlways?this.state.meta.errors:this.validateAsync(n)},this.handleChange=n=>{this.setValue(n,{touch:!0})},this.handleBlur=()=>{this.state.meta.isTouched||(this.setMeta(r=>({...r,isTouched:!0})),this.validate("change")),this.validate("blur")},this.form=e.form,this.name=e.name,e.defaultValue!==void 0&&this.form.setFieldValue(this.name,e.defaultValue),this.store=new HK({value:this.getValue(),meta:this._getMeta()??{isValidating:!1,isTouched:!1,isDirty:!1,isPristine:!0,touchedErrors:[],errors:[],errorMap:{},...e.defaultMeta}},{onUpdate:()=>{const n=this.store.state;n.meta.errors=Object.values(n.meta.errorMap).filter(r=>r!==void 0),n.meta.touchedErrors=n.meta.isTouched?n.meta.errors:[],n.meta.isPristine=!n.meta.isDirty,this.prevState=n,this.state=n}}),this.state=this.store.state,this.prevState=this.state,this.options=e}runValidator(e){const n=[this.form.options.validatorAdapter,this.options.validatorAdapter];for(const r of n)if(r&&typeof e.validate!="function")return r()[e.type](e.value,e.validate);return e.validate(e.value)}}function pq(t){if(t)return typeof t!="string"?"Invalid Form Values":t}function Pm(t){switch(t){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}function qE(t,e=n=>n){return eJ.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,Ize)}function Ize(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var JC,mq;function Dze(){return mq||(mq=1,JC=rT()),JC}var g0=Dze();const y0=typeof window<"u"?g0.useLayoutEffect:g0.useEffect;function JK(t){const[e]=g0.useState(()=>{const n=new Qze({...t,form:t.form,name:t.name});return n.Field=KK,n});return y0(e.mount,[e]),y0(()=>{e.update(t)}),qE(e.store,t.mode==="array"?n=>[n.meta,Object.keys(n.value).length]:void 0),e}function KK({children:t,...e}){const n=JK(e);return p.jsx(p.Fragment,{children:NS(t,n)})}function Lze(t){const[e]=g0.useState(()=>{const n=new Mze(t);return n.Field=function(i){return p.jsx(KK,{...i,form:n})},n.useField=r=>JK({...r,form:n}),n.useStore=r=>qE(n.store,r),n.Subscribe=r=>NS(r.children,qE(n.store,r.selector)),n});return y0(e.mount,[]),e.useStore(n=>n.isSubmitting),y0(()=>{e.update(t)}),e}var Fze=Object.create,OM=Object.defineProperty,Vze=Object.getOwnPropertyDescriptor,Bze=Object.getOwnPropertyNames,qze=Object.getPrototypeOf,Wze=Object.prototype.hasOwnProperty,D=(t,e)=>()=>(t&&(e=t(t=0)),e),Z=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),mo=(t,e)=>{for(var n in e)OM(t,n,{get:e[n],enumerable:!0})},zze=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Bze(e))!Wze.call(t,i)&&i!==n&&OM(t,i,{get:()=>e[i],enumerable:!(r=Vze(e,i))||r.enumerable});return t},Ee=(t,e,n)=>(n=t!=null?Fze(qze(t)):{},zze(e||!t||!t.__esModule?OM(n,"default",{value:t,enumerable:!0}):n,t));function wg(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var eee=D(()=>{"use client"});function ES(t,e,n){let r=S.useRef();return S.useEffect(()=>{let i=s=>{let{target:o}=s??{};if(Array.isArray(n)){let a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(l=>!!l&&!s.composedPath().includes(l))&&!a&&t()}else r.current&&!r.current.contains(o)&&t()};return WE.forEach(s=>document.addEventListener(s,i)),()=>{WE.forEach(s=>document.removeEventListener(s,i))}},[r,t,n]),r}var WE,Zze=D(()=>{"use client";WE=["mousedown","touchstart"]});function Uze(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function Xze(t,e){return typeof e=="boolean"?e:typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function Gze(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){let[r,i]=S.useState(n?e:Xze(t)),s=S.useRef();return S.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(t),i(s.current.matches),Uze(s.current,o=>i(o.matches))},[t]),r}var Yze=D(()=>{"use client"});function Hze(t,e){let n=S.useRef(!1);S.useEffect(()=>()=>{n.current=!1},[]),S.useEffect(()=>{if(n.current)return t();n.current=!0},e)}var Jze=D(()=>{"use client"});function Kze(t,e="body > :not(script)"){let n=wg(),r=Array.from(document.querySelectorAll(e)).map(i=>{var l;if((l=i==null?void 0:i.shadowRoot)!=null&&l.contains(t)||i.contains(t))return;let s=i.getAttribute("aria-hidden"),o=i.getAttribute("data-hidden"),a=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",n),s===null||s==="false"?i.setAttribute("aria-hidden","true"):!o&&!a&&i.setAttribute("data-hidden",s),{node:i,ariaHidden:o||null}});return()=>{r.forEach(i=>{!i||n!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}var e9e=D(()=>{"use client";eee()});function t9e(t){return t.style.display==="none"}function n9e(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let e=t;for(;e&&!(e===document.body||e.nodeType===11);){if(t9e(e))return!1;e=e.parentNode}return!0}function tee(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function zE(t){let e=t.nodeName.toLowerCase(),n=!Number.isNaN(tee(t));return(ree.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&n9e(t)}function nee(t){let e=tee(t);return(Number.isNaN(e)||e>=0)&&zE(t)}function r9e(t){return Array.from(t.querySelectorAll(bM)).filter(nee)}var ree,bM,iee=D(()=>{"use client";ree=/input|select|textarea|button|object/,bM="a, input, select, textarea, button, object, [tabindex]"});function i9e(t,e){let n=r9e(t);if(!n.length){e.preventDefault();return}let r=n[e.shiftKey?0:n.length-1],i=t.getRootNode(),s=r===i.activeElement||t===i.activeElement,o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(s=n.filter(l=>l.getAttribute("type")==="radio"&&l.getAttribute("name")===o.getAttribute("name")).includes(r)),!s)return;e.preventDefault();let a=n[e.shiftKey?n.length-1:0];a&&a.focus()}var s9e=D(()=>{"use client";iee()});function xM(t=!0){let e=S.useRef(),n=S.useRef(null),r=s=>{let o=s.querySelector("[data-autofocus]");if(!o){let a=Array.from(s.querySelectorAll(bM));o=a.find(nee)||a.find(zE)||null,!o&&zE(s)&&(o=s)}o&&o.focus({preventScroll:!0})},i=S.useCallback(s=>{if(t){if(s===null){n.current&&(n.current(),n.current=null);return}n.current=Kze(s),e.current!==s&&(s?(setTimeout(()=>{s.getRootNode()&&r(s)}),e.current=s):e.current=null)}},[t]);return S.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>r(e.current));let s=o=>{o.key==="Tab"&&e.current&&i9e(e.current,o)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s),n.current&&n.current()}},[t]),i}var o9e=D(()=>{"use client";e9e(),s9e(),iee()});function a9e(){let[,t]=S.useReducer(see,0);return t}var see,l9e=D(()=>{"use client";see=t=>(t+1)%1e6});function c9e(t=[]){let[e,n]=S.useState(t);return[e,{setState:n,append:(...r)=>n(i=>[...i,...r]),prepend:(...r)=>n(i=>[...r,...i]),insert:(r,...i)=>n(s=>[...s.slice(0,r),...i,...s.slice(r)]),pop:()=>n(r=>{let i=[...r];return i.pop(),i}),shift:()=>n(r=>{let i=[...r];return i.shift(),i}),apply:r=>n(i=>i.map((s,o)=>r(s,o))),applyWhere:(r,i)=>n(s=>s.map((o,a)=>r(o,a)?i(o,a):o)),remove:(...r)=>n(i=>i.filter((s,o)=>!r.includes(o))),reorder:({from:r,to:i})=>n(s=>{let o=[...s],a=s[r];return o.splice(r,1),o.splice(i,0,a),o}),swap:({from:r,to:i})=>n(s=>{let o=[...s],a=o[r],l=o[i];return o.splice(i,1,a),o.splice(r,1,l),o}),setItem:(r,i)=>n(s=>{let o=[...s];return o[r]=i,o}),setItemProp:(r,i,s)=>n(o=>{let a=[...o];return a[r]={...a[r],[i]:s},a}),filter:r=>{n(i=>i.filter(r))}}]}var u9e=D(()=>{"use client"});function gq(t,e,n){S.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}var d9e=D(()=>{"use client"});function f9e(t,e){return Gze("(prefers-reduced-motion: reduce)",t,e)}var h9e=D(()=>{"use client";Yze()});function _S(t=[!1,!0]){let[[e],n]=S.useReducer((r,i)=>{let s=i instanceof Function?i(r[0]):i,o=Math.abs(r.indexOf(s));return r.slice(o).concat(r.slice(0,o))},t);return[e,n]}var p9e=D(()=>{"use client"});function m9e(){let[t,e]=S.useState({width:0,height:0}),n=S.useCallback(()=>{e({width:window.innerWidth||0,height:window.innerHeight||0})},[]);return gq("resize",n,ZE),gq("orientationchange",n,ZE),S.useEffect(n,[]),t}var ZE,g9e=D(()=>{"use client";d9e(),ZE={passive:!0}});function y9e(t){let e=t.toLowerCase().split("+").map(s=>s.trim()),n={alt:e.includes("alt"),ctrl:e.includes("ctrl"),meta:e.includes("meta"),mod:e.includes("mod"),shift:e.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=e.find(s=>!r.includes(s));return{...n,key:i}}function O9e(t,e){let{alt:n,ctrl:r,meta:i,mod:s,shift:o,key:a}=t,{altKey:l,ctrlKey:c,metaKey:u,shiftKey:d,key:f}=e;if(n!==l)return!1;if(s){if(!c&&!u)return!1}else if(r!==c||i!==u)return!1;return o!==d?!1:!!(a&&(f.toLowerCase()===a.toLowerCase()||e.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function oee(t){return e=>O9e(y9e(t),e)}function b9e(t){return e=>{let n="nativeEvent"in e?e.nativeEvent:e;t.forEach(([r,i,s={preventDefault:!0}])=>{oee(r)(n)&&(s.preventDefault&&e.preventDefault(),i(n))})}}var aee=D(()=>{"use client"});function x9e(t,e,n=!1){return t.target instanceof HTMLElement?(n||!t.target.isContentEditable)&&!e.includes(t.target.tagName):!0}function wM(t,e=["INPUT","TEXTAREA","SELECT"],n=!1){S.useEffect(()=>{let r=i=>{t.forEach(([s,o,a={preventDefault:!0}])=>{oee(s)(i)&&x9e(i,e,n)&&(a.preventDefault&&i.preventDefault(),o(i))})};return document.documentElement.addEventListener("keydown",r),()=>document.documentElement.removeEventListener("keydown",r)},[t])}var w9e=D(()=>{"use client";aee()});function Dl(t=!1,e){let{onOpen:n,onClose:r}={},[i,s]=S.useState(t),o=S.useCallback(()=>{s(c=>c||(n==null||n(),!0))},[n]),a=S.useCallback(()=>{s(c=>c&&(r==null||r(),!1))},[r]),l=S.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:l}]}var v9e=D(()=>{"use client"}),en=D(()=>{eee(),Zze(),Jze(),o9e(),l9e(),u9e(),h9e(),p9e(),g9e(),w9e(),v9e(),aee()});function S9e(t){let e=t,n=!1,r=new Set;return{getState(){return e},updateState(i){e=typeof i=="function"?i(e):i},setState(i){this.updateState(i),r.forEach(s=>s(e))},initialize(i){n||(e=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function k9e(t){return S.useSyncExternalStore(t.subscribe,()=>t.getState(),()=>t.getState())}var $9e=D(()=>{"use client"}),C9e=D(()=>{$9e()});function P9e(t,e,n){let r=[],i=[],s={};for(let o of t){let a=o.position||e;s[a]=s[a]||0,s[a]+=1,s[a]<=n?i.push(o):r.push(o)}return{notifications:i,queue:r}}function Rp(t,e){let n=t.getState(),r=e([...n.notifications,...n.queue]),i=P9e(r,n.defaultPosition,n.limit);t.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function j9e(t,e=Hc){let n=t.id||wg();return Rp(e,r=>t.id&&r.some(i=>i.id===t.id)?r:[...r,{...t,id:n}]),n}function lee(t,e=Hc){return Rp(e,n=>n.filter(r=>{var i;return r.id===t?((i=r.onClose)==null||i.call(r,r),!1):!0})),t}function N9e(t,e=Hc){return Rp(e,n=>n.map(r=>r.id===t.id?{...r,...t}:r)),t.id}function E9e(t=Hc){Rp(t,()=>[])}function _9e(t=Hc){Rp(t,e=>e.slice(0,t.getState().limit))}var yq,Hc,cee,qa,uee=D(()=>{"use client";en(),C9e(),yq=()=>S9e({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Hc=yq(),cee=(t=Hc)=>k9e(t),qa={show:j9e,hide:lee,update:N9e,clean:E9e,cleanQueue:_9e,updateState:Rp}});function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(null,arguments)}var T9e=D(()=>{});function dee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var fee=D(()=>{});function XE(t,e){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},XE(t,e)}var A9e=D(()=>{});function hee(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,XE(t,e)}var pee=D(()=>{A9e()}),GE,R9e=D(()=>{GE={disabled:!1}}),$y,mee=D(()=>{$y=we.createContext(null)}),gee,M9e=D(()=>{gee=function(t){return t.scrollTop}});function hf(){}var pf,Jl,Kl,yu,px,Po,yee,Q9e=D(()=>{fee(),pee(),R9e(),mee(),M9e(),pf="unmounted",Jl="exited",Kl="entering",yu="entered",px="exiting",Po=function(t){hee(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Jl,s.appearStatus=Kl):l=yu:r.unmountOnExit||r.mountOnEnter?l=pf:l=Jl,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,i){var s=r.in;return s&&i.status===pf?{status:Jl}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var i=null;if(r!==this.props){var s=this.state.status;this.props.in?s!==Kl&&s!==yu&&(i=Kl):(s===Kl||s===yu)&&(i=px)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,i,s,o;return i=s=o=r,r!=null&&typeof r!="number"&&(i=r.exit,s=r.enter,o=r.appear!==void 0?r.appear:s),{exit:i,enter:s,appear:o}},n.updateStatus=function(r,i){if(r===void 0&&(r=!1),i!==null)if(this.cancelNextCallback(),i===Kl){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Nf.findDOMNode(this);s&&gee(s)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Jl&&this.setState({status:pf})},n.performEnter=function(r){var i=this,s=this.props.enter,o=this.context?this.context.isMounting:r,a=this.props.nodeRef?[o]:[Nf.findDOMNode(this),o],l=a[0],c=a[1],u=this.getTimeouts(),d=o?u.appear:u.enter;if(!r&&!s||GE.disabled){this.safeSetState({status:yu},function(){i.props.onEntered(l)});return}this.props.onEnter(l,c),this.safeSetState({status:Kl},function(){i.props.onEntering(l,c),i.onTransitionEnd(d,function(){i.safeSetState({status:yu},function(){i.props.onEntered(l,c)})})})},n.performExit=function(){var r=this,i=this.props.exit,s=this.getTimeouts(),o=this.props.nodeRef?void 0:Nf.findDOMNode(this);if(!i||GE.disabled){this.safeSetState({status:Jl},function(){r.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:px},function(){r.props.onExiting(o),r.onTransitionEnd(s.exit,function(){r.safeSetState({status:Jl},function(){r.props.onExited(o)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,i){i=this.setNextCallback(i),this.setState(r,i)},n.setNextCallback=function(r){var i=this,s=!0;return this.nextCallback=function(o){s&&(s=!1,i.nextCallback=null,r(o))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(r,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:Nf.findDOMNode(this),o=r==null&&!this.props.addEndListener;if(!s||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],l=a[0],c=a[1];this.props.addEndListener(l,c)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===pf)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var o=dee(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return we.createElement($y.Provider,{value:null},typeof s=="function"?s(r,o):we.cloneElement(we.Children.only(s),o))},e}(we.Component),Po.contextType=$y,Po.propTypes={},Po.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:hf,onEntering:hf,onEntered:hf,onExit:hf,onExiting:hf,onExited:hf},Po.UNMOUNTED=pf,Po.EXITED=Jl,Po.ENTERING=Kl,Po.ENTERED=yu,Po.EXITING=px,yee=Po});function I9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var D9e=D(()=>{});function vM(t,e){var n=function(i){return e&&S.isValidElement(i)?e(i):i},r=Object.create(null);return t&&S.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function L9e(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Xu(t,e,n){return n[e]!=null?n[e]:t.props[e]}function F9e(t,e){return vM(t.children,function(n){return S.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Xu(n,"appear",t),enter:Xu(n,"enter",t),exit:Xu(n,"exit",t)})})}function V9e(t,e,n){var r=vM(t.children),i=L9e(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(S.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=S.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=S.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Xu(o,"exit",t),enter:Xu(o,"enter",t)}):!l&&a&&!u?i[s]=S.cloneElement(o,{in:!1}):l&&a&&S.isValidElement(c)&&(i[s]=S.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Xu(o,"exit",t),enter:Xu(o,"enter",t)}))}}),i}var B9e=D(()=>{}),Oq,bq,mx,Cu,q9e=D(()=>{fee(),T9e(),D9e(),pee(),mee(),B9e(),Oq=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},bq={component:"div",childFactory:function(t){return t}},mx=function(t){hee(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(I9e(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,i){var s=i.children,o=i.handleExited,a=i.firstRender;return{children:a?F9e(r,o):V9e(r,s,o),firstRender:!1}},n.handleExited=function(r,i){var s=vM(this.props.children);r.key in s||(r.props.onExited&&r.props.onExited(i),this.mounted&&this.setState(function(o){var a=UE({},o.children);return delete a[r.key],{children:a}}))},n.render=function(){var r=this.props,i=r.component,s=r.childFactory,o=dee(r,["component","childFactory"]),a=this.state.contextValue,l=Oq(this.state.children).map(s);return delete o.appear,delete o.enter,delete o.exit,i===null?we.createElement($y.Provider,{value:a},l):we.createElement($y.Provider,{value:a},we.createElement(i,o,l))},e}(we.Component),mx.propTypes={},mx.defaultProps=bq,Cu=mx}),W9e=D(()=>{q9e(),Q9e()});function z9e(t,e){return t.reduce((n,r)=>(n[r.position||e].push(r),n),SM.reduce((n,r)=>(n[r]=[],n),{}))}var SM,Z9e=D(()=>{"use client";SM=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"]});function U9e({state:t,maxHeight:e,position:n,transitionDuration:r}){let[i,s]=n.split("-"),o=s==="center"?`${i}-center`:s,a={opacity:0,maxHeight:e,transform:YE[o],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:Oee[o]},c={opacity:0,maxHeight:0,transform:YE[o]};return{...a,...{entering:l,entered:l,exiting:c,exited:c}[t]}}var YE,Oee,X9e=D(()=>{"use client";YE={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},Oee={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"}});function G9e(t,e){return typeof e=="number"?e:e===!1||t===!1?!1:t}var Y9e=D(()=>{"use client"}),HE,H9e=D(()=>{"use client";Y9e(),HE=S.forwardRef(({data:t,onHide:e,autoClose:n,...r},i)=>{let{autoClose:s,message:o,...a}=t,l=G9e(n,t.autoClose),c=S.useRef(),u=()=>window.clearTimeout(c.current),d=()=>{e(t.id),u()},f=()=>{typeof l=="number"&&(c.current=window.setTimeout(d,l))};return S.useEffect(()=>{var h;(h=t.onOpen)==null||h.call(t,t)},[]),S.useEffect(()=>(f(),u),[l]),p.jsx(cA,{...r,...a,onClose:d,ref:i,onMouseEnter:u,onMouseLeave:f,children:o})}),HE.displayName="@mantine/notifications/NotificationContainer"}),JE,J9e=D(()=>{"use client";JE={root:"m_b37d9ac7",notification:"m_5ed0edd0"}}),xq,wq,vq,To,K9e=D(()=>{"use client";W9e(),en(),Z9e(),X9e(),H9e(),uee(),J9e(),xq=yee,wq={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:co("overlay"),store:Hc,withinPortal:!0},vq=(t,{zIndex:e,containerWidth:n})=>({root:{"--notifications-z-index":e==null?void 0:e.toString(),"--notifications-container-width":be(n)}}),To=Ie((t,e)=>{let n=Ce("Notifications",wq,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,position:c,autoClose:u,transitionDuration:d,containerWidth:f,notificationMaxHeight:h,limit:m,zIndex:g,store:y,portalProps:O,withinPortal:b,...w}=n,x=Zi(),v=cee(y),k=a9e(),$=f9e(),C=S.useRef({}),N=S.useRef(0),P=x.respectReducedMotion&&$?1:d,R=it({name:"Notifications",classes:JE,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:vq});S.useEffect(()=>{y==null||y.updateState(j=>({...j,limit:m||5,defaultPosition:c}))},[m,c]),Hze(()=>{v.notifications.length>N.current&&setTimeout(()=>k(),0),N.current=v.notifications.length},[v.notifications]);let T=z9e(v.notifications,c),A=SM.reduce((j,E)=>(j[E]=T[E].map(({style:_,...Q})=>p.jsx(xq,{timeout:P,onEnter:()=>C.current[Q.id].offsetHeight,nodeRef:{current:C.current[Q.id]},children:M=>p.jsx(HE,{ref:L=>{C.current[Q.id]=L},data:Q,onHide:L=>lee(L,y),autoClose:u,...R("notification",{style:{...U9e({state:M,position:E,transitionDuration:P,maxHeight:h}),..._}})})},Q.id)),j),{});return p.jsxs(Vd,{withinPortal:b,...O,children:[p.jsx(Ae,{...R("root"),"data-position":"top-center",ref:e,...w,children:p.jsx(Cu,{children:A["top-center"]})}),p.jsx(Ae,{...R("root"),"data-position":"top-left",...w,children:p.jsx(Cu,{children:A["top-left"]})}),p.jsx(Ae,{...R("root"),"data-position":"top-right",...w,children:p.jsx(Cu,{children:A["top-right"]})}),p.jsx(Ae,{...R("root"),"data-position":"bottom-right",...w,children:p.jsx(Cu,{children:A["bottom-right"]})}),p.jsx(Ae,{...R("root"),"data-position":"bottom-left",...w,children:p.jsx(Cu,{children:A["bottom-left"]})}),p.jsx(Ae,{...R("root"),"data-position":"bottom-center",...w,children:p.jsx(Cu,{children:A["bottom-center"]})})]})}),To.classes=JE,To.displayName="@mantine/notifications/Notifications",To.show=qa.show,To.hide=qa.hide,To.update=qa.update,To.clean=qa.clean,To.cleanQueue=qa.cleanQueue,To.updateState=qa.updateState}),bee=D(()=>{uee(),K9e()}),xee,eZe=D(()=>{xee={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}}}),tn,dn=D(()=>{eZe(),tn=(t,e,n,r)=>{let i=S.forwardRef(({color:s="currentColor",size:o=24,stroke:a=2,title:l,className:c,children:u,...d},f)=>S.createElement("svg",{ref:f,...xee[t],width:o,height:o,className:["tabler-icon",`tabler-icon-${e}`,c].join(" "),...t==="filled"?{fill:s}:{strokeWidth:a,stroke:s},...d},[l&&S.createElement("title",{key:"svg-title"},l),...r.map(([h,m])=>S.createElement(h,m)),...Array.isArray(u)?u:[u]]));return i.displayName=`${n}`,i}}),TO,tZe=D(()=>{dn(),TO=tn("outline","align-justified","IconAlignJustified",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l12 0",key:"svg-2"}]])}),kM,nZe=D(()=>{dn(),kM=tn("outline","bolt","IconBolt",[["path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11",key:"svg-0"}]])}),wee,rZe=D(()=>{dn(),wee=tn("outline","box","IconBox",[["path",{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12l0 9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}]])}),vee,iZe=D(()=>{dn(),vee=tn("outline","bug","IconBug",[["path",{d:"M9 9v-1a3 3 0 0 1 6 0v1",key:"svg-0"}],["path",{d:"M8 9h8a6 6 0 0 1 1 3v3a5 5 0 0 1 -10 0v-3a6 6 0 0 1 1 -3",key:"svg-1"}],["path",{d:"M3 13l4 0",key:"svg-2"}],["path",{d:"M17 13l4 0",key:"svg-3"}],["path",{d:"M12 20l0 -6",key:"svg-4"}],["path",{d:"M4 19l3.35 -2",key:"svg-5"}],["path",{d:"M20 19l-3.35 -2",key:"svg-6"}],["path",{d:"M4 7l3.75 2.4",key:"svg-7"}],["path",{d:"M20 7l-3.75 2.4",key:"svg-8"}]])}),$M,sZe=D(()=>{dn(),$M=tn("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]])}),CM,oZe=D(()=>{dn(),CM=tn("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]])}),AO,aZe=D(()=>{dn(),AO=tn("outline","circles-relation","IconCirclesRelation",[["path",{d:"M9.183 6.117a6 6 0 1 0 4.511 3.986",key:"svg-0"}],["path",{d:"M14.813 17.883a6 6 0 1 0 -4.496 -3.954",key:"svg-1"}]])}),uu,lZe=D(()=>{dn(),uu=tn("outline","database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]])}),See,cZe=D(()=>{dn(),See=tn("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]])}),PM,uZe=D(()=>{dn(),PM=tn("outline","grip-vertical","IconGripVertical",[["path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]])}),kee,dZe=D(()=>{dn(),kee=tn("outline","hierarchy-2","IconHierarchy2",[["path",{d:"M10 3h4v4h-4z",key:"svg-0"}],["path",{d:"M3 17h4v4h-4z",key:"svg-1"}],["path",{d:"M17 17h4v4h-4z",key:"svg-2"}],["path",{d:"M7 17l5 -4l5 4",key:"svg-3"}],["path",{d:"M12 7l0 6",key:"svg-4"}]])}),$ee,fZe=D(()=>{dn(),$ee=tn("outline","home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]])}),Cee,hZe=D(()=>{dn(),Cee=tn("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]])}),Pee,pZe=D(()=>{dn(),Pee=tn("outline","key-off","IconKeyOff",[["path",{d:"M10.17 6.159l2.316 -2.316a2.877 2.877 0 0 1 4.069 0l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.33 2.33",key:"svg-0"}],["path",{d:"M14.931 14.948a2.863 2.863 0 0 1 -1.486 -.79l-.301 -.302l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.863 2.863 0 0 1 -.794 -1.504",key:"svg-1"}],["path",{d:"M15 9h.01",key:"svg-2"}],["path",{d:"M3 3l18 18",key:"svg-3"}]])}),jee,mZe=D(()=>{dn(),jee=tn("outline","lock-access-off","IconLockAccessOff",[["path",{d:"M4 8v-2c0 -.554 .225 -1.055 .588 -1.417",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2c.55 0 1.05 -.222 1.41 -.582",key:"svg-3"}],["path",{d:"M15 11a1 1 0 0 1 1 1m-.29 3.704a1 1 0 0 1 -.71 .296h-6a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h2",key:"svg-4"}],["path",{d:"M10 11v-1m1.182 -2.826a2 2 0 0 1 2.818 1.826v1",key:"svg-5"}],["path",{d:"M3 3l18 18",key:"svg-6"}]])}),jM,gZe=D(()=>{dn(),jM=tn("outline","minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]])}),NM,yZe=D(()=>{dn(),NM=tn("outline","photo","IconPhoto",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]])}),RO,OZe=D(()=>{dn(),RO=tn("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]])}),Ed,bZe=D(()=>{dn(),Ed=tn("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]])}),Nee,xZe=D(()=>{dn(),Nee=tn("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]])}),Eee,wZe=D(()=>{dn(),Eee=tn("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]])}),TS,vZe=D(()=>{dn(),TS=tn("outline","world","IconWorld",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h16.8",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3a17 17 0 0 1 0 18",key:"svg-4"}]])}),EM,SZe=D(()=>{dn(),EM=tn("filled","bolt-filled","IconBoltFilled",[["path",{d:"M13 2l.018 .001l.016 .001l.083 .005l.011 .002h.011l.038 .009l.052 .008l.016 .006l.011 .001l.029 .011l.052 .014l.019 .009l.015 .004l.028 .014l.04 .017l.021 .012l.022 .01l.023 .015l.031 .017l.034 .024l.018 .011l.013 .012l.024 .017l.038 .034l.022 .017l.008 .01l.014 .012l.036 .041l.026 .027l.006 .009c.12 .147 .196 .322 .218 .513l.001 .012l.002 .041l.004 .064v6h5a1 1 0 0 1 .868 1.497l-.06 .091l-8 11c-.568 .783 -1.808 .38 -1.808 -.588v-6h-5a1 1 0 0 1 -.868 -1.497l.06 -.091l8 -11l.01 -.013l.018 -.024l.033 -.038l.018 -.022l.009 -.008l.013 -.014l.04 -.036l.028 -.026l.008 -.006a1 1 0 0 1 .402 -.199l.011 -.001l.027 -.005l.074 -.013l.011 -.001l.041 -.002z",key:"svg-0"}]])}),Mn=D(()=>{tZe(),nZe(),rZe(),iZe(),sZe(),oZe(),aZe(),lZe(),cZe(),uZe(),dZe(),fZe(),hZe(),pZe(),mZe(),gZe(),yZe(),OZe(),bZe(),xZe(),wZe(),vZe(),SZe()});function lr(t,e,n){return cve(t,(r,i)=>c1(e,r)?q9(e,r):i.json({success:!1,errors:[...Jy(e,r)]},400))}var kZe=D(()=>{}),Nn,Lf,_ee=D(()=>{Nn=class extends Error{constructor(e,n){super(e);Y(this,"code",400);Y(this,"name","Exception");Y(this,"_context");n&&(this.code=n)}context(e){return this._context=e,this}toJSON(){return{error:this.message,type:this.name,context:this._context}}},Lf=class Tee extends Error{constructor(e,n,r){super(e),this.details=n,this.type=r}static with(e,n,r){throw new Tee(e,n,r)}toJSON(){return{type:this.type??"unknown",message:this.message,details:this.details}}}});function Mp(){try{return __isDev==="1"||__isDev===1}catch{return!1}}var Aee=D(()=>{}),_M,$Ze=D(()=>{_M={server:{default_port:1337,assets_path:"/"},data:{default_primary_field:"id"}}});function xs(t){return!t||t.length===0?t:t.charAt(0).toUpperCase()+t.slice(1)}function CZe(t,e=" "){return!t||t.length===0?t:t.split(e).map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(e)}function PZe(t,e=!1){let n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"+(e?"!@#$%^&*()_+{}:\"<>?|[];',./`~":""),r="";for(let i=0;i<t;i++)r+=n[Math.floor(Math.random()*n.length)];return r}function Kh(t){return!t||t.length===0?t:t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}function KE(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function jZe(t){return/^[a-z]+(_[a-z]+)*$/.test(t)?"snake_case":/^[A-Z][a-zA-Z]*$/.test(t)?"PascalCase":/^[a-z][a-zA-Z]*$/.test(t)?"camelCase":/^[a-z]+(-[a-z]+)*$/.test(t)?"kebab-case":/^[A-Z]+(_[A-Z]+)*$/.test(t)?"SCREAMING_SNAKE_CASE":"unknown"}function NZe(t){switch(jZe(t)){case"snake_case":return Kh(t);case"PascalCase":return KC(KE(t));case"camelCase":return xs(KC(KE(t)));case"kebab-case":return KC(t);case"SCREAMING_SNAKE_CASE":return Kh(t.toLowerCase());case"unknown":return t}}function KC(t){return t.split("-").map(xs).join(" ")}function Qp(t,e=" "){return CZe(Kh(t),e)}function EZe(t,e){return e instanceof RegExp?e.test(t):typeof e=="string"&&e.startsWith("/")?new RegExp(e).test(t):typeof e=="string"?t.startsWith(e):!1}var Ree=D(()=>{});function e2(t,e=[]){return t===null||typeof t!="object"?t:Array.isArray(t)?t.map(n=>e2(n,e)):Object.keys(t).reduce((n,r)=>{let i=e.includes(r)?r:KE(r);return n[i]=e2(t[r],e),n},{})}function Mee(t,e){let n={};for(let r in t)e.some(i=>r.includes(i))||(typeof t[r]=="object"&&t[r]!==null&&!Array.isArray(t[r])?n[r]=Mee(t[r],e):n[r]=t[r]);return n}function Yt(t,e){return Object.entries(t).reduce((n,[r,i])=>{let s=e(i,r);return typeof s<"u"&&(n[r]=s),n},{})}function Sq(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Qee(t,e=""){let n=[];for(let r in t){let i=e?`${e}.${r}`:r;n.push(i),typeof t[r]=="object"&&t[r]!==null&&(n=n.concat(Qee(t[r],i)))}return n}function Iee(t){let e=1;for(let n in t)if(typeof t[n]=="object"){let r=Iee(t[n])+1;e=Math.max(r,e)}return e}function Cy(t){return t&&Object.entries(t).reduce((e,[n,r])=>{if(r&&Array.isArray(r)&&r.some(i=>typeof i=="object")){let i=r.map(Cy);i.length>0&&(e[n]=i)}else if(r&&typeof r=="object"&&!Array.isArray(r)){let i=Cy(r);Object.keys(i).length>0&&(e[n]=i)}else r!==""&&r!==null&&r!==void 0&&(e[n]=r);return e},{})}var MO,TM=D(()=>{Ree(),MO=Yt});function _Ze(t){return new xve.XMLParser().parse(t)}var Dee=D(()=>{}),Lee,TZe=D(()=>{var t,e;TM(),Dee(),Lee=(e=class extends Sve{constructor(r,i){super(r);Ne(this,t);Se(this,t,i??{responseType:"json"})}convertParams(r){switch(F(this,t).convertParams){case"pascalToKebab":return e2(r);default:return r}}getUrl(r="/",i={}){let s=new URL(r),o=this.convertParams(i);return Object.entries(o).forEach(([a,l])=>{s.searchParams.append(a,l)}),s.toString()}updateKeysRecursively(r,i){return r==null?r:Array.isArray(r)?r.map(s=>this.updateKeysRecursively(s,i)):typeof r=="object"?Object.keys(r).reduce((s,o)=>{let a=o;return o.indexOf(" ")===-1&&(a=o.charAt(0)[i]()+o.slice(1)),s[a]=this.updateKeysRecursively(r[o],i),s},{}):r}async fetchJson(r,i){let s=await this.fetch(r,i);if(F(this,t).responseType==="xml"){if(!s.ok){let l=await s.text();throw new Error(l)}let a=await s.text();return _Ze(a)}if(!s.ok){let a=await s.json();throw new Error(a.message)}let o=await s.json();return F(this,t).responseKeysToUpper?this.updateKeysRecursively(o,"toUpperCase"):o}},t=new WeakMap,e)}),t2,AZe=D(()=>{_ee(),t2=class{constructor(t={},e={}){Y(this,"engine",new TA);this.variables=t,this.options=e}another(){return 1}static hasMarkup(t){let e="";if(Array.isArray(t)||typeof t=="object"){if(!["Array","Object"].includes(t.constructor.name))return!1;e=JSON.stringify(t)}else e=String(t);return["{{","{%","{#","{:"].some(n=>e.includes(n))}async render(t){try{if(typeof t=="string")return await this.renderString(t);if(Array.isArray(t))return await Promise.all(t.map(e=>this.render(e)));if(typeof t=="object")return await this.renderObject(t)}catch(e){if(e instanceof ou){let n={name:e.name,token:{kind:e.token.kind,input:e.token.input,begin:e.token.begin,end:e.token.end}};throw new Lf(e.message,n,"liquid")}throw e}throw new Error("Invalid template type")}async renderString(t){return this.engine.parseAndRender(t,this.variables,this.options)}async renderObject(t){let e={};for(let[n,r]of Object.entries(t)){let i=n;this.options.renderKeys&&(i=await this.renderString(n)),e[i]=await this.render(r)}return e}}});function RZe(){return(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))!==-1?"Opera":navigator.userAgent.indexOf("Edg")!==-1?"Edge":navigator.userAgent.indexOf("Chrome")!==-1?"Chrome":navigator.userAgent.indexOf("Safari")!==-1?"Safari":navigator.userAgent.indexOf("Firefox")!==-1?"Firefox":navigator.userAgent.indexOf("MSIE")!==-1||document.documentMode?"IE":"unknown"}var MZe=D(()=>{}),QZe=D(()=>{});function IZe(t){return t?{...Object.fromEntries(t.entries())}:{}}function Fee(t,e){let n=IZe(t),r={};for(let i of e)n[i]&&(r[i]=n[i]);return r}function AS(t,e){let n="";function r(i){return e!=null&&e.encode?encodeURIComponent(i):i}for(let i in t){let s=t[i];if(s!==void 0)if(Array.isArray(s))for(let o=0;o<s.length;o++)n.length>0&&(n+="&"),n+=`${r(i)}=${r(s[o])}`;else typeof s=="object"&&(s=JSON.stringify(s)),n.length>0&&(n+="&"),n+=`${r(i)}=${r(s)}`}return((e==null?void 0:e.prefix)||"")+n}function kq(t){function e(o){if(!o)return"";let a=decodeURIComponent(o);if(a==="false")return!1;if(a==="true")return!0;try{return JSON.parse(a)}catch{return+a*0===0?+a:a}}let n,r,i={},s=t.split("&");for(;n=s.shift();)n=n.split("="),r=n.shift(),i[r]!==void 0?i[r]=[].concat(i[r],e(n.shift())):i[r]=e(n.shift());return i}var AM=D(()=>{});function DZe(t){let e=Ei(t);return RM(e,!1),e}function RM(t,e=!0){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){e?t[O0]=!0:delete t[O0];for(let n in t)typeof t[n]=="object"&&t[n]!==null&&RM(t[n],e)}}function rr(t,e,n){if(!(n!=null&&n.forceParse)&&typeof e=="object"&&O0 in e)return(n==null?void 0:n.useDefaults)===!1?e:bl(t,e);let r=(n==null?void 0:n.useDefaults)===!1?e:bl(t,e);if(Ol(t,r))return(n==null?void 0:n.skipMark)!==!0&&RM(r,!0),r;if(n!=null&&n.onError)n.onError(kh(t,e));else throw new Ip(t,e)}function eP(t,e){let n=bl(t,e);if(Ol(t,n))return n;throw new Ip(t,e)}function QO(t){t.Set("StringEnum",(e,n)=>typeof n=="string"&&e.enum.includes(n))}var O0,Ip,Nt,Go,Wo,Wi,LZe=D(()=>{O0=Symbol("tb-parse-validation"),Ip=class extends Error{constructor(e,n,r){super(r??`Invalid: ${JSON.stringify(n)}`);Y(this,"errors");this.schema=e,this.data=n,this.errors=[...kh(e,n)]}first(){return this.errors[0]}firstToString(){let e=this.first();return`${e.message} at "${e.path}"`}toJSON(){return{message:this.message,schema:this.schema,data:this.data,errors:this.errors}}},QO(Hy),Nt=(t,e)=>I.Unsafe({[Hn]:"StringEnum",type:"string",enum:t,...e}),Go=(t,e)=>I.Object({},{...e,additionalProperties:t}),Wo=(t,e)=>I.Literal(t,{...e,default:t,const:t,readOnly:!0}),Wi=I.String({pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$",minLength:2,maxLength:150}),zue(t=>{var e,n;return(e=t==null?void 0:t.schema)!=null&&e.errorMessage?t.schema.errorMessage:((n=t==null?void 0:t.schema)==null?void 0:n[Hn])==="StringEnum"?`Expected: ${t.schema.enum.map(r=>`"${r}"`).join(", ")}`:Uue(t)})}),FZe=D(()=>{Gj.extend(dke)});async function $q(t,e,n,r){if(!Vee.includes(t))throw new Error(`Invalid hash algorithm: ${t}`);let i=new TextEncoder().encode((n??"")+e+(r??"")),s=await crypto.subtle.digest(t,i);return Array.from(new Uint8Array(s)).map(o=>o.toString(16).padStart(2,"0")).join("")}function VZe(t){let e=new Uint8Array(t);return crypto.getRandomValues(e),Array.from(e,n=>String.fromCharCode(33+n%94)).join("")}var Vee,Bee,BZe=D(()=>{Vee=["SHA-1","SHA-256","SHA-384","SHA-512"],Bee={sha256:async(t,e,n)=>$q("SHA-256",t,e,n),sha1:async(t,e,n)=>$q("SHA-1",t,e,n)}});function qZe(){return crypto.randomUUID()}var WZe=D(()=>{});function RS(t){return t.map(e=>ep(e))}function zZe(t){return t.map(e=>l1(e))}function ZZe(t){return A9(RS(t.allOf),t)}function UZe(t){return cp(RS(t.anyOf),t)}function XZe(t){return cp(RS(t.oneOf),t)}function GZe(t){return cp(zZe(t.enum))}function YZe(t){return R9(RS(t.items),t)}function HZe(t){return M9(ep(t.items),t)}function JZe(t){return l1(t.const,t)}function KZe(t){let e=globalThis.Object.getOwnPropertyNames(t.properties).reduce((n,r)=>({...n,[r]:t.required&&t.required.includes(r)?ep(t.properties[r]):Q9(ep(t.properties[r]))}),{});return Sj(e,t)}function ep(t){return Wee(t)?ZZe(t):zee(t)?UZe(t):Zee(t)?XZe(t):qee(t)?GZe(t):tte(t)?KZe(t):Uee(t)?YZe(t):Xee(t)?HZe(t):Gee(t)?JZe(t):Yee(t)?C9(t):Hee(t)?P9(t):Jee(t)?j9(t):Kee(t)?N9(t):ete(t)?E9(t):_9(t||{})}var _a,Cq,qee,Wee,zee,Zee,Uee,Xee,Gee,Yee,Hee,Jee,Kee,ete,Pq,tte,e6e=D(()=>{_a=(t,e)=>t===e,Cq=t=>Zw(t)||I9(t)||D9(t),qee=t=>St(t)&&ai(t.enum)&&t.enum.every(e=>Cq(e)),Wee=t=>St(t)&&ai(t.allOf),zee=t=>St(t)&&ai(t.anyOf),Zee=t=>St(t)&&ai(t.oneOf),Uee=t=>St(t)&&_a(t.type,"array")&&ai(t.items),Xee=t=>St(t)&&_a(t.type,"array")&&!ai(t.items)&&St(t.items),Gee=t=>St(t)&&St(t.const),Yee=t=>St(t)&&_a(t.type,"string"),Hee=t=>St(t)&&_a(t.type,"number"),Jee=t=>St(t)&&_a(t.type,"integer"),Kee=t=>St(t)&&_a(t.type,"boolean"),ete=t=>St(t)&&_a(t.type,"null"),Pq=t=>St(t),tte=t=>St(t)&&_a(t.type,"object")&&Pq(t.properties)&&(t.required===void 0||ai(t.required)&&t.required.every(e=>Zw(e)))}),t6e=D(()=>{});function n6e(){var e,n,r,i;let t=globalThis;return((n=(e=t==null?void 0:t.process)==null?void 0:e.env)==null?void 0:n.NEXT_RUNTIME)==="nodejs"?"nextjs":((i=(r=t==null?void 0:t.process)==null?void 0:r.env)==null?void 0:i.NEXT_RUNTIME)==="edge"?"nextjs-edge":typeof window<"u"&&window.__NEXT_DATA__?"nextjs-client":Zue()}function r6e(t){return n6e().startsWith("nextjs")&&(n2.redirects_non_fq=!1),n2[t]}var n2,i6e=D(()=>{n2={redirects_non_fq:!0}});function s6e(t,e,n){let r=Math.min(e,n),i=Math.max(e,n);return Math.max(r,Math.min(t,i))}var o6e=D(()=>{}),ve=D(()=>{MZe(),TM(),Ree(),QZe(),AM(),Dee(),LZe(),FZe(),BZe(),WZe(),e6e(),t6e(),i6e(),o6e()}),r2,a6e=D(()=>{ve(),r2=class{constructor(t,e,n){Y(this,"_default");Y(this,"_value");Y(this,"_config");Y(this,"_restriction_bypass",!1);this._schema=t,this.options=n,this._default=bl(t,{}),this._value=e?rr(t,Ei(e),{forceParse:this.isForceParse(),skipMark:this.isForceParse()}):this._default,this._config=Object.freeze(this._value)}isForceParse(){var t;return((t=this.options)==null?void 0:t.forceParse)??!0}default(){return this._default}async onBeforeUpdate(t,e){var n;return(n=this.options)!=null&&n.onBeforeUpdate?this.options.onBeforeUpdate(t,e):e}get(t){return t!=null&&t.stripMark?DZe(this._config):this._config}async set(t,e){var i,s;let n=rr(this._schema,Ei(t),{forceParse:!0,skipMark:this.isForceParse()}),r=await this.onBeforeUpdate(this._config,n);return this._value=r,this._config=Object.freeze(r),e!==!0&&await((s=(i=this.options)==null?void 0:i.onUpdate)==null?void 0:s.call(i,this._config)),this._config}bypass(){return this._restriction_bypass=!0,this}throwIfRestricted(t){var n;if(this._restriction_bypass){this._restriction_bypass=!1;return}let e=((n=this.options)==null?void 0:n.restrictPaths)??[];if(Array.isArray(e)&&e.length>0){for(let r of e)if(typeof t=="string"?t.startsWith(r):Gk(t,r))throw new Error(`Path "${r}" is restricted`)}}async patch(t,e){var o;let n=Ei(this._config),r=t.length>0?Bm({},t,e):e;this.throwIfRestricted(r);let i=H9(n,r,(a,l)=>{if(Array.isArray(a)&&Array.isArray(l))return l});if((o=this.options)!=null&&o.overwritePaths){let a=Qee(e).map(l=>t.length>0?t+"."+l:l).filter(l=>{var c,u;return(u=(c=this.options)==null?void 0:c.overwritePaths)==null?void 0:u.some(d=>typeof d=="string"?l===d:d.test(l))});if(a.length>0){let l=a.length>1?a.filter(c=>a.some(u=>u!==c&&u.startsWith(c))):a;for(let c of l)Bm(i,c,Eg(r,c))}}let s=await this.set(i);return[r,s]}async overwrite(t,e){let n=Ei(this._config),r=t.length>0?Bm({},t,e):e;this.throwIfRestricted(r);let i=Bm(n,t,e),s=await this.set(i);return[r,s]}has(t){let e=t.split(".");if(e.length>1){let n=e.slice(0,-1).join(".");if(!Gk(this._config,n))throw console.log("parent",n,JSON.stringify(this._config,null,2)),new Error(`Parent path "${n}" does not exist`)}return Gk(this._config,t)}async remove(t){if(this.throwIfRestricted(t),!this.has(t))throw new Error(`Path "${t}" does not exist`);let e=Ei(this._config),n=Eg(e,t),r=Ks(e,t),i=await this.set(r);return[n,i]}}}),Yn,l6e=D(()=>{Yn=class{constructor(t){this.name=t,this.name=t}toJSON(){return{name:this.name}}}});function nc(t){return["string","number","boolean"].includes(typeof t)}function c6e(t){return[!0,!1,0,1].includes(t)}function Ms(t,e,n){return new rte(t,e,n)}function nte(t,e){let n=t.find(r=>r.key===e);if(!n)throw new Error(`Expression does not exist: "${e}"`);return n}function MM(t,e,n=[]){let r=e.map(l=>l.key),i=Object.keys(t),s=[i2],o={};if(i.some(l=>l.startsWith("$")&&!s.includes(l)))throw new Error(`Invalid key '${i}'. Keys must not start with '$'.`);if(n.length>0&&i.some(l=>s.includes(l)))throw new Error(`Operand ${i2} can only appear at the top level.`);function a(l,c,u=[]){if(nte(e,l).valid(c)===!1)throw new Error(`Invalid value at "${[...u,l].join(".")}": ${c}`)}for(let[l,c]of Object.entries(t))if(l==="$or")o.$or=MM(c,e,[...n,l]);else if(nc(c))a("$eq",c,n),o[l]={$eq:c};else if(typeof c=="object"){let u=Object.keys(c).filter(d=>!r.includes(d));if(u.length===0){o[l]={};for(let[d,f]of Object.entries(c))a(d,f,[...n,l]),o[l][d]=f}else throw new Error(`Invalid key(s) at "${l}": ${u.join(", ")}. Expected expressions.`)}return o}function jq(t,e,n){let r=n.convert?MM(t,e):t,i={$and:[],$or:[],keys:new Set},{$or:s,...o}=r;function a(l,c,u,d=[]){let f=nte(e,l);if(!f)throw new Error(`Expression does not exist: "${l}"`);if(!f.valid(c))throw new Error(`Invalid expected value at "${[...d,l].join(".")}": ${c}`);return f.validate(c,u,n.exp_ctx)}for(let[l,c]of Object.entries(o))for(let[u,d]of Object.entries(c)){let f=n.value_is_kv?l:n.object[l];i.$and.push(a(u,d,f,[l])),i.keys.add(l)}for(let[l,c]of Object.entries(s??{})){let u=n.value_is_kv?l:n.object[l];for(let[d,f]of Object.entries(c))i.$or.push(a(d,f,u,[l])),i.keys.add(l)}return i}function u6e(t){let e={$and:void 0,$or:void 0};return e.$and=t.$and.every(n=>!!n),e.$or=t.$or.some(n=>!!n),!!e.$and||!!e.$or}function d6e(t){return{convert:e=>MM(e,t),build:(e,n)=>jq(e,t,n),validate:(e,n)=>{let r=jq(e,t,n);return u6e(r)}}}var rte,i2,f6e=D(()=>{rte=class{constructor(t,e,n){Y(this,"expect");this.key=t,this.valid=e,this.validate=n}},i2="$or"}),ite,h6e=D(()=>{ite=class{constructor(t){Y(this,"is_set",!1);Y(this,"items",{});this.registerFn=t}set(t){if(this.is_set)throw new Error("Registry is already set");return this.items=t,this.is_set=!0,this}add(t,e){return this.items[t]=e,this}register(t,e){if(this.registerFn){let n=this.registerFn(e);return this.items[t]=n,this}return this.add(t,e)}get(t){return this.items[t]}has(t){return t in this.items}all(){return this.items}}}),Qn=D(()=>{kZe(),_ee(),Aee(),$Ze(),TZe(),AZe(),a6e(),l6e(),f6e(),h6e()});function Nq(t,e,n="info"){var r;(r=t.req.header("Accept"))!=null&&r.includes("text/html")&&uZ(t,b0,JSON.stringify({type:n,message:e}),{path:"/"})}function p6e(t){let e=document.cookie.split("; ");for(let n of e){let[r,i]=n.split("=");if(r===t)try{return decodeURIComponent(i)}catch{return null}}return null}function m6e(t=!0){let e=p6e(b0);return e&&t&&(document.cookie=`${b0}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`),e?JSON.parse(e):void 0}var b0,ste=D(()=>{b0="__bknd_flash"});function g6e(t,e){return{schema:t,preprocess:e}}var tP,s2,o2,Eq,ote,QM=D(()=>{Qn(),ste(),ve(),tP=60*60*24*7,s2=I.Partial(I.Object({path:I.String({default:"/"}),sameSite:Nt(["strict","lax","none"],{default:"lax"}),secure:I.Boolean({default:!0}),httpOnly:I.Boolean({default:!0}),expires:I.Number({default:tP}),renew:I.Boolean({default:!0}),pathSuccess:I.String({default:"/"}),pathLoggedOut:I.String({default:"/"})}),{default:{},additionalProperties:!1}),o2=I.Object({secret:I.String({default:""}),alg:I.Optional(Nt(["HS256","HS384","HS512"],{default:"HS256"})),expires:I.Optional(I.Number()),issuer:I.Optional(I.String()),fields:I.Array(I.String(),{default:["id","email","role"]})},{default:{},additionalProperties:!1}),Eq=I.Object({jwt:o2,cookie:s2}),ote=class{constructor(t,e,n){Y(this,"strategies");Y(this,"config");Y(this,"_claims");Y(this,"userResolver");this.userResolver=e??(async(r,i,s,o)=>o),this.strategies=t,this.config=rr(Eq,n??{})}async resolve(t,e,n,r){let i=await this.userResolver(t,e,n,r);if(i)return{user:i,token:await this.jwt(i)};throw new Error("User could not be resolved")}getStrategies(){return this.strategies}isUserLoggedIn(){return this._claims!==void 0}getUser(){if(!this._claims)return;let{iat:t,exp:e,iss:n,...r}=this._claims;return r}resetUser(){this._claims=void 0}strategy(t){try{return this.strategies[t]}catch{throw new Error(`Strategy "${String(t)}" not found`)}}async jwt(t){var i,s,o;let e=["password"];for(let a of e)if(a in t)throw new Error(`Property "${a}" is prohibited`);let n={...t,iat:Math.floor(Date.now()/1e3)};(i=this.config.jwt)!=null&&i.issuer&&(n.iss=this.config.jwt.issuer),(s=this.config.jwt)!=null&&s.expires&&(n.exp=Math.floor(Date.now()/1e3)+this.config.jwt.expires);let r=this.config.jwt.secret;if(!r||r.length===0)throw new Error("Cannot sign JWT without a secret");return Bue(n,r,((o=this.config.jwt)==null?void 0:o.alg)??"HS256")}async verify(t){var e,n,r;try{let i=await que(t,((e=this.config.jwt)==null?void 0:e.secret)??"",((n=this.config.jwt)==null?void 0:n.alg)??"HS256");if((r=this.config.jwt)!=null&&r.issuer&&i.iss!==this.config.jwt.issuer)throw new Nn("Invalid issuer",403);return this._claims=i,!0}catch{this.resetUser()}return!1}get cookieOptions(){let{expires:t=tP,renew:e,...n}=this.config.cookie;return{...n,expires:new Date(Date.now()+t*1e3)}}async getAuthCookie(t){try{let e=this.config.jwt.secret,n=await cZ(t,e,"auth");return typeof n!="string"?void 0:n}catch(e){e instanceof Error&&console.error("[Error:getAuthCookie]",e.message);return}}async requestCookieRefresh(t){if(this.config.cookie.renew){let e=await this.getAuthCookie(t);e&&await this.setAuthCookie(t,e)}}async setAuthCookie(t,e){let n=this.config.jwt.secret;await dZ(t,"auth",e,n,this.cookieOptions)}async deleteAuthCookie(t){await rpe(t,"auth",this.cookieOptions)}async logout(t){await this.getAuthCookie(t)&&(await this.deleteAuthCookie(t),await Nq(t,"Signed out","info")),this.resetUser()}isJsonRequest(t){return t.req.header("Content-Type")==="application/json"}async getBody(t){return this.isJsonRequest(t)?await t.req.json():Object.fromEntries((await t.req.formData()).entries())}getSuccessPath(t){let e=(this.config.cookie.pathSuccess??"/").replace(/\/+$/,"/");return r6e("redirects_non_fq")?e:new URL(t.req.url).origin+e}async respond(t,e,n){if(this.isJsonRequest(t))return t.json(e);let r=this.getSuccessPath(t),i=n??t.req.header("Referer")??r;if("token"in e)return await this.setAuthCookie(t,e.token),t.redirect(r);let s="An error occured";return e instanceof Nn&&(s=e.message),await Nq(t,s,"error"),t.redirect(i)}async resolveAuthFromRequest(t){let e;if(t.req.raw.headers.has("Authorization")?e=String(t.req.header("Authorization")).replace("Bearer ",""):e=await this.getAuthCookie(t),e)return await this.verify(e),this.getUser()}toJSON(t){return{...this.config,jwt:t?this.config.jwt:void 0,strategies:Yt(this.getStrategies(),e=>e.toJSON(t))}}}}),nP,IM,ate=D(()=>{nP=Symbol.for("bknd:connection"),IM=class{constructor(t,e={},n=[]){Y(this,"kysely");this.fn=e,this.plugins=n,this.kysely=t,this[nP]=!0}static isConnection(t){return t?t[nP]===!0:!1}getIntrospector(){return this.kysely.introspection}supportsBatching(){return!1}supportsIndices(){return!1}async ping(){return(await Vg`SELECT 1`.execute(this.kysely)).rows.length>0}async batch(t){throw new Error("Batching not supported")}async batchQuery(t){if(!this.supportsBatching()){let e=[];for(let n of t){let r=await n.execute();e.push(r)}return e}return await this.batch(t)}}}),lte,y6e=D(()=>{ate(),lte=class extends IM{constructor(){super(void 0)}}}),Nr,x0,_q,cte=D(()=>{var t;Nr=(t=class{constructor(e){Y(this,"_returning");Y(this,"params");Y(this,"returned",!1);this.params=e}validate(e){throw new _q(this,e)}clone(e){let n=new this.constructor(e);return n.returned=!0,n}},Y(t,"slug","untitled-event"),t),x0=class extends Error{constructor(e,n){super(`Expected "${e}", got "${n}"`)}},_q=class extends Error{constructor(e,n){super(`Event "${e.constructor.slug}" returned without validation`),this.data=n}}}),ute,O6e=D(()=>{ute=class{constructor(t,e,n="async"){Y(this,"mode","async");Y(this,"event");Y(this,"handler");Y(this,"once",!1);this.event=t,this.handler=e,this.mode=n}}}),Dp,b6e=D(()=>{cte(),O6e(),Dp=class{constructor(t,e){Y(this,"events",[]);Y(this,"listeners",[]);Y(this,"enabled",!0);var n;this.options=e,t&&this.registerEvents(t),(n=e==null?void 0:e.listeners)==null||n.forEach(r=>this.addListener(r))}enable(){return this.enabled=!0,this}disable(){return this.enabled=!1,this}clearEvents(){return this.events=[],this}clearAll(){return this.clearEvents(),this.listeners=[],this}getListeners(){return[...this.listeners]}get Events(){return new Proxy(this,{get:(t,e)=>this.events.find(n=>n.slug===e)})}eventExists(t){var n;let e;return typeof t=="string"?e=t:e=((n=t.constructor)==null?void 0:n.slug)??t.slug,!!this.events.find(r=>e===r.slug)}throwIfEventNotRegistered(t){var e;if(!this.eventExists(t)){let n=((e=t.constructor)==null?void 0:e.slug)??t.slug??t;throw new Error(`Event "${n}" not registered`)}}registerEvent(t,e=!1){if(this.eventExists(t)){if(e)return this;throw new Error(`Event "${t.name}" already registered.`)}return this.events.push(t),this}registerEvents(t){return(typeof t=="object"?Object.values(t):t).forEach(e=>this.registerEvent(e,!0)),this}addListener(t){return this.throwIfEventNotRegistered(t.event),this.listeners.push(t),this}createEventListener(t,e,n="async"){let r=typeof t=="string"?this.events.find(o=>o.slug===t):t,i=typeof n=="string"?{mode:n}:n,s=new ute(r,e,i.mode);i.once&&(s.once=!0),this.addListener(s)}onEvent(t,e,n){this.createEventListener(t,e,n)}on(t,e,n){this.createEventListener(t,e,n)}onAny(t,e){this.events.forEach(n=>this.onEvent(n,t,e))}executeAsyncs(t){var e;(((e=this.options)==null?void 0:e.asyncExecutor)??(n=>Promise.all(n)))(t.map(n=>n())).then(()=>{})}async emit(t){var s,o,a;let e=t.constructor.slug;if(!this.enabled)return console.log("EventManager disabled, not emitting",e),t;if(!this.eventExists(t))throw new Error(`Event "${e}" not registered`);let n=[],r=[];this.listeners=this.listeners.filter(l=>l.event.slug!==e?!0:(l.mode==="sync"?n.push(l):r.push(async()=>await l.handler(t,l.event.slug)),!l.once)),this.executeAsyncs(r);let i=t;for(let l of n)try{let c=await l.handler(i,l.event.slug);if(typeof c<"u"){let u=i.validate(c);if(u&&u.constructor.slug===e){if(!u.returned)throw new Error(`Returned event ${u.constructor.slug} must be marked as returned.`);i=u}}}catch(c){if(c instanceof x0)(o=(s=this.options)==null?void 0:s.onInvalidReturn)==null||o.call(s,i,c),console.warn(`Invalid return of event listener for "${e}": ${c.message}`);else if((a=this.options)!=null&&a.onError)this.options.onError(i,c);else throw c}return i}}}),Ud=D(()=>{cte(),b6e()}),dte,rl,fte,fs,hte,pte,go=D(()=>{Qn(),dte=class extends Nn{constructor(){super(...arguments);Y(this,"name","UnableToConnectException");Y(this,"code",500)}},rl=class extends Nn{constructor(){super(...arguments);Y(this,"name","InvalidSearchParamsException");Y(this,"code",422)}},fte=class extends Nn{constructor(){super(...arguments);Y(this,"name","TransformRetrieveFailedException");Y(this,"code",422)}},fs=class a2 extends Nn{constructor(){super(...arguments);Y(this,"name","TransformPersistFailedException");Y(this,"code",422)}static invalidType(r,i,s){let o=typeof s=="object"?JSON.stringify(s):s,a=`Property "${r}" must be of type "${i}", "${o}" of type "${typeof s}" given.`;return new a2(a)}static required(r){return new a2(`Property "${r}" is required`)}},hte=class extends Nn{constructor(n,r,i){console.error("InvalidFieldConfigException",{given:r,error:i.firstToString()});super(`Invalid Field config given for field "${n.name}": ${i.firstToString()}`);Y(this,"name","InvalidFieldConfigException");Y(this,"code",400);this.given=r}},pte=class extends Nn{constructor(n){var e=(...t)=>(super(...t),Y(this,"name","EntityNotDefinedException"),Y(this,"code",400),this);e(n?`Entity "${typeof n!="string"?n.name:n}" not defined`:"Cannot find an entity that is undefined")}}}),Tq,Aq,Rq,Mq,Qq,Iq,tp,Dq,Lq,Fq,Vq,MS,QS=D(()=>{var t,e,n,r,i,s,o,a,l,c;Ud(),Tq=(t=class extends Nr{validate(u){let{entity:d}=this.params;if(!d.isValidData(u,"create"))throw new x0("EntityData","invalid");return this.clone({entity:d,data:u})}},Y(t,"slug","mutator-insert-before"),t),Aq=(e=class extends Nr{},Y(e,"slug","mutator-insert-after"),e),Rq=(n=class extends Nr{validate(u){let{entity:d,...f}=this.params;if(!d.isValidData(u,"update"))throw new x0("EntityData","invalid");return this.clone({...f,entity:d,data:u})}},Y(n,"slug","mutator-update-before"),n),Mq=(r=class extends Nr{},Y(r,"slug","mutator-update-after"),r),Qq=(i=class extends Nr{},Y(i,"slug","mutator-delete-before"),i),Iq=(s=class extends Nr{},Y(s,"slug","mutator-delete-after"),s),tp={MutatorInsertBefore:Tq,MutatorInsertAfter:Aq,MutatorUpdateBefore:Rq,MutatorUpdateAfter:Mq,MutatorDeleteBefore:Qq,MutatorDeleteAfter:Iq},Dq=(o=class extends Nr{},Y(o,"slug","repository-find-one-before"),o),Lq=(a=class extends Nr{},Y(a,"slug","repository-find-one-after"),a),Fq=(l=class extends Nr{},Y(l,"slug","repository-find-many-before"),Y(l,"another","one"),l),Vq=(c=class extends Nr{},Y(c,"slug","repository-find-many-after"),c),MS={RepositoryFindOneBefore:Dq,RepositoryFindOneAfter:Lq,RepositoryFindManyBefore:Fq,RepositoryFindManyAfter:Vq}}),DM,LM=D(()=>{DM=class{constructor(t){Y(this,"_relations",[]);this._relations=t}get all(){return this._relations}relationsOf(t){return this._relations.filter(e=>e.visibleFrom("source")&&e.source.entity.name===t.name||e.visibleFrom("target")&&e.target.entity.name===t.name)}sourceRelationsOf(t){return this._relations.filter(e=>e.source.entity.name===t.name)}targetRelationsOf(t){return this._relations.filter(e=>e.visibleFrom("target")&&e.target.entity.name===t.name)}listableRelationsOf(t){return this.relationsOf(t).filter(e=>e.isListableFor(t))}relationOf(t,e){return this.relationsOf(t).find(n=>n.source.reference===e||n.target.reference===e)}hasRelations(t){return this.relationsOf(t).length>0}relatedEntitiesOf(t){return this.relationsOf(t).map(e=>e.other(t).entity)}relationReferencesOf(t){return this.relationsOf(t).map(e=>e.other(t).reference)}}}),Bq,qq,Wq,gx,yx,zi,Xi,yo=D(()=>{ve(),go(),Bq=["create","read","update","delete"],qq=["create","read","update","delete","form","table","submit"],Wq=!1,gx=!0,yx=!1,zi=I.Object({label:I.Optional(I.String()),description:I.Optional(I.String()),required:I.Optional(I.Boolean({default:Wq})),fillable:I.Optional(I.Union([I.Boolean({title:"Boolean",default:gx}),I.Array(Nt(Bq),{title:"Context",uniqueItems:!0})],{default:gx})),hidden:I.Optional(I.Union([I.Boolean({title:"Boolean",default:yx}),I.Array(Nt(qq),{title:"Context",uniqueItems:!0})],{default:yx})),virtual:I.Optional(I.Boolean()),default_value:I.Optional(I.Any())},{additionalProperties:!1}),Xi=class{constructor(t,e){Y(this,"_required");Y(this,"_type");Y(this,"name");Y(this,"type","field");Y(this,"config");this.name=t,this._type,this._required;try{this.config=rr(this.getSchema(),e||{})}catch(n){throw n instanceof Ip?new hte(this,e,n):n}}getType(){return this.type}useSchemaHelper(t,e){return[this.name,t,n=>e?e(n):n]}hasDefault(){return this.config.default_value!==void 0}getDefault(){var t;return(t=this.config)==null?void 0:t.default_value}isFillable(t){return Array.isArray(this.config.fillable)?t?this.config.fillable.includes(t):gx:!!this.config.fillable}isHidden(t){return Array.isArray(this.config.hidden)?t?this.config.hidden.includes(t):yx:this.config.hidden??!1}isRequired(){var t;return((t=this.config)==null?void 0:t.required)??!1}isVirtual(){return this.config.virtual??!1}getLabel(t){return this.config.label?this.config.label:(t==null?void 0:t.fallback)!==!1?Kh(this.name):void 0}getDescription(){return this.config.description}getValue(t,e){return t}getHtmlConfig(){return{element:"input",props:{type:"text"}}}isValid(t,e){return t?this.isFillable(e):!this.isRequired()}transformRetrieve(t){return t}async transformPersist(t,e,n){if(this.nullish(t)){if(this.isRequired()&&!this.hasDefault())throw fs.required(this.name);return this.getDefault()}return t}toSchemaWrapIfRequired(t){return this.isRequired()?t:I.Optional(t)}nullish(t){return t==null}toJsonSchema(){return this.toSchemaWrapIfRequired(I.Any())}toJSON(){return{type:this.type,config:this.config}}}}),l2,FM,x6e=D(()=>{ve(),go(),yo(),l2=I.Composite([I.Object({default_value:I.Optional(I.Boolean({default:!1}))}),zi]),FM=class extends Xi{constructor(){super(...arguments);Y(this,"type","boolean")}getSchema(){return l2}getValue(e,n){switch(n){case"table":return e?"Yes":"No";default:return e}}schema(){return this.useSchemaHelper("boolean")}getHtmlConfig(){return{...super.getHtmlConfig(),element:"boolean"}}transformRetrieve(e){return typeof e>"u"||e===null?this.isRequired()?!1:this.hasDefault()?this.getDefault():null:typeof e=="string"?e==="1":!!e}async transformPersist(e,n,r){let i=await super.transformPersist(e,n,r);if(this.nullish(i))return this.isRequired()?!!this.config.default_value:void 0;if(typeof i=="number")return i!==0;if(typeof i!="boolean")throw fs.invalidType(this.name,"boolean",i);return i}toJsonSchema(){return this.toSchemaWrapIfRequired(I.Boolean({default:this.getDefault()}))}}}),c2,w0,w6e=D(()=>{ve(),yo(),c2=I.Composite([I.Object({type:Nt(["date","datetime","week"],{default:"date"}),timezone:I.Optional(I.String()),min_date:I.Optional(I.String()),max_date:I.Optional(I.String())}),zi],{additionalProperties:!1}),w0=class extends Xi{constructor(){super(...arguments);Y(this,"type","date")}getSchema(){return c2}schema(){let e=this.config.type==="datetime"?"datetime":"date";return this.useSchemaHelper(e)}getHtmlConfig(){let e=this.config.type==="datetime"?"datetime-local":this.config.type;return{...super.getHtmlConfig(),element:"date",props:{type:e}}}parseDateFromString(e){if(this.config.type==="week"&&e.includes("-W")){let[n,r]=e.split("-W").map(i=>Number.parseInt(i,10));return Gj().year(n).week(r).toDate()}return new Date(e)}getValue(e,n){if(e===null||!e)return;let r=this.parseDateFromString(e);if(n==="submit")try{return r.toISOString()}catch{return}if(this.config.type==="week")try{return`${r.getFullYear()}-W${Gj(r).week()}`}catch(i){console.warn("error - DateField.getValue:week",e,i);return}try{let i=new Date().getTimezoneOffset(),s=new Date(r.getTime()-i*6e4);return this.formatDate(s)}catch(i){console.warn("DateField.getValue:value",e),console.warn("DateField.getValue:e",i);return}}formatDate(e){switch(this.config.type){case"datetime":return e.toISOString().split(".")[0].replace("T"," ");default:return e.toISOString().split("T")[0]}}transformRetrieve(e){let n=super.transformRetrieve(e);if(n===null)return null;try{return new Date(n)}catch{return null}}async transformPersist(e,n,r){let i=await super.transformPersist(e,n,r);if(this.nullish(i))return i;switch(this.config.type){case"date":case"week":return new Date(i).toISOString().split("T")[0];default:return new Date(i).toISOString()}}toJsonSchema(){return this.toSchemaWrapIfRequired(I.String({default:this.getDefault()}))}}}),u2,IS,v6e=D(()=>{ve(),go(),yo(),u2=I.Composite([I.Object({default_value:I.Optional(I.String()),options:I.Optional(I.Union([I.Object({type:Wo("strings"),values:I.Array(I.String())},{title:"Strings"}),I.Object({type:Wo("objects"),values:I.Array(I.Object({label:I.String(),value:I.String()}))},{title:"Objects",additionalProperties:!1})]))}),zi],{additionalProperties:!1}),IS=class extends Xi{constructor(e,n){super(e,n);Y(this,"type","enum");if(this.config.default_value&&!this.isValidValue(this.config.default_value))throw new Error(`Default value "${this.config.default_value}" is not a valid option`)}getSchema(){return u2}schema(){return this.useSchemaHelper("text")}getOptions(){var n,r;let e=((n=this.config)==null?void 0:n.options)??{type:"strings",values:[]};return e.type==="strings"?(r=e.values)==null?void 0:r.map(i=>({label:i,value:i})):e==null?void 0:e.values}isValidValue(e){return this.getOptions().map(n=>n.value).includes(e)}getValue(e,n){var r;if(!this.isValidValue(e))return this.hasDefault()?this.getDefault():null;switch(n){case"table":return((r=this.getOptions().find(i=>i.value===e))==null?void 0:r.label)??e}return e}transformRetrieve(e){let n=super.transformRetrieve(e);return n===null&&this.hasDefault()?this.getDefault():this.isValidValue(n)?n:this.hasDefault()?this.getDefault():null}async transformPersist(e,n,r){let i=await super.transformPersist(e,n,r);if(this.nullish(i))return i;if(!this.isValidValue(i))throw new fs(`Field "${this.name}" must be one of the following values: ${this.getOptions().map(s=>s.value).join(", ")}`);return i}toJsonSchema(){var n,r;let e=((r=(((n=this.config)==null?void 0:n.options)??{type:"strings",values:[]}).values)==null?void 0:r.map(i=>typeof i=="string"?i:i.value))??[];return this.toSchemaWrapIfRequired(Nt(e,{default:this.getDefault()}))}}}),d2,DS,S6e=D(()=>{ve(),go(),yo(),d2=I.Composite([zi,I.Object({})]),DS=class extends Xi{constructor(){super(...arguments);Y(this,"type","json")}getSchema(){return d2}schema(){return this.useSchemaHelper("text")}transformRetrieve(e){let n=super.transformRetrieve(e);return n===null&&this.hasDefault()?this.getDefault():this.isSerialized(n)?JSON.parse(n):n}isSerializable(e){try{let n=JSON.stringify(e);if(n===JSON.stringify(JSON.parse(n)))return!0}catch{}return!1}isSerialized(e){try{if(typeof e=="string")return e===JSON.stringify(JSON.parse(e))}catch{}return!1}getValue(e,n){switch(n){case"form":return e===null?"":JSON.stringify(e,null,2);case"table":return e===null?null:JSON.stringify(e);case"submit":return typeof e=="string"&&e.length===0?null:JSON.parse(e)}return e}async transformPersist(e,n,r){let i=await super.transformPersist(e,n,r);if(this.nullish(i))return i;if(!this.isSerializable(i))throw new fs(`Field "${this.name}" must be serializable to JSON.`);return this.isSerialized(i)?i:JSON.stringify(i)}}}),f2,LS,k6e=D(()=>{ve(),go(),yo(),f2=I.Composite([I.Object({schema:I.Object({},{default:{}}),ui_schema:I.Optional(I.Object({})),default_from_schema:I.Optional(I.Boolean())}),zi],{additionalProperties:!1}),LS=class extends Xi{constructor(e,n){super(e,n);Y(this,"type","jsonschema");Y(this,"validator");this.validator=new uCe(this.getJsonSchema())}getSchema(){return f2}schema(){return this.useSchemaHelper("text")}getJsonSchema(){var e;return(e=this.config)==null?void 0:e.schema}getJsonUiSchema(){return this.config.ui_schema??{}}isValid(e,n="update"){return super.isValid(e,n)?!this.isRequired()&&(!e||typeof e!="object")?!0:this.validator.validate(e).valid:!1}getValue(e,n){switch(n){case"form":return e===null?"":e;case"table":return e===null?null:e}return e}transformRetrieve(e){let n=super.transformRetrieve(e);if(n===null){if(this.config.default_from_schema)try{return bl(ep(this.getJsonSchema()),{})}catch{return null}else if(this.hasDefault())return this.getDefault()}return n}async transformPersist(e,n,r){let i=await super.transformPersist(e,n,r);if(this.nullish(i))return i;if(!this.isValid(i))throw new fs(this.name,i);return!i||typeof i!="object"?this.getDefault():JSON.stringify(i)}toJsonSchema(){let e=this.getJsonSchema()??{type:"object"};return this.toSchemaWrapIfRequired(ep({default:this.getDefault(),...e}))}}}),h2,FS,$6e=D(()=>{ve(),go(),yo(),h2=I.Composite([I.Object({default_value:I.Optional(I.Number()),minimum:I.Optional(I.Number()),maximum:I.Optional(I.Number()),exclusiveMinimum:I.Optional(I.Number()),exclusiveMaximum:I.Optional(I.Number()),multipleOf:I.Optional(I.Number())}),zi],{additionalProperties:!1}),FS=class extends Xi{constructor(){super(...arguments);Y(this,"type","number")}getSchema(){return h2}getHtmlConfig(){return{element:"input",props:{type:"number",pattern:"d*",inputMode:"numeric"}}}schema(){return this.useSchemaHelper("integer")}getValue(e,n){if(typeof e>"u"||e===null)return null;switch(n){case"submit":return Number.parseInt(e)}return e}async transformPersist(e,n,r){let i=await super.transformPersist(e,n,r);if(!this.nullish(i)&&typeof i!="number")throw fs.invalidType(this.name,"number",i);if(this.config.maximum&&i>this.config.maximum)throw new fs(`Field "${this.name}" cannot be greater than ${this.config.maximum}`);if(this.config.minimum&&i<this.config.minimum)throw new fs(`Field "${this.name}" cannot be less than ${this.config.minimum}`);return i}toJsonSchema(){var e,n,r,i,s;return this.toSchemaWrapIfRequired(I.Number({default:this.getDefault(),minimum:(e=this.config)==null?void 0:e.minimum,maximum:(n=this.config)==null?void 0:n.maximum,exclusiveMinimum:(r=this.config)==null?void 0:r.exclusiveMinimum,exclusiveMaximum:(i=this.config)==null?void 0:i.exclusiveMaximum,multipleOf:(s=this.config)==null?void 0:s.multipleOf}))}}}),mte,np,zq=D(()=>{Qn(),ve(),yo(),mte=I.Composite([I.Omit(zi,["required"]),I.Object({required:I.Optional(I.Literal(!1))})]),np=class extends Xi{constructor(e=_M.data.default_primary_field){super(e,{fillable:!1,required:!1});Y(this,"type","primary")}isRequired(){return!1}getSchema(){return zi}schema(){return this.useSchemaHelper("integer",e=>e.primaryKey().notNull().autoIncrement())}async transformPersist(e){throw new Error("This function should not be called")}toJsonSchema(){return this.toSchemaWrapIfRequired(I.Number({writeOnly:void 0}))}}}),p2,VS,C6e=D(()=>{ve(),go(),yo(),p2=I.Composite([I.Object({default_value:I.Optional(I.String()),minLength:I.Optional(I.Number()),maxLength:I.Optional(I.Number()),pattern:I.Optional(I.String()),html_config:I.Optional(I.Object({element:I.Optional(I.String({default:"input"})),props:I.Optional(I.Object({},{additionalProperties:I.Union([I.String({title:"String"}),I.Number({title:"Number"})])}))}))}),zi],{additionalProperties:!1}),VS=class extends Xi{constructor(){super(...arguments);Y(this,"type","text")}getSchema(){return p2}schema(){return this.useSchemaHelper("text")}getHtmlConfig(){return this.config.html_config?this.config.html_config:super.getHtmlConfig()}transformRetrieve(e){let n=super.transformRetrieve(e);return this.config.maxLength?n.substring(0,this.config.maxLength):this.isRequired()?n?n.toString():"":n}async transformPersist(e,n,r){let i=await super.transformPersist(e,n,r);if(this.nullish(i))return i;if(i!==null&&typeof i!="string"&&(i=String(i)),this.config.maxLength&&(i==null?void 0:i.length)>this.config.maxLength)throw new fs(`Field "${this.name}" must be at most ${this.config.maxLength} character(s)`);if(this.config.minLength&&(i==null?void 0:i.length)<this.config.minLength)throw new fs(`Field "${this.name}" must be at least ${this.config.minLength} character(s)`);if(this.config.pattern&&i&&!new RegExp(this.config.pattern).test(i))throw new fs(`Field "${this.name}" must match the pattern ${this.config.pattern}`);return i}toJsonSchema(){var e,n,r;return this.toSchemaWrapIfRequired(I.String({default:this.getDefault(),minLength:(e=this.config)==null?void 0:e.minLength,maxLength:(n=this.config)==null?void 0:n.maxLength,pattern:(r=this.config)==null?void 0:r.pattern}))}}}),Zq,m2,P6e=D(()=>{ve(),yo(),Zq=I.Composite([zi,I.Object({})]),m2=class extends Xi{constructor(e,n){super(e,{...n,fillable:!1,virtual:!0});Y(this,"type","virtual")}getSchema(){return Zq}schema(){}toJsonSchema(){return this.toSchemaWrapIfRequired(I.Any({default:this.getDefault(),readOnly:!0}))}}}),VM,j6e=D(()=>{yo(),VM=class{constructor(t,e,n=!1,r){var i;if(this.entity=t,this.fields=e,this.unique=n,this.name=r,e.length===0)throw new Error("Indices must contain at least one field");if(e.some(s=>!(s instanceof Xi)))throw new Error("All fields must be instances of Field");if(n&&!((i=e[0])!=null&&i.isRequired()))throw new Error(`Unique indices must have first field as required: ${e.map(s=>s.name).join(", ")}`);r||(this.name=[n?"idx_unique":"idx",t.name,...e.map(s=>s.name)].join("_"))}toJSON(){return{entity:this.entity.name,fields:this.fields.map(t=>t.name),unique:this.unique}}}}),BM,Lp=D(()=>{x6e(),w6e(),v6e(),S6e(),k6e(),$6e(),zq(),C6e(),yo(),zq(),P6e(),j6e(),BM={primary:{schema:mte,field:np},text:{schema:p2,field:VS},number:{schema:h2,field:FS},boolean:{schema:l2,field:FM},date:{schema:c2,field:w0},enum:{schema:u2,field:IS},json:{schema:d2,field:DS},jsonschema:{schema:f2,field:LS}}}),gte,yte=D(()=>{var t;Lp(),gte=(t=class{constructor(n){this.em=n}getIntrospector(){if(!this.em.connection.supportsIndices())throw new Error("Indices are not supported by the current connection");return this.em.connection.getIntrospector()}async introspect(){let n=await this.getIntrospector().getTables({withInternalKyselyTables:!1}),r=await this.getIntrospector().getIndices(),i=[];for(let s of n)t.EXCLUDE_TABLES.includes(s.name)||i.push({...s,indices:r.filter(o=>o.table===s.name)});return i}getIntrospectionFromEntity(n){let r=n.getFields(!1),i=this.em.getIndicesOf(n);return{name:n.name,isView:!1,columns:r.map(s=>({name:s.name,dataType:"TEXT",isNullable:!0,isAutoIncrementing:s instanceof np,hasDefaultValue:!1,comment:void 0})),indices:i.map(s=>({name:s.name,table:n.name,isUnique:s.unique,columns:s.fields.map(o=>({name:o.name,order:0}))}))}}async getDiff(){let n=await this.introspect(),r=this.em.entities.map(o=>this.getIntrospectionFromEntity(o)),i=[],s=o=>o.name;n.filter(o=>/bknd/.test(o.name)||o.isView?!1:!r.map(a=>a.name).includes(o.name)).forEach(o=>{i.push({name:o.name,isDrop:!0,isNew:!1,columns:{add:[],drop:[],change:[]},indices:{add:[],drop:[]}})});for(let o of r){let a=n.find(l=>l.name===o.name);if(!a)i.push({name:o.name,isNew:!0,columns:{add:o.columns.map(s),drop:[],change:[]},indices:{add:o.indices.map(s),drop:[]}});else{let l=o.columns.filter(h=>!a.columns.map(s).includes(h.name)),c=a.columns.filter(h=>!o.columns.map(s).includes(h.name)),u=[];for(let h of o.columns){let m=a.columns.find(y=>y.name===h.name),g=[];for(let[y,O]of Object.entries(h))m&&m[y]!==O&&g.push({attribute:y,prev:m[y],next:O});Object.keys(g).length>0&&u.push({name:h.name,changes:g})}let d=o.indices.filter(h=>!a.indices.map(m=>m.name).includes(h.name)),f=a.indices.filter(h=>!o.indices.map(m=>m.name).includes(h.name));[l,c,d,f].some(h=>h.length>0)&&i.push({name:o.name,isNew:!1,columns:{add:l.map(s),drop:c.map(s),change:[]},indices:{add:d.map(s),drop:f.map(s)}})}}return i}collectFieldSchemas(n,r){let i=[];if(r.length===0)return i;for(let s of r){let o=this.em.entity(n).getField(s).schema(this.em);Array.isArray(o)&&o.length===3&&i.push(o)}return i}async sync(n={force:!1,drop:!1}){let r=await this.getDiff(),i=[],s=this.em.connection.kysely.schema;for(let o of r){let a=[],l=0,c=this.collectFieldSchemas(o.name,o.columns.add),u=o.columns.drop,d=o.indices.drop;if(o.isDrop)l++,n.drop&&a.push(s.dropTable(o.name));else if(o.isNew){let f=s.createTable(o.name);for(let h of c)l++,f=f.addColumn(...h);a.push(f)}else{if(c.length>0)for(let f of c)l++,a.push(s.alterTable(o.name).addColumn(...f));if(n.drop&&u.length>0)for(let f of u)l++,a.push(s.alterTable(o.name).dropColumn(f))}for(let f of o.indices.add){let h=this.em.getIndicesOf(o.name).find(g=>g.name===f),m=s.createIndex(f).on(o.name).columns(h.fields.map(g=>g.name));h.unique&&(m=m.unique()),a.push(m),l++}if(n.drop)for(let f of d)a.push(s.dropIndex(f)),l++;if(l!==0)for(let f of a){let{sql:h,parameters:m}=f.compile();if(i.push({sql:h,parameters:m}),n.force)try{await f.execute()}catch(g){throw new Error(`Failed to execute query: ${h}: ${g.message}`)}}}return i}},Y(t,"EXCLUDE_TABLES",["libsql_wasm_func_table","sqlite_sequence","_cf_KV"]),t)}),g2,Ote,_c,bte=D(()=>{var t,e,n;Qn(),ve(),Lp(),g2=I.Object({name:I.Optional(I.String()),name_singular:I.Optional(I.String()),description:I.Optional(I.String()),sort_field:I.Optional(I.String({default:_M.data.default_primary_field})),sort_dir:I.Optional(Nt(["asc","desc"],{default:"asc"}))},{additionalProperties:!1}),Ote=["regular","system","generated"],_c=(n=class{constructor(i,s,o,a){Ne(this,t);Ne(this,e);Y(this,"name");Y(this,"fields");Y(this,"config");Y(this,"data");Y(this,"type","regular");if(typeof i!="string"||i.length===0)throw new Error("Entity name must be a non-empty string");this.name=i,this.config=rr(g2,o||{});let l=(s==null?void 0:s.filter(c=>c instanceof np).length)??0;if(l>1)throw new Error(`Entity "${i}" has more than one primary field`);this.fields=l===1?[]:[new np],s&&s.forEach(c=>this.addField(c)),a&&(this.type=a)}static create(i){return new n(i.name,i.fields,i.config,i.type)}getType(){return this.type}getSelect(i,s){return this.getFields().filter(o=>!o.isHidden(s??"read")).map(o=>i?`${i}.${o.name} as ${o.name}`:o.name)}getDefaultSort(){return{by:this.config.sort_field??"id",dir:this.config.sort_dir??"asc"}}getAliasedSelectFrom(i,s,o){let a=s??this.name;return this.getFields().filter(l=>!l.isVirtual()&&!l.isHidden(o??"read")&&i.includes(l.name)).map(l=>a?`${a}.${l.name} as ${l.name}`:l.name)}getFillableFields(i,s){return this.getFields(s).filter(o=>o.isFillable(i))}getRequiredFields(){return this.getFields().filter(i=>i.isRequired())}getDefaultObject(){return this.getFields().reduce((i,s)=>(s.hasDefault()&&(i[s.name]=s.getDefault()),i),{})}getField(i){return this.fields.find(s=>s.name===i)}__replaceField(i,s){let o=this.fields.findIndex(a=>a.name===i);if(o===-1)throw new Error(`Field "${i}" not found on entity "${this.name}"`);this.fields[o]=s}getPrimaryField(){return this.fields[0]}id(){return this.getPrimaryField()}get label(){return this.config.name??Kh(this.name)}field(i){return this.getField(i)}getFields(i=!1){return i?this.fields:this.fields.filter(s=>!s.isVirtual())}addField(i){let s=this.getField(i.name);if(s){if(JSON.stringify(s)===JSON.stringify(i))return;throw new Error(`Field "${i.name}" already exists on entity "${this.name}"`)}this.fields.push(i)}__setData(i){this.data=i}isValidData(i,s,o){if(typeof i!="object"&&(o!=null&&o.explain))throw new Error(`Entity "${this.name}" data must be an object`);let a=this.getFillableFields(s,!1);if((o==null?void 0:o.ignoreUnknown)!==!0){let l=a.map(u=>u.name),c=Object.keys(i).filter(u=>!l.includes(u));if(c.length>0&&(o!=null&&o.explain))throw new Error(`Entity "${this.name}" data must only contain known keys, unknown: "${c}"`)}for(let l of a)if(!l.isValid(i[l.name],s)){if(console.log("Entity.isValidData:invalid",s,l.name,i[l.name]),o==null?void 0:o.explain)throw new Error(`Field "${l.name}" has invalid data: "${i[l.name]}"`);return!1}return!0}toSchema(i){let s;switch(i==null?void 0:i.context){case"create":case"update":s=this.getFillableFields(i.context);break;default:s=this.getFields(!0)}let o=Object.fromEntries(s.map(l=>[l.name,l])),a=I.Object(Yt(o,l=>{let c=l.isFillable(i==null?void 0:i.context);return{title:l.config.label,$comment:l.config.description,$field:l.type,readOnly:c?void 0:!0,...l.toJsonSchema()}}),{additionalProperties:!1});return i!=null&&i.clean?JSON.parse(JSON.stringify(a)):a}toJSON(){return{type:this.type,fields:Object.fromEntries(this.fields.map(i=>[i.name,i.toJSON()])),config:this.config}}},t=new WeakMap,e=new WeakMap,n)}),_d,BS=D(()=>{var t;ve(),Fp(),_d=(t=class{constructor(e,n,r={}){Y(this,"config");Y(this,"source");Y(this,"target");Y(this,"directions",["source","target"]);this.source=e,this.target=n;let i=this.constructor.schema;this.config=rr(i,r)}getReferenceQuery(e,n,r){return{}}helper(e){return new vte(this,e)}other(e){let n=typeof e=="string"?e:e.name;if(this.source.entity.name===this.target.entity.name)return this.source.cardinality===1?this.target:this.source;if(this.source.entity.name===n)return this.target;if(this.target.entity.name===n)return this.source;throw new Error(`Entity "${n}" is not part of the relation "${this.source.entity.name} <-> ${this.target.entity.name}"`)}ref(e){return this.source.reference===e?this.source:this.target}otherRef(e){return this.source.reference===e?this.target:this.source}visibleFrom(e){return this.directions.includes(e)}hydrate(e,n,r){let i=typeof e=="string"?e:e.name,s=this.ref(i),o=r.hydrate(s.entity.name,n);if(s.cardinality===1){if(Array.isArray(o)&&o.length>1)throw new Error(`Failed to hydrate "${s.entity.name}" with value: ${JSON.stringify(n)} (cardinality: 1)`);return o[0]}if(!o)throw new Error(`Failed to hydrate "${s.entity.name}" with value: ${JSON.stringify(n)} (cardinality: -)`);return o}isListableFor(e){return this.target.entity.name===e.name}get required(){return!!this.config.required}async $set(e,n,r){throw new Error("$set is not allowed")}async $create(e,n,r){throw new Error("$create is not allowed")}async $attach(e,n,r){throw new Error("$attach is not allowed")}async $detach(e,n,r){throw new Error("$detach is not allowed")}getName(){return[this.type().replace(":",""),this.source.entity.name,this.target.entity.name,this.config.mappedBy,this.config.inversedBy].filter(Boolean).join("_")}toJSON(){return{type:this.type(),source:this.source.entity.name,target:this.target.entity.name,config:this.config}}},Y(t,"schema",I.Object({mappedBy:I.Optional(I.String()),inversedBy:I.Optional(I.String()),required:I.Optional(I.Boolean())})),t)}),Td,qS=D(()=>{Td=class{constructor(t,e,n){Y(this,"entity");Y(this,"cardinality");Y(this,"reference");this.entity=t,this.cardinality=n,this.reference=e}toJSON(){return{entity:this.entity.name,cardinality:this.cardinality,name:this.reference}}}}),Uq,y2,Ti,qM=D(()=>{ve(),Lp(),Uq=["cascade","set null","set default","restrict","no action"],y2=I.Composite([zi,I.Object({reference:I.String(),target:I.String(),target_field:I.Optional(I.String({default:"id"})),on_delete:I.Optional(Nt(Uq,{default:"set null"}))})]),Ti=class xte extends Xi{constructor(){super(...arguments);Y(this,"type","relation")}getSchema(){return y2}static create(n,r,i){let s=[r.reference??r.entity.name,r.entity.getPrimaryField().name].join("_");return new xte(s,{...i,required:n.required,reference:r.reference,target:r.entity.name,target_field:r.entity.getPrimaryField().name})}reference(){return this.config.reference}target(){return this.config.target}targetField(){return this.config.target_field}schema(){return this.useSchemaHelper("integer",n=>n.references(`${this.config.target}.${this.config.target_field}`).onDelete(this.config.on_delete??"set null"))}transformRetrieve(n){return n}async transformPersist(n,r){throw new Error("This function should not be called")}toJsonSchema(){var n,r;return this.toSchemaWrapIfRequired(I.Number({$ref:`${(n=this.config)==null?void 0:n.target}#/properties/${(r=this.config)==null?void 0:r.target_field}`}))}}}),Qr,IO=D(()=>{Qr={OneToOne:"1:1",ManyToOne:"n:1",ManyToMany:"m:n",Polymorphic:"poly"}}),rp,N6e=D(()=>{var t;ve(),DO(),Lp(),BS(),qS(),qM(),IO(),rp=(t=class extends _d{constructor(r,i,s,o){let a=(s==null?void 0:s.connectionTable)||t.defaultConnectionTable(r,i),l=new Td(r,r.name),c=new Td(i,i.name);super(l,c,s);Y(this,"connectionEntity");Y(this,"additionalFields",[]);Y(this,"connectionTableMappedName");Y(this,"em");this.connectionEntity=new _c(a,o,void 0,"generated"),this.connectionTableMappedName=(s==null?void 0:s.connectionTableMappedName)||a,this.additionalFields=o||[]}static defaultConnectionTable(r,i){return`${r.name}_${i.name}`}type(){return Qr.ManyToMany}isListableFor(){return!0}getField(r){let i=this.connectionEntity,s=i.fields.find(o=>o instanceof Ti&&o.target()===r.name);if(!s||!(s instanceof Ti))throw new Error(`Connection entity "${i.name}" does not have a relation to "${r.name}"`);return s}getQueryInfo(r){let i=this.other(r),s=this.connectionEntity,o=this.getField(r),a=this.getField(i.entity),l=[s.name,`${i.entity.name}.${i.entity.getPrimaryField().name}`,`${s.name}.${a.name}`],c=`${r.name}.${r.getPrimaryField().name}`,u=`${s.name}.${o.name}`,d=`${r.name}.${r.getPrimaryField().name}`;return{other:i,join:l,entityRef:c,otherRef:u,groupBy:d}}getReferenceQuery(r,i){return{where:{[`${this.connectionEntity.name}.${r.name}_${r.getPrimaryField().name}`]:i},join:[this.target.reference]}}buildJoin(r,i){let{other:s,join:o,entityRef:a,otherRef:l,groupBy:c}=this.getQueryInfo(r);return i.innerJoin(s.entity.name,a,l).innerJoin(...o).groupBy(c)}buildWith(r){if(!this.em)throw new Error("EntityManager not set, can't build");let i=this.em.connection.fn.jsonBuildObject;if(!i)throw new Error("Connection does not support jsonBuildObject");let s=5,{other:o,join:a,entityRef:l,otherRef:c}=this.getQueryInfo(r),u=this.connectionEntity.fields.filter(d=>!(d instanceof Ti||d instanceof np));return d=>d.selectFrom(o.entity.name).select(f=>{let h=o.entity.getSelect(o.entity.name);if(u.length>0){let m=this.connectionEntity.name;h.push(i(Object.fromEntries(u.map(g=>[g.name,f.ref(`${m}.${g.name}`)]))).as(this.connectionTableMappedName))}return h}).whereRef(l,"=",c).innerJoin(...a).limit(s)}initialize(r){this.em=r,this.connectionEntity.addField(Ti.create(this,this.source)),this.connectionEntity.addField(Ti.create(this,this.target));for(let i of this.additionalFields)this.source.entity.addField(new m2(this.connectionTableMappedName)),this.target.entity.addField(new m2(this.connectionTableMappedName));r.addEntity(this.connectionEntity)}getName(){return[super.getName(),[this.connectionEntity.name,this.connectionTableMappedName].filter(Boolean)].join("_")}},Y(t,"schema",I.Composite([_d.schema,I.Object({connectionTable:I.Optional(I.String()),connectionTableMappedName:I.Optional(I.String())})],{additionalProperties:!1})),t)}),Ad,wte=D(()=>{var t;ve(),ve(),BS(),qS(),qM(),IO(),Ad=(t=class extends _d{constructor(r,i,s={}){let o=s.mappedBy||i.name,a=s.inversedBy||r.name,l=typeof s.sourceCardinality=="number"&&s.sourceCardinality>0?s.sourceCardinality:void 0,c=new Td(r,a,l),u=new Td(i,o,1);super(c,u,s);Y(this,"fieldConfig");this.fieldConfig=s.fieldConfig??{}}type(){return Qr.ManyToOne}initialize(r){let i=Kh(this.target.reference),s=Ti.create(this,this.target,{label:i,...this.fieldConfig});this.source.entity.field(s.name)||this.source.entity.addField(Ti.create(this,this.target,{label:i,...this.fieldConfig}))}getField(){let r=this.target.entity.getPrimaryField().name,i=this.source.entity.getField(`${this.target.reference}_${r}`);if(!(i instanceof Ti))throw new Error(`Field "${this.target.reference}_${r}" not found on entity "${this.source.entity.name}"`);return i}queryInfo(r,i){let s=this.source.reference===i?"source":"target",o=this[s],a=this[s==="source"?"target":"source"],l,c,u;s==="source"?(l=this.source.reference,c=`${l}.${this.getField().name}`,u=`${r.name}.${o.entity.getPrimaryField().name}`):(l=this.target.reference,c=`${l}.${r.getPrimaryField().name}`,u=`${r.name}.${this.getField().name}`);let d=`${r.name}.${r.getPrimaryField().name}`;return{other:a,self:o,relationRef:l,entityRef:c,otherRef:u,groupBy:d}}getReferenceQuery(r,i,s){let o=this.source.reference===s?"source":"target",a=this[o],l=this[o==="source"?"target":"source"];return{where:{[`${l.reference}_${l.entity.getPrimaryField().name}`]:i},join:l.entity.name===a.entity.name?[]:[l.entity.name]}}buildJoin(r,i,s){let{self:o,entityRef:a,otherRef:l,groupBy:c}=this.queryInfo(r,s);return i.innerJoin(o.entity.name,a,l).groupBy(c)}buildWith(r,i){let{self:s,entityRef:o,otherRef:a,relationRef:l}=this.queryInfo(r,i);return c=>c.selectFrom(`${s.entity.name} as ${l}`).whereRef(o,"=",a).$if(s.cardinality===1,u=>u.limit(1))}async $set(r,i,s){if(typeof s!="object")throw new Error(`Invalid value for relation field "${i}" given, expected object.`);let o=this.source.entity,a=this.helper(o.name).getMutationInfo();if(!a.$set)throw new Error(`Cannot perform $set for relation "${i}"`);let l=a.local_field,c=this.getField(),u=s[Object.keys(s)[0]];if(!l||!(c instanceof Ti))throw new Error(`Cannot perform $set for relation "${i}"`);if(u===null&&!c.isRequired())return[l,null];if(!(await r.repository(c.target()).exists({[c.targetField()]:u})).exists){let d=c.targetField();throw new Error(`Cannot connect "${o.name}.${i}" to "${c.target()}.${d}" = "${u}": not found.`)}return[l,u]}},Y(t,"DEFAULTS",{with_limit:5}),Y(t,"schema",I.Composite([_d.schema,I.Object({sourceCardinality:I.Optional(I.Number()),with_limit:I.Optional(I.Number({default:t.DEFAULTS.with_limit})),fieldConfig:I.Optional(I.Object({label:I.String()}))})],{additionalProperties:!1})),t)}),v0,E6e=D(()=>{wte(),IO(),v0=class extends Ad{constructor(t,e,n){let{mappedBy:r,inversedBy:i,required:s}=n||{};super(t,e,{mappedBy:r,inversedBy:i,sourceCardinality:1,required:s})}type(){return Qr.OneToOne}isListableFor(){return!1}async $set(t,e,n){throw new Error("$set is not allowed")}async $create(t,e,n){if(n===null||typeof n!="object")throw new Error(`Invalid value for relation field "${e}" given, expected object.`);let r=this.other(this.source.entity).entity,i=this.helper(this.source.entity.name).getMutationInfo(),s=i.primary,o=i.local_field;if(!i.$create||!s||!o)throw new Error(`Cannot perform $create for relation "${e}"`);try{let{data:a}=await t.mutator(r).insertOne(n),l=a[s];return[o,l]}catch{throw new Error(`Error performing $create on "${r.name}".`)}}}}),Py,_6e=D(()=>{var t;ve(),Lp(),BS(),qS(),IO(),Py=(t=class extends _d{constructor(e,n,r={}){let i=r.mappedBy||n.name,s=r.inversedBy||e.name,o=typeof r.targetCardinality=="number"&&r.targetCardinality>0?r.targetCardinality:void 0,a=new Td(e,s,1),l=new Td(n,i,o);super(a,l,r),this.directions=["source"]}type(){return Qr.Polymorphic}queryInfo(e){let n=this.other(e),r=`${n.entity.name}.${this.getReferenceField().name}`,i=`${e.name}.${this.config.mappedBy}`,s=`${n.entity.name}.${this.config.mappedBy}`,o=`${e.name}.${e.getPrimaryField().name}`,a=`${n.entity.name}.${this.getEntityIdField().name}`,l=`${e.name}.${e.getPrimaryField().name}`;return{other:n,whereLhs:r,reference:i,reference_other:s,entityRef:o,otherRef:a,groupBy:l}}buildJoin(e,n){let{other:r,whereLhs:i,reference:s,entityRef:o,otherRef:a,groupBy:l}=this.queryInfo(e);return n.innerJoin(r.entity.name,c=>c.onRef(o,"=",a).on(i,"=",s)).groupBy(l)}getReferenceQuery(e,n){let r=this.queryInfo(e);return{where:{[this.getReferenceField().name]:r.reference_other,[this.getEntityIdField().name]:n}}}buildWith(e){let{other:n,whereLhs:r,reference:i,entityRef:s,otherRef:o}=this.queryInfo(e);return a=>a.selectFrom(n.entity.name).where(r,"=",i).whereRef(s,"=",o).$if(n.cardinality===1,l=>l.limit(1))}isListableFor(e){return this.source.entity.name===e.name&&this.target.cardinality!==1}getReferenceField(){return new VS("reference",{hidden:!0,fillable:["create"]})}getEntityIdField(){return new FS("entity_id",{hidden:!0,fillable:["create"]})}initialize(e){let n=this.getReferenceField(),r=this.getEntityIdField();this.target.entity.field(n.name)||this.target.entity.addField(n),this.target.entity.field(r.name)||this.target.entity.addField(r)}},Y(t,"schema",I.Composite([_d.schema,I.Object({targetCardinality:I.Optional(I.Number())})],{additionalProperties:!1})),t)}),O2,vte,T6e=D(()=>{Fp(),O2=["$set","$create","$attach","$detach"],vte=class{constructor(t,e){Y(this,"relation");Y(this,"access");Y(this,"self");Y(this,"other");if(this.relation=t,t.source.entity.name===e)this.access="source",this.self=t.source,this.other=t.target;else if(t.target.entity.name===e)this.access="target",this.self=t.target,this.other=t.source;else throw new Error(`Entity "${e}" is not part of the relation "${t.source.entity.name} <-> ${t.target.entity.name}"`)}getMutationInfo(){var r,i;let t={$set:!1,$create:!1,$attach:!1,$detach:!1},e,n;switch(this.relation.type()){case Qr.ManyToOne:typeof this.self.cardinality>"u"&&this.other.cardinality===1&&(t.$set=!0,e=(r=this.relation.getField())==null?void 0:r.name,n=this.other.entity.getPrimaryField().name);break;case Qr.OneToOne:this.access==="source"&&(t.$create=!0,t.$set=!0,e=(i=this.relation.getField())==null?void 0:i.name,n=this.other.entity.getPrimaryField().name);break;case Qr.ManyToMany:this.access==="source"&&(t.$attach=!0,t.$detach=!0,n=this.other.entity.getPrimaryField().name);break}return{reference:this.other.reference,local_field:e,...t,primary:n,cardinality:this.other.cardinality,relation_type:this.relation.type()}}}}),Ste,A6e=D(()=>{Fp(),Ste=class{constructor(t,e){this.entity=t,this.em=e}getRelationalKeys(){let t=[];return this.em.relationsOf(this.entity.name).map(e=>{let n=e.helper(this.entity.name).getMutationInfo();t.push(n.reference),n.local_field&&t.push(n.local_field)}),t}async persistRelationField(t,e,n){if(n===null&&!t.isRequired())return[e,n];if(typeof n=="object")throw console.log("value",n),new Error(`Invalid value for relation field "${e}" given, expected primitive.`);if(!(await this.em.repository(t.target()).exists({[t.targetField()]:n})).exists){let r=t.targetField();throw new Error(`Cannot connect "${this.entity.name}.${e}" to "${t.target()}.${r}" = "${n}": not found.`)}return[e,n]}async persistReference(t,e,n){if(typeof n!="object"||n===null||typeof n>"u")throw new Error(`Invalid value for relation "${e}" given, expected object to persist reference. Like '{$set: {id: 1}}'.`);let r=Object.keys(n)[0];if(!O2.includes(r))throw new Error(`Invalid operation "${r}" for relation "${e}". Allowed: ${O2.join(", ")}`);let i=n[r];return await t[r](this.em,e,i)}async persistRelation(t,e){let n=this.entity.getField(t);if(n instanceof Ti)return this.persistRelationField(n,t,e);let r=this.em.relationOf(this.entity.name,t);if(r)return this.persistReference(r,t,e);throw new Error(`Relation "${t}" failed to resolve on entity "${this.entity.name}": Unable to resolve relation origin.`)}}}),b2,kte,Fp=D(()=>{N6e(),wte(),E6e(),_6e(),IO(),BS(),qS(),T6e(),A6e(),LM(),qM(),b2={[Qr.OneToOne]:{schema:v0.schema,cls:v0},[Qr.ManyToOne]:{schema:Ad.schema,cls:Ad},[Qr.ManyToMany]:{schema:rp.schema,cls:rp},[Qr.Polymorphic]:{schema:Py.schema,cls:Py}},kte={relation:{schema:y2,field:Ti}}}),rP,Xq,Gq,iP,Yq,Ox,Hq,Jq,dc,$te,Cte=D(()=>{ve(),DO(),rP=(t={})=>I.Transform(I.Union([I.Number(),I.String()],t)).Decode(e=>Number.parseInt(String(e))).Encode(String),Xq=rP({default:10}),Gq=rP({default:0}),iP={by:"id",dir:"asc"},Yq=I.Transform(I.Union([I.String(),I.Object({by:I.String(),dir:Nt(["asc","desc"])})],{default:iP})).Decode(t=>{if(typeof t=="string"){if(/^-?[a-zA-Z_][a-zA-Z0-9_.]*$/.test(t)){let e=t[0]==="-"?"desc":"asc";return{by:e==="desc"?t.slice(1):t,dir:e}}else if(/^{.*}$/.test(t))return JSON.parse(t);return iP}return t}).Encode(t=>t),Ox=I.Transform(I.Union([I.String(),I.Array(I.String())],{default:[]})).Decode(t=>Array.isArray(t)?t:t.includes(",")?t.split(","):[t]).Encode(t=>Array.isArray(t)?t:[t]),Hq=I.Transform(I.Union([I.String(),I.Object({})],{default:{}})).Decode(t=>{let e=typeof t=="string"?JSON.parse(t):t;return ll.convert(e)}).Encode(JSON.stringify),Jq=t=>I.Transform(I.Union([Ox,I.Record(I.String(),t)])).Decode(e=>{let n=typeof e=="string"?[e]:e;if(Array.isArray(e)){if(!e.every(r=>typeof r=="string"))throw new Error("Invalid 'with' schema");n=e.reduce((r,i)=>(r[i]={},r),{})}return n}).Encode(e=>e),dc=I.Recursive(t=>I.Partial(I.Object({limit:Xq,offset:Gq,sort:Yq,select:Ox,with:Jq(t),join:Ox,where:Hq},{additionalProperties:!1})),{$id:"query-schema"}),$te=Sfe(dc,{})}),x2,ip,WS=D(()=>{ve(),Sr(),x2=I.Composite([I.Object({entity:I.String(),min_items:I.Optional(I.Number()),max_items:I.Optional(I.Number()),mime_types:I.Optional(I.Array(I.String()))}),zi]),ip=class extends Xi{constructor(e,n){super(e,{...n,fillable:["update"],virtual:!0});Y(this,"type","media")}getSchema(){return x2}getMaxItems(){return this.config.max_items}getMinItems(){return this.config.min_items}schema(){}toJsonSchema(){var i,s;let e="../schema.json#/properties/media",n=(i=this.config)==null?void 0:i.min_items,r=(s=this.config)==null?void 0:s.max_items;return r===1?{$ref:e}:{type:"array",items:{$ref:e},minItems:n,maxItems:r}}}}),S0,Pte,w2,k0,v2,jy,$0,Kq,jte,Vp=D(()=>{ve(),Sr(),WS(),S0={...BM,...kte,media:{schema:x2,field:ip}},Pte=b2,w2=MO(S0,(t,e)=>I.Object({type:I.Const(e,{default:e,readOnly:!0}),config:I.Optional(t.schema)},{title:e})),k0=I.Union(Object.values(w2)),v2=Go(k0),jy=I.Object({type:I.Optional(I.String({enum:Ote,default:"regular",readOnly:!0})),config:I.Optional(g2),fields:I.Optional(v2)}),$0=Object.entries(b2).map(([t,e])=>I.Object({type:I.Const(t,{default:t,readOnly:!0}),source:I.String(),target:I.String(),config:I.Optional(e.schema)},{title:t})),Kq=I.Object({entity:I.String(),fields:I.Array(I.String(),{minItems:1}),unique:I.Optional(I.Boolean({default:!1}))},{additionalProperties:!1}),jte=I.Object({basepath:I.Optional(I.String({default:"/api/data"})),entities:I.Optional(Go(jy,{default:{}})),relations:I.Optional(Go(I.Union($0),{default:{}})),indices:I.Optional(Go(Kq,{default:{}}))},{additionalProperties:!1})});function WM(t,e){let n=Yt(e.fields??{},(r,i)=>{let{type:s}=r;if(!(s in S0))throw new Error(`Field type "${s}" not found`);let{field:o}=S0[s];return new o(i,r.config)});return new _c(t,Object.values(n),e.config,e.type)}function Nte(t,e){return new Pte[t.type].cls(e(t.source),e(t.target),t.config)}var R6e=D(()=>{ve(),Sr(),Vp()}),cr={};mo(cr,{databaseSync:()=>Rte,entityCreate:()=>_te,entityDelete:()=>Ate,entityRead:()=>Ete,entityUpdate:()=>Tte,rawMutate:()=>Qte,rawQuery:()=>Mte});var Ete,_te,Tte,Ate,Rte,Mte,Qte,M6e=D(()=>{Qn(),Ete=new Yn("data.entity.read"),_te=new Yn("data.entity.create"),Tte=new Yn("data.entity.update"),Ate=new Yn("data.entity.delete"),Rte=new Yn("data.database.sync"),Mte=new Yn("data.raw.query"),Qte=new Yn("data.raw.mutate")}),Sr=D(()=>{QS(),Lp(),DO(),Fp(),yte(),ZM(),Cte(),R6e(),M6e(),{...tp,...MS}}),Ite,Q6e=D(()=>{var t;Ud(),Sr(),go(),QS(),Fp(),Ite=(t=class{constructor(n,r,i){Y(this,"em");Y(this,"entity");Y(this,"emgr");Y(this,"__unstable_disable_system_entity_creation",!0);this.em=n,this.entity=r,this.emgr=i??new Dp(tp)}__unstable_toggleSystemEntityCreation(n){this.__unstable_disable_system_entity_creation=n}get conn(){return this.em.connection.kysely}async getValidatedData(n,r){let i=this.entity;if(!r)throw new Error("Context must be provided for validation");let s=Object.keys(n),o={},a=new Ste(i,this.em),l=a.getRelationalKeys();for(let c of s){if(l.includes(c)){let d=await a.persistRelation(c,n[c]);if(Array.isArray(d)){let[f,h]=d;o[f]=h}continue}let u=i.getField(c);if(!u)throw new Error(`Field "${c}" not found on entity "${i.name}". Fields: ${i.getFillableFields().map(d=>d.name).join(", ")}`);if(!u.isFillable(r))throw new Error(`Field "${c}" is not fillable on entity "${i.name}"`);o[c]=await u.transformPersist(n[c],this.em,r)}if(Object.keys(o).length===0)throw new Error(`No data left to update "${i.name}"`);return o}async many(n){let r=this.entity,{sql:i,parameters:s}=n.compile(),o=await n.execute(),a=this.em.hydrate(r.name,o);return{entity:r,sql:i,parameters:[...s],result:o,data:a}}async single(n){let{data:r,...i}=await this.many(n);return{...i,data:r[0]}}async insertOne(n){let r=this.entity;if(r.type==="system"&&this.__unstable_disable_system_entity_creation)throw new Error(`Creation of system entity "${r.name}" is disabled`);let i=await this.emgr.emit(new t.Events.MutatorInsertBefore({entity:r,data:n})),s=i.returned?i.params.data:n,o={...r.getDefaultObject(),...await this.getValidatedData(s,"create")},a=r.getRequiredFields();for(let u of a)if(typeof o[u.name]>"u"||o[u.name]===null)throw new Error(`Field "${u.name}" is required`);let l=this.conn.insertInto(r.name).values(o).returning(r.getSelect()),c=await this.single(l);return await this.emgr.emit(new t.Events.MutatorInsertAfter({entity:r,data:c.data})),c}async updateOne(n,r){let i=this.entity;if(!Number.isInteger(n))throw new Error("ID must be provided for update");let s=await this.emgr.emit(new t.Events.MutatorUpdateBefore({entity:i,entityId:n,data:r})),o=s.returned?s.params.data:r,a=await this.getValidatedData(o,"update"),l=this.conn.updateTable(i.name).set(a).where(i.id().name,"=",n).returning(i.getSelect()),c=await this.single(l);return await this.emgr.emit(new t.Events.MutatorUpdateAfter({entity:i,entityId:n,data:c.data})),c}async deleteOne(n){let r=this.entity;if(!Number.isInteger(n))throw new Error("ID must be provided for deletion");await this.emgr.emit(new t.Events.MutatorDeleteBefore({entity:r,entityId:n}));let i=this.conn.deleteFrom(r.name).where(r.id().name,"=",n).returning(r.getSelect()),s=await this.single(i);return await this.emgr.emit(new t.Events.MutatorDeleteAfter({entity:r,entityId:n,data:s.data})),s}getValidOptions(n){let r=this.entity,i={};if(n!=null&&n.where){let s=ll.getPropertyNames(n.where).filter(o=>typeof r.getField(o)>"u");if(s.length>0)throw new rl(`Invalid where field(s): ${s.join(", ")}`);i.where=n.where}return i}appendWhere(n,r){let i=this.entity;if(i.name,r){let s=ll.getPropertyNames(r).filter(o=>typeof i.getField(o)>"u");if(s.length>0)throw new rl(`Invalid where field(s): ${s.join(", ")}`);return ll.addClause(n,r)}return n}async deleteWhere(n){let r=this.entity,i=this.appendWhere(this.conn.deleteFrom(r.name),n).returning(r.getSelect());return await this.many(i)}async updateWhere(n,r){let i=this.entity,s=await this.getValidatedData(n,"update"),o=this.appendWhere(this.conn.updateTable(i.name),r).set(s).returning(i.getSelect());return await this.many(o)}async insertMany(n){let r=this.entity;if(r.type==="system"&&this.__unstable_disable_system_entity_creation)throw new Error(`Creation of system entity "${r.name}" is disabled`);let i=[];for(let o of n){let a={...r.getDefaultObject(),...await this.getValidatedData(o,"create")},l=r.getRequiredFields();for(let c of l)if(typeof a[c.name]>"u"||a[c.name]===null)throw new Error(`Field "${c.name}" is required`);i.push(a)}let s=this.conn.insertInto(r.name).values(i).returning(r.getSelect());return await this.many(s)}},Y(t,"Events",tp),t)}),S2,I6e=D(()=>{Fp(),S2=class Dte{static buildClause(e,n,r,i){let s=e.relationOf(r.name,i);if(!s)throw new Error(`Relation "${i}" not found`);return s.buildJoin(r,n,i)}static getJoinedEntityNames(e,n,r){return r.flatMap(i=>{let s=e.relationOf(n.name,i);if(!s)throw new Error(`Relation "${i}" not found`);let o=s.other(n);return s instanceof Ad?[o.entity.name]:s instanceof rp?[o.entity.name,s.connectionEntity.name]:[]})}static addClause(e,n,r,i){if(i.length===0)return n;let s=n;for(let o of i)s=Dte.buildClause(e,s,r,o);return s}}}),Lte,D6e=D(()=>{var t;Ud(),go(),QS(),Cte(),DO(),I6e(),Lte=(t=class{constructor(n,r,i){Y(this,"em");Y(this,"entity");Y(this,"emgr");this.em=n,this.entity=r,this.emgr=i??new Dp(tp)}cloneFor(n){return new t(this.em,this.em.entity(n),this.emgr)}get conn(){return this.em.connection.kysely}getValidOptions(n){let r=this.entity,i={...Ei($te),sort:r.getDefaultSort(),select:r.getSelect()};if(!n)return i;if(n.sort){if(!i.select.includes(n.sort.by))throw new rl(`Invalid sort field "${n.sort.by}"`);if(!["asc","desc"].includes(n.sort.dir))throw new rl(`Invalid sort direction "${n.sort.dir}"`);i.sort=n.sort}if(n.select&&n.select.length>0){let s=n.select.filter(o=>!i.select.includes(o));if(s.length>0)throw new rl(`Invalid select field(s): ${s.join(", ")}`).context({entity:r.name,valid:i.select});i.select=n.select}if(n.with&&(k2.validateWiths(this.em,r.name,n.with),i.with=n.with),n.join&&n.join.length>0)for(let s of n.join){if(!this.em.relationOf(r.name,s))throw new rl(`JOIN: "${s}" is not a relation of "${r.name}"`);i.join.push(s)}if(n.where){let s=[r.name];i.join.length>0&&s.push(...S2.getJoinedEntityNames(this.em,r,i.join));let o=ll.getPropertyNames(n.where).filter(a=>{if(a.includes(".")){let[l,c]=a.split(".");return s.includes(l)?!this.em.entity(l).getField(c):!0}return typeof r.getField(a)>"u"});if(o.length>0)throw new rl(`Invalid where field(s): ${o.join(", ")}`);i.where=n.where}return n.limit&&(i.limit=n.limit),n.offset&&(i.offset=n.offset),i}async performQuery(n){var c,u;let r=this.entity,i=n.compile(),s=performance.now(),o=(d="count")=>this.conn.fn.countAll().as(d),a=n.clearSelect().select(o()).clearLimit().clearOffset().clearGroupBy().clearOrderBy(),l=this.conn.selectFrom(r.name).select(o("total"));try{let[d,f,h]=await this.em.connection.batchQuery([a,l,n]),m=Number.parseFloat((performance.now()-s).toFixed(2)),g=this.em.hydrate(r.name,h);return{entity:r,sql:i.sql,parameters:[...i.parameters],result:h,data:g,meta:{total:((c=f[0])==null?void 0:c.total)??0,count:((u=d[0])==null?void 0:u.count)??0,items:h.length,time:m,query:{sql:i.sql,parameters:i.parameters}}}}catch(d){throw d instanceof Error&&console.error("[ERROR] Repository.performQuery",d.message),d}}async single(n,r){await this.emgr.emit(new t.Events.RepositoryFindOneBefore({entity:this.entity,options:r}));let{data:i,...s}=await this.performQuery(n);return await this.emgr.emit(new t.Events.RepositoryFindOneAfter({entity:this.entity,options:r,data:i[0]})),{...s,data:i[0]}}addOptionsToQueryBuilder(n,r,i){var f,h;let s=this.entity,o=n??this.conn.selectFrom(s.name),a=(i==null?void 0:i.validate)!==!1?this.getValidOptions(r):r;if(!a)return o;let l=(i==null?void 0:i.alias)??s.name,c=m=>`${l}.${m}`,u=(i==null?void 0:i.ignore)??[],d={limit:10,offset:0,...i==null?void 0:i.defaults};return!u.includes("select")&&a.select&&(o=o.select(s.getAliasedSelectFrom(a.select,l))),!u.includes("with")&&a.with&&(o=k2.addClause(this.em,o,s,a.with)),!u.includes("join")&&a.join&&(o=S2.addClause(this.em,o,s,a.join)),!u.includes("where")&&a.where&&(o=ll.addClause(o,a.where)),u.includes("limit")||(o=o.limit(a.limit??d.limit)),u.includes("offset")||(o=o.offset(a.offset??d.offset)),u.includes("sort")||(o=o.orderBy(c(((f=a.sort)==null?void 0:f.by)??"id"),((h=a.sort)==null?void 0:h.dir)??"asc")),o}buildQuery(n,r=[]){let i=this.entity,s=this.getValidOptions(n);return{qb:this.addOptionsToQueryBuilder(void 0,s,{ignore:r,alias:i.name}),options:s}}async findId(n,r){let{qb:i,options:s}=this.buildQuery({...r,where:{[this.entity.getPrimaryField().name]:n},limit:1},["offset","sort"]);return this.single(i,s)}async findOne(n,r){let{qb:i,options:s}=this.buildQuery({...r,where:n,limit:1});return this.single(i,s)}async findMany(n){let{qb:r,options:i}=this.buildQuery(n);await this.emgr.emit(new t.Events.RepositoryFindManyBefore({entity:this.entity,options:i}));let s=await this.performQuery(r);return await this.emgr.emit(new t.Events.RepositoryFindManyAfter({entity:this.entity,options:i,data:s.data})),s}async findManyByReference(n,r,i){let s=this.entity,o=this.em.relations.listableRelationsOf(s).find(u=>u.ref(r).reference===r);if(!o)throw new Error(`Relation "${r}" not found or not listable on entity "${s.name}"`);let a=o.other(s).entity,l=o.getReferenceQuery(a,n,r);if(!("where"in l)||Object.keys(l.where).length===0)throw new Error(`Invalid reference query for "${r}" on entity "${a.name}"`);let c={...i,...l,where:{...l.where,...i==null?void 0:i.where}};return this.cloneFor(a).findMany(c)}async count(n){var c;let r=this.entity,i=this.getValidOptions({where:n}),s=this.conn.fn.count(Vg`*`).as("count"),o=this.conn.selectFrom(r.name).select(s);i.where&&(o=ll.addClause(o,i.where));let a=o.compile(),l=await o.execute();return{sql:a.sql,parameters:[...a.parameters],result:l,count:((c=l[0])==null?void 0:c.count)??0}}async exists(n){let r=this.entity,i=this.getValidOptions({where:n}),s=this.conn.fn.count(Vg`*`).as("count"),o=this.conn.selectFrom(r.name).select(s);o=ll.addClause(o,i.where),o=o.limit(1);let a=o.compile(),l=await o.execute();return{sql:a.sql,parameters:[...a.parameters],result:l,exists:l[0].count>0}}},Y(t,"Events",MS),t)});function Qs(t){if(typeof t!="string")throw new Error(`Invalid key: ${t}`);return t}var e4,bx,ll,L6e=D(()=>{Qn(),e4=[Ms("$eq",t=>nc(t),(t,e,n)=>n(Qs(e),"=",t)),Ms("$ne",t=>nc(t),(t,e,n)=>n(Qs(e),"!=",t)),Ms("$gt",t=>nc(t),(t,e,n)=>n(Qs(e),">",t)),Ms("$gte",t=>nc(t),(t,e,n)=>n(Qs(e),">=",t)),Ms("$lt",t=>nc(t),(t,e,n)=>n(Qs(e),"<",t)),Ms("$lte",t=>nc(t),(t,e,n)=>n(Qs(e),"<=",t)),Ms("$isnull",t=>c6e(t),(t,e,n)=>n(Qs(e),t?"is":"is not",null)),Ms("$in",t=>Array.isArray(t),(t,e,n)=>n(Qs(e),"in",t)),Ms("$notin",t=>Array.isArray(t),(t,e,n)=>n(Qs(e),"not in",t)),Ms("$between",t=>Array.isArray(t)&&t.length===2,(t,e,n)=>n.between(Qs(e),t[0],t[1])),Ms("$like",t=>nc(t),(t,e,n)=>n(Qs(e),"like",String(t).replace(/\*/g,"%")))],bx=d6e(e4),ll=class{static addClause(t,e){return Object.keys(e).length===0?t:t.where(n=>{let r=bx.build(e,{value_is_kv:!0,exp_ctx:n,convert:!0});return r.$or.length>0&&r.$and.length>0?n.and(r.$and).or(n.and(r.$or)):r.$or.length>0?n.or(r.$or):n.and(r.$and)})}static convert(t){return bx.convert(t)}static getPropertyNames(t){let{keys:e}=bx.build(t,{value_is_kv:!0,exp_ctx:()=>null,convert:!0});return Array.from(e)}}}),k2,F6e=D(()=>{ve(),go(),k2=class $2{static addClause(e,n,r,i){if(!i||!Sq(i))return console.warn(`'withs' undefined or invalid, given: ${JSON.stringify(i)}`),n;let s=e.connection.fn,o=n;for(let[a,l]of Object.entries(i)){let c=e.relationOf(r.name,a);if(!c)throw new Error(`Relation "${r.name}<>${a}" not found`);let u=c.ref(a).cardinality,d=u===1?s.jsonObjectFrom:s.jsonArrayFrom;if(!d)throw new Error("Connection does not support jsonObjectFrom/jsonArrayFrom");let f=c.other(r);o=o.select(h=>{let m=c.buildWith(r,a)(h);return l&&(m=e.repo(f.entity).addOptionsToQueryBuilder(m,l,{ignore:["with","join",u===1?"limit":void 0].filter(Boolean)})),l.with&&(m=$2.addClause(e,m,f.entity,l.with)),d(m).as(f.reference)})}return o}static validateWiths(e,n,r){let i=0;if(!r||!Sq(r))return r&&console.warn(`'withs' invalid, given: ${JSON.stringify(r)}`),i;let s=[];for(let[o,a]of Object.entries(r)){if(!e.relationOf(n,o))throw new rl(`WITH: "${o}" is not a relation of "${n}"`);i++,"with"in a&&s.push($2.validateWiths(e,o,a.with))}return s.length>0&&(i+=Math.max(...s)),i}}}),DO=D(()=>{bte(),Vte(),Q6e(),D6e(),L6e(),F6e()}),Fte,Vte=D(()=>{var t;Ud(),ate(),go(),QS(),LM(),yte(),bte(),DO(),Fte=(t=class{constructor(n,r,i=[],s=[],o){Y(this,"connection");Y(this,"_entities",[]);Y(this,"_relations",[]);Y(this,"_indices",[]);Y(this,"_schema");Y(this,"emgr");if(n.forEach(a=>this.addEntity(a)),i.forEach(a=>this.addRelation(a)),s.forEach(a=>this.addIndex(a)),!IM.isConnection(r))throw new dte("");this.connection=r,this.emgr=o??new Dp,this.emgr.registerEvents(t.Events)}fork(){return new t(this._entities,this.connection,this._relations,this._indices)}get entities(){return this._entities}get relations(){return new DM(this._relations)}get indices(){return this._indices}async ping(){return(await Vg`SELECT 1`.execute(this.connection.kysely)).rows.length>0}addEntity(n){let r=this.entities.find(i=>i.name===n.name);if(r){if(JSON.stringify(r)===JSON.stringify(n))return;throw new Error(`Entity "${n.name}" already exists`)}this.entities.push(n)}__replaceEntity(n,r=n.name){let i=this._entities.findIndex(s=>s.name===r);if(i===-1)throw new Error(`Entity "${r}" not found and cannot be replaced`);this._entities[i]=n}entity(n,r){let i=this.entities.find(s=>n instanceof _c?s.name===n.name:s.name===n);if(!i){if(r===!0)return;throw new pte(n instanceof _c?n.name:n)}return i}hasEntity(n){let r=typeof n=="string"?n:n.name;return this.entities.some(i=>i.name===r)}hasIndex(n){let r=typeof n=="string"?n:n.name;return this.indices.some(i=>i.name===r)}addRelation(n){if(!this.entity(n.source.entity.name)||!this.entity(n.target.entity.name))throw new Error("Relation source or target entity not found");if(this._relations.find(r=>{let i=r.source.entity.name===n.source.entity.name&&r.target.entity.name===n.target.entity.name,s=r.source.reference===n.source.reference&&r.target.reference===n.target.reference;return i&&s}))throw new Error(`Relation "${n.type}" between "${n.source.entity.name}" and "${n.target.entity.name}" already exists`);this._relations.push(n),n.initialize(this)}relationsOf(n){return this.relations.relationsOf(this.entity(n))}relationOf(n,r){return this.relations.relationOf(this.entity(n),r)}hasRelations(n){return this.relations.hasRelations(this.entity(n))}relatedEntitiesOf(n){return this.relations.relatedEntitiesOf(this.entity(n))}relationReferencesOf(n){return this.relations.relationReferencesOf(this.entity(n))}repository(n){return this.repo(n)}repo(n){return new Lte(this,this.entity(n),this.emgr)}mutator(n){return new Ite(this,this.entity(n),this.emgr)}addIndex(n,r=!1){if(this.indices.find(i=>i.name===n.name)){if(r)throw new Error(`Index "${n.name}" already exists`);return}this._indices.push(n)}getIndicesOf(n){let r=n instanceof _c?n:this.entity(n);return this.indices.filter(i=>i.entity.name===r.name)}schema(){return this._schema||(this._schema=new gte(this)),this._schema}hydrate(n,r){let i=this.entity(n),s=[];for(let o of r){for(let[a,l]of Object.entries(o)){let c=i.getField(a);if(!c||c.isVirtual()){let u=this.relationOf(n,a);if(u){if(!l)continue;l=u.hydrate(a,Array.isArray(l)?l:[l],this),o[a]=l;continue}else if(c!=null&&c.isVirtual())continue;throw new Error(`Field "${a}" not found on entity "${i.name}"`)}try{l===null&&c.hasDefault()&&(o[a]=c.getDefault()),o[a]=c.transformRetrieve(l)}catch(u){throw new fte(`"${c.type}" field "${a}" on entity "${i.name}": ${u.message}`)}}s.push(o)}return s}toJSON(){return{entities:Object.fromEntries(this.entities.map(n=>[n.name,n.toJSON()])),relations:Object.fromEntries(this.relations.all.map(n=>[n.getName(),n.toJSON()])),indices:Object.fromEntries(this.indices.map(n=>[n.name,n.toJSON()]))}}},Y(t,"Events",{...tp,...MS}),t)});function il(t){return new wa("text",t,!1)}function C2(t){return new wa("number",t,!1)}function P2(t){return new wa("date",{...t,type:"datetime"},!1)}function V6e(t){return new wa("boolean",t,!1)}function j2(t){var n;let e={options:{type:typeof((n=t==null?void 0:t.enum)==null?void 0:n[0])!="string"?"objects":"strings",values:(t==null?void 0:t.enum)??[]}};return new wa("enumm",e,!1)}function B6e(t){return new wa("json",t,!1)}function q6e(t){return new wa("jsonSchema",t,!1)}function W6e(t,e){if(e instanceof wa)return e.make(t);throw new Error("Invalid field")}function zM(t,e,n,r){let i=[];for(let[s,o]of Object.entries(e)){let a=o,l={entity:{name:t,fields:e},field_name:s,config:a.config,is_required:a.is_required};i.push(a.getField(l))}return new _c(t,i,n,r)}function z6e(t){return{manyToOne:(e,n)=>new Ad(t,e,n),oneToOne:(e,n)=>new v0(t,e,n),manyToMany:(e,n,r)=>{let i=[];if(r){let s=r,o=[],a=(n==null?void 0:n.connectionTable)??rp.defaultConnectionTable(t,e);for(let[l,c]of Object.entries(r)){let u=c,d={entity:{name:a,fields:s},field_name:l,config:u.config,is_required:u.is_required};o.push(u.getField(d))}i.push(o)}return new rp(t,e,n,i)},polyToOne:(e,n)=>new Py(t,e,{...n,targetCardinality:1}),polyToMany:(e,n)=>new Py(t,e,n)}}function Z6e(t){return{on:(e,n)=>{let r=e.map(i=>{let s=t.field(i);if(!s)throw new Error(`Field "${String(i)}" not found on entity "${t.name}"`);return s});return new VM(t,r,n)}}}function Bte(t,e){let n=[],r=[],i=a=>new Proxy(z6e(a),{get(l,c){return(...u)=>(n.push(l[c](...u)),i(a))}}),s=a=>new Proxy(Z6e(a),{get(l,c){return(...u)=>(r.push(l[c](...u)),s(a))}});e&&e({relation:i,index:s},t);let o=new qte(t,n,r);return{DB:o.__entities,entities:o.__entities,relations:n,indices:r,toJSON:()=>o.toJSON()}}var jm,wa,qte,ZM=D(()=>{y6e(),Vte(),WS(),Sr(),jm={text:t=>new VS(t.field_name,{...t.config,required:t.is_required}),number:t=>new FS(t.field_name,{...t.config,required:t.is_required}),date:t=>new w0(t.field_name,{...t.config,required:t.is_required}),datetime:t=>new w0(t.field_name,{...t.config,required:t.is_required}),boolean:t=>new FM(t.field_name,{...t.config,required:t.is_required}),enumm:t=>new IS(t.field_name,{...t.config,required:t.is_required}),json:t=>new DS(t.field_name,{...t.config,required:t.is_required}),jsonSchema:t=>new LS(t.field_name,{...t.config,required:t.is_required}),media:t=>new ip(t.field_name,{...t.config,entity:t.entity.name,required:t.is_required}),medium:t=>new ip(t.field_name,{...t.config,entity:t.entity.name,required:t.is_required})},wa=class{constructor(t,e,n){this.type=t,this.config=e,this.is_required=n}required(){return this.is_required=!0,this}getField(t){if(!jm[this.type])throw new Error(`Unknown field type: ${this.type}`);try{return jm[this.type](t)}catch(e){throw new Error(`Faild to construct field "${this.type}": ${e}`)}}make(t){if(!jm[this.type])throw new Error(`Unknown field type: ${this.type}`);try{return jm[this.type]({entity:{name:"unknown",fields:{}},field_name:t,config:this.config,is_required:this.is_required})}catch(e){throw new Error(`Faild to construct field "${this.type}": ${e}`)}}},qte=class extends Fte{constructor(t,e=[],n=[]){super(Object.values(t),new lte,e,n),this.__entities=t}}}),Bp,LO=D(()=>{var t;Qn(),Sr(),Sr(),Bp=(t=class{constructor(e,n){Y(this,"_built",!1);Y(this,"_schema");Y(this,"_listener",()=>null);this._ctx=n,this._schema=new r2(this.getSchema(),e,{forceParse:this.useForceParse(),onUpdate:async r=>{await this._listener(r)},restrictPaths:this.getRestrictedPaths(),overwritePaths:this.getOverwritePaths(),onBeforeUpdate:this.onBeforeUpdate.bind(this)})}onBeforeUpdate(e,n){return n}setListener(e){return this._listener=e,this}useForceParse(){return!1}getRestrictedPaths(){}getOverwritePaths(){}get configDefault(){return this._schema.default()}get config(){return this._schema.get()}setContext(e){return this._ctx=e,this}schema(){return this._schema}onServerInit(e){}get ctx(){if(!this._ctx)throw new Error("Context not set");return this._ctx}async build(){throw new Error("Not implemented")}setBuilt(){this._built=!0,this._schema=new r2(this.getSchema(),this.toJSON(!0),{onUpdate:async e=>{await this._listener(e)},forceParse:this.useForceParse(),restrictPaths:this.getRestrictedPaths(),overwritePaths:this.getOverwritePaths(),onBeforeUpdate:this.onBeforeUpdate.bind(this)})}isBuilt(){return this._built}throwIfNotBuilt(){if(!this._built)throw new Error("Config not built: "+this.constructor.name)}toJSON(e){return this.config}ensureEntity(e){let n=this.ctx.em.entity(e.name,!0);if(!n){this.ctx.em.addEntity(e),this.ctx.flags.sync_required=!0;return}for(let r of e.fields){let i=n.field(r.name);i?this.setEntityFieldConfigs(r,i)>0&&(this.ctx.flags.sync_required=!0):(n.addField(r),this.ctx.flags.sync_required=!0)}this.ctx.em.__replaceEntity(new _c(n.name,n.fields,n.config,e.type))}ensureIndex(e){this.ctx.em.hasIndex(e)||(this.ctx.em.addIndex(e),this.ctx.flags.sync_required=!0)}ensureSchema(e){var n;return Object.values(e.entities??{}).forEach(this.ensureEntity.bind(this)),(n=e.indices)==null||n.forEach(this.ensureIndex.bind(this)),e}setEntityFieldConfigs(e,n,r=["hidden","fillable","required"]){let i=0;for(let s of r)iT(n.config[s],e.config[s])||(n.config[s]=e.config[s],i++);return i}replaceEntityField(e,n,r){let i=this.ctx.em.entity(e),s=typeof n=="string"?n:n.name,o=r instanceof wa?W6e(s,r):r;this.setEntityFieldConfigs(i.field(s),o),i.__replaceField(s,o)}},Y(t,"ctx_flags",{sync_required:!1,ctx_reload_required:!1}),t)});function N2(t){let e=t instanceof Request?t:t.req.raw;return new URL(e.url).pathname}function U6e(t,e){if(t.get("auth_skip"))return!0;let n=t.req.raw;if(!e)return!1;let r=N2(n),i=e.some(s=>EZe(r,s));return t.set("auth_skip",i),i}var Wte,zte,X6e=D(()=>{ve(),Wte=t=>_L(async(e,n)=>{let r=e.get("app"),i=r==null?void 0:r.modules.ctx().guard,s=r==null?void 0:r.module.auth.authenticator,o=U6e(e,t==null?void 0:t.skip)||!(r!=null&&r.module.auth.enabled);e.get("auth_registered")?(o=!0,console.warn(`auth middleware already registered for ${N2(e)}`)):(e.set("auth_registered",!0),o||e.get("auth_resolved")||(r!=null&&r.module.auth.enabled?(i==null||i.setUserContext(await(s==null?void 0:s.resolveAuthFromRequest(e))),e.set("auth_resolved",!0)):i==null||i.setUserContext(void 0))),await n(),o||(s==null||s.requestCookieRefresh(e)),i==null||i.setUserContext(void 0),s==null||s.resetUser(),e.set("auth_resolved",!1)}),zte=(t,e)=>_L(async(n,r)=>{var s,o;let i=n.get("app");if(!n.get("auth_registered")||!i){let a=`auth middleware not registered, cannot check permissions for ${N2(n)}`;if(i!=null&&i.module.auth.enabled)throw new Error(a);console.warn(a)}else if(!n.get("auth_skip")){let a=i.modules.ctx().guard,l=Array.isArray(t)?t:[t];if(e!=null&&e.onGranted||e!=null&&e.onDenied){let c;if(l.every(u=>a.granted(u))?c=await((s=e==null?void 0:e.onGranted)==null?void 0:s.call(e,n)):c=await((o=e==null?void 0:e.onDenied)==null?void 0:o.call(e,n)),c instanceof Response)return c}else l.some(c=>a.throwUnlessGranted(c))}await r()})}),Zte={};mo(Zte,{auth:()=>Wte,permission:()=>zte});var G6e=D(()=>{X6e()}),zS,UM=D(()=>{G6e(),zS=class Ute{constructor(){Y(this,"middlewares",Zte)}create(){return Ute.createServer()}static createServer(){return new lO}getController(){return this.create()}}}),Xte,Y6e=D(()=>{rne(),ve(),Sr(),UM(),Xte=class extends zS{constructor(t){super(),this.auth=t}get guard(){return this.auth.ctx.guard}registerStrategyActions(t,e){var u;let n=(u=t.getActions)==null?void 0:u.call(t);if(!n)return;let{auth:r,permission:i}=this.middlewares,s=this.create().use(r()),o=t.getName(),{create:a,change:l}=n,c=this.auth.em;a&&(s.post("/create",i([XM.createUser,cr.entityCreate]),async d=>{var f;try{let h=await this.auth.authenticator.getBody(d),m=rr(a.schema,h,{skipMark:!0}),g=await((f=a.preprocess)==null?void 0:f.call(a,m))??m,y=c.mutator(this.auth.config.entity_name);y.__unstable_toggleSystemEntityCreation(!1);let{data:O}=await y.insertOne({...g,strategy:o});return y.__unstable_toggleSystemEntityCreation(!0),d.json({success:!0,action:"create",strategy:o,data:O})}catch(h){if(h instanceof Ip)return d.json({success:!1,errors:h.errors},400);throw h}}),s.get("create/schema.json",async d=>d.json(a.schema))),e.route(`/${o}/actions`,s)}getController(){let{auth:t}=this.middlewares,e=this.create(),n=this.auth.authenticator.getStrategies();for(let[r,i]of Object.entries(n))e.route(`/${r}`,i.getController(this.auth.authenticator)),this.registerStrategyActions(i,e);return e.get("/me",t(),async r=>this.auth.authenticator.isUserLoggedIn()?r.json({user:this.auth.authenticator.getUser()}):r.json({user:null},403)),e.get("/logout",t(),async r=>{if(await this.auth.authenticator.logout(r),this.auth.authenticator.isJsonRequest(r))return r.json({ok:!0});let i=r.req.header("referer");return i?r.redirect(i):r.redirect("/")}),e.get("/strategies",async r=>{let{strategies:i,basepath:s}=this.auth.toJSON(!1);return r.json({strategies:i,basepath:s})}),e}}}),Gte,H6e=D(()=>{Gte={type:"oidc",client:{token_endpoint_auth_method:"client_secret_basic"},as:{issuer:"https://accounts.google.com"},profile:async t=>({...t,sub:t.sub,email:t.email})}}),Yte,J6e=D(()=>{Yte={type:"oauth2",client:{token_endpoint_auth_method:"client_secret_basic"},as:{code_challenge_methods_supported:["S256"],issuer:"https://github.com",scopes_supported:["read:user","user:email"],scope_separator:" ",authorization_endpoint:"https://github.com/login/oauth/authorize",token_endpoint:"https://github.com/login/oauth/access_token",userinfo_endpoint:"https://api.github.com/user"},profile:async(t,e,n)=>{var r;console.log("github info",t,e,n);try{let i=await(await fetch("https://api.github.com/user/emails",{headers:{"User-Agent":"bknd",Accept:"application/json",Authorization:`Bearer ${n.access_token}`}})).json();console.log("data",i);let s=(r=i.find(o=>o.primary))==null?void 0:r.email;if(!s)throw new Error("No primary email found");return{...t,sub:String(t.id),email:s}}catch{throw new Error("Couldn't retrive github email")}}}}),E2={};mo(E2,{github:()=>Yte,google:()=>Gte});var Hte=D(()=>{H6e(),J6e()}),t4,mf,C0,Jte=D(()=>{Qn(),ve(),Hte(),t4=I.Object({name:Nt(Object.keys(E2)),client:I.Object({client_id:I.String(),client_secret:I.String()},{additionalProperties:!1})},{title:"OAuth"}),mf=class extends Nn{constructor(e,n){super("OAuthCallbackException on "+n);Y(this,"name","OAuthCallbackException");this.error=e,this.step=n}},C0=class{constructor(t){this._config=t}get config(){return this._config}getIssuerConfig(){return E2[this.config.name]}async getConfig(){let t=this.getIssuerConfig();if(t.type==="oidc"){let e=new URL(t.as.issuer),n=await ACe(e);t.as=await RCe(e,n)}return{...t,type:t.type,client:{...t.client,...this._config.client}}}async getCodeChallenge(t,e,n="S256"){var o;let r=(o=t.code_challenge_methods_supported)==null?void 0:o.includes(n),i,s;return r&&(i=await MCe(e),s=n),{challenge_supported:r,challenge:i,challenge_method:s}}async request(t){let{client:e,as:n}=await this.getConfig(),{challenge_supported:r,challenge:i,challenge_method:s}=await this.getCodeChallenge(n,t.state);if(!n.authorization_endpoint)throw new Error("authorization_endpoint is not provided");let o=t.scopes??n.scopes_supported;if(!Array.isArray(o)||o.length===0)throw new Error("No scopes provided");if(o.every(c=>{var u;return!((u=n.scopes_supported)!=null&&u.includes(c))}))throw new Error("Invalid scopes provided");let a=n.authorization_endpoint,l={client_id:e.client_id,redirect_uri:t.redirect_uri,response_type:"code",scope:o.join(n.scope_separator??" ")};return r?(l.code_challenge=i,l.code_challenge_method=s):l.nonce=t.state,{url:new URL(a)+"?"+new URLSearchParams(l).toString(),endpoint:a,params:l}}async oidc(t,e){let n=await this.getConfig(),{client:r,as:i,type:s}=n;console.log("callbackParams",t,e);let o=BL(i,r,t,dN);if(Af(o))throw new mf(o,"validateAuthResponse");let a=await FL(i,r,o,e.redirect_uri,e.state),l=DL(a);if(l){for(let g of l);throw new mf(l,"www-authenticate")}let{challenge_supported:c,challenge:u}=await this.getCodeChallenge(i,e.state),d=await uPe(i,r,a,c?void 0:u);if(Af(d))throw console.log("callback.error",d),new mf(d,"processAuthorizationCodeOpenIDResponse");let f=JU(d),h=await LL(i,r,d.access_token),m=await ePe(i,r,f.sub,h);return await n.profile(m,n,f)}async oauth2(t,e){let n=await this.getConfig(),{client:r,type:i,as:s,profile:o}=n;console.log("config",{client:r,as:s,type:i}),console.log("callbackParams",t,e);let a=BL(s,r,t,dN);if(Af(a))throw console.log("callback.error",a),new mf(a,"validateAuthResponse");console.log("callback.parameters",JSON.stringify(Object.fromEntries(a.entries()),null,2));let l=await FL(s,r,a,e.redirect_uri,e.state),c=DL(l);if(c){for(let m of c);throw new mf(c,"www-authenticate")}let u=l.clone(),d={};try{if(d=await dPe(s,r,l),Af(d))throw console.log("error",d),new Error}catch{d=await u.json(),console.log("failed",d)}let f=await LL(s,r,d.access_token),h=await f.json();return console.log("res2",f,h),console.log("result",d),await n.profile(h,n,d)}async callback(t,e){let n=this.getIssuerConfig().type;switch(console.log("type",n),n){case"oidc":return await this.oidc(t,e);case"oauth2":return await this.oauth2(t,e);default:throw new Error("Unsupported type")}}getController(t){let e=new lO,n="secret",r="_challenge",i=async(o,a)=>{console.log("--- setting state",a),await dZ(o,r,JSON.stringify(a),n,{secure:!0,httpOnly:!0,sameSite:"Lax",maxAge:60*5})},s=async o=>{if(o.req.header("X-State-Challenge"))return{state:o.req.header("X-State-Challenge"),action:o.req.header("X-State-Action"),mode:"token"};let a=await cZ(o,n,r);try{return JSON.parse(a)}catch{throw new Error("Invalid state")}};return e.get("/callback",async o=>{let a=new URL(o.req.url),l=new URLSearchParams(a.search),c=await s(o);console.log("state",c);let u=c.mode==="cookie"?a.origin+a.pathname:a.origin+a.pathname.replace("/callback","/token"),d=await this.callback(l,{redirect_uri:u,state:c.state});try{let f=await t.resolve(c.action,this,d.sub,d);return console.log("******** RESOLVED ********",f),c.mode==="cookie"?await t.respond(o,f,c.redirect):o.json(f)}catch(f){if(c.mode==="cookie")return await t.respond(o,f,c.redirect);throw f}}),e.get("/token",async o=>{let a=new URL(o.req.url),l=new URLSearchParams(a.search);return o.json({code:l.get("code")??null})}),e.post("/:action",async o=>{let a=o.req.param("action");if(!["login","register"].includes(a))return o.notFound();let l=new URL(o.req.url),c=l.pathname.replace(`/${a}`,""),u=l.origin+c+"/callback",d=new URL(o.req.header("Referer")??"/"),f=AL(),h=await this.request({redirect_uri:u,state:f});return await i(o,{state:f,action:a,redirect:d.toString(),mode:"cookie"}),console.log("--redirecting to",h.url),o.redirect(h.url)}),e.get("/:action",async o=>{let a=o.req.param("action");if(!["login","register"].includes(a))return o.notFound();let l=new URL(o.req.url),c=l.pathname.replace(`/${a}`,""),u=l.origin+c+"/token",d=AL(),f=await this.request({redirect_uri:u,state:d});return Mp()?o.json({url:f.url,redirect_uri:u,challenge:d,action:a,params:f.params}):o.json({url:f.url,challenge:d,action:a})}),e}getType(){return"oauth"}getMode(){return"external"}getName(){return this.config.name}getSchema(){return t4}toJSON(t){let e=t?this.config:Mee(this.config,["secret","client_id"]);return{type:this.getType(),config:{type:this.getIssuerConfig().type,...e}}}}}),xx,n4,_2,K6e=D(()=>{ve(),Jte(),xx=I.String({pattern:"^(https?|wss?)://[^\\s/$.?#].[^\\s]*$"}),n4=I.Object({type:Nt(["oidc","oauth2"],{default:"oidc"}),name:I.String(),client:I.Object({client_id:I.String(),client_secret:I.String(),token_endpoint_auth_method:Nt(["client_secret_basic"])},{additionalProperties:!1}),as:I.Object({issuer:I.String(),code_challenge_methods_supported:I.Optional(Nt(["S256"])),scopes_supported:I.Optional(I.Array(I.String())),scope_separator:I.Optional(I.String({default:" "})),authorization_endpoint:I.Optional(xx),token_endpoint:I.Optional(xx),userinfo_endpoint:I.Optional(xx)},{additionalProperties:!1})},{title:"Custom OAuth",additionalProperties:!1}),_2=class extends C0{getIssuerConfig(){return{...this.config,profile:async t=>t}}getSchema(){return n4}getType(){return"custom_oauth"}}}),sP,T2,e7e=D(()=>{ve(),ve(),QM(),sP=I.Object({hashing:Nt(["plain","sha256"],{default:"sha256"})}),T2=class{constructor(t={}){Y(this,"options");this.options=rr(sP,t)}async hash(t){switch(this.options.hashing){case"sha256":return Bee.sha256(t);default:return t}}async login(t){if(!("email"in t)||!("password"in t))throw new Error("Invalid input: Email and password must be provided");let e=await this.hash(t.password);return{...t,password:e}}async register(t){if(!t.email||!t.password)throw new Error("Invalid input: Email and password must be provided");return{...t,password:await this.hash(t.password)}}getController(t){return new lO().post("/login",async e=>{let n=await t.getBody(e);try{let r=await this.login(n),i=await t.resolve("login",this,r.password,r);return await t.respond(e,i)}catch(r){return await t.respond(e,r)}}).post("/register",async e=>{let n=await t.getBody(e),r=await this.register(n),i=await t.resolve("register",this,r.password,r);return await t.respond(e,i)})}getActions(){return{create:g6e(I.Object({email:I.String({pattern:"^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$"}),password:I.String({minLength:8})}),async({password:t,...e})=>({...e,strategy_value:await this.hash(t)}))}}getSchema(){return sP}getType(){return"password"}getMode(){return"form"}getName(){return"password"}toJSON(t){return{type:this.getType(),config:t?this.options:void 0}}}}),t7e=D(()=>{K6e(),e7e(),Jte(),Hte()}),r4,A2,i4,s4,o4,R2,M2,Kte=D(()=>{QM(),t7e(),ve(),r4={password:{cls:T2,schema:T2.prototype.getSchema()},oauth:{cls:C0,schema:C0.prototype.getSchema()},custom_oauth:{cls:_2,schema:_2.prototype.getSchema()}},A2=r4,i4=MO(A2,(t,e)=>I.Object({type:I.Const(e,{default:e,readOnly:!0}),config:t.schema},{title:e,additionalProperties:!1})),s4=I.Union(Object.values(i4)),o4=I.Object({enabled:I.Optional(I.Boolean({default:!1}))}),R2=I.Object({permissions:I.Optional(I.Array(I.String())),is_default:I.Optional(I.Boolean()),implicit_allow:I.Optional(I.Boolean())},{additionalProperties:!1}),M2=I.Object({enabled:I.Boolean({default:!1}),basepath:I.String({default:"/api/auth"}),entity_name:I.String({default:"users"}),allow_register:I.Optional(I.Boolean({default:!0})),jwt:o2,cookie:s2,strategies:I.Optional(Go(s4,{title:"Strategies",default:{password:{type:"password",config:{hashing:"sha256"}}}})),guard:I.Optional(o4),roles:I.Optional(Go(R2,{default:{}}))},{title:"Authentication",additionalProperties:!1})}),ene,n7e=D(()=>{var t;rne(),Qn(),ve(),ZM(),LO(),Y6e(),Kte(),ene=(t=class extends Bp{constructor(){super(...arguments);Y(this,"_authenticator");Y(this,"cache",{});Y(this,"_controller")}async onBeforeUpdate(r,i){let s=M2.properties.jwt.properties.secret.default;return!r.enabled&&i.enabled&&i.jwt.secret===s&&(console.warn("No JWT secret provided, generating a random one"),i.jwt.secret=VZe(64)),i}get enabled(){return this.config.enabled}async build(){if(!this.enabled){this.setBuilt();return}let r=Yt(this.config.roles??{},(s,o)=>tne.create({name:o,...s}));this.ctx.guard.setRoles(Object.values(r)),this.ctx.guard.setConfig(this.config.guard??{});let i=Yt(this.config.strategies??{},(s,o)=>{try{return new A2[s.type].cls(s.config)}catch{throw new Error(`Could not build strategy ${String(o)} with config ${JSON.stringify(s.config)}`)}});this._authenticator=new ote(i,this.resolveUser.bind(this),{jwt:this.config.jwt,cookie:this.config.cookie}),this.registerEntities(),super.setBuilt(),this._controller=new Xte(this),this.ctx.server.route(this.config.basepath,this._controller.getController()),this.ctx.guard.registerPermissions(Object.values(XM))}get controller(){if(!this.isBuilt())throw new Error("Can't access controller, AppAuth not built yet");return this._controller}getSchema(){return M2}get authenticator(){return this.throwIfNotBuilt(),this._authenticator}get em(){return this.ctx.em}async resolveUser(r,i,s,o){if(!this.config.allow_register&&r==="register")throw new Nn("Registration is not allowed",403);let a=this.getUsersEntity().getFillableFields("create").map(c=>c.name),l=Object.fromEntries(Object.entries(o).filter(([c])=>a.includes(c)));switch(r){case"login":return this.login(i,s,l);case"register":return this.register(i,s,l)}}filterUserData(r){return K9(r,this.config.jwt.fields)}async login(r,i,s){if(!("email"in s))throw new Nn("Profile must have email");if(typeof i!="string"||i.length===0)throw new Nn("Identifier must be a string");let o=this.getUsersEntity();this.toggleStrategyValueVisibility(!0);let a=await this.em.repo(o).findOne({email:s.email});if(this.toggleStrategyValueVisibility(!1),!a.data)throw new Nn("User not found",404);if(a.data.strategy!==r.getName())throw new Nn("User registered with different strategy");if(a.data.strategy_value!==i)throw new Nn("Invalid credentials");return this.filterUserData(a.data)}async register(r,i,s){if(!("email"in s))throw new Nn("Profile must have an email");if(typeof i!="string"||i.length===0)throw new Nn("Identifier must be a string");let o=this.getUsersEntity(),{data:a}=await this.em.repo(o).findOne({email:s.email});if(a)throw new Nn("User already exists");let l={...s,strategy:r.getName(),strategy_value:i},c=this.em.mutator(o);c.__unstable_toggleSystemEntityCreation(!1),this.toggleStrategyValueVisibility(!0);let u=await c.insertOne(l);if(c.__unstable_toggleSystemEntityCreation(!0),this.toggleStrategyValueVisibility(!1),!u.data)throw new Error("Could not create user");return this.filterUserData(u.data)}toggleStrategyValueVisibility(r){let i=(s,o)=>{let a=this.getUsersEntity().field(s);if(o)a.config.hidden=!1,a.config.fillable=!0;else{let l=t.usersFields.strategy_value.config;a.config.hidden=l.hidden,a.config.fillable=l.fillable}};i("strategy_value",r),i("strategy",r)}getUsersEntity(r){let i=this.config.entity_name;return r||!this.em.hasEntity(i)?zM(i,t.usersFields,void 0,"system"):this.em.entity(i)}registerEntities(){let r=this.getUsersEntity(!0);this.ensureSchema(Bte({[r.name]:r},({index:i},{users:s})=>{i(s).on(["email"],!0).on(["strategy"]).on(["strategy_value"])}));try{let i=Object.keys(this.config.roles??{});this.replaceEntityField(r,"role",j2({enum:i}))}catch{}try{let i=Object.keys(this.config.strategies??{});this.replaceEntityField(r,"strategy",j2({enum:i}))}catch{}}async createUser({email:r,password:i,...s}){if(!this.enabled)throw new Error("Cannot create user, auth not enabled");let o="password",a=await this.authenticator.strategy(o).hash(i),l=this.em.mutator(this.config.entity_name);l.__unstable_toggleSystemEntityCreation(!1);let{data:c}=await l.insertOne({...s,email:r,strategy:o,strategy_value:a});return l.__unstable_toggleSystemEntityCreation(!0),c}toJSON(r){return this.config.enabled?{...this.config,...this.authenticator.toJSON(r)}:this.configDefault}},Y(t,"usersFields",{email:il().required(),strategy:il({fillable:["create"],hidden:["update","form"]}).required(),strategy_value:il({fillable:["create"],hidden:["read","table","update","form"]}).required(),role:il()}),t)}),oP,tne,r7e=D(()=>{Qn(),oP=class{constructor(t,e){this.permission=t,this.config=e}},tne=class Q2{constructor(e,n=[],r=!1,i=!1){this.name=e,this.permissions=n,this.is_default=r,this.implicit_allow=i}static createWithPermissionNames(e,n,r=!1,i=!1){return new Q2(e,n.map(s=>new oP(new Yn(s))),r,i)}static create(e){var n;return new Q2(e.name,((n=e.permissions)==null?void 0:n.map(r=>new oP(new Yn(r))))??[],e.is_default,e.implicit_allow)}}}),XM={};mo(XM,{createUser:()=>nne});var nne,i7e=D(()=>{Qn(),nne=new Yn("auth.user.create")}),rne=D(()=>{QM(),r7e(),i7e()}),aP,ine,s7e=D(()=>{var t;aP=[{version:1,up:async e=>e},{version:2,up:async(e,{db:n})=>e},{version:3,up:async e=>e},{version:4,up:async(e,{db:n})=>({...e,auth:{...e.auth,basepath:"/api/auth2"}})},{version:5,up:async(e,{db:n})=>{var i;let r=((i=e.server.cors)==null?void 0:i.allow_methods)??[];return Bm(e.server,"cors.allow_methods",[...new Set([...r,"PATCH"])]),e}},{version:6,up:async(e,{db:n})=>e},{version:7,up:async(e,{db:n})=>{let{expiresIn:r,...i}=e.auth.jwt;return{...e,auth:{...e.auth,jwt:i}}}}],(t=aP[aP.length-1])==null||t.version,ine="__bknd"}),sne,o7e=D(()=>{Qn(),new Yn("system.access.admin"),sne=new Yn("system.access.api"),new Yn("system.config.read"),new Yn("system.config.read.secrets"),new Yn("system.config.write"),new Yn("system.schema.read"),new Yn("system.build")}),lP,a4,one,a7e=D(()=>{Qn(),ve(),LO(),lP=["GET","POST","PATCH","PUT","DELETE"],a4=I.Object({admin:I.Object({basepath:I.Optional(I.String({default:"",pattern:"^(/.+)?$"})),color_scheme:I.Optional(Nt(["dark","light"],{default:"light"})),logo_return_path:I.Optional(I.String({default:"/",description:"Path to return to after *clicking* the logo"}))},{default:{},additionalProperties:!1}),cors:I.Object({origin:I.String({default:"*"}),allow_methods:I.Array(Nt(lP),{default:lP,uniqueItems:!0}),allow_headers:I.Array(I.String(),{default:["Content-Type","Content-Length","Authorization","Accept"]})},{default:{},additionalProperties:!1})},{additionalProperties:!1}),one=class extends Bp{getRestrictedPaths(){return[]}get client(){return this.ctx.server}getSchema(){return a4}async build(){this.client.use("*",gPe({origin:this.config.cors.origin,allowMethods:this.config.cors.allow_methods,allowHeaders:this.config.cors.allow_headers})),this.client.use("/",async(t,e)=>{await e(),(!t.finalized||t.res.status===404)&&new URL(t.req.url).pathname==="/"&&(t.res=void 0,t.res=Response.json({bknd:"hello world!"}))}),this.client.onError((t,e)=>(console.error(t),t instanceof Response?t:t instanceof Nn?(console.log("---is exception",t.code),e.json(t.toJSON(),t.code)):e.json({error:t.message},500))),this.setBuilt()}toJSON(t){return this.config}}}),ane,l7e=D(()=>{Qn(),ve(),Sr(),UM(),o7e(),ane=class extends zS{constructor(t,e){super(),this.ctx=t,this.config=e}get em(){return this.ctx.em}get guard(){return this.ctx.guard}repoResult(t){let e={};if("meta"in t){let{query:r,...i}=t.meta;e=i,Mp()&&(e.query=r)}let n={data:t.data,meta:e};return Object.fromEntries(Object.entries(n).filter(([r,i])=>typeof i<"u"&&i!==null))}mutatorResult(t){let e={data:t.data};return Object.fromEntries(Object.entries(e).filter(([n,r])=>r!==void 0))}entityExists(t){try{return!!this.em.entity(t)}catch{return!1}}getController(){let{permission:t,auth:e}=this.middlewares,n=this.create().use(e(),t(sne)),r=this.em.entities.map(o=>o.name),i=I.Transform(I.String({pattern:"^[1-9][0-9]{0,}$"})).Decode(Number.parseInt).Encode(String);function s(o,a){let l=a;return l.description=o,l}return n.get("/",s("data info",o=>o.json(this.em.toJSON()))),n.get("/sync",t(cr.databaseSync),async o=>{let a=o.req.query("force")==="1",l=o.req.query("drop")==="1",c=await this.em.schema().introspect(),u=await this.em.schema().sync({force:a,drop:l});return o.json({tables:c.map(d=>d.name),changes:u})}),n.post("/:entity/fn/count",t(cr.entityRead),lr("param",I.Object({entity:I.String()})),async o=>{let{entity:a}=o.req.valid("param");if(!this.entityExists(a))return o.notFound();let l=o.req.json(),c=await this.em.repository(a).count(l);return o.json({entity:a,count:c.count})}).post("/:entity/fn/exists",t(cr.entityRead),lr("param",I.Object({entity:I.String()})),async o=>{let{entity:a}=o.req.valid("param");if(!this.entityExists(a))return o.notFound();let l=o.req.json(),c=await this.em.repository(a).exists(l);return o.json({entity:a,exists:c.exists})}),n.get("/schema.json",t(cr.entityRead),async o=>{let a=`${this.config.basepath}/schema.json`,l=Object.fromEntries(this.em.entities.map(c=>[c.name,{$ref:`${this.config.basepath}/schemas/${c.name}`}]));return o.json({$schema:"https://json-schema.org/draft/2020-12/schema",$id:a,properties:l})}).get("/schemas/:entity/:context?",t(cr.entityRead),lr("param",I.Object({entity:I.String(),context:I.Optional(Nt(["create","update"]))})),async o=>{let{entity:a,context:l}=o.req.param();if(!this.entityExists(a))return console.log("not found",a,r),o.notFound();let c=this.em.entity(a),u=c.toSchema({context:l}),d=`${new URL(o.req.url).origin}${this.config.basepath}`,f=`${this.config.basepath}/schemas/${a}`;return o.json({$schema:`${d}/schema.json`,$id:f,title:c.label,$comment:c.config.description,...u})}).get("/:entity",t(cr.entityRead),lr("param",I.Object({entity:I.String()})),lr("query",dc),async o=>{let{entity:a}=o.req.param();if(!this.entityExists(a))return console.log("not found",a,r),o.notFound();let l=o.req.valid("query"),c=await this.em.repository(a).findMany(l);return o.json(this.repoResult(c),{status:c.data?200:404})}).get("/:entity/:id",t(cr.entityRead),lr("param",I.Object({entity:I.String(),id:i})),lr("query",dc),async o=>{let{entity:a,id:l}=o.req.param();if(!this.entityExists(a))return o.notFound();let c=o.req.valid("query"),u=await this.em.repository(a).findId(Number(l),c);return o.json(this.repoResult(u),{status:u.data?200:404})}).get("/:entity/:id/:reference",t(cr.entityRead),lr("param",I.Object({entity:I.String(),id:i,reference:I.String()})),lr("query",dc),async o=>{let{entity:a,id:l,reference:c}=o.req.param();if(!this.entityExists(a))return o.notFound();let u=o.req.valid("query"),d=await this.em.repository(a).findManyByReference(Number(l),c,u);return o.json(this.repoResult(d),{status:d.data?200:404})}).post("/:entity/query",t(cr.entityRead),lr("param",I.Object({entity:I.String()})),lr("json",dc),async o=>{let{entity:a}=o.req.param();if(!this.entityExists(a))return o.notFound();let l=await o.req.valid("json"),c=await this.em.repository(a).findMany(l);return o.json(this.repoResult(c),{status:c.data?200:404})}),n.post("/:entity",t(cr.entityCreate),lr("param",I.Object({entity:I.String()})),async o=>{let{entity:a}=o.req.param();if(!this.entityExists(a))return o.notFound();let l=await o.req.json(),c=await this.em.mutator(a).insertOne(l);return o.json(this.mutatorResult(c),201)}).patch("/:entity/:id",t(cr.entityUpdate),lr("param",I.Object({entity:I.String(),id:i})),async o=>{let{entity:a,id:l}=o.req.param();if(!this.entityExists(a))return o.notFound();let c=await o.req.json(),u=await this.em.mutator(a).updateOne(Number(l),c);return o.json(this.mutatorResult(u))}).delete("/:entity/:id",t(cr.entityDelete),lr("param",I.Object({entity:I.String(),id:i})),async o=>{this.guard.throwUnlessGranted(cr.entityDelete);let{entity:a,id:l}=o.req.param();if(!this.entityExists(a))return o.notFound();let c=await this.em.mutator(a).deleteOne(Number(l));return o.json(this.mutatorResult(c))}).delete("/:entity",t(cr.entityDelete),lr("param",I.Object({entity:I.String()})),lr("json",dc.properties.where),async o=>{let{entity:a}=o.req.param();if(!this.entityExists(a))return o.notFound();let l=o.req.valid("json"),c=await this.em.mutator(a).deleteWhere(l);return o.json(this.mutatorResult(c))}),n}}}),lne,c7e=D(()=>{ve(),Sr(),LO(),l7e(),Vp(),lne=class extends Bp{async build(){let t=Yt(this.config.entities??{},(i,s)=>WM(s,i)),e=i=>{let s=typeof i=="string"?i:i.name,o=t[s];if(o)return o;throw new Error(`Entity "${s}" not found`)},n=Yt(this.config.relations??{},i=>Nte(i,e)),r=Yt(this.config.indices??{},(i,s)=>{let o=e(i.entity),a=i.fields.map(l=>o.field(l));return new VM(o,a,i.unique,s)});for(let i of Object.values(t))this.ctx.em.addEntity(i);for(let i of Object.values(n))this.ctx.em.addRelation(i);for(let i of Object.values(r))this.ctx.em.addIndex(i);this.ctx.server.route(this.basepath,new ane(this.ctx,this.config).getController()),this.ctx.guard.registerPermissions(Object.values(cr)),this.setBuilt()}getSchema(){return jte}get em(){return this.throwIfNotBuilt(),this.ctx.em}get basepath(){return this.config.basepath??"/api/data"}getOverwritePaths(){return[/^entities\..*\.config$/,/^entities\..*\.fields\..*\.config$/]}toJSON(t){return{...this.config,...this.em.toJSON()}}}});function Jm(t,e){let n=s=>{if(typeof s=="string")switch(t.type){case"object":case"array":return JSON.parse(s);case"number":return Number.parseInt(s);case"boolean":return s==="true"||s==="1"}return s},r=s=>typeof s=="string"?e?e(s):n(s):s,i=t.title??t.type?xs(t.type):"Raw";return I.Transform(I.Union([{title:i,...t},I.String({title:"Template"})])).Decode(r).Encode(s=>s)}var FO,ZS=D(()=>{var t;Qn(),ve(),FO=(t=class{constructor(n,r){Y(this,"name");Y(this,"_params");if(typeof n!="string")throw new Error(`Task name must be a string, got ${typeof n}`);this.name=n;let i=this.constructor.schema;if(i===t.schema&&typeof r<"u"&&Object.keys(r).length>0)throw new Error(`Task "${n}" has no schema defined but params passed: ${JSON.stringify(r)}`);this._params=rr(i,r||{})}get params(){return this._params}clone(n,r){return new this.constructor(n,r)}static async resolveParams(n,r,i={}){let s={},o=new t2(i,{strictVariables:!0,renderKeys:!0});for(let[a,l]of Object.entries(r)){if(l&&t2.hasMarkup(l)){try{s[a]=await o.render(l)}catch(c){throw c instanceof Lf?c:new Lf("Failed to resolve param",{key:a,value:l,error:c.message},"resolve-params")}continue}s[a]=l}return q9(n,s)}async cloneWithResolvedParams(n){let r=Object.fromEntries(n.entries()),i=await t.resolveParams(this.constructor.schema,this._params,r);return this.clone(this.name,i)}async run(n=new Map){let r=new Date,i,s,o,a,l=performance.now();try{let c=await this.cloneWithResolvedParams(n);a=c.params,i=await c.execute(n),o=!0}catch(c){o=!1,c instanceof Lf?s=c.toJSON():s={type:"unknown",message:c.message}}return{start:r,output:i,error:s,success:o,params:a,time:performance.now()-l}}error(n,r){return new Lf(n,r,"runtime")}get label(){return this.name}toJSON(){return{type:this.type,params:this.params}}},Y(t,"schema",I.Object({})),t)}),wx,US,u7e=D(()=>{var t;ve(),ZS(),wx=["GET","POST","PUT","PATCH","DELETE"],US=(t=class extends FO{constructor(){super(...arguments);Y(this,"type","fetch")}getBody(){let n=this.params.body;if(n){if(typeof n=="string")return n;if(typeof n=="object")return JSON.stringify(n);throw new Error(`Invalid body type: ${typeof n}`)}}async execute(){var s;if(!wx.includes(this.params.method??"GET"))throw this.error("Invalid method",{given:this.params.method,valid:wx});let n=this.getBody(),r=new Headers((s=this.params.headers)==null?void 0:s.map(o=>[o.key,o.value])),i=await fetch(this.params.url,{method:this.params.method??"GET",headers:r,body:n});if(!i.ok)throw this.error("Failed to fetch",{status:i.status,statusText:i.statusText});return await i.json()}},Y(t,"schema",I.Object({url:I.String({pattern:"^(http|https)://"}),method:I.Optional(Jm(Nt(wx,{default:"GET"}))),headers:I.Optional(Jm(I.Array(I.Object({key:I.String(),value:I.String()})),JSON.parse)),body:I.Optional(Jm(I.String())),normal:I.Optional(Jm(I.Number(),Number.parseInt))})),t)}),cne,d7e=D(()=>{var t;ve(),ZS(),cne=(t=class extends FO{constructor(){super(...arguments);Y(this,"type","log")}async execute(){return await new Promise(n=>setTimeout(n,this.params.delay)),console.log(`[DONE] LogTask: ${this.name}`),!0}},Y(t,"schema",I.Object({delay:I.Number({default:10})})),t)}),une,f7e=D(()=>{var t;ve(),ZS(),une=(t=class extends FO{constructor(){super(...arguments);Y(this,"type","render")}async execute(){return this.params.render}},Y(t,"schema",I.Object({render:I.String()})),t)}),GM,vw,dne=D(()=>{ve(),GM=class{constructor(t,e,n,r){Y(this,"source");Y(this,"target");Y(this,"config");Y(this,"id");this.source=t,this.target=e,this.config=n??{},this.config.condition instanceof vw||(this.config.condition=vw.default()),this.id=r??qZe()}get condition(){return this.config.condition}get max_retries(){return this.config.max_retries??0}toJSON(){var t;return Cy({source:this.source.name,target:this.target.name,config:{...this.config,condition:(t=this.config.condition)==null?void 0:t.toJSON()}})}},vw=class Pu{constructor(e,n="",r=void 0){this.type=e,this.path=n,this.value=r}static default(){return Pu.success()}static success(){return new Pu("success")}static error(){return new Pu("error")}static matches(e,n){if(typeof e!="string"||e.length===0)throw new Error("Invalid path");return new Pu("matches",e,n)}isMet(e){switch(this.type){case"success":return e.success;case"error":return e.success===!1;case"matches":return Eg(e.output,this.path)===this.value}}sameAs(e=Pu.default()){return this.type===e.type&&this.path===e.path&&this.value===e.value}toJSON(){return{type:this.type,path:this.path.length===0?void 0:this.path,value:this.value}}static fromObject(e){return new Pu(e.type,e.path,e.value)}}}),vx,Sx,fne,h7e=D(()=>{var t,e,n;Ud(),vx=(t=class extends Nr{task(){return this.params.task}getState(){return this.succeeded()?"success":this.failed()?"failed":this.isStart()?"running":"idle"}isStart(){return this.params.end===void 0}isEnd(){return!this.isStart()}succeeded(){var r;return this.isEnd()&&((r=this.params.result)==null?void 0:r.success)}failed(){var r;return this.isEnd()&&!((r=this.params.result)!=null&&r.success)}},Y(t,"slug","flow-execution-event"),t),Sx=(e=class extends Nr{},Y(e,"slug","flow-execution-state"),e),fne=(n=class{constructor(i){Y(this,"flow");Y(this,"started_at");Y(this,"finished_at");Y(this,"logs",[]);Y(this,"inputs",new Map);Y(this,"queue",[]);Y(this,"emgr");this.flow=i,this.logs=[],this.queue=[this.flow.startTask],this.emgr=new Dp(n.Events)}subscribe(i){this.emgr.onAny(i)}async onDone(i,s){let o=new Date;if(this.logs.push({...s,task:i,end:o}),this.inputs.set(i.name,s),this.flow.respondingTask===i){this.queue=[];return}this.queue=this.queue.filter(l=>l!==i);let a=this.flow.task(i).getOutConnections(s).filter(l=>{var f;let c=l.target,u=this.logs.filter(h=>h.task===c&&h.success).length,d=((f=this.flow.task(c).getInConnections().find(h=>h.source===i))==null?void 0:f.max_retries)??0;if(u>d)throw new Error(`Task "${c.name}" reached max retries (${u}/${d})`);return this.flow.task(c).getInTasks(!0).every(h=>this.logs.some(m=>m.task===h&&m.end!==void 0))}).map(l=>l.target);this.queue.push(...a)}__getLastTaskLog(i){var s;for(let o=this.logs.length-1;o>=0;o--)if(((s=this.logs[o])==null?void 0:s.task)===i)return this.logs[o];return null}async run(){let i=this.queue;if(i.length===0)return;let s=i.map(async o=>{await this.emgr.emit(new vx({task:o}));let a=await o.run(this.inputs);return await this.emgr.emit(new vx({task:o,result:a,end:new Date})),await this.onDone(o,a),a});try{return await Promise.all(s),this.run()}catch(o){throw console.log("RuntimeExecutor: error",o),o}}async start(i){await this.emgr.emit(new Sx({execution:this,state:"started"})),this.inputs.set("flow",{start:new Date,output:i,error:void 0,success:!0,params:i}),this.started_at=new Date,await this.run(),this.finished_at=new Date,await this.emgr.emit(new Sx({execution:this,state:"ended"}))}finished(){return this.finished_at!==void 0}errorCount(){return this.logs.filter(i=>!i.success).length}hasErrors(){return this.errorCount()>0}getErrorLogs(){return this.logs.filter(i=>!i.success)}getErrors(){return this.getErrorLogs().map(i=>i.error)}getResponse(){let i=this.flow.respondingTask;i||(i=this.flow.tasks[this.flow.tasks.length-1]);let s=this.__getLastTaskLog(i);if(s)return s.output}},Y(n,"Events",{ExecutionEvent:vx,ExecutionState:Sx}),n)}),hne,p7e=D(()=>{dne(),hne=class pne{constructor(e,n){Y(this,"flow");Y(this,"source");this.flow=e,this.source=n}task(e){return new pne(this.flow,e)}asInputFor(e,n,r){let i=this.getDepth(),s=this.getOutConnections(),o=s.map(l=>l.condition),a=s.some(l=>this.task(l.target).getDepth()<=i);if(o.length>0&&a&&this.getOutConnections().some(l=>l.condition.sameAs(n)))throw new Error("Task cannot be connected to a deeper task with the same condition");this.flow.addConnection(new GM(this.source,e,{condition:n,max_retries:r}))}asOutputFor(e,n){this.task(e).asInputFor(this.source,n)}getNext(){return this.flow.connections.filter(e=>e.source===this.source).map(e=>e.target)}getDepth(){return this.flow.getSequence().findIndex(e=>e.includes(this.source))}getInConnections(e=!1){if(e){let n=this.getDepth();return this.getInConnections().filter(r=>r.target===this.source&&this.task(r.source).getDepth()<n)}return this.flow.connections.filter(n=>n.target===this.source)}getInTasks(e=!1){if(e){let n=this.getDepth();return this.getInConnections().map(r=>r.source).filter(r=>this.task(r).getDepth()<n)}return this.getInConnections().map(n=>n.source)}getOutConnections(e){return e?this.flow.connections.filter(n=>n.source===this.source&&n.condition.isMet(e)):this.flow.connections.filter(n=>n.source===this.source)}getOutTasks(e){return this.getOutConnections(e).map(n=>n.target)}}}),Rd,XS=D(()=>{var t;ve(),Rd=(t=class{constructor(e){Y(this,"executions",[]);Y(this,"type","manual");Y(this,"config");let n=this.constructor.schema;this.config=rr(n,e??{})}async register(e,...n){this.executions.push(await e.start())}toJSON(){return{type:this.type,config:this.config}}},Y(t,"schema",I.Object({mode:Nt(["sync","async"],{default:"async"})})),t)}),GS,mne=D(()=>{ve(),Xd(),dne(),h7e(),p7e(),XS(),GS=class gne{constructor(e,n,r,i){Y(this,"name");Y(this,"trigger");Y(this,"tasks",[]);Y(this,"connections",[]);Y(this,"respondingTask");Y(this,"startTask");Y(this,"sequence");this.name=e,this.trigger=i??new Rd,n.map(s=>this.addTask(s)),this.connections=r||[],this.startTask=n[0],this.sequence=this.getSequence()}setStartTask(e){return this.startTask=e,this.sequence=this.getSequence(),this}getSequence(e=[]){if(e.length===0)return e.push([this.startTask]),this.getSequence(e);let n=e[e.length-1],r=[];return n==null||n.forEach(i=>{this.task(i).getOutTasks().forEach(s=>{e.some(o=>o.includes(s))||r.push(s)})}),r.length===0?e:(e.push(r),this.getSequence(e))}addTask(e){if(this.tasks.includes(e))throw new Error("Task already defined");if(this.tasks.some(n=>n.name===e.name))throw new Error(`Task with name "${e.name}" already defined. Use a unique name.`);return this.tasks.push(e),this}setRespondingTask(e){if(!this.tasks.includes(e))throw new Error(`Cannot set task "${e.name}" as responding, not registered.`);return this.respondingTask=e,this}addConnection(e){if(this.connections.some(n=>n.source===e.source&&n.target===e.target&&n.condition[0]===e.condition[0]&&n.condition[1]===e.condition[1]))throw new Error("Connection already defined");return this.connections.push(e),this}task(e){return new hne(this,e)}createExecution(){return this.sequence=this.getSequence(),new fne(this)}async start(e=void 0){let n=this.createExecution();return await n.start(e),n}toJSON(){var e,n;return{trigger:this.trigger.toJSON(),tasks:Object.fromEntries(this.tasks.map(r=>[r.name,r.toJSON()])),connections:Object.fromEntries(this.connections.map(r=>[r.id,r.toJSON()])),start_task:(e=this.startTask)==null?void 0:e.name,responding_task:(n=this.respondingTask)==null?void 0:n.name}}static fromObject(e,n,r){var l;let i=Yt(n.tasks??{},(c,u)=>{let d=r[c.type];if(!d)throw new Error(`Task ${u} not found in taskMap`);try{let f=d.cls;return new f(u,c.params)}catch(f){throw console.log("Error creating task",u,c.type,c,d),new Error(`Error creating task ${c.type}: ${f.message}`)}}),s=Yt(n.connections??{},(c,u)=>{let d=c.config.condition?vw.fromObject(c.config.condition):void 0;return new GM(i[c.source],i[c.target],{...c.config,condition:d},u)}),o;if(n.trigger){let c=(l=YS[n.trigger.type])==null?void 0:l.cls;c&&(o=new c(n.trigger.config))}let a=new gne(e,Object.values(i),Object.values(s),o);return a.startTask=n.start_task?i[n.start_task]:null,n.responding_task&&(a.respondingTask=i[n.responding_task]),a}}}),yne,m7e=D(()=>{var t;ve(),mne(),ZS(),yne=(t=class extends FO{constructor(){super(...arguments);Y(this,"type","subflow")}async execute(){let n=this.params.flow;if(!(n instanceof GS))throw new Error("Invalid flow provided");if(this.params.loop){let i=Array.isArray(this.params.input)?this.params.input:[this.params.input],s=[];for(let o of i){let a=n.createExecution();await a.start(o),s.push(await a.getResponse())}return s}let r=n.createExecution();return await r.start(this.params.input),r.getResponse()}},Y(t,"schema",I.Object({flow:I.Any(),input:I.Optional(Jm(I.Any(),JSON.parse)),loop:I.Optional(I.Boolean())})),t)}),One,g7e=D(()=>{var t;ve(),XS(),One=(t=class extends Rd{constructor(){super(...arguments);Y(this,"type","event")}async register(n,r){if(!r.eventExists(this.config.event))throw new Error(`Event ${this.config.event} is not registered.`);r.on(this.config.event,async i=>{console.log("event",i);let s=n.createExecution();this.executions.push(s);try{await s.start(i.params)}catch(o){console.error(o)}},this.config.mode)}},Y(t,"schema",I.Composite([Rd.schema,I.Object({event:I.String()})])),t)}),l4,YM,y7e=D(()=>{var t;ve(),XS(),l4=["GET","POST","PUT","PATCH","DELETE"],YM=(t=class extends Rd{constructor(){super(...arguments);Y(this,"type","http")}async register(n,r){let i=this.config.method.toLowerCase();r[i](this.config.path,async s=>{let o=s.req.raw,a=s[this.config.response_type],l=n.createExecution();if(this.executions.push(l),this.config.mode==="sync"){await l.start(o);let c=l.getResponse(),u=l.getErrors();return u.length>0?s.json({success:!1,errors:u}):a(c)}return l.start(o),s.json({success:!0})})}},Y(t,"schema",I.Composite([Rd.schema,I.Object({path:I.String({pattern:"^/.*$"}),method:Nt(l4,{default:"GET"}),response_type:Nt(["json","text","html"],{default:"json"})})])),t)}),YS,O7e=D(()=>{g7e(),y7e(),XS(),YS={manual:{cls:Rd},event:{cls:One},http:{cls:YM}}}),HM,Xd=D(()=>{u7e(),d7e(),f7e(),m7e(),mne(),O7e(),HM={fetch:{cls:US},log:{cls:cne},render:{cls:une},subflow:{cls:yne}}}),I2,D2,cP,c4,u4,L2,bne,JM=D(()=>{ve(),Xd(),I2={...HM},D2=YS,cP=Yt(I2,(t,e)=>I.Object({type:Wo(e),params:t.cls.schema},{title:String(e),additionalProperties:!1})),I.Union(Object.values(cP)),c4=Yt(D2,(t,e)=>I.Object({type:Wo(e),config:t.cls.schema},{title:String(e),additionalProperties:!1})),u4=I.Object({source:I.String(),target:I.String(),config:I.Object({condition:I.Optional(I.Union([I.Object({type:Wo("success")},{additionalProperties:!1,title:"success"}),I.Object({type:Wo("error")},{additionalProperties:!1,title:"error"}),I.Object({type:Wo("matches"),path:I.String(),value:I.String()},{additionalProperties:!1,title:"matches"})])),max_retries:I.Optional(I.Number())},{default:{},additionalProperties:!1})}),L2=I.Object({trigger:I.Union(Object.values(c4)),tasks:I.Optional(Go(I.Union(Object.values(cP)))),connections:I.Optional(Go(u4)),start_task:I.Optional(I.String()),responding_task:I.Optional(I.String())},{additionalProperties:!1}),bne=I.Object({basepath:I.String({default:"/api/flows"}),flows:Go(L2,{default:{}})},{default:{},additionalProperties:!1})}),KM,xne=D(()=>{ve(),Xd(),LO(),JM(),KM=class extends Bp{constructor(){super(...arguments);Y(this,"flows",{})}getSchema(){return bne}getFlowInfo(e){return{...e.toJSON(),tasks:e.tasks.length,connections:e.connections}}async build(){let e=Yt(this.config.flows,(r,i)=>GS.fromObject(i,r,I2));this.flows=e;let n=new lO;n.get("/",async r=>{let i=Yt(this.flows,s=>this.getFlowInfo(s));return r.json(i)}),n.get("/flow/:name",async r=>{var s;let i=r.req.param("name");return r.json((s=this.flows[i])==null?void 0:s.toJSON())}),n.get("/flow/:name/run",async r=>{let i=r.req.param("name"),s=this.flows[i],o=s.createExecution(),a=performance.now();await o.start();let l=performance.now()-a,c=o.getErrors();return r.json({success:c.length===0,time:l,errors:c,response:o.getResponse(),flow:this.getFlowInfo(s),logs:o.logs})}),this.ctx.server.route(this.config.basepath,n);for(let[r,i]of Object.entries(this.flows)){let s=i.trigger;switch(!0){case s instanceof YM:await s.register(i,this.ctx.server);break}}this.setBuilt()}toJSON(){return{...this.config,flows:Yt(this.flows,e=>e.toJSON())}}}});function b7e(t){try{let e=t.split(".").pop();if(!e)return at.a();for(let[n,r]of Object.entries(wne))if(r.includes(e))return`${n}/${e}`;return vne.get(e)}catch{return at.a()}}var wne,at,vne,x7e=D(()=>{wne={video:["mp4","webm"],audio:["ogg"],image:["jpeg","png","gif","webp","bmp","tiff"],text:["html","css","mdx","yaml","vcard","csv","vtt"],application:["zip","xml","toml","json","json5"],font:["woff","woff2","ttf","otf"]},at={vnd:"vnd.openxmlformats-officedocument",z:"application/x-7z-compressed",t:(t="plain")=>`text/${t}`,a:(t="octet-stream")=>`application/${t}`,i:t=>`image/${t}`,v:t=>`video/${t}`},vne=new Map([["7z",at.z],["7zip",at.z],["ai",at.a("pdf")],["apk",at.a("vnd.android.package-archive")],["doc",at.a("msword")],["docx",`${at.vnd}.wordprocessingml.document`],["eps",at.a("postscript")],["epub",at.a("epub+zip")],["ini",at.t()],["jar",at.a("java-archive")],["jsonld",at.a("ld+json")],["jpg",at.i("jpeg")],["log",at.t()],["m3u",at.t()],["m3u8",at.a("vnd.apple.mpegurl")],["manifest",at.t("cache-manifest")],["md",at.t("markdown")],["mkv",at.v("x-matroska")],["mp3",at.a("mpeg")],["mobi",at.a("x-mobipocket-ebook")],["ppt",at.a("powerpoint")],["pptx",`${at.vnd}.presentationml.presentation`],["qt",at.v("quicktime")],["svg",at.i("svg+xml")],["tif",at.i("tiff")],["tsv",at.t("tab-separated-values")],["tgz",at.a("x-tar")],["txt",at.t()],["text",at.t()],["vcd",at.a("x-cdlink")],["vcs",at.t("x-vcalendar")],["wav",at.a("x-wav")],["webmanifest",at.a("manifest+json")],["xls",at.a("vnd.ms-excel")],["xlsx",`${at.vnd}.spreadsheetml.sheet`],["yml",at.t("yaml")]])}),eQ={};mo(eQ,{FileAccessEvent:()=>rQ,FileDeletedEvent:()=>nQ,FileUploadedEvent:()=>tQ});var tQ,nQ,rQ,Sne=D(()=>{var t,e,n;Ud(),tQ=(t=class extends Nr{},Y(t,"slug","file-uploaded"),t),nQ=(e=class extends Nr{},Y(e,"slug","file-deleted"),e),rQ=(n=class extends Nr{},Y(n,"slug","file-access"),n)}),Sw,w7e=D(()=>{var t,e;Ud(),Sne(),Sw=(e=class{constructor(r,i={},s){Ne(this,t);Y(this,"emgr");Y(this,"config");Se(this,t,r),this.config={...i,body_max_size:i.body_max_size??20*1024*1024},this.emgr=s??new Dp,this.emgr.registerEvents(e.Events)}getAdapter(){return F(this,t)}async objectMetadata(r){return await F(this,t).getObjectMeta(r)}getConfig(){return this.config}async uploadFile(r,i,s){let o=await F(this,t).putObject(i,r);console.log("result",o);let a;switch(typeof o){case"undefined":throw new Error("Failed to upload file");case"string":{let c=await F(this,t).getObjectMeta(i);if(!c)throw new Error("Failed to get object meta");a={name:i,meta:c,etag:o};break}case"object":a=o;break}let l={file:r,...a,state:{name:a.name,path:a.name}};return s||await this.emgr.emit(new tQ(l)),l}async deleteFile(r){await F(this,t).deleteObject(r),await this.emgr.emit(new nQ({name:r}))}async fileExists(r){return await F(this,t).objectExists(r)}getController(){let r=new lO;return r.get("/files",async i=>{let s=await F(this,t).listObjects();return i.json(s)}),r.get("/file/:filename",async i=>{let{filename:s}=i.req.param();if(!s)throw new Error("No file name provided");return await this.emgr.emit(new rQ({name:s})),await F(this,t).getObject(s,i.req.raw.headers)}),r.delete("/file/:filename",async i=>{let{filename:s}=i.req.param();if(!s)throw new Error("No file name provided");return await this.deleteFile(s),i.json({message:"File deleted"})}),r.post("/upload/:filename",o8({maxSize:this.config.body_max_size,onError:i=>i.text(`Payload exceeds ${this.config.body_max_size}`,413)}),async i=>{let{filename:s}=i.req.param();if(!s)throw new Error("No file name provided");let o=await this.getFileFromRequest(i);return i.json(await this.uploadFile(o,s))}),r}async getFileFromRequest(r){let i=r.req.header("Content-Type")??"application/octet-stream";console.log("content_type:body",i);let s=r.req.raw.body;if(!s)throw new Error("No body");let o;if(i!=null&&i.startsWith("multipart/form-data")){if(o=(await r.req.formData()).get("file"),typeof o>"u")throw new Error("No file given at form data 'file'")}else if(i!=null&&i.startsWith("application/octet-stream"))o=s;else throw new Error(`Unsupported content type: ${i}`);return o}},t=new WeakMap,Y(e,"Events",eQ),e)}),uP,kw,v7e=D(()=>{ve(),ve(),uP=I.Object({cloud_name:I.String(),api_key:I.String(),api_secret:I.String(),upload_preset:I.Optional(I.String())},{title:"Cloudinary"}),kw=class{constructor(t){Y(this,"config");this.config=rr(uP,t)}getSchema(){return uP}getMimeType(t){switch(!0){case(t.format==="jpeg"||t.format==="jpg"):return"image/jpeg"}return`${t.resource_type}/${t.format}`}getName(){return"cloudinary"}getAuthorizationHeader(){return{Authorization:`Basic ${btoa(`${this.config.api_key}:${this.config.api_secret}`)}`}}async putObject(t,e){let n=t.replace(/\.[a-z0-9]{2,5}$/,""),r=new FormData;r.append("file",e),r.append("public_id",n),r.append("api_key",this.config.api_key),this.config.upload_preset&&r.append("upload_preset",this.config.upload_preset);let i=await fetch(`https://api.cloudinary.com/v1_1/${this.config.cloud_name}/auto/upload`,{method:"POST",headers:{Accept:"application/json"},body:r});if(!i.ok)return;let s=await i.json();return{name:s.public_id+"."+s.format,etag:s.etag,meta:{type:this.getMimeType(s),size:s.bytes}}}async listObjects(t){let e=await fetch(`https://api.cloudinary.com/v1_1/${this.config.cloud_name}/resources/search`,{method:"GET",headers:{Accept:"application/json",...this.getAuthorizationHeader()}});if(!e.ok)throw new Error("Failed to list objects");return(await e.json()).resources.map(n=>({key:n.public_id,last_modified:new Date(n.uploaded_at),size:n.bytes}))}async headObject(t){let e=this.getObjectUrl(t);return await fetch(e,{method:"GET",headers:{Range:"bytes=0-1"}})}async objectExists(t){return(await this.headObject(t)).ok}async getObjectMeta(t){var n;let e=await this.headObject(t);if(e.ok){let r=e.headers.get("content-type"),i=Number((n=e.headers.get("content-range"))==null?void 0:n.split("/")[1]);return{type:r,size:i}}throw new Error("Cannot get object meta")}guessType(t){let e={image:["jpg","jpeg","png","gif","webp","svg"],video:["mp4","webm","ogg"]},n=t.split(".").pop();return Object.keys(e).find(r=>e[r].includes(n))}getObjectUrl(t){let e=this.guessType(t)??"image";return`https://res.cloudinary.com/${this.config.cloud_name}/${e}/upload/${t}`}async getObject(t,e){let n=await fetch(this.getObjectUrl(t),{method:"GET",headers:Fee(e,["range"])});return new Response(n.body,{status:n.status,statusText:n.statusText,headers:n.headers})}async deleteObject(t){let e=this.guessType(t)??"image",n=new FormData;n.append("public_ids[]",t),await fetch(`https://res.cloudinary.com/${this.config.cloud_name}/${e}/upload/`,{method:"DELETE",body:n})}toJSON(t){return{type:"cloudinary",config:t?this.config:{cloud_name:this.config.cloud_name}}}}}),dP,$w,S7e=D(()=>{var t,e;Qn(),ve(),dP=I.Object({access_key:I.String(),secret_access_key:I.String(),url:I.String({pattern:"^https?://(?:.*)?[^/.]+$",description:"URL to S3 compatible endpoint without trailing slash",examples:["https://{account_id}.r2.cloudflarestorage.com/{bucket}","https://{bucket}.s3.{region}.amazonaws.com"]})},{title:"S3"}),$w=(e=class extends Lee{constructor(r){super({accessKeyId:r.access_key,secretAccessKey:r.secret_access_key,retries:Mp()?0:10},{convertParams:"pascalToKebab",responseType:"xml"});Ne(this,t);Se(this,t,rr(dP,r))}getName(){return"s3"}getSchema(){return dP}getUrl(r="",i={}){let s=this.getObjectUrl("").slice(0,-1);return r.length>0&&(s+=`/${r}`),super.getUrl(s,i)}getObjectUrl(r){return`${F(this,t).url}/${r}`}async listObjects(r=""){let i={ListType:2,Prefix:r},s=this.getUrl("",i),o=await this.fetchJson(s,{method:"GET"}),{Contents:a}=o.ListBucketResult,l=a?Array.isArray(a)?a:[a]:[];return is(l,(c,u)=>{u.Key&&u.LastModified&&u.Size&&c.push({key:u.Key,last_modified:u.LastModified,size:u.Size})},[])}async putObject(r,i,s={}){let o=this.getUrl(r,{}),a=await this.fetch(o,{method:"PUT",body:i});if(a.ok)return String(a.headers.get("etag"))}async headObject(r,i={}){let s=this.getUrl(r,{});return await this.fetch(s,{method:"HEAD",headers:{Range:"bytes=0-1"}})}async getObjectMeta(r){var a;let i=await this.headObject(r),s=String(i.headers.get("content-type")),o=Number(String((a=i.headers.get("content-range"))==null?void 0:a.split("/")[1]));return{type:s,size:o}}async objectExists(r,i={}){return(await this.headObject(r)).ok}async getObject(r,i){let s=this.getUrl(r),o=await this.fetch(s,{method:"GET",headers:Fee(i,["range"])});return new Response(o.body,{status:o.status,statusText:o.statusText,headers:o.headers})}async deleteObject(r,i={}){let s=this.getUrl(r,i);await this.fetch(s,{method:"DELETE"})}toJSON(r){return{type:this.getName(),config:r?F(this,t):void 0}}},t=new WeakMap,e)});function k7e(t){if(!t.includes("."))return;let e=t.split(".");return e[e.length-1]}function $7e(t,e=16){let n=typeof t=="string"?t:t.name;if(typeof n!="string")throw console.error("Couldn't extract filename from",t),new Error("Invalid file name");return[PZe(e),k7e(n)].filter(Boolean).join(".")}var C7e=D(()=>{ve()}),kne,$ne,HS=D(()=>{Qn(),w7e(),v7e(),S7e(),Sne(),C7e(),kne=new ite(t=>({cls:t,schema:t.prototype.getSchema()})).register("s3",$w).register("cloudinary",kw),$ne={s3:{cls:$w,schema:$w.prototype.getSchema()},cloudinary:{cls:kw,schema:kw.prototype.getSchema()}}}),d4,Cne,P7e=D(()=>{Qn(),ve(),HS(),UM(),WS(),d4=I.Transform(I.String()).Decode(t=>t==="1").Encode(t=>t?"1":"0"),Cne=class extends zS{constructor(t){super(),this.media=t}getStorageAdapter(){return this.getStorage().getAdapter()}getStorage(){return this.media.storage}getController(){let{auth:t}=this.middlewares,e=this.create().use(t());e.get("/files",async r=>{let i=await this.getStorageAdapter().listObjects();return r.json(i)}),e.get("/file/:filename",async r=>{let{filename:i}=r.req.param();if(!i)throw new Error("No file name provided");return await this.getStorage().emgr.emit(new eQ.FileAccessEvent({name:i})),await this.getStorageAdapter().getObject(i,r.req.raw.headers)}),e.delete("/file/:filename",async r=>{let{filename:i}=r.req.param();if(!i)throw new Error("No file name provided");return await this.getStorage().deleteFile(i),r.json({message:"File deleted"})});let n=o8({maxSize:this.getStorage().getConfig().body_max_size,onError:r=>r.text(`Payload exceeds ${this.getStorage().getConfig().body_max_size}`,413)});return e.post("/upload/:filename",n,async r=>{let{filename:i}=r.req.param();if(!i)throw new Error("No file name provided");let s=await this.getStorage().getFileFromRequest(r);return console.log("----file",s),r.json(await this.getStorage().uploadFile(s,i))}),e.post("/entity/:entity/:id/:field",lr("query",I.Object({overwrite:I.Optional(d4)})),n,async r=>{let i=r.req.param("entity"),s=r.req.param("field"),o=Number.parseInt(r.req.param("id"));console.log("params",{entity_name:i,field_name:s,entity_id:o});let a=this.media.em.entity(i);if(!a)return r.json({error:`Entity "${i}" not found`},404);let l=a.field(s);if(!l||!(l instanceof ip))return r.json({error:`Invalid field "${s}"`},400);let c=this.media.getMediaEntity().name,u=`${i}.${s}`,d={scope:s,reference:u,entity_id:o},f=l.getMaxItems(),h=[];if(f){let{overwrite:x}=r.req.valid("query"),{count:v}=await this.media.em.repository(c).count(d);if(v>=f){if(!x)return r.json({error:`Max items (${f}) reached`},400);if(v>f)return r.json({error:`Max items (${f}) exceeded already with ${v} items.`},400);let k=await this.media.em.repo(c).findMany({select:["path"],where:d,sort:{by:"id",dir:"asc"},limit:v-f+1});k.data&&k.data.length>0&&k.data.map($=>h.push($.path))}}let{exists:m}=await this.media.em.repository(a).exists({id:o});if(!m)return r.json({error:`Entity "${i}" with ID "${o}" doesn't exist found`},404);let g=await this.getStorage().getFileFromRequest(r),y=$7e(g),O=await this.getStorage().uploadFile(g,y,!0),b=this.media.em.mutator(c);b.__unstable_toggleSystemEntityCreation(!1);let w=await b.insertOne({...this.media.uploadedEventDataToMediaPayload(O),...d});if(b.__unstable_toggleSystemEntityCreation(!0),h.length>0)for(let x of h)await this.getStorage().deleteFile(x);return r.json({ok:!0,result:w.data,...O})}),e}}}),Pne,j7e=D(()=>{HS(),Pne={media:kne}});function jne(){let t=MO(iQ.all(),(n,r)=>I.Object({type:Wo(r),config:n.schema},{title:r,additionalProperties:!1})),e=I.Union(Object.values(t));return I.Object({enabled:I.Boolean({default:!1}),basepath:I.String({default:"/api/media"}),entity_name:I.String({default:"media"}),storage:I.Object({body_max_size:I.Optional(I.Number({description:"Max size of the body in bytes. Leave blank for unlimited."}))},{default:{}}),adapter:I.Optional(e)},{additionalProperties:!1})}var iQ,N7e=D(()=>{ve(),HS(),j7e(),{...$ne},iQ=Pne.media,jne()}),Nne,E7e=D(()=>{var t;HS(),LO(),ZM(),P7e(),N7e(),Nne=(t=class extends Bp{constructor(){super(...arguments);Y(this,"_storage")}async build(){if(!this.config.enabled){this.setBuilt();return}if(!this.config.adapter){console.info("No storage adapter provided, skip building media.");return}let r;try{let{type:i,config:s}=this.config.adapter;r=new(iQ.get(i)).cls(s),this._storage=new Sw(r,this.config.storage,this.ctx.emgr),this.setBuilt(),this.setupListeners(),this.ctx.server.route(this.basepath,new Cne(this).getController());let o=this.getMediaEntity(!0);this.ensureSchema(Bte({[o.name]:o},({index:a},{media:l})=>{a(l).on(["path"],!0).on(["reference"])})),this.setBuilt()}catch(i){throw console.error(i),new Error(`Could not build adapter with config ${JSON.stringify(this.config.adapter)}`)}}getSchema(){return jne()}get basepath(){return this.config.basepath}get storage(){return this.throwIfNotBuilt(),this._storage}uploadedEventDataToMediaPayload(r){return{path:r.name,mime_type:r.meta.type,size:r.meta.size,etag:r.etag,modified_at:new Date}}getMediaEntity(r){let i=this.config.entity_name;return r||!this.em.hasEntity(i)?zM(i,t.mediaFields,void 0,"system"):this.em.entity(i)}get em(){return this.ctx.em}setupListeners(){let{emgr:r,em:i}=this.ctx,s=this.getMediaEntity().name;r.onEvent(Sw.Events.FileUploadedEvent,async o=>{let a=i.mutator(s);a.__unstable_toggleSystemEntityCreation(!1),await a.insertOne(this.uploadedEventDataToMediaPayload(o.params)),a.__unstable_toggleSystemEntityCreation(!0),console.log("App:storage:file uploaded",o)},"sync"),r.onEvent(Sw.Events.FileDeletedEvent,async o=>{let{data:a}=await i.repo(s).findOne({path:o.params.name});a&&(console.log("item.data",a),await i.mutator(s).deleteOne(a.id)),console.log("App:storage:file deleted",o)},"sync")}getOverwritePaths(){return[/^\.?adapter$/]}toJSON(r){return!this.isBuilt()||!this.config.enabled?this.configDefault:{...this.config,adapter:this.storage.getAdapter().toJSON(r)}}},Y(t,"mediaFields",{path:il().required(),folder:V6e({default_value:!1,hidden:!0,fillable:["create"]}),mime_type:il(),size:C2(),scope:il({hidden:!0,fillable:["create"]}),etag:il(),modified_at:P2(),reference:il(),entity_id:C2(),metadata:B6e()}),t)});function Ene(){return{type:"object",...Yt(sQ,t=>t.prototype.getSchema())}}function _7e(){return Yt(sQ,t=>bl(t.prototype.getSchema(),{}))}var sQ,f4,T7e=D(()=>{ve(),Sr(),s7e(),a7e(),n7e(),c7e(),xne(),E7e(),sQ={server:one,data:lne,auth:ene,media:Nne,flows:KM},f4=I.Union([Ene(),I.Array(I.Object({t:Nt(["a","r","e"]),p:I.Array(I.Union([I.String(),I.Number()])),o:I.Optional(I.Any()),n:I.Optional(I.Any())}))]),zM(ine,{version:C2().required(),type:j2({enum:["config","diff","backup"]}).required(),json:q6e({schema:f4}).required(),created_at:P2(),updated_at:P2()})});function A7e(t,e,n){let r=n??e,i=["raw","body","ok","status","res","data","toJSON"];return new Proxy(r,{get(s,o,a){return o==="raw"||o==="res"?t:o==="body"?e:o==="data"?n:o==="ok"?t.ok:o==="status"?t.status:o==="toJSON"?()=>s:Reflect.get(s,o,a)},has(s,o){return i.includes(o)?!0:Reflect.has(s,o)},ownKeys(s){return Array.from(new Set([...Reflect.ownKeys(s),...i]))},getOwnPropertyDescriptor(s,o){return i.includes(o)?{configurable:!0,enumerable:!0,value:Reflect.get({raw:t,body:e,ok:t.ok,status:t.status},o)}:Reflect.getOwnPropertyDescriptor(s,o)}})}var VO,h4,JS=D(()=>{var t;Aee(),AM(),VO=class{constructor(e={}){Y(this,"fetcher");this._options=e}getDefaultOptions(){return{}}get options(){return{host:"http://localhost",token:void 0,...this.getDefaultOptions(),...this._options}}key(){return this.options.basepath??""}getUrl(e){let n=this.options.basepath??"";return this.options.host+(n+"/"+e).replace(/\/{2,}/g,"/").replace(/\/$/,"")}request(e,n,r){let i=(r==null?void 0:r.method)??"GET",s=Array.isArray(e)?e.join("/"):e,o=this.getUrl(s);n instanceof URLSearchParams?o+="?"+n.toString():typeof n=="object"&&Object.keys(n).length>0&&(o+="?"+AS(n));let a=new Headers(this.options.headers??{});for(let[u,d]of Object.entries((r==null?void 0:r.headers)??{}))a.set(u,d);a.set("Accept","application/json"),this.options.token&&this.options.token_transport==="header"&&a.set("Authorization",`Bearer ${this.options.token}`);let l=r==null?void 0:r.body;if(r&&"body"in r&&["POST","PATCH","PUT"].includes(i)){let u=a.get("Content-Type")??void 0;(!u||u.startsWith("application/json"))&&(l=JSON.stringify(r.body),a.set("Content-Type","application/json"))}let c=new Request(o,{...r,method:i,body:l,headers:a});return new h4(c,{fetcher:this.fetcher})}get(e,n,r){return this.request(e,n,{...r,method:"GET"})}post(e,n,r){return this.request(e,void 0,{...r,body:n,method:"POST"})}patch(e,n,r){return this.request(e,void 0,{...r,body:n,method:"PATCH"})}put(e,n,r){return this.request(e,void 0,{...r,body:n,method:"PUT"})}delete(e,n){return this.request(e,void 0,{...n,method:"DELETE"})}},h4=(t=Symbol.toStringTag,class{constructor(e,n){Y(this,t);this.request=e,this.options=n}async execute(){var s;Mp()&&await new Promise(o=>setTimeout(o,200));let e=await(((s=this.options)==null?void 0:s.fetcher)??fetch)(this.request),n,r,i=e.headers.get("Content-Type")??"";return i.startsWith("application/json")?(n=await e.json(),typeof n=="object"&&(r="data"in n?n.data:n)):i.startsWith("text")&&(n=await e.text()),A7e(e,n,r)}then(e,n){return this.execute().then(e,n)}catch(e){return this.then(void 0,e)}finally(e){return this.then(n=>(e==null||e(),n),n=>{throw e==null||e(),n})}path(){return new URL(this.request.url).pathname}key(e){let n=new URL(this.request.url);return(e==null?void 0:e.search)!==!1?this.path()+n.search:this.path()}keyArray(e){let n=new URL(this.request.url),r=this.path().split("/");return((e==null?void 0:e.search)!==!1?[...r,n.searchParams.toString()]:r).filter(Boolean)}})}),_ne,R7e=D(()=>{JS(),_ne=class extends VO{getDefaultOptions(){return{basepath:"/api/auth"}}async login(t,e){var r,i;let n=await this.post([t,"login"],e);return n.ok&&n.body.token&&await((i=(r=this.options).onTokenUpdate)==null?void 0:i.call(r,n.body.token)),n}async register(t,e){var r,i;let n=await this.post([t,"register"],e);return n.ok&&n.body.token&&await((i=(r=this.options).onTokenUpdate)==null?void 0:i.call(r,n.body.token)),n}async actionSchema(t,e){return this.get([t,"actions",e,"schema.json"])}async action(t,e,n){return this.post([t,"actions",e],n)}async loginWithPassword(t){return this.login("password",t)}async registerWithPassword(t){return this.register("password",t)}me(){return this.get(["me"])}strategies(){return this.get(["strategies"])}async logout(){}}}),M7e=D(()=>{JS()}),Tne,Q7e=D(()=>{M7e(),Tne=class extends VO{getDefaultOptions(){return{basepath:"/api/data",queryLengthLimit:1e3,defaultQuery:{limit:10}}}readOne(t,e,n={}){return this.get([t,e],n)}readMany(t,e={}){let n=e??this.options.defaultQuery,r=this.get([t],n);return r.request.url.length<=this.options.queryLengthLimit?r:this.post([t,"query"],n)}readManyByReference(t,e,n,r={}){return this.get([t,e,n],r??this.options.defaultQuery)}createOne(t,e){return this.post([t],e)}updateOne(t,e,n){return this.patch([t,e],n)}deleteOne(t,e){return this.delete([t,e])}count(t,e={}){return this.post([t,"fn","count"],e)}}}),Ane,I7e=D(()=>{JS(),Ane=class extends VO{getDefaultOptions(){return{basepath:"/api/media"}}getFiles(){return this.get(["files"])}getFile(t){return this.get(["file",t])}getFileUploadUrl(t){return this.getUrl(`/upload/${t.path}`)}getEntityUploadUrl(t,e,n){return this.getUrl(`/entity/${t}/${e}/${n}`)}getUploadHeaders(){return new Headers({Authorization:`Bearer ${this.options.token}`})}uploadFile(t){let e=new FormData;return e.append("file",t),this.post(["upload"],e)}deleteFile(t){return this.delete(["file",t])}}}),Rne,D7e=D(()=>{JS(),Rne=class extends VO{getDefaultOptions(){return{basepath:"/api/system"}}readConfig(){return this.get("config")}readSchema(t){return this.get("schema",{config:t!=null&&t.config?1:0,secrets:t!=null&&t.secrets?1:0})}setConfig(t,e,n){return this.post(["config","set",t].join("/")+`?force=${n?1:0}`,e)}addConfig(t,e,n){return this.post(["config","add",t,e],n)}patchConfig(t,e,n){return this.patch(["config","patch",t,e],n)}overwriteConfig(t,e,n){return this.put(["config","overwrite",t,e],n)}removeConfig(t,e){return this.delete(["config","remove",t,e])}}});function L7e(t,e){if(!t)return null;for(let n of t.split("; ")){let[r,i]=n.split("=");if(r===e&&i)return decodeURIComponent(i)}return null}var F2,F7e=D(()=>{R7e(),Q7e(),I7e(),D7e(),F2=class{constructor(t){Y(this,"token");Y(this,"user");Y(this,"verified",!1);Y(this,"token_transport","header");Y(this,"system");Y(this,"data");Y(this,"auth");Y(this,"media");this.options=t,t.user?(this.user=t.user,this.token_transport="none",this.verified=!0):t.token?(this.token_transport="header",this.updateToken(t.token)):this.extractToken(),this.buildApis()}get baseUrl(){return this.options.host}get tokenKey(){return this.options.key??"auth"}extractToken(){var t;if(this.options.headers){let e=L7e(this.options.headers.get("cookie"),"auth");if(e){this.updateToken(e),this.token_transport="cookie",this.verified=!0;return}let n=(t=this.options.headers.get("authorization"))==null?void 0:t.replace("Bearer ","");if(n){this.token_transport="header",this.updateToken(n);return}}else if(this.options.localStorage){let e=localStorage.getItem(this.tokenKey);e&&(this.token_transport="header",this.updateToken(e))}}updateToken(t,e){if(this.token=t,t?this.user=Ks(Fue(t).payload,["iat","iss","exp"]):this.user=void 0,this.options.localStorage){let n=this.tokenKey;t?localStorage.setItem(n,t):localStorage.removeItem(n)}e&&this.buildApis()}markAuthVerified(t){return this.verified=t,this}getAuthState(){return{token:this.token,user:this.user,verified:this.verified}}async getVerifiedAuthState(){return await this.verifyAuth(),this.getAuthState()}async verifyAuth(){if(!this.token){this.markAuthVerified(!1);return}try{let t=await this.auth.me();if(!t.ok||!t.body.user)throw new Error;this.markAuthVerified(!0)}catch{this.markAuthVerified(!1),this.updateToken(void 0)}}getUser(){return this.user||null}buildApis(){let t={host:this.options.host,token:this.token,headers:this.options.headers,token_transport:this.token_transport};this.system=new Rne(t),this.data=new Tne(t),this.auth=new _ne({...t,onTokenUpdate:e=>this.updateToken(e,!0)}),this.media=new Ane(t)}}});function Mne(){return typeof window<"u"&&window.__BKND__?window.__BKND__:{logout_route:"/api/auth/logout"}}var kx,Qne,da,p4,V7e=D(()=>{F7e(),kx=S.createContext({baseUrl:void 0}),Qne=({children:t,baseUrl:e,user:n})=>{let r=Mne(),i=p4(),s=e??i??"";try{e||(i?(s=i,console.warn("wrapped many times, take from context",s)):typeof window<"u"&&(s=window.location.origin,console.log("setting from window",s)))}catch(a){console.error("error .....",a)}console.log("api init",{host:s,user:n??r.user});let o=new F2({host:s,user:n??r.user});return p.jsx(kx.Provider,{value:{baseUrl:o.baseUrl,api:o},children:t})},da=t=>{let e=S.useContext(kx);return!(e!=null&&e.api)||t&&t.length>0&&t!==e.baseUrl?new F2({host:t??""}):e.api},p4=()=>S.useContext(kx).baseUrl}),BO,KS,B7e=D(()=>{Vr(),BO=(t,e)=>{let n=da(),r=t(n),i=(e==null?void 0:e.refine)??(a=>a),s=()=>r.execute().then(i),o=r.key();return{...$9((e==null?void 0:e.enabled)===!1?null:o,s,e),promise:r,key:o,api:n}},KS=t=>{let e=Vue().mutate,n=da();return async r=>{let i="";return typeof r=="string"?i=r:typeof r=="function"&&(i=r(n).key()),t!=null&&t.exact?e(i):e(s=>typeof s=="string"&&s.startsWith(i))}}});function V2(t,e,n,r){var i,s;return"/"+[...((s=(i=t.options)==null?void 0:i.basepath)==null?void 0:s.split("/"))??[],e,...n?[n]:[]].filter(Boolean).join("/")+(r?"?"+AS(r):"")}async function m4(t,e,n,r){function i(o,a){return typeof o<"u"&&typeof a<"u"&&"id"in o&&o.id===n?{...o,...a}:o}let s=V2(t,e);return T9(o=>typeof o=="string"&&o.startsWith(s),async o=>{if(!(typeof o>"u"))return Array.isArray(o)?o.map(a=>i(a,r)):i(o,r)},{revalidate:!1})}var Nm,B2,Md,oQ,Ine=D(()=>{TM(),AM(),Vr(),Nm=class extends Error{constructor(t,e){let n=e;"error"in t&&(n=t.error,e&&(n=`${e}: ${n}`)),super(n??"UseEntityApiError"),this.response=t}},B2=(t,e)=>{let n=da().data;return{create:async r=>{let i=await n.createOne(t,r);if(!i.ok)throw new Nm(i,`Failed to create entity "${t}"`);return i},read:async(r={})=>{let i=e?await n.readOne(t,e,r):await n.readMany(t,r);if(!i.ok)throw new Nm(i,`Failed to read entity "${t}"`);return i},update:async(r,i=e)=>{if(!i)throw new Error("id is required");let s=await n.updateOne(t,i,r);if(!s.ok)throw new Nm(s,`Failed to update entity "${t}"`);return s},_delete:async(r=e)=>{if(!r)throw new Error("id is required");let i=await n.deleteOne(t,r);if(!i.ok)throw new Nm(i,`Failed to delete entity "${t}"`);return i}}},Md=(t,e,n,r)=>{let i=da().data,s=V2(i,t,e,n),{read:o,...a}=B2(t,e),l=()=>o(n),c=$9((r==null?void 0:r.enabled)===!1?null:s,l,{revalidateOnFocus:!1,keepPreviousData:!0,...r}),u=async()=>{let f=V2(i,t);return T9(h=>typeof h=="string"&&h.startsWith(f),void 0,{revalidate:!0})},d=MO(a,f=>async(...h)=>{let m=await f(...h);return(r==null?void 0:r.revalidateOnMutate)!==!1&&await u(),m});return{...c,...d,mutate:u,mutateRaw:c.mutate,api:i,key:s}},oQ=(t,e,n)=>{let{data:r,...i}=Md(t,e,void 0,{...n,enabled:!1});return{...i,mutate:e?s=>m4(i.api,t,e,s):(s,o)=>m4(i.api,t,s,o)}}}),aQ,q7e=D(()=>{Vr(),aQ=t=>{let e=da(t==null?void 0:t.baseUrl),n=KS(),r=e.getAuthState(),[i,s]=S.useState(r),o=(r==null?void 0:r.verified)??!1;function a(){s(e.getAuthState())}async function l(h){let m=await e.auth.loginWithPassword(h);return a(),m.data}async function c(h){let m=await e.auth.registerWithPassword(h);return a(),m.data}function u(h){e.updateToken(h),a()}async function d(){await e.updateToken(void 0),s(void 0),n()}async function f(){await e.verifyAuth(),a()}return{data:i,user:i==null?void 0:i.user,token:i==null?void 0:i.token,verified:o,login:l,register:c,logout:d,setToken:u,verify:f}}}),Vr=D(()=>{V7e(),B7e(),Ine(),q7e()});function W7e(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=q2(e))&&(r&&(r+=" "),r+=n);return r}function z7e(t,...e){let n,r,i,s=o;function o(l){let c=e.reduce((u,d)=>d(u),t());return n=Dne(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){let c=r(l);if(c)return c;let u=Lne(l,n);return i(l,u),u}return function(){return s(W7e.apply(null,arguments))}}var $x,g4,fP,hP,y4,O4,Cx,pP,b4,x4,w4,mP,v4,S4,Dne,k4,Lne,q2,Ft,gP,$4,C4,P4,j4,N4,E4,_4,jo,Ta,Ou,Px,gf,T4,tt,Aa,A4,R4,M4,Q4,I4,D4,yf,bu,L4,yP,F4,V4,B4,Qe,kt=D(()=>{$x="-",g4=t=>{let e=O4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{let s=i.split($x);return s[0]===""&&s.length!==1&&s.shift(),fP(s,e)||y4(i)},getConflictingClassGroupIds:(i,s)=>{let o=n[i]||[];return s&&r[i]?[...o,...r[i]]:o}}},fP=(t,e)=>{var o;if(t.length===0)return e.classGroupId;let n=t[0],r=e.nextPart.get(n),i=r?fP(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;let s=t.join($x);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},hP=/^\[(.+)\]$/,y4=t=>{if(hP.test(t)){let e=hP.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},O4=t=>{let{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return x4(Object.entries(t.classGroups),n).forEach(([i,s])=>{Cx(s,r,i,e)}),r},Cx=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){let s=i===""?e:pP(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(b4(i)){Cx(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Cx(o,pP(e,s),n,r)})})},pP=(t,e)=>{let n=t;return e.split($x).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},b4=t=>t.isThemeGetter,x4=(t,e)=>e?t.map(([n,r])=>{let i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,w4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map,i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},mP="!",v4=t=>{let{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{let l=[],c=0,u=0,d;for(let y=0;y<a.length;y++){let O=a[y];if(c===0){if(O===i&&(r||a.slice(y,y+s)===e)){l.push(a.slice(u,y)),u=y+s;continue}if(O==="/"){d=y;continue}}O==="["?c++:O==="]"&&c--}let f=l.length===0?a:a.substring(u),h=f.startsWith(mP),m=h?f.substring(1):f,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},S4=t=>{if(t.length<=1)return t;let e=[],n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Dne=t=>({cache:w4(t.cacheSize),parseClassName:v4(t),...g4(t)}),k4=/\s+/,Lne=(t,e)=>{let{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(k4),a="";for(let l=o.length-1;l>=0;l-=1){let c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(c),m=!!h,g=r(m?f.substring(0,h):f);if(!g){if(!m){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}m=!1}let y=S4(u).join(":"),O=d?y+mP:y,b=O+g;if(s.includes(b))continue;s.push(b);let w=i(g,m);for(let x=0;x<w.length;++x){let v=w[x];s.push(O+v)}a=c+(a.length>0?" "+a:a)}return a},q2=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=q2(t[r]))&&(n&&(n+=" "),n+=e);return n},Ft=t=>{let e=n=>n[t]||[];return e.isThemeGetter=!0,e},gP=/^\[(?:([a-z-]+):)?(.+)\]$/i,$4=/^\d+\/\d+$/,C4=new Set(["px","full","screen"]),P4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,j4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,N4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,E4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jo=t=>Ou(t)||C4.has(t)||$4.test(t),Ta=t=>bu(t,"length",L4),Ou=t=>!!t&&!Number.isNaN(Number(t)),Px=t=>bu(t,"number",Ou),gf=t=>!!t&&Number.isInteger(Number(t)),T4=t=>t.endsWith("%")&&Ou(t.slice(0,-1)),tt=t=>gP.test(t),Aa=t=>P4.test(t),A4=new Set(["length","size","percentage"]),R4=t=>bu(t,A4,yP),M4=t=>bu(t,"position",yP),Q4=new Set(["image","url"]),I4=t=>bu(t,Q4,V4),D4=t=>bu(t,"",F4),yf=()=>!0,bu=(t,e,n)=>{let r=gP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},L4=t=>j4.test(t)&&!N4.test(t),yP=()=>!1,F4=t=>E4.test(t),V4=t=>_4.test(t),B4=()=>{let t=Ft("colors"),e=Ft("spacing"),n=Ft("blur"),r=Ft("brightness"),i=Ft("borderColor"),s=Ft("borderRadius"),o=Ft("borderSpacing"),a=Ft("borderWidth"),l=Ft("contrast"),c=Ft("grayscale"),u=Ft("hueRotate"),d=Ft("invert"),f=Ft("gap"),h=Ft("gradientColorStops"),m=Ft("gradientColorStopPositions"),g=Ft("inset"),y=Ft("margin"),O=Ft("opacity"),b=Ft("padding"),w=Ft("saturate"),x=Ft("scale"),v=Ft("sepia"),k=Ft("skew"),$=Ft("space"),C=Ft("translate"),N=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",tt,e],T=()=>[tt,e],A=()=>["",jo,Ta],j=()=>["auto",Ou,tt],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",tt],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Ou,tt];return{cacheSize:500,separator:":",theme:{colors:[yf],spacing:[jo,Ta],blur:["none","",Aa,tt],brightness:W(),borderColor:[t],borderRadius:["none","","full",Aa,tt],borderSpacing:T(),borderWidth:A(),contrast:W(),grayscale:L(),hueRotate:W(),invert:L(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[T4,Ta],inset:R(),margin:R(),opacity:W(),padding:T(),saturate:W(),scale:W(),sepia:L(),skew:W(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[Aa]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),tt]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gf,tt]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",gf,tt]}],"grid-cols":[{"grid-cols":[yf]}],"col-start-end":[{col:["auto",{span:["full",gf,tt]},tt]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[yf]}],"row-start-end":[{row:["auto",{span:[gf,tt]},tt]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,e]}],"min-w":[{"min-w":[tt,e,"min","max","fit"]}],"max-w":[{"max-w":[tt,e,"none","full","min","max","fit","prose",{screen:[Aa]},Aa]}],h:[{h:[tt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Aa,Ta]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Px]}],"font-family":[{font:[yf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",Ou,Px]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",jo,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",jo,Ta]}],"underline-offset":[{"underline-offset":["auto",jo,tt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),M4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",R4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},I4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:_()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[jo,tt]}],"outline-w":[{outline:[jo,Ta]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[jo,Ta]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Aa,D4]}],"shadow-color":[{shadow:[yf]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Aa,tt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[v]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[v]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[gf,tt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[jo,Ta,Px]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Qe=z7e(B4)});function Z7e(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var U7e=D(()=>{}),q4,W4,z4,Z4,W2,Fne=D(()=>{q4=S.useInsertionEffect,W4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z4=W4?S.useLayoutEffect:S.useEffect,Z4=q4||z4,W2=t=>{let e=S.useRef([t,(...n)=>e[0](...n)]).current;return Z4(()=>{e[0]=t}),e[1]}}),U4,jx,Nx,X4,OP,G4,bP,Y4,Vne,xP,H4,J4,Bne,wP,X7e=D(()=>{if(Fne(),U4="popstate",jx="pushState",Nx="replaceState",X4="hashchange",OP=[U4,jx,Nx,X4],G4=t=>{for(let e of OP)addEventListener(e,t);return()=>{for(let e of OP)removeEventListener(e,t)}},bP=(t,e)=>Wue.useSyncExternalStore(G4,t,e),Y4=()=>location.search,Vne=({ssrSearch:t=""}={})=>bP(Y4,()=>t),xP=()=>location.pathname,H4=({ssrPath:t}={})=>bP(xP,t?()=>t:xP),J4=(t,{replace:e=!1,state:n=null}={})=>history[e?Nx:jx](n,"",t),Bne=(t={})=>[H4(t),J4],wP=Symbol.for("wouter_v3"),typeof history<"u"&&typeof window[wP]>"u"){for(let t of[jx,Nx]){let e=history[t];history[t]=function(){let n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,wP,{value:!0})}}),K4,vP,eW,tW,nW,Ex,rW,SP,kP,Fa,$P,CP,z2,Em,ws,qne,PP,Z2,jP,iW,Ue,qO,NP,fa,Sn=D(()=>{U7e(),X7e(),Fne(),K4=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",vP=(t="")=>t==="/"?"":t,eW=(t,e)=>t[0]==="~"?t.slice(1):vP(e)+t,tW=(t="",e)=>K4(Ex(vP(t)),Ex(e)),nW=t=>t[0]==="?"?t.slice(1):t,Ex=t=>{try{return decodeURI(t)}catch{return t}},rW=t=>Ex(nW(t)),SP={hook:Bne,searchHook:Vne,parser:Z7e,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},kP=S.createContext(SP),Fa=()=>S.useContext(kP),$P={},CP=S.createContext($P),z2=()=>S.useContext(CP),Em=t=>{let[e,n]=t.hook(t);return[tW(t.base,e),W2((r,i)=>n(eW(r,t.base),i))]},ws=()=>Em(Fa()),qne=()=>{let t=Fa();return rW(t.searchHook(t))},PP=(t,e,n,r)=>{let{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{let c=s!==!1?Object.fromEntries(s.map((d,f)=>[d,l[f]])):o.groups,u={...l};return c&&Object.assign(u,c),u})(),...r?[a]:[]]:[!1,null]},Z2=({children:t,...e})=>{var u,d;let n=Fa(),r=e.hook?SP:n,i=r,[s,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((d=e.hook)==null?void 0:d.hrefs);let a=S.useRef({}),l=a.current,c=l;for(let f in r){let h=f==="base"?r[f]+(e[f]||""):e[f]||r[f];l===c&&h!==c[f]&&(a.current=c={...c}),c[f]=h,h!==r[f]&&(i=c)}return S.createElement(kP.Provider,{value:i,children:t})},jP=({children:t,component:e},n)=>e?S.createElement(e,{params:n}):typeof t=="function"?t(n):t,iW=t=>{let e=S.useRef($P),n=e.current;for(let r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Ue=({path:t,nest:e,match:n,...r})=>{let i=Fa(),[s]=Em(i),[o,a,l]=n??PP(i.parser,t,s,e),c=iW({...z2(),...a});if(!o)return null;let u=l?S.createElement(Z2,{base:l},jP(r,c)):jP(r,c);return S.createElement(CP.Provider,{value:c,children:u})},qO=S.forwardRef((t,e)=>{let n=Fa(),[r,i]=Em(n),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:u,replace:d,state:f,...h}=t,m=W2(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(a==null||a(y),y.defaultPrevented||(y.preventDefault(),i(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&S.isValidElement(c)?S.cloneElement(c,{onClick:m,href:g}):S.createElement("a",{...h,onClick:m,href:g,className:u!=null&&u.call?u(r===o):u,children:c,ref:e})}),NP=t=>Array.isArray(t)?t.flatMap(e=>NP(e&&e.type===S.Fragment?e.props.children:e)):[t],fa=({children:t,location:e})=>{let n=Fa(),[r]=Em(n);for(let i of NP(t)){let s=0;if(S.isValidElement(i)&&(s=PP(n.parser,i.props.path,e||r,i.props.nest))[0])return S.cloneElement(i,{match:s})}return null}}),Wt,Gi=D(()=>{Wt=t=>{let e=S.useRef([t,(...n)=>e[0](...n)]).current;return S.useInsertionEffect(()=>{e[0]=t}),e[1]}});function En({className:t,native:e,onClick:n,...r}){let i=Fa(),[s,o]=Wne(i);function a(h,m){if(h.startsWith(m)){let g=h.replace(m,"");return g.length===0||g[0]==="/"}return!1}let l=r.href??r.to,c=i.hrefs(l[0]==="~"?l.slice(1):i.base+l,i).replace("//","/"),u=U2(s,i.base).replace("//","/"),d=c.replace(i.base,"").length<=1?c===u:a(u,c);if(e)return p.jsx("a",{className:`${d?"active ":""}${t}`,...r});let f=h=>{};return p.jsx(qO,{className:`${d?"active ":""}${t}`,...r,onClick:f})}var sW,U2,oW,Wne,Oo=D(()=>{Sn(),Gi(),sW=(t="",e="")=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",U2=(t,e="")=>t[0]==="~"?t.slice(1):e+t,oW=t=>{try{return decodeURI(t)}catch{return t}},Wne=t=>{let[e,n]=t.hook(t);return[oW(sW(t.base,e)),Wt((r,i)=>n(U2(r,t.base),i))]}}),aW,lW,cW,EP,Ze,zne,$t=D(()=>{kt(),Oo(),aW={small:"px-2 py-1.5 rounded-md gap-1 text-sm",default:"px-3 py-2.5 rounded-md gap-1.5",large:"px-4 py-3 rounded-md gap-2.5 text-lg"},lW={small:12,default:16,large:20},cW={default:"bg-primary/5 hover:bg-primary/10 link text-primary/70",primary:"bg-primary hover:bg-primary/80 link text-background",ghost:"bg-transparent hover:bg-primary/5 link text-primary/70",outline:"border border-primary/70 bg-transparent hover:bg-primary/5 link text-primary/70",red:"dark:bg-red-950 dark:hover:bg-red-900 bg-red-100 hover:bg-red-200 link text-primary/70",subtlered:"dark:text-red-950 text-red-700 dark:hover:bg-red-900 bg-transparent hover:bg-red-50 link"},EP=({children:t,size:e,variant:n,IconLeft:r,IconRight:i,iconSize:s=lW[e??"default"],iconProps:o,labelClassName:a,...l})=>({...l,className:Qe("flex flex-row flex-nowrap items-center font-semibold disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed",aW[e??"default"],cW[n??"default"],l.className),children:p.jsxs(p.Fragment,{children:[r&&p.jsx(r,{size:s,...o}),t&&p.jsx("span",{className:Qe("leading-none",a),children:t}),i&&p.jsx(i,{size:s,...o})]})}),Ze=S.forwardRef((t,e)=>p.jsx("button",{type:"button",ref:e,...EP(t)})),zne=S.forwardRef((t,e)=>p.jsx(En,{ref:e,href:"#",...EP(t)}))}),_m,uW,dW,fW,hW,cl,WO=D(()=>{kt(),_m=({visible:t=!0,title:e,message:n,className:r,children:i,...s})=>t?p.jsxs("div",{...s,className:Qe("flex flex-row items-center dark:bg-amber-300/20 bg-amber-200 p-4",r),children:[e&&p.jsxs("b",{className:"mr-2",children:[e,":"]}),n||i]}):null,uW=({className:t,...e})=>p.jsx(_m,{...e,className:Qe("dark:bg-amber-300/20 bg-amber-200",t)}),dW=({className:t,...e})=>p.jsx(_m,{...e,className:Qe("dark:bg-red-950 bg-red-100",t)}),fW=({className:t,...e})=>p.jsx(_m,{...e,className:Qe("dark:bg-green-950 bg-green-100",t)}),hW=({className:t,...e})=>p.jsx(_m,{...e,className:Qe("dark:bg-blue-950 bg-blue-100",t)}),cl={Warning:uW,Exception:dW,Success:fW,Info:hW}});function G7e({api:t,setSchema:e,reloadSchema:n}){async function r(i,s,o,a){let l={id:"schema-"+[i,s,a].join("-"),position:"top-right",autoClose:3e3};return o.success===!0?(console.log("update config",i,s,a,o.body),o.body.success&&e(c=>c&&{...c,config:{...c.config,[s]:o.config}}),qa.show({...l,title:`Config updated: ${xs(s)}`,color:"blue",message:`Operation ${i.toUpperCase()} at ${s}${a?"."+a:""}`})):qa.show({...l,title:`Config Update failed: ${xs(s)}${a?"."+a:""}`,color:"red",withCloseButton:!0,autoClose:!1,message:o.error??"Failed to complete config update"}),o.success}return{reload:n,set:async(i,s,o)=>{let a=await t.system.setConfig(i,s,o);return await r("set",i,a)},patch:async(i,s,o)=>{let a=await t.system.patchConfig(i,s,o);return await r("patch",i,a,s)},overwrite:async(i,s,o)=>{let a=await t.system.overwriteConfig(i,s,o);return await r("overwrite",i,a,s)},add:async(i,s,o)=>{let a=await t.system.addConfig(i,s,o);return await r("add",i,a,s)},remove:async(i,s)=>{let o=await t.system.removeConfig(i,s);return await r("remove",i,o,s)}}}var Y7e=D(()=>{bee(),ve()}),Zne,H7e=D(()=>{Sr(),LM(),Xd(),Zne=class{constructor(t){Y(this,"_entities",[]);Y(this,"_relations",[]);Y(this,"_flows",[]);this.appJson=t,this._entities=Object.entries(this.appJson.data.entities??{}).map(([e,n])=>WM(e,n)),this._relations=Object.entries(this.appJson.data.relations??{}).map(([,e])=>Nte(e,this.entity.bind(this)));for(let[e,n]of Object.entries(this.appJson.flows.flows??{})){let r=GS.fromObject(e,n,HM);this._flows.push(r)}}get entities(){return this._entities}entity(t){let e=typeof t=="string"?t:t.name,n=this._entities.find(r=>r.name===e);if(!n)throw new Error(`Entity "${e}" not found`);return n}get relations(){return new DM(this._relations)}get flows(){return this._flows}get config(){return this.appJson}getAdminConfig(){return this.appJson.server.admin}getSettingsPath(t=[]){let{basepath:e}=this.getAdminConfig();return[`~/${e}/settings`.replace(/\/+/g,"/"),...t].join("/")}getAbsolutePath(t){let{basepath:e}=this.getAdminConfig();return(t?`~/${e}/${t}`:`~/${e}`).replace(/\/+/g,"/")}getAuthConfig(){return this.appJson.auth}}});function J7e({includeSecrets:t=!1,adminOverride:e,children:n,fallback:r=null}){let[i,s]=S.useState(t),[o,a]=S.useState(),[l,c]=S.useState(!1),[u,d]=S.useState(),f=S.useRef(),[h,m]=S.useState(0),g=da();async function y(){await O(t,!0)}async function O(k=!1,$){if(i&&!$)return;let C=await g.system.readSchema({config:!0,secrets:k});if(C.ok)u&&d(!1);else{if(f.current)return;f.current=!0,d(!0)}let N=C.ok?C.body:{version:0,schema:Ene(),config:_7e(),permissions:[]};e&&(N.config.server.admin={...N.config.server.admin,...e}),S.startTransition(()=>{a(N),s(k),c(!0),m(P=>P+1)})}async function b(){i||await O(!0)}if(S.useEffect(()=>{o!=null&&o.schema||O(t)},[]),!l||!o)return r;let w=new Zne(o==null?void 0:o.config),x=G7e({api:g,setSchema:a,reloadSchema:y}),v=i&&!u;return p.jsx(lQ.Provider,{value:{...o,actions:x,requireSecrets:b,app:w,adminOverride:e,hasSecrets:v},children:n},h)}function st({withSecrets:t}={}){let e=S.useContext(lQ);return t&&e.requireSecrets(),e}var lQ,va=D(()=>{T7e(),Vr(),Y7e(),H7e(),lQ=S.createContext(void 0)}),Ht=D(()=>{va()});function cQ({scale:t=.2,fill:e,theme:n="light"}){var a;let r=st(),i=n??((a=r==null?void 0:r.app)==null?void 0:a.getAdminConfig().color_scheme)??"light",s=e||(i==="light"?"black":"white"),o={width:Math.round(578*t),height:Math.round(188*t)};return p.jsx("div",{style:o,children:p.jsxs("svg",{width:o.width,height:o.height,viewBox:"0 0 578 188",fill:s,xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.5 34C37.0817 34 33.5 37.5817 33.5 42V146C33.5 150.418 37.0817 154 41.5 154H158.5C162.918 154 166.5 150.418 166.5 146V42C166.5 37.5817 162.918 34 158.5 34H41.5ZM123.434 113.942C124.126 111.752 124.5 109.42 124.5 107C124.5 94.2975 114.203 84 101.5 84C99.1907 84 96.9608 84.3403 94.8579 84.9736L87.2208 65.1172C90.9181 63.4922 93.5 59.7976 93.5 55.5C93.5 49.701 88.799 45 83 45C77.201 45 72.5 49.701 72.5 55.5C72.5 61.299 77.201 66 83 66C83.4453 66 83.8841 65.9723 84.3148 65.9185L92.0483 86.0256C87.1368 88.2423 83.1434 92.1335 80.7957 96.9714L65.4253 91.1648C65.4746 90.7835 65.5 90.3947 65.5 90C65.5 85.0294 61.4706 81 56.5 81C51.5294 81 47.5 85.0294 47.5 90C47.5 94.9706 51.5294 99 56.5 99C60.0181 99 63.0648 96.9814 64.5449 94.0392L79.6655 99.7514C78.9094 102.03 78.5 104.467 78.5 107C78.5 110.387 79.2321 113.603 80.5466 116.498L69.0273 123.731C67.1012 121.449 64.2199 120 61 120C55.201 120 50.5 124.701 50.5 130.5C50.5 136.299 55.201 141 61 141C66.799 141 71.5 136.299 71.5 130.5C71.5 128.997 71.1844 127.569 70.6158 126.276L81.9667 119.149C86.0275 125.664 93.2574 130 101.5 130C110.722 130 118.677 124.572 122.343 116.737L132.747 120.899C132.585 121.573 132.5 122.276 132.5 123C132.5 127.971 136.529 132 141.5 132C146.471 132 150.5 127.971 150.5 123C150.5 118.029 146.471 114 141.5 114C138.32 114 135.525 115.649 133.925 118.139L123.434 113.942Z"}),p.jsx("path",{d:"M243.9 151.5C240.4 151.5 237 151 233.7 150C230.4 149 227.4 147.65 224.7 145.95C222 144.15 219.75 142.15 217.95 139.95C216.15 137.65 215 135.3 214.5 132.9L219.3 131.1L218.25 149.7H198.15V39H219.45V89.25L215.4 87.6C216 85.2 217.15 82.9 218.85 80.7C220.55 78.4 222.7 76.4 225.3 74.7C227.9 72.9 230.75 71.5 233.85 70.5C236.95 69.5 240.15 69 243.45 69C250.35 69 256.5 70.8 261.9 74.4C267.3 77.9 271.55 82.75 274.65 88.95C277.85 95.15 279.45 102.25 279.45 110.25C279.45 118.25 277.9 125.35 274.8 131.55C271.7 137.75 267.45 142.65 262.05 146.25C256.75 149.75 250.7 151.5 243.9 151.5ZM238.8 133.35C242.8 133.35 246.25 132.4 249.15 130.5C252.15 128.5 254.5 125.8 256.2 122.4C257.9 118.9 258.75 114.85 258.75 110.25C258.75 105.75 257.9 101.75 256.2 98.25C254.6 94.75 252.3 92.05 249.3 90.15C246.3 88.25 242.8 87.3 238.8 87.3C234.8 87.3 231.3 88.25 228.3 90.15C225.3 92.05 222.95 94.75 221.25 98.25C219.55 101.75 218.7 105.75 218.7 110.25C218.7 114.85 219.55 118.9 221.25 122.4C222.95 125.8 225.3 128.5 228.3 130.5C231.3 132.4 234.8 133.35 238.8 133.35ZM308.312 126.15L302.012 108.6L339.512 70.65H367.562L308.312 126.15ZM288.062 150V39H309.362V150H288.062ZM341.762 150L313.262 114.15L328.262 102.15L367.412 150H341.762ZM371.675 150V70.65H392.075L392.675 86.85L388.475 88.65C389.575 85.05 391.525 81.8 394.325 78.9C397.225 75.9 400.675 73.5 404.675 71.7C408.675 69.9 412.875 69 417.275 69C423.275 69 428.275 70.2 432.275 72.6C436.375 75 439.425 78.65 441.425 83.55C443.525 88.35 444.575 94.3 444.575 101.4V150H423.275V103.05C423.275 99.45 422.775 96.45 421.775 94.05C420.775 91.65 419.225 89.9 417.125 88.8C415.125 87.6 412.625 87.1 409.625 87.3C407.225 87.3 404.975 87.7 402.875 88.5C400.875 89.2 399.125 90.25 397.625 91.65C396.225 93.05 395.075 94.65 394.175 96.45C393.375 98.25 392.975 100.2 392.975 102.3V150H382.475C380.175 150 378.125 150 376.325 150C374.525 150 372.975 150 371.675 150ZM488.536 151.5C481.636 151.5 475.436 149.75 469.936 146.25C464.436 142.65 460.086 137.8 456.886 131.7C453.786 125.5 452.236 118.35 452.236 110.25C452.236 102.35 453.786 95.3 456.886 89.1C460.086 82.9 464.386 78 469.786 74.4C475.286 70.8 481.536 69 488.536 69C492.236 69 495.786 69.6 499.186 70.8C502.686 71.9 505.786 73.45 508.486 75.45C511.286 77.45 513.536 79.7 515.236 82.2C516.936 84.6 517.886 87.15 518.086 89.85L512.686 90.75V39H533.986V150H513.886L512.986 131.7L517.186 132.15C516.986 134.65 516.086 137.05 514.486 139.35C512.886 141.65 510.736 143.75 508.036 145.65C505.436 147.45 502.436 148.9 499.036 150C495.736 151 492.236 151.5 488.536 151.5ZM493.336 133.8C497.336 133.8 500.836 132.8 503.836 130.8C506.836 128.8 509.186 126.05 510.886 122.55C512.586 119.05 513.436 114.95 513.436 110.25C513.436 105.65 512.586 101.6 510.886 98.1C509.186 94.5 506.836 91.75 503.836 89.85C500.836 87.85 497.336 86.85 493.336 86.85C489.336 86.85 485.836 87.85 482.836 89.85C479.936 91.75 477.636 94.5 475.936 98.1C474.336 101.6 473.536 105.65 473.536 110.25C473.536 114.95 474.336 119.05 475.936 122.55C477.636 126.05 479.936 128.8 482.836 130.8C485.836 132.8 489.336 133.8 493.336 133.8Z"})]})})}var uQ=D(()=>{Ht()});function K7e(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Une(...t){return e=>t.forEach(n=>K7e(n,e))}function ju(...t){return S.useCallback(Une(...t),t)}var dQ=D(()=>{});function eUe(t){return S.isValidElement(t)&&t.type===Xne}function tUe(t,e){let n={...e};for(let r in e){let i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{s(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function nUe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var X2,_x,Xne,rUe=D(()=>{dQ(),X2=S.forwardRef((t,e)=>{let{children:n,...r}=t,i=S.Children.toArray(n),s=i.find(eUe);if(s){let o=s.props.children,a=i.map(l=>l===s?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:l);return p.jsx(_x,{...r,ref:e,children:S.isValidElement(o)?S.cloneElement(o,void 0,a):null})}return p.jsx(_x,{...r,ref:e,children:n})}),X2.displayName="Slot",_x=S.forwardRef((t,e)=>{let{children:n,...r}=t;if(S.isValidElement(n)){let i=nUe(n);return S.cloneElement(n,{...tUe(r,n.props),ref:e?Une(e,i):i})}return S.Children.count(n)>1?S.Children.only(null):null}),_x.displayName="SlotClone",Xne=({children:t})=>p.jsx(p.Fragment,{children:t})}),pW,Cf,iUe=D(()=>{rUe(),pW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Cf=pW.reduce((t,e)=>{let n=S.forwardRef((r,i)=>{let{asChild:s,...o}=r,a=s?X2:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{})}),P0,Gne=D(()=>{P0=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{}});function sUe(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}function oUe(t){let[e,n]=S.useState(),r=S.useRef({}),i=S.useRef(t),s=S.useRef("none"),o=t?"mounted":"unmounted",[a,l]=sUe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{let c=Tx(r.current);s.current=a==="mounted"?c:"none"},[a]),P0(()=>{let c=r.current,u=i.current;if(u!==t){let d=s.current,f=Tx(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),P0(()=>{if(e){let c,u=e.ownerDocument.defaultView??window,d=h=>{let m=Tx(r.current).includes(h.animationName);if(h.target===e&&m&&(l("ANIMATION_END"),!i.current)){let g=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},f=h=>{h.target===e&&(s.current=Tx(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Tx(t){return(t==null?void 0:t.animationName)||"none"}function aUe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ff,lUe=D(()=>{"use client";dQ(),Gne(),Ff=t=>{let{present:e,children:n}=t,r=oUe(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=ju(r.ref,aUe(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null},Ff.displayName="Presence"});function cUe(t,e=[]){let n=[];function r(s,o){let a=S.createContext(o),l=n.length;n=[...n,o];let c=d=>{var O;let{scope:f,children:h,...m}=d,g=((O=f==null?void 0:f[t])==null?void 0:O[l])||a,y=S.useMemo(()=>m,Object.values(m));return p.jsx(g.Provider,{value:y,children:h})};c.displayName=s+"Provider";function u(d,f){var g;let h=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,m=S.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}let i=()=>{let s=n.map(o=>S.createContext(o));return function(o){let a=(o==null?void 0:o[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:a}}),[o,a])}};return i.scopeName=t,[r,uUe(i,...e)]}function uUe(...t){let e=t[0];if(t.length===1)return e;let n=()=>{let r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){let s=r.reduce((o,{useScope:a,scopeName:l})=>{let c=a(i)[`__scope${l}`];return{...o,...c}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var dUe=D(()=>{});function Lu(t){let e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var fUe=D(()=>{});function hUe(t){let e=S.useContext(Yne);return t||e||"ltr"}var Yne,pUe=D(()=>{Yne=S.createContext(void 0)});function mUe(t,[e,n]){return Math.min(n,Math.max(e,t))}var gUe=D(()=>{});function xu(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}var yUe=D(()=>{});function OUe(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}function Ax(t){return t?parseInt(t,10):0}function Hne(t,e){let n=t/e;return isNaN(n)?0:n}function j0(t){let e=Hne(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function bUe(t,e,n,r="ltr"){let i=j0(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return Jne([l,c],d)(t)}function mW(t,e,n="ltr"){let r=j0(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=mUe(t,l);return Jne([0,o],[0,a])(c)}function Jne(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];let r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function gW(t,e){return t>0&&t<e}function Rx(t,e){let n=Lu(t),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Of(t,e){let n=Lu(e);P0(()=>{let r=0;if(t){let i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function xUe(t,e){let{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;let i=S.Children.only(r);return S.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var Mx,_P,wUe,yW,$i,TP,AP,RP,Is,MP,OW,bW,QP,Qx,xW,wW,vW,IP,DP,Tm,LP,SW,Ix,kW,$W,CW,fQ,hQ,Ny,Ey,Kne=D(()=>{"use client";iUe(),lUe(),dUe(),dQ(),fUe(),pUe(),Gne(),gUe(),yUe(),Mx="ScrollArea",[_P,wUe]=cUe(Mx),[yW,$i]=_P(Mx),TP=S.forwardRef((t,e)=>{let{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=S.useState(null),[c,u]=S.useState(null),[d,f]=S.useState(null),[h,m]=S.useState(null),[g,y]=S.useState(null),[O,b]=S.useState(0),[w,x]=S.useState(0),[v,k]=S.useState(!1),[$,C]=S.useState(!1),N=ju(e,R=>l(R)),P=hUe(i);return p.jsx(yW,{scope:n,type:r,dir:P,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:v,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:$,onScrollbarYEnabledChange:C,onCornerWidthChange:b,onCornerHeightChange:x,children:p.jsx(Cf.div,{dir:P,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":O+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})}),TP.displayName=Mx,AP="ScrollAreaViewport",RP=S.forwardRef((t,e)=>{let{__scopeScrollArea:n,children:r,asChild:i,nonce:s,...o}=t,a=$i(AP,n),l=S.useRef(null),c=ju(e,l,a.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),p.jsx(Cf.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:xUe({asChild:i,children:r},u=>p.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})}),RP.displayName=AP,Is="ScrollAreaScrollbar",MP=S.forwardRef((t,e)=>{let{forceMount:n,...r}=t,i=$i(Is,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return S.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?p.jsx(OW,{...r,ref:e,forceMount:n}):i.type==="scroll"?p.jsx(bW,{...r,ref:e,forceMount:n}):i.type==="auto"?p.jsx(QP,{...r,ref:e,forceMount:n}):i.type==="always"?p.jsx(Qx,{...r,ref:e}):null}),MP.displayName=Is,OW=S.forwardRef((t,e)=>{let{forceMount:n,...r}=t,i=$i(Is,t.__scopeScrollArea),[s,o]=S.useState(!1);return S.useEffect(()=>{let a=i.scrollArea,l=0;if(a){let c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(Ff,{present:n||s,children:p.jsx(QP,{"data-state":s?"visible":"hidden",...r,ref:e})})}),bW=S.forwardRef((t,e)=>{let{forceMount:n,...r}=t,i=$i(Is,t.__scopeScrollArea),s=t.orientation==="horizontal",o=Rx(()=>l("SCROLL_END"),100),[a,l]=OUe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(a==="idle"){let c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),S.useEffect(()=>{let c=i.viewport,u=s?"scrollLeft":"scrollTop";if(c){let d=c[u],f=()=>{let h=c[u];d!==h&&(l("SCROLL"),o()),d=h};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,s,l,o]),p.jsx(Ff,{present:n||a!=="hidden",children:p.jsx(Qx,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:xu(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:xu(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),QP=S.forwardRef((t,e)=>{let n=$i(Is,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=S.useState(!1),a=t.orientation==="horizontal",l=Rx(()=>{if(n.viewport){let c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return Of(n.viewport,l),Of(n.content,l),p.jsx(Ff,{present:r||s,children:p.jsx(Qx,{"data-state":s?"visible":"hidden",...i,ref:e})})}),Qx=S.forwardRef((t,e)=>{let{orientation:n="vertical",...r}=t,i=$i(Is,t.__scopeScrollArea),s=S.useRef(null),o=S.useRef(0),[a,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Hne(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function d(f,h){return bUe(f,o.current,a,h)}return n==="horizontal"?p.jsx(xW,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){let f=i.viewport.scrollLeft,h=mW(f,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=d(f,i.dir))}}):n==="vertical"?p.jsx(wW,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){let f=i.viewport.scrollTop,h=mW(f,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=d(f))}}):null}),xW=S.forwardRef((t,e)=>{let{sizes:n,onSizesChange:r,...i}=t,s=$i(Is,t.__scopeScrollArea),[o,a]=S.useState(),l=S.useRef(null),c=ju(e,l,s.onScrollbarXChange);return S.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(DP,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":j0(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(s.viewport){let f=s.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),gW(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Ax(o.paddingLeft),paddingEnd:Ax(o.paddingRight)}})}})}),wW=S.forwardRef((t,e)=>{let{sizes:n,onSizesChange:r,...i}=t,s=$i(Is,t.__scopeScrollArea),[o,a]=S.useState(),l=S.useRef(null),c=ju(e,l,s.onScrollbarYChange);return S.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(DP,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":j0(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(s.viewport){let f=s.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),gW(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Ax(o.paddingTop),paddingEnd:Ax(o.paddingBottom)}})}})}),[vW,IP]=_P(Is),DP=S.forwardRef((t,e)=>{let{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...f}=t,h=$i(Is,n),[m,g]=S.useState(null),y=ju(e,N=>g(N)),O=S.useRef(null),b=S.useRef(""),w=h.viewport,x=r.content-r.viewport,v=Lu(u),k=Lu(l),$=Rx(d,10);function C(N){if(O.current){let P=N.clientX-O.current.left,R=N.clientY-O.current.top;c({x:P,y:R})}}return S.useEffect(()=>{let N=P=>{let R=P.target;m!=null&&m.contains(R)&&v(P,x)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,m,x,v]),S.useEffect(k,[r,k]),Of(m,$),Of(h.content,$),p.jsx(vW,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:Lu(s),onThumbPointerUp:Lu(o),onThumbPositionChange:k,onThumbPointerDown:Lu(a),children:p.jsx(Cf.div,{...f,ref:y,style:{position:"absolute",...f.style},onPointerDown:xu(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),O.current=m.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),C(N))}),onPointerMove:xu(t.onPointerMove,C),onPointerUp:xu(t.onPointerUp,N=>{let P=N.target;P.hasPointerCapture(N.pointerId)&&P.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=b.current,h.viewport&&(h.viewport.style.scrollBehavior=""),O.current=null})})})}),Tm="ScrollAreaThumb",LP=S.forwardRef((t,e)=>{let{forceMount:n,...r}=t,i=IP(Tm,t.__scopeScrollArea);return p.jsx(Ff,{present:n||i.hasThumb,children:p.jsx(SW,{ref:e,...r})})}),SW=S.forwardRef((t,e)=>{let{__scopeScrollArea:n,style:r,...i}=t,s=$i(Tm,n),o=IP(Tm,n),{onThumbPositionChange:a}=o,l=ju(e,d=>o.onThumbChange(d)),c=S.useRef(),u=Rx(()=>{c.current&&(c.current(),c.current=void 0)},100);return S.useEffect(()=>{let d=s.viewport;if(d){let f=()=>{if(u(),!c.current){let h=CW(d,a);c.current=h,a()}};return a(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[s.viewport,u,a]),p.jsx(Cf.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:xu(t.onPointerDownCapture,d=>{let f=d.target.getBoundingClientRect(),h=d.clientX-f.left,m=d.clientY-f.top;o.onThumbPointerDown({x:h,y:m})}),onPointerUp:xu(t.onPointerUp,o.onThumbPointerUp)})}),LP.displayName=Tm,Ix="ScrollAreaCorner",kW=S.forwardRef((t,e)=>{let n=$i(Ix,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx($W,{...t,ref:e}):null}),kW.displayName=Ix,$W=S.forwardRef((t,e)=>{let{__scopeScrollArea:n,...r}=t,i=$i(Ix,n),[s,o]=S.useState(0),[a,l]=S.useState(0),c=!!(s&&a);return Of(i.scrollbarX,()=>{var d;let u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),Of(i.scrollbarY,()=>{var d;let u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?p.jsx(Cf.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null}),CW=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){let s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)},fQ=TP,hQ=RP,Ny=MP,Ey=LP}),PW,dt,Lt=D(()=>{kt(),$t(),PW={xs:{className:"p-0.5",size:13},sm:{className:"p-0.5",size:15},md:{className:"p-1",size:18},lg:{className:"p-1.5",size:22}},dt=S.forwardRef(({Icon:t,size:e,variant:n="ghost",onClick:r,disabled:i,iconProps:s,...o},a)=>{let l=PW[e??"md"];return p.jsx(Ze,{ref:a,variant:n,iconSize:l.size,iconProps:s,IconLeft:t,className:Qe(l.className,o.className),onClick:r,disabled:i})})});function vUe({children:t}){let{width:e}=m9e(),[n,r]=Dl(e>768);return p.jsx(pQ.Provider,{value:{sidebar:{open:n,handler:r}},children:t})}function ere(){return S.useContext(pQ)}var pQ,tre=D(()=>{en(),pQ=S.createContext(void 0)}),SUe=D(()=>{}),G2,Y2,nre=D(()=>{G2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Y2=we.createContext&&we.createContext(G2)});function kUe(t,e){if(t==null)return{};var n=$Ue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Ue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(this,arguments)}function jW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jW(Object(n),!0).forEach(function(r){CUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CUe(t,e,n){return e=PUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PUe(t){var e=jUe(t,"string");return typeof e=="symbol"?e:e+""}function jUe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rre(t){return t&&t.map((e,n)=>we.createElement(e.tag,E0({key:n},e.attr),rre(e.child)))}function Je(t){return e=>we.createElement(NUe,N0({attr:E0({},t.attr)},e),rre(t.child))}function NUe(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=kUe(t,ire),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),we.createElement("svg",N0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:E0(E0({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&we.createElement("title",null,s),t.children)};return Y2!==void 0?we.createElement(Y2.Consumer,null,n=>e(n)):e(G2)}var ire,EUe=D(()=>{nre(),ire=["attr","size","title"]}),_Ue=D(()=>{SUe(),EUe(),nre()});function sre(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z"},child:[]}]})(t)}function ore(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.333 2c1.96 0 3.56 1.537 3.662 3.472l.005 .195v12.666c0 1.96 -1.537 3.56 -3.472 3.662l-.195 .005h-12.666a3.667 3.667 0 0 1 -3.662 -3.472l-.005 -.195v-12.666c0 -1.96 1.537 -3.56 3.472 -3.662l.195 -.005h12.666zm-2.626 7.293a1 1 0 0 0 -1.414 0l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l2 2l.094 .083a1 1 0 0 0 1.32 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"},child:[]}]})(t)}function mQ(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M18 13l-6 6"},child:[]},{tag:"path",attr:{d:"M6 13l6 6"},child:[]}]})(t)}function gQ(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l14 0"},child:[]},{tag:"path",attr:{d:"M5 12l6 6"},child:[]},{tag:"path",attr:{d:"M5 12l6 -6"},child:[]}]})(t)}function yQ(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M18 11l-6 -6"},child:[]},{tag:"path",attr:{d:"M6 11l6 -6"},child:[]}]})(t)}function TUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5"},child:[]},{tag:"path",attr:{d:"M12 12l8 -4.5"},child:[]},{tag:"path",attr:{d:"M12 12l0 9"},child:[]},{tag:"path",attr:{d:"M12 12l-8 -4.5"},child:[]}]})(t)}function AUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 4a2 2 0 0 0 -2 2v3a2 3 0 0 1 -2 3a2 3 0 0 1 2 3v3a2 2 0 0 0 2 2"},child:[]},{tag:"path",attr:{d:"M17 4a2 2 0 0 1 2 2v3a2 3 0 0 0 2 3a2 3 0 0 0 -2 3v3a2 2 0 0 1 -2 2"},child:[]}]})(t)}function are(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z"},child:[]},{tag:"path",attr:{d:"M16 3v4"},child:[]},{tag:"path",attr:{d:"M8 3v4"},child:[]},{tag:"path",attr:{d:"M4 11h16"},child:[]},{tag:"path",attr:{d:"M11 15h1"},child:[]},{tag:"path",attr:{d:"M12 15v3"},child:[]}]})(t)}function RUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 9l6 6l6 -6"},child:[]}]})(t)}function lre(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 6l-6 6l6 6"},child:[]}]})(t)}function cre(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 6l6 6l-6 6"},child:[]}]})(t)}function ure(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 7l-5 5l5 5"},child:[]},{tag:"path",attr:{d:"M17 7l-5 5l5 5"},child:[]}]})(t)}function dre(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7l5 5l-5 5"},child:[]},{tag:"path",attr:{d:"M13 7l5 5l-5 5"},child:[]}]})(t)}function OQ(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.183 6.117a6 6 0 1 0 4.511 3.986"},child:[]},{tag:"path",attr:{d:"M14.813 17.883a6 6 0 1 0 -4.496 -3.954"},child:[]}]})(t)}function MUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 12h6"},child:[]},{tag:"path",attr:{d:"M12 9v6"},child:[]},{tag:"path",attr:{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2"},child:[]},{tag:"path",attr:{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2"},child:[]}]})(t)}function QUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"},child:[]},{tag:"path",attr:{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"},child:[]}]})(t)}function fre(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3"},child:[]},{tag:"path",attr:{d:"M4 6v6c0 1.657 3.582 3 8 3c1.075 0 2.1 -.08 3.037 -.224"},child:[]},{tag:"path",attr:{d:"M20 12v-6"},child:[]},{tag:"path",attr:{d:"M4 12v6c0 1.657 3.582 3 8 3c.166 0 .331 -.002 .495 -.006"},child:[]},{tag:"path",attr:{d:"M16 19h6"},child:[]},{tag:"path",attr:{d:"M19 16v6"},child:[]}]})(t)}function IUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0"},child:[]},{tag:"path",attr:{d:"M4 6v6a8 3 0 0 0 16 0v-6"},child:[]},{tag:"path",attr:{d:"M4 12v6a8 3 0 0 0 16 0v-6"},child:[]}]})(t)}function DUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.831 20.413l-5.375 -6.91c-.608 -.783 -.608 -2.223 0 -3l5.375 -6.911a1.457 1.457 0 0 1 2.338 0l5.375 6.91c.608 .783 .608 2.223 0 3l-5.375 6.911a1.457 1.457 0 0 1 -2.338 0z"},child:[]}]})(t)}function LUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function Ll(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function FUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"},child:[]},{tag:"path",attr:{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6"},child:[]}]})(t)}function VUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18.9 7a8 8 0 0 1 1.1 5v1a6 6 0 0 0 .8 3"},child:[]},{tag:"path",attr:{d:"M8 11a4 4 0 0 1 8 0v1a10 10 0 0 0 2 6"},child:[]},{tag:"path",attr:{d:"M12 11v2a14 14 0 0 0 2.5 8"},child:[]},{tag:"path",attr:{d:"M8 15a18 18 0 0 0 1.8 6"},child:[]},{tag:"path",attr:{d:"M4.9 19a22 22 0 0 1 -.9 -7v-1a8 8 0 0 1 12 -6.95"},child:[]}]})(t)}function BUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function qUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 3h4v4h-4z"},child:[]},{tag:"path",attr:{d:"M3 17h4v4h-4z"},child:[]},{tag:"path",attr:{d:"M17 17h4v4h-4z"},child:[]},{tag:"path",attr:{d:"M7 17l5 -4l5 4"},child:[]},{tag:"path",attr:{d:"M12 7l0 6"},child:[]}]})(t)}function WUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 9h.01"},child:[]},{tag:"path",attr:{d:"M11 12h1v4h1"},child:[]}]})(t)}function zUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16.555 3.843l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.643 2.643a2.877 2.877 0 0 1 -4.069 0l-.301 -.301l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.877 2.877 0 0 1 0 -4.069l2.643 -2.643a2.877 2.877 0 0 1 4.069 0z"},child:[]},{tag:"path",attr:{d:"M15 9h.01"},child:[]}]})(t)}function ZUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 8v-2a2 2 0 0 1 2 -2h2"},child:[]},{tag:"path",attr:{d:"M4 16v2a2 2 0 0 0 2 2h2"},child:[]},{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v2"},child:[]},{tag:"path",attr:{d:"M16 20h2a2 2 0 0 0 2 -2v-2"},child:[]}]})(t)}function UUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 6l16 0"},child:[]},{tag:"path",attr:{d:"M4 12l16 0"},child:[]},{tag:"path",attr:{d:"M4 18l16 0"},child:[]}]})(t)}function XUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(t)}function GUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 10l2 -2v8"},child:[]},{tag:"path",attr:{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3"},child:[]},{tag:"path",attr:{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5"},child:[]}]})(t)}function zO(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 8h.01"},child:[]},{tag:"path",attr:{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"},child:[]},{tag:"path",attr:{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"},child:[]},{tag:"path",attr:{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"},child:[]}]})(t)}function bQ(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(t)}function YUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"},child:[]},{tag:"path",attr:{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"},child:[]}]})(t)}function ek(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9l4 -4l4 4"},child:[]},{tag:"path",attr:{d:"M16 15l-4 4l-4 -4"},child:[]}]})(t)}function ZO(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"},child:[]},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]}]})(t)}function H2(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M15 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M6 15v-1a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v1"},child:[]},{tag:"path",attr:{d:"M12 9l0 3"},child:[]}]})(t)}function hre(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"},child:[]}]})(t)}function NW(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15h16"},child:[]},{tag:"path",attr:{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"},child:[]},{tag:"path",attr:{d:"M4 20h12"},child:[]}]})(t)}function HUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M2 6m0 6a6 6 0 0 1 6 -6h8a6 6 0 0 1 6 6v0a6 6 0 0 1 -6 6h-8a6 6 0 0 1 -6 -6z"},child:[]}]})(t)}function pre(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7l16 0"},child:[]},{tag:"path",attr:{d:"M10 11l0 6"},child:[]},{tag:"path",attr:{d:"M14 11l0 6"},child:[]},{tag:"path",attr:{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"},child:[]},{tag:"path",attr:{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"},child:[]}]})(t)}function JUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"},child:[]},{tag:"path",attr:{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"},child:[]}]})(t)}function KUe(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 4c-2.5 5 -2.5 10 0 16m14 -16c2.5 5 2.5 10 0 16m-10 -11h1c1 0 1 1 2.016 3.527c.984 2.473 .984 3.473 1.984 3.473h1"},child:[]},{tag:"path",attr:{d:"M8 16c1.5 0 3 -2 4 -3.5s2.5 -3.5 4 -3.5"},child:[]}]})(t)}function xQ(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6l-12 12"},child:[]},{tag:"path",attr:{d:"M6 6l12 12"},child:[]}]})(t)}var Ct=D(()=>{_Ue()});function e8e(){let{config:t,schema:e,actions:n}=st(),r=t.server.admin.color_scheme??"light",i={theme:{set:async s=>await n.patch("server","admin",{color_scheme:s}),toggle:async()=>await n.patch("server","admin",{color_scheme:r==="light"?"dark":"light"})}};return{$system:{},config:t.server,schema:e.server,theme:r,actions:i}}function wQ(){let t=e8e();return{theme:t.theme,set:t.actions.theme.set,toggle:()=>t.actions.theme.toggle()}}var vQ=D(()=>{Ht()});function kr({children:t,defaultOpen:e=!1,openEvent:n="onClick",position:r="bottom-start",dropdownWrapperProps:i,items:s,title:o,hideOnEmpty:a=!0,onClickItem:l,renderItem:c,itemsClassName:u,className:d}){let[f,h]=S.useState(e),[m,g]=S.useState(r),y=ES(()=>h(!1)),O=s.filter(Boolean),[b,w]=S.useState(0),x=Wt((T=50)=>setTimeout(()=>h(A=>!A),typeof T=="number"?T:0)),v=n==="onClick"?x:void 0,k=Wt(T=>{var _;if(n!=="onContextMenu")return;if(T.preventDefault(),f){x(0),setTimeout(()=>{g(r),w(0)},10);return}let A=T.clientX-T.currentTarget.getBoundingClientRect().left,{left:j=0,right:E=0}=((_=y.current)==null?void 0:_.getBoundingClientRect())??{};if(j>0&&E>0){let Q=s6e(A,j,E);A<(j+E)/2?(g("bottom-start"),w(Q)):(g("bottom-end"),w(E-Q))}else g(r),w(0);x()}),$=4,C={"bottom-start":{top:"100%",left:b,marginTop:$},"bottom-end":{right:b,top:"100%",marginTop:$},"top-start":{bottom:"100%",marginBottom:$},"top-end":{bottom:"100%",right:b,marginBottom:$}}[m],N=Wt(T=>{T.onClick&&T.onClick(),l&&l(T),x(50)});if(O.length===0&&a)return null;let P=O.some(T=>"icon"in T&&T.icon),R=c||((T,{key:A,onClick:j})=>typeof T=="function"?p.jsx(S.Fragment,{children:T()},A):p.jsxs("button",{type:"button",disabled:T.disabled,className:Qe("flex flex-row flex-nowrap text-nowrap items-center outline-none cursor-pointer px-2.5 rounded-md link leading-none h-8",u,T.disabled?"opacity-50 cursor-not-allowed":"hover:bg-primary/10",T.destructive&&"text-red-500 hover:bg-red-600 hover:text-white"),onClick:j,children:[P&&p.jsx("div",{className:"size-[16px] text-left mr-1.5 opacity-80",children:T.icon&&p.jsx(T.icon,{className:"size-[16px]"})}),p.jsx("div",{className:"flex flex-grow truncate text-nowrap",children:T.label})]},A));return p.jsxs("div",{role:"dropdown",className:Qe("relative flex",d),ref:y,onContextMenu:k,children:[S.cloneElement(t,{onClick:v}),f&&p.jsxs("div",{...i,className:Qe("absolute z-30 flex flex-col bg-background border border-muted px-1 py-1 rounded-lg shadow-lg min-w-full",i==null?void 0:i.className),style:C,children:[o&&p.jsx("div",{className:"text-sm font-bold px-2.5 mb-1 mt-1 opacity-50",children:o}),O.map((T,A)=>R(T,{key:A,onClick:()=>N(T)}))]})]})}var ni=D(()=>{en(),ve(),kt(),Gi()});function t8e(t,e){let n=AS(e,{encode:!1});return`${t}?${n}`}function Cr(){let[t,e]=ws(),n=Fa(),{app:r}=st(),i=r.getAdminConfig().basepath;return[(s,o)=>{(a=>{a()})(()=>{if(o){if("reload"in o){window.location.href=s;return}else if("target"in o){let l=window.location.origin+i+n.base+s;window.open(l,o.target);return}}let a=o!=null&&o.absolute?`~/${i}${s}`.replace(/\/+/g,"/"):s;e(o!=null&&o.query?t8e(a,o==null?void 0:o.query):a,{replace:o==null?void 0:o.replace,state:o==null?void 0:o.state})})},t]}function n8e(t="/",e){let{app:n}=st();n.getAdminConfig().basepath;let[r]=Cr(),i=document.referrer,s=window.history.length,o=i.length===0,a=o&&s>1||!!o;function l(){o&&s>2?window.history.back():typeof t=="string"?r(t):typeof t=="function"&&t()}return{same:o,canGoBack:a,goBack:l}}var Ke,Pr=D(()=>{ve(),Sn(),va(),Ke={data:{root:()=>"/data",entity:{list:t=>`/entity/${t}`,create:t=>`/entity/${t}/create`,edit:(t,e)=>`/entity/${t}/edit/${e}`},schema:{root:()=>"/schema",entity:t=>`/schema/entity/${t}`}},auth:{root:()=>"/auth",users:{list:()=>"/users",edit:t=>`/users/edit/${t}`},roles:{list:()=>"/roles",edit:t=>`/roles/edit/${t}`},settings:()=>"/settings",strategies:()=>"/strategies"},flows:{root:()=>"/flows",flows:{list:()=>"/",edit:t=>`/flow/${t}`}},settings:{root:()=>"/settings",path:t=>`/settings/${t.join("/")}`}}});function r8e(){let[t,e]=ws(),n=[{label:"Data",href:"/data",Icon:IUe},{label:"Auth",href:"/auth",Icon:VUe},{label:"Media",href:"/media",Icon:zO},{label:"Flows",href:"/flows",Icon:qUe}],r=n.find(o=>o.exact?t===o.href:t.startsWith(o.href)),i=Wt(o=>{e(o.href)}),s=(o,{key:a,onClick:l})=>p.jsx(md,{onClick:l,as:"button",className:"rounded-md",children:p.jsxs("div",{"data-active":(r==null?void 0:r.label)===o.label,className:"flex flex-row items-center gap-2.5 data-[active=true]:opacity-50",children:[p.jsx(o.Icon,{size:18}),p.jsx("span",{className:"text-lg",children:o.label})]})},a);return p.jsxs(p.Fragment,{children:[p.jsx("nav",{className:"hidden md:flex flex-row gap-2.5 pl-0 p-2.5 items-center",children:n.map(o=>p.jsx(Ml,{label:o.tooltip,disabled:typeof o.tooltip>"u",position:"bottom",children:p.jsx("div",{children:p.jsx(md,{as:En,href:o.href,Icon:o.Icon,disabled:o.disabled,children:o.label})})},o.label))}),p.jsx("nav",{className:"flex md:hidden flex-row items-center",children:r&&p.jsx(kr,{items:n,onClickItem:i,renderItem:s,children:p.jsx(md,{as:"button",Icon:r.Icon,className:"active pl-6 pr-3.5",children:p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx("span",{className:"text-lg",children:r.label}),p.jsx(ek,{size:18,className:"opacity-70"})]})})})})]})}function i8e(){let{sidebar:t}=ere();return p.jsx(dt,{size:"lg",Icon:t.open?xQ:UUe,onClick:t.handler.toggle})}function mre({hasSidebar:t=!0}){let{app:e}=st(),{logo_return_path:n="/",color_scheme:r="light"}=e.getAdminConfig();return p.jsxs("header",{"data-shell":"header",className:"flex flex-row w-full h-16 gap-2.5 border-muted border-b justify-start bg-muted/10",children:[p.jsx(En,{href:n,native:n!=="/",className:"max-h-full flex hover:bg-primary/5 link p-2.5 w-[134px] outline-none",children:p.jsx(cQ,{theme:r})}),p.jsx(r8e,{}),p.jsx("div",{className:"flex flex-grow"}),p.jsxs("div",{className:"flex md:hidden flex-row items-center pr-2 gap-2",children:[p.jsx(i8e,{}),p.jsx(EW,{})]}),p.jsx("div",{className:"hidden lg:flex flex-row items-center px-4 gap-2",children:p.jsx(EW,{})})]})}function EW(){var l;let{adminOverride:t,config:e}=st(),n=aQ(),[r]=Cr(),{logout_route:i}=Mne();async function s(){await n.logout(),r(i,{reload:!0})}async function o(){r("/auth/login")}let a=[{label:"Settings",onClick:()=>r("/settings"),icon:Ed}];return e.auth.enabled&&(n.user?a.push({label:`Logout ${n.user.email}`,onClick:s,icon:Pee}):a.push({label:"Login",onClick:o,icon:Eee})),t||a.push(()=>p.jsx(s8e,{})),p.jsx(p.Fragment,{children:p.jsx(kr,{items:a,position:"bottom-end",children:n.user?p.jsx(Ze,{className:"rounded-full w-12 h-12 justify-center p-0 text-lg",children:(l=n.user.email[0])==null?void 0:l.toUpperCase()}):p.jsx(Ze,{className:"rounded-full w-12 h-12 justify-center p-0",IconLeft:JUe})})})}function s8e(){let{theme:t,toggle:e}=wQ();return p.jsx("div",{className:"flex flex-col items-center mt-1 pt-1 border-t border-primary/5",children:p.jsx(Bd,{className:"w-full",data:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],value:t,onChange:e,size:"xs"})})}var o8e=D(()=>{Mn(),Ct(),Vr(),Ht(),vQ(),$t(),Lt(),uQ(),ni(),Oo(),Gi(),tre(),Pr(),Sn(),Et()}),Km={};mo(Km,{Content:()=>kQ,Header:()=>mre,Main:()=>UO,NavLink:()=>md,Root:()=>SQ,Scrollable:()=>nn,SectionHeader:()=>In,SectionHeaderAccordionItem:()=>sp,SectionHeaderLink:()=>J2,SectionHeaderTabs:()=>tk,SectionHeaderTitle:()=>$Q,Sidebar:()=>qp,SidebarLink:()=>di});function SQ({children:t}){return p.jsx(vUe,{children:p.jsx("div",{"data-shell":"root",className:"flex flex-1 flex-col select-none h-dvh",children:t})})}function kQ({children:t,center:e}){return p.jsx("main",{"data-shell":"content",className:Qe("flex flex-1 flex-row w-dvw h-full",e&&"justify-center items-center"),children:t})}function UO({children:t}){return p.jsx("div",{"data-shell":"main",className:"flex flex-col flex-grow w-1",children:t})}function qp({children:t}){var i,s,o;let e=ere();ES((s=(i=e.sidebar)==null?void 0:i.handler)==null?void 0:s.close);let n=Wt(a=>{var l;a.preventDefault(),a.stopPropagation(),(l=e==null?void 0:e.sidebar)==null||l.handler.close()}),r=Wt(()=>{var a,l;(a=e==null?void 0:e.sidebar)!=null&&a.open&&((l=e==null?void 0:e.sidebar)==null||l.handler.close())});return wM([["Escape",r]]),e?p.jsxs(p.Fragment,{children:[p.jsx("aside",{"data-shell":"sidebar",className:"hidden md:flex flex-col basis-[350px] flex-shrink-0 flex-grow-0 h-full border-muted border-r bg-muted/10",children:t}),p.jsx("div",{"data-open":(o=e==null?void 0:e.sidebar)==null?void 0:o.open,className:"absolute w-full md:hidden data-[open=true]:translate-x-0 translate-x-[-100%] transition-transform z-10 backdrop-blur-sm",onClick:n,children:p.jsx("aside",{"data-shell":"sidebar",className:"flex-col w-[350px] flex-shrink-0 flex-grow-0 h-full border-muted border-r bg-background",children:t})})]}):(console.warn("AppShell.Sidebar: missing AppShellContext"),null)}function $Q({children:t,className:e,...n}){return p.jsx("h2",{...n,className:Qe("text-lg dark:font-bold font-semibold select-text",e),children:t})}function In({children:t,right:e,className:n,scrollable:r,sticky:i}={}){return p.jsxs("div",{className:Qe("flex flex-row h-14 flex-shrink-0 py-2 pl-5 pr-3 border-muted border-b items-center justify-between bg-muted/10",i&&"sticky top-0 bottom-10 z-10",n),children:[p.jsx("div",{className:Qe("",r&&"overflow-x-scroll overflow-y-visible app-scrollbar"),children:typeof t=="string"?p.jsx($Q,{children:t}):t}),e&&!r&&p.jsx("div",{className:"flex flex-row gap-2.5",children:e}),e&&r&&p.jsxs("div",{className:"flex flex-row sticky z-10 right-0 h-full",children:[p.jsx("div",{className:"h-full w-5 bg-gradient-to-l from-background"}),p.jsx("div",{className:"flex flex-row gap-2.5 bg-background",children:e})]})]})}function nn({children:t,initialOffset:e=64}){let n=S.useRef(null),[r,i]=S.useState(e);function s(){n.current&&i(n.current.offsetTop)}return S.useEffect(s,[]),typeof window<"u"&&window.addEventListener("resize",eZ(s,500)),p.jsxs(fQ,{style:{height:`calc(100dvh - ${r}px`},ref:n,children:[p.jsx(hQ,{className:"w-full h-full ",children:t}),p.jsx(Ny,{forceMount:!0,className:"flex select-none touch-none bg-transparent w-0.5",orientation:"vertical",children:p.jsx(Ey,{className:"flex-1 bg-primary/50"})}),p.jsx(Ny,{forceMount:!0,className:"flex select-none touch-none bg-muted flex-col h-0.5",orientation:"horizontal",children:p.jsx(Ey,{className:"flex-1 bg-primary/50 "})})]})}var md,di,J2,tk,sp,Et=D(()=>{en(),Kne(),Mn(),kt(),Lt(),tre(),Gi(),o8e(),md=({children:t,as:e,className:n,Icon:r,disabled:i,...s})=>p.jsxs(e||"a",{...s,className:Qe("px-6 py-2 [&.active]:bg-muted [&.active]:hover:bg-primary/15 hover:bg-primary/5 flex flex-row items-center rounded-full gap-2.5 link",i&&"opacity-50 cursor-not-allowed",n),children:[r&&p.jsx(r,{size:18}),typeof t=="string"?p.jsx("span",{className:"text-lg",children:t}):t]}),di=({children:t,as:e,className:n,disabled:r=!1,...i})=>p.jsx(e||"a",{...i,className:Qe("flex flex-row px-4 py-2.5 items-center gap-2",!r&&"cursor-pointer rounded-md [&.active]:bg-primary/10 [&.active]:hover:bg-primary/15 [&.active]:font-medium hover:bg-primary/5 focus:bg-primary/5 link",r&&"opacity-50 cursor-not-allowed pointer-events-none",n),children:t}),J2=({children:t,as:e,className:n,disabled:r=!1,active:i=!1,badge:s,...o})=>p.jsxs(e||"a",{...o,className:Qe("hover:bg-primary/5 flex flex-row items-center justify-center gap-2.5 px-5 h-12 leading-none font-medium text-primary/80 rounded-tr-lg rounded-tl-lg",i?"bg-background hover:bg-background text-primary border border-muted border-b-0":"link",s&&"pr-4",n),children:[t,s?p.jsx("span",{className:"px-3 py-1 rounded-full font-mono bg-primary/5 text-sm leading-none",children:s}):null]}),tk=({title:t,items:e})=>p.jsx(In,{className:"mt-10 border-t pl-3 pb-0 items-end",children:p.jsxs("div",{className:"flex flex-row items-center gap-6 -mb-px",children:[t&&p.jsx($Q,{className:"pl-2 hidden md:block",children:t}),p.jsx("div",{className:"flex flex-row items-center gap-3",children:e==null?void 0:e.map(({label:n,...r},i)=>p.jsx(J2,{...r,children:n},i))})]})}),sp=({title:t,open:e,toggle:n,ActiveIcon:r=CM,children:i,renderHeaderRight:s})=>p.jsxs("div",{style:{minHeight:49},className:Qe("flex flex-col flex-animate overflow-hidden",e?"flex-open border-b border-b-muted":"flex-initial cursor-pointer hover:bg-primary/5"),children:[p.jsxs("div",{className:Qe("flex flex-row bg-muted/10 border-muted border-b h-14 py-4 pr-4 pl-2 items-center gap-2"),onClick:n,children:[p.jsx(dt,{Icon:e?r:$M,disabled:e}),p.jsx("h2",{className:"text-lg dark:font-bold font-semibold select-text",children:t}),p.jsx("div",{className:"flex flex-grow"}),s==null?void 0:s({open:e})]}),p.jsx("div",{className:Qe("overflow-y-scroll transition-all",e?" flex-grow":"h-0 opacity-0"),children:i})]})});function a8e(t){let[e,n]=S.useState(t());return[e,()=>n(r=>!r),n]}function _y(t,e){return e===void 0&&(e=!1),!t||e?`"${t}"`:t}function gre(t){let{field:e,value:n,data:r,lastElement:i,openBracket:s,closeBracket:o,level:a,style:l,shouldExpandNode:c,clickToExpandNode:u,outerRef:d}=t,f=S.useRef(!1),[h,m,g]=a8e(()=>c(a,n,e)),y=S.useRef(null);S.useEffect(()=>{f.current?g(c(a,n,e)):f.current=!0},[c]);let O=h?l.collapseIcon:l.expandIcon,b=h?"collapse JSON":"expand JSON",w=S.useId(),x=a+1,v=r.length-1,k=C=>{if(C.key==="ArrowRight"||C.key==="ArrowLeft")C.preventDefault(),g(C.key==="ArrowRight");else if(C.key==="ArrowUp"||C.key==="ArrowDown"){C.preventDefault();let N=C.key==="ArrowUp"?-1:1;if(!d.current)return;let P=d.current.querySelectorAll("[role=button]"),R=-1;for(let A=0;A<P.length;A++)if(P[A].tabIndex===0){R=A;break}if(R<0)return;let T=(R+N+P.length)%P.length;P[R].tabIndex=-1,P[T].tabIndex=0,P[T].focus()}},$=()=>{var C;m();let N=y.current;if(!N)return;let P=(C=d.current)===null||C===void 0?void 0:C.querySelector('[role=button][tabindex="0"]');P&&(P.tabIndex=-1),N.tabIndex=0,N.focus()};return S.createElement("div",{className:l.basicChildStyle,role:"treeitem","aria-expanded":h,"aria-selected":void 0},S.createElement("span",{className:O,onClick:$,onKeyDown:k,role:"button","aria-label":b,"aria-expanded":h,"aria-controls":h?w:void 0,ref:y,tabIndex:a===0?0:-1}),(e||e==="")&&(u?S.createElement("span",{className:l.clickableLabel,onClick:$,onKeyDown:k},_y(e,l.quotesForFieldNames),":"):S.createElement("span",{className:l.label},_y(e,l.quotesForFieldNames),":")),S.createElement("span",{className:l.punctuation},s),h?S.createElement("ul",{id:w,role:"group"},r.map((C,N)=>S.createElement(Ore,{key:C[0]||N,field:C[0],value:C[1],style:l,lastElement:N===v,level:x,shouldExpandNode:c,clickToExpandNode:u,outerRef:d}))):S.createElement("span",{className:l.collapsedContent,onClick:$,onKeyDown:k}),S.createElement("span",{className:l.punctuation},o),!i&&S.createElement("span",{className:l.punctuation},","))}function yre(t){let{field:e,openBracket:n,closeBracket:r,lastElement:i,style:s}=t;return S.createElement("div",{className:s.basicChildStyle,role:"treeitem","aria-selected":void 0},(e||e==="")&&S.createElement("span",{className:s.label},_y(e,s.quotesForFieldNames),":"),S.createElement("span",{className:s.punctuation},n),S.createElement("span",{className:s.punctuation},r),!i&&S.createElement("span",{className:s.punctuation},","))}function l8e(t){let{field:e,value:n,style:r,lastElement:i,shouldExpandNode:s,clickToExpandNode:o,level:a,outerRef:l}=t;return Object.keys(n).length===0?yre({field:e,openBracket:"{",closeBracket:"}",lastElement:i,style:r}):gre({field:e,value:n,lastElement:i||!1,level:a,openBracket:"{",closeBracket:"}",style:r,shouldExpandNode:s,clickToExpandNode:o,data:Object.keys(n).map(c=>[c,n[c]]),outerRef:l})}function c8e(t){let{field:e,value:n,style:r,lastElement:i,level:s,shouldExpandNode:o,clickToExpandNode:a,outerRef:l}=t;return n.length===0?yre({field:e,openBracket:"[",closeBracket:"]",lastElement:i,style:r}):gre({field:e,value:n,lastElement:i||!1,level:s,openBracket:"[",closeBracket:"]",style:r,shouldExpandNode:o,clickToExpandNode:a,data:n.map(c=>[void 0,c]),outerRef:l})}function u8e(t){let{field:e,value:n,style:r,lastElement:i}=t,s,o=r.otherValue;return n===null?(s="null",o=r.nullValue):n===void 0?(s="undefined",o=r.undefinedValue):vre(n)?(s=_y(n,!r.noQuotesForStringValues),o=r.stringValue):bre(n)?(s=n?"true":"false",o=r.booleanValue):xre(n)?(s=n.toString(),o=r.numberValue):wre(n)?(s=`${n.toString()}n`,o=r.numberValue):CQ(n)?s=n.toISOString():s=n.toString(),S.createElement("div",{className:r.basicChildStyle,role:"treeitem","aria-selected":void 0},(e||e==="")&&S.createElement("span",{className:r.label},_y(e,r.quotesForFieldNames),":"),S.createElement("span",{className:o},s),!i&&S.createElement("span",{className:r.punctuation},","))}function Ore(t){let e=t.value;return Sre(e)?S.createElement(c8e,Object.assign({},t)):kre(e)&&!CQ(e)?S.createElement(l8e,Object.assign({},t)):S.createElement(u8e,Object.assign({},t))}var bre,xre,wre,CQ,vre,Sre,kre,_t,_W,TW,$re,d8e=D(()=>{bre=t=>typeof t=="boolean"||t instanceof Boolean,xre=t=>typeof t=="number"||t instanceof Number,wre=t=>typeof t=="bigint"||t instanceof BigInt,CQ=t=>!!t&&t instanceof Date,vre=t=>typeof t=="string"||t instanceof String,Sre=t=>Array.isArray(t),kre=t=>t instanceof Object&&t!==null,_t={"container-base":"_GzYRV","punctuation-base":"_3eOF8",pointer:"_1MFti","expander-base":"_f10Tu _1MFti","expand-icon":"_1UmXx","collapse-icon":"_1LId0","collapsed-content-base":"_1pNG9 _1MFti","container-light":"_2IvMF _GzYRV","basic-element-style":"_2bkNM","label-light":"_1MGIk","clickable-label-light":"_2YKJg _1MGIk _1MFti","punctuation-light":"_3uHL6 _3eOF8","value-null-light":"_2T6PJ","value-undefined-light":"_1Gho6","value-string-light":"_vGjyY","value-number-light":"_1bQdo","value-boolean-light":"_3zQKs","value-other-light":"_1xvuR","collapse-icon-light":"_oLqym _f10Tu _1MFti _1LId0","expand-icon-light":"_2AXVT _f10Tu _1MFti _1UmXx","collapsed-content-light":"_2KJWg _1pNG9 _1MFti","container-dark":"_11RoI _GzYRV","expand-icon-dark":"_17H2C _f10Tu _1MFti _1UmXx","collapse-icon-dark":"_3QHg2 _f10Tu _1MFti _1LId0","collapsed-content-dark":"_3fDAz _1pNG9 _1MFti","label-dark":"_2bSDX","clickable-label-dark":"_1RQEj _2bSDX _1MFti","punctuation-dark":"_gsbQL _3eOF8","value-null-dark":"_LaAZe","value-undefined-dark":"_GTKgm","value-string-dark":"_Chy1W","value-number-dark":"_2bveF","value-boolean-dark":"_2vRm-","value-other-dark":"_1prJR"},_W={container:_t["container-light"],basicChildStyle:_t["basic-element-style"],label:_t["label-light"],clickableLabel:_t["clickable-label-light"],nullValue:_t["value-null-light"],undefinedValue:_t["value-undefined-light"],stringValue:_t["value-string-light"],booleanValue:_t["value-boolean-light"],numberValue:_t["value-number-light"],otherValue:_t["value-other-light"],punctuation:_t["punctuation-light"],collapseIcon:_t["collapse-icon-light"],expandIcon:_t["expand-icon-light"],collapsedContent:_t["collapsed-content-light"],noQuotesForStringValues:!1,quotesForFieldNames:!1},_t["container-dark"],_t["basic-element-style"],_t["label-dark"],_t["clickable-label-dark"],_t["value-null-dark"],_t["value-undefined-dark"],_t["value-string-dark"],_t["value-boolean-dark"],_t["value-number-dark"],_t["value-other-dark"],_t["punctuation-dark"],_t["collapse-icon-dark"],_t["expand-icon-dark"],_t["collapsed-content-dark"],TW=()=>!0,$re=t=>{let{data:e,style:n=_W,shouldExpandNode:r=TW,clickToExpandNode:i=!1,...s}=t,o=S.useRef(null);return S.createElement("div",Object.assign({"aria-label":"JSON view"},s,{className:n.container,ref:o,role:"tree"}),S.createElement(Ore,{value:e,style:n,lastElement:!0,level:0,shouldExpandNode:r,clickToExpandNode:i,outerRef:o}))}}),oo,Fl=D(()=>{Ct(),d8e(),kt(),Lt(),oo=({json:t,title:e,expand:n=0,showSize:r=!1,showCopy:i=!1,className:s})=>{let o=r?JSON.stringify(t).length:void 0,a=o||e||i;function l(){var c;(c=navigator.clipboard)==null||c.writeText(JSON.stringify(t,null,2))}return p.jsxs("div",{className:Qe("bg-primary/5 py-3 relative overflow-hidden",s),children:[a&&p.jsxs("div",{className:"absolute right-4 top-4 font-mono text-zinc-400 flex flex-row gap-2 items-center",children:[(e||o)&&p.jsxs("div",{className:"flex flex-row",children:[e&&p.jsx("span",{children:e})," ",o&&p.jsxs("span",{children:["(",o," Bytes)"]})]}),i&&p.jsx("div",{children:p.jsx(dt,{Icon:QUe,onClick:l})})]}),p.jsx($re,{data:t,shouldExpandNode:c=>c<n,style:{basicChildStyle:"pl-5 ml-1 border-l border-muted hover:border-primary/20",container:"ml-[-10px]",label:"text-primary/90 font-bold font-mono mr-2",stringValue:"text-emerald-500 font-mono select-text",numberValue:"text-sky-400 font-mono",nullValue:"text-zinc-400 font-mono",undefinedValue:"text-zinc-400 font-mono",otherValue:"text-zinc-400 font-mono",booleanValue:"text-orange-400 font-mono",punctuation:"text-zinc-400 font-bold font-mono m-0.5",collapsedContent:"text-zinc-400 font-mono after:content-['...']",collapseIcon:"text-zinc-400 font-mono font-bold text-lg after:content-[''] mr-1.5",expandIcon:"text-zinc-400 font-mono font-bold text-lg after:content-[''] mr-1.5",noQuotesForStringValues:!1}})]})}});function Fn(t){let e,n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(T0&&(t instanceof Blob||t instanceof FileList))&&(n||hn(t)))if(e=n?[]:{},!n&&!jre(t))e=t;else for(let r in t)t.hasOwnProperty(r)&&(e[r]=Fn(t[r]));else return t;return e}function nk(t){let e=we.useRef(t);e.current=t,we.useEffect(()=>{let n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function f8e(t){let e=XO(),{control:n=e.control,disabled:r,name:i,exact:s}=t,[o,a]=we.useState(n._formState),l=we.useRef(!0),c=we.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=we.useRef(i);return u.current=i,nk({disabled:r,next:d=>l.current&&_Q(u.current,d.name,s)&&EQ(d,c.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),we.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),NQ(o,n,c.current,!1)}function h8e(t){let e=XO(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t,a=we.useRef(r);a.current=r,nk({disabled:s,subject:n._subjects.values,next:u=>{_Q(a.current,u.name,o)&&c(Fn(TQ(a.current,n._names,u.values||n._formValues,!1,i)))}});let[l,c]=we.useState(n._getWatch(r,i));return we.useEffect(()=>n._removeUnmounted()),l}function Gd(t){let e=XO(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=jQ(i._names.array,n),a=h8e({control:i,name:n,defaultValue:$e(i._formValues,n,$e(i._defaultValues,n,t.defaultValue)),exact:!0}),l=f8e({control:i,name:n,exact:!0}),c=we.useRef(i.register(n,{...t.rules,value:a,...Ni(t.disabled)?{disabled:t.disabled}:{}}));return we.useEffect(()=>{let u=i._options.shouldUnregister||s,d=(f,h)=>{let m=$e(i._fields,f);m&&m._f&&(m._f.mount=h)};if(d(n,!0),u){let f=Fn($e(i._options.defaultValues,n));vt(i._defaultValues,n,f),Mt($e(i._formValues,n))&&vt(i._formValues,n,f)}return()=>{(o?u&&!i._state.action:u)?i.unregister(n):d(n,!1)}},[n,i,o,s]),we.useEffect(()=>{$e(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:$e(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...Ni(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:we.useCallback(u=>c.current.onChange({target:{value:PQ(u),name:n},type:Ty.CHANGE}),[n]),onBlur:we.useCallback(()=>c.current.onBlur({target:{value:$e(i._formValues,n),name:n},type:Ty.BLUR}),[n,i]),ref:we.useCallback(u=>{let d=$e(i._fields,n);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:f=>u.setCustomValidity(f),reportValidity:()=>u.reportValidity()})},[i._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!$e(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!$e(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!$e(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!$e(l.validatingFields,n)},error:{enumerable:!0,get:()=>$e(l.errors,n)}})}}function AW(t,e,n="validate"){if(Sg(t)||Array.isArray(t)&&t.every(Sg)||Ni(t)&&!t)return{type:n,message:Sg(t)?t:"",ref:e}}function FP(t,e,n){return[...t.slice(0,e),...Xr(n),...t.slice(e)]}function p8e(t,e){let n=0,r=[...t];for(let i of e)r.splice(i-n,1),n++;return Bf(r).length?r:[]}function m8e(t,e){let n=e.slice(0,-1).length,r=0;for(;r<n;)t=Mt(t)?r++:t[e[r++]];return t}function g8e(t){for(let e in t)if(t.hasOwnProperty(e)&&!Mt(t[e]))return!1;return!0}function Pn(t,e){let n=Array.isArray(e)?e:A0(e)?[e]:K2(e),r=n.length===1?t:m8e(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(hn(r)&&Er(r)||Array.isArray(r)&&g8e(r))&&Pn(t,n.slice(0,-1)),t}function Cre(t){let e=XO(),{control:n=e.control,name:r,keyName:i="id",shouldUnregister:s}=t,[o,a]=we.useState(n._getFieldArray(r)),l=we.useRef(n._getFieldArray(r).map(Da)),c=we.useRef(o),u=we.useRef(r),d=we.useRef(!1);u.current=r,c.current=o,n._names.array.add(r),t.rules&&n.register(r,t.rules),nk({next:({values:v,name:k})=>{if(k===u.current||!k){let $=$e(v,u.current);Array.isArray($)&&(a($),l.current=$.map(Da))}},subject:n._subjects.array});let f=we.useCallback(v=>{d.current=!0,n._updateFieldArray(r,v)},[n,r]),h=(v,k)=>{let $=Xr(Fn(v)),C=jw(n._getFieldArray(r),$);n._names.focus=Cw(r,C.length-1,k),l.current=jw(l.current,$.map(Da)),f(C),a(C),n._updateFieldArray(r,C,jw,{argA:Nw(v)})},m=(v,k)=>{let $=Xr(Fn(v)),C=_w(n._getFieldArray(r),$);n._names.focus=Cw(r,0,k),l.current=_w(l.current,$.map(Da)),f(C),a(C),n._updateFieldArray(r,C,_w,{argA:Nw(v)})},g=v=>{let k=Tw(n._getFieldArray(r),v);l.current=Tw(l.current,v),f(k),a(k),n._updateFieldArray(r,k,Tw,{argA:v})},y=(v,k,$)=>{let C=Xr(Fn(k)),N=FP(n._getFieldArray(r),v,C);n._names.focus=Cw(r,v,$),l.current=FP(l.current,v,C.map(Da)),f(N),a(N),n._updateFieldArray(r,N,FP,{argA:v,argB:Nw(k)})},O=(v,k)=>{let $=n._getFieldArray(r);Aw($,v,k),Aw(l.current,v,k),f($),a($),n._updateFieldArray(r,$,Aw,{argA:v,argB:k},!1)},b=(v,k)=>{let $=n._getFieldArray(r);Ew($,v,k),Ew(l.current,v,k),f($),a($),n._updateFieldArray(r,$,Ew,{argA:v,argB:k},!1)},w=(v,k)=>{let $=Fn(k),C=r_(n._getFieldArray(r),v,$);l.current=[...C].map((N,P)=>!N||P===v?Da():l.current[P]),f(C),a([...C]),n._updateFieldArray(r,C,r_,{argA:v,argB:$},!0,!1)},x=v=>{let k=Xr(Fn(v));l.current=k.map(Da),f([...k]),a([...k]),n._updateFieldArray(r,[...k],$=>$,{},!0,!1)};return we.useEffect(()=>{if(n._state.action=!1,R0(r,n._names)&&n._subjects.state.next({...n._formState}),d.current&&(!rh(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(v=>{let k=$e(v.errors,r),$=$e(n._formState.errors,r);($?!k&&$.type||k&&($.type!==k.type||$.message!==k.message):k&&k.type)&&(k?vt(n._formState.errors,r,k):Pn(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{let v=$e(n._fields,r);v&&v._f&&!(rh(n._options.reValidateMode).isOnSubmit&&rh(n._options.mode).isOnSubmit)&&Q0(v,n._formValues,n._options.criteriaMode===Ci.all,n._options.shouldUseNativeValidation,!0).then(k=>!Er(k)&&n._subjects.state.next({errors:AQ(n._formState.errors,k,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&gd(n._fields,(v,k)=>{if(n._names.focus&&k.startsWith(n._names.focus)&&v.focus)return v.focus(),1}),n._names.focus="",n._updateValid(),d.current=!1},[o,r,n]),we.useEffect(()=>(!$e(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||s)&&n.unregister(r)}),[r,n,i,s]),{swap:we.useCallback(O,[f,r,n]),move:we.useCallback(b,[f,r,n]),prepend:we.useCallback(m,[f,r,n]),append:we.useCallback(h,[f,r,n]),remove:we.useCallback(g,[f,r,n]),insert:we.useCallback(y,[f,r,n]),update:we.useCallback(w,[f,r,n]),replace:we.useCallback(x,[f,r,n]),fields:we.useMemo(()=>o.map((v,k)=>({...v,[i]:l.current[k]||Da()})),[o,i])}}function fc(t,e){if(I0(t)||I0(e))return t===e;if($c(t)&&$c(e))return t.getTime()===e.getTime();let n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i of n){let s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){let o=e[i];if($c(s)&&$c(o)||hn(s)&&hn(o)||Array.isArray(s)&&Array.isArray(o)?!fc(s,o):s!==o)return!1}}return!0}function _0(t,e={}){let n=Array.isArray(t);if(hn(t)||n)for(let r in t)Array.isArray(t[r])||hn(t[r])&&!MQ(t[r])?(e[r]=Array.isArray(t[r])?[]:{},_0(t[r],e[r])):jr(t[r])||(e[r]=!0);return e}function Pre(t,e,n){let r=Array.isArray(t);if(hn(t)||r)for(let i in t)Array.isArray(t[i])||hn(t[i])&&!MQ(t[i])?Mt(e)||I0(n[i])?n[i]=Array.isArray(t[i])?_0(t[i],[]):{..._0(t[i])}:Pre(t[i],jr(e)?{}:e[i],n[i]):n[i]=!fc(t[i],e[i]);return n}function VP(t){let e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return M0(e)?e.files:Pw(e)?n_(t.refs).value:RQ(e)?[...e.selectedOptions].map(({value:n})=>n):Vf(e)?t_(t.refs).value:QQ(Mt(e.value)?t.ref.value:e.value,t)}function RW(t,e,n){let r=$e(t,n);if(r||A0(n))return{error:r,name:n};let i=n.split(".");for(;i.length;){let s=i.join("."),o=$e(e,s),a=$e(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}function y8e(t={}){let e={...Mre,...t},n={submitCount:0,isDirty:!1,isLoading:Yo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=hn(e.defaultValues)||hn(e.values)?Fn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Fn(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0,u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Rw(),array:Rw(),state:Rw()},f=rh(e.mode),h=rh(e.reValidateMode),m=e.criteriaMode===Ci.all,g=z=>ne=>{clearTimeout(c),c=setTimeout(z,ne)},y=async z=>{if(!t.disabled&&(u.isValid||z)){let ne=e.resolver?Er((await C()).errors):await P(r,!0);ne!==n.isValid&&d.state.next({isValid:ne})}},O=(z,ne)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((z||Array.from(a.mount)).forEach(X=>{X&&(ne?vt(n.validatingFields,X,ne):Pn(n.validatingFields,X))}),d.state.next({validatingFields:n.validatingFields,isValidating:!Er(n.validatingFields)}))},b=(z,ne=[],X,ae,se=!0,te=!0)=>{if(ae&&X&&!t.disabled){if(o.action=!0,te&&Array.isArray($e(r,z))){let ge=X($e(r,z),ae.argA,ae.argB);se&&vt(r,z,ge)}if(te&&Array.isArray($e(n.errors,z))){let ge=X($e(n.errors,z),ae.argA,ae.argB);se&&vt(n.errors,z,ge),Rre(n.errors,z)}if(u.touchedFields&&te&&Array.isArray($e(n.touchedFields,z))){let ge=X($e(n.touchedFields,z),ae.argA,ae.argB);se&&vt(n.touchedFields,z,ge)}u.dirtyFields&&(n.dirtyFields=Pf(i,s)),d.state.next({name:z,isDirty:T(z,ne),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else vt(s,z,ne)},w=(z,ne)=>{vt(n.errors,z,ne),d.state.next({errors:n.errors})},x=z=>{n.errors=z,d.state.next({errors:n.errors,isValid:!1})},v=(z,ne,X,ae)=>{let se=$e(r,z);if(se){let te=$e(s,z,Mt(X)?$e(i,z):X);Mt(te)||ae&&ae.defaultChecked||ne?vt(s,z,ne?te:VP(se._f)):E(z,te),o.mount&&y()}},k=(z,ne,X,ae,se)=>{let te=!1,ge=!1,pe={name:z};if(!t.disabled){let me=!!($e(r,z)&&$e(r,z)._f&&$e(r,z)._f.disabled);if(!X||ae){u.isDirty&&(ge=n.isDirty,n.isDirty=pe.isDirty=T(),te=ge!==pe.isDirty);let ue=me||fc($e(i,z),ne);ge=!!(!me&&$e(n.dirtyFields,z)),ue||me?Pn(n.dirtyFields,z):vt(n.dirtyFields,z,!0),pe.dirtyFields=n.dirtyFields,te=te||u.dirtyFields&&ge!==!ue}if(X){let ue=$e(n.touchedFields,z);ue||(vt(n.touchedFields,z,X),pe.touchedFields=n.touchedFields,te=te||u.touchedFields&&ue!==X)}te&&se&&d.state.next(pe)}return te?pe:{}},$=(z,ne,X,ae)=>{let se=$e(n.errors,z),te=u.isValid&&Ni(ne)&&n.isValid!==ne;if(t.delayError&&X?(l=g(()=>w(z,X)),l(t.delayError)):(clearTimeout(c),l=null,X?vt(n.errors,z,X):Pn(n.errors,z)),(X?!fc(se,X):se)||!Er(ae)||te){let ge={...ae,...te&&Ni(ne)?{isValid:ne}:{},errors:n.errors,name:z};n={...n,...ge},d.state.next(ge)}},C=async z=>{O(z,!0);let ne=await e.resolver(s,e.context,Ere(z||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return O(z),ne},N=async z=>{let{errors:ne}=await C(z);if(z)for(let X of z){let ae=$e(ne,X);ae?vt(n.errors,X,ae):Pn(n.errors,X)}else n.errors=ne;return ne},P=async(z,ne,X={valid:!0})=>{for(let ae in z){let se=z[ae];if(se){let{_f:te,...ge}=se;if(te){let pe=a.array.has(te.name),me=se._f&&_re(se._f);me&&u.validatingFields&&O([ae],!0);let ue=await Q0(se,s,m,e.shouldUseNativeValidation&&!ne,pe);if(me&&u.validatingFields&&O([ae]),ue[te.name]&&(X.valid=!1,ne))break;!ne&&($e(ue,te.name)?pe?AQ(n.errors,ue,te.name):vt(n.errors,te.name,ue[te.name]):Pn(n.errors,te.name))}!Er(ge)&&await P(ge,ne,X)}}return X.valid},R=()=>{for(let z of a.unMount){let ne=$e(r,z);ne&&(ne._f.refs?ne._f.refs.every(X=>!Mw(X)):!Mw(ne._f.ref))&&ee(z)}a.unMount=new Set},T=(z,ne)=>!t.disabled&&(z&&ne&&vt(s,z,ne),!fc(W(),i)),A=(z,ne,X)=>TQ(z,a,{...o.mount?s:Mt(ne)?i:Ls(z)?{[z]:ne}:ne},X,ne),j=z=>Bf($e(o.mount?s:i,z,t.shouldUnregister?$e(i,z,[]):[])),E=(z,ne,X={})=>{let ae=$e(r,z),se=ne;if(ae){let te=ae._f;te&&(!te.disabled&&vt(s,z,QQ(ne,te)),se=vg(te.ref)&&jr(ne)?"":ne,RQ(te.ref)?[...te.ref.options].forEach(ge=>ge.selected=se.includes(ge.value)):te.refs?Vf(te.ref)?te.refs.length>1?te.refs.forEach(ge=>(!ge.defaultChecked||!ge.disabled)&&(ge.checked=Array.isArray(se)?!!se.find(pe=>pe===ge.value):se===ge.value)):te.refs[0]&&(te.refs[0].checked=!!se):te.refs.forEach(ge=>ge.checked=ge.value===se):M0(te.ref)?te.ref.value="":(te.ref.value=se,te.ref.type||d.values.next({name:z,values:{...s}})))}(X.shouldDirty||X.shouldTouch)&&k(z,se,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&V(z)},_=(z,ne,X)=>{for(let ae in ne){let se=ne[ae],te=`${z}.${ae}`,ge=$e(r,te);(a.array.has(z)||hn(se)||ge&&!ge._f)&&!$c(se)?_(te,se,X):E(te,se,X)}},Q=(z,ne,X={})=>{let ae=$e(r,z),se=a.array.has(z),te=Fn(ne);vt(s,z,te),se?(d.array.next({name:z,values:{...s}}),(u.isDirty||u.dirtyFields)&&X.shouldDirty&&d.state.next({name:z,dirtyFields:Pf(i,s),isDirty:T(z,te)})):ae&&!ae._f&&!jr(te)?_(z,te,X):E(z,te,X),R0(z,a)&&d.state.next({...n}),d.values.next({name:o.mount?z:void 0,values:{...s}})},M=async z=>{o.mount=!0;let ne=z.target,X=ne.name,ae=!0,se=$e(r,X),te=()=>ne.type?VP(se._f):PQ(z),ge=pe=>{ae=Number.isNaN(pe)||$c(pe)&&isNaN(pe.getTime())||fc(pe,$e(s,X,pe))};if(se){let pe,me,ue=te(),he=z.type===Ty.BLUR||z.type===Ty.FOCUS_OUT,ye=!Tre(se._f)&&!e.resolver&&!$e(n.errors,X)&&!se._f.deps||Are(he,$e(n.touchedFields,X),n.isSubmitted,h,f),ke=R0(X,a,he);vt(s,X,ue),he?(se._f.onBlur&&se._f.onBlur(z),l&&l(0)):se._f.onChange&&se._f.onChange(z);let Pe=k(X,ue,he,!1),et=!Er(Pe)||ke;if(!he&&d.values.next({name:X,type:z.type,values:{...s}}),ye)return u.isValid&&(t.mode==="onBlur"?he&&y():y()),et&&d.state.next({name:X,...ke?{}:Pe});if(!he&&ke&&d.state.next({...n}),e.resolver){let{errors:He}=await C([X]);if(ge(ue),ae){let kn=RW(n.errors,r,X),fn=RW(He,r,kn.name||X);pe=fn.error,X=fn.name,me=Er(He)}}else O([X],!0),pe=(await Q0(se,s,m,e.shouldUseNativeValidation))[X],O([X]),ge(ue),ae&&(pe?me=!1:u.isValid&&(me=await P(r,!0)));ae&&(se._f.deps&&V(se._f.deps),$(X,me,pe,Pe))}},L=(z,ne)=>{if($e(n.errors,ne)&&z.focus)return z.focus(),1},V=async(z,ne={})=>{let X,ae,se=Xr(z);if(e.resolver){let te=await N(Mt(z)?z:se);X=Er(te),ae=z?!se.some(ge=>$e(te,ge)):X}else z?(ae=(await Promise.all(se.map(async te=>{let ge=$e(r,te);return await P(ge&&ge._f?{[te]:ge}:ge)}))).every(Boolean),!(!ae&&!n.isValid)&&y()):ae=X=await P(r);return d.state.next({...!Ls(z)||u.isValid&&X!==n.isValid?{}:{name:z},...e.resolver||!z?{isValid:X}:{},errors:n.errors}),ne.shouldFocus&&!ae&&gd(r,L,z?se:a.mount),ae},W=z=>{let ne={...o.mount?s:i};return Mt(z)?ne:Ls(z)?$e(ne,z):z.map(X=>$e(ne,X))},H=(z,ne)=>({invalid:!!$e((ne||n).errors,z),isDirty:!!$e((ne||n).dirtyFields,z),error:$e((ne||n).errors,z),isValidating:!!$e(n.validatingFields,z),isTouched:!!$e((ne||n).touchedFields,z)}),le=z=>{z&&Xr(z).forEach(ne=>Pn(n.errors,ne)),d.state.next({errors:z?n.errors:{}})},fe=(z,ne,X)=>{let ae=($e(r,z,{_f:{}})._f||{}).ref,se=$e(n.errors,z)||{},{ref:te,message:ge,type:pe,...me}=se;vt(n.errors,z,{...me,...ne,ref:ae}),d.state.next({name:z,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&ae&&ae.focus&&ae.focus()},U=(z,ne)=>Yo(z)?d.values.subscribe({next:X=>z(A(void 0,ne),X)}):A(z,ne,!0),ee=(z,ne={})=>{for(let X of z?Xr(z):a.mount)a.mount.delete(X),a.array.delete(X),ne.keepValue||(Pn(r,X),Pn(s,X)),!ne.keepError&&Pn(n.errors,X),!ne.keepDirty&&Pn(n.dirtyFields,X),!ne.keepTouched&&Pn(n.touchedFields,X),!ne.keepIsValidating&&Pn(n.validatingFields,X),!e.shouldUnregister&&!ne.keepDefaultValue&&Pn(i,X);d.values.next({values:{...s}}),d.state.next({...n,...ne.keepDirty?{isDirty:T()}:{}}),!ne.keepIsValid&&y()},re=({disabled:z,name:ne,field:X,fields:ae,value:se})=>{if(Ni(z)&&o.mount||z){let te=z?void 0:Mt(se)?VP(X?X._f:$e(ae,ne)._f):se;vt(s,ne,te),k(ne,te,!1,!1,!0)}},J=(z,ne={})=>{let X=$e(r,z),ae=Ni(ne.disabled)||Ni(t.disabled);return vt(r,z,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:z}},name:z,mount:!0,...ne}}),a.mount.add(z),X?re({field:X,disabled:Ni(ne.disabled)?ne.disabled:t.disabled,name:z,value:ne.value}):v(z,!0,ne.value),{...ae?{disabled:ne.disabled||t.disabled}:{},...e.progressive?{required:!!ne.required,min:jf(ne.min),max:jf(ne.max),minLength:jf(ne.minLength),maxLength:jf(ne.maxLength),pattern:jf(ne.pattern)}:{},name:z,onChange:M,onBlur:M,ref:se=>{if(se){J(z,ne),X=$e(r,z);let te=Mt(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,ge=Nre(te),pe=X._f.refs||[];if(ge?pe.find(me=>me===te):te===X._f.ref)return;vt(r,z,{_f:{...X._f,...ge?{refs:[...pe.filter(Mw),te,...Array.isArray($e(i,z))?[{}]:[]],ref:{type:te.type,name:z}}:{ref:te}}}),v(z,!1,void 0,te)}else X=$e(r,z,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||ne.shouldUnregister)&&!(jQ(a.array,z)&&o.action)&&a.unMount.add(z)}}},q=()=>e.shouldFocusError&&gd(r,L,a.mount),oe=z=>{Ni(z)&&(d.state.next({disabled:z}),gd(r,(ne,X)=>{let ae=$e(r,X);ae&&(ne.disabled=ae._f.disabled||z,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(se=>{se.disabled=ae._f.disabled||z}))},0,!1))},B=(z,ne)=>async X=>{let ae;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let se=Fn(s);if(d.state.next({isSubmitting:!0}),e.resolver){let{errors:te,values:ge}=await C();n.errors=te,se=ge}else await P(r);if(Pn(n.errors,"root"),Er(n.errors)){d.state.next({errors:{}});try{await z(se,X)}catch(te){ae=te}}else ne&&await ne({...n.errors},X),q(),setTimeout(q);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Er(n.errors)&&!ae,submitCount:n.submitCount+1,errors:n.errors}),ae)throw ae},ie=(z,ne={})=>{$e(r,z)&&(Mt(ne.defaultValue)?Q(z,Fn($e(i,z))):(Q(z,ne.defaultValue),vt(i,z,Fn(ne.defaultValue))),ne.keepTouched||Pn(n.touchedFields,z),ne.keepDirty||(Pn(n.dirtyFields,z),n.isDirty=ne.defaultValue?T(z,Fn($e(i,z))):T()),ne.keepError||(Pn(n.errors,z),u.isValid&&y()),d.state.next({...n}))},ce=(z,ne={})=>{let X=z?Fn(z):i,ae=Fn(X),se=Er(z),te=se?i:ae;if(ne.keepDefaultValues||(i=X),!ne.keepValues){if(ne.keepDirtyValues){let ge=new Set([...a.mount,...Object.keys(Pf(i,s))]);for(let pe of Array.from(ge))$e(n.dirtyFields,pe)?vt(te,pe,$e(s,pe)):Q(pe,$e(te,pe))}else{if(T0&&Mt(z))for(let ge of a.mount){let pe=$e(r,ge);if(pe&&pe._f){let me=Array.isArray(pe._f.refs)?pe._f.refs[0]:pe._f.ref;if(vg(me)){let ue=me.closest("form");if(ue){ue.reset();break}}}}r={}}s=t.shouldUnregister?ne.keepDefaultValues?Fn(i):{}:Fn(te),d.array.next({values:{...te}}),d.values.next({values:{...te}})}a={mount:ne.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!ne.keepIsValid||!!ne.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:ne.keepSubmitCount?n.submitCount:0,isDirty:se?!1:ne.keepDirty?n.isDirty:!!(ne.keepDefaultValues&&!fc(z,i)),isSubmitted:ne.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:se?{}:ne.keepDirtyValues?ne.keepDefaultValues&&s?Pf(i,s):n.dirtyFields:ne.keepDefaultValues&&z?Pf(i,z):ne.keepDirty?n.dirtyFields:{},touchedFields:ne.keepTouched?n.touchedFields:{},errors:ne.keepErrors?n.errors:{},isSubmitSuccessful:ne.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},de=(z,ne)=>ce(Yo(z)?z(s):z,ne);return{control:{register:J,unregister:ee,getFieldState:H,handleSubmit:B,setError:fe,_executeSchema:C,_getWatch:A,_getDirty:T,_updateValid:y,_removeUnmounted:R,_updateFieldArray:b,_updateDisabledField:re,_getFieldArray:j,_reset:ce,_resetDefaultValues:()=>Yo(e.defaultValues)&&e.defaultValues().then(z=>{de(z,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:z=>{n={...n,...z}},_disableForm:oe,_subjects:d,_proxyFormState:u,_setErrors:x,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(z){o=z},get _defaultValues(){return i},get _names(){return a},set _names(z){a=z},get _formState(){return n},set _formState(z){n=z},get _options(){return e},set _options(z){e={...e,...z}}},trigger:V,register:J,handleSubmit:B,watch:U,setValue:Q,getValues:W,reset:de,resetField:ie,clearErrors:le,unregister:ee,setError:fe,setFocus:(z,ne={})=>{let X=$e(r,z),ae=X&&X._f;if(ae){let se=ae.refs?ae.refs[0]:ae.ref;se.focus&&(se.focus(),ne.shouldSelect&&se.select())}},getFieldState:H}}function Es(t={}){let e=we.useRef(),n=we.useRef(),[r,i]=we.useState({isDirty:!1,isValidating:!1,isLoading:Yo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Yo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...y8e(t),formState:r});let s=e.current.control;return s._options=t,nk({subject:s._subjects.state,next:o=>{EQ(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),we.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),we.useEffect(()=>{if(s._proxyFormState.isDirty){let o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),we.useEffect(()=>{t.values&&!fc(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),we.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),we.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),we.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),we.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=NQ(r,s),e.current}var Vf,$c,jr,BP,hn,PQ,MW,jQ,jre,T0,Bf,Mt,$e,Ni,A0,K2,vt,Ty,Ci,No,QW,XO,NQ,Er,EQ,Xr,_Q,Ls,TQ,e_,Da,Cw,rh,R0,gd,AQ,M0,Yo,vg,Sg,Pw,Am,qP,WP,t_,zP,n_,wu,Q0,jw,Nw,Ew,_w,Tw,Aw,r_,Rw,I0,RQ,Nre,Mw,MQ,Pf,QQ,Ere,jf,ZP,_re,Tre,Are,Rre,Mre,sr=D(()=>{Vf=t=>t.type==="checkbox",$c=t=>t instanceof Date,jr=t=>t==null,BP=t=>typeof t=="object",hn=t=>!jr(t)&&!Array.isArray(t)&&BP(t)&&!$c(t),PQ=t=>hn(t)&&t.target?Vf(t.target)?t.target.checked:t.target.value:t,MW=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,jQ=(t,e)=>t.has(MW(e)),jre=t=>{let e=t.constructor&&t.constructor.prototype;return hn(e)&&e.hasOwnProperty("isPrototypeOf")},T0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u",Bf=t=>Array.isArray(t)?t.filter(Boolean):[],Mt=t=>t===void 0,$e=(t,e,n)=>{if(!e||!hn(t))return n;let r=Bf(e.split(/[,[\].]+?/)).reduce((i,s)=>jr(i)?i:i[s],t);return Mt(r)||r===t?Mt(t[e])?n:t[e]:r},Ni=t=>typeof t=="boolean",A0=t=>/^\w*$/.test(t),K2=t=>Bf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),vt=(t,e,n)=>{let r=-1,i=A0(e)?[e]:K2(e),s=i.length,o=s-1;for(;++r<s;){let a=i[r],l=n;if(r!==o){let c=t[a];l=hn(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t},Ty={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ci={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},No={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},QW=we.createContext(null),XO=()=>we.useContext(QW),NQ=(t,e,n,r=!0)=>{let i={defaultValues:e._defaultValues};for(let s in t)Object.defineProperty(i,s,{get:()=>{let o=s;return e._proxyFormState[o]!==Ci.all&&(e._proxyFormState[o]=!r||Ci.all),n&&(n[o]=!0),t[o]}});return i},Er=t=>hn(t)&&!Object.keys(t).length,EQ=(t,e,n,r)=>{n(t);let{name:i,...s}=t;return Er(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Ci.all))},Xr=t=>Array.isArray(t)?t:[t],_Q=(t,e,n)=>!t||!e||t===e||Xr(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Ls=t=>typeof t=="string",TQ=(t,e,n,r,i)=>Ls(t)?(r&&e.watch.add(t),$e(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),$e(n,s))):(r&&(e.watchAll=!0),n),e_=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Da=()=>{let t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let n=(Math.random()*16+t)%16|0;return(e=="x"?n:n&3|8).toString(16)})},Cw=(t,e,n={})=>n.shouldFocus||Mt(n.shouldFocus)?n.focusName||`${t}.${Mt(n.focusIndex)?e:n.focusIndex}.`:"",rh=t=>({isOnSubmit:!t||t===Ci.onSubmit,isOnBlur:t===Ci.onBlur,isOnChange:t===Ci.onChange,isOnAll:t===Ci.all,isOnTouch:t===Ci.onTouched}),R0=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),gd=(t,e,n,r)=>{for(let i of n||Object.keys(t)){let s=$e(t,i);if(s){let{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r||o.ref&&e(o.ref,o.name)&&!r)return!0;if(gd(a,e))break}else if(hn(a)&&gd(a,e))break}}},AQ=(t,e,n)=>{let r=Xr($e(t,n));return vt(r,"root",e[n]),vt(t,n,r),t},M0=t=>t.type==="file",Yo=t=>typeof t=="function",vg=t=>{if(!T0)return!1;let e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Sg=t=>Ls(t),Pw=t=>t.type==="radio",Am=t=>t instanceof RegExp,qP={value:!1,isValid:!1},WP={value:!0,isValid:!0},t_=t=>{if(Array.isArray(t)){if(t.length>1){let e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Mt(t[0].attributes.value)?Mt(t[0].value)||t[0].value===""?WP:{value:t[0].value,isValid:!0}:WP:qP}return qP},zP={isValid:!1,value:null},n_=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,zP):zP,wu=t=>hn(t)&&!Am(t)?t:{value:t,message:""},Q0=async(t,e,n,r,i)=>{let{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:f,validate:h,name:m,valueAsNumber:g,mount:y,disabled:O}=t._f,b=$e(e,m);if(!y||O)return{};let w=o?o[0]:s,x=T=>{r&&w.reportValidity&&(w.setCustomValidity(Ni(T)?"":T||""),w.reportValidity())},v={},k=Pw(s),$=Vf(s),C=k||$,N=(g||M0(s))&&Mt(s.value)&&Mt(b)||vg(s)&&s.value===""||b===""||Array.isArray(b)&&!b.length,P=e_.bind(null,m,n,v),R=(T,A,j,E=No.maxLength,_=No.minLength)=>{let Q=T?A:j;v[m]={type:T?E:_,message:Q,ref:s,...P(T?E:_,Q)}};if(i?!Array.isArray(b)||!b.length:a&&(!C&&(N||jr(b))||Ni(b)&&!b||$&&!t_(o).isValid||k&&!n_(o).isValid)){let{value:T,message:A}=Sg(a)?{value:!!a,message:a}:wu(a);if(T&&(v[m]={type:No.required,message:A,ref:w,...P(No.required,A)},!n))return x(A),v}if(!N&&(!jr(u)||!jr(d))){let T,A,j=wu(d),E=wu(u);if(!jr(b)&&!isNaN(b)){let _=s.valueAsNumber||b&&+b;jr(j.value)||(T=_>j.value),jr(E.value)||(A=_<E.value)}else{let _=s.valueAsDate||new Date(b),Q=V=>new Date(new Date().toDateString()+" "+V),M=s.type=="time",L=s.type=="week";Ls(j.value)&&b&&(T=M?Q(b)>Q(j.value):L?b>j.value:_>new Date(j.value)),Ls(E.value)&&b&&(A=M?Q(b)<Q(E.value):L?b<E.value:_<new Date(E.value))}if((T||A)&&(R(!!T,j.message,E.message,No.max,No.min),!n))return x(v[m].message),v}if((l||c)&&!N&&(Ls(b)||i&&Array.isArray(b))){let T=wu(l),A=wu(c),j=!jr(T.value)&&b.length>+T.value,E=!jr(A.value)&&b.length<+A.value;if((j||E)&&(R(j,T.message,A.message),!n))return x(v[m].message),v}if(f&&!N&&Ls(b)){let{value:T,message:A}=wu(f);if(Am(T)&&!b.match(T)&&(v[m]={type:No.pattern,message:A,ref:s,...P(No.pattern,A)},!n))return x(A),v}if(h){if(Yo(h)){let T=await h(b,e),A=AW(T,w);if(A&&(v[m]={...A,...P(No.validate,A.message)},!n))return x(A.message),v}else if(hn(h)){let T={};for(let A in h){if(!Er(T)&&!n)break;let j=AW(await h[A](b,e),w,A);j&&(T={...j,...P(A,j.message)},x(j.message),n&&(v[m]=T))}if(!Er(T)&&(v[m]={ref:w,...T},!n))return v}}return x(!0),v},jw=(t,e)=>[...t,...Xr(e)],Nw=t=>Array.isArray(t)?t.map(()=>{}):void 0,Ew=(t,e,n)=>Array.isArray(t)?(Mt(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(e,1)[0]),t):[],_w=(t,e)=>[...Xr(e),...Xr(t)],Tw=(t,e)=>Mt(e)?[]:p8e(t,Xr(e).sort((n,r)=>n-r)),Aw=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]},r_=(t,e,n)=>(t[e]=n,t),Rw=()=>{let t=[];return{get observers(){return t},next:e=>{for(let n of t)n.next&&n.next(e)},subscribe:e=>(t.push(e),{unsubscribe:()=>{t=t.filter(n=>n!==e)}}),unsubscribe:()=>{t=[]}}},I0=t=>jr(t)||!BP(t),RQ=t=>t.type==="select-multiple",Nre=t=>Pw(t)||Vf(t),Mw=t=>vg(t)&&t.isConnected,MQ=t=>{for(let e in t)if(Yo(t[e]))return!0;return!1},Pf=(t,e)=>Pre(t,e,_0(e)),QQ=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Mt(t)?t:e?t===""?NaN:t&&+t:n&&Ls(t)?new Date(t):r?r(t):t,Ere=(t,e,n,r)=>{let i={};for(let s of t){let o=$e(e,s);o&&vt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},jf=t=>Mt(t)?t:Am(t)?t.source:hn(t)?Am(t.value)?t.value.source:t.value:t,ZP="AsyncFunction",_re=t=>(!t||!t.validate)&&!!(Yo(t.validate)&&t.validate.constructor.name===ZP||hn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ZP)),Tre=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Are=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Rre=(t,e)=>!Bf($e(t,e)).length&&Pn(t,e),Mre={mode:Ci.onSubmit,reValidateMode:Ci.onChange,shouldFocusError:!0}}),UP,i_,Qre,IW,O8e=D(()=>{sr(),UP=(t,e,n)=>{if(t&&"reportValidity"in t){let r=$e(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},i_=(t,e)=>{for(let n in e.fields){let r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?UP(r.ref,n,t):r.refs&&r.refs.forEach(i=>UP(i,n,t))}},Qre=(t,e)=>{e.shouldUseNativeValidation&&i_(t,e);let n={};for(let r in t){let i=$e(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(IW(e.names||Object.keys(t),r)){let o=Object.assign({},$e(n,r));vt(o,"root",s),vt(n,r,o)}else vt(n,r,s)}return n},IW=(t,e)=>t.some(n=>n.startsWith(e+"."))}),DW,Yi,bo=D(()=>{O8e(),sr(),DW=function(t,e){for(var n={};t.length;){var r=t[0],i=r.type,s=r.message,o=r.path.substring(1).replace(/\//g,".");if(n[o]||(n[o]={message:s,type:""+i}),e){var a=n[o].types,l=a&&a[""+i];n[o]=e_(o,e,n,""+i,l?[].concat(l,r.message):r.message)}t.shift()}return n},Yi=function(t){return function(e,n,r){try{var i=Array.from(t instanceof a8?t.Errors(e):Jy(t,e));return r.shouldUseNativeValidation&&i_({},r),Promise.resolve(i.length?{values:{},errors:Qre(DW(i,!r.shouldUseNativeValidation&&r.criteriaMode==="all"),r)}:{errors:{},values:e})}catch(s){return Promise.reject(s)}}}});function gl({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){var d;let{field:{value:a,onChange:l,...c},fieldState:u}=Gd({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i});return p.jsx(Ja,{value:a,onChange:async f=>{await l({...new Event("change",{bubbles:!0,cancelable:!0}),target:{value:f,name:c.name}}),s==null||s(f)},error:(d=u.error)==null?void 0:d.message,...c,...o})}var Wp=D(()=>{sr()});function Dt(t){return typeof File<"u"&&t instanceof File||typeof Date<"u"&&t instanceof Date?!1:typeof t=="object"&&t!==null&&!Array.isArray(t)}var Sa=D(()=>{});function b8e(t){return t.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),Dt(t.additionalItems)}var x8e=D(()=>{Sa()});function LW(t){if(t==="")return;if(t===null)return null;if(/\.$/.test(t)||/\.0$/.test(t)||/\.\d*0$/.test(t))return t;let e=Number(t);return typeof e=="number"&&!Number.isNaN(e)?e:t}var w8e=D(()=>{}),zp,D0,Zp,Hr,op,Ire,GO,Dre,cs,Ay,Lre,yl,Fre,kg,yr,mn,Vre,Ry,Zn,IQ,Bre,rk,ih,qre,rn=D(()=>{zp="__additional_property",D0="additionalProperties",Zp="allOf",Hr="anyOf",op="const",Ire="default",GO="dependencies",Dre="enum",cs="__errors",Ay="$id",Lre="if",yl="items",Fre="_$junk_option_schema_id$_",kg="$name",yr="oneOf",mn="properties",Vre="required",Ry="submitButtonOptions",Zn="$ref",IQ="__rjsf_additionalProperties",Bre="ui:field",rk="ui:widget",ih="ui:options",qre="ui:globalOptions"});function mt(t={},e={}){return Object.keys(t).filter(n=>n.indexOf("ui:")===0).reduce((n,r)=>{let i=t[r];return r===rk&&Dt(i)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),n):r===ih&&Dt(i)?{...n,...i}:{...n,[r.substring(3)]:i}},{...e})}var Up=D(()=>{rn(),Sa()});function Wre(t,e={},n){if(!t.additionalProperties)return!1;let{expandable:r=!0}=mt(e);return r===!1?r:t.maxProperties!==void 0&&n?Object.keys(n).length<t.maxProperties:!0}var v8e=D(()=>{Up()}),zre=Z((t,e)=>{var n=typeof global=="object"&&global&&global.Object===Object&&global;e.exports=n}),ka=Z((t,e)=>{var n=zre(),r=typeof self=="object"&&self&&self.Object===Object&&self,i=n||r||Function("return this")();e.exports=i}),Xp=Z((t,e)=>{var n=ka(),r=n.Symbol;e.exports=r}),S8e=Z((t,e)=>{var n=Xp(),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,o=n?n.toStringTag:void 0;function a(l){var c=i.call(l,o),u=l[o];try{l[o]=void 0;var d=!0}catch{}var f=s.call(l);return d&&(c?l[o]=u:delete l[o]),f}e.exports=a}),k8e=Z((t,e)=>{var n=Object.prototype,r=n.toString;function i(s){return r.call(s)}e.exports=i}),Vl=Z((t,e)=>{var n=Xp(),r=S8e(),i=k8e(),s="[object Null]",o="[object Undefined]",a=n?n.toStringTag:void 0;function l(c){return c==null?c===void 0?o:s:a&&a in Object(c)?r(c):i(c)}e.exports=l}),Zre=Z((t,e)=>{function n(r,i){return function(s){return r(i(s))}}e.exports=n}),ik=Z((t,e)=>{var n=Zre(),r=n(Object.getPrototypeOf,Object);e.exports=r}),_s=Z((t,e)=>{function n(r){return r!=null&&typeof r=="object"}e.exports=n}),du=Z((t,e)=>{var n=Vl(),r=ik(),i=_s(),s="[object Object]",o=Function.prototype,a=Object.prototype,l=o.toString,c=a.hasOwnProperty,u=l.call(Object);function d(f){if(!i(f)||n(f)!=s)return!1;var h=r(f);if(h===null)return!0;var m=c.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&l.call(m)==u}e.exports=d}),$8e=D(()=>{Ee(du()),rn()}),C8e=Z((t,e)=>{function n(){this.__data__=[],this.size=0}e.exports=n}),Gp=Z((t,e)=>{function n(r,i){return r===i||r!==r&&i!==i}e.exports=n}),sk=Z((t,e)=>{var n=Gp();function r(i,s){for(var o=i.length;o--;)if(n(i[o][0],s))return o;return-1}e.exports=r}),P8e=Z((t,e)=>{var n=sk(),r=Array.prototype,i=r.splice;function s(o){var a=this.__data__,l=n(a,o);if(l<0)return!1;var c=a.length-1;return l==c?a.pop():i.call(a,l,1),--this.size,!0}e.exports=s}),j8e=Z((t,e)=>{var n=sk();function r(i){var s=this.__data__,o=n(s,i);return o<0?void 0:s[o][1]}e.exports=r}),N8e=Z((t,e)=>{var n=sk();function r(i){return n(this.__data__,i)>-1}e.exports=r}),E8e=Z((t,e)=>{var n=sk();function r(i,s){var o=this.__data__,a=n(o,i);return a<0?(++this.size,o.push([i,s])):o[a][1]=s,this}e.exports=r}),ok=Z((t,e)=>{var n=C8e(),r=P8e(),i=j8e(),s=N8e(),o=E8e();function a(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var d=l[c];this.set(d[0],d[1])}}a.prototype.clear=n,a.prototype.delete=r,a.prototype.get=i,a.prototype.has=s,a.prototype.set=o,e.exports=a}),_8e=Z((t,e)=>{var n=ok();function r(){this.__data__=new n,this.size=0}e.exports=r}),T8e=Z((t,e)=>{function n(r){var i=this.__data__,s=i.delete(r);return this.size=i.size,s}e.exports=n}),A8e=Z((t,e)=>{function n(r){return this.__data__.get(r)}e.exports=n}),R8e=Z((t,e)=>{function n(r){return this.__data__.has(r)}e.exports=n}),Xn=Z((t,e)=>{function n(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}e.exports=n}),ak=Z((t,e)=>{var n=Vl(),r=Xn(),i="[object AsyncFunction]",s="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function l(c){if(!r(c))return!1;var u=n(c);return u==s||u==o||u==i||u==a}e.exports=l}),M8e=Z((t,e)=>{var n=ka(),r=n["__core-js_shared__"];e.exports=r}),Q8e=Z((t,e)=>{var n=M8e(),r=function(){var s=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function i(s){return!!r&&r in s}e.exports=i}),Ure=Z((t,e)=>{var n=Function.prototype,r=n.toString;function i(s){if(s!=null){try{return r.call(s)}catch{}try{return s+""}catch{}}return""}e.exports=i}),I8e=Z((t,e)=>{var n=ak(),r=Q8e(),i=Xn(),s=Ure(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,f=RegExp("^"+u.call(d).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!i(m)||r(m))return!1;var g=n(m)?f:a;return g.test(s(m))}e.exports=h}),D8e=Z((t,e)=>{function n(r,i){return r==null?void 0:r[i]}e.exports=n}),Yd=Z((t,e)=>{var n=I8e(),r=D8e();function i(s,o){var a=r(s,o);return n(a)?a:void 0}e.exports=i}),DQ=Z((t,e)=>{var n=Yd(),r=ka(),i=n(r,"Map");e.exports=i}),lk=Z((t,e)=>{var n=Yd(),r=n(Object,"create");e.exports=r}),L8e=Z((t,e)=>{var n=lk();function r(){this.__data__=n?n(null):{},this.size=0}e.exports=r}),F8e=Z((t,e)=>{function n(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}e.exports=n}),V8e=Z((t,e)=>{var n=lk(),r="__lodash_hash_undefined__",i=Object.prototype,s=i.hasOwnProperty;function o(a){var l=this.__data__;if(n){var c=l[a];return c===r?void 0:c}return s.call(l,a)?l[a]:void 0}e.exports=o}),B8e=Z((t,e)=>{var n=lk(),r=Object.prototype,i=r.hasOwnProperty;function s(o){var a=this.__data__;return n?a[o]!==void 0:i.call(a,o)}e.exports=s}),q8e=Z((t,e)=>{var n=lk(),r="__lodash_hash_undefined__";function i(s,o){var a=this.__data__;return this.size+=this.has(s)?0:1,a[s]=n&&o===void 0?r:o,this}e.exports=i}),W8e=Z((t,e)=>{var n=L8e(),r=F8e(),i=V8e(),s=B8e(),o=q8e();function a(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var d=l[c];this.set(d[0],d[1])}}a.prototype.clear=n,a.prototype.delete=r,a.prototype.get=i,a.prototype.has=s,a.prototype.set=o,e.exports=a}),z8e=Z((t,e)=>{var n=W8e(),r=ok(),i=DQ();function s(){this.size=0,this.__data__={hash:new n,map:new(i||r),string:new n}}e.exports=s}),Z8e=Z((t,e)=>{function n(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}e.exports=n}),ck=Z((t,e)=>{var n=Z8e();function r(i,s){var o=i.__data__;return n(s)?o[typeof s=="string"?"string":"hash"]:o.map}e.exports=r}),U8e=Z((t,e)=>{var n=ck();function r(i){var s=n(this,i).delete(i);return this.size-=s?1:0,s}e.exports=r}),X8e=Z((t,e)=>{var n=ck();function r(i){return n(this,i).get(i)}e.exports=r}),G8e=Z((t,e)=>{var n=ck();function r(i){return n(this,i).has(i)}e.exports=r}),Y8e=Z((t,e)=>{var n=ck();function r(i,s){var o=n(this,i),a=o.size;return o.set(i,s),this.size+=o.size==a?0:1,this}e.exports=r}),LQ=Z((t,e)=>{var n=z8e(),r=U8e(),i=X8e(),s=G8e(),o=Y8e();function a(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var d=l[c];this.set(d[0],d[1])}}a.prototype.clear=n,a.prototype.delete=r,a.prototype.get=i,a.prototype.has=s,a.prototype.set=o,e.exports=a}),H8e=Z((t,e)=>{var n=ok(),r=DQ(),i=LQ(),s=200;function o(a,l){var c=this.__data__;if(c instanceof n){var u=c.__data__;if(!r||u.length<s-1)return u.push([a,l]),this.size=++c.size,this;c=this.__data__=new i(u)}return c.set(a,l),this.size=c.size,this}e.exports=o}),uk=Z((t,e)=>{var n=ok(),r=_8e(),i=T8e(),s=A8e(),o=R8e(),a=H8e();function l(c){var u=this.__data__=new n(c);this.size=u.size}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,e.exports=l}),J8e=Z((t,e)=>{var n="__lodash_hash_undefined__";function r(i){return this.__data__.set(i,n),this}e.exports=r}),K8e=Z((t,e)=>{function n(r){return this.__data__.has(r)}e.exports=n}),dk=Z((t,e)=>{var n=LQ(),r=J8e(),i=K8e();function s(o){var a=-1,l=o==null?0:o.length;for(this.__data__=new n;++a<l;)this.add(o[a])}s.prototype.add=s.prototype.push=r,s.prototype.has=i,e.exports=s}),eXe=Z((t,e)=>{function n(r,i){for(var s=-1,o=r==null?0:r.length;++s<o;)if(i(r[s],s,r))return!0;return!1}e.exports=n}),fk=Z((t,e)=>{function n(r,i){return r.has(i)}e.exports=n}),Xre=Z((t,e)=>{var n=dk(),r=eXe(),i=fk(),s=1,o=2;function a(l,c,u,d,f,h){var m=u&s,g=l.length,y=c.length;if(g!=y&&!(m&&y>g))return!1;var O=h.get(l),b=h.get(c);if(O&&b)return O==c&&b==l;var w=-1,x=!0,v=u&o?new n:void 0;for(h.set(l,c),h.set(c,l);++w<g;){var k=l[w],$=c[w];if(d)var C=m?d($,k,w,c,l,h):d(k,$,w,l,c,h);if(C!==void 0){if(C)continue;x=!1;break}if(v){if(!r(c,function(N,P){if(!i(v,P)&&(k===N||f(k,N,u,d,h)))return v.push(P)})){x=!1;break}}else if(!(k===$||f(k,$,u,d,h))){x=!1;break}}return h.delete(l),h.delete(c),x}e.exports=a}),Gre=Z((t,e)=>{var n=ka(),r=n.Uint8Array;e.exports=r}),tXe=Z((t,e)=>{function n(r){var i=-1,s=Array(r.size);return r.forEach(function(o,a){s[++i]=[a,o]}),s}e.exports=n}),FQ=Z((t,e)=>{function n(r){var i=-1,s=Array(r.size);return r.forEach(function(o){s[++i]=o}),s}e.exports=n}),nXe=Z((t,e)=>{var n=Xp(),r=Gre(),i=Gp(),s=Xre(),o=tXe(),a=FQ(),l=1,c=2,u="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Map]",m="[object Number]",g="[object RegExp]",y="[object Set]",O="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",x="[object DataView]",v=n?n.prototype:void 0,k=v?v.valueOf:void 0;function $(C,N,P,R,T,A,j){switch(P){case x:if(C.byteLength!=N.byteLength||C.byteOffset!=N.byteOffset)return!1;C=C.buffer,N=N.buffer;case w:return!(C.byteLength!=N.byteLength||!A(new r(C),new r(N)));case u:case d:case m:return i(+C,+N);case f:return C.name==N.name&&C.message==N.message;case g:case O:return C==N+"";case h:var E=o;case y:var _=R&l;if(E||(E=a),C.size!=N.size&&!_)return!1;var Q=j.get(C);if(Q)return Q==N;R|=c,j.set(C,N);var M=s(E(C),E(N),R,T,A,j);return j.delete(C),M;case b:if(k)return k.call(C)==k.call(N)}return!1}e.exports=$}),VQ=Z((t,e)=>{function n(r,i){for(var s=-1,o=i.length,a=r.length;++s<o;)r[a+s]=i[s];return r}e.exports=n}),or=Z((t,e)=>{var n=Array.isArray;e.exports=n}),Yre=Z((t,e)=>{var n=VQ(),r=or();function i(s,o,a){var l=o(s);return r(s)?l:n(l,a(s))}e.exports=i}),rXe=Z((t,e)=>{function n(r,i){for(var s=-1,o=r==null?0:r.length,a=0,l=[];++s<o;){var c=r[s];i(c,s,r)&&(l[a++]=c)}return l}e.exports=n}),Hre=Z((t,e)=>{function n(){return[]}e.exports=n}),BQ=Z((t,e)=>{var n=rXe(),r=Hre(),i=Object.prototype,s=i.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(l){return l==null?[]:(l=Object(l),n(o(l),function(c){return s.call(l,c)}))}:r;e.exports=a}),Jre=Z((t,e)=>{function n(r,i){for(var s=-1,o=Array(r);++s<r;)o[s]=i(s);return o}e.exports=n}),iXe=Z((t,e)=>{var n=Vl(),r=_s(),i="[object Arguments]";function s(o){return r(o)&&n(o)==i}e.exports=s}),YO=Z((t,e)=>{var n=iXe(),r=_s(),i=Object.prototype,s=i.hasOwnProperty,o=i.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(l){return r(l)&&s.call(l,"callee")&&!o.call(l,"callee")};e.exports=a}),sXe=Z((t,e)=>{function n(){return!1}e.exports=n}),Yp=Z((t,e)=>{var n=ka(),r=sXe(),i=typeof t=="object"&&t&&!t.nodeType&&t,s=i&&typeof e=="object"&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;e.exports=c}),hk=Z((t,e)=>{var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function i(s,o){var a=typeof s;return o=o??n,!!o&&(a=="number"||a!="symbol"&&r.test(s))&&s>-1&&s%1==0&&s<o}e.exports=i}),qQ=Z((t,e)=>{var n=9007199254740991;function r(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=n}e.exports=r}),oXe=Z((t,e)=>{var n=Vl(),r=qQ(),i=_s(),s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",y="[object String]",O="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",x="[object Float32Array]",v="[object Float64Array]",k="[object Int8Array]",$="[object Int16Array]",C="[object Int32Array]",N="[object Uint8Array]",P="[object Uint8ClampedArray]",R="[object Uint16Array]",T="[object Uint32Array]",A={};A[x]=A[v]=A[k]=A[$]=A[C]=A[N]=A[P]=A[R]=A[T]=!0,A[s]=A[o]=A[b]=A[a]=A[w]=A[l]=A[c]=A[u]=A[d]=A[f]=A[h]=A[m]=A[g]=A[y]=A[O]=!1;function j(E){return i(E)&&r(E.length)&&!!A[n(E)]}e.exports=j}),Hd=Z((t,e)=>{function n(r){return function(i){return r(i)}}e.exports=n}),WQ=Z((t,e)=>{var n=zre(),r=typeof t=="object"&&t&&!t.nodeType&&t,i=r&&typeof e=="object"&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}),HO=Z((t,e)=>{var n=oXe(),r=Hd(),i=WQ(),s=i&&i.isTypedArray,o=s?r(s):n;e.exports=o}),Kre=Z((t,e)=>{var n=Jre(),r=YO(),i=or(),s=Yp(),o=hk(),a=HO(),l=Object.prototype,c=l.hasOwnProperty;function u(d,f){var h=i(d),m=!h&&r(d),g=!h&&!m&&s(d),y=!h&&!m&&!g&&a(d),O=h||m||g||y,b=O?n(d.length,String):[],w=b.length;for(var x in d)(f||c.call(d,x))&&!(O&&(x=="length"||g&&(x=="offset"||x=="parent")||y&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||o(x,w)))&&b.push(x);return b}e.exports=u}),pk=Z((t,e)=>{var n=Object.prototype;function r(i){var s=i&&i.constructor,o=typeof s=="function"&&s.prototype||n;return i===o}e.exports=r}),aXe=Z((t,e)=>{var n=Zre(),r=n(Object.keys,Object);e.exports=r}),eie=Z((t,e)=>{var n=pk(),r=aXe(),i=Object.prototype,s=i.hasOwnProperty;function o(a){if(!n(a))return r(a);var l=[];for(var c in Object(a))s.call(a,c)&&c!="constructor"&&l.push(c);return l}e.exports=o}),Jd=Z((t,e)=>{var n=ak(),r=qQ();function i(s){return s!=null&&r(s.length)&&!n(s)}e.exports=i}),JO=Z((t,e)=>{var n=Kre(),r=eie(),i=Jd();function s(o){return i(o)?n(o):r(o)}e.exports=s}),tie=Z((t,e)=>{var n=Yre(),r=BQ(),i=JO();function s(o){return n(o,i,r)}e.exports=s}),lXe=Z((t,e)=>{var n=tie(),r=1,i=Object.prototype,s=i.hasOwnProperty;function o(a,l,c,u,d,f){var h=c&r,m=n(a),g=m.length,y=n(l),O=y.length;if(g!=O&&!h)return!1;for(var b=g;b--;){var w=m[b];if(!(h?w in l:s.call(l,w)))return!1}var x=f.get(a),v=f.get(l);if(x&&v)return x==l&&v==a;var k=!0;f.set(a,l),f.set(l,a);for(var $=h;++b<g;){w=m[b];var C=a[w],N=l[w];if(u)var P=h?u(N,C,w,l,a,f):u(C,N,w,a,l,f);if(!(P===void 0?C===N||d(C,N,c,u,f):P)){k=!1;break}$||($=w=="constructor")}if(k&&!$){var R=a.constructor,T=l.constructor;R!=T&&"constructor"in a&&"constructor"in l&&!(typeof R=="function"&&R instanceof R&&typeof T=="function"&&T instanceof T)&&(k=!1)}return f.delete(a),f.delete(l),k}e.exports=o}),cXe=Z((t,e)=>{var n=Yd(),r=ka(),i=n(r,"DataView");e.exports=i}),uXe=Z((t,e)=>{var n=Yd(),r=ka(),i=n(r,"Promise");e.exports=i}),nie=Z((t,e)=>{var n=Yd(),r=ka(),i=n(r,"Set");e.exports=i}),dXe=Z((t,e)=>{var n=Yd(),r=ka(),i=n(r,"WeakMap");e.exports=i}),KO=Z((t,e)=>{var n=cXe(),r=DQ(),i=uXe(),s=nie(),o=dXe(),a=Vl(),l=Ure(),c="[object Map]",u="[object Object]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",m="[object DataView]",g=l(n),y=l(r),O=l(i),b=l(s),w=l(o),x=a;(n&&x(new n(new ArrayBuffer(1)))!=m||r&&x(new r)!=c||i&&x(i.resolve())!=d||s&&x(new s)!=f||o&&x(new o)!=h)&&(x=function(v){var k=a(v),$=k==u?v.constructor:void 0,C=$?l($):"";if(C)switch(C){case g:return m;case y:return c;case O:return d;case b:return f;case w:return h}return k}),e.exports=x}),fXe=Z((t,e)=>{var n=uk(),r=Xre(),i=nXe(),s=lXe(),o=KO(),a=or(),l=Yp(),c=HO(),u=1,d="[object Arguments]",f="[object Array]",h="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function y(O,b,w,x,v,k){var $=a(O),C=a(b),N=$?f:o(O),P=C?f:o(b);N=N==d?h:N,P=P==d?h:P;var R=N==h,T=P==h,A=N==P;if(A&&l(O)){if(!l(b))return!1;$=!0,R=!1}if(A&&!R)return k||(k=new n),$||c(O)?r(O,b,w,x,v,k):i(O,b,N,w,x,v,k);if(!(w&u)){var j=R&&g.call(O,"__wrapped__"),E=T&&g.call(b,"__wrapped__");if(j||E){var _=j?O.value():O,Q=E?b.value():b;return k||(k=new n),v(_,Q,w,x,k)}}return A?(k||(k=new n),s(O,b,w,x,v,k)):!1}e.exports=y}),mk=Z((t,e)=>{var n=fXe(),r=_s();function i(s,o,a,l,c){return s===o?!0:s==null||o==null||!r(s)&&!r(o)?s!==s&&o!==o:n(s,o,a,l,i,c)}e.exports=i}),hXe=Z((t,e)=>{var n=mk();function r(i,s,o){o=typeof o=="function"?o:void 0;var a=o?o(i,s):void 0;return a===void 0?n(i,s,void 0,o):!!a}e.exports=r});function Ar(t,e){return(0,rie.default)(t,e,(n,r)=>{if(typeof n=="function"&&typeof r=="function")return!0})}var rie,zQ=D(()=>{rie=Ee(hXe())}),Hp=Z((t,e)=>{var n=Vl(),r=_s(),i="[object Symbol]";function s(o){return typeof o=="symbol"||r(o)&&n(o)==i}e.exports=s}),ZQ=Z((t,e)=>{var n=or(),r=Hp(),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function o(a,l){if(n(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||r(a)?!0:s.test(a)||!i.test(a)||l!=null&&a in Object(l)}e.exports=o}),pXe=Z((t,e)=>{var n=LQ(),r="Expected a function";function i(s,o){if(typeof s!="function"||o!=null&&typeof o!="function")throw new TypeError(r);var a=function(){var l=arguments,c=o?o.apply(this,l):l[0],u=a.cache;if(u.has(c))return u.get(c);var d=s.apply(this,l);return a.cache=u.set(c,d)||u,d};return a.cache=new(i.Cache||n),a}i.Cache=n,e.exports=i}),mXe=Z((t,e)=>{var n=pXe(),r=500;function i(s){var o=n(s,function(l){return a.size===r&&a.clear(),l}),a=o.cache;return o}e.exports=i}),iie=Z((t,e)=>{var n=mXe(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=n(function(o){var a=[];return o.charCodeAt(0)===46&&a.push(""),o.replace(r,function(l,c,u,d){a.push(u?d.replace(i,"$1"):c||l)}),a});e.exports=s}),Bl=Z((t,e)=>{function n(r,i){for(var s=-1,o=r==null?0:r.length,a=Array(o);++s<o;)a[s]=i(r[s],s,r);return a}e.exports=n}),gXe=Z((t,e)=>{var n=Xp(),r=Bl(),i=or(),s=Hp(),o=n?n.prototype:void 0,a=o?o.toString:void 0;function l(c){if(typeof c=="string")return c;if(i(c))return r(c,l)+"";if(s(c))return a?a.call(c):"";var u=c+"";return u=="0"&&1/c==-1/0?"-0":u}e.exports=l}),sie=Z((t,e)=>{var n=gXe();function r(i){return i==null?"":n(i)}e.exports=r}),Jp=Z((t,e)=>{var n=or(),r=ZQ(),i=iie(),s=sie();function o(a,l){return n(a)?a:r(a,l)?[a]:i(s(a))}e.exports=o}),Kd=Z((t,e)=>{var n=Hp();function r(i){if(typeof i=="string"||n(i))return i;var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}e.exports=r}),eb=Z((t,e)=>{var n=Jp(),r=Kd();function i(s,o){o=n(o,s);for(var a=0,l=o.length;s!=null&&a<l;)s=s[r(o[a++])];return a&&a==l?s:void 0}e.exports=i}),ar=Z((t,e)=>{var n=eb();function r(i,s,o){var a=i==null?void 0:n(i,s);return a===void 0?o:a}e.exports=r}),tb=Z((t,e)=>{var n=eie(),r=KO(),i=YO(),s=or(),o=Jd(),a=Yp(),l=pk(),c=HO(),u="[object Map]",d="[object Set]",f=Object.prototype,h=f.hasOwnProperty;function m(g){if(g==null)return!0;if(o(g)&&(s(g)||typeof g=="string"||typeof g.splice=="function"||a(g)||c(g)||i(g)))return!g.length;var y=r(g);if(y==u||y==d)return!g.size;if(l(g))return!n(g).length;for(var O in g)if(h.call(g,O))return!1;return!0}e.exports=m}),yXe=Z(t=>{var e=/~/,n=/~[01]/g;function r(u){switch(u){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+u)}function i(u){return e.test(u)?u.replace(n,r):u}function s(u,d,f){for(var h,m,g=1,y=d.length;g<y;){if(d[g]==="constructor"||d[g]==="prototype"||d[g]==="__proto__")return u;if(h=i(d[g++]),m=y>g,typeof u[h]>"u"&&(Array.isArray(u)&&h==="-"&&(h=u.length),m&&(d[g]!==""&&d[g]<1/0||d[g]==="-"?u[h]=[]:u[h]={})),!m)break;u=u[h]}var O=u[h];return f===void 0?delete u[h]:u[h]=f,O}function o(u){if(typeof u=="string"){if(u=u.split("/"),u[0]==="")return u;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(u)){for(let d of u)if(typeof d!="string"&&typeof d!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return u}throw new Error("Invalid JSON pointer.")}function a(u,d){if(typeof u!="object")throw new Error("Invalid input object.");d=o(d);var f=d.length;if(f===1)return u;for(var h=1;h<f;){if(u=u[i(d[h++])],f===h)return u;if(typeof u!="object"||u===null)return}}function l(u,d,f){if(typeof u!="object")throw new Error("Invalid input object.");if(d=o(d),d.length===0)throw new Error("Invalid JSON pointer for set.");return s(u,d,f)}function c(u){var d=o(u);return{get:function(f){return a(f,d)},set:function(f,h){return l(f,d,h)}}}t.get=a,t.set=l,t.compile=c}),UQ=Z((t,e)=>{function n(r,i){for(var s=-1,o=r==null?0:r.length;++s<o&&i(r[s],s,r)!==!1;);return r}e.exports=n}),oie=Z((t,e)=>{var n=Yd(),r=function(){try{var i=n(Object,"defineProperty");return i({},"",{}),i}catch{}}();e.exports=r}),XQ=Z((t,e)=>{var n=oie();function r(i,s,o){s=="__proto__"&&n?n(i,s,{configurable:!0,enumerable:!0,value:o,writable:!0}):i[s]=o}e.exports=r}),GQ=Z((t,e)=>{var n=XQ(),r=Gp(),i=Object.prototype,s=i.hasOwnProperty;function o(a,l,c){var u=a[l];(!(s.call(a,l)&&r(u,c))||c===void 0&&!(l in a))&&n(a,l,c)}e.exports=o}),Kp=Z((t,e)=>{var n=GQ(),r=XQ();function i(s,o,a,l){var c=!a;a||(a={});for(var u=-1,d=o.length;++u<d;){var f=o[u],h=l?l(a[f],s[f],f,a,s):void 0;h===void 0&&(h=s[f]),c?r(a,f,h):n(a,f,h)}return a}e.exports=i}),OXe=Z((t,e)=>{var n=Kp(),r=JO();function i(s,o){return s&&n(o,r(o),s)}e.exports=i}),bXe=Z((t,e)=>{function n(r){var i=[];if(r!=null)for(var s in Object(r))i.push(s);return i}e.exports=n}),xXe=Z((t,e)=>{var n=Xn(),r=pk(),i=bXe(),s=Object.prototype,o=s.hasOwnProperty;function a(l){if(!n(l))return i(l);var c=r(l),u=[];for(var d in l)d=="constructor"&&(c||!o.call(l,d))||u.push(d);return u}e.exports=a}),em=Z((t,e)=>{var n=Kre(),r=xXe(),i=Jd();function s(o){return i(o)?n(o,!0):r(o)}e.exports=s}),wXe=Z((t,e)=>{var n=Kp(),r=em();function i(s,o){return s&&n(o,r(o),s)}e.exports=i}),aie=Z((t,e)=>{var n=ka(),r=typeof t=="object"&&t&&!t.nodeType&&t,i=r&&typeof e=="object"&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,f=a?a(d):new c.constructor(d);return c.copy(f),f}e.exports=l}),gk=Z((t,e)=>{function n(r,i){var s=-1,o=r.length;for(i||(i=Array(o));++s<o;)i[s]=r[s];return i}e.exports=n}),vXe=Z((t,e)=>{var n=Kp(),r=BQ();function i(s,o){return n(s,r(s),o)}e.exports=i}),lie=Z((t,e)=>{var n=VQ(),r=ik(),i=BQ(),s=Hre(),o=Object.getOwnPropertySymbols,a=o?function(l){for(var c=[];l;)n(c,i(l)),l=r(l);return c}:s;e.exports=a}),SXe=Z((t,e)=>{var n=Kp(),r=lie();function i(s,o){return n(s,r(s),o)}e.exports=i}),cie=Z((t,e)=>{var n=Yre(),r=lie(),i=em();function s(o){return n(o,i,r)}e.exports=s}),kXe=Z((t,e)=>{var n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=s.length,a=new s.constructor(o);return o&&typeof s[0]=="string"&&r.call(s,"index")&&(a.index=s.index,a.input=s.input),a}e.exports=i}),YQ=Z((t,e)=>{var n=Gre();function r(i){var s=new i.constructor(i.byteLength);return new n(s).set(new n(i)),s}e.exports=r}),$Xe=Z((t,e)=>{var n=YQ();function r(i,s){var o=s?n(i.buffer):i.buffer;return new i.constructor(o,i.byteOffset,i.byteLength)}e.exports=r}),CXe=Z((t,e)=>{var n=/\w*$/;function r(i){var s=new i.constructor(i.source,n.exec(i));return s.lastIndex=i.lastIndex,s}e.exports=r}),PXe=Z((t,e)=>{var n=Xp(),r=n?n.prototype:void 0,i=r?r.valueOf:void 0;function s(o){return i?Object(i.call(o)):{}}e.exports=s}),uie=Z((t,e)=>{var n=YQ();function r(i,s){var o=s?n(i.buffer):i.buffer;return new i.constructor(o,i.byteOffset,i.length)}e.exports=r}),jXe=Z((t,e)=>{var n=YQ(),r=$Xe(),i=CXe(),s=PXe(),o=uie(),a="[object Boolean]",l="[object Date]",c="[object Map]",u="[object Number]",d="[object RegExp]",f="[object Set]",h="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",y="[object DataView]",O="[object Float32Array]",b="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",v="[object Int32Array]",k="[object Uint8Array]",$="[object Uint8ClampedArray]",C="[object Uint16Array]",N="[object Uint32Array]";function P(R,T,A){var j=R.constructor;switch(T){case g:return n(R);case a:case l:return new j(+R);case y:return r(R,A);case O:case b:case w:case x:case v:case k:case $:case C:case N:return o(R,A);case c:return new j;case u:case h:return new j(R);case d:return i(R);case f:return new j;case m:return s(R)}}e.exports=P}),die=Z((t,e)=>{var n=Xn(),r=Object.create,i=function(){function s(){}return function(o){if(!n(o))return{};if(r)return r(o);s.prototype=o;var a=new s;return s.prototype=void 0,a}}();e.exports=i}),fie=Z((t,e)=>{var n=die(),r=ik(),i=pk();function s(o){return typeof o.constructor=="function"&&!i(o)?n(r(o)):{}}e.exports=s}),NXe=Z((t,e)=>{var n=KO(),r=_s(),i="[object Map]";function s(o){return r(o)&&n(o)==i}e.exports=s}),EXe=Z((t,e)=>{var n=NXe(),r=Hd(),i=WQ(),s=i&&i.isMap,o=s?r(s):n;e.exports=o}),_Xe=Z((t,e)=>{var n=KO(),r=_s(),i="[object Set]";function s(o){return r(o)&&n(o)==i}e.exports=s}),TXe=Z((t,e)=>{var n=_Xe(),r=Hd(),i=WQ(),s=i&&i.isSet,o=s?r(s):n;e.exports=o}),hie=Z((t,e)=>{var n=uk(),r=UQ(),i=GQ(),s=OXe(),o=wXe(),a=aie(),l=gk(),c=vXe(),u=SXe(),d=tie(),f=cie(),h=KO(),m=kXe(),g=jXe(),y=fie(),O=or(),b=Yp(),w=EXe(),x=Xn(),v=TXe(),k=JO(),$=em(),C=1,N=2,P=4,R="[object Arguments]",T="[object Array]",A="[object Boolean]",j="[object Date]",E="[object Error]",_="[object Function]",Q="[object GeneratorFunction]",M="[object Map]",L="[object Number]",V="[object Object]",W="[object RegExp]",H="[object Set]",le="[object String]",fe="[object Symbol]",U="[object WeakMap]",ee="[object ArrayBuffer]",re="[object DataView]",J="[object Float32Array]",q="[object Float64Array]",oe="[object Int8Array]",B="[object Int16Array]",ie="[object Int32Array]",ce="[object Uint8Array]",de="[object Uint8ClampedArray]",z="[object Uint16Array]",ne="[object Uint32Array]",X={};X[R]=X[T]=X[ee]=X[re]=X[A]=X[j]=X[J]=X[q]=X[oe]=X[B]=X[ie]=X[M]=X[L]=X[V]=X[W]=X[H]=X[le]=X[fe]=X[ce]=X[de]=X[z]=X[ne]=!0,X[E]=X[_]=X[U]=!1;function ae(se,te,ge,pe,me,ue){var he,ye=te&C,ke=te&N,Pe=te&P;if(ge&&(he=me?ge(se,pe,me,ue):ge(se)),he!==void 0)return he;if(!x(se))return se;var et=O(se);if(et){if(he=m(se),!ye)return l(se,he)}else{var He=h(se),kn=He==_||He==Q;if(b(se))return a(se,ye);if(He==V||He==R||kn&&!me){if(he=ke||kn?{}:y(se),!ye)return ke?u(se,o(he,se)):c(se,s(he,se))}else{if(!X[He])return me?se:{};he=g(se,He,ye)}}ue||(ue=new n);var fn=ue.get(se);if(fn)return fn;ue.set(se,he),v(se)?se.forEach(function(Ji){he.add(ae(Ji,te,ge,Ji,se,ue))}):w(se)&&se.forEach(function(Ji,Rs){he.set(Rs,ae(Ji,te,ge,Rs,se,ue))});var $n=Pe?ke?f:d:ke?$:k,Hi=et?void 0:$n(se);return r(Hi||se,function(Ji,Rs){Hi&&(Rs=Ji,Ji=se[Rs]),i(he,Rs,ae(Ji,te,ge,Rs,se,ue))}),he}e.exports=ae}),pie=Z((t,e)=>{function n(r){var i=r==null?0:r.length;return i?r[i-1]:void 0}e.exports=n}),AXe=Z((t,e)=>{function n(r,i,s){var o=-1,a=r.length;i<0&&(i=-i>a?0:a+i),s=s>a?a:s,s<0&&(s+=a),a=i>s?0:s-i>>>0,i>>>=0;for(var l=Array(a);++o<a;)l[o]=r[o+i];return l}e.exports=n}),RXe=Z((t,e)=>{var n=eb(),r=AXe();function i(s,o){return o.length<2?s:n(s,r(o,0,-1))}e.exports=i}),mie=Z((t,e)=>{var n=Jp(),r=pie(),i=RXe(),s=Kd();function o(a,l){return l=n(l,a),a=i(a,l),a==null||delete a[s(r(l))]}e.exports=o}),MXe=Z((t,e)=>{var n=du();function r(i){return n(i)?void 0:i}e.exports=r}),QXe=Z((t,e)=>{var n=Xp(),r=YO(),i=or(),s=n?n.isConcatSpreadable:void 0;function o(a){return i(a)||r(a)||!!(s&&a&&a[s])}e.exports=o}),yk=Z((t,e)=>{var n=VQ(),r=QXe();function i(s,o,a,l,c){var u=-1,d=s.length;for(a||(a=r),c||(c=[]);++u<d;){var f=s[u];o>0&&a(f)?o>1?i(f,o-1,a,l,c):n(c,f):l||(c[c.length]=f)}return c}e.exports=i}),HQ=Z((t,e)=>{var n=yk();function r(i){var s=i==null?0:i.length;return s?n(i,1):[]}e.exports=r}),gie=Z((t,e)=>{function n(r,i,s){switch(s.length){case 0:return r.call(i);case 1:return r.call(i,s[0]);case 2:return r.call(i,s[0],s[1]);case 3:return r.call(i,s[0],s[1],s[2])}return r.apply(i,s)}e.exports=n}),yie=Z((t,e)=>{var n=gie(),r=Math.max;function i(s,o,a){return o=r(o===void 0?s.length-1:o,0),function(){for(var l=arguments,c=-1,u=r(l.length-o,0),d=Array(u);++c<u;)d[c]=l[o+c];c=-1;for(var f=Array(o+1);++c<o;)f[c]=l[c];return f[o]=a(d),n(s,this,f)}}e.exports=i}),IXe=Z((t,e)=>{function n(r){return function(){return r}}e.exports=n}),nb=Z((t,e)=>{function n(r){return r}e.exports=n}),DXe=Z((t,e)=>{var n=IXe(),r=oie(),i=nb(),s=r?function(o,a){return r(o,"toString",{configurable:!0,enumerable:!1,value:n(a),writable:!0})}:i;e.exports=s}),LXe=Z((t,e)=>{var n=800,r=16,i=Date.now;function s(o){var a=0,l=0;return function(){var c=i(),u=r-(c-l);if(l=c,u>0){if(++a>=n)return arguments[0]}else a=0;return o.apply(void 0,arguments)}}e.exports=s}),Oie=Z((t,e)=>{var n=DXe(),r=LXe(),i=r(n);e.exports=i}),bie=Z((t,e)=>{var n=HQ(),r=yie(),i=Oie();function s(o){return i(r(o,void 0,n),o+"")}e.exports=s}),JQ=Z((t,e)=>{var n=Bl(),r=hie(),i=mie(),s=Jp(),o=Kp(),a=MXe(),l=bie(),c=cie(),u=1,d=2,f=4,h=l(function(m,g){var y={};if(m==null)return y;var O=!1;g=n(g,function(w){return w=s(w,m),O||(O=w.length>1),w}),o(m,c(m),y),O&&(y=r(y,u|d|f,a));for(var b=g.length;b--;)i(y,g[b]);return y});e.exports=h});function KQ(t,e){let n=e[t];return[(0,Sie.default)(e,[t]),n]}function xie(t,e={},n=[]){let r=t||"",i;if(r.startsWith("#"))i=decodeURIComponent(r.substring(1));else throw new Error(`Could not find a definition for ${t}.`);let s=vie.default.get(e,i);if(s===void 0)throw new Error(`Could not find a definition for ${t}.`);let o=s[Zn];if(o){if(n.includes(o)){if(n.length===1)throw new Error(`Definition for ${t} is a circular reference`);let[u,...d]=n,f=[...d,r,u].join(" -> ");throw new Error(`Definition for ${u} contains a circular reference through ${f}`)}let[a,l]=KQ(Zn,s),c=xie(l,e,[...n,r]);return Object.keys(a).length>0?{...a,...c}:c}return s}function wie(t,e={}){return xie(t,e,[])}var vie,Sie,eI=D(()=>{vie=Ee(yXe()),Sie=Ee(JQ()),rn()}),FXe=Z((t,e)=>{var n=Object.prototype,r=n.hasOwnProperty;function i(s,o){return s!=null&&r.call(s,o)}e.exports=i}),kie=Z((t,e)=>{var n=Jp(),r=YO(),i=or(),s=hk(),o=qQ(),a=Kd();function l(c,u,d){u=n(u,c);for(var f=-1,h=u.length,m=!1;++f<h;){var g=a(u[f]);if(!(m=c!=null&&d(c,g)))break;c=c[g]}return m||++f!=h?m:(h=c==null?0:c.length,!!h&&o(h)&&s(g,h)&&(i(c)||r(c)))}e.exports=l}),Ok=Z((t,e)=>{var n=FXe(),r=kie();function i(s,o){return s!=null&&r(s,o,n)}e.exports=i}),$ie=Z((t,e)=>{var n=Vl(),r=_s(),i="[object Number]";function s(o){return typeof o=="number"||r(o)&&n(o)==i}e.exports=s}),tI=Z((t,e)=>{var n=Vl(),r=or(),i=_s(),s="[object String]";function o(a){return typeof a=="string"||!r(a)&&i(a)&&n(a)==s}e.exports=o}),VXe=Z((t,e)=>{function n(r,i,s,o){var a=-1,l=r==null?0:r.length;for(o&&l&&(s=r[++a]);++a<l;)s=i(s,r[a],a,r);return s}e.exports=n}),BXe=Z((t,e)=>{function n(r){return function(i,s,o){for(var a=-1,l=Object(i),c=o(i),u=c.length;u--;){var d=c[r?u:++a];if(s(l[d],d,l)===!1)break}return i}}e.exports=n}),Cie=Z((t,e)=>{var n=BXe(),r=n();e.exports=r}),Pie=Z((t,e)=>{var n=Cie(),r=JO();function i(s,o){return s&&n(s,o,r)}e.exports=i}),qXe=Z((t,e)=>{var n=Jd();function r(i,s){return function(o,a){if(o==null)return o;if(!n(o))return i(o,a);for(var l=o.length,c=s?l:-1,u=Object(o);(s?c--:++c<l)&&a(u[c],c,u)!==!1;);return o}}e.exports=r}),nI=Z((t,e)=>{var n=Pie(),r=qXe(),i=r(n);e.exports=i}),WXe=Z((t,e)=>{var n=uk(),r=mk(),i=1,s=2;function o(a,l,c,u){var d=c.length,f=d,h=!u;if(a==null)return!f;for(a=Object(a);d--;){var m=c[d];if(h&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++d<f;){m=c[d];var g=m[0],y=a[g],O=m[1];if(h&&m[2]){if(y===void 0&&!(g in a))return!1}else{var b=new n;if(u)var w=u(y,O,g,a,l,b);if(!(w===void 0?r(O,y,i|s,u,b):w))return!1}}return!0}e.exports=o}),jie=Z((t,e)=>{var n=Xn();function r(i){return i===i&&!n(i)}e.exports=r}),zXe=Z((t,e)=>{var n=jie(),r=JO();function i(s){for(var o=r(s),a=o.length;a--;){var l=o[a],c=s[l];o[a]=[l,c,n(c)]}return o}e.exports=i}),Nie=Z((t,e)=>{function n(r,i){return function(s){return s==null?!1:s[r]===i&&(i!==void 0||r in Object(s))}}e.exports=n}),ZXe=Z((t,e)=>{var n=WXe(),r=zXe(),i=Nie();function s(o){var a=r(o);return a.length==1&&a[0][2]?i(a[0][0],a[0][1]):function(l){return l===o||n(l,o,a)}}e.exports=s}),UXe=Z((t,e)=>{function n(r,i){return r!=null&&i in Object(r)}e.exports=n}),Eie=Z((t,e)=>{var n=UXe(),r=kie();function i(s,o){return s!=null&&r(s,o,n)}e.exports=i}),XXe=Z((t,e)=>{var n=mk(),r=ar(),i=Eie(),s=ZQ(),o=jie(),a=Nie(),l=Kd(),c=1,u=2;function d(f,h){return s(f)&&o(h)?a(l(f),h):function(m){var g=r(m,f);return g===void 0&&g===h?i(m,f):n(h,g,c|u)}}e.exports=d}),GXe=Z((t,e)=>{function n(r){return function(i){return i==null?void 0:i[r]}}e.exports=n}),YXe=Z((t,e)=>{var n=eb();function r(i){return function(s){return n(s,i)}}e.exports=r}),HXe=Z((t,e)=>{var n=GXe(),r=YXe(),i=ZQ(),s=Kd();function o(a){return i(a)?n(s(a)):r(a)}e.exports=o}),rI=Z((t,e)=>{var n=ZXe(),r=XXe(),i=nb(),s=or(),o=HXe();function a(l){return typeof l=="function"?l:l==null?i:typeof l=="object"?s(l)?r(l[0],l[1]):n(l):o(l)}e.exports=a}),JXe=Z((t,e)=>{function n(r,i,s,o,a){return a(r,function(l,c,u){s=o?(o=!1,l):i(s,l,c,u)}),s}e.exports=n}),KXe=Z((t,e)=>{var n=VXe(),r=nI(),i=rI(),s=JXe(),o=or();function a(l,c,u){var d=o(l)?n:s,f=arguments.length<3;return d(l,i(c,4),u,f,r)}e.exports=a}),_ie=Z((t,e)=>{var n=nb();function r(i){return typeof i=="function"?i:n}e.exports=r}),eGe=Z((t,e)=>{var n=/\s/;function r(i){for(var s=i.length;s--&&n.test(i.charAt(s)););return s}e.exports=r}),tGe=Z((t,e)=>{var n=eGe(),r=/^\s+/;function i(s){return s&&s.slice(0,n(s)+1).replace(r,"")}e.exports=i}),nGe=Z((t,e)=>{var n=tGe(),r=Xn(),i=Hp(),s=NaN,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function u(d){if(typeof d=="number")return d;if(i(d))return s;if(r(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=r(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=n(d);var h=a.test(d);return h||l.test(d)?c(d.slice(2),h?2:8):o.test(d)?s:+d}e.exports=u}),rGe=Z((t,e)=>{var n=nGe(),r=1/0,i=17976931348623157e292;function s(o){if(!o)return o===0?o:0;if(o=n(o),o===r||o===-1/0){var a=o<0?-1:1;return a*i}return o===o?o:0}e.exports=s}),iGe=Z((t,e)=>{var n=rGe();function r(i){var s=n(i),o=s%1;return s===s?o?s-o:s:0}e.exports=r}),Tie=Z((t,e)=>{var n=Jre(),r=_ie(),i=iGe(),s=9007199254740991,o=4294967295,a=Math.min;function l(c,u){if(c=i(c),c<1||c>s)return[];var d=o,f=a(c,o);u=r(u),c-=o;for(var h=n(f,u);++d<c;)u(d);return h}e.exports=l});function Aie(t,e,n){var r;if(t&&n){let i=(0,s_.default)(t,n);if(i===void 0)return;for(let s=0;s<e.length;s++){let o=e[s],a=(0,s_.default)(o,[mn,n],{});if(!(a.type==="object"||a.type==="array")&&(a.const===i||!((r=a.enum)===null||r===void 0)&&r.includes(i)))return s}}}var s_,iI=D(()=>{s_=Ee(ar()),rn()});function Rie(t,e,n,r,i){if(e===void 0)return 0;let s=Aie(e,n,i);if((0,Qie.default)(s))return s;for(let o=0;o<n.length;o++){let a=n[o];if(i&&(0,Mie.default)(a,[mn,i])){let l=(0,o_.default)(e,i),c=(0,o_.default)(a,[mn,i],{});if(t.isValid(c,l,r))return o}else if(a[mn]){let l={anyOf:Object.keys(a[mn]).map(u=>({required:[u]}))},c;if(a.anyOf){let{...u}=a;u.allOf?u.allOf=u.allOf.slice():u.allOf=[],u.allOf.push(l),c=u}else c=Object.assign({},a,l);if(delete c.required,t.isValid(c,e,r))return o}else if(t.isValid(a,e,r))return o}return 0}var o_,Mie,Qie,Iie=D(()=>{o_=Ee(ar()),Mie=Ee(Ok()),Qie=Ee($ie()),rn(),iI()});function sI(t,e,n,r,i){return Rie(t,e,n,r,i)}var oI=D(()=>{Iie()}),ql=Z((t,e)=>{var n=mk();function r(i,s){return n(i,s)}e.exports=r}),aI=Z((t,e)=>{var n=GQ(),r=Jp(),i=hk(),s=Xn(),o=Kd();function a(l,c,u,d){if(!s(l))return l;c=r(c,l);for(var f=-1,h=c.length,m=h-1,g=l;g!=null&&++f<h;){var y=o(c[f]),O=u;if(y==="__proto__"||y==="constructor"||y==="prototype")return l;if(f!=m){var b=g[y];O=d?d(b,y,g):void 0,O===void 0&&(O=s(b)?b:i(c[f+1])?[]:{})}n(g,y,O),g=g[y]}return l}e.exports=a}),tm=Z((t,e)=>{var n=aI();function r(i,s,o){return i==null?i:n(i,s,o)}e.exports=r}),sGe=Z((t,e)=>{var n=UQ(),r=die(),i=Pie(),s=rI(),o=ik(),a=or(),l=Yp(),c=ak(),u=Xn(),d=HO();function f(h,m,g){var y=a(h),O=y||l(h)||d(h);if(m=s(m,4),g==null){var b=h&&h.constructor;O?g=y?new b:[]:u(h)?g=c(b)?r(o(h)):{}:g={}}return(O?n:i)(h,function(w,x,v){return m(g,w,x,v)}),g}e.exports=f}),Die=Z((t,e)=>{var n=XQ(),r=Gp();function i(s,o,a){(a!==void 0&&!r(s[o],a)||a===void 0&&!(o in s))&&n(s,o,a)}e.exports=i}),bk=Z((t,e)=>{var n=Jd(),r=_s();function i(s){return r(s)&&n(s)}e.exports=i}),Lie=Z((t,e)=>{function n(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}e.exports=n}),oGe=Z((t,e)=>{var n=Kp(),r=em();function i(s){return n(s,r(s))}e.exports=i}),aGe=Z((t,e)=>{var n=Die(),r=aie(),i=uie(),s=gk(),o=fie(),a=YO(),l=or(),c=bk(),u=Yp(),d=ak(),f=Xn(),h=du(),m=HO(),g=Lie(),y=oGe();function O(b,w,x,v,k,$,C){var N=g(b,x),P=g(w,x),R=C.get(P);if(R){n(b,x,R);return}var T=$?$(N,P,x+"",b,w,C):void 0,A=T===void 0;if(A){var j=l(P),E=!j&&u(P),_=!j&&!E&&m(P);T=P,j||E||_?l(N)?T=N:c(N)?T=s(N):E?(A=!1,T=r(P,!0)):_?(A=!1,T=i(P,!0)):T=[]:h(P)||a(P)?(T=N,a(N)?T=y(N):(!f(N)||d(N))&&(T=o(P))):A=!1}A&&(C.set(P,T),k(T,P,v,$,C),C.delete(P)),n(b,x,T)}e.exports=O}),lI=Z((t,e)=>{var n=uk(),r=Die(),i=Cie(),s=aGe(),o=Xn(),a=em(),l=Lie();function c(u,d,f,h,m){u!==d&&i(d,function(g,y){if(m||(m=new n),o(g))s(u,d,y,f,c,h,m);else{var O=h?h(l(u,y),g,y+"",u,d,m):void 0;O===void 0&&(O=g),r(u,y,O)}},a)}e.exports=c}),fu=Z((t,e)=>{var n=nb(),r=yie(),i=Oie();function s(o,a){return i(r(o,a,n),o+"")}e.exports=s}),cI=Z((t,e)=>{var n=Gp(),r=Jd(),i=hk(),s=Xn();function o(a,l,c){if(!s(c))return!1;var u=typeof l;return(u=="number"?r(c)&&i(l,c.length):u=="string"&&l in c)?n(c[l],a):!1}e.exports=o}),Fie=Z((t,e)=>{var n=fu(),r=cI();function i(s){return n(function(o,a){var l=-1,c=a.length,u=c>1?a[c-1]:void 0,d=c>2?a[2]:void 0;for(u=s.length>3&&typeof u=="function"?(c--,u):void 0,d&&r(a[0],a[1],d)&&(u=c<3?void 0:u,c=1),o=Object(o);++l<c;){var f=a[l];f&&s(o,f,l,u)}return o})}e.exports=i}),lGe=Z((t,e)=>{var n=lI(),r=Fie(),i=r(function(s,o,a){n(s,o,a)});e.exports=i}),uI=Z((t,e)=>{var n=yk(),r=1/0;function i(s){var o=s==null?0:s.length;return o?n(s,r):[]}e.exports=i}),cGe=Z((t,e)=>{function n(r,i,s,o){for(var a=r.length,l=s+(o?1:-1);o?l--:++l<a;)if(i(r[l],l,r))return l;return-1}e.exports=n}),uGe=Z((t,e)=>{function n(r){return r!==r}e.exports=n}),dGe=Z((t,e)=>{function n(r,i,s){for(var o=s-1,a=r.length;++o<a;)if(r[o]===i)return o;return-1}e.exports=n}),Vie=Z((t,e)=>{var n=cGe(),r=uGe(),i=dGe();function s(o,a,l){return a===a?i(o,a,l):n(o,r,l)}e.exports=s}),dI=Z((t,e)=>{var n=Vie();function r(i,s){var o=i==null?0:i.length;return!!o&&n(i,s,0)>-1}e.exports=r}),fI=Z((t,e)=>{function n(r,i,s){for(var o=-1,a=r==null?0:r.length;++o<a;)if(s(i,r[o]))return!0;return!1}e.exports=n}),fGe=Z((t,e)=>{function n(){}e.exports=n}),hGe=Z((t,e)=>{var n=nie(),r=fGe(),i=FQ(),s=1/0,o=n&&1/i(new n([,-0]))[1]==s?function(a){return new n(a)}:r;e.exports=o}),hI=Z((t,e)=>{var n=dk(),r=dI(),i=fI(),s=fk(),o=hGe(),a=FQ(),l=200;function c(u,d,f){var h=-1,m=r,g=u.length,y=!0,O=[],b=O;if(f)y=!1,m=i;else if(g>=l){var w=d?null:o(u);if(w)return a(w);y=!1,m=s,b=new n}else b=d?[]:O;e:for(;++h<g;){var x=u[h],v=d?d(x):x;if(x=f||x!==0?x:0,y&&v===v){for(var k=b.length;k--;)if(b[k]===v)continue e;d&&b.push(v),O.push(x)}else m(b,v,f)||(b!==O&&b.push(v),O.push(x))}return O}e.exports=c}),xk=Z((t,e)=>{var n=hI();function r(i){return i&&i.length?n(i):[]}e.exports=r}),pI=Z((t,e)=>{var n=hie(),r=1,i=4;function s(o){return n(o,r|i)}e.exports=s}),pGe=Z((t,e)=>{var n=nI(),r=Jd();function i(s,o){var a=-1,l=r(s)?Array(s.length):[];return n(s,function(c,u,d){l[++a]=o(c,u,d)}),l}e.exports=i}),mGe=Z((t,e)=>{function n(r,i){var s=r.length;for(r.sort(i);s--;)r[s]=r[s].value;return r}e.exports=n}),gGe=Z((t,e)=>{var n=Hp();function r(i,s){if(i!==s){var o=i!==void 0,a=i===null,l=i===i,c=n(i),u=s!==void 0,d=s===null,f=s===s,h=n(s);if(!d&&!h&&!c&&i>s||c&&u&&f&&!d&&!h||a&&u&&f||!o&&f||!l)return 1;if(!a&&!c&&!h&&i<s||h&&o&&l&&!a&&!c||d&&o&&l||!u&&l||!f)return-1}return 0}e.exports=r}),yGe=Z((t,e)=>{var n=gGe();function r(i,s,o){for(var a=-1,l=i.criteria,c=s.criteria,u=l.length,d=o.length;++a<u;){var f=n(l[a],c[a]);if(f){if(a>=d)return f;var h=o[a];return f*(h=="desc"?-1:1)}}return i.index-s.index}e.exports=r}),OGe=Z((t,e)=>{var n=Bl(),r=eb(),i=rI(),s=pGe(),o=mGe(),a=Hd(),l=yGe(),c=nb(),u=or();function d(f,h,m){h.length?h=n(h,function(O){return u(O)?function(b){return r(b,O.length===1?O[0]:O)}:O}):h=[c];var g=-1;h=n(h,a(i));var y=s(f,function(O,b,w){var x=n(h,function(v){return v(O)});return{criteria:x,index:++g,value:O}});return o(y,function(O,b){return l(O,b,m)})}e.exports=d}),Bie=Z((t,e)=>{var n=yk(),r=OGe(),i=fu(),s=cI(),o=i(function(a,l){if(a==null)return[];var c=l.length;return c>1&&s(a,l[0],l[1])?l=[]:c>2&&s(l[0],l[1],l[2])&&(l=[l[0]]),r(a,n(l,1),[])});e.exports=o}),mI=Z((t,e)=>{var n=hI();function r(i,s){return s=typeof s=="function"?s:void 0,i&&i.length?n(i,void 0,s):[]}e.exports=r}),bGe=Z((t,e)=>{var n=fu(),r=Gp(),i=cI(),s=em(),o=Object.prototype,a=o.hasOwnProperty,l=n(function(c,u){c=Object(c);var d=-1,f=u.length,h=f>2?u[2]:void 0;for(h&&i(u[0],u[1],h)&&(f=1);++d<f;)for(var m=u[d],g=s(m),y=-1,O=g.length;++y<O;){var b=g[y],w=c[b];(w===void 0||r(w,o[b])&&!a.call(c,b))&&(c[b]=m[b])}return c});e.exports=l}),qie=Z((t,e)=>{var n=dk(),r=dI(),i=fI(),s=Bl(),o=Hd(),a=fk(),l=Math.min;function c(u,d,f){for(var h=f?i:r,m=u[0].length,g=u.length,y=g,O=Array(g),b=1/0,w=[];y--;){var x=u[y];y&&d&&(x=s(x,o(d))),b=l(x.length,b),O[y]=!f&&(d||m>=120&&x.length>=120)?new n(y&&x):void 0}x=u[0];var v=-1,k=O[0];e:for(;++v<m&&w.length<b;){var $=x[v],C=d?d($):$;if($=f||$!==0?$:0,!(k?a(k,C):h(w,C,f))){for(y=g;--y;){var N=O[y];if(!(N?a(N,C):h(u[y],C,f)))continue e}k&&k.push(C),w.push($)}}return w}e.exports=c}),Wie=Z((t,e)=>{var n=bk();function r(i){return n(i)?i:[]}e.exports=r}),zie=Z((t,e)=>{var n=Bl(),r=qie(),i=fu(),s=Wie(),o=pie(),a=i(function(l){var c=o(l),u=n(l,s);return c=typeof c=="function"?c:void 0,c&&u.pop(),u.length&&u[0]===l[0]?r(u,void 0,c):[]});e.exports=a}),xGe=Z((t,e)=>{var n=Vl(),r=_s(),i="[object Boolean]";function s(o){return o===!0||o===!1||r(o)&&n(o)==i}e.exports=s}),gI=Z((t,e)=>{var n=ql(),r=Bie(),i=xk(),s=mI(),o=bGe(),a=zie(),l=du(),c=xGe(),u=E=>Array.isArray(E)?E:[E],d=E=>E===void 0,f=E=>l(E)||Array.isArray(E)?Object.keys(E):[],h=(E,_)=>E.hasOwnProperty(_),m=E=>r(i(E)),g=E=>d(E)||Array.isArray(E)&&E.length===0,y=(E,_,Q,M)=>_&&h(_,Q)&&E&&h(E,Q)&&M(E[Q],_[Q]),O=(E,_)=>d(E)&&_===0||d(_)&&E===0||n(E,_),b=(E,_)=>d(E)&&_===!1||d(_)&&E===!1||n(E,_),w=E=>d(E)||n(E,{})||E===!0,x=E=>d(E)||n(E,{}),v=E=>d(E)||l(E)||E===!0||E===!1;function k(E,_){return g(E)&&g(_)?!0:n(m(E),m(_))}function $(E,_){return E=u(E),_=u(_),n(m(E),m(_))}function C(E,_,Q,M){var L=i(f(E).concat(f(_)));return x(E)&&x(_)?!0:x(E)&&f(_).length||x(_)&&f(E).length?!1:L.every(function(V){var W=E[V],H=_[V];return Array.isArray(W)&&Array.isArray(H)?n(m(E),m(_)):Array.isArray(W)&&!Array.isArray(H)||Array.isArray(H)&&!Array.isArray(W)?!1:y(E,_,V,M)})}function N(E,_,Q,M){return l(E)&&l(_)?M(E,_):Array.isArray(E)&&Array.isArray(_)?C(E,_,Q,M):n(E,_)}function P(E,_,Q,M){var L=s(E,M),V=s(_,M),W=a(L,V,M);return W.length===Math.max(L.length,V.length)}var R={title:n,uniqueItems:b,minLength:O,minItems:O,minProperties:O,required:k,enum:k,type:$,items:N,anyOf:P,allOf:P,oneOf:P,properties:C,patternProperties:C,dependencies:C},T=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],A=["additionalProperties","additionalItems","contains","propertyNames","not"];function j(E,_,Q){if(Q=o(Q,{ignore:[]}),w(E)&&w(_))return!0;if(!v(E)||!v(_))throw new Error("Either of the values are not a JSON schema.");if(E===_)return!0;if(c(E)&&c(_))return E===_;if(E===void 0&&_===!1||_===void 0&&E===!1||d(E)&&!d(_)||!d(E)&&d(_))return!1;var M=i(Object.keys(E).concat(Object.keys(_)));if(Q.ignore.length&&(M=M.filter(V=>Q.ignore.indexOf(V)===-1)),!M.length)return!0;function L(V,W){return j(V,W,Q)}return M.every(function(V){var W=E[V],H=_[V];if(A.indexOf(V)!==-1)return j(W,H,Q);var le=R[V];if(le||(le=n),n(W,H))return!0;if(T.indexOf(V)===-1&&(!h(E,V)&&h(_,V)||h(E,V)&&!h(_,V)))return W===H;var fe=le(W,H,V,L);if(!c(fe))throw new Error("Comparer must return true or false");return fe})}e.exports=j}),yI=Z((t,e)=>{function n(r){return Object.prototype.toString.call(r)==="[object Array]"}e.exports=Array.isArray||n}),wGe=Z((t,e)=>{function n(r){return(typeof r=="number"||Object.prototype.toString.call(r)==="[object Number]")&&r.valueOf()===r.valueOf()}e.exports=n}),vGe=Z((t,e)=>{var n=wGe();function r(i){return n(i)&&i%1===0}e.exports=r}),Zie=Z((t,e)=>{var n=yI(),r=vGe();function i(s){var o;if(!n(s)||(o=s.length,!o))return!1;for(var a=0;a<o;a++)if(!r(s[a]))return!1;return!0}e.exports=i}),Uie=Z((t,e)=>{function n(r){return typeof r=="function"}e.exports=n}),SGe=Z((t,e)=>{var n=yI(),r=Zie(),i=Uie(),s=Math.pow(2,31)-1;function o(c,u){var d=1,f;if(c===0)return u;if(u===0)return c;for(;c%2===0&&u%2===0;)c=c/2,u=u/2,d=d*2;for(;c%2===0;)c=c/2;for(;u;){for(;u%2===0;)u=u/2;c>u&&(f=u,u=c,c=f),u=u-c}return d*c}function a(c,u){var d=0,f;if(c===0)return u;if(u===0)return c;for(;!(c&1)&&!(u&1);)c>>>=1,u>>>=1,d++;for(;!(c&1);)c>>>=1;for(;u;){for(;!(u&1);)u>>>=1;c>u&&(f=u,u=c,c=f),u=u-c}return c<<d}function l(){var c=arguments.length,u,d,f,h,m,g,y;for(u=new Array(c),y=0;y<c;y++)u[y]=arguments[y];if(r(u)){if(c===2)return m=u[0],g=u[1],m<0&&(m=-m),g<0&&(g=-g),m<=s&&g<=s?a(m,g):o(m,g);f=u}else if(n(u[0]))if(c>1){if(f=u[0],d=u[1],!i(d))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+d+"`.")}else f=u[0];else throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+u[0]+"`.");if(h=f.length,h<2)return null;if(d){for(m=new Array(h),y=0;y<h;y++)m[y]=d(f[y],y);f=m}if(c<3&&!r(f))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+f+"`.");for(y=0;y<h;y++)m=f[y],m<0&&(f[y]=-m);for(m=f[0],y=1;y<h;y++)g=f[y],g<=s&&m<=s?m=a(m,g):m=o(m,g);return m}e.exports=l}),kGe=Z((t,e)=>{var n=SGe(),r=yI(),i=Zie(),s=Uie();function o(){var a=arguments.length,l,c,u,d,f,h,m;for(l=new Array(a),m=0;m<a;m++)l[m]=arguments[m];if(i(l)){if(a===2)return f=l[0],h=l[1],f<0&&(f=-f),h<0&&(h=-h),f===0||h===0?0:f/n(f,h)*h;u=l}else if(r(l[0]))if(a>1){if(u=l[0],c=l[1],!s(c))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+c+"`.")}else u=l[0];else throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+l[0]+"`.");if(d=u.length,d<2)return null;if(c){for(f=new Array(d),m=0;m<d;m++)f[m]=c(u[m],m);u=f}if(a<3&&!i(u))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+u+"`.");for(m=0;m<d;m++)f=u[m],f<0&&(u[m]=-f);for(f=u[0],m=1;m<d;m++){if(h=u[m],f===0||h===0)return 0;f=f/n(f,h)*h}return f}e.exports=o}),$Ge=Z((t,e)=>{var n=lI(),r=Xn();function i(s,o,a,l,c,u){return r(s)&&r(o)&&(u.set(o,s),n(s,o,void 0,i,u),u.delete(o)),s}e.exports=i}),CGe=Z((t,e)=>{var n=lI(),r=Fie(),i=r(function(s,o,a,l){n(s,o,a,l)});e.exports=i}),PGe=Z((t,e)=>{var n=gie(),r=fu(),i=$Ge(),s=CGe(),o=r(function(a){return a.push(void 0,i),n(s,void 0,a)});e.exports=o}),jGe=Z((t,e)=>{var n=Bl(),r=qie(),i=fu(),s=Wie(),o=i(function(a){var l=n(a,s);return l.length&&l[0]===a[0]?r(l):[]});e.exports=o}),NGe=Z((t,e)=>{function n(r,i,s,o){for(var a=s-1,l=r.length;++a<l;)if(o(r[a],i))return a;return-1}e.exports=n}),EGe=Z((t,e)=>{var n=Bl(),r=Vie(),i=NGe(),s=Hd(),o=gk(),a=Array.prototype,l=a.splice;function c(u,d,f,h){var m=h?i:r,g=-1,y=d.length,O=u;for(u===d&&(d=o(d)),f&&(O=n(u,s(f)));++g<y;)for(var b=0,w=d[g],x=f?f(w):w;(b=m(O,x,b,h))>-1;)O!==u&&l.call(O,b,1),l.call(u,b,1);return u}e.exports=c}),_Ge=Z((t,e)=>{var n=EGe();function r(i,s){return i&&i.length&&s&&s.length?n(i,s):i}e.exports=r}),wk=Z((t,e)=>{var n=UQ(),r=nI(),i=_ie(),s=or();function o(a,l){var c=s(a)?n:r;return c(a,i(l))}e.exports=o}),TGe=Z((t,e)=>{var n=dk(),r=dI(),i=fI(),s=Bl(),o=Hd(),a=fk(),l=200;function c(u,d,f,h){var m=-1,g=r,y=!0,O=u.length,b=[],w=d.length;if(!O)return b;f&&(d=s(d,o(f))),h?(g=i,y=!1):d.length>=l&&(g=a,y=!1,d=new n(d));e:for(;++m<O;){var x=u[m],v=f==null?x:f(x);if(x=h||x!==0?x:0,y&&v===v){for(var k=w;k--;)if(d[k]===v)continue e;b.push(x)}else g(d,v,h)||b.push(x)}return b}e.exports=c}),AGe=Z((t,e)=>{var n=TGe(),r=fu(),i=bk(),s=r(function(o,a){return i(o)?n(o,a):[]});e.exports=s}),Xie=Z((t,e)=>{var n=HQ(),r=uI(),i=du(),s=xk(),o=mI(),a=AGe();function l(O){for(let b in O)d(O,b)&&g(O[b])&&delete O[b];return O}var c=O=>s(r(O.map(f))),u=(O,b)=>O.map(w=>w&&w[b]),d=(O,b)=>Object.prototype.hasOwnProperty.call(O,b),f=O=>i(O)||Array.isArray(O)?Object.keys(O):[],h=O=>O!==void 0,m=O=>i(O)||O===!0||O===!1,g=O=>!f(O).length&&O!==!1&&O!==!0,y=(O,...b)=>a.apply(null,[O].concat(n(b)));e.exports={allUniqueKeys:c,deleteUndefinedProps:l,getValues:u,has:d,isEmptySchema:g,isSchema:m,keys:f,notUndefined:h,uniqWith:o,withoutArr:y}}),RGe=Z((t,e)=>{var n=gI(),r=wk(),{allUniqueKeys:i,deleteUndefinedProps:s,getValues:o,keys:a,notUndefined:l,uniqWith:c,withoutArr:u}=Xie();function d(h){r(h,function(m,g){m===!1&&delete h[g]})}function f(h,m){return i(h).reduce(function(g,y){let O=o(h,y),b=c(O.filter(l),n);return g[y]=m(b,y),g},{})}e.exports={keywords:["properties","patternProperties","additionalProperties"],resolver(h,m,g,y){y.ignoreAdditionalProperties||(h.forEach(function(b){let w=h.filter(k=>k!==b),x=a(b.properties),v=a(b.patternProperties).map(k=>new RegExp(k));w.forEach(function(k){let $=a(k.properties),C=$.filter(N=>v.some(P=>P.test(N)));u($,x,C).forEach(function(N){k.properties[N]=g.properties([k.properties[N],b.additionalProperties],N)})})}),h.forEach(function(b){let w=h.filter(v=>v!==b),x=a(b.patternProperties);b.additionalProperties===!1&&w.forEach(function(v){let k=a(v.patternProperties);u(k,x).forEach($=>delete v.patternProperties[$])})}));let O={additionalProperties:g.additionalProperties(h.map(b=>b.additionalProperties)),patternProperties:f(h.map(b=>b.patternProperties),g.patternProperties),properties:f(h.map(b=>b.properties),g.properties)};return O.additionalProperties===!1&&d(O.properties),s(O)}}}),MGe=Z((t,e)=>{var n=gI(),r=wk(),{allUniqueKeys:i,deleteUndefinedProps:s,has:o,isSchema:a,notUndefined:l,uniqWith:c}=Xie();function u(m){r(m,function(g,y){g===!1&&m.splice(y,1)})}function d(m,g){return m.map(function(y){if(y)if(Array.isArray(y.items)){let O=y.items[g];if(a(O))return O;if(o(y,"additionalItems"))return y.additionalItems}else return y.items})}function f(m){return m.map(function(g){if(g)return Array.isArray(g.items)?g.additionalItems:g.items})}function h(m,g,y){return i(y).reduce(function(O,b){let w=d(m,b),x=c(w.filter(l),n);return O[b]=g(x,b),O},[])}e.exports={keywords:["items","additionalItems"],resolver(m,g,y){let O=m.map(v=>v.items),b=O.filter(l),w={};b.every(a)?w.items=y.items(O):w.items=h(m,y.items,O);let x;return b.every(Array.isArray)?x=m.map(v=>v.additionalItems):b.some(Array.isArray)&&(x=f(m)),x&&(w.additionalItems=y.additionalItems(x)),w.additionalItems===!1&&Array.isArray(w.items)&&u(w.items),s(w)}}}),QGe=Z((t,e)=>{var n=pI(),r=gI(),i=kGe(),s=PGe(),o=HQ(),a=uI(),l=jGe(),c=zie(),u=ql(),d=du(),f=_Ge(),h=Bie(),m=xk(),g=mI(),y=RGe(),O=MGe(),b=(B,ie)=>B.indexOf(ie)!==-1,w=B=>d(B)||B===!0||B===!1,x=B=>B===!1,v=B=>B===!0,k=(B,ie,ce)=>ce(B),$=B=>h(m(a(B))),C=B=>B!==void 0,N=B=>m(a(B.map(V))),P=B=>B[0],R=B=>$(B),T=B=>Math.max.apply(Math,B),A=B=>Math.min.apply(Math,B),j=B=>B.some(v),E=B=>g(o(B),u);function _(B){return function(ie,ce){return r({[B]:ie},{[B]:ce})}}function Q(B){let{allOf:ie=[],...ce}=B;return ce=d(B)?ce:B,[ce,...ie.map(Q)]}function M(B,ie){return B.map(ce=>ce&&ce[ie])}function L(B,ie){return B.map(function(ce,de){try{return ie(ce,de)}catch{return}}).filter(C)}function V(B){return d(B)||Array.isArray(B)?Object.keys(B):[]}function W(B,ie){if(ie=ie||[],!B.length)return ie;let ce=B.slice(0).shift(),de=B.slice(1);return ie.length?W(de,o(ie.map(z=>ce.map(ne=>[ne].concat(z))))):W(de,ce.map(z=>z))}function H(B,ie){let ce;try{ce=B.map(function(de){return JSON.stringify(de,null,2)}).join(`
`)}catch{ce=B.join(", ")}throw new Error('Could not resolve values for path:"'+ie.join(".")+`". They are probably incompatible. Values: 
`+ce)}function le(B,ie,ce,de,z,ne){if(B.length){let X=z.complexResolvers[ie];if(!X||!X.resolver)throw new Error("No resolver found for "+ie);let ae=ce.map(pe=>B.reduce((me,ue)=>(pe[ue]!==void 0&&(me[ue]=pe[ue]),me),{})),se=g(ae,r),te=X.keywords.reduce((pe,me)=>({...pe,[me]:(ue,he=[])=>de(ue,null,ne.concat(me,he))}),{}),ge=X.resolver(se,ne.concat(ie),te,z);return d(ge)||H(se,ne.concat(ie)),ge}}function fe(B){return{required:B}}var U=["properties","patternProperties","definitions","dependencies"],ee=["anyOf","oneOf"],re=["additionalProperties","additionalItems","contains","propertyNames","not","items"],J={type(B){if(B.some(Array.isArray)){let ie=B.map(function(de){return Array.isArray(de)?de:[de]}),ce=l.apply(null,ie);if(ce.length===1)return ce[0];if(ce.length>1)return m(ce)}},dependencies(B,ie,ce){return N(B).reduce(function(de,z){let ne=M(B,z),X=g(ne.filter(C),u),ae=X.filter(Array.isArray);if(ae.length){if(ae.length===X.length)de[z]=$(X);else{let se=X.filter(w),te=ae.map(fe);de[z]=ce(se.concat(te),z)}return de}return X=g(X,r),de[z]=ce(X,z),de},{})},oneOf(B,ie,ce){let de=W(n(B)),z=L(de,ce),ne=g(z,r);if(ne.length)return ne},not(B){return{anyOf:B}},pattern(B){return B.map(ie=>"(?="+ie+")").join("")},multipleOf(B){let ie=B.slice(0),ce=1;for(;ie.some(de=>!Number.isInteger(de));)ie=ie.map(de=>de*10),ce=ce*10;return i(ie)/ce},enum(B){let ie=c.apply(null,B.concat(u));if(ie.length)return h(ie)}};J.$id=P,J.$ref=P,J.$schema=P,J.additionalItems=k,J.additionalProperties=k,J.anyOf=J.oneOf,J.contains=k,J.default=P,J.definitions=J.dependencies,J.description=P,J.examples=E,J.exclusiveMaximum=A,J.exclusiveMinimum=T,J.items=O,J.maximum=A,J.maxItems=A,J.maxLength=A,J.maxProperties=A,J.minimum=T,J.minItems=T,J.minLength=T,J.minProperties=T,J.properties=y,J.propertyNames=k,J.required=R,J.title=P,J.uniqueItems=j;var q={properties:y,items:O};function oe(B,ie,ce){ie=s(ie,{ignoreAdditionalProperties:!1,resolvers:J,complexResolvers:q,deep:!0});let de=Object.entries(ie.complexResolvers);function z(X,ae,se){X=n(X.filter(C)),se=se||[];let te=d(ae)?ae:{};if(!X.length)return;if(X.some(x))return!1;if(X.every(v))return!0;X=X.filter(d);let ge=N(X);if(ie.deep&&b(ge,"allOf"))return oe({allOf:X},ie);let pe=de.map(([me,ue])=>ge.filter(he=>ue.keywords.includes(he)));return pe.forEach(me=>f(ge,me)),ge.forEach(function(me){let ue=M(X,me),he=g(ue.filter(C),_(me));if(he.length===1&&b(ee,me))te[me]=he[0].map(ye=>z([ye],ye));else if(he.length===1&&!b(U,me)&&!b(re,me))te[me]=he[0];else{let ye=ie.resolvers[me]||ie.resolvers.defaultResolver;if(!ye)throw new Error("No resolver found for key "+me+". You can provide a resolver for this keyword in the options, or provide a default resolver.");let ke=(Pe,et=[])=>z(Pe,null,se.concat(me,et));te[me]=ye(he,se.concat(me),ke,ie),te[me]===void 0?H(he,se.concat(me)):te[me]===void 0&&delete te[me]}}),de.reduce((me,[ue,he],ye)=>({...me,...le(pe[ye],ue,X,z,ie,se)}),te)}let ne=a(Q(B));return z(ne)}oe.options={resolvers:J},e.exports=oe});function Qd(t){let e,n=(0,Gie.default)(t,"discriminator.propertyName",void 0);return(0,Yie.default)(n)?e=n:n!==void 0&&console.warn(`Expecting discriminator to be a string, got "${typeof n}" instead`),e}var Gie,Yie,rb=D(()=>{Gie=Ee(ar()),Yie=Ee(tI())});function My(t){return Array.isArray(t)?"array":typeof t=="string"?"string":t==null?"null":typeof t=="boolean"?"boolean":isNaN(t)?typeof t=="object"?"object":"string":"number"}var vk=D(()=>{}),IGe=Z((t,e)=>{var n=yk(),r=fu(),i=hI(),s=bk(),o=r(function(a){return i(n(a,1,s,!0))});e.exports=o});function Jc(t){let{type:e}=t;return!e&&t.const?My(t.const):!e&&t.enum?"string":!e&&(t.properties||t.additionalProperties)?"object":(Array.isArray(e)&&(e.length===2&&e.includes("null")?e=e.find(n=>n!=="null"):e=e[0]),e)}var nm=D(()=>{vk()});function ha(t,e){let n=Object.assign({},t);return Object.keys(e).reduce((r,i)=>{let s=t?t[i]:{},o=e[i];return t&&i in t&&Dt(o)?r[i]=ha(s,o):t&&e&&(Jc(t)==="object"||Jc(e)==="object")&&i===Vre&&Array.isArray(s)&&Array.isArray(o)?r[i]=(0,Hie.default)(s,o):r[i]=o,r},n)}var Hie,OI=D(()=>{Hie=Ee(IGe()),rn(),nm(),Sa()});function Qi(t,e,n={},r,i){return Ho(t,e,n,r,void 0,void 0,i)[0]}function DGe(t,e,n,r,i,s,o){let{if:a,then:l,else:c,...u}=e,d=t.isValid(a,s||{},n),f=[u],h=[];if(r)l&&typeof l!="boolean"&&(h=h.concat(Ho(t,l,n,s,r,i,o))),c&&typeof c!="boolean"&&(h=h.concat(Ho(t,c,n,s,r,i,o)));else{let m=d?l:c;m&&typeof m!="boolean"&&(h=h.concat(Ho(t,m,n,s,r,i,o)))}return h.length&&(f=h.map(m=>ha(u,m))),f.flatMap(m=>Ho(t,m,n,s,r,i,o))}function Jie(t){return t.reduce((e,n)=>n.length>1?n.flatMap(r=>(0,ise.default)(e.length,i=>[...e[i]].concat(r))):(e.forEach(r=>r.push(n[0])),e),[[]])}function LGe(t,e,n,r,i,s,o){let a=Kie(t,e,n,r,i,s);if(a.length>1||a[0]!==e)return a;if(GO in e)return ese(t,e,n,r,i,s).flatMap(l=>Ho(t,l,n,s,r,i,o));if(Zp in e&&Array.isArray(e.allOf)){let l=e.allOf.map(c=>Ho(t,c,n,s,r,i,o));return Jie(l).map(c=>({...e,allOf:c}))}return[e]}function Kie(t,e,n,r,i,s,o){let a=Qy(e,n,i);return a!==e?Ho(t,a,n,s,r,i,o):[e]}function Qy(t,e,n){if(!Dt(t))return t;let r=t;if(Zn in r){let{$ref:i,...s}=r;if(n.includes(i))return r;n.push(i),r={...wie(i,e),...s}}if(mn in r){let i=[],s=(0,sse.default)(r[mn],(o,a,l)=>{let c=[...n];o[l]=Qy(a,e,c),i.push(c)},{});(0,ose.default)(n,(0,lse.default)((0,ase.default)(i))),r={...r,[mn]:s}}return yl in r&&!Array.isArray(r.items)&&typeof r.items!="boolean"&&(r={...r,items:Qy(r.items,e,n)}),(0,nse.default)(t,r)?t:r}function FGe(t,e,n,r){let i={...e,properties:{...e.properties}},s=r&&Dt(r)?r:{};return Object.keys(s).forEach(o=>{if(o in i.properties)return;let a={};typeof i.additionalProperties!="boolean"?Zn in i.additionalProperties?a=Qi(t,{$ref:(0,$g.default)(i.additionalProperties,[Zn])},n,s):"type"in i.additionalProperties?a={...i.additionalProperties}:Hr in i.additionalProperties||yr in i.additionalProperties?a={type:"object",...i.additionalProperties}:a={type:My((0,$g.default)(s,[o]))}:a={type:My((0,$g.default)(s,[o]))},i.properties[o]=a,(0,rse.default)(i.properties,[o,zp],!0)}),i}function Ho(t,e,n,r,i=!1,s=[],o){return Dt(e)?LGe(t,e,n,i,s,r).flatMap(a=>{var l;let c=a;if(Lre in c)return DGe(t,c,n,i,s,r,o);if(Zp in c){if(i){let{allOf:u,...d}=c;return[...u,d]}try{let u=[],d=[];(l=c.allOf)===null||l===void 0||l.forEach(f=>{typeof f=="object"&&f.contains?u.push(f):d.push(f)}),u.length&&(c={...c,allOf:d}),c=o?o(c):(0,cse.default)(c,{deep:!1}),u.length&&(c.allOf=u)}catch(u){console.warn(`could not merge subschemas in allOf:
`,u);let{allOf:d,...f}=c;return f}}return D0 in c&&c.additionalProperties!==!1?FGe(t,c,n,r):c}):[{}]}function VGe(t,e,n,r,i){let s,{oneOf:o,anyOf:a,...l}=e;if(Array.isArray(o)?s=o:Array.isArray(a)&&(s=a),s){let c=i===void 0&&r?{}:i,u=Qd(e);s=s.map(f=>Qy(f,n,[]));let d=sI(t,c,s,n,u);if(r)return s.map(f=>ha(l,f));e=ha(l,s[d])}return[e]}function ese(t,e,n,r,i,s,o){let{dependencies:a,...l}=e;return VGe(t,l,n,r,s).flatMap(c=>tse(t,a,c,n,r,i,s,o))}function tse(t,e,n,r,i,s,o,a){let l=[n];for(let c in e){if(!i&&(0,$g.default)(o,[c])===void 0||n.properties&&!(c in n.properties))continue;let[u,d]=KQ(c,e);return Array.isArray(d)?l[0]=BGe(n,d):Dt(d)&&(l=qGe(t,n,r,c,d,i,s,o,a)),l.flatMap(f=>tse(t,u,f,r,i,s,o,a))}return l}function BGe(t,e){if(!e)return t;let n=Array.isArray(t.required)?Array.from(new Set([...t.required,...e])):e;return{...t,required:n}}function qGe(t,e,n,r,i,s,o,a,l){return Ho(t,i,n,a,s,o,l).flatMap(c=>{let{oneOf:u,...d}=c;if(e=ha(e,d),u===void 0)return e;let f=u.map(h=>typeof h=="boolean"||!(Zn in h)?[h]:Kie(t,h,n,s,o,a));return Jie(f).flatMap(h=>WGe(t,e,n,r,h,s,o,a,l))})}function WGe(t,e,n,r,i,s,o,a,l){let c=i.filter(u=>{if(typeof u=="boolean"||!u||!u.properties)return!1;let{[r]:d}=u.properties;if(d){let f={type:"object",properties:{[r]:d}};return t.isValid(f,a,n)||s}return!1});return!s&&c.length!==1?(console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[e]):c.flatMap(u=>{let d=u,[f]=KQ(r,d.properties),h={...d,properties:f};return Ho(t,h,n,a,s,o,l).map(m=>ha(e,m))})}var $g,nse,rse,ise,sse,ose,ase,lse,cse,Wl=D(()=>{$g=Ee(ar()),nse=Ee(ql()),rse=Ee(tm()),ise=Ee(Tie()),sse=Ee(sGe()),ose=Ee(lGe()),ase=Ee(uI()),lse=Ee(xk()),cse=Ee(QGe()),rn(),eI(),rb(),vk(),Sa(),OI(),oI()});function a_(t,e,n,r){let i=0;return n&&((0,c_.default)(n.properties)?i+=(0,fse.default)(n.properties,(s,o,a)=>{let l=(0,l_.default)(r,a);if(typeof o=="boolean")return s;if((0,eg.default)(o,Zn)){let c=Qi(t,o,e,l);return s+a_(t,e,c,l||{})}if(((0,eg.default)(o,yr)||(0,eg.default)(o,Hr))&&l){let c=(0,eg.default)(o,yr)?yr:Hr,u=Qd(o);return s+Iy(t,e,l,(0,l_.default)(o,c),-1,u)}if(o.type==="object")return(0,c_.default)(l)&&(s+=1),s+a_(t,e,o,l);if(o.type===My(l)){let c=s+1;return o.default?c+=l===o.default?1:-1:o.const&&(c+=l===o.const?1:-1),c}return s},0):(0,dse.default)(n.type)&&n.type===My(r)&&(i+=1)),i}function Iy(t,e,n,r,i=-1,s){let o=r.map(d=>Qy(d,e,[])),a=Aie(n,r,s);if((0,use.default)(a))return a;let l=o.reduce((d,f,h)=>(sI(t,n,[pse,f],e,s)===1&&d.push(h),d),[]);if(l.length===1)return l[0];l.length||(0,hse.default)(o.length,d=>l.push(d));let c=new Set,{bestIndex:u}=l.reduce((d,f)=>{let{bestScore:h}=d,m=o[f],g=a_(t,e,m,n);return c.add(g),g>h?{bestIndex:f,bestScore:g}:d},{bestIndex:i,bestScore:0});return c.size===1&&i>=0?i:u}var l_,eg,use,c_,dse,fse,hse,pse,bI=D(()=>{l_=Ee(ar()),eg=Ee(Ok()),use=Ee($ie()),c_=Ee(Xn()),dse=Ee(tI()),fse=Ee(KXe()),hse=Ee(Tie()),oI(),Wl(),rn(),vk(),rb(),iI(),pse={type:"object",$id:Fre,properties:{__not_really_there__:{type:"number"}}}});function u_(t){return Array.isArray(t.items)&&t.items.length>0&&t.items.every(e=>Dt(e))}var mse=D(()=>{Sa()});function L0(t,e,n=!1,r=!1){if(Array.isArray(e)){let i=Array.isArray(t)?t:[],s=e.map((o,a)=>i[a]?L0(i[a],o,n,r):o);return n&&s.length<i.length&&s.push(...i.slice(s.length)),s}if(Dt(e)){let i=Object.assign({},t);return Object.keys(e).reduce((s,o)=>(s[o]=L0(t?(0,d_.default)(t,o):{},(0,d_.default)(e,o),n,r),s),i)}return r&&e===void 0?t:e}var d_,gse=D(()=>{d_=Ee(ar()),Sa()});function Tc(t,e,n=!1){return Object.keys(e).reduce((r,i)=>{let s=t?t[i]:{},o=e[i];if(t&&i in t&&Dt(o))r[i]=Tc(s,o,n);else if(n&&Array.isArray(s)&&Array.isArray(o)){let a=o;n==="preventDuplicates"&&(a=o.reduce((l,c)=>(s.includes(c)||l.push(c),l),[])),r[i]=s.concat(a)}else r[i]=o;return r},Object.assign({},t))}var Sk=D(()=>{Sa()});function yse(t){return Array.isArray(t.enum)&&t.enum.length===1||op in t}var xI=D(()=>{rn()});function Ose(t,e,n={}){let r=Qi(t,e,n,void 0),i=r.oneOf||r.anyOf;return Array.isArray(r.enum)?!0:Array.isArray(i)?i.every(s=>typeof s!="boolean"&&yse(s)):!1}var bse=D(()=>{xI(),Wl()});function wI(t,e,n){return!e.uniqueItems||!e.items||typeof e.items=="boolean"?!1:Ose(t,e.items,n)}var vI=D(()=>{bse()});function XP(t,e=ap.Ignore,n=-1){if(n>=0){if(Array.isArray(t.items)&&n<t.items.length){let r=t.items[n];if(typeof r!="boolean")return r}}else if(t.items&&!Array.isArray(t.items)&&typeof t.items!="boolean")return t.items;return e!==ap.Ignore&&Dt(t.additionalItems)?t.additionalItems:{}}function FW(t,e,n,r,i,s=[],o={},a=!1){let{emptyObjectFields:l="populateAllDefaults"}=o;if(r||a)t[e]=n;else if(l!=="skipDefaults")if(Dt(n)){let c=i===void 0?s.includes(e):i;l==="skipEmptyDefaults"?(0,Dy.default)(n)||(t[e]=n):(!(0,Dy.default)(n)||s.includes(e))&&(c||l!=="populateRequiredDefaults")&&(t[e]=n)}else n!==void 0&&(l==="populateAllDefaults"||l==="skipEmptyDefaults"||s.includes(e))&&(t[e]=n)}function Ac(t,e,n={}){let{parentDefaults:r,rawFormData:i,rootSchema:s={},includeUndefinedValues:o=!1,_recurseList:a=[],experimental_defaultFormStateBehavior:l=void 0,experimental_customMergeAllOf:c=void 0,required:u}=n,d=Dt(i)?i:{},f=Dt(e)?e:{},h=r,m=null,g=a;if(yse(f))h=f.const;else if(Dt(h)&&Dt(f.default))h=Tc(h,f.default);else if(Ire in f)h=f.default;else if(Zn in f){let O=f[Zn];a.includes(O)||(g=a.concat(O),m=wie(O,s))}else if(GO in f){let O={...VW(t,f,n,h),...d};m=ese(t,f,s,!1,[],O,c)[0]}else if(u_(f))h=f.items.map((O,b)=>Ac(t,O,{rootSchema:s,includeUndefinedValues:o,_recurseList:a,experimental_defaultFormStateBehavior:l,parentDefaults:Array.isArray(r)?r[b]:void 0,rawFormData:d,required:u}));else if(yr in f){let{oneOf:O,...b}=f;if(O.length===0)return;let w=Qd(f);m=O[Iy(t,s,(0,Dy.default)(d)?void 0:d,O,0,w)],m=ha(b,m)}else if(Hr in f){let{anyOf:O,...b}=f;if(O.length===0)return;let w=Qd(f);m=O[Iy(t,s,(0,Dy.default)(d)?void 0:d,O,0,w)],m=ha(b,m)}return m?Ac(t,m,{rootSchema:s,includeUndefinedValues:o,_recurseList:g,experimental_defaultFormStateBehavior:l,parentDefaults:h,rawFormData:d,required:u}):(h===void 0&&(h=f.default),VW(t,f,n,h)??h)}function zGe(t,e,{rawFormData:n,rootSchema:r={},includeUndefinedValues:i=!1,_recurseList:s=[],experimental_defaultFormStateBehavior:o=void 0,experimental_customMergeAllOf:a=void 0,required:l}={},c){{let u=Dt(n)?n:{},d=e,f=(o==null?void 0:o.allOf)==="populateDefaults"&&Zp in d?Qi(t,d,r,u,a):d,h=f[op],m=Object.keys(f.properties||{}).reduce((g,y)=>{var O;let b=(0,Fu.default)(f,[mn,y]),w=Dt(h)&&h[y]!==void 0,x=Dt(b)&&op in b||w,v=Ac(t,b,{rootSchema:r,_recurseList:s,experimental_defaultFormStateBehavior:o,experimental_customMergeAllOf:a,includeUndefinedValues:i===!0,parentDefaults:(0,Fu.default)(c,[y]),rawFormData:(0,Fu.default)(u,[y]),required:(O=f.required)===null||O===void 0?void 0:O.includes(y)});return FW(g,y,v,i,l,f.required,o,x),g},{});if(f.additionalProperties){let g=Dt(f.additionalProperties)?f.additionalProperties:{},y=new Set;Dt(c)&&Object.keys(c).filter(b=>!f.properties||!f.properties[b]).forEach(b=>y.add(b));let O=[];Object.keys(u).filter(b=>!f.properties||!f.properties[b]).forEach(b=>{y.add(b),O.push(b)}),y.forEach(b=>{var w;let x=Ac(t,g,{rootSchema:r,_recurseList:s,experimental_defaultFormStateBehavior:o,includeUndefinedValues:i===!0,parentDefaults:(0,Fu.default)(c,[b]),rawFormData:(0,Fu.default)(u,[b]),required:(w=f.required)===null||w===void 0?void 0:w.includes(b)});FW(m,b,x,i,l,O)})}return m}}function ZGe(t,e,{rawFormData:n,rootSchema:r={},_recurseList:i=[],experimental_defaultFormStateBehavior:s=void 0,required:o}={},a){var l,c,u,d;let f=e,h=((l=s==null?void 0:s.arrayMinItems)===null||l===void 0?void 0:l.populate)==="never",m=((c=s==null?void 0:s.arrayMinItems)===null||c===void 0?void 0:c.populate)==="requiredOnly",g=(s==null?void 0:s.emptyObjectFields)==="skipEmptyDefaults",y=(d=(u=s==null?void 0:s.arrayMinItems)===null||u===void 0?void 0:u.computeSkipPopulate)!==null&&d!==void 0?d:()=>!1,O=g?void 0:[];if(Array.isArray(a)&&(a=a.map(($,C)=>{let N=XP(f,ap.Fallback,C);return Ac(t,N,{rootSchema:r,_recurseList:i,experimental_defaultFormStateBehavior:s,parentDefaults:$,required:o})})),Array.isArray(n)){let $=XP(f);h?a=n:a=n.map((C,N)=>Ac(t,$,{rootSchema:r,_recurseList:i,experimental_defaultFormStateBehavior:s,rawFormData:C,parentDefaults:(0,Fu.default)(a,[N]),required:o}))}if((Dt(f)&&op in f)===!1){if(h)return a??O;if(m&&!o)return a||void 0}let b=Array.isArray(a)?a.length:0;if(!f.minItems||wI(t,f,r)||y(t,f,r)||f.minItems<=b)return a||O;let w=a||[],x=XP(f,ap.Invert),v=x.default,k=new Array(f.minItems-b).fill(Ac(t,x,{parentDefaults:v,rootSchema:r,_recurseList:i,experimental_defaultFormStateBehavior:s,required:o}));return w.concat(k)}function VW(t,e,n={},r){switch(Jc(e)){case"object":return zGe(t,e,n,r);case"array":return ZGe(t,e,n,r)}}function UGe(t,e,n,r,i=!1,s,o){if(!Dt(e))throw new Error("Invalid schema: "+e);let a=Qi(t,e,r,n,o),l=Ac(t,a,{rootSchema:r,includeUndefinedValues:i,experimental_defaultFormStateBehavior:s,experimental_customMergeAllOf:o,rawFormData:n});if(n==null||typeof n=="number"&&isNaN(n))return l;let{mergeDefaultsIntoFormData:c,arrayMinItems:u={}}=s||{},{mergeExtraDefaults:d}=u,f=c==="useDefaultIfFormDataUndefined";return Dt(n)||Array.isArray(n)?L0(l,n,d,f):n}var Fu,Dy,ap,XGe=D(()=>{Fu=Ee(ar()),Dy=Ee(tb()),rn(),eI(),bI(),rb(),nm(),Sa(),mse(),gse(),Sk(),OI(),vI(),Wl(),xI(),function(t){t[t.Ignore=0]="Ignore",t[t.Invert=1]="Invert",t[t.Fallback=2]="Fallback"}(ap||(ap={}))});function xse(t={}){return"widget"in mt(t)&&mt(t).widget!=="hidden"}var wse=D(()=>{Up()});function vse(t,e,n={},r){if(n[rk]==="files")return!0;if(e.items){let i=Qi(t,e.items,r);return i.type==="string"&&i.format==="data-url"}return!1}var Sse=D(()=>{rn(),Wl()});function GGe(t,e,n={},r,i){let s=mt(n,i),{label:o=!0}=s,a=!!o,l=Jc(e);return l==="array"&&(a=wI(t,e,r)||vse(t,e,n,r)||xse(n)),l==="object"&&(a=!1),l==="boolean"&&!n[rk]&&(a=!1),n[Bre]&&(a=!1),a}var YGe=D(()=>{rn(),nm(),Up(),wse(),Sse(),vI()});function HGe(t,e,n){if(!n)return e;let{errors:r,errorSchema:i}=e,s=t.toErrorList(n),o=n;return(0,kse.default)(i)||(o=Tc(i,n,!0),s=[...r].concat(s)),{errorSchema:o,errors:s}}var kse,JGe=D(()=>{kse=Ee(tb()),Sk()});function f_(t,e,n,r,i={}){let s;if((0,La.default)(n,mn)){let o={};if((0,La.default)(r,mn)){let c=(0,Cn.default)(r,mn,{});Object.keys(c).forEach(u=>{(0,La.default)(i,u)&&(o[u]=void 0)})}let a=Object.keys((0,Cn.default)(n,mn,{})),l={};a.forEach(c=>{let u=(0,Cn.default)(i,c),d=(0,Cn.default)(r,[mn,c],{}),f=(0,Cn.default)(n,[mn,c],{});(0,La.default)(d,Zn)&&(d=Qi(t,d,e,u)),(0,La.default)(f,Zn)&&(f=Qi(t,f,e,u));let h=(0,Cn.default)(d,"type"),m=(0,Cn.default)(f,"type");if(!h||h===m)if((0,La.default)(o,c)&&delete o[c],m==="object"||m==="array"&&Array.isArray(u)){let g=f_(t,e,f,d,u);(g!==void 0||m==="array")&&(l[c]=g)}else{let g=(0,Cn.default)(f,"default",Nu),y=(0,Cn.default)(d,"default",Nu);g!==Nu&&g!==u&&(y===u?o[c]=g:(0,Cn.default)(f,"readOnly")===!0&&(o[c]=void 0));let O=(0,Cn.default)(f,"const",Nu),b=(0,Cn.default)(d,"const",Nu);O!==Nu&&O!==u&&(o[c]=b===u?O:void 0)}}),s={...typeof i=="string"||Array.isArray(i)?void 0:i,...o,...l}}else if((0,Cn.default)(r,"type")==="array"&&(0,Cn.default)(n,"type")==="array"&&Array.isArray(i)){let o=(0,Cn.default)(r,"items"),a=(0,Cn.default)(n,"items");if(typeof o=="object"&&typeof a=="object"&&!Array.isArray(o)&&!Array.isArray(a)){(0,La.default)(o,Zn)&&(o=Qi(t,o,e,i)),(0,La.default)(a,Zn)&&(a=Qi(t,a,e,i));let l=(0,Cn.default)(o,"type"),c=(0,Cn.default)(a,"type");if(!l||l===c){let u=(0,Cn.default)(n,"maxItems",-1);c==="object"?s=i.reduce((d,f)=>{let h=f_(t,e,a,o,f);return h!==void 0&&(u<0||d.length<u)&&d.push(h),d},[]):s=u>0&&i.length>u?i.slice(0,u):i}}else typeof o=="boolean"&&typeof a=="boolean"&&o===a&&(s=i)}return s}var Cn,La,Nu,KGe=D(()=>{Cn=Ee(ar()),La=Ee(Ok()),rn(),Wl(),Nu=Symbol("no Value")});function Qw(t,e,n,r,i,s,o,a=[],l){if(Zn in e||GO in e||Zp in e){let u=Qi(t,e,s,o);if(a.findIndex(d=>(0,$se.default)(d,u))===-1)return Qw(t,u,n,r,i,s,o,a.concat(u))}if(yl in e&&!(0,tg.default)(e,[yl,Zn]))return Qw(t,(0,tg.default)(e,yl),n,r,i,s,o,a);let c={$id:i||n};if(Jc(e)==="object"&&mn in e)for(let u in e.properties){let d=(0,tg.default)(e,[mn,u]),f=c[Ay]+r+u;c[u]=Qw(t,Dt(d)?d:{},n,r,f,s,(0,tg.default)(o,[u]),a)}return c}function eYe(t,e,n,r,i,s="root",o="_",a){return Qw(t,e,s,o,n,r,i,void 0)}var tg,$se,tYe=D(()=>{tg=Ee(ar()),$se=Ee(ql()),rn(),Sa(),Wl(),nm()});function Eu(t,e,n,r,i,s=[]){if(Zn in e||GO in e||Zp in e){let a=Qi(t,e,r,i);if(s.findIndex(l=>(0,Cse.default)(l,a))===-1)return Eu(t,a,n,r,i,s.concat(a))}let o={[kg]:n.replace(/^\./,"")};if(yr in e||Hr in e){let a=yr in e?e.oneOf:e.anyOf,l=Qd(e),c=Iy(t,r,i,a,0,l),u=a[c];o={...o,...Eu(t,u,n,r,i,s)}}if(D0 in e&&e[D0]!==!1&&(0,Pse.default)(o,IQ,!0),yl in e&&Array.isArray(i)){let{items:a,additionalItems:l}=e;Array.isArray(a)?i.forEach((c,u)=>{a[u]?o[u]=Eu(t,a[u],`${n}.${u}`,r,c,s):l?o[u]=Eu(t,l,`${n}.${u}`,r,c,s):console.warn(`Unable to generate path schema for "${n}.${u}". No schema defined for it`)}):i.forEach((c,u)=>{o[u]=Eu(t,a,`${n}.${u}`,r,c,s)})}else if(mn in e)for(let a in e.properties){let l=(0,h_.default)(e,[mn,a]);o[a]=Eu(t,l,`${n}.${a}`,r,(0,h_.default)(i,[a]),s)}return o}function nYe(t,e,n="",r,i){return Eu(t,e,n,r,i)}var h_,Cse,Pse,rYe=D(()=>{h_=Ee(ar()),Cse=Ee(ql()),Pse=Ee(tm()),rn(),rb(),bI(),Wl()}),jse=D(()=>{XGe(),YGe(),bI(),oI(),Iie(),Sse(),vI(),bse(),JGe(),Wl(),KGe(),tYe(),rYe()});function iYe(t,e,n={},r){return new Nse(t,e,n,r)}var Nse,sYe=D(()=>{zQ(),jse(),Nse=class{constructor(t,e,n,r){this.rootSchema=e,this.validator=t,this.experimental_defaultFormStateBehavior=n,this.experimental_customMergeAllOf=r}getValidator(){return this.validator}doesSchemaUtilsDiffer(t,e,n={},r){return!t||!e?!1:this.validator!==t||!Ar(this.rootSchema,e)||!Ar(this.experimental_defaultFormStateBehavior,n)||this.experimental_customMergeAllOf!==r}getDefaultFormState(t,e,n=!1){return UGe(this.validator,t,e,this.rootSchema,n,this.experimental_defaultFormStateBehavior,this.experimental_customMergeAllOf)}getDisplayLabel(t,e,n){return GGe(this.validator,t,e,this.rootSchema,n)}getClosestMatchingOption(t,e,n,r){return Iy(this.validator,this.rootSchema,t,e,n,r)}getFirstMatchingOption(t,e,n){return sI(this.validator,t,e,this.rootSchema,n)}getMatchingOption(t,e,n){return Rie(this.validator,t,e,this.rootSchema,n)}isFilesArray(t,e){return vse(this.validator,t,e,this.rootSchema)}isMultiSelect(t){return wI(this.validator,t,this.rootSchema)}isSelect(t){return Ose(this.validator,t,this.rootSchema)}mergeValidationData(t,e){return HGe(this.validator,t,e)}retrieveSchema(t,e){return Qi(this.validator,t,this.rootSchema,e,this.experimental_customMergeAllOf)}sanitizeDataForNewSchema(t,e,n){return f_(this.validator,this.rootSchema,t,e,n)}toIdSchema(t,e,n,r="root",i="_"){return eYe(this.validator,t,e,this.rootSchema,n,r,i,this.experimental_customMergeAllOf)}toPathSchema(t,e,n){return nYe(this.validator,t,e,this.rootSchema,n)}}});function oYe(t){var e;if(t.indexOf("data:")===-1)throw new Error("File is invalid: URI must be a dataURI");let n=t.slice(5).split(";base64,");if(n.length!==2)throw new Error("File is invalid: dataURI must be base64");let[r,i]=n,[s,...o]=r.split(";"),a=s||"",l=decodeURI(((e=o.map(c=>c.split("=")).find(([c])=>c==="name"))===null||e===void 0?void 0:e[1])||"unknown");try{let c=atob(i),u=new Array(c.length);for(let d=0;d<c.length;d++)u[d]=c.charCodeAt(d);return{blob:new window.Blob([new Uint8Array(u)],{type:a}),name:l}}catch(c){throw new Error("File is invalid: "+c.message)}}var aYe=D(()=>{});function rc(t,e){let n=String(t);for(;n.length<e;)n="0"+n;return n}var SI=D(()=>{});function Ese(t,e){if(t<=0&&e<=0)t=new Date().getFullYear()+t,e=new Date().getFullYear()+e;else if(t<0||e<0)throw new Error(`Both start (${t}) and stop (${e}) must both be <= 0 or > 0, got one of each`);if(t>e)return Ese(e,t).reverse();let n=[];for(let r=t;r<=e;r++)n.push({value:r,label:rc(r,2)});return n}var lYe=D(()=>{SI()});function cYe(t,e){let n=t;if(Array.isArray(e)){let r=n.split(/(%\d)/);e.forEach((i,s)=>{let o=r.findIndex(a=>a===`%${s+1}`);o>=0&&(r[o]=i)}),n=r.join("")}return n}var _se=D(()=>{});function uYe(t,e){return cYe(t,e)}var dYe=D(()=>{_se()});function br(t,e=[],n){if(Array.isArray(t))return t.map(s=>br(s,e)).filter(s=>s!==n);let r=t===""||t===null?-1:Number(t),i=e[r];return i?i.value:n}var kI=D(()=>{});function Tse(t,e,n=[]){let r=br(t,n);return Array.isArray(e)?e.filter(i=>!(0,p_.default)(i,r)):(0,p_.default)(r,e)?void 0:e}var p_,fYe=D(()=>{p_=Ee(ql()),kI()});function ib(t,e){return Array.isArray(e)?e.some(n=>(0,m_.default)(n,t)):(0,m_.default)(e,t)}var m_,Ase=D(()=>{m_=Ee(ql())});function Rse(t,e=[],n=!1){let r=e.map((i,s)=>ib(i.value,t)?String(s):void 0).filter(i=>typeof i<"u");return n?r:r[0]}var hYe=D(()=>{Ase()}),Mse=Z((t,e)=>{function n(r){return r==null}e.exports=n});function Qse(t,e,n=[]){let r=br(t,n);if(!(0,Ise.default)(r)){let i=n.findIndex(o=>r===o.value),s=n.map(({value:o})=>o);return e.slice(0,i).concat(r,e.slice(i)).sort((o,a)=>+(s.indexOf(o)>s.indexOf(a)))}return e}var Ise,pYe=D(()=>{kI(),Ise=Ee(Mse())}),mYe=Z((t,e)=>{var n=aI();function r(i,s,o,a){return a=typeof a=="function"?a:void 0,i==null?i:n(i,s,o,a)}e.exports=r}),BW,GP,YP,qW,Dse,Lse=D(()=>{BW=Ee(pI()),GP=Ee(ar()),YP=Ee(tm()),qW=Ee(mYe()),rn(),Dse=class{constructor(t){this.errorSchema={},this.resetAllErrors(t)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(t){let e=Array.isArray(t)&&t.length>0||typeof t=="string"?(0,GP.default)(this.errorSchema,t):this.errorSchema;return!e&&t&&(e={},(0,qW.default)(this.errorSchema,t,e,Object)),e}resetAllErrors(t){return this.errorSchema=t?(0,BW.default)(t):{},this}addErrors(t,e){let n=this.getOrCreateErrorBlock(e),r=(0,GP.default)(n,cs);return Array.isArray(r)||(r=[],n[cs]=r),Array.isArray(t)?r.push(...t):r.push(t),this}setErrors(t,e){let n=this.getOrCreateErrorBlock(e),r=Array.isArray(t)?[...t]:[t];return(0,YP.default)(n,cs,r),this}clearErrors(t){let e=this.getOrCreateErrorBlock(t);return(0,YP.default)(e,cs,[]),this}}});function gYe(t,e,n=[1900,new Date().getFullYear()+2],r="YMD"){let{day:i,month:s,year:o,hour:a,minute:l,second:c}=t,u={type:"day",range:[1,31],value:i},d={type:"month",range:[1,12],value:s},f={type:"year",range:n,value:o},h=[];switch(r){case"MDY":h.push(d,u,f);break;case"DMY":h.push(u,d,f);break;case"YMD":default:h.push(f,d,u)}return e&&h.push({type:"hour",range:[0,23],value:a},{type:"minute",range:[0,59],value:l},{type:"second",range:[0,59],value:c}),h}var yYe=D(()=>{});function OYe(t){let e={};return t.multipleOf&&(e.step=t.multipleOf),(t.minimum||t.minimum===0)&&(e.min=t.minimum),(t.maximum||t.maximum===0)&&(e.max=t.maximum),e}var Fse=D(()=>{});function Vse(t,e,n={},r=!0){let i={type:e||"text",...OYe(t)};return n.inputType?i.type=n.inputType:e||(t.type==="number"?(i.type="number",r&&i.step===void 0&&(i.step="any")):t.type==="integer"&&(i.type="number",i.step===void 0&&(i.step=1))),n.autocomplete&&(i.autoComplete=n.autocomplete),i}var bYe=D(()=>{Fse()});function xYe(t={}){let e=mt(t);if(e&&e[Ry]){let n=e[Ry];return{...g_,...n}}return g_}var g_,wYe=D(()=>{rn(),Up(),g_={props:{disabled:!1},submitText:"Submit",norender:!1}});function ft(t,e,n={}){let{templates:r}=e;return t==="ButtonTemplates"?r[t]:n[t]||r[t]}var vYe=D(()=>{}),SYe=Z(t=>{var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function y(O){if(typeof O=="object"&&O!==null){var b=O.$$typeof;switch(b){case e:switch(O=O.type,O){case r:case s:case i:case u:case d:return O;default:switch(O=O&&O.$$typeof,O){case l:case a:case c:case h:case f:case o:return O;default:return b}}case n:return b}}}t.ContextConsumer=a,t.ContextProvider=o,t.Element=e,t.ForwardRef=c,t.Fragment=r,t.Lazy=h,t.Memo=f,t.Portal=n,t.Profiler=s,t.StrictMode=i,t.Suspense=u,t.SuspenseList=d,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(O){return y(O)===a},t.isContextProvider=function(O){return y(O)===o},t.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},t.isForwardRef=function(O){return y(O)===c},t.isFragment=function(O){return y(O)===r},t.isLazy=function(O){return y(O)===h},t.isMemo=function(O){return y(O)===f},t.isPortal=function(O){return y(O)===n},t.isProfiler=function(O){return y(O)===s},t.isStrictMode=function(O){return y(O)===i},t.isSuspense=function(O){return y(O)===u},t.isSuspenseList=function(O){return y(O)===d},t.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===s||O===i||O===u||O===d||O===m||typeof O=="object"&&O!==null&&(O.$$typeof===h||O.$$typeof===f||O.$$typeof===o||O.$$typeof===a||O.$$typeof===c||O.$$typeof===g||O.getModuleId!==void 0)},t.typeOf=y}),kYe=Z((t,e)=>{e.exports=SYe()});function $Ye(t){let e=(0,Bse.default)(t,"MergedWidget");if(!e){let n=t.defaultProps&&t.defaultProps.options||{};e=({options:r,...i})=>p.jsx(t,{options:{...n,...r},...i}),(0,qse.default)(t,"MergedWidget",e)}return e}function sa(t,e,n={}){let r=Jc(t);if(typeof e=="function"||e&&y_.default.isForwardRef(S.createElement(e))||y_.default.isMemo(e))return $Ye(e);if(typeof e!="string")throw new Error(`Unsupported widget definition: ${typeof e}`);if(e in n){let i=n[e];return sa(t,i,n)}if(typeof r=="string"){if(!(r in Iw))throw new Error(`No widget for type '${r}'`);if(e in Iw[r]){let i=n[Iw[r][e]];return sa(t,i,n)}}throw new Error(`No widget '${e}' for type '${r}'`)}var y_,Bse,qse,Iw,Wse=D(()=>{y_=Ee(kYe()),Bse=Ee(ar()),qse=Ee(tm()),nm(),Iw={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}}}),zse=D(()=>{});function CYe(t,e,n={}){try{return sa(t,e,n),!0}catch(r){let i=r;if(i.message&&(i.message.startsWith("No widget")||i.message.startsWith("Unsupported widget")))return!1;throw r}}var PYe=D(()=>{Wse()});function sb(t,e){return`${(0,Xse.default)(t)?t:t[Ay]}__${e}`}function rm(t){return sb(t,"description")}function Zse(t){return sb(t,"error")}function Ly(t){return sb(t,"examples")}function Use(t){return sb(t,"help")}function $I(t){return sb(t,"title")}function xo(t,e=!1){let n=e?` ${Ly(t)}`:"";return`${Zse(t)} ${rm(t)} ${Use(t)}${n}`}function kk(t,e){return`${t}-${e}`}var Xse,jYe=D(()=>{Xse=Ee(tI()),rn()});function NYe(t,e,n){return e?n:t}var EYe=D(()=>{});function _Ye(t){return t?new Date(t).toJSON():void 0}var TYe=D(()=>{});function AYe(t){if(Dre in t&&Array.isArray(t.enum)&&t.enum.length===1)return t.enum[0];if(op in t)return t.const;throw new Error("schema cannot be inferred as a constant")}var Gse=D(()=>{rn()});function F0(t,e){let n=t;if(t.enum){let s;if(e){let{enumNames:o}=mt(e);s=o}return!s&&n.enumNames&&(s=n.enumNames),t.enum.map((o,a)=>({label:(s==null?void 0:s[a])||String(o),value:o}))}let r,i;return t.anyOf?(r=t.anyOf,i=e==null?void 0:e.anyOf):t.oneOf&&(r=t.oneOf,i=e==null?void 0:e.oneOf),r&&r.map((s,o)=>{let{title:a}=mt(i==null?void 0:i[o]),l=s,c=AYe(l),u=a||l.title||String(c);return{schema:l,label:u,value:c}})}var RYe=D(()=>{Gse(),Up()});function MYe(t,e){if(!Array.isArray(e))return t;let n=u=>u.reduce((d,f)=>(d[f]=!0,d),{}),r=u=>u.length>1?`properties '${u.join("', '")}'`:`property '${u[0]}'`,i=n(t),s=e.filter(u=>u==="*"||i[u]),o=n(s),a=t.filter(u=>!o[u]),l=s.indexOf("*");if(l===-1){if(a.length)throw new Error(`uiSchema order list does not contain ${r(a)}`);return s}if(l!==s.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");let c=[...s];return c.splice(l,1,...a),c}var QYe=D(()=>{});function HP(t,e=!0){if(!t)return{year:-1,month:-1,day:-1,hour:e?-1:0,minute:e?-1:0,second:e?-1:0};let n=new Date(t);if(Number.isNaN(n.getTime()))throw new Error("Unable to parse date "+t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:e?n.getUTCHours():0,minute:e?n.getUTCMinutes():0,second:e?n.getUTCSeconds():0}}var IYe=D(()=>{});function Dw(t){if(t.const||t.enum&&t.enum.length===1&&t.enum[0]===!0)return!0;if(t.anyOf&&t.anyOf.length===1)return Dw(t.anyOf[0]);if(t.oneOf&&t.oneOf.length===1)return Dw(t.oneOf[0]);if(t.allOf){let e=n=>Dw(n);return t.allOf.some(e)}return!1}var DYe=D(()=>{});function LYe(t,e,n){let{props:r,state:i}=t;return!Ar(r,e)||!Ar(i,n)}var FYe=D(()=>{zQ()});function WW(t,e=!0){let{year:n,month:r,day:i,hour:s=0,minute:o=0,second:a=0}=t,l=Date.UTC(n,r-1,i,s,o,a),c=new Date(l).toJSON();return e?c:c.slice(0,10)}var VYe=D(()=>{});function V0(t,e=[]){if(!t)return[];let n=[];return cs in t&&(n=n.concat(t[cs].map(r=>{let i=`.${e.join(".")}`;return{property:i,message:r,stack:`${i} ${r}`}}))),Object.keys(t).reduce((r,i)=>{if(i!==cs){let s=t[i];(0,Yse.default)(s)&&(r=r.concat(V0(s,[...e,i])))}return r},n)}var Yse,Hse=D(()=>{Yse=Ee(du()),rn()}),Jse=Z((t,e)=>{var n=Bl(),r=gk(),i=or(),s=Hp(),o=iie(),a=Kd(),l=sie();function c(u){return i(u)?n(u,a):s(u)?[u]:r(o(l(u)))}e.exports=c});function BYe(t){let e=new Dse;return t.length&&t.forEach(n=>{let{property:r,message:i}=n,s=r==="."?[]:(0,Kse.default)(r);s.length>0&&s[0]===""&&s.splice(0,1),i&&e.addErrors(i,s)}),e.ErrorSchema}var Kse,qYe=D(()=>{Kse=Ee(Jse()),Lse()}),WYe=D(()=>{Ee(du())});function zYe(t){if(!t)return"";let e=new Date(t),n=rc(e.getFullYear(),4),r=rc(e.getMonth()+1,2),i=rc(e.getDate(),2),s=rc(e.getHours(),2),o=rc(e.getMinutes(),2),a=rc(e.getSeconds(),2),l=rc(e.getMilliseconds(),3);return`${n}-${r}-${i}T${s}:${o}:${a}.${l}`}var ZYe=D(()=>{SI()});function JP(t,e){if(!e)return t;let{errors:n,errorSchema:r}=t,i=V0(e),s=e;return(0,eoe.default)(r)||(s=Tc(r,e,!0),i=[...n].concat(i)),{errorSchema:s,errors:i}}var eoe,UYe=D(()=>{eoe=Ee(tb()),Sk(),Hse()}),XYe=D(()=>{rn(),Ee(Xn())}),GYe=D(()=>{}),Pt,YYe=D(()=>{(function(t){t.ArrayItemTitle="Item",t.MissingItems="Missing items definition",t.YesLabel="Yes",t.NoLabel="No",t.CloseLabel="Close",t.ErrorsLabel="Errors",t.NewStringDefault="New Value",t.AddButton="Add",t.AddItemButton="Add Item",t.CopyButton="Copy",t.MoveDownButton="Move down",t.MoveUpButton="Move up",t.RemoveButton="Remove",t.NowLabel="Now",t.ClearLabel="Clear",t.AriaDateLabel="Select a date",t.PreviewLabel="Preview",t.DecrementAriaLabel="Decrease value by 1",t.IncrementAriaLabel="Increase value by 1",t.UnknownFieldType="Unknown field type %1",t.OptionPrefix="Option %1",t.TitleOptionPrefix="%1 option %2",t.KeyLabel="%1 Key",t.InvalidObjectField='Invalid "%1" object field configuration: _%2_.',t.UnsupportedField="Unsupported field schema.",t.UnsupportedFieldWithId="Unsupported field schema for field `%1`.",t.UnsupportedFieldWithReason="Unsupported field schema: _%1_.",t.UnsupportedFieldWithIdAndReason="Unsupported field schema for field `%1`: _%2_.",t.FilesInfo="**%1** (%2, %3 bytes)"})(Pt||(Pt={}))}),HYe=D(()=>{Ee(ar()),Ee(ql()),rn(),zse()}),JYe=D(()=>{Ee(wk()),Ee(ql()),rn(),HYe(),Wl()}),KYe=D(()=>{JYe()}),Xe=D(()=>{x8e(),w8e(),v8e(),$8e(),sYe(),aYe(),lYe(),zQ(),dYe(),fYe(),hYe(),Ase(),pYe(),kI(),Lse(),eI(),yYe(),rb(),bYe(),nm(),wYe(),vYe(),Up(),Wse(),vk(),zse(),PYe(),jYe(),xI(),wse(),mse(),Sa(),EYe(),TYe(),gse(),Sk(),OI(),RYe(),QYe(),SI(),IYe(),Fse(),_se(),DYe(),FYe(),Gse(),VYe(),Hse(),qYe(),WYe(),ZYe(),UYe(),XYe(),iI(),GYe(),YYe(),rn(),KYe(),jse()}),eHe=Z((t,e)=>{var n=eb(),r=aI(),i=Jp();function s(o,a,l){for(var c=-1,u=a.length,d={};++c<u;){var f=a[c],h=n(o,f);l(h,f)&&r(d,i(f,o),h)}return d}e.exports=s}),tHe=Z((t,e)=>{var n=eHe(),r=Eie();function i(s,o){return n(s,o,function(a,l){return r(s,l)})}e.exports=i}),nHe=Z((t,e)=>{var n=tHe(),r=bie(),i=r(function(s,o){return s==null?{}:n(s,o)});e.exports=i}),rHe=D(()=>{}),toe,iHe=D(()=>{rHe(),toe=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"")});function O_(){return toe()}function zW(t){return Array.isArray(t)?t.map(e=>({key:O_(),item:e})):[]}function Rm(t){return Array.isArray(t)?t.map(e=>e.item):[]}var ZW,KP,Mm,Eo,UW,noe,sHe=D(()=>{Xe(),ZW=Ee(pI()),KP=Ee(ar()),Mm=Ee(Xn()),Eo=Ee(tm()),iHe(),UW=class extends S.Component{constructor(t){super(t),this._getNewFormDataRow=()=>{let{schema:r,registry:i}=this.props,{schemaUtils:s}=i,o=r.items;return u_(r)&&b8e(r)&&(o=r.additionalItems),s.getDefaultFormState(o)},this.onAddClick=r=>{this._handleAddClick(r)},this.onAddIndexClick=r=>i=>{this._handleAddClick(i,r)},this.onCopyIndexClick=r=>i=>{i&&i.preventDefault();let{onChange:s,errorSchema:o}=this.props,{keyedFormData:a}=this.state,l;if(o){l={};for(let d in o){let f=parseInt(d);f<=r?(0,Eo.default)(l,[f],o[d]):f>r&&(0,Eo.default)(l,[f+1],o[d])}}let c={key:O_(),item:(0,ZW.default)(a[r].item)},u=[...a];r!==void 0?u.splice(r+1,0,c):u.push(c),this.setState({keyedFormData:u,updatedKeyedFormData:!0},()=>s(Rm(u),l))},this.onDropIndexClick=r=>i=>{i&&i.preventDefault();let{onChange:s,errorSchema:o}=this.props,{keyedFormData:a}=this.state,l;if(o){l={};for(let u in o){let d=parseInt(u);d<r?(0,Eo.default)(l,[d],o[u]):d>r&&(0,Eo.default)(l,[d-1],o[u])}}let c=a.filter((u,d)=>d!==r);this.setState({keyedFormData:c,updatedKeyedFormData:!0},()=>s(Rm(c),l))},this.onReorderClick=(r,i)=>s=>{s&&(s.preventDefault(),s.currentTarget.blur());let{onChange:o,errorSchema:a}=this.props,l;if(a){l={};for(let f in a){let h=parseInt(f);h==r?(0,Eo.default)(l,[i],a[r]):h==i?(0,Eo.default)(l,[r],a[i]):(0,Eo.default)(l,[f],a[h])}}let{keyedFormData:c}=this.state;function u(){let f=c.slice();return f.splice(r,1),f.splice(i,0,c[r]),f}let d=u();this.setState({keyedFormData:d},()=>o(Rm(d),l))},this.onChangeForIndex=r=>(i,s,o)=>{let{formData:a,onChange:l,errorSchema:c}=this.props,u=(Array.isArray(a)?a:[]).map((d,f)=>r===f?typeof i>"u"?null:i:d);l(u,c&&c&&{...c,[r]:s},o)},this.onSelectChange=r=>{let{onChange:i,idSchema:s}=this.props;i(r,void 0,s&&s.$id)};let{formData:e=[]}=t,n=zW(e);this.state={keyedFormData:n,updatedKeyedFormData:!1}}static getDerivedStateFromProps(t,e){if(e.updatedKeyedFormData)return{updatedKeyedFormData:!1};let n=Array.isArray(t.formData)?t.formData:[],r=e.keyedFormData||[];return{keyedFormData:n.length===r.length?r.map((i,s)=>({key:i.key,item:n[s]})):zW(n)}}get itemTitle(){let{schema:t,registry:e}=this.props,{translateString:n}=e;return(0,KP.default)(t,[yl,"title"],(0,KP.default)(t,[yl,"description"],n(Pt.ArrayItemTitle)))}isItemRequired(t){return Array.isArray(t.type)?!t.type.includes("null"):t.type!=="null"}canAddItem(t){let{schema:e,uiSchema:n,registry:r}=this.props,{addable:i}=mt(n,r.globalUiOptions);return i!==!1&&(e.maxItems!==void 0?i=t.length<e.maxItems:i=!0),i}_handleAddClick(t,e){t&&t.preventDefault();let{onChange:n,errorSchema:r}=this.props,{keyedFormData:i}=this.state,s;if(r){s={};for(let l in r){let c=parseInt(l);e===void 0||c<e?(0,Eo.default)(s,[c],r[l]):c>=e&&(0,Eo.default)(s,[c+1],r[l])}}let o={key:O_(),item:this._getNewFormDataRow()},a=[...i];e!==void 0?a.splice(e,0,o):a.push(o),this.setState({keyedFormData:a,updatedKeyedFormData:!0},()=>n(Rm(a),s))}render(){let{schema:t,uiSchema:e,idSchema:n,registry:r}=this.props,{schemaUtils:i,translateString:s}=r;if(!(yl in t)){let o=mt(e),a=ft("UnsupportedFieldTemplate",r,o);return p.jsx(a,{schema:t,idSchema:n,reason:s(Pt.MissingItems),registry:r})}return i.isMultiSelect(t)?this.renderMultiSelect():xse(e)?this.renderCustomWidget():u_(t)?this.renderFixedArray():i.isFilesArray(t,e)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){let{schema:t,uiSchema:e={},errorSchema:n,idSchema:r,name:i,title:s,disabled:o=!1,readonly:a=!1,autofocus:l=!1,required:c=!1,registry:u,onBlur:d,onFocus:f,idPrefix:h,idSeparator:m="_",rawErrors:g}=this.props,{keyedFormData:y}=this.state,O=t.title||s||i,{schemaUtils:b,formContext:w}=u,x=mt(e),v=(0,Mm.default)(t.items)?t.items:{},k=b.retrieveSchema(v),$=Rm(this.state.keyedFormData),C=this.canAddItem($),N={canAdd:C,items:y.map((R,T)=>{let{key:A,item:j}=R,E=j,_=b.retrieveSchema(v,E),Q=n?n[T]:void 0,M=r.$id+m+T,L=b.toIdSchema(_,M,E,h,m);return this.renderArrayFieldItem({key:A,index:T,name:i&&`${i}-${T}`,title:O?`${O}-${T+1}`:void 0,canAdd:C,canMoveUp:T>0,canMoveDown:T<$.length-1,itemSchema:_,itemIdSchema:L,itemErrorSchema:Q,itemData:E,itemUiSchema:e.items,autofocus:l&&T===0,onBlur:d,onFocus:f,rawErrors:g,totalItems:y.length})}),className:`field field-array field-array-of-${k.type}`,disabled:o,idSchema:r,uiSchema:e,onAddClick:this.onAddClick,readonly:a,required:c,schema:t,title:O,formContext:w,formData:$,rawErrors:g,registry:u},P=ft("ArrayFieldTemplate",u,x);return p.jsx(P,{...N})}renderCustomWidget(){var t;let{schema:e,idSchema:n,uiSchema:r,disabled:i=!1,readonly:s=!1,autofocus:o=!1,required:a=!1,hideError:l,placeholder:c,onBlur:u,onFocus:d,formData:f=[],registry:h,rawErrors:m,name:g}=this.props,{widgets:y,formContext:O,globalUiOptions:b,schemaUtils:w}=h,{widget:x,title:v,...k}=mt(r,b),$=sa(e,x,y),C=(t=v??e.title)!==null&&t!==void 0?t:g,N=w.getDisplayLabel(e,r,b);return p.jsx($,{id:n.$id,name:g,multiple:!0,onChange:this.onSelectChange,onBlur:u,onFocus:d,options:k,schema:e,uiSchema:r,registry:h,value:f,disabled:i,readonly:s,hideError:l,required:a,label:C,hideLabel:!N,placeholder:c,formContext:O,autofocus:o,rawErrors:m})}renderMultiSelect(){var t;let{schema:e,idSchema:n,uiSchema:r,formData:i=[],disabled:s=!1,readonly:o=!1,autofocus:a=!1,required:l=!1,placeholder:c,onBlur:u,onFocus:d,registry:f,rawErrors:h,name:m}=this.props,{widgets:g,schemaUtils:y,formContext:O,globalUiOptions:b}=f,w=y.retrieveSchema(e.items,i),x=F0(w,r),{widget:v="select",title:k,...$}=mt(r,b),C=sa(e,v,g),N=(t=k??e.title)!==null&&t!==void 0?t:m,P=y.getDisplayLabel(e,r,b);return p.jsx(C,{id:n.$id,name:m,multiple:!0,onChange:this.onSelectChange,onBlur:u,onFocus:d,options:{...$,enumOptions:x},schema:e,uiSchema:r,registry:f,value:i,disabled:s,readonly:o,required:l,label:N,hideLabel:!P,placeholder:c,formContext:O,autofocus:a,rawErrors:h})}renderFiles(){var t;let{schema:e,uiSchema:n,idSchema:r,name:i,disabled:s=!1,readonly:o=!1,autofocus:a=!1,required:l=!1,onBlur:c,onFocus:u,registry:d,formData:f=[],rawErrors:h}=this.props,{widgets:m,formContext:g,globalUiOptions:y,schemaUtils:O}=d,{widget:b="files",title:w,...x}=mt(n,y),v=sa(e,b,m),k=(t=w??e.title)!==null&&t!==void 0?t:i,$=O.getDisplayLabel(e,n,y);return p.jsx(v,{options:x,id:r.$id,name:i,multiple:!0,onChange:this.onSelectChange,onBlur:c,onFocus:u,schema:e,uiSchema:n,value:f,disabled:s,readonly:o,required:l,registry:d,formContext:g,autofocus:a,rawErrors:h,label:k,hideLabel:!$})}renderFixedArray(){let{schema:t,uiSchema:e={},formData:n=[],errorSchema:r,idPrefix:i,idSeparator:s="_",idSchema:o,name:a,title:l,disabled:c=!1,readonly:u=!1,autofocus:d=!1,required:f=!1,registry:h,onBlur:m,onFocus:g,rawErrors:y}=this.props,{keyedFormData:O}=this.state,{formData:b=[]}=this.props,w=t.title||l||a,x=mt(e),{schemaUtils:v,formContext:k}=h,$=((0,Mm.default)(t.items)?t.items:[]).map((T,A)=>v.retrieveSchema(T,n[A])),C=(0,Mm.default)(t.additionalItems)?v.retrieveSchema(t.additionalItems,n):null;(!b||b.length<$.length)&&(b=b||[],b=b.concat(new Array($.length-b.length)));let N=this.canAddItem(b)&&!!C,P={canAdd:N,className:"field field-array field-array-fixed-items",disabled:c,idSchema:o,formData:n,items:O.map((T,A)=>{let{key:j,item:E}=T,_=E,Q=A>=$.length,M=(Q&&(0,Mm.default)(t.additionalItems)?v.retrieveSchema(t.additionalItems,_):$[A])||{},L=o.$id+s+A,V=v.toIdSchema(M,L,_,i,s),W=Q?e.additionalItems||{}:Array.isArray(e.items)?e.items[A]:e.items||{},H=r?r[A]:void 0;return this.renderArrayFieldItem({key:j,index:A,name:a&&`${a}-${A}`,title:w?`${w}-${A+1}`:void 0,canAdd:N,canRemove:Q,canMoveUp:A>=$.length+1,canMoveDown:Q&&A<b.length-1,itemSchema:M,itemData:_,itemUiSchema:W,itemIdSchema:V,itemErrorSchema:H,autofocus:d&&A===0,onBlur:m,onFocus:g,rawErrors:y,totalItems:O.length})}),onAddClick:this.onAddClick,readonly:u,required:f,registry:h,schema:t,uiSchema:e,title:w,formContext:k,errorSchema:r,rawErrors:y},R=ft("ArrayFieldTemplate",h,x);return p.jsx(R,{...P})}renderArrayFieldItem(t){let{key:e,index:n,name:r,canAdd:i,canRemove:s=!0,canMoveUp:o,canMoveDown:a,itemSchema:l,itemData:c,itemUiSchema:u,itemIdSchema:d,itemErrorSchema:f,autofocus:h,onBlur:m,onFocus:g,rawErrors:y,totalItems:O,title:b}=t,{disabled:w,hideError:x,idPrefix:v,idSeparator:k,readonly:$,uiSchema:C,registry:N,formContext:P}=this.props,{fields:{ArraySchemaField:R,SchemaField:T},globalUiOptions:A}=N,j=R||T,{orderable:E=!0,removable:_=!0,copyable:Q=!1}=mt(C,A),M={moveUp:E&&o,moveDown:E&&a,copy:Q&&i,remove:_&&s,toolbar:!1};return M.toolbar=Object.keys(M).some(L=>M[L]),{children:p.jsx(j,{name:r,title:b,index:n,schema:l,uiSchema:u,formData:c,formContext:P,errorSchema:f,idPrefix:v,idSeparator:k,idSchema:d,required:this.isItemRequired(l),onChange:this.onChangeForIndex(n),onBlur:m,onFocus:g,registry:N,disabled:w,readonly:$,hideError:x,autofocus:h,rawErrors:y}),className:"array-item",disabled:w,canAdd:i,hasCopy:M.copy,hasToolbar:M.toolbar,hasMoveUp:M.moveUp,hasMoveDown:M.moveDown,hasRemove:M.remove,index:n,totalItems:O,key:e,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:$,registry:N,schema:l,uiSchema:u}}},noe=UW});function oHe(t){var e,n,r;let{schema:i,name:s,uiSchema:o,idSchema:a,formData:l,registry:c,required:u,disabled:d,readonly:f,hideError:h,autofocus:m,title:g,onChange:y,onFocus:O,onBlur:b,rawErrors:w}=t,{title:x}=i,{widgets:v,formContext:k,translateString:$,globalUiOptions:C}=c,{widget:N="checkbox",title:P,label:R=!0,...T}=mt(o,C),A=sa(i,N,v),j=$(Pt.YesLabel),E=$(Pt.NoLabel),_,Q=(n=(e=P??x)!==null&&e!==void 0?e:g)!==null&&n!==void 0?n:s;if(Array.isArray(i.oneOf))_=F0({oneOf:i.oneOf.map(M=>{if((0,roe.default)(M))return{...M,title:M.title||(M.const===!0?j:E)}}).filter(M=>M)},o);else{let M=i,L=(r=i.enum)!==null&&r!==void 0?r:[!0,!1];!M.enumNames&&L.length===2&&L.every(V=>typeof V=="boolean")?_=[{value:L[0],label:L[0]?j:E},{value:L[1],label:L[1]?j:E}]:_=F0({enum:L,enumNames:M.enumNames},o)}return p.jsx(A,{options:{...T,enumOptions:_},schema:i,uiSchema:o,id:a.$id,name:s,onChange:y,onFocus:O,onBlur:b,label:Q,hideLabel:!R,value:l,required:u,disabled:d,readonly:f,hideError:h,registry:c,formContext:k,autofocus:m,rawErrors:w})}var roe,ioe,aHe=D(()=>{Xe(),roe=Ee(Xn()),ioe=oHe}),XW,GW,YW,HW,b_,lHe=D(()=>{XW=Ee(ar()),GW=Ee(tb()),YW=Ee(JQ()),Xe(),HW=class extends S.Component{constructor(t){super(t),this.onOptionChange=s=>{let{selectedOption:o,retrievedOptions:a}=this.state,{formData:l,onChange:c,registry:u}=this.props,{schemaUtils:d}=u,f=s!==void 0?parseInt(s,10):-1;if(f===o)return;let h=f>=0?a[f]:void 0,m=o>=0?a[o]:void 0,g=d.sanitizeDataForNewSchema(h,m,l);g&&h&&(g=d.getDefaultFormState(h,g,"excludeObjectChildren")),this.setState({selectedOption:f},()=>{c(g,void 0,this.getFieldId())})};let{formData:e,options:n,registry:{schemaUtils:r}}=this.props,i=n.map(s=>r.retrieveSchema(s,e));this.state={retrievedOptions:i,selectedOption:this.getMatchingOption(0,e,i)}}componentDidUpdate(t,e){let{formData:n,options:r,idSchema:i}=this.props,{selectedOption:s}=this.state,o=this.state;if(!Ar(t.options,r)){let{registry:{schemaUtils:a}}=this.props,l=r.map(c=>a.retrieveSchema(c,n));o={selectedOption:s,retrievedOptions:l}}if(!Ar(n,t.formData)&&i.$id===t.idSchema.$id){let{retrievedOptions:a}=o,l=this.getMatchingOption(s,n,a);e&&l!==s&&(o={selectedOption:l,retrievedOptions:a})}o!==this.state&&this.setState(o)}getMatchingOption(t,e,n){let{schema:r,registry:{schemaUtils:i}}=this.props,s=Qd(r);return i.getClosestMatchingOption(e,n,t,s)}getFieldId(){let{idSchema:t,schema:e}=this.props;return`${t.$id}${e.oneOf?"__oneof_select":"__anyof_select"}`}render(){let{name:t,disabled:e=!1,errorSchema:n={},formContext:r,onBlur:i,onFocus:s,registry:o,schema:a,uiSchema:l}=this.props,{widgets:c,fields:u,translateString:d,globalUiOptions:f,schemaUtils:h}=o,{SchemaField:m}=u,{selectedOption:g,retrievedOptions:y}=this.state,{widget:O="select",placeholder:b,autofocus:w,autocomplete:x,title:v=a.title,...k}=mt(l,f),$=sa({type:"number"},O,c),C=(0,XW.default)(n,cs,[]),N=(0,YW.default)(n,[cs]),P=h.getDisplayLabel(a,l,f),R=g>=0&&y[g]||null,T;if(R){let{required:M}=a;T=M?ha({required:M},R):R}let A=[];yr in a&&l&&yr in l?Array.isArray(l[yr])?A=l[yr]:console.warn(`uiSchema.oneOf is not an array for "${v||t}"`):Hr in a&&l&&Hr in l&&(Array.isArray(l[Hr])?A=l[Hr]:console.warn(`uiSchema.anyOf is not an array for "${v||t}"`));let j=l;g>=0&&A.length>g&&(j=A[g]);let E=v?Pt.TitleOptionPrefix:Pt.OptionPrefix,_=v?[v]:[],Q=y.map((M,L)=>{let{title:V=M.title}=mt(A[L]);return{label:V||d(E,_.concat(String(L+1))),value:L}});return p.jsxs("div",{className:"panel panel-default panel-body",children:[p.jsx("div",{className:"form-group",children:p.jsx($,{id:this.getFieldId(),name:`${t}${a.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:i,onFocus:s,disabled:e||(0,GW.default)(Q),multiple:!1,rawErrors:C,errorSchema:N,value:g>=0?g:void 0,options:{enumOptions:Q,...k},registry:o,formContext:r,placeholder:b,autocomplete:x,autofocus:w,label:v??t,hideLabel:!P})}),T&&p.jsx(m,{...this.props,schema:T,uiSchema:j})]})}},b_=HW});function cHe(t){let{registry:e,onChange:n,formData:r,value:i}=t,[s,o]=S.useState(i),{StringField:a}=e.fields,l=r,c=S.useCallback(u=>{o(u),`${u}`.charAt(0)==="."&&(u=`0${u}`);let d=typeof u=="string"&&u.match(soe)?LW(u.replace(ooe,"")):LW(u);n(d)},[n]);if(typeof s=="string"&&typeof l=="number"){let u=new RegExp(`^(${String(l).replace(".","\\.")})?\\.?0*$`);s.match(u)&&(l=s)}return p.jsx(a,{...t,formData:l,onChange:c})}var soe,ooe,aoe,uHe=D(()=>{Xe(),soe=/\.([0-9]*0)*$/,ooe=/[0.]0*$/,aoe=cHe});function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vu.apply(this,arguments)}function JW(t){return"( *)("+(t===1?$k:Ck)+") +"}function KW(t){return new RegExp("^"+(t===1?CI:PI))}function ez(t){return new RegExp("^"+(t===1?CI:PI)+"[^\\n]*(?:\\n(?!\\1"+(t===1?$k:Ck)+" )[^\\n]*)*(\\n|$)","gm")}function tz(t){let e=t===1?$k:Ck;return new RegExp("^( *)("+e+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+e+" (?!"+e+" ))\\n*|\\s*\\n*$)")}function nz(t,e){let n=e===1,r=n?A_:R_,i=n?__:T_,s=n?Yoe:Hoe;return{match(o,a,l){let c=Goe.exec(l);return c&&(a.list||!a.inline&&!a.simple)?r.exec(o=c[1]+o):null},order:1,parse(o,a,l){let c=n?+o[2]:void 0,u=o[0].replace(doe,`
`).match(i),d=!1;return{items:u.map(function(f,h){let m=s.exec(f)[0].length,g=new RegExp("^ {1,"+m+"}","gm"),y=f.replace(g,"").replace(s,""),O=h===u.length-1,b=y.indexOf(`

`)!==-1||O&&d;d=b;let w=l.inline,x=l.list,v;l.list=!0,b?(l.inline=!1,v=y.replace(E_,`

`)):(l.inline=!0,v=y.replace(E_,""));let k=a(v,l);return l.inline=w,l.list=x,k}),ordered:n,start:c}},render:(o,a,l)=>t(o.ordered?"ol":"ul",{key:l.key,start:o.type===ze.orderedList?o.start:void 0},o.items.map(function(c,u){return t("li",{key:u},a(c,l))}))}}function Dx(t){return t.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function dHe(t){return Loe.test(t)?"right":Ioe.test(t)?"center":Doe.test(t)?"left":null}function rz(t,e,n,r){let i=n.inTable;n.inTable=!0;let s=t.trim().split(/( *(?:`[^`]*`|<.*?>.*?<\/.*?>(?!<\/.*?>)|\\\||\|) *)/).reduce((a,l)=>(l.trim()==="|"?a.push(r?{type:ze.tableSeparator}:{type:ze.text,text:l}):l!==""&&a.push.apply(a,e(l,n)),a),[]);n.inTable=i;let o=[[]];return s.forEach(function(a,l){a.type===ze.tableSeparator?l!==0&&l!==s.length-1&&o.push([]):(a.type!==ze.text||s[l+1]!=null&&s[l+1].type!==ze.tableSeparator||(a.text=a.text.trimEnd()),o[o.length-1].push(a))}),o}function fHe(t,e,n){n.inline=!0;let r=t[2]?t[2].replace(Qoe,"").split("|").map(dHe):[],i=t[3]?function(o,a,l){return o.trim().split(`
`).map(function(c){return rz(c,a,l,!0)})}(t[3],e,n):[],s=rz(t[1],e,n,!!i.length);return n.inline=!1,i.length?{align:r,cells:i,header:s,type:ze.table}:{children:s,type:ze.paragraph}}function iz(t,e){return t.align[e]==null?{}:{textAlign:t.align[e]}}function ec(t){return function(e,n){return n.inline?t.exec(e):null}}function tc(t){return function(e,n){return n.inline||n.simple?t.exec(e):null}}function Ra(t){return function(e,n){return n.inline||n.simple?null:t.exec(e)}}function Qm(t){return function(e){return t.exec(e)}}function hHe(t,e,n){if(e.inline||e.simple||n&&!n.endsWith(`
`))return null;let r="";t.split(`
`).every(s=>!M_.some(o=>o.test(s))&&(r+=s+`
`,s.trim()));let i=r.trimEnd();return i==""?null:[r,i]}function pHe(t){try{if(decodeURIComponent(t).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return null}catch{return null}return t}function sz(t){return t.replace(Xoe,"$1")}function Lw(t,e,n){let r=n.inline||!1,i=n.simple||!1;n.inline=!0,n.simple=!0;let s=t(e,n);return n.inline=r,n.simple=i,s}function mHe(t,e,n){let r=n.inline||!1,i=n.simple||!1;n.inline=!1,n.simple=!0;let s=t(e,n);return n.inline=r,n.simple=i,s}function gHe(t,e,n){let r=n.inline||!1;n.inline=!1;let i=t(e,n);return n.inline=r,i}function ej(){return{}}function tj(){return null}function yHe(...t){return t.filter(Boolean).join(" ")}function nj(t,e,n){let r=t,i=e.split(".");for(;i.length&&(r=r[i[0]],r!==void 0);)i.shift();return r||n}function OHe(t="",e={}){function n(f,h,...m){let g=nj(e.overrides,`${f}.props`,{});return e.createElement(function(y,O){let b=nj(O,y);return b?typeof b=="function"||typeof b=="object"&&"render"in b?b:nj(O,`${y}.component`,y):y}(f,e.overrides),Vu({},h,g,{className:yHe(h==null?void 0:h.className,g.className)||void 0}),...m)}function r(f){f=f.replace(woe,"");let h=!1;e.forceInline?h=!0:e.forceBlock||(h=Roe.test(f)===!1);let m=c(l(h?f:`${f.trimEnd().replace(Zoe,"")}

`,{inline:h}));for(;typeof m[m.length-1]=="string"&&!m[m.length-1].trim();)m.pop();if(e.wrapper===null)return m;let g=e.wrapper||(h?"span":"div"),y;if(m.length>1||e.forceWrapper)y=m;else{if(m.length===1)return y=m[0],typeof y=="string"?n("span",{key:"outer"},y):y;y=null}return S.createElement(g,{key:"outer"},y)}function i(f,h){let m=h.match(coe);return m?m.reduce(function(g,y,O){let b=y.indexOf("=");if(b!==-1){let w=function($){return $.indexOf("-")!==-1&&$.match(koe)===null&&($=$.replace(Noe,function(C,N){return N.toUpperCase()})),$}(y.slice(0,b)).trim(),x=function($){let C=$[0];return(C==='"'||C==="'")&&$.length>=2&&$[$.length-1]===C?$.slice(1,-1):$}(y.slice(b+1).trim()),v=x_[w]||w,k=g[v]=function($,C,N,P){return C==="style"?N.split(/;\s?/).reduce(function(R,T){let A=T.slice(0,T.indexOf(":"));return R[A.trim().replace(/(-[a-z])/g,j=>j[1].toUpperCase())]=T.slice(A.length+1).trim(),R},{}):C==="href"||C==="src"?P(N,$,C):(N.match($oe)&&(N=N.slice(1,N.length-1)),N==="true"||N!=="false"&&N)}(f,w,x,e.sanitizer);typeof k=="string"&&(B0.test(k)||q0.test(k))&&(g[v]=S.cloneElement(r(k.trim()),{key:O}))}else y!=="style"&&(g[x_[y]||y]=!0);return g},{}):null}e.overrides=e.overrides||{},e.sanitizer=e.sanitizer||pHe,e.slugify=e.slugify||Dx,e.namedCodesToUnicode=e.namedCodesToUnicode?Vu({},w_,e.namedCodesToUnicode):w_,e.createElement=e.createElement||S.createElement;let s=[],o={},a={[ze.blockQuote]:{match:Ra(v_),order:1,parse:(f,h,m)=>({children:h(f[0].replace(foe,""),m)}),render:(f,h,m)=>n("blockquote",{key:m.key},h(f.children,m))},[ze.breakLine]:{match:Qm(hoe),order:1,parse:ej,render:(f,h,m)=>n("br",{key:m.key})},[ze.breakThematic]:{match:Ra(poe),order:1,parse:ej,render:(f,h,m)=>n("hr",{key:m.key})},[ze.codeBlock]:{match:Ra(k_),order:0,parse:f=>({lang:void 0,text:f[0].replace(/^ {4}/gm,"").replace(/\n+$/,"")}),render:(f,h,m)=>n("pre",{key:m.key},n("code",Vu({},f.attrs,{className:f.lang?`lang-${f.lang}`:""}),f.text))},[ze.codeFenced]:{match:Ra(S_),order:0,parse:f=>({attrs:i("code",f[3]||""),lang:f[2]||void 0,text:f[4],type:ze.codeBlock})},[ze.codeInline]:{match:tc(moe),order:3,parse:f=>({text:f[2]}),render:(f,h,m)=>n("code",{key:m.key},f.text)},[ze.footnote]:{match:Ra(Ooe),order:0,parse:f=>(s.push({footnote:f[2],identifier:f[1]}),{}),render:tj},[ze.footnoteReference]:{match:ec(boe),order:1,parse:f=>({target:`#${e.slugify(f[1],Dx)}`,text:f[1]}),render:(f,h,m)=>n("a",{key:m.key,href:e.sanitizer(f.target,"a","href")},n("sup",{key:m.key},f.text))},[ze.gfmTask]:{match:ec(voe),order:1,parse:f=>({completed:f[1].toLowerCase()==="x"}),render:(f,h,m)=>n("input",{checked:f.completed,key:m.key,readOnly:!0,type:"checkbox"})},[ze.heading]:{match:Ra(e.enforceAtxHeadings?C_:$_),order:1,parse:(f,h,m)=>({children:Lw(h,f[2],m),id:e.slugify(f[2],Dx),level:f[1].length}),render:(f,h,m)=>n(`h${f.level}`,{id:f.id,key:m.key},h(f.children,m))},[ze.headingSetext]:{match:Ra(P_),order:0,parse:(f,h,m)=>({children:Lw(h,f[1],m),level:f[2]==="="?1:2,type:ze.heading})},[ze.htmlBlock]:{match:Qm(B0),order:1,parse(f,h,m){let[,g]=f[3].match(Uoe),y=new RegExp(`^${g}`,"gm"),O=f[3].replace(y,""),b=(w=O,eae.some(C=>C.test(w))?gHe:Lw);var w;let x=f[1].toLowerCase(),v=loe.indexOf(x)!==-1,k=(v?x:f[1]).trim(),$={attrs:i(k,f[2]),noInnerParse:v,tag:k};return m.inAnchor=m.inAnchor||x==="a",v?$.text=f[3]:$.children=b(h,O,m),m.inAnchor=!1,$},render:(f,h,m)=>n(f.tag,Vu({key:m.key},f.attrs),f.text||h(f.children,m))},[ze.htmlSelfClosing]:{match:Qm(q0),order:1,parse(f){let h=f[1].trim();return{attrs:i(h,f[2]||""),tag:h}},render:(f,h,m)=>n(f.tag,Vu({},f.attrs,{key:m.key}))},[ze.htmlComment]:{match:Qm(j_),order:1,parse:()=>({}),render:tj},[ze.image]:{match:tc(Koe),order:1,parse:f=>({alt:f[1],target:sz(f[2]),title:f[3]}),render:(f,h,m)=>n("img",{key:m.key,alt:f.alt||void 0,title:f.title||void 0,src:e.sanitizer(f.target,"img","src")})},[ze.link]:{match:ec(Joe),order:3,parse:(f,h,m)=>({children:mHe(h,f[1],m),target:sz(f[2]),title:f[3]}),render:(f,h,m)=>n("a",{key:m.key,href:e.sanitizer(f.target,"a","href"),title:f.title},h(f.children,m))},[ze.linkAngleBraceStyleDetector]:{match:ec(joe),order:0,parse:f=>({children:[{text:f[1],type:ze.text}],target:f[1],type:ze.link})},[ze.linkBareUrlDetector]:{match:(f,h)=>h.inAnchor?null:ec(Coe)(f,h),order:0,parse:f=>({children:[{text:f[1],type:ze.text}],target:f[1],title:void 0,type:ze.link})},[ze.linkMailtoDetector]:{match:ec(Poe),order:0,parse(f){let h=f[1],m=f[1];return uoe.test(m)||(m="mailto:"+m),{children:[{text:h.replace("mailto:",""),type:ze.text}],target:m,type:ze.link}}},[ze.orderedList]:nz(n,1),[ze.unorderedList]:nz(n,2),[ze.newlineCoalescer]:{match:Ra(goe),order:3,parse:ej,render:()=>`
`},[ze.paragraph]:{match:hHe,order:3,parse:Fw,render:(f,h,m)=>n("p",{key:m.key},h(f.children,m))},[ze.ref]:{match:ec(Eoe),order:0,parse:f=>(o[f[1]]={target:f[2],title:f[4]},{}),render:tj},[ze.refImage]:{match:tc(_oe),order:0,parse:f=>({alt:f[1]||void 0,ref:f[2]}),render:(f,h,m)=>o[f.ref]?n("img",{key:m.key,alt:f.alt,src:e.sanitizer(o[f.ref].target,"img","src"),title:o[f.ref].title}):null},[ze.refLink]:{match:ec(Toe),order:0,parse:(f,h,m)=>({children:h(f[1],m),fallbackChildren:h(f[0].replace(Aoe,"\\$1"),m),ref:f[2]}),render:(f,h,m)=>o[f.ref]?n("a",{key:m.key,href:e.sanitizer(o[f.ref].target,"a","href"),title:o[f.ref].title},h(f.children,m)):n("span",{key:m.key},h(f.fallbackChildren,m))},[ze.table]:{match:Ra(N_),order:1,parse:fHe,render(f,h,m){let g=f;return n("table",{key:m.key},n("thead",null,n("tr",null,g.header.map(function(y,O){return n("th",{key:O,style:iz(g,O)},h(y,m))}))),n("tbody",null,g.cells.map(function(y,O){return n("tr",{key:O},y.map(function(b,w){return n("td",{key:w,style:iz(g,w)},h(b,m))}))})))}},[ze.text]:{match:Qm(zoe),order:4,parse:f=>({text:f[0].replace(Soe,(h,m)=>e.namedCodesToUnicode[m]?e.namedCodesToUnicode[m]:h)}),render:f=>f.text},[ze.textBolded]:{match:tc(Foe),order:2,parse:(f,h,m)=>({children:h(f[2],m)}),render:(f,h,m)=>n("strong",{key:m.key},h(f.children,m))},[ze.textEmphasized]:{match:tc(Voe),order:3,parse:(f,h,m)=>({children:h(f[2],m)}),render:(f,h,m)=>n("em",{key:m.key},h(f.children,m))},[ze.textEscaped]:{match:tc(Woe),order:1,parse:f=>({text:f[1],type:ze.text})},[ze.textMarked]:{match:tc(Boe),order:3,parse:Fw,render:(f,h,m)=>n("mark",{key:m.key},h(f.children,m))},[ze.textStrikethroughed]:{match:tc(qoe),order:3,parse:Fw,render:(f,h,m)=>n("del",{key:m.key},h(f.children,m))}};e.disableParsingRawHTML===!0&&(delete a[ze.htmlBlock],delete a[ze.htmlSelfClosing]);let l=function(f){let h=Object.keys(f);function m(g,y){let O=[],b="";for(;g;){let w=0;for(;w<h.length;){let x=h[w],v=f[x],k=v.match(g,y,b);if(k){let $=k[0];g=g.substring($.length);let C=v.parse(k,m,y);C.type==null&&(C.type=x),O.push(C),b=$;break}w++}}return O}return h.sort(function(g,y){let O=f[g].order,b=f[y].order;return O!==b?O-b:g<y?-1:1}),function(g,y){return m(function(O){return O.replace(yoe,`
`).replace(xoe,"").replace(Moe,"    ")}(g),y)}}(a),c=(u=function(f,h){return function(m,g,y){let O=f[m.type].render;return h?h(()=>O(m,g,y),m,g,y):O(m,g,y)}}(a,e.renderRule),function f(h,m={}){if(Array.isArray(h)){let g=m.key,y=[],O=!1;for(let b=0;b<h.length;b++){m.key=b;let w=f(h[b],m),x=typeof w=="string";x&&O?y[y.length-1]+=w:w!==null&&y.push(w),O=x}return m.key=g,y}return u(h,f,m)});var u;let d=r(t);return s.length?n("div",null,d,n("footer",{key:"footer"},s.map(function(f){return n("div",{id:e.slugify(f.identifier,Dx),key:f.identifier},f.identifier,c(l(f.footnote,{inline:!0})))}))):d}var oz,ze,az,x_,w_,loe,coe,uoe,doe,v_,foe,hoe,poe,S_,k_,moe,goe,yoe,Ooe,boe,xoe,woe,voe,$_,C_,P_,B0,Soe,j_,koe,q0,$oe,Coe,Poe,joe,Noe,N_,Eoe,_oe,Toe,Aoe,Roe,Moe,Qoe,Ioe,Doe,Loe,Im,Foe,Voe,Boe,qoe,Woe,zoe,Zoe,Uoe,Xoe,E_,Goe,$k,Ck,CI,PI,Yoe,Hoe,__,T_,A_,R_,Joe,Koe,M_,eae,Fw,ob,Pk=D(()=>{oz=["children","options"],ze={blockQuote:"0",breakLine:"1",breakThematic:"2",codeBlock:"3",codeFenced:"4",codeInline:"5",footnote:"6",footnoteReference:"7",gfmTask:"8",heading:"9",headingSetext:"10",htmlBlock:"11",htmlComment:"12",htmlSelfClosing:"13",image:"14",link:"15",linkAngleBraceStyleDetector:"16",linkBareUrlDetector:"17",linkMailtoDetector:"18",newlineCoalescer:"19",orderedList:"20",paragraph:"21",ref:"22",refImage:"23",refLink:"24",table:"25",tableSeparator:"26",text:"27",textBolded:"28",textEmphasized:"29",textEscaped:"30",textMarked:"31",textStrikethroughed:"32",unorderedList:"33"},function(t){t[t.MAX=0]="MAX",t[t.HIGH=1]="HIGH",t[t.MED=2]="MED",t[t.LOW=3]="LOW",t[t.MIN=4]="MIN"}(az||(az={})),x_=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","className","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((t,e)=>(t[e.toLowerCase()]=e,t),{for:"htmlFor"}),w_={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"",quot:""},loe=["style","script"],coe=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,uoe=/mailto:/i,doe=/\n{2,}$/,v_=/^(\s*>[\s\S]*?)(?=\n{2,})/,foe=/^ *> ?/gm,hoe=/^ {2,}\n/,poe=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,S_=/^\s*(`{3,}|~{3,}) *(\S+)?([^\n]*?)?\n([\s\S]+?)\s*\1 *(?:\n *)*\n?/,k_=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,moe=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,goe=/^(?:\n *)*\n/,yoe=/\r\n?/g,Ooe=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,boe=/^\[\^([^\]]+)]/,xoe=/\f/g,woe=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,voe=/^\s*?\[(x|\s)\]/,$_=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,C_=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,P_=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,B0=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,Soe=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,j_=/^<!--[\s\S]*?(?:-->)/,koe=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,q0=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,$oe=/^\{.*\}$/,Coe=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,Poe=/^<([^ >]+@[^ >]+)>/,joe=/^<([^ >]+:\/[^ >]+)>/,Noe=/-([a-z])?/gi,N_=/^(.*\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,Eoe=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,_oe=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,Toe=/^\[([^\]]*)\] ?\[([^\]]*)\]/,Aoe=/(\[|\])/g,Roe=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Moe=/\t/g,Qoe=/(^ *\||\| *$)/g,Ioe=/^ *:-+: *$/,Doe=/^ *:-+ *$/,Loe=/^ *-+: *$/,Im="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~~.*?~~|==.*?==|.|\\n)*?)",Foe=new RegExp(`^([*_])\\1${Im}\\1\\1(?!\\1)`),Voe=new RegExp(`^([*_])${Im}\\1(?!\\1|\\w)`),Boe=new RegExp(`^==${Im}==`),qoe=new RegExp(`^~~${Im}~~`),Woe=/^\\([^0-9A-Za-z\s])/,zoe=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&#;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,Zoe=/^\n+/,Uoe=/^([ \t]*)/,Xoe=/\\([^\\])/g,E_=/ *\n+$/,Goe=/(?:^|\n)( *)$/,$k="(?:\\d+\\.)",Ck="(?:[*+-])",CI=JW(1),PI=JW(2),Yoe=KW(1),Hoe=KW(2),__=ez(1),T_=ez(2),A_=tz(1),R_=tz(2),Joe=new RegExp(`^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),Koe=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,M_=[v_,S_,k_,$_,P_,C_,j_,N_,__,A_,T_,R_],eae=[...M_,/^[^\n]+(?:  \n|\n{2,})/,B0,q0],Fw=(t,e,n)=>({children:Lw(e,t[1],n)}),ob=t=>{let{children:e="",options:n}=t,r=function(i,s){if(i==null)return{};var o,a,l={},c=Object.keys(i);for(a=0;a<c.length;a++)s.indexOf(o=c[a])>=0||(l[o]=i[o]);return l}(t,oz);return S.cloneElement(OHe(e,n),r)}}),bHe=Z((t,e)=>{var n=mie();function r(i,s){return i==null?!0:n(i,s)}e.exports=r}),Dm,rj,lz,cz,uz,dz,tae,xHe=D(()=>{Xe(),Pk(),Dm=Ee(ar()),rj=Ee(Ok()),lz=Ee(Xn()),cz=Ee(tm()),uz=Ee(bHe()),dz=class extends S.Component{constructor(){super(...arguments),this.state={wasPropertyKeyModified:!1,additionalProperties:{}},this.onPropertyChange=(t,e=!1)=>(n,r,i)=>{let{formData:s,onChange:o,errorSchema:a}=this.props;n===void 0&&e&&(n="");let l={...s,[t]:n};o(l,a&&a&&{...a,[t]:r},i)},this.onDropPropertyClick=t=>e=>{e.preventDefault();let{onChange:n,formData:r}=this.props,i={...r};(0,uz.default)(i,t),n(i)},this.getAvailableKey=(t,e)=>{let{uiSchema:n,registry:r}=this.props,{duplicateKeySuffixSeparator:i="-"}=mt(n,r.globalUiOptions),s=0,o=t;for(;(0,rj.default)(e,o);)o=`${t}${i}${++s}`;return o},this.onKeyChange=t=>(e,n)=>{if(t===e)return;let{formData:r,onChange:i,errorSchema:s}=this.props;e=this.getAvailableKey(e,r);let o={...r},a={[t]:e},l=Object.keys(o).map(u=>({[a[u]||u]:o[u]})),c=Object.assign({},...l);this.setState({wasPropertyKeyModified:!0}),i(c,s&&s&&{...s,[e]:n})},this.handleAddClick=t=>()=>{var e;if(!t.additionalProperties)return;let{formData:n,onChange:r,registry:i}=this.props,s={...n},o,a,l;if((0,lz.default)(t.additionalProperties)){o=t.additionalProperties.type,a=t.additionalProperties.const,l=t.additionalProperties.default;let d=t.additionalProperties;if(Zn in d){let{schemaUtils:f}=i;d=f.retrieveSchema({$ref:d[Zn]},n),o=d.type,a=d.const,l=d.default}!o&&(Hr in d||yr in d)&&(o="object")}let c=this.getAvailableKey("newKey",s),u=(e=a??l)!==null&&e!==void 0?e:this.getDefaultValue(o);(0,cz.default)(s,c,u),r(s)}}isRequired(t){let{schema:e}=this.props;return Array.isArray(e.required)&&e.required.indexOf(t)!==-1}getDefaultValue(t){let{registry:{translateString:e}}=this.props;switch(t){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return e(Pt.NewStringDefault)}}render(){var t,e,n,r;let{schema:i,uiSchema:s={},formData:o,errorSchema:a,idSchema:l,name:c,required:u=!1,disabled:d,readonly:f,hideError:h,idPrefix:m,idSeparator:g,onBlur:y,onFocus:O,registry:b,title:w}=this.props,{fields:x,formContext:v,schemaUtils:k,translateString:$,globalUiOptions:C}=b,{SchemaField:N}=x,P=k.retrieveSchema(i,o),R=mt(s,C),{properties:T={}}=P,A=(n=(e=(t=R.title)!==null&&t!==void 0?t:P.title)!==null&&e!==void 0?e:w)!==null&&n!==void 0?n:c,j=(r=R.description)!==null&&r!==void 0?r:P.description,E;try{let M=Object.keys(T);E=MYe(M,R.order)}catch(M){return p.jsxs("div",{children:[p.jsx("p",{className:"config-error",style:{color:"red"},children:p.jsx(ob,{options:{disableParsingRawHTML:!0},children:$(Pt.InvalidObjectField,[c||"root",M.message])})}),p.jsx("pre",{children:JSON.stringify(P)})]})}let _=ft("ObjectFieldTemplate",b,R),Q={title:R.label===!1?"":A,description:R.label===!1?void 0:j,properties:E.map(M=>{let L=(0,rj.default)(P,[mn,M,zp]),V=L?s.additionalProperties:s[M],W=mt(V).widget==="hidden",H=(0,Dm.default)(l,[M],{});return{content:p.jsx(N,{name:M,required:this.isRequired(M),schema:(0,Dm.default)(P,[mn,M],{}),uiSchema:V,errorSchema:(0,Dm.default)(a,M),idSchema:H,idPrefix:m,idSeparator:g,formData:(0,Dm.default)(o,M),formContext:v,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(M),onChange:this.onPropertyChange(M,L),onBlur:y,onFocus:O,registry:b,disabled:d,readonly:f,hideError:h,onDropPropertyClick:this.onDropPropertyClick},M),name:M,readonly:f,disabled:d,required:u,hidden:W}}),readonly:f,disabled:d,required:u,idSchema:l,uiSchema:s,errorSchema:a,schema:P,formData:o,formContext:v,registry:b};return p.jsx(_,{...Q,onAddClick:this.handleAddClick})}},tae=dz});function wHe(t,e,n,r){let i=e.field,{fields:s,translateString:o}=r;if(typeof i=="function")return i;if(typeof i=="string"&&i in s)return s[i];let a=Jc(t),l=Array.isArray(a)?a[0]:a||"",c=t.$id,u=nae[l];return c&&c in s&&(u=c),!u&&(t.anyOf||t.oneOf)?()=>null:u in s?s[u]:()=>{let d=ft("UnsupportedFieldTemplate",r,e);return p.jsx(d,{schema:t,idSchema:n,reason:o(Pt.UnknownFieldType,[String(t.type)]),registry:r})}}function vHe(t){var e,n,r;let{schema:i,idSchema:s,uiSchema:o,formData:a,errorSchema:l,idPrefix:c,idSeparator:u,name:d,onChange:f,onKeyChange:h,onDropPropertyClick:m,required:g,registry:y,wasPropertyKeyModified:O=!1}=t,{formContext:b,schemaUtils:w,globalUiOptions:x}=y,v=mt(o,x),k=ft("FieldTemplate",y,v),$=ft("DescriptionFieldTemplate",y,v),C=ft("FieldHelpTemplate",y,v),N=ft("FieldErrorTemplate",y,v),P=w.retrieveSchema(i,a),R=s[Ay],T=Tc(w.toIdSchema(P,R,a,c,u),s),A=S.useCallback((ae,se,te)=>f(ae,se,te||R),[R,f]),j=wHe(P,v,T,y),E=!!((e=v.disabled)!==null&&e!==void 0?e:t.disabled),_=!!((n=v.readonly)!==null&&n!==void 0?n:t.readonly||t.schema.const||t.schema.readOnly||P.readOnly),Q=v.hideError,M=Q===void 0?t.hideError:!!Q,L=!!((r=v.autofocus)!==null&&r!==void 0?r:t.autofocus);if(Object.keys(P).length===0)return null;let V=w.getDisplayLabel(P,o,x),{__errors:W,...H}=l||{},le=(0,I_.default)(o,["ui:classNames","classNames","ui:style"]);ih in le&&(le[ih]=(0,I_.default)(le[ih],["classNames","style"]));let fe=p.jsx(j,{...t,onChange:A,idSchema:T,schema:P,uiSchema:le,disabled:E,readonly:_,hideError:M,autofocus:L,errorSchema:H,formContext:b,rawErrors:W}),U=T[Ay],ee;O?ee=d:ee=zp in P?d:v.title||t.schema.title||P.title||t.title||d;let re=v.description||t.schema.description||P.description||"",J=v.enableMarkdownInDescription?p.jsx(ob,{options:{disableParsingRawHTML:!0},children:re}):re,q=v.help,oe=v.widget==="hidden",B=["form-group","field",`field-${Jc(P)}`];!M&&W&&W.length>0&&B.push("field-error has-error has-danger"),o!=null&&o.classNames&&B.push(o.classNames),v.classNames&&B.push(v.classNames);let ie=p.jsx(C,{help:q,idSchema:T,schema:P,uiSchema:o,hasErrors:!M&&W&&W.length>0,registry:y}),ce=M||(P.anyOf||P.oneOf)&&!w.isSelect(P)?void 0:p.jsx(N,{errors:W,errorSchema:l,idSchema:T,schema:P,uiSchema:o,registry:y}),de={description:p.jsx($,{id:rm(U),description:J,schema:P,uiSchema:o,registry:y}),rawDescription:re,help:ie,rawHelp:typeof q=="string"?q:void 0,errors:ce,rawErrors:M?void 0:W,id:U,label:ee,hidden:oe,onChange:f,onKeyChange:h,onDropPropertyClick:m,required:g,disabled:E,readonly:_,hideError:M,displayLabel:V,classNames:B.join(" ").trim(),style:v.style,formContext:b,formData:a,schema:P,uiSchema:o,registry:y},z=y.fields.AnyOfField,ne=y.fields.OneOfField,X=(o==null?void 0:o["ui:field"])&&(o==null?void 0:o["ui:fieldReplacesAnyOrOneOf"])===!0;return p.jsx(k,{...de,children:p.jsxs(p.Fragment,{children:[fe,P.anyOf&&!X&&!w.isSelect(P)&&p.jsx(z,{name:d,disabled:E,readonly:_,hideError:M,errorSchema:l,formData:a,formContext:b,idPrefix:c,idSchema:T,idSeparator:u,onBlur:t.onBlur,onChange:t.onChange,onFocus:t.onFocus,options:P.anyOf.map(ae=>w.retrieveSchema((0,Q_.default)(ae)?ae:{},a)),registry:y,required:g,schema:P,uiSchema:o}),P.oneOf&&!X&&!w.isSelect(P)&&p.jsx(ne,{name:d,disabled:E,readonly:_,hideError:M,errorSchema:l,formData:a,formContext:b,idPrefix:c,idSchema:T,idSeparator:u,onBlur:t.onBlur,onChange:t.onChange,onFocus:t.onFocus,options:P.oneOf.map(ae=>w.retrieveSchema((0,Q_.default)(ae)?ae:{},a)),registry:y,required:g,schema:P,uiSchema:o})]})})}var Q_,I_,nae,fz,rae,SHe=D(()=>{Xe(),Q_=Ee(Xn()),I_=Ee(JQ()),Pk(),nae={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"},fz=class extends S.Component{shouldComponentUpdate(t){return!Ar(this.props,t)}render(){return p.jsx(vHe,{...this.props})}},rae=fz});function kHe(t){var e;let{schema:n,name:r,uiSchema:i,idSchema:s,formData:o,required:a,disabled:l=!1,readonly:c=!1,autofocus:u=!1,onChange:d,onBlur:f,onFocus:h,registry:m,rawErrors:g,hideError:y}=t,{title:O,format:b}=n,{widgets:w,formContext:x,schemaUtils:v,globalUiOptions:k}=m,$=v.isSelect(n)?F0(n,i):void 0,C=$?"select":"text";b&&CYe(n,b,w)&&(C=b);let{widget:N=C,placeholder:P="",title:R,...T}=mt(i),A=v.getDisplayLabel(n,i,k),j=(e=R??O)!==null&&e!==void 0?e:r,E=sa(n,N,w);return p.jsx(E,{options:{...T,enumOptions:$},schema:n,uiSchema:i,id:s.$id,name:r,label:j,hideLabel:!A,hideError:y,value:o,onChange:d,onBlur:f,onFocus:h,required:a,disabled:l,readonly:c,formContext:x,autofocus:u,registry:m,placeholder:P,rawErrors:g})}var iae,$He=D(()=>{Xe(),iae=kHe});function CHe(t){let{formData:e,onChange:n}=t;return S.useEffect(()=>{e===void 0&&n(null)},[e,n]),null}var sae,PHe=D(()=>{sae=CHe});function jHe(){return{AnyOfField:b_,ArrayField:noe,BooleanField:ioe,NumberField:aoe,ObjectField:tae,OneOfField:b_,SchemaField:rae,StringField:iae,NullField:sae}}var oae,NHe=D(()=>{sHe(),aHe(),lHe(),uHe(),xHe(),SHe(),$He(),PHe(),oae=jHe});function EHe(t){let{idSchema:e,description:n,registry:r,schema:i,uiSchema:s}=t,o=mt(s,r.globalUiOptions),{label:a=!0}=o;if(!n||!a)return null;let l=ft("DescriptionFieldTemplate",r,o);return p.jsx(l,{id:rm(e),description:n,schema:i,uiSchema:s,registry:r})}var _He=D(()=>{Xe()});function THe(t){let{children:e,className:n,disabled:r,hasToolbar:i,hasMoveDown:s,hasMoveUp:o,hasRemove:a,hasCopy:l,index:c,onCopyIndexClick:u,onDropIndexClick:d,onReorderClick:f,readonly:h,registry:m,uiSchema:g}=t,{CopyButton:y,MoveDownButton:O,MoveUpButton:b,RemoveButton:w}=m.templates.ButtonTemplates,x={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return p.jsxs("div",{className:n,children:[p.jsx("div",{className:i?"col-xs-9":"col-xs-12",children:e}),i&&p.jsx("div",{className:"col-xs-3 array-item-toolbox",children:p.jsxs("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(o||s)&&p.jsx(b,{style:x,disabled:r||h||!o,onClick:f(c,c-1),uiSchema:g,registry:m}),(o||s)&&p.jsx(O,{style:x,disabled:r||h||!s,onClick:f(c,c+1),uiSchema:g,registry:m}),l&&p.jsx(y,{style:x,disabled:r||h,onClick:u(c),uiSchema:g,registry:m}),a&&p.jsx(w,{style:x,disabled:r||h,onClick:d(c),uiSchema:g,registry:m})]})})]})}var AHe=D(()=>{});function RHe(t){let{canAdd:e,className:n,disabled:r,idSchema:i,uiSchema:s,items:o,onAddClick:a,readonly:l,registry:c,required:u,schema:d,title:f}=t,h=mt(s),m=ft("ArrayFieldDescriptionTemplate",c,h),g=ft("ArrayFieldItemTemplate",c,h),y=ft("ArrayFieldTitleTemplate",c,h),{ButtonTemplates:{AddButton:O}}=c.templates;return p.jsxs("fieldset",{className:n,id:i.$id,children:[p.jsx(y,{idSchema:i,title:h.title||f,required:u,schema:d,uiSchema:s,registry:c}),p.jsx(m,{idSchema:i,description:h.description||d.description,schema:d,uiSchema:s,registry:c}),p.jsx("div",{className:"row array-item-list",children:o&&o.map(({key:b,...w})=>p.jsx(g,{...w},b))}),e&&p.jsx(O,{className:"array-item-add",onClick:a,disabled:r||l,uiSchema:s,registry:c})]})}var MHe=D(()=>{Xe()});function QHe(t){let{idSchema:e,title:n,schema:r,uiSchema:i,required:s,registry:o}=t,a=mt(i,o.globalUiOptions),{label:l=!0}=a;if(!n||!l)return null;let c=ft("TitleFieldTemplate",o,a);return p.jsx(c,{id:$I(e),title:n,required:s,schema:r,uiSchema:i,registry:o})}var IHe=D(()=>{Xe()});function DHe(t){let{id:e,name:n,value:r,readonly:i,disabled:s,autofocus:o,onBlur:a,onFocus:l,onChange:c,onChangeOverride:u,options:d,schema:f,uiSchema:h,formContext:m,registry:g,rawErrors:y,type:O,hideLabel:b,hideError:w,...x}=t;if(!e)throw console.log("No id for",t),new Error(`no id for props ${JSON.stringify(t)}`);let v={...x,...Vse(f,O,d)},k;v.type==="number"||v.type==="integer"?k=r||r===0?r:"":k=r??"";let $=S.useCallback(({target:{value:P}})=>c(P===""?d.emptyValue:P),[c,d]),C=S.useCallback(({target:P})=>a(e,P&&P.value),[a,e]),N=S.useCallback(({target:P})=>l(e,P&&P.value),[l,e]);return p.jsxs(p.Fragment,{children:[p.jsx("input",{id:e,name:e,className:"form-control",readOnly:i,disabled:s,autoFocus:o,value:k,...v,list:f.examples?Ly(e):void 0,onChange:u||$,onBlur:C,onFocus:N,"aria-describedby":xo(e,!!f.examples)}),Array.isArray(f.examples)&&p.jsx("datalist",{id:Ly(e),children:f.examples.concat(f.default&&!f.examples.includes(f.default)?[f.default]:[]).map(P=>p.jsx("option",{value:P},P))},`datalist_${e}`)]})}var LHe=D(()=>{Xe()});function FHe({uiSchema:t}){let{submitText:e,norender:n,props:r={}}=xYe(t);return n?null:p.jsx("div",{children:p.jsx("button",{type:"submit",...r,className:`btn btn-info ${r.className||""}`,children:e})})}var VHe=D(()=>{Xe()});function ab(t){let{iconType:e="default",icon:n,className:r,uiSchema:i,registry:s,...o}=t;return p.jsx("button",{type:"button",className:`btn btn-${e} ${r}`,...o,children:p.jsx("i",{className:`glyphicon glyphicon-${n}`})})}function BHe(t){let{registry:{translateString:e}}=t;return p.jsx(ab,{title:e(Pt.CopyButton),className:"array-item-copy",...t,icon:"copy"})}function qHe(t){let{registry:{translateString:e}}=t;return p.jsx(ab,{title:e(Pt.MoveDownButton),className:"array-item-move-down",...t,icon:"arrow-down"})}function WHe(t){let{registry:{translateString:e}}=t;return p.jsx(ab,{title:e(Pt.MoveUpButton),className:"array-item-move-up",...t,icon:"arrow-up"})}function zHe(t){let{registry:{translateString:e}}=t;return p.jsx(ab,{title:e(Pt.RemoveButton),className:"array-item-remove",...t,iconType:"danger",icon:"remove"})}var aae=D(()=>{Xe()});function ZHe({className:t,onClick:e,disabled:n,registry:r}){let{translateString:i}=r;return p.jsx("div",{className:"row",children:p.jsx("p",{className:`col-xs-3 col-xs-offset-9 text-right ${t}`,children:p.jsx(ab,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:i(Pt.AddButton),onClick:e,disabled:n,registry:r})})})}var UHe=D(()=>{Xe(),aae()});function XHe(){return{SubmitButton:FHe,AddButton:ZHe,CopyButton:BHe,MoveDownButton:qHe,MoveUpButton:WHe,RemoveButton:zHe}}var lae,GHe=D(()=>{VHe(),UHe(),aae(),lae=XHe});function YHe(t){let{id:e,description:n}=t;return n?typeof n=="string"?p.jsx("p",{id:e,className:"field-description",children:n}):p.jsx("div",{id:e,className:"field-description",children:n}):null}var HHe=D(()=>{});function JHe({errors:t,registry:e}){let{translateString:n}=e;return p.jsxs("div",{className:"panel panel-danger errors",children:[p.jsx("div",{className:"panel-heading",children:p.jsx("h3",{className:"panel-title",children:n(Pt.ErrorsLabel)})}),p.jsx("ul",{className:"list-group",children:t.map((r,i)=>p.jsx("li",{className:"list-group-item text-danger",children:r.stack},i))})]})}var KHe=D(()=>{Xe()});function cae(t){let{label:e,required:n,id:r}=t;return e?p.jsxs("label",{className:"control-label",htmlFor:r,children:[e,n&&p.jsx("span",{className:"required",children:uae})]}):null}var uae,dae=D(()=>{uae="*"});function eJe(t){let{id:e,label:n,children:r,errors:i,help:s,description:o,hidden:a,required:l,displayLabel:c,registry:u,uiSchema:d}=t,f=mt(d),h=ft("WrapIfAdditionalTemplate",u,f);return a?p.jsx("div",{className:"hidden",children:r}):p.jsxs(h,{...t,children:[c&&p.jsx(cae,{label:n,required:l,id:e}),c&&o?o:null,r,i,s]})}var tJe=D(()=>{Xe(),dae()}),fae,nJe=D(()=>{tJe(),fae=eJe});function rJe(t){let{errors:e=[],idSchema:n}=t;if(e.length===0)return null;let r=Zse(n);return p.jsx("div",{children:p.jsx("ul",{id:r,className:"error-detail bs-callout bs-callout-info",children:e.filter(i=>!!i).map((i,s)=>p.jsx("li",{className:"text-danger",children:i},s))})})}var iJe=D(()=>{Xe()});function sJe(t){let{idSchema:e,help:n}=t;if(!n)return null;let r=Use(e);return typeof n=="string"?p.jsx("p",{id:r,className:"help-block",children:n}):p.jsx("div",{id:r,className:"help-block",children:n})}var oJe=D(()=>{Xe()});function aJe(t){let{description:e,disabled:n,formData:r,idSchema:i,onAddClick:s,properties:o,readonly:a,registry:l,required:c,schema:u,title:d,uiSchema:f}=t,h=mt(f),m=ft("TitleFieldTemplate",l,h),g=ft("DescriptionFieldTemplate",l,h),{ButtonTemplates:{AddButton:y}}=l.templates;return p.jsxs("fieldset",{id:i.$id,children:[d&&p.jsx(m,{id:$I(i),title:d,required:c,schema:u,uiSchema:f,registry:l}),e&&p.jsx(g,{id:rm(i),description:e,schema:u,uiSchema:f,registry:l}),o.map(O=>O.content),Wre(u,f,r)&&p.jsx(y,{className:"object-property-expand",onClick:s(u),disabled:n||a,uiSchema:f,registry:l})]})}var lJe=D(()=>{Xe()});function cJe(t){let{id:e,title:n,required:r}=t;return p.jsxs("legend",{id:e,children:[n,r&&p.jsx("span",{className:"required",children:hae})]})}var hae,uJe=D(()=>{hae="*"});function dJe(t){let{schema:e,idSchema:n,reason:r,registry:i}=t,{translateString:s}=i,o=Pt.UnsupportedField,a=[];return n&&n.$id&&(o=Pt.UnsupportedFieldWithId,a.push(n.$id)),r&&(o=o===Pt.UnsupportedField?Pt.UnsupportedFieldWithReason:Pt.UnsupportedFieldWithIdAndReason,a.push(r)),p.jsxs("div",{className:"unsupported-field",children:[p.jsx("p",{children:p.jsx(ob,{options:{disableParsingRawHTML:!0},children:s(o,a)})}),e&&p.jsx("pre",{children:JSON.stringify(e,null,2)})]})}var pae,fJe=D(()=>{Xe(),Pk(),pae=dJe});function hJe(t){let{id:e,classNames:n,style:r,disabled:i,label:s,onKeyChange:o,onDropPropertyClick:a,readonly:l,required:c,schema:u,children:d,uiSchema:f,registry:h}=t,{templates:m,translateString:g}=h,{RemoveButton:y}=m.ButtonTemplates,O=g(Pt.KeyLabel,[s]);return zp in u?p.jsx("div",{className:n,style:r,children:p.jsxs("div",{className:"row",children:[p.jsx("div",{className:"col-xs-5 form-additional",children:p.jsxs("div",{className:"form-group",children:[p.jsx(cae,{label:O,required:c,id:`${e}-key`}),p.jsx("input",{className:"form-control",type:"text",id:`${e}-key`,onBlur:({target:b})=>o(b&&b.value),defaultValue:s})]})}),p.jsx("div",{className:"form-additional form-group col-xs-5",children:d}),p.jsx("div",{className:"col-xs-2",children:p.jsx(y,{className:"array-item-remove btn-block",style:{border:"0"},disabled:i||l,onClick:a(s),uiSchema:f,registry:h})})]})}):p.jsx("div",{className:n,style:r,children:d})}var pJe=D(()=>{Xe(),dae()});function mJe(){return{ArrayFieldDescriptionTemplate:EHe,ArrayFieldItemTemplate:THe,ArrayFieldTemplate:RHe,ArrayFieldTitleTemplate:QHe,ButtonTemplates:lae(),BaseInputTemplate:DHe,DescriptionFieldTemplate:YHe,ErrorListTemplate:JHe,FieldTemplate:fae,FieldErrorTemplate:rJe,FieldHelpTemplate:sJe,ObjectFieldTemplate:aJe,TitleFieldTemplate:cJe,UnsupportedFieldTemplate:pae,WrapIfAdditionalTemplate:hJe}}var mae,gJe=D(()=>{_He(),AHe(),MHe(),IHe(),LHe(),GHe(),HHe(),KHe(),nJe(),iJe(),oJe(),lJe(),uJe(),fJe(),pJe(),mae=mJe});function yJe(t){return Object.values(t).every(e=>e!==-1)}function OJe({type:t,range:e,value:n,select:r,rootId:i,name:s,disabled:o,readonly:a,autofocus:l,registry:c,onBlur:u,onFocus:d}){let f=i+"_"+t,{SelectWidget:h}=c.widgets;return p.jsx(h,{schema:{type:"integer"},id:f,name:s,className:"form-control",options:{enumOptions:Ese(e[0],e[1])},placeholder:t,value:n,disabled:o,readonly:a,autofocus:l,onChange:m=>r(t,m),onBlur:u,onFocus:d,registry:c,label:"","aria-describedby":xo(i)})}function bJe({time:t=!1,disabled:e=!1,readonly:n=!1,autofocus:r=!1,options:i,id:s,name:o,registry:a,onBlur:l,onFocus:c,onChange:u,value:d}){let{translateString:f}=a,[h,m]=S.useState(d),[g,y]=S.useReducer((x,v)=>({...x,...v}),HP(d,t));S.useEffect(()=>{let x=WW(g,t);yJe(g)&&x!==d?u(x):h!==d&&(m(d),y(HP(d,t)))},[t,d,u,g,h]);let O=S.useCallback((x,v)=>{y({[x]:v})},[]),b=S.useCallback(x=>{if(x.preventDefault(),e||n)return;let v=HP(new Date().toJSON(),t);u(WW(v,t))},[e,n,t]),w=S.useCallback(x=>{x.preventDefault(),!(e||n)&&u(void 0)},[e,n,u]);return p.jsxs("ul",{className:"list-inline",children:[gYe(g,t,i.yearsRange,i.format).map((x,v)=>p.jsx("li",{className:"list-inline-item",children:p.jsx(OJe,{rootId:s,name:o,select:O,...x,disabled:e,readonly:n,registry:a,onBlur:l,onFocus:c,autofocus:r&&v===0})},v)),(i.hideNowButton!=="undefined"?!i.hideNowButton:!0)&&p.jsx("li",{className:"list-inline-item",children:p.jsx("a",{href:"#",className:"btn btn-info btn-now",onClick:b,children:f(Pt.NowLabel)})}),(i.hideClearButton!=="undefined"?!i.hideClearButton:!0)&&p.jsx("li",{className:"list-inline-item",children:p.jsx("a",{href:"#",className:"btn btn-warning btn-clear",onClick:w,children:f(Pt.ClearLabel)})})]})}var gae,xJe=D(()=>{Xe(),gae=bJe});function wJe({time:t=!0,...e}){let{AltDateWidget:n}=e.registry.widgets;return p.jsx(n,{time:t,...e})}var yae,vJe=D(()=>{yae=wJe});function SJe({schema:t,uiSchema:e,options:n,id:r,value:i,disabled:s,readonly:o,label:a,hideLabel:l,autofocus:c=!1,onBlur:u,onFocus:d,onChange:f,registry:h}){var m;let g=ft("DescriptionFieldTemplate",h,n),y=Dw(t),O=S.useCallback(v=>f(v.target.checked),[f]),b=S.useCallback(v=>u(r,v.target.checked),[u,r]),w=S.useCallback(v=>d(r,v.target.checked),[d,r]),x=(m=n.description)!==null&&m!==void 0?m:t.description;return p.jsxs("div",{className:`checkbox ${s||o?"disabled":""}`,children:[!l&&!!x&&p.jsx(g,{id:rm(r),description:x,schema:t,uiSchema:e,registry:h}),p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",id:r,name:r,checked:typeof i>"u"?!1:i,required:y,disabled:s||o,autoFocus:c,onChange:O,onBlur:b,onFocus:w,"aria-describedby":xo(r)}),NYe(p.jsx("span",{children:a}),l)]})]})}var Oae,kJe=D(()=>{Xe(),Oae=SJe});function $Je({id:t,disabled:e,options:{inline:n=!1,enumOptions:r,enumDisabled:i,emptyValue:s},value:o,autofocus:a=!1,readonly:l,onChange:c,onBlur:u,onFocus:d}){let f=Array.isArray(o)?o:[o],h=S.useCallback(({target:g})=>u(t,br(g&&g.value,r,s)),[u,t]),m=S.useCallback(({target:g})=>d(t,br(g&&g.value,r,s)),[d,t]);return p.jsx("div",{className:"checkboxes",id:t,children:Array.isArray(r)&&r.map((g,y)=>{let O=ib(g.value,f),b=Array.isArray(i)&&i.indexOf(g.value)!==-1,w=e||b||l?"disabled":"",x=k=>{k.target.checked?c(Qse(y,f,r)):c(Tse(y,f,r))},v=p.jsxs("span",{children:[p.jsx("input",{type:"checkbox",id:kk(t,y),name:t,checked:O,value:String(y),disabled:e||b||l,autoFocus:a&&y===0,onChange:x,onBlur:h,onFocus:m,"aria-describedby":xo(t)}),p.jsx("span",{children:g.label})]});return n?p.jsx("label",{className:`checkbox-inline ${w}`,children:v},y):p.jsx("div",{className:`checkbox ${w}`,children:p.jsx("label",{children:v})},y)})})}var bae,CJe=D(()=>{Xe(),bae=$Je});function PJe(t){let{disabled:e,readonly:n,options:r,registry:i}=t,s=ft("BaseInputTemplate",i,r);return p.jsx(s,{type:"color",...t,disabled:e||n})}var jJe=D(()=>{Xe()});function NJe(t){let{onChange:e,options:n,registry:r}=t,i=ft("BaseInputTemplate",r,n),s=S.useCallback(o=>e(o||void 0),[e]);return p.jsx(i,{type:"date",...t,onChange:s})}var EJe=D(()=>{Xe()});function _Je(t){let{onChange:e,value:n,options:r,registry:i}=t,s=ft("BaseInputTemplate",i,r);return p.jsx(s,{type:"datetime-local",...t,value:zYe(n),onChange:o=>e(_Ye(o))})}var TJe=D(()=>{Xe()});function AJe(t){let{options:e,registry:n}=t,r=ft("BaseInputTemplate",n,e);return p.jsx(r,{type:"email",...t})}var RJe=D(()=>{Xe()});function MJe(t,e){return t===null?null:t.replace(";base64",`;name=${encodeURIComponent(e)};base64`)}function QJe(t){let{name:e,size:n,type:r}=t;return new Promise((i,s)=>{let o=new window.FileReader;o.onerror=s,o.onload=a=>{var l;typeof((l=a.target)===null||l===void 0?void 0:l.result)=="string"?i({dataURL:MJe(a.target.result,e),name:e,size:n,type:r}):i({dataURL:null,name:e,size:n,type:r})},o.readAsDataURL(t)})}function IJe(t){return Promise.all(Array.from(t).map(QJe))}function DJe({fileInfo:t,registry:e}){let{translateString:n}=e,{dataURL:r,type:i,name:s}=t;return r?["image/jpeg","image/png"].includes(i)?p.jsx("img",{src:r,style:{maxWidth:"100%"},className:"file-preview"}):p.jsxs(p.Fragment,{children:[" ",p.jsx("a",{download:`preview-${s}`,href:r,className:"file-download",children:n(Pt.PreviewLabel)})]}):null}function LJe({filesInfo:t,registry:e,preview:n,onRemove:r,options:i}){if(t.length===0)return null;let{translateString:s}=e,{RemoveButton:o}=ft("ButtonTemplates",e,i);return p.jsx("ul",{className:"file-info",children:t.map((a,l)=>{let{name:c,size:u,type:d}=a,f=()=>r(l);return p.jsxs("li",{children:[p.jsx(ob,{children:s(Pt.FilesInfo,[c,d,String(u)])}),n&&p.jsx(DJe,{fileInfo:a,registry:e}),p.jsx(o,{onClick:f,registry:e})]},l)})})}function FJe(t){return t.reduce((e,n)=>{if(!n)return e;try{let{blob:r,name:i}=oYe(n);return[...e,{dataURL:n,name:i,size:r.size,type:r.type}]}catch{return e}},[])}function VJe(t){let{disabled:e,readonly:n,required:r,multiple:i,onChange:s,value:o,options:a,registry:l}=t,c=ft("BaseInputTemplate",l,a),u=S.useCallback(h=>{h.target.files&&IJe(h.target.files).then(m=>{let g=m.map(y=>y.dataURL);s(i?o.concat(g):g[0])})},[i,o,s]),d=S.useMemo(()=>FJe(Array.isArray(o)?o:[o]),[o]),f=S.useCallback(h=>{if(i){let m=o.filter((g,y)=>y!==h);s(m)}else s(void 0)},[i,o,s]);return p.jsxs("div",{children:[p.jsx(c,{...t,disabled:e||n,type:"file",required:o?!1:r,onChangeOverride:u,value:"",accept:a.accept?String(a.accept):void 0}),p.jsx(LJe,{filesInfo:d,onRemove:f,registry:l,preview:a.filePreview,options:a})]})}var xae,BJe=D(()=>{Xe(),Pk(),xae=VJe});function qJe({id:t,value:e}){return p.jsx("input",{type:"hidden",id:t,name:t,value:typeof e>"u"?"":e})}var wae,WJe=D(()=>{wae=qJe});function zJe(t){let{options:e,registry:n}=t,r=ft("BaseInputTemplate",n,e);return p.jsx(r,{type:"password",...t})}var ZJe=D(()=>{Xe()});function UJe({options:t,value:e,required:n,disabled:r,readonly:i,autofocus:s=!1,onBlur:o,onFocus:a,onChange:l,id:c}){let{enumOptions:u,enumDisabled:d,inline:f,emptyValue:h}=t,m=S.useCallback(({target:y})=>o(c,br(y&&y.value,u,h)),[o,c]),g=S.useCallback(({target:y})=>a(c,br(y&&y.value,u,h)),[a,c]);return p.jsx("div",{className:"field-radio-group",id:c,children:Array.isArray(u)&&u.map((y,O)=>{let b=ib(y.value,e),w=Array.isArray(d)&&d.indexOf(y.value)!==-1,x=r||w||i?"disabled":"",v=()=>l(y.value),k=p.jsxs("span",{children:[p.jsx("input",{type:"radio",id:kk(c,O),checked:b,name:c,required:n,value:String(O),disabled:r||w||i,autoFocus:s&&O===0,onChange:v,onBlur:m,onFocus:g,"aria-describedby":xo(c)}),p.jsx("span",{children:y.label})]});return f?p.jsx("label",{className:`radio-inline ${x}`,children:k},O):p.jsx("div",{className:`radio ${x}`,children:p.jsx("label",{children:k})},O)})})}var vae,XJe=D(()=>{Xe(),vae=UJe});function GJe(t){let{value:e,registry:{templates:{BaseInputTemplate:n}}}=t;return p.jsxs("div",{className:"field-range-wrapper",children:[p.jsx(n,{type:"range",...t}),p.jsx("span",{className:"range-view",children:e})]})}var YJe=D(()=>{});function ij(t,e){return e?Array.from(t.target.options).slice().filter(n=>n.selected).map(n=>n.value):t.target.value}function HJe({schema:t,id:e,options:n,value:r,required:i,disabled:s,readonly:o,multiple:a=!1,autofocus:l=!1,onChange:c,onBlur:u,onFocus:d,placeholder:f}){let{enumOptions:h,enumDisabled:m,emptyValue:g}=n,y=a?[]:"",O=S.useCallback(k=>{let $=ij(k,a);return d(e,br($,h,g))},[d,e,t,a,h,g]),b=S.useCallback(k=>{let $=ij(k,a);return u(e,br($,h,g))},[u,e,t,a,h,g]),w=S.useCallback(k=>{let $=ij(k,a);return c(br($,h,g))},[c,t,a,h,g]),x=Rse(r,h,a),v=!a&&t.default===void 0;return p.jsxs("select",{id:e,name:e,multiple:a,className:"form-control",value:typeof x>"u"?y:x,required:i,disabled:s||o,autoFocus:l,onBlur:b,onFocus:O,onChange:w,"aria-describedby":xo(e),children:[v&&p.jsx("option",{value:"",children:f}),Array.isArray(h)&&h.map(({value:k,label:$},C)=>{let N=m&&m.indexOf(k)!==-1;return p.jsx("option",{value:String(C),disabled:N,children:$},C)})]})}var Sae,JJe=D(()=>{Xe(),Sae=HJe});function hz({id:t,options:e={},placeholder:n,value:r,required:i,disabled:s,readonly:o,autofocus:a=!1,onChange:l,onBlur:c,onFocus:u}){let d=S.useCallback(({target:{value:m}})=>l(m===""?e.emptyValue:m),[l,e.emptyValue]),f=S.useCallback(({target:m})=>c(t,m&&m.value),[c,t]),h=S.useCallback(({target:m})=>u(t,m&&m.value),[t,u]);return p.jsx("textarea",{id:t,name:t,className:"form-control",value:r||"",placeholder:n,required:i,disabled:s,readOnly:o,autoFocus:a,rows:e.rows,onBlur:f,onFocus:h,onChange:d,"aria-describedby":xo(t)})}var kae,KJe=D(()=>{Xe(),hz.defaultProps={autofocus:!1,options:{}},kae=hz});function eKe(t){let{options:e,registry:n}=t,r=ft("BaseInputTemplate",n,e);return p.jsx(r,{...t})}var tKe=D(()=>{Xe()});function nKe(t){let{onChange:e,options:n,registry:r}=t,i=ft("BaseInputTemplate",r,n),s=S.useCallback(o=>e(o?`${o}:00`:void 0),[e]);return p.jsx(i,{type:"time",...t,onChange:s})}var rKe=D(()=>{Xe()});function iKe(t){let{options:e,registry:n}=t,r=ft("BaseInputTemplate",n,e);return p.jsx(r,{type:"url",...t})}var sKe=D(()=>{Xe()});function oKe(t){let{options:e,registry:n}=t,r=ft("BaseInputTemplate",n,e);return p.jsx(r,{type:"number",...t})}var aKe=D(()=>{Xe()});function lKe(){return{AltDateWidget:gae,AltDateTimeWidget:yae,CheckboxWidget:Oae,CheckboxesWidget:bae,ColorWidget:PJe,DateWidget:NJe,DateTimeWidget:_Je,EmailWidget:AJe,FileWidget:xae,HiddenWidget:wae,PasswordWidget:zJe,RadioWidget:vae,RangeWidget:GJe,SelectWidget:Sae,TextWidget:eKe,TextareaWidget:kae,TimeWidget:nKe,UpDownWidget:oKe,URLWidget:iKe}}var $ae,cKe=D(()=>{xJe(),vJe(),kJe(),CJe(),jJe(),EJe(),TJe(),RJe(),BJe(),WJe(),ZJe(),XJe(),YJe(),JJe(),KJe(),tKe(),rKe(),sKe(),aKe(),$ae=lKe});function uKe(){return{fields:oae(),templates:mae(),widgets:$ae(),rootSchema:{},formContext:{},translateString:uYe}}var Cae=D(()=>{Xe(),NHe(),gJe(),cKe()}),pz,mz,gz,yz,sj,Oz,Pae,jae=D(()=>{Xe(),pz=Ee(wk()),mz=Ee(ar()),gz=Ee(tb()),yz=Ee(Mse()),sj=Ee(nHe()),Oz=Ee(Jse()),Cae(),Pae=class extends S.Component{constructor(t){if(super(t),this.getUsedFormData=(e,n)=>{if(n.length===0&&typeof e!="object")return e;let r=(0,sj.default)(e,n);return Array.isArray(e)?Object.keys(r).map(i=>r[i]):r},this.getFieldNames=(e,n)=>{let r=(i,s=[],o=[[]])=>(Object.keys(i).forEach(a=>{if(typeof i[a]=="object"){let l=o.map(c=>[...c,a]);i[a][IQ]&&i[a][kg]!==""?s.push(i[a][kg]):r(i[a],s,l)}else a===kg&&i[a]!==""&&o.forEach(l=>{let c=(0,mz.default)(n,l);(typeof c!="object"||(0,gz.default)(c)||Array.isArray(c)&&c.every(u=>typeof u!="object"))&&s.push(l)})}),s);return r(e)},this.omitExtraData=e=>{let{schema:n,schemaUtils:r}=this.state,i=r.retrieveSchema(n,e),s=r.toPathSchema(i,"",e),o=this.getFieldNames(s,e);return this.getUsedFormData(e,o)},this.onChange=(e,n,r)=>{let{extraErrors:i,omitExtraData:s,liveOmit:o,noValidate:a,liveValidate:l,onChange:c}=this.props,{schemaUtils:u,schema:d,retrievedSchema:f}=this.state;(Dt(e)||Array.isArray(e))&&(e=this.getStateFromProps(this.props,e,f).formData);let h=!a&&l,m={formData:e,schema:d},g=e;if(s===!0&&o===!0&&(g=this.omitExtraData(e),m={formData:g}),h){let y=this.validate(g,d,u,f),O=y.errors,b=y.errorSchema,w=O,x=b;if(i){let v=JP(y,i);b=v.errorSchema,O=v.errors}if(n){let v=this.filterErrorsBasedOnSchema(n,f,g);b=Tc(b,v,"preventDuplicates")}m={formData:g,errors:O,errorSchema:b,schemaValidationErrors:w,schemaValidationErrorSchema:x}}else if(!a&&n){let y=i?Tc(n,i,"preventDuplicates"):n;m={formData:g,errorSchema:y,errors:V0(y)}}this.setState(m,()=>c&&c({...this.state,...m},r))},this.reset=()=>{let{onChange:e}=this.props,n={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(n,()=>e&&e({...this.state,...n}))},this.onBlur=(e,n)=>{let{onBlur:r}=this.props;r&&r(e,n)},this.onFocus=(e,n)=>{let{onFocus:r}=this.props;r&&r(e,n)},this.onSubmit=e=>{if(e.preventDefault(),e.target!==e.currentTarget)return;e.persist();let{omitExtraData:n,extraErrors:r,noValidate:i,onSubmit:s}=this.props,{formData:o}=this.state;if(n===!0&&(o=this.omitExtraData(o)),i||this.validateFormWithFormData(o)){let a=r||{},l=r?V0(r):[];this.setState({formData:o,errors:l,errorSchema:a,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{s&&s({...this.state,formData:o,status:"submitted"},e)})}},this.submit=()=>{if(this.formElement.current){let e=new CustomEvent("submit",{cancelable:!0});e.preventDefault(),this.formElement.current.dispatchEvent(e),this.formElement.current.requestSubmit()}},this.validateFormWithFormData=e=>{let{extraErrors:n,extraErrorsBlockSubmit:r,focusOnFirstError:i,onError:s}=this.props,{errors:o}=this.state,a=this.validate(e),l=a.errors,c=a.errorSchema,u=l,d=c,f=l.length>0||n&&r;if(f){if(n){let h=JP(a,n);c=h.errorSchema,l=h.errors}i&&(typeof i=="function"?i(l[0]):this.focusOnError(l[0])),this.setState({errors:l,errorSchema:c,schemaValidationErrors:u,schemaValidationErrorSchema:d},()=>{s?s(l):console.error("Form validation failed",l)})}else o.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!f},!t.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(t,t.formData),this.props.onChange&&!Ar(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=S.createRef()}getSnapshotBeforeUpdate(t,e){if(!Ar(this.props,t)){let n=!Ar(t.schema,this.props.schema),r=!Ar(t.formData,this.props.formData),i=this.getStateFromProps(this.props,this.props.formData,n||r?void 0:this.state.retrievedSchema,n),s=!Ar(i,e);return{nextState:i,shouldUpdate:s}}return{shouldUpdate:!1}}componentDidUpdate(t,e,n){if(n.shouldUpdate){let{nextState:r}=n;!Ar(r.formData,this.props.formData)&&!Ar(r.formData,e.formData)&&this.props.onChange&&this.props.onChange(r),this.setState(r)}}getStateFromProps(t,e,n,r=!1){var i;let s=this.state||{},o="schema"in t?t.schema:this.props.schema,a=("uiSchema"in t?t.uiSchema:this.props.uiSchema)||{},l=typeof e<"u",c="liveValidate"in t?t.liveValidate:this.props.liveValidate,u=l&&!t.noValidate&&c,d=o,f="experimental_defaultFormStateBehavior"in t?t.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,h="experimental_customMergeAllOf"in t?t.experimental_customMergeAllOf:this.props.experimental_customMergeAllOf,m=s.schemaUtils;(!m||m.doesSchemaUtilsDiffer(t.validator,d,f,h))&&(m=iYe(t.validator,d,f,h));let g=m.getDefaultFormState(o,e),y=n??m.retrieveSchema(o,g),O=()=>t.noValidate||r?{errors:[],errorSchema:{}}:t.liveValidate?{errors:s.errors||[],errorSchema:s.errorSchema||{}}:{errors:s.schemaValidationErrors||[],errorSchema:s.schemaValidationErrorSchema||{}},b,w,x=s.schemaValidationErrors,v=s.schemaValidationErrorSchema;if(u){let $=this.validate(g,o,m,y);b=$.errors,n===void 0?w=$.errorSchema:w=Tc((i=this.state)===null||i===void 0?void 0:i.errorSchema,$.errorSchema,"preventDuplicates"),x=b,v=w}else{let $=O();b=$.errors,w=$.errorSchema}if(t.extraErrors){let $=JP({errorSchema:w,errors:b},t.extraErrors);w=$.errorSchema,b=$.errors}let k=m.toIdSchema(y,a["ui:rootFieldId"],g,t.idPrefix,t.idSeparator);return{schemaUtils:m,schema:o,uiSchema:a,idSchema:k,formData:g,edit:l,errors:b,errorSchema:w,schemaValidationErrors:x,schemaValidationErrorSchema:v,retrievedSchema:y}}shouldComponentUpdate(t,e){return LYe(this,t,e)}validate(t,e=this.props.schema,n,r){let i=n||this.state.schemaUtils,{customValidate:s,transformErrors:o,uiSchema:a}=this.props,l=r??i.retrieveSchema(e,t);return i.getValidator().validateFormData(t,l,s,o,a)}renderErrors(t){let{errors:e,errorSchema:n,schema:r,uiSchema:i}=this.state,{formContext:s}=this.props,o=mt(i),a=ft("ErrorListTemplate",t,o);return e&&e.length?p.jsx(a,{errors:e,errorSchema:n||{},schema:r,uiSchema:i,formContext:s,registry:t}):null}filterErrorsBasedOnSchema(t,e,n){let{retrievedSchema:r,schemaUtils:i}=this.state,s=e??r,o=i.toPathSchema(s,"",n),a=this.getFieldNames(o,n),l=(0,sj.default)(t,a);(e==null?void 0:e.type)!=="object"&&(e==null?void 0:e.type)!=="array"&&(l.__errors=t.__errors);let c=u=>((0,pz.default)(u,(d,f)=>{(0,yz.default)(d)?delete u[f]:typeof d=="object"&&!Array.isArray(d.__errors)&&c(d)}),u);return c(l)}getRegistry(){var t;let{translateString:e,uiSchema:n={}}=this.props,{schemaUtils:r}=this.state,{fields:i,templates:s,widgets:o,formContext:a,translateString:l}=uKe();return{fields:{...i,...this.props.fields},templates:{...s,...this.props.templates,ButtonTemplates:{...s.ButtonTemplates,...(t=this.props.templates)===null||t===void 0?void 0:t.ButtonTemplates}},widgets:{...o,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||a,schemaUtils:r,translateString:e||l,globalUiOptions:n[qre]}}focusOnError(t){let{idPrefix:e="root",idSeparator:n="_"}=this.props,{property:r}=t,i=(0,Oz.default)(r);i[0]===""?i[0]=e:i.unshift(e);let s=i.join(n),o=this.formElement.current.elements[s];o||(o=this.formElement.current.querySelector(`input[id^="${s}"`)),o&&o.length&&(o=o[0]),o&&o.focus()}validateForm(){let{omitExtraData:t}=this.props,{formData:e}=this.state;return t===!0&&(e=this.omitExtraData(e)),this.validateFormWithFormData(e)}render(){let{children:t,id:e,idPrefix:n,idSeparator:r,className:i="",tagName:s,name:o,method:a,target:l,action:c,autoComplete:u,enctype:d,acceptcharset:f,acceptCharset:h,noHtml5Validate:m=!1,disabled:g,readonly:y,formContext:O,showErrorList:b="top",_internalFormWrapper:w}=this.props,{schema:x,uiSchema:v,formData:k,errorSchema:$,idSchema:C}=this.state,N=this.getRegistry(),{SchemaField:P}=N.fields,{SubmitButton:R}=N.templates.ButtonTemplates,T=w?s:void 0,A=w||s||"form",{[Ry]:j={}}=mt(v);g&&(j={...j,props:{...j.props,disabled:!0}});let E={[ih]:{[Ry]:j}};return p.jsxs(A,{className:i||"rjsf",id:e,name:o,method:a,target:l,action:c,autoComplete:u,encType:d,acceptCharset:h||f,noValidate:m,onSubmit:this.onSubmit,as:T,ref:this.formElement,children:[b==="top"&&this.renderErrors(N),p.jsx(P,{name:"",schema:x,uiSchema:v,errorSchema:$,idSchema:C,idPrefix:n,idSeparator:r,formContext:O,formData:k,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:N,disabled:g,readonly:y}),t||p.jsx(R,{uiSchema:E,registry:N}),b==="bottom"&&this.renderErrors(N)]})}}}),dKe=D(()=>{jae()}),Nae,Eae=D(()=>{jae(),dKe(),Cae(),Nae=Pae}),jI={};mo(jI,{default:()=>fKe});function fKe({editable:t,basicSetup:e,_extensions:n={},...r}){let i=st().app.getAdminConfig().color_scheme,s=t?e:{...typeof e=="object"?e:{},highlightActiveLine:!1,highlightActiveLineGutter:!1},o=Object.entries(n??{}).map(([a,l])=>{switch(a){case"json":return XAe();case"liquid":return $Qe(l)}}).filter(Boolean);return p.jsx(dY,{theme:i==="dark"?"dark":"light",editable:t,basicSetup:s,extensions:o,...r})}var _ae=D(()=>{Ht()});function NI({editable:t,className:e,...n}){return p.jsx(S.Suspense,{fallback:null,children:p.jsx(Tae,{className:Qe("flex w-full border border-muted",!t&&"opacity-70",e),editable:t,_extensions:{json:!0},...n})})}var Tae,EI=D(()=>{kt(),Tae=S.lazy(()=>Promise.resolve().then(()=>(_ae(),jI)))});function lb(t){let{label:e,required:n,id:r}=t;return e?p.jsxs("label",{className:"control-label",htmlFor:r,children:[NZe(e),n&&p.jsx("span",{className:"required",children:Aae})]}):null}function hKe(t){let{id:e,label:n,children:r,errors:i,help:s,description:o,hidden:a,required:l,displayLabel:c,registry:u,uiSchema:d}=t,f=mt(d,u.globalUiOptions),h=ft("WrapIfAdditionalTemplate",u,f);return a?p.jsx("div",{className:"hidden",children:r}):p.jsxs(h,{...t,children:[p.jsxs("div",{className:"flex flex-col flex-grow gap-2 additional",children:[p.jsx("div",{className:Qe("flex flex-grow additional-children",f.flexDirection==="row"?"flex-row items-center gap-3":"flex-col flex-grow gap-2"),children:r}),c&&o?o:null]}),i,s]})}var Aae,im=D(()=>{Xe(),ve(),kt(),Aae="*"});function pKe({formData:t,onChange:e,disabled:n,readonly:r,...i}){let s=JSON.stringify(t,null,2);function o(c){try{e(JSON.parse(c))}catch(u){console.error(u)}}let a=n||r,l=i.idSchema.$id;return p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx(lb,{label:i.name,id:l}),p.jsx(NI,{value:s,editable:!a,onChange:o})]})}var mKe=D(()=>{EI(),im()});function _I({editable:t,...e}){return p.jsx(S.Suspense,{fallback:null,children:p.jsx(Rae,{className:Qe("flex w-full border border-muted bg-white rounded-lg",!t&&"opacity-70"),editable:t,_extensions:{liquid:{filters:Mae,tags:Qae}},...e})})}var Rae,Mae,Qae,TI=D(()=>{kt(),Rae=S.lazy(()=>Promise.resolve().then(()=>(_ae(),jI))),Mae=[{label:"abs"},{label:"append"},{label:"array_to_sentence_string"},{label:"at_least"},{label:"at_most"},{label:"capitalize"},{label:"ceil"},{label:"cgi_escape"},{label:"compact"},{label:"concat"},{label:"date"},{label:"date_to_long_string"},{label:"date_to_rfc822"},{label:"date_to_string"},{label:"date_to_xmlschema"},{label:"default"},{label:"divided_by"},{label:"downcase"},{label:"escape"},{label:"escape_once"},{label:"find"},{label:"find_exp"},{label:"first"},{label:"floor"},{label:"group_by"},{label:"group_by_exp"},{label:"inspect"},{label:"join"},{label:"json"},{label:"jsonify"},{label:"last"},{label:"lstrip"},{label:"map"},{label:"minus"},{label:"modulo"},{label:"newline_to_br"},{label:"normalize_whitespace"},{label:"number_of_words"},{label:"plus"},{label:"pop"},{label:"push"},{label:"prepend"},{label:"raw"},{label:"remove"},{label:"remove_first"},{label:"remove_last"},{label:"replace"},{label:"replace_first"},{label:"replace_last"},{label:"reverse"},{label:"round"},{label:"rstrip"},{label:"shift"},{label:"size"},{label:"slice"},{label:"slugify"},{label:"sort"},{label:"sort_natural"},{label:"split"},{label:"strip"},{label:"strip_html"},{label:"strip_newlines"},{label:"sum"},{label:"times"},{label:"to_integer"},{label:"truncate"},{label:"truncatewords"},{label:"uniq"},{label:"unshift"},{label:"upcase"},{label:"uri_escape"},{label:"url_decode"},{label:"url_encode"},{label:"where"},{label:"where_exp"},{label:"xml_escape"}],Qae=[{label:"assign"},{label:"capture"},{label:"case"},{label:"comment"},{label:"cycle"},{label:"decrement"},{label:"echo"},{label:"else"},{label:"elsif"},{label:"for"},{label:"if"},{label:"include"},{label:"increment"},{label:"layout"},{label:"liquid"},{label:"raw"},{label:"render"},{label:"tablerow"},{label:"unless"},{label:"when"}]});function gKe({formData:t,onChange:e,disabled:n,readonly:r,...i}){function s(l){e(l)}let o=n||r,a=i.idSchema.$id;return p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx(lb,{label:i.name,id:a}),p.jsx(_I,{value:t,editable:!o,onChange:s})]})}var yKe=D(()=>{TI(),im()}),bz,D_,OKe=D(()=>{Xe(),kt(),im(),bz=class extends S.Component{constructor(e){super(e);Y(this,"onOptionChange",e=>{let{selectedOption:n,retrievedOptions:r}=this.state,{formData:i,onChange:s,registry:o}=this.props;console.log("onOptionChange",{state:{selectedOption:n,retrievedOptions:r},option:e});let{schemaUtils:a}=o,l=e!==void 0?Number.parseInt(e,10):-1;if(l===n)return;let c=l>=0?r[l]:void 0,u=n>=0?r[n]:void 0,d=a.sanitizeDataForNewSchema(c,u,i);d&&c&&(d=a.getDefaultFormState(c,d,"excludeObjectChildren")),s(d,void 0,this.getFieldId()),this.setState({selectedOption:l})});let{formData:n,options:r,registry:{schemaUtils:i}}=this.props,s=r.map(o=>i.retrieveSchema(o,n));this.state={retrievedOptions:s,selectedOption:this.getMatchingOption(0,n,s)}}componentDidUpdate(e,n){let{formData:r,options:i,idSchema:s}=this.props,{selectedOption:o}=this.state,a=this.state;if(!Ar(e.options,i)){let{registry:{schemaUtils:l}}=this.props,c=i.map(u=>l.retrieveSchema(u,r));a={selectedOption:o,retrievedOptions:c}}if(!Ar(r,e.formData)&&s.$id===e.idSchema.$id){let{retrievedOptions:l}=a,c=this.getMatchingOption(o,r,l);n&&c!==o&&(a={selectedOption:c,retrievedOptions:l})}a!==this.state&&this.setState(a)}getMatchingOption(e,n,r){let{schema:i,registry:{schemaUtils:s}}=this.props,o=Qd(i);return s.getClosestMatchingOption(n,r,e,o)}getFieldId(){let{idSchema:e,schema:n}=this.props;return`${e.$id}${n.oneOf?"__oneof_select":"__anyof_select"}`}render(){let{name:e,disabled:n=!1,errorSchema:r={},formContext:i,onBlur:s,onFocus:o,registry:a,schema:l,uiSchema:c,readonly:u}=this.props,{widgets:d,fields:f,translateString:h,globalUiOptions:m,schemaUtils:g}=a,{SchemaField:y}=f,{selectedOption:O,retrievedOptions:b}=this.state,{widget:w="select",placeholder:x,autofocus:v,autocomplete:k,title:$=l.title,flexDirection:C,wrap:N,...P}=mt(c,m),R=sa({type:"number"},w,d),T=Eg(r,cs,[]),A=Ks(r,[cs]),j=g.getDisplayLabel(l,c,m),E=O>=0&&b[O]||null,_;if(E){let{required:le}=l;_=le?ha({required:le},E):E}let Q=[];yr in l&&c&&yr in c?Array.isArray(c[yr])?Q=c[yr]:console.warn(`uiSchema.oneOf is not an array for "${$||e}"`):Hr in l&&c&&Hr in c&&(Array.isArray(c[Hr])?Q=c[Hr]:console.warn(`uiSchema.anyOf is not an array for "${$||e}"`));let M=c;O>=0&&Q.length>O&&(M=Q[O]);let L=$?Pt.TitleOptionPrefix:Pt.OptionPrefix,V=$?[$]:[],W=b.map((le,fe)=>{let{title:U=le.title}=mt(Q[fe]);return{label:U||h(L,V.concat(String(fe+1))),value:fe}}),H=_&&p.jsx(y,{...this.props,schema:_,uiSchema:{...M,"ui:options":{...M==null?void 0:M["ui:options"],hideLabel:!0}}});return p.jsxs("div",{className:Qe("panel multischema flex",C==="row"?"flex-row gap-3":"flex-col gap-2"),children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center panel-select",children:[p.jsx(lb,{label:this.props.name,required:this.props.required,id:this.getFieldId()}),p.jsx(R,{id:this.getFieldId(),name:`${e}${l.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:s,onFocus:o,disabled:n||Bhe(W)||u,multiple:!1,rawErrors:T,errorSchema:A,value:O>=0?O:void 0,options:{enumOptions:W,...P},registry:a,formContext:i,placeholder:x,autocomplete:k,autofocus:v,label:"",hideLabel:!j})]}),N?p.jsx("fieldset",{children:H}):H]})}},D_=bz}),Iae,bKe=D(()=>{mKe(),yKe(),OKe(),Iae={AnyOfField:D_,OneOfField:D_,JsonField:pKe,LiquidJsField:gKe}});function xKe(t){let{children:e,className:n,disabled:r,hasToolbar:i,hasMoveDown:s,hasMoveUp:o,hasRemove:a,hasCopy:l,index:c,onCopyIndexClick:u,onDropIndexClick:d,onReorderClick:f,readonly:h,registry:m,uiSchema:g}=t,{CopyButton:y,MoveDownButton:O,MoveUpButton:b,RemoveButton:w}=m.templates.ButtonTemplates;return p.jsxs("div",{className:Qe("flex flex-row w-full overflow-hidden",n),children:[i&&p.jsxs("div",{className:"flex flex-col gap-1 p-1 mr-2",children:[(o||s)&&p.jsx(b,{disabled:r||h||!o,onClick:f(c,c-1),uiSchema:g,registry:m}),(o||s)&&p.jsx(O,{disabled:r||h||!s,onClick:f(c,c+1),uiSchema:g,registry:m}),l&&p.jsx(y,{disabled:r||h,onClick:u(c),uiSchema:g,registry:m}),a&&p.jsx(w,{disabled:r||h,onClick:d(c),uiSchema:g,registry:m})]}),p.jsx("div",{className:"flex flex-col flex-grow",children:e})]})}var wKe=D(()=>{kt()});function vKe(t){let{canAdd:e,className:n,disabled:r,idSchema:i,uiSchema:s,items:o,onAddClick:a,readonly:l,registry:c,required:u,schema:d,title:f}=t,h=mt(s),m=ft("ArrayFieldDescriptionTemplate",c,h),g=ft("ArrayFieldItemTemplate",c,h),y=ft("ArrayFieldTitleTemplate",c,h),{ButtonTemplates:{AddButton:O}}=c.templates;return p.jsxs("fieldset",{className:n,id:i.$id,children:[p.jsx(y,{idSchema:i,title:h.title||f,required:u,schema:d,uiSchema:s,registry:c}),p.jsx(m,{idSchema:i,description:h.description||d.description,schema:d,uiSchema:s,registry:c}),o&&o.length>0&&p.jsx("div",{className:"flex flex-col gap-3 array-items",children:o.map(({key:b,children:w,...x})=>{let v=S.cloneElement(w,{...w.props,name:void 0,title:void 0});return p.jsx(g,{...x,children:v},b)})}),e&&p.jsx(O,{className:"array-item-add",onClick:a,disabled:r||l,uiSchema:s,registry:c})]})}var SKe=D(()=>{Xe()});function kKe(t){var R,T;let{id:e,name:n,value:r,readonly:i,disabled:s,autofocus:o,onBlur:a,onFocus:l,onChange:c,onChangeOverride:u,options:d,schema:f,uiSchema:h,formContext:m,registry:g,rawErrors:y,type:O,hideLabel:b,hideError:w,...x}=t;if(!e)throw console.log("No id for",t),new Error(`no id for props ${JSON.stringify(t)}`);let v={...x,...Vse(f,O,d)},k;v.type==="number"||v.type==="integer"?k=r||r===0?r:"":k=r??"";let $=S.useCallback(({target:{value:A}})=>c(A===""?d.emptyValue:A),[c,d]),C=S.useCallback(({target:A})=>a(e,A&&A.value),[a,e]),N=S.useCallback(({target:A})=>l(e,A&&A.value),[l,e]),P=!t.label||((R=h["ui:options"])==null?void 0:R.hideLabel)||((T=t.options)==null?void 0:T.hideLabel)||t.hideLabel;return p.jsxs(p.Fragment,{children:[!P&&p.jsx(lb,{label:t.label,required:t.required,id:e}),p.jsx("input",{id:e,name:e,className:"form-control",readOnly:i,disabled:s,autoFocus:o,value:k,...v,placeholder:t.label,list:f.examples?Ly(e):void 0,onChange:u||$,onBlur:C,onFocus:N,"aria-describedby":xo(e,!!f.examples)}),Array.isArray(f.examples)&&p.jsx("datalist",{id:Ly(e),children:f.examples.concat(f.default&&!f.examples.includes(f.default)?[f.default]:[]).map(A=>p.jsx("option",{value:A},A))},`datalist_${e}`)]})}var $Ke=D(()=>{Xe(),im()}),Dae={};mo(Dae,{AddButton:()=>Lae,MoveDownButton:()=>Bae,MoveUpButton:()=>Vae,RemoveButton:()=>Fae});var Lae,Fae,Vae,Bae,CKe=D(()=>{Ct(),$t(),Lt(),Lae=({onClick:t,disabled:e,...n})=>p.jsx("div",{className:"flex flex-row",children:p.jsx(Ze,{onClick:t,disabled:e,IconLeft:bQ,children:"Add"})}),Fae=({onClick:t,disabled:e,...n})=>p.jsx("div",{className:"flex flex-row",children:p.jsx(dt,{onClick:t,disabled:e,Icon:pre})}),Vae=({onClick:t,disabled:e,...n})=>p.jsx("div",{className:"flex flex-row",children:p.jsx(dt,{onClick:t,disabled:e,Icon:yQ})}),Bae=({onClick:t,disabled:e,...n})=>p.jsx("div",{className:"flex flex-row",children:p.jsx(dt,{onClick:t,disabled:e,Icon:mQ})})});function PKe(t){let{description:e,disabled:n,formData:r,idSchema:i,onAddClick:s,properties:o,readonly:a,registry:l,required:c,schema:u,title:d,uiSchema:f}=t,h=mt(f),m=ft("TitleFieldTemplate",l,h),g=ft("DescriptionFieldTemplate",l,h),y=Wre(u,f,r);if(o.length===0&&!y)return null;let{ButtonTemplates:{AddButton:O}}=l.templates;return p.jsx(p.Fragment,{children:p.jsxs("fieldset",{id:i.$id,className:"object-field",children:[d&&p.jsx(m,{id:$I(i),title:d,required:c,schema:u,uiSchema:f,registry:l}),e&&p.jsx(g,{id:rm(i),description:e,schema:u,uiSchema:f,registry:l}),o.map(b=>b.content),y&&p.jsx(O,{className:"object-property-expand",onClick:s(u),disabled:n||a,uiSchema:f,registry:l})]})})}var jKe=D(()=>{Xe()});function NKe(t){let{id:e,title:n,required:r}=t;return p.jsx("legend",{id:e,className:"title-field",children:Qp(n)})}var EKe=D(()=>{ve()});function _Ke(t){let{id:e,classNames:n,style:r,disabled:i,label:s,onKeyChange:o,onDropPropertyClick:a,readonly:l,required:c,schema:u,children:d,uiSchema:f,registry:h}=t,{templates:m,translateString:g}=h,{RemoveButton:y}=m.ButtonTemplates;g(Pt.KeyLabel,[s]);let O=zp in u,[b,w]=S.useState(!0);return O?p.jsx("div",{className:n,style:r,children:p.jsx("div",{className:"flex flex-col",children:p.jsxs("fieldset",{children:[p.jsxs("legend",{className:"flex flex-row justify-between gap-3",children:[p.jsx(y,{className:"array-item-remove btn-block",style:{border:"0"},disabled:i||l,onClick:a(s),uiSchema:f,registry:h}),p.jsx("div",{className:"form-group",children:p.jsx("input",{className:"form-control",type:"text",id:`${e}-key`,onBlur:x=>o(x.target.value),defaultValue:s})}),p.jsx("button",{onClick:()=>w(x=>!x),children:b?"collapse":"expand"})]}),b&&p.jsx("div",{className:"form-additional additional-start form-group",children:d})]})})}):p.jsx("div",{className:n,style:r,children:d})}var TKe=D(()=>{Xe()}),qae,AKe=D(()=>{wKe(),SKe(),$Ke(),CKe(),im(),jKe(),EKe(),TKe(),qae={ButtonTemplates:Dae,ArrayFieldItemTemplate:xKe,ArrayFieldTemplate:vKe,FieldTemplate:hKe,TitleFieldTemplate:NKe,ObjectFieldTemplate:PKe,BaseInputTemplate:kKe,WrapIfAdditionalTemplate:_Ke}});function jk(t){return t.map(e=>sh(e))}function RKe(t){return t.map(e=>l1(e))}function MKe(t){return A9(jk(t.allOf),t)}function QKe(t){return cp(jk(t.anyOf),t)}function IKe(t){return cp(jk(t.oneOf),t)}function DKe(t){return cp(RKe(t.enum))}function LKe(t){return R9(jk(t.items),t)}function FKe(t){return M9(sh(t.items),t)}function VKe(t){return l1(t.const,t)}function BKe(t){let e=globalThis.Object.getOwnPropertyNames(t.properties).reduce((n,r)=>({...n,[r]:t.required&&t.required.includes(r)?sh(t.properties[r]):Q9(sh(t.properties[r]))}),{});return"additionalProperties"in t?Sj(e,{additionalProperties:sh(t.additionalProperties)}):Sj(e,t)}function sh(t){return zae(t)?MKe(t):Zae(t)?QKe(t):Uae(t)?IKe(t):Wae(t)?DKe(t):nle(t)?BKe(t):Xae(t)?LKe(t):Gae(t)?FKe(t):Yae(t)?VKe(t):Hae(t)?C9(t):Jae(t)?P9(t):Kae(t)?j9(t):ele(t)?N9(t):tle(t)?E9(t):_9(t||{})}var Ma,xz,Wae,zae,Zae,Uae,Xae,Gae,Yae,Hae,Jae,Kae,ele,tle,wz,nle,qKe=D(()=>{Ma=(t,e)=>t===e,xz=t=>Zw(t)||I9(t)||D9(t),Wae=t=>St(t)&&ai(t.enum)&&t.enum.every(e=>xz(e)),zae=t=>St(t)&&ai(t.allOf),Zae=t=>St(t)&&ai(t.anyOf),Uae=t=>St(t)&&ai(t.oneOf),Xae=t=>St(t)&&Ma(t.type,"array")&&ai(t.items),Gae=t=>St(t)&&Ma(t.type,"array")&&!ai(t.items)&&St(t.items),Yae=t=>St(t)&&St(t.const),Hae=t=>St(t)&&Ma(t.type,"string"),Jae=t=>St(t)&&Ma(t.type,"number"),Kae=t=>St(t)&&Ma(t.type,"integer"),ele=t=>St(t)&&Ma(t.type,"boolean"),tle=t=>St(t)&&Ma(t.type,"null"),wz=t=>St(t),nle=t=>St(t)&&Ma(t.type,"object")&&wz(t.properties)&&(t.required===void 0||ai(t.required)&&t.required.every(e=>Zw(e)))}),vz,rle,WKe=D(()=>{ve(),qKe(),Xe(),vz=!0,rle=class{rawValidation(t,e){if(!vz)return{errors:[],validationError:null};let n=sh(t);return Ol(n,e)?{errors:[],validationError:null}:{errors:[...kh(n,e)],validationError:null}}validateFormData(t,e,n,r,i){let{errors:s}=this.rawValidation(e,t),o=s.map(a=>{let l=a.path.substring(1).split("/").join(".");return{name:"any",message:a.message,property:"."+l,schemaPath:a.path,stack:a.message}});return{errors:o,errorSchema:BYe(o)}}isValid(t,e,n){return this.rawValidation(t,e).errors.length===0}toErrorList(){return[]}}});function zKe({schema:t,uiSchema:e,options:n,id:r,value:i,disabled:s,readonly:o,label:a,hideLabel:l,autofocus:c=!1,onBlur:u,onFocus:d,onChange:f,registry:h,...m}){let g=S.useCallback(y=>f(y.target.checked),[f]);return p.jsx(uo,{id:r,onChange:g,defaultChecked:i,disabled:s||o,label:a.toLowerCase()===m.name.toLowerCase()?void 0:a})}var ZKe=D(()=>{});function UKe({id:t,disabled:e,options:{inline:n=!1,enumOptions:r,enumDisabled:i,emptyValue:s},value:o,autofocus:a=!1,readonly:l,onChange:c,onBlur:u,onFocus:d}){let f=Array.isArray(o)?o:[o],h=S.useCallback(({target:g})=>u(t,br(g==null?void 0:g.value,r,s)),[u,t]),m=S.useCallback(({target:g})=>d(t,br(g==null?void 0:g.value,r,s)),[d,t]);return p.jsx("div",{className:"checkboxes",id:t,children:Array.isArray(r)&&r.map((g,y)=>{let O=ib(g.value,f),b=Array.isArray(i)&&i.indexOf(g.value)!==-1,w=e||b||l?"disabled":"",x=k=>{k.target.checked?c(Qse(y,f,r)):c(Tse(y,f,r))},v=p.jsxs("span",{children:[p.jsx("input",{type:"checkbox",id:kk(t,y),name:t,checked:O,value:String(y),disabled:e||b||l,autoFocus:a&&y===0,onChange:x,onBlur:h,onFocus:m,"aria-describedby":xo(t)}),p.jsx("span",{children:g.label})]});return n?p.jsx("label",{className:`checkbox-inline ${w}`,children:v},y):p.jsx("div",{className:`checkbox ${w}`,children:p.jsx("label",{children:v})},y)})})}var ile,XKe=D(()=>{Xe(),ile=UKe});function GKe({value:t,onChange:e,disabled:n,readonly:r,...i}){let[s,o]=S.useState(JSON.stringify(t,null,2));function a(l){o(l.target.value);try{e(JSON.parse(l.target.value))}catch(c){console.error(c)}}return p.jsx("textarea",{value:s,rows:10,disabled:n||r,onChange:a})}var YKe=D(()=>{});function HKe({options:t,value:e,required:n,disabled:r,readonly:i,autofocus:s=!1,onBlur:o,onFocus:a,onChange:l,id:c}){let{enumOptions:u,enumDisabled:d,inline:f,emptyValue:h}=t,m=S.useCallback(({target:{value:y}})=>o(c,br(y,u,h)),[o,c]),g=S.useCallback(({target:{value:y}})=>a(c,br(y,u,h)),[a,c]);return p.jsx("div",{className:"field-radio-group",id:c,children:Array.isArray(u)&&u.map((y,O)=>{let b=ib(y.value,e),w=Array.isArray(d)&&d.indexOf(y.value)!==-1,x=r||w||i?"disabled":"",v=()=>l(y.value),k=p.jsxs("span",{children:[p.jsx("input",{type:"radio",id:kk(c,O),checked:b,name:c,required:n,value:String(O),disabled:r||w||i,autoFocus:s&&O===0,onChange:v,onBlur:m,onFocus:g,"aria-describedby":xo(c)}),p.jsx("span",{children:y.label})]});return f?p.jsx("label",{className:`radio-inline ${b?"checked":""} ${x}`,children:k},O):p.jsx("div",{className:`radio ${b?"checked":""} ${x}`,children:p.jsx("label",{children:k})},O)})})}var sle,JKe=D(()=>{Xe(),sle=HKe});function oj(t,e){return e?Array.from(t.target.options).slice().filter(n=>n.selected).map(n=>n.value):t.target.value}function KKe({schema:t,id:e,options:n,value:r,required:i,disabled:s,readonly:o,multiple:a=!1,autofocus:l=!1,onChange:c,onBlur:u,onFocus:d,placeholder:f}){let{enumOptions:h,enumDisabled:m,emptyValue:g}=n,y=a?[]:"",O=S.useCallback(k=>{let $=oj(k,a);return d(e,br($,h,g))},[d,e,t,a,h,g]),b=S.useCallback(k=>{let $=oj(k,a);return u(e,br($,h,g))},[u,e,t,a,h,g]),w=S.useCallback(k=>{let $=oj(k,a);return c(br($,h,g))},[c,t,a,h,g]),x=Rse(r,h,a),v=!a&&t.default===void 0;return p.jsxs("select",{id:e,name:e,multiple:a,className:"form-control",value:typeof x>"u"?y:x,required:i,disabled:s||o,autoFocus:l,onBlur:b,onFocus:O,onChange:w,"aria-describedby":xo(e),children:[v&&p.jsx("option",{value:"",children:f}),Array.isArray(h)&&h.map(({value:k,label:$},C)=>{let N=m&&m.indexOf(k)!==-1;return p.jsx("option",{value:String(C),disabled:N,children:$},C)})]})}var ole,eet=D(()=>{Xe(),ole=KKe}),Lm,ale,tet=D(()=>{im(),ZKe(),XKe(),YKe(),JKe(),eet(),Lm=(t,e)=>n=>{var i,s;let r=!n.label||((i=n.uiSchema["ui:options"])==null?void 0:i.hideLabel)||((s=n.options)==null?void 0:s.hideLabel)||n.hideLabel;return p.jsxs(p.Fragment,{children:[!r&&p.jsx(lb,{label:n.label,required:n.required,id:n.id}),p.jsx(t,{...n})]})},ale={RadioWidget:sle,CheckboxWidget:Lm(zKe),SelectWidget:Lm(ole,"select"),CheckboxesWidget:Lm(ile),JsonWidget:Lm(GKe)}}),lle={};mo(lle,{JsonSchemaForm:()=>cle});var aj,cle,net=D(()=>{Eae(),bKe(),AKe(),WKe(),tet(),aj=new rle,cle=S.forwardRef(({className:t,direction:e="vertical",schema:n,onChange:r,uiSchema:i,templates:s,fields:o,widgets:a,...l},c)=>{let u=S.useRef(null),d=S.useId(),[f,h]=S.useState(l.formData),m=({formData:v},k)=>{var $;return k.preventDefault(),console.log("Data submitted: ",v),($=l.onSubmit)==null||$.call(l,v),!1},g=({formData:v},k)=>{let $=JSON.parse(JSON.stringify(v));h($),r==null||r($,()=>y($))},y=v=>aj.validateFormData(v,n).errors.length===0;S.useImperativeHandle(c,()=>({formData:()=>f,validateForm:()=>u.current.validateForm(),silentValidate:()=>y(f),cancel:()=>u.current.reset()}),[f]);let O={...i,"ui:globalOptions":{...i==null?void 0:i["ui:globalOptions"],enableMarkdownInDescription:!0},"ui:submitButtonOptions":{norender:!0}},b={...Iae,...o},w={...qae,...s},x={...ale,...a};return p.jsx(Nae,{tagName:"div",idSeparator:"--",idPrefix:d,...l,ref:u,className:["json-form",e,t].join(" "),showErrorList:!1,schema:n,fields:b,templates:w,widgets:x,uiSchema:O,onChange:g,onSubmit:m,validator:aj})})}),Sz,Ts,wo=D(()=>{Sz=S.lazy(()=>Promise.resolve().then(()=>(net(),lle)).then(t=>({default:t.JsonSchemaForm}))),Ts=S.forwardRef((t,e)=>p.jsx(S.Suspense,{children:p.jsx(Sz,{ref:e,...t})}))}),$r,zl=D(()=>{kt(),$t(),$r=({Icon:t=void 0,title:e=void 0,description:n="Check back later my friend.",primary:r,secondary:i,className:s})=>p.jsx("div",{className:Qe("flex flex-col h-full w-full justify-center items-center",s),children:p.jsxs("div",{className:"flex flex-col gap-3 items-center max-w-80",children:[t&&p.jsx(t,{size:48,className:"opacity-50",stroke:1}),p.jsxs("div",{className:"flex flex-col gap-1",children:[e&&p.jsx("h3",{className:"text-center text-lg font-bold",children:e}),p.jsx("p",{className:"text-center text-primary/60",children:n})]}),p.jsxs("div",{className:"mt-1.5 flex flex-row gap-2",children:[i&&p.jsx(Ze,{variant:"default",...i}),r&&p.jsx(Ze,{variant:"primary",...r})]})]})})}),ule,ret=D(()=>{ule=S.forwardRef((t,e)=>{let[n,r]=S.useState(!!t.value);S.useEffect(()=>{r(!!t.value)},[t.value]);function i(s){var o;r(s.target.checked),(o=t.onChange)==null||o.call(t,s.target.checked)}return p.jsx("div",{className:"flex flex-row",children:p.jsx(uo,{ref:e,checked:n,onChange:i,disabled:t.disabled,id:t.id})})})}),hs,Nl,Nk,El,dle,fle,AI,L_=D(()=>{ve(),Ct(),kt(),Lt(),Gi(),hs=({error:t,...e})=>p.jsx("div",{...e,className:Qe("flex flex-col gap-1.5",t&&"text-red-500",e.className)}),Nl=t=>p.jsx("label",{...t}),Nk=({field:t,...e})=>{let n=t.getDescription();return p.jsxs(Nl,{...e,title:n,className:"flex flex-row gap-2 items-center",children:[t.getLabel(),n&&p.jsx(WUe,{className:"opacity-50"})]})},El=S.forwardRef((t,e)=>{let n=t.disabled||t.readOnly;return p.jsx("input",{type:"text",...t,ref:e,className:Qe("bg-muted/40 h-11 rounded-md py-2.5 px-4 outline-none",n&&"bg-muted/50 text-primary/50",!n&&"focus:bg-muted focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all",t.className)})}),dle=S.forwardRef((t,e)=>p.jsx("textarea",{rows:3,...t,ref:e,className:Qe("bg-muted/40 min-h-11 rounded-md py-2.5 px-4 focus:bg-muted outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all disabled:bg-muted/50 disabled:text-primary/50",t.className)})),fle=S.forwardRef((t,e)=>{let n=S.useRef(null),r=RZe();S.useImperativeHandle(e,()=>n.current);let i=Wt(()=>{n!=null&&n.current&&(n.current.focus(),["Safari"].includes(r)?n.current.click():n.current.showPicker())});return p.jsxs("div",{className:"relative w-full",children:[p.jsx("div",{className:"absolute h-full right-3 top-0 bottom-0 flex items-center",children:p.jsx(dt,{Icon:are,onClick:i})}),p.jsx(El,{...t,type:t.type??"date",ref:n,className:"w-full appearance-none"})]})}),S.forwardRef((t,e)=>{let[n,r]=S.useState(!!t.value);S.useEffect(()=>{r(!!t.value)},[t.value]);function i(s){var o;r(s.target.checked),(o=t.onChange)==null||o.call(t,s.target.checked)}return p.jsx("div",{className:"h-11 flex items-center",children:p.jsx("input",{...t,type:"checkbox",ref:e,className:"outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500  transition-all disabled:opacity-70 scale-150 ml-1",checked:n,onChange:i,disabled:t.disabled})})}),AI=S.forwardRef((t,e)=>p.jsxs("div",{className:"flex w-full relative",children:[p.jsx("select",{...t,ref:e,className:Qe("bg-muted/40 focus:bg-muted rounded-md py-2.5 px-4 outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all disabled:bg-muted/50 disabled:text-primary/50","appearance-none h-11 w-full","border-r-8 border-r-transparent",t.className)}),p.jsx(RUe,{className:"absolute right-3 top-0 bottom-0 h-full opacity-70",size:18})]}))}),hle,hu=D(()=>{ret(),L_(),L_(),hle=(t,e)=>{switch(t){case"date":return fle;case"boolean":return ule;case"textarea":return dle;default:return El}}});function RI({open:t=!1,children:e,onClose:n=()=>null,allowBackdropClose:r=!0,className:i,stickToTop:s}){let o=ES(()=>{r&&n()});return p.jsx(p.Fragment,{children:t&&p.jsx("div",{className:Qe("w-full h-full fixed bottom-0 top-0 right-0 left-0 bg-background/60 flex justify-center backdrop-blur-sm z-10",s?"items-start":"items-center"),children:p.jsx("div",{className:Qe("z-20 flex flex-col bg-background rounded-lg shadow-lg",i),ref:o,children:e})})})}var MI=D(()=>{en(),kt()}),sm,lj,kz,cj,uj,cb=D(()=>{Ct(),Sn(),Lt(),ni(),Gi(),sm=({path:t,backTo:e,onBack:n})=>{let[r,i]=ws(),s=window.location.pathname,o=Array.isArray(t)?t:[t],a=s.split("/").filter(d=>d!==""),l=o.length>1,c=n||Wt(()=>{var f;if(e){i(e,{replace:!0});return}else if(t.length>0&&((f=t[0])!=null&&f.href)){i(t[0].href,{replace:!0});return}let d=a.slice(0,o.length+1).join("/");i(`~/${d}`,{replace:!0})}),u=S.useMemo(()=>o.map((d,f)=>({last:f===o.length-1,...d})),[o]);return p.jsxs("div",{className:"flex flex-row flex-grow items-center gap-2 text-lg",children:[l&&p.jsx(dt,{onClick:c,Icon:gQ,variant:"default",size:"lg",className:"mr-1"}),p.jsx("div",{className:"hidden md:flex gap-1.5",children:p.jsx(lj,{crumbs:u})}),p.jsx("div",{className:"flex md:hidden gap-2",children:p.jsx(kz,{crumbs:u})})]})},lj=({crumbs:t})=>t.map((e,n)=>e.last?p.jsx(cj,{...e},n):p.jsx(uj,{...e},n)),kz=({crumbs:t})=>{let[,e]=ws();if(t.length<=2)return p.jsx(lj,{crumbs:t});let n=t[0],r=t[t.length-1],i=S.useMemo(()=>t.slice(1,-1).map(o=>({label:o.string,href:o.href})),[t]),s=Wt(o=>e(`~/${o.href}`));return p.jsxs(p.Fragment,{children:[p.jsx(uj,{...n}),p.jsx(kr,{onClickItem:s,items:i,children:p.jsx(dt,{Icon:Ll,variant:"ghost"})}),p.jsx("span",{className:"opacity-25 dark:font-bold font-semibold",children:"/"}),p.jsx(cj,{...r})]})},cj=({label:t})=>p.jsx("span",{className:"text-nowrap dark:font-bold font-semibold",children:t}),uj=({href:t,label:e})=>p.jsxs("div",{className:"opacity-50 flex flex-row gap-1.5 dark:font-bold font-semibold",children:[p.jsx(qO,{to:t,className:"text-nowrap",children:e}),p.jsx("span",{className:"opacity-50",children:"/"})]})});function ple(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ple(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function iet(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ple(t))&&(r&&(r+=" "),r+=e);return r}var mle,set=D(()=>{mle=iet});function gle({label:t,provider:e,icon:n,action:r,method:i="POST",basepath:s="/api/auth",children:o}){return p.jsxs("form",{method:i,action:[s,name,r].join("/"),className:"w-full",children:[p.jsxs(Ze,{type:"submit",size:"large",variant:"outline",className:"justify-center w-full",children:["Continue with ",t??Qp(e)]}),o]})}var yle=D(()=>{ve(),$t()});function Ole({formData:t,className:e,method:n="POST",action:r,auth:i,buttonLabel:s=r==="login"?"Sign in":"Sign up",...o}){var d,f;let a=(i==null?void 0:i.basepath)??"/api/auth",l={action:`${a}/password/${r}`,strategy:((d=i==null?void 0:i.strategies)==null?void 0:d.password)??{type:"password"}},c=is((i==null?void 0:i.strategies)??{},(h,m,g)=>{m.type!=="password"&&(h[g]=m.config)},{}),u=Object.keys(c).length>0;return p.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[u&&p.jsxs(p.Fragment,{children:[p.jsx("div",{children:(f=Object.entries(c))==null?void 0:f.map(([h,m],g)=>p.jsx(gle,{provider:h,method:n,basepath:a,action:r},g))}),p.jsx(wle,{})]}),p.jsx(k9,{method:n,action:l.action,...o,schema:xle,validator:ble,validationMode:"change",className:mle("flex flex-col gap-3 w-full",e),children:({errors:h,submitting:m})=>p.jsxs(p.Fragment,{children:[p.jsxs(hs,{children:[p.jsx(Nl,{htmlFor:"email",children:"Email address"}),p.jsx(El,{type:"email",name:"email"})]}),p.jsxs(hs,{children:[p.jsx(Nl,{htmlFor:"password",children:"Password"}),p.jsx(El,{type:"password",name:"password"})]}),p.jsx(Ze,{type:"submit",variant:"primary",size:"large",className:"w-full mt-2 justify-center",disabled:h.length>0||m,children:s})]})})]})}var $z,ble,xle,wle,vle=D(()=>{set(),ve(),$t(),L_(),yle(),$z=class{async validate(t,e){return c1(t,e)?[]:[...Jy(t,e)]}},ble=new $z,xle=I.Object({email:I.String({pattern:"^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$"}),password:I.String({minLength:8})}),wle=()=>p.jsxs("div",{className:"w-full flex flex-row items-center",children:[p.jsx("div",{className:"relative flex grow",children:p.jsx("div",{className:"h-px bg-primary/10 w-full absolute top-[50%] z-0"})}),p.jsx("div",{className:"mx-5",children:"or"}),p.jsx("div",{className:"relative flex grow",children:p.jsx("div",{className:"h-px bg-primary/10 w-full absolute top-[50%] z-0"})})]})}),Sle,oet=D(()=>{Vr(),Sle=t=>{let[e,n]=S.useState(),r=da(t==null?void 0:t.baseUrl);return S.useEffect(()=>{(async()=>{let i=await r.auth.strategies();i.res.ok&&n(i.body)})()},[t==null?void 0:t.baseUrl]),{strategies:e==null?void 0:e.strategies,basepath:e==null?void 0:e.basepath,loading:!e}}});function aet({method:t="POST",action:e="login",logo:n,intro:r}){let{strategies:i,basepath:s,loading:o}=Sle();return p.jsx("div",{className:"flex flex-1 flex-col select-none h-dvh w-dvw justify-center items-center bknd-admin",children:!o&&p.jsxs("div",{className:"flex flex-col gap-4 items-center w-96 px-6 py-7",children:[n||null,typeof r<"u"?r:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("h1",{className:"text-xl font-bold",children:"Sign in to your admin panel"}),p.jsx("p",{className:"text-primary/50",children:"Enter your credentials below to get access."})]}),p.jsx(Ole,{auth:{basepath:s,strategies:i},method:t,action:e})]})})}var cet=D(()=>{oet(),vle()}),kle,uet=D(()=>{vle(),cet(),yle(),kle={Screen:aet,Form:Ole,SocialLink:gle}});function ub(t,e){let n=det(t);if(typeof n.path!="string"){let{webkitRelativePath:r}=t;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function det(t){let{name:e}=t,n=e&&e.lastIndexOf(".")!==-1;if(console.log("withMimeType",e,n),n&&!t.type){let r=b7e(e);console.log("guessed",r),r&&Object.defineProperty(t,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return t}async function Lx(t){return W0(t)&&fet(t.dataTransfer)?get(t.dataTransfer,t.type):het(t)?pet(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?met(t):[]}function fet(t){return W0(t)}function het(t){return W0(t)&&W0(t.target)}function W0(t){return typeof t=="object"&&t!==null}function pet(t){return F_(t.target.files).map(e=>ub(e))}async function met(t){return(await Promise.all(t.map(e=>e.getFile()))).map(e=>ub(e))}async function get(t,e){if(t.items){let n=F_(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;let r=await Promise.all(n.map(yet));return Cz($le(r))}return Cz(F_(t.files).map(n=>ub(n)))}function Cz(t){return t.filter(e=>Ple.indexOf(e.name)===-1)}function F_(t){if(t===null)return[];let e=[];for(let n=0;n<t.length;n++){let r=t[n];e.push(r)}return e}function yet(t){if(typeof t.webkitGetAsEntry!="function")return Pz(t);let e=t.webkitGetAsEntry();return e!=null&&e.isDirectory?Cle(e):Pz(t)}function $le(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?$le(n):[n]],[])}function Pz(t){let e=t.getAsFile();if(!e)return Promise.reject(`${t} is not a File`);let n=ub(e);return Promise.resolve(n)}async function Oet(t){return t.isDirectory?Cle(t):bet(t)}function Cle(t){let e=t.createReader();return new Promise((n,r)=>{let i=[];function s(){e.readEntries(async o=>{if(o.length){let a=Promise.all(o.map(Oet));i.push(a),s()}else try{let a=await Promise.all(i);n(a)}catch(a){r(a)}},o=>{r(o)})}s()})}async function bet(t){return new Promise((e,n)=>{t.file(r=>{let i=ub(r,t.fullPath);e(i)},r=>{n(r)})})}var Ple,xet=D(()=>{x7e(),Ple=[".DS_Store","Thumbs.db"]});function wet({onDropped:t,onOver:e,onLeave:n}){let[r,i]=S.useState(!1),s=S.useRef(null),o=S.useRef(!1),a=S.useCallback(d=>{d.preventDefault(),d.stopPropagation()},[]),l=S.useCallback(async d=>{let f=Vw.enter.includes(d.type);e&&f!==r&&!o.current&&(e(await Lx(d)),o.current=!0),i(f),f===!1&&o.current&&(o.current=!1,n==null||n())},[]),c=S.useCallback(async d=>{let f=await Lx(d);t==null||t(f),o.current=!1},[t]),u=S.useCallback(async d=>{let f=await Lx(d);t==null||t(f)},[t]);return S.useEffect(()=>{let d=s.current;return V_.forEach(f=>{d.addEventListener(f,a),d.addEventListener(f,l)}),d.addEventListener("drop",c),()=>{V_.forEach(f=>{d.removeEventListener(f,a),d.removeEventListener(f,l)}),d.removeEventListener("drop",c)}},[]),{ref:s,isOver:r,fromEvent:Lx,onDropped:t,handleFileInputChange:u}}var Vw,V_,vet=D(()=>{xet(),Vw={enter:["dragenter","dragover","dragstart"],leave:["dragleave","drop"]},V_=[...Vw.enter,...Vw.leave]});function ket({getUploadInfo:t,handleDelete:e,initialItems:n=[],maxItems:r,overwrite:i,autoUpload:s,placeholder:o,onRejected:a,onDeleted:l,onUploaded:c,children:u}){let[d,f]=S.useState(n),[h,m]=S.useState(!1),g=S.useRef(null),[y,O]=S.useState(!1);function b(j){if(!r)return console.log("maxItems is undefined, never reached"),!1;let E=d.length,_=r-E;return console.log("isMaxReached",{added:j,current:E,remaining:_,maxItems:r,overwrite:i}),i?(console.log("added > maxItems, stop?",j>r),j>r):(console.log("remaining > added, stop?",_>j),j>_)}let{isOver:w,handleFileInputChange:x,ref:v}=wet({onDropped:j=>{let E=0,_=j.length;if(r){if(b(_)){a?a(j):console.warn("maxItems reached");return}E=_}console.log("files",j,{to_drop:E}),f(Q=>{let M=Q.slice(E),L=M.map(W=>W.path),V=j.filter(W=>W.path&&!L.includes(W.path)).map(W=>({body:W,path:W.path,name:W.name,size:W.size,type:W.type,state:"pending",progress:0}));return[...M,...V]}),s&&m(!0)},onOver:j=>{let E=b(j.length);O(!E)},onLeave:()=>{O(!1)}});S.useEffect(()=>{console.log("files updated")},[d]),S.useEffect(()=>{h&&(async()=>{let j=d.filter(E=>E.state==="pending");if(j.length===0){m(!1);return}else for(let E of j)await N(E)})()},[h]);function k(j,E,_){f(Q=>Q.map(M=>M.path===j?{...M,state:E,progress:_??M.progress}:M))}function $(j,E){f(_=>_.map(Q=>Q.path===j?{...Q,...E}:Q))}function C(j){f(E=>E.filter(_=>_.path!==j))}function N(j){return new Promise((E,_)=>{if(j.body){if(j.state!=="pending"){console.error("File is not pending"),_();return}else if(!(j.body instanceof File)){console.error("File body is not a File instance"),_();return}}else{console.error("File has no body"),_();return}let Q=t(j.body);console.log("dropzone:uploadInfo",Q);let{url:M,headers:L,method:V="POST"}=Q,W=new FormData;W.append("file",j.body);let H=new XMLHttpRequest;console.log("xhr:url",M);let le=new URLSearchParams;i&&le.append("overwrite","1"),H.open(V,String(M)+"?"+String(le),!0),L&&L.forEach((fe,U)=>{H.setRequestHeader(U,fe)}),H.upload.addEventListener("progress",fe=>{if(console.log("progress",fe.loaded,fe.total),fe.lengthComputable){k(j.path,"uploading",fe.loaded/fe.total);let U=fe.loaded/fe.total*100;console.log(`Progress: ${U.toFixed(2)}%`)}else console.log("Unable to compute progress information since the total size is unknown")}),H.onload=()=>{if(console.log("onload",j.path,H.status),H.status===200){console.log("Upload complete"),c==null||c(j);try{let fe=JSON.parse(H.responseText);console.log("Response:",j,fe),console.log("New state",fe.state),$(j.path,{...fe.state,progress:1,state:"uploaded"})}catch(fe){k(j.path,"uploaded",1),console.error("Error parsing response",fe)}E()}else k(j.path,"failed",1),console.error("Upload failed with status: ",H.status),_()},H.onerror=()=>{console.error("Error during the upload process.")},H.onloadstart=()=>{k(j.path,"uploading",0),console.log("loadstart")},H.setRequestHeader("Accept","application/json"),H.send(W)})}async function P(j){switch(console.log("deleteFile",j),j.state){case"uploaded":case"initial":window.confirm("Are you sure you want to delete this file?")&&(console.log('setting state to "deleting"',j),k(j.path,"deleting"),await e(j),C(j.path),l==null||l(j));break}}let R=()=>{var j;return(j=g.current)==null?void 0:j.click()},T=!!((o==null?void 0:o.show)===!0||!r||r&&d.length<r),A={wrapperRef:v,inputProps:{ref:g,type:"file",multiple:!r||r>1,onChange:x},state:{files:d,isOver:w,isOverAccepted:y,showPlaceholder:T},actions:{uploadFile:N,deleteFile:P,openFileInput:R},dropzoneProps:{maxItems:r,placeholder:o,autoUpload:s}};return u?u(A):p.jsx(jle,{...A})}var jle,jz,Nz,B_,Ez,_z,Tz,Az,Nle=D(()=>{Ct(),kt(),Lt(),ni(),vet(),jle=({wrapperRef:t,inputProps:e,state:{files:n,isOver:r,isOverAccepted:i,showPlaceholder:s},actions:{uploadFile:o,deleteFile:a,openFileInput:l},dropzoneProps:{placeholder:c}})=>p.jsxs("div",{ref:t,className:Qe("dropzone w-full h-full align-start flex flex-col select-none",r&&i&&"bg-green-200/10",r&&!i&&"bg-red-200/40 cursor-not-allowed"),children:[p.jsx("div",{className:"hidden",children:p.jsx("input",{...e})}),p.jsx("div",{className:"flex flex-1 flex-col",children:p.jsxs("div",{className:"flex flex-row flex-wrap gap-2 md:gap-3",children:[n.map(u=>p.jsx(Ez,{file:u,handleUpload:o,handleDelete:a},u.path)),s&&p.jsx(jz,{onClick:l,text:c==null?void 0:c.text})]})})]}),jz=({onClick:t,text:e="Upload files"})=>p.jsx("div",{className:"w-[49%] aspect-[1/0.9] md:w-60 flex flex-col border-2 border-dashed border-muted relative justify-center items-center text-primary/30 hover:border-primary/30 hover:text-primary/50 hover:cursor-pointer hover:bg-muted/20 transition-colors duration-200",onClick:t,children:p.jsx("span",{className:"",children:e})}),Nz=({file:t,fallback:e,...n})=>t.type.startsWith("image/")?p.jsx(_z,{...n,file:t}):t.type.startsWith("video/")?p.jsx(Tz,{...n,file:t}):e?e({file:t}):null,B_=S.memo(Nz,(t,e)=>t.file.path===e.file.path),Ez=({file:t,handleUpload:e,handleDelete:n})=>{let r=[["initial","uploaded"].includes(t.state)&&{label:"Delete",onClick:()=>n(t)},["initial","pending"].includes(t.state)&&{label:"Upload",onClick:()=>e(t)}];return p.jsxs("div",{className:Qe("w-[49%] md:w-60 flex flex-col border border-muted relative",t.state==="deleting"&&"opacity-70"),children:[p.jsx("div",{className:"absolute top-2 right-2",children:p.jsx(kr,{items:r,position:"bottom-end",children:p.jsx(dt,{Icon:Ll})})}),t.state==="uploading"&&p.jsx("div",{className:"absolute w-full top-0 left-0 right-0 h-1",children:p.jsx("div",{className:"bg-blue-600 h-1 transition-all duration-75",style:{width:(t.progress*100).toFixed(0)+"%"}})}),p.jsx("div",{className:"flex bg-primary/5 aspect-[1/0.8] overflow-hidden items-center justify-center",children:p.jsx(B_,{file:t,fallback:Az,className:"max-w-full max-h-full"})}),p.jsxs("div",{className:"flex flex-col px-1.5 py-1",children:[p.jsx("p",{className:"truncate",children:t.name}),p.jsxs("div",{className:"flex flex-row justify-between text-sm font-mono opacity-50 text-nowrap gap-2",children:[p.jsx("span",{className:"truncate",children:t.type}),p.jsxs("span",{children:[(t.size/1024).toFixed(1)," KB"]})]})]})]})},_z=({file:t,...e})=>{let n=typeof t.body=="string"?t.body:URL.createObjectURL(t.body);return p.jsx("img",{...e,src:n})},Tz=({file:t,...e})=>{let n=typeof t.body=="string"?t.body:URL.createObjectURL(t.body);return p.jsx("video",{...e,src:n})},Az=({file:t})=>p.jsx("div",{className:"text-xs text-primary/50 text-center",children:t.type})});function $et(t,e={overrides:{},baseUrl:""}){return{body:`${e.baseUrl}/api/media/file/${t.path}`,path:t.path,name:t.path,size:t.size??0,type:t.mime_type??"",state:"uploaded",progress:0,...e.overrides}}function Cet(t,e={overrides:{},baseUrl:""}){return t.map(n=>$et(n,e))}var Pet=D(()=>{});function jet({initialItems:t,basepath:e="/api/media",storage:n={},entity_name:r="media",entity:i,query:s,...o}){let a=S.useId(),l=da(),c=l.baseUrl,u=KS(),d=s!=null&&s.limit?s==null?void 0:s.limit:o.maxItems?o.maxItems:50;console.log("dropzone:baseUrl",c);let f=Md(r,void 0,{...s,limit:d,where:i?{reference:`${i.name}.${i.field}`,entity_id:i.id,...s==null?void 0:s.where}:s==null?void 0:s.where},{enabled:!t}),h=Wt(w=>({url:i?l.media.getEntityUploadUrl(i.name,i.id,i.field):l.media.getFileUploadUrl(w),headers:l.media.getUploadHeaders(),method:"POST"})),m=Wt(async()=>{i&&u(w=>w.data.readOne(i.name,i.id)),await f.mutate()}),g=Wt(async w=>l.media.deleteFile(w.path)),y=t??(f.data||[]),O=Cet(y,{baseUrl:c}),b=a+JSON.stringify(O);return p.jsx(ket,{getUploadInfo:h,handleDelete:g,onUploaded:m,onDeleted:m,autoUpload:!0,initialItems:O,...o},a+b)}var Net=D(()=>{Vr(),Gi(),Nle(),Pet()}),Do,Eet=D(()=>{Nle(),Net(),Do={Dropzone:jet,Preview:B_}}),Ek=D(()=>{uet(),Eet()});function Ele({nodes:t,edges:e,externalProvider:n,backgroundStyle:r="lines",minimap:i=!1,children:s,onDropNewNode:o,onDropNewEdge:a,...l}){let[c,u,d]=FFe(t??[]),[f,h,m]=VFe(e??[]),{screenToFlowPosition:g}=Ep(),{theme:y}=wQ(),[O,b]=S.useState(!1),[w,x]=S.useState(!1),[v,k]=S.useState(!1),$=A=>{A.metaKey&&b(!0),A.key===" "&&x(!0)},C=A=>{A.metaKey||b(!1),A.key===" "&&x(!1)},N=()=>{if(w){k(!1);return}k(!0)},P=()=>{if(w){k(!1);return}k(!1)};S.useEffect(()=>{var A;return(A=document.querySelector("html"))==null||A.classList.add("fixed"),window.addEventListener("keydown",$),window.addEventListener("keyup",C),window.addEventListener("pointerdown",N),window.addEventListener("pointerup",P),()=>{var j;window.removeEventListener("keydown",$),window.removeEventListener("keyup",C),window.removeEventListener("pointerdown",N),window.removeEventListener("pointerup",P),(j=document.querySelector("html"))==null||j.classList.remove("fixed")}},[]),S.useEffect(()=>{u(t??[]),h(e??[])},[t,e]);let R=S.useCallback(A=>h(j=>BH(A,j)),[]),T=S.useCallback((A,j)=>{if(!(!o||!a)&&!j.isValid){console.log("conn",{event:A,connectionState:j});let{clientX:E,clientY:_}="changedTouches"in A?A.changedTouches[0]:A,Q=o({id:"select",type:"default",data:{label:""},position:g({x:E,y:_}),origin:[0,0]});u(M=>M.concat(Q)),h(M=>M.concat(o({id:Q.id,source:j.fromNode.id,target:Q.id})))}},[g]);return p.jsxs(AJ,{colorMode:y,onConnect:R,onConnectEnd:T,className:O?"cursor-zoom-in":w?v?"cursor-grabbing":"cursor-grab":"",proOptions:{hideAttribution:!0},fitView:!0,fitViewOptions:{maxZoom:1.5,...l.fitViewOptions},nodeDragThreshold:25,panOnScrollSpeed:1,snapToGrid:!0,nodes:c,edges:f,onNodesChange:d,onEdgesChange:m,nodesConnectable:!1,panOnDrag:!0,zoomOnScroll:O,panOnScroll:!O,zoomOnDoubleClick:!1,selectionOnDrag:!w,...l,children:[r==="lines"&&p.jsx(PB,{color:y==="light"?"rgba(0,0,0,.05)":"rgba(255,255,255,.1)",gap:[50,50],variant:ml.Lines}),r==="dots"&&p.jsx(PB,{color:y==="light"?"rgba(0,0,0,.5)":"rgba(255,255,255,.2)"}),i&&p.jsx(IJ,{...typeof i=="object"?i:{}}),s]})}var _le=D(()=>{vQ()}),QI=Z((t,e)=>{var n="\0",r="\0",i="",s=class{constructor(d){Y(this,"_isDirected",!0);Y(this,"_isMultigraph",!1);Y(this,"_isCompound",!1);Y(this,"_label");Y(this,"_defaultNodeLabelFn",()=>{});Y(this,"_defaultEdgeLabelFn",()=>{});Y(this,"_nodes",{});Y(this,"_in",{});Y(this,"_preds",{});Y(this,"_out",{});Y(this,"_sucs",{});Y(this,"_edgeObjs",{});Y(this,"_edgeLabels",{});Y(this,"_nodeCount",0);Y(this,"_edgeCount",0);Y(this,"_parent");Y(this,"_children");d&&(this._isDirected=Object.hasOwn(d,"directed")?d.directed:!0,this._isMultigraph=Object.hasOwn(d,"multigraph")?d.multigraph:!1,this._isCompound=Object.hasOwn(d,"compound")?d.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[r]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(d){return this._label=d,this}graph(){return this._label}setDefaultNodeLabel(d){return this._defaultNodeLabelFn=d,typeof d!="function"&&(this._defaultNodeLabelFn=()=>d),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var d=this;return this.nodes().filter(f=>Object.keys(d._in[f]).length===0)}sinks(){var d=this;return this.nodes().filter(f=>Object.keys(d._out[f]).length===0)}setNodes(d,f){var h=arguments,m=this;return d.forEach(function(g){h.length>1?m.setNode(g,f):m.setNode(g)}),this}setNode(d,f){return Object.hasOwn(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=f),this):(this._nodes[d]=arguments.length>1?f:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=r,this._children[d]={},this._children[r][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)}node(d){return this._nodes[d]}hasNode(d){return Object.hasOwn(this._nodes,d)}removeNode(d){var f=this;if(Object.hasOwn(this._nodes,d)){var h=m=>f.removeEdge(f._edgeObjs[m]);delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],this.children(d).forEach(function(m){f.setParent(m)}),delete this._children[d]),Object.keys(this._in[d]).forEach(h),delete this._in[d],delete this._preds[d],Object.keys(this._out[d]).forEach(h),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this}setParent(d,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(f===void 0)f=r;else{f+="";for(var h=f;h!==void 0;h=this.parent(h))if(h===d)throw new Error("Setting "+f+" as parent of "+d+" would create a cycle");this.setNode(f)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=f,this._children[f][d]=!0,this}_removeFromParentsChildList(d){delete this._children[this._parent[d]][d]}parent(d){if(this._isCompound){var f=this._parent[d];if(f!==r)return f}}children(d=r){if(this._isCompound){var f=this._children[d];if(f)return Object.keys(f)}else{if(d===r)return this.nodes();if(this.hasNode(d))return[]}}predecessors(d){var f=this._preds[d];if(f)return Object.keys(f)}successors(d){var f=this._sucs[d];if(f)return Object.keys(f)}neighbors(d){var f=this.predecessors(d);if(f){let m=new Set(f);for(var h of this.successors(d))m.add(h);return Array.from(m.values())}}isLeaf(d){var f;return this.isDirected()?f=this.successors(d):f=this.neighbors(d),f.length===0}filterNodes(d){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var h=this;Object.entries(this._nodes).forEach(function([y,O]){d(y)&&f.setNode(y,O)}),Object.values(this._edgeObjs).forEach(function(y){f.hasNode(y.v)&&f.hasNode(y.w)&&f.setEdge(y,h.edge(y))});var m={};function g(y){var O=h.parent(y);return O===void 0||f.hasNode(O)?(m[y]=O,O):O in m?m[O]:g(O)}return this._isCompound&&f.nodes().forEach(y=>f.setParent(y,g(y))),f}setDefaultEdgeLabel(d){return this._defaultEdgeLabelFn=d,typeof d!="function"&&(this._defaultEdgeLabelFn=()=>d),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(d,f){var h=this,m=arguments;return d.reduce(function(g,y){return m.length>1?h.setEdge(g,y,f):h.setEdge(g,y),y}),this}setEdge(){var d,f,h,m,g=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(d=y.v,f=y.w,h=y.name,arguments.length===2&&(m=arguments[1],g=!0)):(d=y,f=arguments[1],h=arguments[3],arguments.length>2&&(m=arguments[2],g=!0)),d=""+d,f=""+f,h!==void 0&&(h=""+h);var O=l(this._isDirected,d,f,h);if(Object.hasOwn(this._edgeLabels,O))return g&&(this._edgeLabels[O]=m),this;if(h!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(f),this._edgeLabels[O]=g?m:this._defaultEdgeLabelFn(d,f,h);var b=c(this._isDirected,d,f,h);return d=b.v,f=b.w,Object.freeze(b),this._edgeObjs[O]=b,o(this._preds[f],d),o(this._sucs[d],f),this._in[f][O]=b,this._out[d][O]=b,this._edgeCount++,this}edge(d,f,h){var m=arguments.length===1?u(this._isDirected,arguments[0]):l(this._isDirected,d,f,h);return this._edgeLabels[m]}edgeAsObj(){let d=this.edge(...arguments);return typeof d!="object"?{label:d}:d}hasEdge(d,f,h){var m=arguments.length===1?u(this._isDirected,arguments[0]):l(this._isDirected,d,f,h);return Object.hasOwn(this._edgeLabels,m)}removeEdge(d,f,h){var m=arguments.length===1?u(this._isDirected,arguments[0]):l(this._isDirected,d,f,h),g=this._edgeObjs[m];return g&&(d=g.v,f=g.w,delete this._edgeLabels[m],delete this._edgeObjs[m],a(this._preds[f],d),a(this._sucs[d],f),delete this._in[f][m],delete this._out[d][m],this._edgeCount--),this}inEdges(d,f){var h=this._in[d];if(h){var m=Object.values(h);return f?m.filter(g=>g.v===f):m}}outEdges(d,f){var h=this._out[d];if(h){var m=Object.values(h);return f?m.filter(g=>g.w===f):m}}nodeEdges(d,f){var h=this.inEdges(d,f);if(h)return h.concat(this.outEdges(d,f))}};function o(d,f){d[f]?d[f]++:d[f]=1}function a(d,f){--d[f]||delete d[f]}function l(d,f,h,m){var g=""+f,y=""+h;if(!d&&g>y){var O=g;g=y,y=O}return g+i+y+i+(m===void 0?n:m)}function c(d,f,h,m){var g=""+f,y=""+h;if(!d&&g>y){var O=g;g=y,y=O}var b={v:g,w:y};return m&&(b.name=m),b}function u(d,f){return l(d,f.v,f.w,f.name)}e.exports=s}),_et=Z((t,e)=>{e.exports="2.2.4"}),Tet=Z((t,e)=>{e.exports={Graph:QI(),version:_et()}}),Aet=Z((t,e)=>{var n=QI();e.exports={write:r,read:o};function r(a){var l={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:i(a),edges:s(a)};return a.graph()!==void 0&&(l.value=structuredClone(a.graph())),l}function i(a){return a.nodes().map(function(l){var c=a.node(l),u=a.parent(l),d={v:l};return c!==void 0&&(d.value=c),u!==void 0&&(d.parent=u),d})}function s(a){return a.edges().map(function(l){var c=a.edge(l),u={v:l.v,w:l.w};return l.name!==void 0&&(u.name=l.name),c!==void 0&&(u.value=c),u})}function o(a){var l=new n(a.options).setGraph(a.value);return a.nodes.forEach(function(c){l.setNode(c.v,c.value),c.parent&&l.setParent(c.v,c.parent)}),a.edges.forEach(function(c){l.setEdge({v:c.v,w:c.w,name:c.name},c.value)}),l}}),Ret=Z((t,e)=>{e.exports=n;function n(r){var i={},s=[],o;function a(l){Object.hasOwn(i,l)||(i[l]=!0,o.push(l),r.successors(l).forEach(a),r.predecessors(l).forEach(a))}return r.nodes().forEach(function(l){o=[],a(l),o.length&&s.push(o)}),s}}),Tle=Z((t,e)=>{var n=class{constructor(){Y(this,"_arr",[]);Y(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(r){return r.key})}has(r){return Object.hasOwn(this._keyIndices,r)}priority(r){var i=this._keyIndices[r];if(i!==void 0)return this._arr[i].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(r,i){var s=this._keyIndices;if(r=String(r),!Object.hasOwn(s,r)){var o=this._arr,a=o.length;return s[r]=a,o.push({key:r,priority:i}),this._decrease(a),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key}decrease(r,i){var s=this._keyIndices[r];if(i>this._arr[s].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[s].priority+" New: "+i);this._arr[s].priority=i,this._decrease(s)}_heapify(r){var i=this._arr,s=2*r,o=s+1,a=r;s<i.length&&(a=i[s].priority<i[a].priority?s:a,o<i.length&&(a=i[o].priority<i[a].priority?o:a),a!==r&&(this._swap(r,a),this._heapify(a)))}_decrease(r){for(var i=this._arr,s=i[r].priority,o;r!==0&&(o=r>>1,!(i[o].priority<s));)this._swap(r,o),r=o}_swap(r,i){var s=this._arr,o=this._keyIndices,a=s[r],l=s[i];s[r]=l,s[i]=a,o[l.key]=r,o[a.key]=i}};e.exports=n}),Ale=Z((t,e)=>{var n=Tle();e.exports=i;var r=()=>1;function i(o,a,l,c){return s(o,String(a),l||r,c||function(u){return o.outEdges(u)})}function s(o,a,l,c){var u={},d=new n,f,h,m=function(g){var y=g.v!==f?g.v:g.w,O=u[y],b=l(g),w=h.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+g+" Weight: "+b);w<O.distance&&(O.distance=w,O.predecessor=f,d.decrease(y,w))};for(o.nodes().forEach(function(g){var y=g===a?0:Number.POSITIVE_INFINITY;u[g]={distance:y},d.add(g,y)});d.size()>0&&(f=d.removeMin(),h=u[f],h.distance!==Number.POSITIVE_INFINITY);)c(f).forEach(m);return u}}),Met=Z((t,e)=>{var n=Ale();e.exports=r;function r(i,s,o){return i.nodes().reduce(function(a,l){return a[l]=n(i,l,s,o),a},{})}}),Rle=Z((t,e)=>{e.exports=n;function n(r){var i=0,s=[],o={},a=[];function l(c){var u=o[c]={onStack:!0,lowlink:i,index:i++};if(s.push(c),r.successors(c).forEach(function(h){Object.hasOwn(o,h)?o[h].onStack&&(u.lowlink=Math.min(u.lowlink,o[h].index)):(l(h),u.lowlink=Math.min(u.lowlink,o[h].lowlink))}),u.lowlink===u.index){var d=[],f;do f=s.pop(),o[f].onStack=!1,d.push(f);while(c!==f);a.push(d)}}return r.nodes().forEach(function(c){Object.hasOwn(o,c)||l(c)}),a}}),Qet=Z((t,e)=>{var n=Rle();e.exports=r;function r(i){return n(i).filter(function(s){return s.length>1||s.length===1&&i.hasEdge(s[0],s[0])})}}),Iet=Z((t,e)=>{e.exports=r;var n=()=>1;function r(s,o,a){return i(s,o||n,a||function(l){return s.outEdges(l)})}function i(s,o,a){var l={},c=s.nodes();return c.forEach(function(u){l[u]={},l[u][u]={distance:0},c.forEach(function(d){u!==d&&(l[u][d]={distance:Number.POSITIVE_INFINITY})}),a(u).forEach(function(d){var f=d.v===u?d.w:d.v,h=o(d);l[u][f]={distance:h,predecessor:u}})}),c.forEach(function(u){var d=l[u];c.forEach(function(f){var h=l[f];c.forEach(function(m){var g=h[u],y=d[m],O=h[m],b=g.distance+y.distance;b<O.distance&&(O.distance=b,O.predecessor=y.predecessor)})})}),l}}),Mle=Z((t,e)=>{function n(i){var s={},o={},a=[];function l(c){if(Object.hasOwn(o,c))throw new r;Object.hasOwn(s,c)||(o[c]=!0,s[c]=!0,i.predecessors(c).forEach(l),delete o[c],a.push(c))}if(i.sinks().forEach(l),Object.keys(s).length!==i.nodeCount())throw new r;return a}var r=class extends Error{constructor(){super(...arguments)}};e.exports=n,n.CycleException=r}),Det=Z((t,e)=>{var n=Mle();e.exports=r;function r(i){try{n(i)}catch(s){if(s instanceof n.CycleException)return!1;throw s}return!0}}),Qle=Z((t,e)=>{e.exports=n;function n(o,a,l){Array.isArray(a)||(a=[a]);var c=o.isDirected()?h=>o.successors(h):h=>o.neighbors(h),u=l==="post"?r:i,d=[],f={};return a.forEach(h=>{if(!o.hasNode(h))throw new Error("Graph does not have node: "+h);u(h,c,f,d)}),d}function r(o,a,l,c){for(var u=[[o,!1]];u.length>0;){var d=u.pop();d[1]?c.push(d[0]):Object.hasOwn(l,d[0])||(l[d[0]]=!0,u.push([d[0],!0]),s(a(d[0]),f=>u.push([f,!1])))}}function i(o,a,l,c){for(var u=[o];u.length>0;){var d=u.pop();Object.hasOwn(l,d)||(l[d]=!0,c.push(d),s(a(d),f=>u.push(f)))}}function s(o,a){for(var l=o.length;l--;)a(o[l],l,o);return o}}),Let=Z((t,e)=>{var n=Qle();e.exports=r;function r(i,s){return n(i,s,"post")}}),Fet=Z((t,e)=>{var n=Qle();e.exports=r;function r(i,s){return n(i,s,"pre")}}),Vet=Z((t,e)=>{var n=QI(),r=Tle();e.exports=i;function i(s,o){var a=new n,l={},c=new r,u;function d(h){var m=h.v===u?h.w:h.v,g=c.priority(m);if(g!==void 0){var y=o(h);y<g&&(l[m]=u,c.decrease(m,y))}}if(s.nodeCount()===0)return a;s.nodes().forEach(function(h){c.add(h,Number.POSITIVE_INFINITY),a.setNode(h)}),c.decrease(s.nodes()[0],0);for(var f=!1;c.size()>0;){if(u=c.removeMin(),Object.hasOwn(l,u))a.setEdge(u,l[u]);else{if(f)throw new Error("Input graph is not connected: "+s);f=!0}s.nodeEdges(u).forEach(d)}return a}}),Bet=Z((t,e)=>{e.exports={components:Ret(),dijkstra:Ale(),dijkstraAll:Met(),findCycles:Qet(),floydWarshall:Iet(),isAcyclic:Det(),postorder:Let(),preorder:Fet(),prim:Vet(),tarjan:Rle(),topsort:Mle()}}),ao=Z((t,e)=>{var n=Tet();e.exports={Graph:n.Graph,json:Aet(),alg:Bet(),version:n.version}}),qet=Z((t,e)=>{var n=class{constructor(){let s={};s._next=s._prev=s,this._sentinel=s}dequeue(){let s=this._sentinel,o=s._prev;if(o!==s)return r(o),o}enqueue(s){let o=this._sentinel;s._prev&&s._next&&r(s),s._next=o._next,o._next._prev=s,o._next=s,s._prev=o}toString(){let s=[],o=this._sentinel,a=o._prev;for(;a!==o;)s.push(JSON.stringify(a,i)),a=a._prev;return"["+s.join(", ")+"]"}};function r(s){s._prev._next=s._next,s._next._prev=s._prev,delete s._next,delete s._prev}function i(s,o){if(s!=="_next"&&s!=="_prev")return o}e.exports=n}),Wet=Z((t,e)=>{var n=ao().Graph,r=qet();e.exports=s;var i=()=>1;function s(d,f){if(d.nodeCount()<=1)return[];let h=l(d,f||i);return o(h.graph,h.buckets,h.zeroIdx).flatMap(m=>d.outEdges(m.v,m.w))}function o(d,f,h){let m=[],g=f[f.length-1],y=f[0],O;for(;d.nodeCount();){for(;O=y.dequeue();)a(d,f,h,O);for(;O=g.dequeue();)a(d,f,h,O);if(d.nodeCount()){for(let b=f.length-2;b>0;--b)if(O=f[b].dequeue(),O){m=m.concat(a(d,f,h,O,!0));break}}}return m}function a(d,f,h,m,g){let y=g?[]:void 0;return d.inEdges(m.v).forEach(O=>{let b=d.edge(O),w=d.node(O.v);g&&y.push({v:O.v,w:O.w}),w.out-=b,c(f,h,w)}),d.outEdges(m.v).forEach(O=>{let b=d.edge(O),w=O.w,x=d.node(w);x.in-=b,c(f,h,x)}),d.removeNode(m.v),y}function l(d,f){let h=new n,m=0,g=0;d.nodes().forEach(b=>{h.setNode(b,{v:b,in:0,out:0})}),d.edges().forEach(b=>{let w=h.edge(b.v,b.w)||0,x=f(b),v=w+x;h.setEdge(b.v,b.w,v),g=Math.max(g,h.node(b.v).out+=x),m=Math.max(m,h.node(b.w).in+=x)});let y=u(g+m+3).map(()=>new r),O=m+1;return h.nodes().forEach(b=>{c(y,O,h.node(b))}),{graph:h,buckets:y,zeroIdx:O}}function c(d,f,h){h.out?h.in?d[h.out-h.in+f].enqueue(h):d[d.length-1].enqueue(h):d[0].enqueue(h)}function u(d){let f=[];for(let h=0;h<d;h++)f.push(h);return f}}),Tn=Z((t,e)=>{var n=ao().Graph;e.exports={addBorderNode:f,addDummyNode:r,applyWithChunking:g,asNonCompoundGraph:s,buildLayerMatrix:c,intersectRect:l,mapValues:C,maxRank:y,normalizeRanks:u,notime:w,partition:O,pick:$,predecessorWeights:a,range:k,removeEmptyRanks:d,simplify:i,successorWeights:o,time:b,uniqueId:v,zipObject:N};function r(P,R,T,A){let j;do j=v(A);while(P.hasNode(j));return T.dummy=R,P.setNode(j,T),j}function i(P){let R=new n().setGraph(P.graph());return P.nodes().forEach(T=>R.setNode(T,P.node(T))),P.edges().forEach(T=>{let A=R.edge(T.v,T.w)||{weight:0,minlen:1},j=P.edge(T);R.setEdge(T.v,T.w,{weight:A.weight+j.weight,minlen:Math.max(A.minlen,j.minlen)})}),R}function s(P){let R=new n({multigraph:P.isMultigraph()}).setGraph(P.graph());return P.nodes().forEach(T=>{P.children(T).length||R.setNode(T,P.node(T))}),P.edges().forEach(T=>{R.setEdge(T,P.edge(T))}),R}function o(P){let R=P.nodes().map(T=>{let A={};return P.outEdges(T).forEach(j=>{A[j.w]=(A[j.w]||0)+P.edge(j).weight}),A});return N(P.nodes(),R)}function a(P){let R=P.nodes().map(T=>{let A={};return P.inEdges(T).forEach(j=>{A[j.v]=(A[j.v]||0)+P.edge(j).weight}),A});return N(P.nodes(),R)}function l(P,R){let T=P.x,A=P.y,j=R.x-T,E=R.y-A,_=P.width/2,Q=P.height/2;if(!j&&!E)throw new Error("Not possible to find intersection inside of the rectangle");let M,L;return Math.abs(E)*_>Math.abs(j)*Q?(E<0&&(Q=-Q),M=Q*j/E,L=Q):(j<0&&(_=-_),M=_,L=_*E/j),{x:T+M,y:A+L}}function c(P){let R=k(y(P)+1).map(()=>[]);return P.nodes().forEach(T=>{let A=P.node(T),j=A.rank;j!==void 0&&(R[j][A.order]=T)}),R}function u(P){let R=P.nodes().map(A=>{let j=P.node(A).rank;return j===void 0?Number.MAX_VALUE:j}),T=g(Math.min,R);P.nodes().forEach(A=>{let j=P.node(A);Object.hasOwn(j,"rank")&&(j.rank-=T)})}function d(P){let R=P.nodes().map(_=>P.node(_).rank),T=g(Math.min,R),A=[];P.nodes().forEach(_=>{let Q=P.node(_).rank-T;A[Q]||(A[Q]=[]),A[Q].push(_)});let j=0,E=P.graph().nodeRankFactor;Array.from(A).forEach((_,Q)=>{_===void 0&&Q%E!==0?--j:_!==void 0&&j&&_.forEach(M=>P.node(M).rank+=j)})}function f(P,R,T,A){let j={width:0,height:0};return arguments.length>=4&&(j.rank=T,j.order=A),r(P,"border",j,R)}function h(P,R=m){let T=[];for(let A=0;A<P.length;A+=R){let j=P.slice(A,A+R);T.push(j)}return T}var m=65535;function g(P,R){if(R.length>m){let T=h(R);return P.apply(null,T.map(A=>P.apply(null,A)))}else return P.apply(null,R)}function y(P){let R=P.nodes().map(T=>{let A=P.node(T).rank;return A===void 0?Number.MIN_VALUE:A});return g(Math.max,R)}function O(P,R){let T={lhs:[],rhs:[]};return P.forEach(A=>{R(A)?T.lhs.push(A):T.rhs.push(A)}),T}function b(P,R){let T=Date.now();try{return R()}finally{console.log(P+" time: "+(Date.now()-T)+"ms")}}function w(P,R){return R()}var x=0;function v(P){var R=++x;return toString(P)+R}function k(P,R,T=1){R==null&&(R=P,P=0);let A=E=>E<R;T<0&&(A=E=>R<E);let j=[];for(let E=P;A(E);E+=T)j.push(E);return j}function $(P,R){let T={};for(let A of R)P[A]!==void 0&&(T[A]=P[A]);return T}function C(P,R){let T=R;return typeof R=="string"&&(T=A=>A[R]),Object.entries(P).reduce((A,[j,E])=>(A[j]=T(E,j),A),{})}function N(P,R){return P.reduce((T,A,j)=>(T[A]=R[j],T),{})}}),zet=Z((t,e)=>{var n=Wet(),r=Tn().uniqueId;e.exports={run:i,undo:o};function i(a){(a.graph().acyclicer==="greedy"?n(a,l(a)):s(a)).forEach(c=>{let u=a.edge(c);a.removeEdge(c),u.forwardName=c.name,u.reversed=!0,a.setEdge(c.w,c.v,u,r("rev"))});function l(c){return u=>c.edge(u).weight}}function s(a){let l=[],c={},u={};function d(f){Object.hasOwn(u,f)||(u[f]=!0,c[f]=!0,a.outEdges(f).forEach(h=>{Object.hasOwn(c,h.w)?l.push(h):d(h.w)}),delete c[f])}return a.nodes().forEach(d),l}function o(a){a.edges().forEach(l=>{let c=a.edge(l);if(c.reversed){a.removeEdge(l);let u=c.forwardName;delete c.reversed,delete c.forwardName,a.setEdge(l.w,l.v,c,u)}})}}),Zet=Z((t,e)=>{var n=Tn();e.exports={run:r,undo:s};function r(o){o.graph().dummyChains=[],o.edges().forEach(a=>i(o,a))}function i(o,a){let l=a.v,c=o.node(l).rank,u=a.w,d=o.node(u).rank,f=a.name,h=o.edge(a),m=h.labelRank;if(d===c+1)return;o.removeEdge(a);let g,y,O;for(O=0,++c;c<d;++O,++c)h.points=[],y={width:0,height:0,edgeLabel:h,edgeObj:a,rank:c},g=n.addDummyNode(o,"edge",y,"_d"),c===m&&(y.width=h.width,y.height=h.height,y.dummy="edge-label",y.labelpos=h.labelpos),o.setEdge(l,g,{weight:h.weight},f),O===0&&o.graph().dummyChains.push(g),l=g;o.setEdge(l,u,{weight:h.weight},f)}function s(o){o.graph().dummyChains.forEach(a=>{let l=o.node(a),c=l.edgeLabel,u;for(o.setEdge(l.edgeObj,c);l.dummy;)u=o.successors(a)[0],o.removeNode(a),c.points.push({x:l.x,y:l.y}),l.dummy==="edge-label"&&(c.x=l.x,c.y=l.y,c.width=l.width,c.height=l.height),a=u,l=o.node(a)})}}),z0=Z((t,e)=>{var{applyWithChunking:n}=Tn();e.exports={longestPath:r,slack:i};function r(s){var o={};function a(l){var c=s.node(l);if(Object.hasOwn(o,l))return c.rank;o[l]=!0;let u=s.outEdges(l).map(f=>f==null?Number.POSITIVE_INFINITY:a(f.w)-s.edge(f).minlen);var d=n(Math.min,u);return d===Number.POSITIVE_INFINITY&&(d=0),c.rank=d}s.sources().forEach(a)}function i(s,o){return s.node(o.w).rank-s.node(o.v).rank-s.edge(o).minlen}}),Ile=Z((t,e)=>{var n=ao().Graph,r=z0().slack;e.exports=i;function i(l){var c=new n({directed:!1}),u=l.nodes()[0],d=l.nodeCount();c.setNode(u,{});for(var f,h;s(c,l)<d;)f=o(c,l),h=c.hasNode(f.v)?r(l,f):-r(l,f),a(c,l,h);return c}function s(l,c){function u(d){c.nodeEdges(d).forEach(f=>{var h=f.v,m=d===h?f.w:h;!l.hasNode(m)&&!r(c,f)&&(l.setNode(m,{}),l.setEdge(d,m,{}),u(m))})}return l.nodes().forEach(u),l.nodeCount()}function o(l,c){return c.edges().reduce((u,d)=>{let f=Number.POSITIVE_INFINITY;return l.hasNode(d.v)!==l.hasNode(d.w)&&(f=r(c,d)),f<u[0]?[f,d]:u},[Number.POSITIVE_INFINITY,null])[1]}function a(l,c,u){l.nodes().forEach(d=>c.node(d).rank+=u)}}),Uet=Z((t,e)=>{var n=Ile(),r=z0().slack,i=z0().longestPath,s=ao().alg.preorder,o=ao().alg.postorder,a=Tn().simplify;e.exports=l,l.initLowLimValues=f,l.initCutValues=c,l.calcCutValue=d,l.leaveEdge=m,l.enterEdge=g,l.exchangeEdges=y;function l(x){x=a(x),i(x);var v=n(x);f(v),c(v,x);for(var k,$;k=m(v);)$=g(v,x,k),y(v,x,k,$)}function c(x,v){var k=o(x,x.nodes());k=k.slice(0,k.length-1),k.forEach($=>u(x,v,$))}function u(x,v,k){var $=x.node(k),C=$.parent;x.edge(k,C).cutvalue=d(x,v,k)}function d(x,v,k){var $=x.node(k),C=$.parent,N=!0,P=v.edge(k,C),R=0;return P||(N=!1,P=v.edge(C,k)),R=P.weight,v.nodeEdges(k).forEach(T=>{var A=T.v===k,j=A?T.w:T.v;if(j!==C){var E=A===N,_=v.edge(T).weight;if(R+=E?_:-_,b(x,k,j)){var Q=x.edge(k,j).cutvalue;R+=E?-Q:Q}}}),R}function f(x,v){arguments.length<2&&(v=x.nodes()[0]),h(x,{},1,v)}function h(x,v,k,$,C){var N=k,P=x.node($);return v[$]=!0,x.neighbors($).forEach(R=>{Object.hasOwn(v,R)||(k=h(x,v,k,R,$))}),P.low=N,P.lim=k++,C?P.parent=C:delete P.parent,k}function m(x){return x.edges().find(v=>x.edge(v).cutvalue<0)}function g(x,v,k){var $=k.v,C=k.w;v.hasEdge($,C)||($=k.w,C=k.v);var N=x.node($),P=x.node(C),R=N,T=!1;N.lim>P.lim&&(R=P,T=!0);var A=v.edges().filter(j=>T===w(x,x.node(j.v),R)&&T!==w(x,x.node(j.w),R));return A.reduce((j,E)=>r(v,E)<r(v,j)?E:j)}function y(x,v,k,$){var C=k.v,N=k.w;x.removeEdge(C,N),x.setEdge($.v,$.w,{}),f(x),c(x,v),O(x,v)}function O(x,v){var k=x.nodes().find(C=>!v.node(C).parent),$=s(x,k);$=$.slice(1),$.forEach(C=>{var N=x.node(C).parent,P=v.edge(C,N),R=!1;P||(P=v.edge(N,C),R=!0),v.node(C).rank=v.node(N).rank+(R?P.minlen:-P.minlen)})}function b(x,v,k){return x.hasEdge(v,k)}function w(x,v,k){return k.low<=v.lim&&v.lim<=k.lim}}),Xet=Z((t,e)=>{var n=z0(),r=n.longestPath,i=Ile(),s=Uet();e.exports=o;function o(u){switch(u.graph().ranker){case"network-simplex":c(u);break;case"tight-tree":l(u);break;case"longest-path":a(u);break;default:c(u)}}var a=r;function l(u){r(u),i(u)}function c(u){s(u)}}),Get=Z((t,e)=>{e.exports=n;function n(s){let o=i(s);s.graph().dummyChains.forEach(a=>{let l=s.node(a),c=l.edgeObj,u=r(s,o,c.v,c.w),d=u.path,f=u.lca,h=0,m=d[h],g=!0;for(;a!==c.w;){if(l=s.node(a),g){for(;(m=d[h])!==f&&s.node(m).maxRank<l.rank;)h++;m===f&&(g=!1)}if(!g){for(;h<d.length-1&&s.node(m=d[h+1]).minRank<=l.rank;)h++;m=d[h]}s.setParent(a,m),a=s.successors(a)[0]}})}function r(s,o,a,l){let c=[],u=[],d=Math.min(o[a].low,o[l].low),f=Math.max(o[a].lim,o[l].lim),h,m;h=a;do h=s.parent(h),c.push(h);while(h&&(o[h].low>d||f>o[h].lim));for(m=h,h=l;(h=s.parent(h))!==m;)u.push(h);return{path:c.concat(u.reverse()),lca:m}}function i(s){let o={},a=0;function l(c){let u=a;s.children(c).forEach(l),o[c]={low:u,lim:a++}}return s.children().forEach(l),o}}),Yet=Z((t,e)=>{var n=Tn();e.exports={run:r,cleanup:a};function r(l){let c=n.addDummyNode(l,"root",{},"_root"),u=s(l),d=Object.values(u),f=n.applyWithChunking(Math.max,d)-1,h=2*f+1;l.graph().nestingRoot=c,l.edges().forEach(g=>l.edge(g).minlen*=h);let m=o(l)+1;l.children().forEach(g=>i(l,c,h,m,f,u,g)),l.graph().nodeRankFactor=h}function i(l,c,u,d,f,h,m){let g=l.children(m);if(!g.length){m!==c&&l.setEdge(c,m,{weight:0,minlen:u});return}let y=n.addBorderNode(l,"_bt"),O=n.addBorderNode(l,"_bb"),b=l.node(m);l.setParent(y,m),b.borderTop=y,l.setParent(O,m),b.borderBottom=O,g.forEach(w=>{i(l,c,u,d,f,h,w);let x=l.node(w),v=x.borderTop?x.borderTop:w,k=x.borderBottom?x.borderBottom:w,$=x.borderTop?d:2*d,C=v!==k?1:f-h[m]+1;l.setEdge(y,v,{weight:$,minlen:C,nestingEdge:!0}),l.setEdge(k,O,{weight:$,minlen:C,nestingEdge:!0})}),l.parent(m)||l.setEdge(c,y,{weight:0,minlen:f+h[m]})}function s(l){var c={};function u(d,f){var h=l.children(d);h&&h.length&&h.forEach(m=>u(m,f+1)),c[d]=f}return l.children().forEach(d=>u(d,1)),c}function o(l){return l.edges().reduce((c,u)=>c+l.edge(u).weight,0)}function a(l){var c=l.graph();l.removeNode(c.nestingRoot),delete c.nestingRoot,l.edges().forEach(u=>{var d=l.edge(u);d.nestingEdge&&l.removeEdge(u)})}}),Het=Z((t,e)=>{var n=Tn();e.exports=r;function r(s){function o(a){let l=s.children(a),c=s.node(a);if(l.length&&l.forEach(o),Object.hasOwn(c,"minRank")){c.borderLeft=[],c.borderRight=[];for(let u=c.minRank,d=c.maxRank+1;u<d;++u)i(s,"borderLeft","_bl",a,c,u),i(s,"borderRight","_br",a,c,u)}}s.children().forEach(o)}function i(s,o,a,l,c,u){let d={width:0,height:0,rank:u,borderType:o},f=c[o][u-1],h=n.addDummyNode(s,"border",d,a);c[o][u]=h,s.setParent(h,l),f&&s.setEdge(f,h,{weight:1})}}),Jet=Z((t,e)=>{e.exports={adjust:n,undo:r};function n(u){let d=u.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&i(u)}function r(u){let d=u.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&o(u),(d==="lr"||d==="rl")&&(l(u),i(u))}function i(u){u.nodes().forEach(d=>s(u.node(d))),u.edges().forEach(d=>s(u.edge(d)))}function s(u){let d=u.width;u.width=u.height,u.height=d}function o(u){u.nodes().forEach(d=>a(u.node(d))),u.edges().forEach(d=>{let f=u.edge(d);f.points.forEach(a),Object.hasOwn(f,"y")&&a(f)})}function a(u){u.y=-u.y}function l(u){u.nodes().forEach(d=>c(u.node(d))),u.edges().forEach(d=>{let f=u.edge(d);f.points.forEach(c),Object.hasOwn(f,"x")&&c(f)})}function c(u){let d=u.x;u.x=u.y,u.y=d}}),Ket=Z((t,e)=>{var n=Tn();e.exports=r;function r(i){let s={},o=i.nodes().filter(d=>!i.children(d).length),a=o.map(d=>i.node(d).rank),l=n.applyWithChunking(Math.max,a),c=n.range(l+1).map(()=>[]);function u(d){if(s[d])return;s[d]=!0;let f=i.node(d);c[f.rank].push(d),i.successors(d).forEach(u)}return o.sort((d,f)=>i.node(d).rank-i.node(f).rank).forEach(u),c}}),ett=Z((t,e)=>{var n=Tn().zipObject;e.exports=r;function r(s,o){let a=0;for(let l=1;l<o.length;++l)a+=i(s,o[l-1],o[l]);return a}function i(s,o,a){let l=n(a,a.map((m,g)=>g)),c=o.flatMap(m=>s.outEdges(m).map(g=>({pos:l[g.w],weight:s.edge(g).weight})).sort((g,y)=>g.pos-y.pos)),u=1;for(;u<a.length;)u<<=1;let d=2*u-1;u-=1;let f=new Array(d).fill(0),h=0;return c.forEach(m=>{let g=m.pos+u;f[g]+=m.weight;let y=0;for(;g>0;)g%2&&(y+=f[g+1]),g=g-1>>1,f[g]+=m.weight;h+=m.weight*y}),h}}),ttt=Z((t,e)=>{e.exports=n;function n(r,i=[]){return i.map(s=>{let o=r.inEdges(s);if(o.length){let a=o.reduce((l,c)=>{let u=r.edge(c),d=r.node(c.v);return{sum:l.sum+u.weight*d.order,weight:l.weight+u.weight}},{sum:0,weight:0});return{v:s,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:s}})}}),ntt=Z((t,e)=>{var n=Tn();e.exports=r;function r(o,a){let l={};o.forEach((u,d)=>{let f=l[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:d};u.barycenter!==void 0&&(f.barycenter=u.barycenter,f.weight=u.weight)}),a.edges().forEach(u=>{let d=l[u.v],f=l[u.w];d!==void 0&&f!==void 0&&(f.indegree++,d.out.push(l[u.w]))});let c=Object.values(l).filter(u=>!u.indegree);return i(c)}function i(o){let a=[];function l(u){return d=>{d.merged||(d.barycenter===void 0||u.barycenter===void 0||d.barycenter>=u.barycenter)&&s(u,d)}}function c(u){return d=>{d.in.push(u),--d.indegree===0&&o.push(d)}}for(;o.length;){let u=o.pop();a.push(u),u.in.reverse().forEach(l(u)),u.out.forEach(c(u))}return a.filter(u=>!u.merged).map(u=>n.pick(u,["vs","i","barycenter","weight"]))}function s(o,a){let l=0,c=0;o.weight&&(l+=o.barycenter*o.weight,c+=o.weight),a.weight&&(l+=a.barycenter*a.weight,c+=a.weight),o.vs=a.vs.concat(o.vs),o.barycenter=l/c,o.weight=c,o.i=Math.min(a.i,o.i),a.merged=!0}}),rtt=Z((t,e)=>{var n=Tn();e.exports=r;function r(o,a){let l=n.partition(o,y=>Object.hasOwn(y,"barycenter")),c=l.lhs,u=l.rhs.sort((y,O)=>O.i-y.i),d=[],f=0,h=0,m=0;c.sort(s(!!a)),m=i(d,u,m),c.forEach(y=>{m+=y.vs.length,d.push(y.vs),f+=y.barycenter*y.weight,h+=y.weight,m=i(d,u,m)});let g={vs:d.flat(!0)};return h&&(g.barycenter=f/h,g.weight=h),g}function i(o,a,l){let c;for(;a.length&&(c=a[a.length-1]).i<=l;)a.pop(),o.push(c.vs),l++;return l}function s(o){return(a,l)=>a.barycenter<l.barycenter?-1:a.barycenter>l.barycenter?1:o?l.i-a.i:a.i-l.i}}),itt=Z((t,e)=>{var n=ttt(),r=ntt(),i=rtt();e.exports=s;function s(l,c,u,d){let f=l.children(c),h=l.node(c),m=h?h.borderLeft:void 0,g=h?h.borderRight:void 0,y={};m&&(f=f.filter(x=>x!==m&&x!==g));let O=n(l,f);O.forEach(x=>{if(l.children(x.v).length){let v=s(l,x.v,u,d);y[x.v]=v,Object.hasOwn(v,"barycenter")&&a(x,v)}});let b=r(O,u);o(b,y);let w=i(b,d);if(m&&(w.vs=[m,w.vs,g].flat(!0),l.predecessors(m).length)){let x=l.node(l.predecessors(m)[0]),v=l.node(l.predecessors(g)[0]);Object.hasOwn(w,"barycenter")||(w.barycenter=0,w.weight=0),w.barycenter=(w.barycenter*w.weight+x.order+v.order)/(w.weight+2),w.weight+=2}return w}function o(l,c){l.forEach(u=>{u.vs=u.vs.flatMap(d=>c[d]?c[d].vs:d)})}function a(l,c){l.barycenter!==void 0?(l.barycenter=(l.barycenter*l.weight+c.barycenter*c.weight)/(l.weight+c.weight),l.weight+=c.weight):(l.barycenter=c.barycenter,l.weight=c.weight)}}),stt=Z((t,e)=>{var n=ao().Graph,r=Tn();e.exports=i;function i(o,a,l){let c=s(o),u=new n({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(d=>o.node(d));return o.nodes().forEach(d=>{let f=o.node(d),h=o.parent(d);(f.rank===a||f.minRank<=a&&a<=f.maxRank)&&(u.setNode(d),u.setParent(d,h||c),o[l](d).forEach(m=>{let g=m.v===d?m.w:m.v,y=u.edge(g,d),O=y!==void 0?y.weight:0;u.setEdge(g,d,{weight:o.edge(m).weight+O})}),Object.hasOwn(f,"minRank")&&u.setNode(d,{borderLeft:f.borderLeft[a],borderRight:f.borderRight[a]}))}),u}function s(o){for(var a;o.hasNode(a=r.uniqueId("_root")););return a}}),ott=Z((t,e)=>{e.exports=n;function n(r,i,s){let o={},a;s.forEach(l=>{let c=r.parent(l),u,d;for(;c;){if(u=r.parent(c),u?(d=o[u],o[u]=c):(d=a,a=c),d&&d!==c){i.setEdge(d,c);return}c=u}})}}),att=Z((t,e)=>{var n=Ket(),r=ett(),i=itt(),s=stt(),o=ott(),a=ao().Graph,l=Tn();e.exports=c;function c(h,m){if(m&&typeof m.customOrder=="function"){m.customOrder(h,c);return}let g=l.maxRank(h),y=u(h,l.range(1,g+1),"inEdges"),O=u(h,l.range(g-1,-1,-1),"outEdges"),b=n(h);if(f(h,b),m&&m.disableOptimalOrderHeuristic)return;let w=Number.POSITIVE_INFINITY,x;for(let v=0,k=0;k<4;++v,++k){d(v%2?y:O,v%4>=2),b=l.buildLayerMatrix(h);let $=r(h,b);$<w&&(k=0,x=Object.assign({},b),w=$)}f(h,x)}function u(h,m,g){return m.map(function(y){return s(h,y,g)})}function d(h,m){let g=new a;h.forEach(function(y){let O=y.graph().root,b=i(y,O,g,m);b.vs.forEach((w,x)=>y.node(w).order=x),o(y,g,b.vs)})}function f(h,m){Object.values(m).forEach(g=>g.forEach((y,O)=>h.node(y).order=O))}}),ltt=Z((t,e)=>{var n=ao().Graph,r=Tn();e.exports={positionX:g,findType1Conflicts:i,findType2Conflicts:s,addConflict:a,hasConflict:l,verticalAlignment:c,horizontalCompaction:u,alignCoordinates:h,findSmallestWidthAlignment:f,balance:m};function i(b,w){let x={};function v(k,$){let C=0,N=0,P=k.length,R=$[$.length-1];return $.forEach((T,A)=>{let j=o(b,T),E=j?b.node(j).order:P;(j||T===R)&&($.slice(N,A+1).forEach(_=>{b.predecessors(_).forEach(Q=>{let M=b.node(Q),L=M.order;(L<C||E<L)&&!(M.dummy&&b.node(_).dummy)&&a(x,Q,_)})}),N=A+1,C=E)}),$}return w.length&&w.reduce(v),x}function s(b,w){let x={};function v($,C,N,P,R){let T;r.range(C,N).forEach(A=>{T=$[A],b.node(T).dummy&&b.predecessors(T).forEach(j=>{let E=b.node(j);E.dummy&&(E.order<P||E.order>R)&&a(x,j,T)})})}function k($,C){let N=-1,P,R=0;return C.forEach((T,A)=>{if(b.node(T).dummy==="border"){let j=b.predecessors(T);j.length&&(P=b.node(j[0]).order,v(C,R,A,N,P),R=A,N=P)}v(C,R,C.length,P,$.length)}),C}return w.length&&w.reduce(k),x}function o(b,w){if(b.node(w).dummy)return b.predecessors(w).find(x=>b.node(x).dummy)}function a(b,w,x){if(w>x){let k=w;w=x,x=k}let v=b[w];v||(b[w]=v={}),v[x]=!0}function l(b,w,x){if(w>x){let v=w;w=x,x=v}return!!b[w]&&Object.hasOwn(b[w],x)}function c(b,w,x,v){let k={},$={},C={};return w.forEach(N=>{N.forEach((P,R)=>{k[P]=P,$[P]=P,C[P]=R})}),w.forEach(N=>{let P=-1;N.forEach(R=>{let T=v(R);if(T.length){T=T.sort((j,E)=>C[j]-C[E]);let A=(T.length-1)/2;for(let j=Math.floor(A),E=Math.ceil(A);j<=E;++j){let _=T[j];$[R]===R&&P<C[_]&&!l(x,R,_)&&($[_]=R,$[R]=k[R]=k[_],P=C[_])}}})}),{root:k,align:$}}function u(b,w,x,v,k){let $={},C=d(b,w,x,k),N=k?"borderLeft":"borderRight";function P(A,j){let E=C.nodes(),_=E.pop(),Q={};for(;_;)Q[_]?A(_):(Q[_]=!0,E.push(_),E=E.concat(j(_))),_=E.pop()}function R(A){$[A]=C.inEdges(A).reduce((j,E)=>Math.max(j,$[E.v]+C.edge(E)),0)}function T(A){let j=C.outEdges(A).reduce((_,Q)=>Math.min(_,$[Q.w]-C.edge(Q)),Number.POSITIVE_INFINITY),E=b.node(A);j!==Number.POSITIVE_INFINITY&&E.borderType!==N&&($[A]=Math.max($[A],j))}return P(R,C.predecessors.bind(C)),P(T,C.successors.bind(C)),Object.keys(v).forEach(A=>$[A]=$[x[A]]),$}function d(b,w,x,v){let k=new n,$=b.graph(),C=y($.nodesep,$.edgesep,v);return w.forEach(N=>{let P;N.forEach(R=>{let T=x[R];if(k.setNode(T),P){var A=x[P],j=k.edge(A,T);k.setEdge(A,T,Math.max(C(b,R,P),j||0))}P=R})}),k}function f(b,w){return Object.values(w).reduce((x,v)=>{let k=Number.NEGATIVE_INFINITY,$=Number.POSITIVE_INFINITY;Object.entries(v).forEach(([N,P])=>{let R=O(b,N)/2;k=Math.max(P+R,k),$=Math.min(P-R,$)});let C=k-$;return C<x[0]&&(x=[C,v]),x},[Number.POSITIVE_INFINITY,null])[1]}function h(b,w){let x=Object.values(w),v=r.applyWithChunking(Math.min,x),k=r.applyWithChunking(Math.max,x);["u","d"].forEach($=>{["l","r"].forEach(C=>{let N=$+C,P=b[N];if(P===w)return;let R=Object.values(P),T=v-r.applyWithChunking(Math.min,R);C!=="l"&&(T=k-r.applyWithChunking(Math.max,R)),T&&(b[N]=r.mapValues(P,A=>A+T))})})}function m(b,w){return r.mapValues(b.ul,(x,v)=>{if(w)return b[w.toLowerCase()][v];{let k=Object.values(b).map($=>$[v]).sort(($,C)=>$-C);return(k[1]+k[2])/2}})}function g(b){let w=r.buildLayerMatrix(b),x=Object.assign(i(b,w),s(b,w)),v={},k;["u","d"].forEach(C=>{k=C==="u"?w:Object.values(w).reverse(),["l","r"].forEach(N=>{N==="r"&&(k=k.map(A=>Object.values(A).reverse()));let P=(C==="u"?b.predecessors:b.successors).bind(b),R=c(b,k,x,P),T=u(b,k,R.root,R.align,N==="r");N==="r"&&(T=r.mapValues(T,A=>-A)),v[C+N]=T})});let $=f(b,v);return h(v,$),m(v,b.graph().align)}function y(b,w,x){return(v,k,$)=>{let C=v.node(k),N=v.node($),P=0,R;if(P+=C.width/2,Object.hasOwn(C,"labelpos"))switch(C.labelpos.toLowerCase()){case"l":R=-C.width/2;break;case"r":R=C.width/2;break}if(R&&(P+=x?R:-R),R=0,P+=(C.dummy?w:b)/2,P+=(N.dummy?w:b)/2,P+=N.width/2,Object.hasOwn(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":R=N.width/2;break;case"r":R=-N.width/2;break}return R&&(P+=x?R:-R),R=0,P}}function O(b,w){return b.node(w).width}}),ctt=Z((t,e)=>{var n=Tn(),r=ltt().positionX;e.exports=i;function i(o){o=n.asNonCompoundGraph(o),s(o),Object.entries(r(o)).forEach(([a,l])=>o.node(a).x=l)}function s(o){let a=n.buildLayerMatrix(o),l=o.graph().ranksep,c=0;a.forEach(u=>{let d=u.reduce((f,h)=>{let m=o.node(h).height;return f>m?f:m},0);u.forEach(f=>o.node(f).y=c+d/2),c+=d+l})}}),utt=Z((t,e)=>{var n=zet(),r=Zet(),i=Xet(),s=Tn().normalizeRanks,o=Get(),a=Tn().removeEmptyRanks,l=Yet(),c=Het(),u=Jet(),d=att(),f=ctt(),h=Tn(),m=ao().Graph;e.exports=g;function g(U,ee){let re=ee&&ee.debugTiming?h.time:h.notime;re("layout",()=>{let J=re("  buildLayoutGraph",()=>P(U));re("  runLayout",()=>y(J,re,ee)),re("  updateInputGraph",()=>O(U,J))})}function y(U,ee,re){ee("    makeSpaceForEdgeLabels",()=>R(U)),ee("    removeSelfEdges",()=>V(U)),ee("    acyclic",()=>n.run(U)),ee("    nestingGraph.run",()=>l.run(U)),ee("    rank",()=>i(h.asNonCompoundGraph(U))),ee("    injectEdgeLabelProxies",()=>T(U)),ee("    removeEmptyRanks",()=>a(U)),ee("    nestingGraph.cleanup",()=>l.cleanup(U)),ee("    normalizeRanks",()=>s(U)),ee("    assignRankMinMax",()=>A(U)),ee("    removeEdgeLabelProxies",()=>j(U)),ee("    normalize.run",()=>r.run(U)),ee("    parentDummyChains",()=>o(U)),ee("    addBorderSegments",()=>c(U)),ee("    order",()=>d(U,re)),ee("    insertSelfEdges",()=>W(U)),ee("    adjustCoordinateSystem",()=>u.adjust(U)),ee("    position",()=>f(U)),ee("    positionSelfEdges",()=>H(U)),ee("    removeBorderNodes",()=>L(U)),ee("    normalize.undo",()=>r.undo(U)),ee("    fixupEdgeLabelCoords",()=>Q(U)),ee("    undoCoordinateSystem",()=>u.undo(U)),ee("    translateGraph",()=>E(U)),ee("    assignNodeIntersects",()=>_(U)),ee("    reversePoints",()=>M(U)),ee("    acyclic.undo",()=>n.undo(U))}function O(U,ee){U.nodes().forEach(re=>{let J=U.node(re),q=ee.node(re);J&&(J.x=q.x,J.y=q.y,J.rank=q.rank,ee.children(re).length&&(J.width=q.width,J.height=q.height))}),U.edges().forEach(re=>{let J=U.edge(re),q=ee.edge(re);J.points=q.points,Object.hasOwn(q,"x")&&(J.x=q.x,J.y=q.y)}),U.graph().width=ee.graph().width,U.graph().height=ee.graph().height}var b=["nodesep","edgesep","ranksep","marginx","marginy"],w={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},x=["acyclicer","ranker","rankdir","align"],v=["width","height"],k={width:0,height:0},$=["minlen","weight","width","height","labeloffset"],C={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},N=["labelpos"];function P(U){let ee=new m({multigraph:!0,compound:!0}),re=fe(U.graph());return ee.setGraph(Object.assign({},w,le(re,b),h.pick(re,x))),U.nodes().forEach(J=>{let q=fe(U.node(J)),oe=le(q,v);Object.keys(k).forEach(B=>{oe[B]===void 0&&(oe[B]=k[B])}),ee.setNode(J,oe),ee.setParent(J,U.parent(J))}),U.edges().forEach(J=>{let q=fe(U.edge(J));ee.setEdge(J,Object.assign({},C,le(q,$),h.pick(q,N)))}),ee}function R(U){let ee=U.graph();ee.ranksep/=2,U.edges().forEach(re=>{let J=U.edge(re);J.minlen*=2,J.labelpos.toLowerCase()!=="c"&&(ee.rankdir==="TB"||ee.rankdir==="BT"?J.width+=J.labeloffset:J.height+=J.labeloffset)})}function T(U){U.edges().forEach(ee=>{let re=U.edge(ee);if(re.width&&re.height){let J=U.node(ee.v),q={rank:(U.node(ee.w).rank-J.rank)/2+J.rank,e:ee};h.addDummyNode(U,"edge-proxy",q,"_ep")}})}function A(U){let ee=0;U.nodes().forEach(re=>{let J=U.node(re);J.borderTop&&(J.minRank=U.node(J.borderTop).rank,J.maxRank=U.node(J.borderBottom).rank,ee=Math.max(ee,J.maxRank))}),U.graph().maxRank=ee}function j(U){U.nodes().forEach(ee=>{let re=U.node(ee);re.dummy==="edge-proxy"&&(U.edge(re.e).labelRank=re.rank,U.removeNode(ee))})}function E(U){let ee=Number.POSITIVE_INFINITY,re=0,J=Number.POSITIVE_INFINITY,q=0,oe=U.graph(),B=oe.marginx||0,ie=oe.marginy||0;function ce(de){let z=de.x,ne=de.y,X=de.width,ae=de.height;ee=Math.min(ee,z-X/2),re=Math.max(re,z+X/2),J=Math.min(J,ne-ae/2),q=Math.max(q,ne+ae/2)}U.nodes().forEach(de=>ce(U.node(de))),U.edges().forEach(de=>{let z=U.edge(de);Object.hasOwn(z,"x")&&ce(z)}),ee-=B,J-=ie,U.nodes().forEach(de=>{let z=U.node(de);z.x-=ee,z.y-=J}),U.edges().forEach(de=>{let z=U.edge(de);z.points.forEach(ne=>{ne.x-=ee,ne.y-=J}),Object.hasOwn(z,"x")&&(z.x-=ee),Object.hasOwn(z,"y")&&(z.y-=J)}),oe.width=re-ee+B,oe.height=q-J+ie}function _(U){U.edges().forEach(ee=>{let re=U.edge(ee),J=U.node(ee.v),q=U.node(ee.w),oe,B;re.points?(oe=re.points[0],B=re.points[re.points.length-1]):(re.points=[],oe=q,B=J),re.points.unshift(h.intersectRect(J,oe)),re.points.push(h.intersectRect(q,B))})}function Q(U){U.edges().forEach(ee=>{let re=U.edge(ee);if(Object.hasOwn(re,"x"))switch((re.labelpos==="l"||re.labelpos==="r")&&(re.width-=re.labeloffset),re.labelpos){case"l":re.x-=re.width/2+re.labeloffset;break;case"r":re.x+=re.width/2+re.labeloffset;break}})}function M(U){U.edges().forEach(ee=>{let re=U.edge(ee);re.reversed&&re.points.reverse()})}function L(U){U.nodes().forEach(ee=>{if(U.children(ee).length){let re=U.node(ee),J=U.node(re.borderTop),q=U.node(re.borderBottom),oe=U.node(re.borderLeft[re.borderLeft.length-1]),B=U.node(re.borderRight[re.borderRight.length-1]);re.width=Math.abs(B.x-oe.x),re.height=Math.abs(q.y-J.y),re.x=oe.x+re.width/2,re.y=J.y+re.height/2}}),U.nodes().forEach(ee=>{U.node(ee).dummy==="border"&&U.removeNode(ee)})}function V(U){U.edges().forEach(ee=>{if(ee.v===ee.w){var re=U.node(ee.v);re.selfEdges||(re.selfEdges=[]),re.selfEdges.push({e:ee,label:U.edge(ee)}),U.removeEdge(ee)}})}function W(U){var ee=h.buildLayerMatrix(U);ee.forEach(re=>{var J=0;re.forEach((q,oe)=>{var B=U.node(q);B.order=oe+J,(B.selfEdges||[]).forEach(ie=>{h.addDummyNode(U,"selfedge",{width:ie.label.width,height:ie.label.height,rank:B.rank,order:oe+ ++J,e:ie.e,label:ie.label},"_se")}),delete B.selfEdges})})}function H(U){U.nodes().forEach(ee=>{var re=U.node(ee);if(re.dummy==="selfedge"){var J=U.node(re.e.v),q=J.x+J.width/2,oe=J.y,B=re.x-q,ie=J.height/2;U.setEdge(re.e,re.label),U.removeNode(ee),re.label.points=[{x:q+2*B/3,y:oe-ie},{x:q+5*B/6,y:oe-ie},{x:q+B,y:oe},{x:q+5*B/6,y:oe+ie},{x:q+2*B/3,y:oe+ie}],re.label.x=re.x,re.label.y=re.y}})}function le(U,ee){return h.mapValues(h.pick(U,ee),Number)}function fe(U){var ee={};return U&&Object.entries(U).forEach(([re,J])=>{typeof re=="string"&&(re=re.toLowerCase()),ee[re]=J}),ee}}),dtt=Z((t,e)=>{var n=Tn(),r=ao().Graph;e.exports={debugOrdering:i};function i(s){let o=n.buildLayerMatrix(s),a=new r({compound:!0,multigraph:!0}).setGraph({});return s.nodes().forEach(l=>{a.setNode(l,{label:l}),a.setParent(l,"layer"+s.node(l).rank)}),s.edges().forEach(l=>a.setEdge(l.v,l.w,{},l.name)),o.forEach((l,c)=>{let u="layer"+c;a.setNode(u,{rank:"same"}),l.reduce((d,f)=>(a.setEdge(d,f,{style:"invis"}),f))}),a}}),ftt=Z((t,e)=>{e.exports="1.1.4"}),htt=Z((t,e)=>{e.exports={graphlib:ao(),layout:utt(),debug:dtt(),util:{time:Tn().time,notime:Tn().notime},version:ftt()}}),dj,Dle,ptt=D(()=>{dj=Ee(htt(),1),Dle=({nodes:t,edges:e,graph:n})=>{let r=new dj.default.graphlib.Graph;return r.setDefaultEdgeLabel(()=>({})),r.setGraph(n||{}),t.forEach(i=>{r.setNode(i.id,{width:i.width,height:i.height})}),e.forEach(i=>{r.setEdge(i.target,i.source)}),dj.default.layout(r),{nodes:t.map(i=>{let s=r.node(i.id);return{...i,x:s.x-(i.width??0)/2,y:s.y-(i.height??0)/2}}),edges:e}}});function _r({position:t,className:e,children:n,unstyled:r,...i}){return r?p.jsx(gy,{position:t,className:Qe("flex flex-row p-1 gap-4",e),...i,children:n}):p.jsx(gy,{position:t,...i,children:p.jsx(q_,{className:e,children:n})})}var q_,Rz,Mz,Lle=D(()=>{kt(),Lt(),q_=({children:t,className:e,...n})=>p.jsx("div",{...n,className:Qe("flex flex-row bg-lightest border ring-2 ring-muted/5 border-muted rounded-full items-center p-1",e),children:t}),Rz=({Icon:t,size:e="lg",variant:n="ghost",onClick:r,disabled:i,className:s,round:o,...a})=>p.jsx(dt,{Icon:t,size:e,variant:n,onClick:r,disabled:i,className:Qe(o?"rounded-full":"",s),...a}),Mz=S.forwardRef(({children:t,className:e,mono:n,...r},i)=>p.jsx("span",{...r,ref:i,className:Qe("text-md font-medium leading-none",n&&"font-mono",e),children:t})),_r.Wrapper=q_,_r.IconButton=Rz,_r.Text=Mz});function Fle({children:t,...e}){let[n,r]=S.useState(!1),i=Ep(),{zoom:s,x:o,y:a}=LFe(),l=Math.round(s*100),c=async()=>await i.zoomIn(),u=async()=>i.zoomTo(1),d=async()=>await i.zoomOut();function f(){r(h=>!h)}return p.jsxs(p.Fragment,{children:[t,e.coordinates&&p.jsx(_r,{position:"bottom-center",children:p.jsxs(_r.Text,{className:"px-2",mono:!0,children:[o.toFixed(2),",",a.toFixed(2)]})}),p.jsxs(_r,{unstyled:!0,position:"bottom-right",children:[e.zoom&&p.jsx(p.Fragment,{children:p.jsxs(_r.Wrapper,{className:"px-1.5",children:[p.jsx(_r.IconButton,{Icon:bQ,round:!0,onClick:c}),p.jsxs(_r.Text,{className:"px-2",mono:!0,onClick:u,children:[l,"%"]}),p.jsx(_r.IconButton,{Icon:XUe,round:!0,onClick:d}),p.jsx(_r.IconButton,{Icon:ZUe,round:!0,onClick:u})]})}),e.minimap&&p.jsxs(p.Fragment,{children:[p.jsx(_r.Wrapper,{children:p.jsx(_r.IconButton,{Icon:H2,round:!0,onClick:f,variant:n?"default":"ghost"})}),n&&p.jsx(IJ,{style:{bottom:50,right:-5},ariaLabel:null})]})]})]})}var Vle=D(()=>{Ct(),Lle()});function mtt(){return{theme:st().app.getAdminConfig().color_scheme}}var gtt=D(()=>{Ht()});function fr({selected:t,children:e,className:n,...r}){return mtt(),p.jsx("div",{...r,className:Qe("relative w-80 shadow-lg rounded-lg bg-background",t&&"outline outline-blue-500/25",n),children:e})}var Qz,Iz,_k=D(()=>{kt(),gtt(),Qz=({className:t,label:e,children:n,...r})=>p.jsx("div",{...r,className:Qe("flex flex-row bg-primary/15 justify-center items-center rounded-tl-lg rounded-tr-lg py-1 px-2 drag-handle",t),children:n||p.jsx("span",{className:"font-semibold opacity-75 font-mono",children:e??"Untitled node"})}),Iz=({children:t,className:e,...n})=>p.jsx("div",{...n,className:Qe("px-2 py-1.5 pb-2 flex flex-col",e),children:t}),fr.Header=Qz,fr.Content=Iz});function ytt(t){S.useState(!1);let{data:e}=t,n=t.data.fields??{},r=Object.keys(n).length;return p.jsxs(fr,{selected:t.selected,children:[p.jsx(fr.Header,{label:e.label}),p.jsx("div",{children:Object.entries(n).map(([i,s],o)=>p.jsx(Ble,{field:{name:i,...s},table:e.label,index:o,last:r===o+1},o))})]})}var fj,Ble,bf,II,Ott=D(()=>{Ct(),kt(),_k(),fj={background:"transparent",border:"none"},Ble=({field:t,table:e,index:n,onHover:r,last:i})=>{let s=bf.header+bf.row*n+bf.row/2,o=`${e}:${t.name}`;return p.jsxs("div",{className:Qe("flex flex-row w-full justify-between font-mono py-1.5 px-2.5 border-b border-primary/15 border-l border-r cursor-auto",i&&"rounded-bl-lg rounded-br-lg","hover:bg-primary/5"),children:[p.jsx(jd,{title:o,type:"source",id:o,position:Fe.Left,style:{top:s,left:0,...fj}}),p.jsxs("div",{className:"flex w-6 pr-1.5 justify-center items-center",children:[t.type==="primary"&&p.jsx(zUe,{className:"text-yellow-700"}),t.type==="relation"&&p.jsx(DUe,{className:"text-sky-700"})]}),p.jsx("div",{className:"flex flex-grow",children:t.name}),p.jsx("div",{className:"flex opacity-60",children:t.type}),p.jsx(p.Fragment,{children:p.jsx(jd,{type:"target",title:o,id:o,position:Fe.Right,style:{top:s,right:-5,...fj}})})]})},bf={header:30,row:32.5},II={Component:ytt,getSize:t=>{let e=t.fields??{},n=Object.keys(e).length;return{width:320,height:bf.header+bf.row*n}}}}),qle={};mo(qle,{DataSchemaCanvas:()=>wtt});function btt(t){return Object.entries(t??{}).map(([e,n])=>({id:e,data:{label:e,...n},type:"entity",dragHandle:".drag-handle",position:{x:0,y:0},sourcePosition:Fe.Right,targetPosition:Fe.Left}))}function xtt(t){return Object.entries(t??{}).map(([e,n])=>{var i,s;let r=n.source+`:${n.target}`;return(i=n.config)!=null&&i.mappedBy&&(r=`${n.source}:${(s=n.config)==null?void 0:s.mappedBy}`),n.type!=="poly"&&(r+="_id"),{id:e,source:n.source,target:n.target,sourceHandle:r,targetHandle:n.target+":id"}})}function wtt(){let{config:{data:t}}=st(),{theme:e}=wQ(),n=btt(t.entities),r=xtt(t.relations).map(i=>({...i,style:{stroke:e==="light"?"#ccc":"#666"},type:"smoothstep",markerEnd:{type:Gc.Arrow,width:20,height:20,color:e==="light"?"#aaa":"#777"}}));return Dle({nodes:n.map(i=>({id:i.id,...II.getSize(i.data)})),edges:r,graph:{rankdir:"LR",marginx:50,marginy:50}}).nodes.forEach(i=>{let s=n.find(o=>o.id===i.id);s&&(s.position={x:i.x,y:i.y})}),p.jsx(XR,{children:p.jsx(Ele,{nodes:n,edges:r,nodeTypes:Wle,minZoom:.1,maxZoom:2,fitViewOptions:{minZoom:.1,maxZoom:.8},children:p.jsx(Fle,{zoom:!0,minimap:!0})})})}var Wle,vtt=D(()=>{va(),vQ(),_le(),ptt(),Vle(),Ott(),Wle={entity:II.Component}});function ng({label:t,description:e,size:n,...r}){return p.jsxs(ut.Wrapper,{className:"relative",children:[t&&p.jsxs("div",{className:"flex flex-col",children:[p.jsx(ut.Label,{size:n,children:t}),e&&p.jsx(ut.Description,{size:n,children:e})]}),p.jsx(Bd,{...r,size:n})]})}var zle=D(()=>{});function Stt(t){return!t||Array.isArray(t)?[Bw]:Object.entries(t).map(([e,n])=>({key:e,value:n}))}var Bw,Cc,Zle=D(()=>{Mn(),kt(),Lt(),Bw={key:"",value:""},Cc=({label:t,initialValue:e,onChange:n,error:r,classNames:i,mode:s="object"})=>{let[o,a]=S.useState(e?Stt(e):[Bw]);S.useEffect(()=>{if(n)if(s==="object"){let d=o.reduce((f,h)=>(h.key&&typeof h.value<"u"&&(f[h.key]=h.value),f),{});n(d)}else n(o)},[o]);function l(){a(d=>[...d,Bw])}function c(d,f){return h=>{let m=h.currentTarget.value;a(g=>g.map((y,O)=>O===d?{...y,[f]:m}:y))}}function u(d){return()=>{a(f=>f.filter((h,m)=>m!==d))}}return p.jsxs(ut.Wrapper,{className:"w-full",children:[p.jsxs("div",{className:"flex flex-row w-full justify-between",children:[t?p.jsx(ut.Label,{className:i==null?void 0:i.label,children:t}):p.jsx("div",{}),p.jsx(dt,{Icon:RO,size:"xs",onClick:l})]}),p.jsxs("div",{className:Qe("flex flex-col gap-2",i==null?void 0:i.itemWrapper),children:[o.map(({key:d,value:f},h)=>p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[o.length>1&&p.jsx(dt,{Icon:Nee,size:"xs",onClick:u(h)}),p.jsx(Rt,{className:"w-36",placeholder:"key",value:d,classNames:{wrapper:"font-mono pt-px"},onChange:c(h,"key")}),p.jsx(Rt,{className:"w-full",placeholder:"value",value:f,classNames:{wrapper:"font-mono pt-px"},onChange:c(h,"value")})]},h)),r&&p.jsx(ut.Error,{children:r})]})]})}});function ktt(){let[t,e]=S.useState("1");function n(r){return()=>e(r)}return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsx(In,{right:p.jsx(p.Fragment,{children:p.jsx(kr,{items:[{label:"Settings"}],position:"bottom-end",children:p.jsx(dt,{Icon:Ll})})}),className:"pl-3",children:p.jsx(sm,{path:[{label:"Schema",href:"/"},{label:"Quizzes"}],backTo:"/"})}),p.jsx(rg,{title:"Fields",open:t==="1",toggle:n("1"),ActiveIcon:TO,renderHeaderRight:({open:r})=>r?p.jsx(Ze,{variant:"primary",disabled:!r,children:"Update"}):null}),p.jsx(rg,{title:"Settings",open:t==="2",toggle:n("2"),ActiveIcon:Ed}),p.jsx(rg,{title:"Relations",open:t==="3",toggle:n("3"),ActiveIcon:AO}),p.jsx(rg,{title:"Indices",open:t==="4",toggle:n("4"),ActiveIcon:kM})]})}var rg,$tt=D(()=>{Mn(),Ct(),kt(),$t(),Lt(),ni(),Et(),cb(),rg=({title:t,open:e,toggle:n,ActiveIcon:r=CM,children:i,renderHeaderRight:s})=>p.jsxs("div",{style:{minHeight:49},className:Qe("flex flex-col flex-animate overflow-hidden",e?"flex-open border-b border-b-muted":"flex-initial cursor-pointer hover:bg-primary/5"),children:[p.jsxs("div",{className:Qe("flex flex-row border-muted border-b h-14 py-4 pr-4 pl-2 items-center gap-2"),onClick:n,children:[p.jsx(dt,{Icon:e?r:$M,disabled:e}),p.jsx("h2",{className:"text-lg dark:font-bold font-semibold select-text",children:t}),p.jsx("div",{className:"flex flex-grow"}),s==null?void 0:s({open:e})]}),p.jsx("div",{className:Qe("overflow-y-scroll transition-all",e?" flex-grow":"h-0 opacity-0"),children:p.jsx("div",{className:"flex flex-col gap-5 p-4 ",children:i})})]})});function Ctt(){let[t,e]=S.useState(null);return p.jsxs(p.Fragment,{children:[p.jsx(k9,{schema:Xle,onChange:e,onSubmit:e,validator:Ule,validationMode:"change",children:({errors:n,dirty:r,reset:i})=>p.jsxs(p.Fragment,{children:[p.jsx("div",{children:p.jsxs("b",{children:["Form ",r?"*":""," (valid: ",n.length===0?"valid":"invalid",")"]})}),p.jsxs("div",{children:[p.jsx("input",{type:"text",name:"name"}),p.jsx("input",{type:"number",name:"age"})]}),p.jsxs("div",{children:[p.jsx("button",{type:"submit",children:"submit"}),p.jsx("button",{type:"button",onClick:i,children:"reset"})]})]})}),p.jsx("pre",{children:JSON.stringify(t,null,2)})]})}var Dz,Ule,Xle,Ptt=D(()=>{Dz=class{async validate(t,e){return c1(t,e)?[]:[...Jy(t,e)]}},Ule=new Dz,Xle=I.Object({name:I.String(),age:I.Optional(I.Number())})});function jtt(){return S.useEffect(()=>{let t=document.createElement("script");return t.src="https://unpkg.com/swagger-ui-dist@5.11.0/swagger-ui-bundle.js",t.crossOrigin="anonymous",t.async=!0,t.onload=()=>{window.SwaggerUIBundle&&(window.ui=window.SwaggerUIBundle({url:"http://localhost:28623/api/system/openapi.json",dom_id:"#swagger-ui"}))},document.body.appendChild(t),()=>{document.body.removeChild(t)}},[]),p.jsxs(p.Fragment,{children:[p.jsx("link",{rel:"stylesheet",href:"https://unpkg.com/swagger-ui-dist@5.11.0/swagger-ui.css"}),p.jsx(nn,{children:p.jsx("div",{id:"swagger-ui"})})]})}var Gle,Ntt=D(()=>{Et(),Gle=jtt});function Ett(){let[t,e]=S.useState(""),{data:n,...r}=BO(s=>s.data.readOne("comments",1),{refine:s=>s.data,revalidateOnFocus:!0}),i=n||null;return S.useEffect(()=>{e((i==null?void 0:i.content)??"")},[i]),p.jsxs(nn,{children:[p.jsx("pre",{children:JSON.stringify(r.key)}),r.error&&p.jsx("div",{children:"failed to load"}),r.isLoading&&p.jsx("div",{children:"loading..."}),n&&p.jsx("pre",{children:JSON.stringify(n,null,2)}),n&&p.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),!!i)return!1},children:[p.jsx("input",{type:"text",value:t,onChange:s=>e(s.target.value)}),p.jsx("button",{type:"submit",children:"submit"})]})]})}var _tt=D(()=>{Vr(),Et()});function Ttt(){return p.jsxs(nn,{children:["asdf",p.jsx(Mtt,{}),p.jsx(Rtt,{}),p.jsx(Att,{})]})}function Att(){let{mutate:t}=oQ("comments"),{data:e,...n}=Md("comments",void 0,{limit:2});return p.jsxs("div",{children:["bla",p.jsx("pre",{children:JSON.stringify(n.key)}),n.error&&p.jsx("div",{children:"failed to load"}),n.isLoading&&p.jsx("div",{children:"loading..."}),e&&p.jsx("pre",{children:JSON.stringify(e,null,2)}),e&&p.jsx("div",{children:e.map(r=>p.jsx("input",{type:"text",value:r.content,onChange:async i=>{await t(r.id,{content:i.target.value})},className:"border border-black"},String(r.id)))})]})}function Rtt(){let{data:t,update:e,...n}=Md("comments",void 0,{sort:{by:"id",dir:"asc"},limit:3});return p.jsxs("div",{children:[p.jsx("pre",{children:JSON.stringify(n.key)}),n.error&&p.jsx("div",{children:"failed to load"}),n.isLoading&&p.jsx("div",{children:"loading..."}),t&&p.jsx("pre",{children:JSON.stringify(t,null,2)})]})}function Mtt(){let[t,e]=S.useState(),{create:n,read:r,update:i,_delete:s}=B2("comments");return S.useEffect(()=>{r().then(o=>e(o))},[]),p.jsx("pre",{children:JSON.stringify(t,null,2)})}var Qtt=D(()=>{Ine(),Et()}),Itt=D(()=>{Et()});function Dtt(){let t=new KM().getSchema(),[e,n]=S.useState(rr(t,{}));return p.jsxs(nn,{children:[p.jsx("div",{className:"flex flex-col p-3",children:p.jsx(Ts,{schema:t,onChange:n,className:"legacy hide-required-mark"})}),p.jsx(oo,{json:e,expand:9})]})}var Ltt=D(()=>{ve(),xne(),Fl(),wo(),Et()});function Ftt({task:t,onChange:e,...n}){let r=t.constructor.schema,i=t.params;return Object.fromEntries(Object.keys(r.properties).map(s=>[s,{"ui:field":"template","ui:fieldReplacesAnyOrOneOf":!0}])),p.jsx(Ts,{className:"legacy",schema:r,onChange:e,formData:i,...n})}var Vtt=D(()=>{wo()});function Btt(){let[t,e]=S.useState(null),n=new US("Fetch Something",{url:"https://jsonplaceholder.typicode.com/todos/1",method:"{{ input.mode }}"});return p.jsxs("div",{className:"flex flex-col p-3",children:[p.jsx(Ftt,{task:n,onChange:e}),p.jsx("pre",{children:JSON.stringify(t,null,2)})]})}var qtt=D(()=>{Xd(),Vtt()});function Wtt(){let[t,{open:e,close:n}]=Dl(!0);return p.jsxs("div",{className:"flex flex-col w-full h-full justify-center items-center",children:[p.jsx("button",{onClick:e,children:"Open"}),p.jsx(RI,{open:t,onClose:n,children:p.jsxs("div",{className:"border-blue-500 border-2 p-10",children:["Modal content ",p.jsx("button",{onClick:n,children:"close"})]})})]})}var ztt=D(()=>{en(),MI()});function Ztt(){let[t,e]=S.useState(null);return p.jsx(nn,{children:p.jsxs("div",{className:"flex flex-col gap-3 p-3",children:[p.jsx(Ts,{schema:Yle,onChange:e}),p.jsx("pre",{children:JSON.stringify(t,null,2)})]})})}var Yle,Utt=D(()=>{wo(),Et(),Yle={definitions:{primitive:{anyOf:[{title:"String",type:"string"},{title:"Number",type:"number"},{title:"Boolean",type:"boolean"}]},numeric:{anyOf:[{title:"Number",type:"number"},{title:"Datetime",type:"string",format:"date-time"},{title:"Date",type:"string",format:"date"},{title:"Time",type:"string",format:"time"}]},boolean:{title:"Boolean",type:"boolean"}},type:"object",properties:{operand:{enum:["$and","$or"],default:"$and",type:"string"},conditions:{type:"array",items:{type:"object",properties:{operand:{enum:["$and","$or"],default:"$and",type:"string"},key:{type:"string"},operator:{type:"array",items:{anyOf:[{title:"Equals",type:"object",properties:{$eq:{$ref:"#/definitions/primitive"}},required:["$eq"]},{title:"Lower than",type:"object",properties:{$lt:{$ref:"#/definitions/numeric"}},required:["$lt"]},{title:"Greather than",type:"object",properties:{$gt:{$ref:"#/definitions/numeric"}},required:["$gt"]},{title:"Between",type:"object",properties:{$between:{type:"array",items:{$ref:"#/definitions/numeric"},minItems:2,maxItems:2}},required:["$between"]},{title:"In",type:"object",properties:{$in:{type:"array",items:{$ref:"#/definitions/primitive"},minItems:1}}}]},minItems:1}},required:["key","operator"]},minItems:1}},required:["operand","conditions"]}});function Xtt(){return p.jsx("div",{className:"flex flex-col w-full h-full justify-center items-center",children:p.jsx(kr,{items:[{label:"Item 1",value:"item1"},{label:"Item 2",value:"item2"},{label:"Item 3",value:"item3"}],children:p.jsx("button",{children:"Dropdown"})})})}var Gtt=D(()=>{ni()});function Ytt(){return p.jsx(nn,{children:p.jsxs("div",{className:"flex flex-col w-full h-full p-4 gap-4",children:[p.jsxs("div",{children:[p.jsx("b",{children:"Dropzone User Avatar 1 (fully customized)"}),p.jsx(Do.Dropzone,{entity:{name:"users",id:1,field:"avatar"},maxItems:1,overwrite:!0,children:t=>p.jsx(Htt,{...t})})]}),p.jsxs("div",{children:[p.jsx("b",{children:"Dropzone User Avatar 1 (overwrite)"}),p.jsx(Do.Dropzone,{entity:{name:"users",id:1,field:"avatar"},maxItems:1,overwrite:!0})]}),p.jsxs("div",{children:[p.jsx("b",{children:"Dropzone User Avatar 1"}),p.jsx(Do.Dropzone,{entity:{name:"users",id:1,field:"avatar"},maxItems:1})]}),p.jsxs("div",{children:[p.jsx("b",{children:"Dropzone Container blank w/ query"}),p.jsx(Do.Dropzone,{query:{limit:2}})]}),p.jsxs("div",{children:[p.jsx("b",{children:"Dropzone Container blank"}),p.jsx(Do.Dropzone,{})]}),p.jsxs("div",{children:[p.jsx("b",{children:"Dropzone Post 12"}),p.jsx(Do.Dropzone,{entity:{name:"posts",id:12,field:"images"}})]})]})})}function Htt({wrapperRef:t,inputProps:e,state:{files:n,isOver:r,isOverAccepted:i,showPlaceholder:s},actions:{openFileInput:o}}){let a=n[0];return p.jsxs("div",{ref:t,className:"size-32 rounded-full border border-gray-200 flex justify-center items-center leading-none overflow-hidden",children:[p.jsx("div",{className:"hidden",children:p.jsx("input",{...e})}),s&&p.jsx(p.Fragment,{children:r&&i?"let it drop":"drop here"}),a&&p.jsx(Do.Preview,{file:a,className:"object-cover w-full h-full",onClick:o})]})}var Jtt=D(()=>{Ek(),Et()});function Ktt(){let{control:t,formState:{isValid:e,errors:n},getValues:r,handleSubmit:i,watch:s,register:o,setValue:a}=Es({mode:"onTouched",resolver:Yi(Hle),defaultValues:{fields:[{type:"text",name:"",config:{}}],sort:{by:"-1",dir:"asc"}}});Object.keys(oh)[0];let{fields:l,append:c,prepend:u,remove:d,swap:f,move:h,insert:m,update:g}=Cre({control:t,name:"fields"});function y(){c({type:"text",name:"",config:{}})}return p.jsxs("div",{className:"flex flex-col gap-1 p-8",children:[l.map((O,b)=>p.jsx(ent,{value:O,index:b,update:g},O.id)),p.jsx(Ze,{className:"justify-center",onClick:y,children:"Add Field"}),p.jsx("div",{children:p.jsx("pre",{children:JSON.stringify(s(),null,2)})})]})}function ent({update:t,index:e,value:n}){var a;let{register:r,handleSubmit:i,control:s,formState:{errors:o}}=Es({mode:"onBlur",resolver:Yi(I.Object({type:Nt(Object.keys(oh)),name:I.String({minLength:1,maxLength:3})})),defaultValues:n});return p.jsxs("form",{children:[p.jsx(gl,{control:s,name:"type",data:[...Object.keys(oh),"test"]}),p.jsx(Rt,{label:"Name",placeholder:"name",classNames:{root:"w-full"},...r("name"),error:(a=o.name)==null?void 0:a.message})]})}var oh,Lz,Hle,tnt=D(()=>{bo(),ve(),Sr(),sr(),$t(),Wp(),oh=Yt(Ks(BM,["primary"]),t=>t.schema),Lz=I.Union(Object.entries(oh).map(([t,e])=>I.Object({type:I.Const(t),name:Wi,config:I.Optional(e)},{additionalProperties:!1}))),Hle=I.Object({fields:I.Array(Lz)}),I.Object({type:Nt(Object.keys(oh)),name:Wi})});function nnt(){return p.jsx(nn,{children:p.jsxs("div",{className:"flex flex-col justify-center p-4 w-full h-full items-center gap-10",children:[p.jsx(Jle,{}),p.jsx(ece,{}),p.jsx(Kle,{})]})})}var Fx,Jle,Kle,ece,rnt=D(()=>{en(),Mn(),Ct(),_k(),Zle(),$t(),Lt(),EI(),zle(),Et(),Fx=({Icon:t,iconProps:e,rightSection:n,initialValue:r,onChange:i})=>p.jsxs(fr.Header,{className:"justify-between gap-3",children:[p.jsxs("div",{className:"flex flex-row flex-grow gap-1 items-center",children:[p.jsx(t,{width:16,height:16,...e??{}}),p.jsx("input",{type:"text",value:r,onChange:i||(()=>{}),className:"font-mono font-semibold bg-transparent w-full rounded-lg outline-none pl-1.5 hover:bg-background/30 transition-colors focus:bg-background/60"})]}),p.jsx("div",{children:p.jsx(dt,{Icon:sre,size:"sm"})})]}),Jle=()=>p.jsxs(fr,{className:"w-96",children:[p.jsx(Fx,{Icon:EM,initialValue:"test_flow"}),p.jsxs(fr.Content,{className:"gap-3",children:[p.jsxs("div",{className:"flex flex-row justify-between items-center",children:[p.jsx(ng,{label:"Trigger Type",defaultValue:"manual",data:[{label:"Manual",value:"manual"},{label:"HTTP",value:"http"},{label:"Event",value:"event",disabled:!0}]}),p.jsx(ng,{label:"Execution Mode",defaultValue:"async",data:[{label:"Async",value:"async"},{label:"Sync",value:"sync"}]})]}),p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(Ja,{className:"w-36",label:"Method",defaultValue:"GET",data:["GET","POST","PATCH","PUT","DEL"]}),p.jsx(Rt,{className:"w-full",label:"Mapping Path",placeholder:"/trigger_http",classNames:{wrapper:"font-mono pt-px"}})]}),p.jsx("div",{className:"flex flex-row gap-2 items-center",children:p.jsx(ng,{className:"w-full",label:"Response Type",defaultValue:"json",data:[{label:"JSON",value:"json"},{label:"HTML",value:"html"},{label:"Text",value:"text"}]})})]})]}),Kle=()=>{let[t,e]=_S([!0,!1]);return p.jsxs(fr,{className:"w-[400px]",children:[p.jsx(Fx,{Icon:TS,initialValue:"fetch_something"}),p.jsxs(fr.Content,{className:"gap-3",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(Ja,{className:"w-36",label:"Method",defaultValue:"GET",data:["GET","POST","PATCH","PUT","DEL"]}),p.jsx(Rt,{className:"w-full",label:"Mapping Path",placeholder:"/trigger_http",classNames:{wrapper:"font-mono pt-px"}})]}),p.jsx(Ze,{onClick:e,className:"justify-center",size:"small",variant:"ghost",iconSize:14,IconLeft:t?jM:RO,children:"More options"}),t&&p.jsxs(p.Fragment,{children:[p.jsx(Cc,{label:"URL query"}),p.jsx(Cc,{label:"Headers"}),p.jsx("div",{className:"flex flex-row gap-2 items-center",children:p.jsxs(ut.Wrapper,{className:"w-full",children:[p.jsx(ut.Label,{children:"Body"}),p.jsx(ng,{data:["None","Form","JSON"],defaultValue:"JSON"}),p.jsx(Cc,{label:""})]})})]})]})]})},ece=()=>p.jsxs(fr,{className:"w-[400px]",children:[p.jsx(Fx,{Icon:uu,initialValue:"query_multiple"}),p.jsxs(fr.Content,{className:"gap-3",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(Ja,{className:"w-6/12",label:"Entity",placeholder:"Select entity",data:["users","posts","comments"]}),p.jsx(Ja,{className:"w-4/12",label:"Sort by",data:["id","title","username"],defaultValue:"id"}),p.jsx(Ja,{className:"w-2/12",label:"Sort dir",data:["asc","desc"],defaultValue:"asc"})]}),p.jsx(Qg,{label:"Select properties",data:["id","title","username"],placeholder:"All selected"}),p.jsx(Qg,{label:"Embed relations",data:["posts","comments"],placeholder:"None selected"}),p.jsxs(ut.Wrapper,{className:"w-full",children:[p.jsx(ut.Label,{children:"Where object"}),p.jsx("div",{className:"text-sm placeholder:text-slate-400 placeholder:opacity-80",children:p.jsx(NI,{basicSetup:{lineNumbers:!1,foldGutter:!1}})})]})]})]})});function int(){let t={type:"object",properties:{name:{type:"string",title:"Name",minLength:3},variants:{anyOf:[{type:"string"},{type:"number"}]}}},e=S.useRef(null);function n(){var r,i;console.log("submit",(r=e.current)==null?void 0:r.formData()),console.log("isvalid",(i=e.current)==null?void 0:i.validateForm())}return p.jsxs(p.Fragment,{children:[p.jsx(In,{right:p.jsx(Ze,{type:"button",variant:"primary",onClick:n,children:"Submit"}),children:"JSON Schema"}),p.jsx("div",{children:p.jsxs("div",{className:"flex flex-grow flex-col gap-3 p-3",children:[p.jsxs(hs,{children:[p.jsx(Nl,{htmlFor:"name",children:"Name"}),p.jsx(El,{id:"name",name:"name"})]}),p.jsx(hs,{children:p.jsx(Ts,{ref:e,schema:t})}),p.jsxs(hs,{children:[p.jsx(Nl,{htmlFor:"name",children:"Options"}),p.jsx(AI,{id:"options",name:"options"})]})]})})]})}var snt=D(()=>{Eae(),$t(),wo(),hu(),Et()});function ont(){return p.jsxs("div",{className:"flex flex-col p-4 gap-3",children:[p.jsx("h1",{children:"LiquidJsTest"}),p.jsx(_I,{}),p.jsx(Rt,{}),p.jsx(El,{})]})}var ant=D(()=>{TI(),hu()});function lnt(){return p.jsxs("div",{className:"p-4 flex flex-col gap-2 items-start",children:[p.jsx("h1",{children:"mantine"}),p.jsxs("div",{className:"flex flex-row gap-2 justify-center content-center items-center",children:[p.jsx(kl,{color:"blue",children:"Mantine"}),p.jsx(Ze,{children:"Button"}),p.jsx(Ze,{variant:"primary",children:"Button"})]}),p.jsx(cnt,{}),p.jsx(unt,{}),p.jsx(uo,{defaultChecked:!0,label:"I agree to sell my privacy"})]})}function cnt(){let[t,{open:e,close:n}]=Dl(!1);return p.jsxs(p.Fragment,{children:[p.jsx(xi,{opened:t,onClose:n,title:"Authentication",children:p.jsx("div",{children:"Modal content"})}),p.jsx(kl,{onClick:e,children:"Open modal"})]})}function unt(){let{colorScheme:t}=gge();return p.jsx(Ml,{label:"Tooltip",children:p.jsxs("span",{children:["Hover me (",t,")"]})})}var dnt=D(()=>{en(),$t()});function fnt(){var s;let{register:t,handleSubmit:e,watch:n,formState:{errors:r}}=Es({resolver:Yi(tce)}),i=o=>console.log(o);return console.log(n("example")),console.log("errors",r),p.jsxs("form",{onSubmit:e(i),children:[p.jsx(Rt,{defaultValue:"test",...t("example")}),p.jsx(Rt,{...t("exampleRequired"),error:(s=r.exampleRequired)==null?void 0:s.message}),p.jsx("div",{children:p.jsx("input",{type:"submit"})}),p.jsx("div",{children:Object.entries(r).map(([o,a])=>p.jsxs("p",{children:[o,": ",a.message]},o))})]})}var tce,hnt=D(()=>{bo(),sr(),tce=I.Object({example:I.Optional(I.String()),exampleRequired:I.String({minLength:2})})});function pnt(){return p.jsx("div",{style:{width:"100vw",height:"100vh"},children:p.jsx(AJ,{nodes:nce,edges:rce})})}var nce,rce,mnt=D(()=>{nce=[{id:"1",position:{x:0,y:0},data:{label:"1"}},{id:"2",position:{x:0,y:100},data:{label:"2"}}],rce=[{id:"e1-2",source:"1",target:"2"}]});function gnt(){let{app:t,schema:e}=st(),n=["auth","server","media","data"],[r,i]=S.useState(n[0]);if(console.log("schema",e,t.config),!e)return;let s={key:r,schema:e[r],uiSchema:ice[r]||{},config:t.config[r]};return console.log("current",s),p.jsx(nn,{children:p.jsxs("div",{className:"flex flex-col gap-2 p-3",children:[p.jsx("div",{className:"flex flex-row gap-2",children:n.map(o=>p.jsx("button",{role:"button",className:Qe("flex py-2 px-3",o===r&&"bg-primary/5"),onClick:()=>i(o),children:o},o))}),p.jsx(Ts,{schema:s.schema,formData:s.config,uiSchema:s.uiSchema,onChange:console.log,className:"legacy"})]})})}var ice,ynt=D(()=>{kt(),va(),wo(),Et(),ice={auth:{jwt:{basepath:{"ui:options":{label:!1}},fields:{"ui:options":{label:!1,orderable:!1}}},strategies:{additionalProperties:{"ui:widget":"select",type:{"ui:widget":"hidden"}},type:{"ui:widget":"hidden"}}},server:{cors:{allow_methods:{"ui:widget":"checkboxes"},allow_headers:{"ui:options":{orderable:!1}}}},media:{adapter:{"ui:options":{label:!1},type:{"ui:widget":"hidden"}}}}});function Ont(){return p.jsxs("div",{children:["sortable",p.jsx("div",{className:"p-4",children:p.jsx(bnt,{data:[{id:"C",name:"Carbon"},{id:"N",name:"Nitrogen"},{id:"Y",name:"Yttrium"},{id:"Ba",name:"Barium"},{id:"Ce",name:"Cerium"}],onReordered:(...t)=>console.log("reordered",t),onChange:t=>console.log("changed",t)})})]})}function bnt({data:t=[],extractId:e,renderItem:n,dndProps:r={droppableId:"sortable-list",direction:"vertical"},onReordered:i,onChange:s}){let[o,a]=c9e(t);function l({destination:u,source:d}){let f={from:d.index,to:(u==null?void 0:u.index)||0};a.reorder(f),i==null||i(f.from,f.to)}S.useEffect(()=>{s==null||s(o)},[o]);let c=o.map((u,d)=>{let f=e?e(u):S.useId();return p.jsx(zK,{index:d,draggableId:f,children:(h,m,g)=>n?n({...u,dnd:{provided:h,snapshot:m,rubic:g}}):p.jsxs("div",{className:"flex flex-row gap-2 p-2 border border-gray-200 rounded-md mb-3 bg-white items-center",ref:h.innerRef,...h.draggableProps,children:[p.jsx("div",{...h.dragHandleProps,children:p.jsx(PM,{className:"size-5",stroke:1.5})}),p.jsx("p",{children:JSON.stringify(u)})]})},f)});return p.jsx(FK,{onDragEnd:l,children:p.jsx(YK,{...r,children:u=>p.jsxs("div",{...u.droppableProps,ref:u.innerRef,children:[c,u.placeholder]})})})}var xnt=D(()=>{en(),Mn()});function wnt(){let[t,e]=S.useState([]),[n,r]=S.useState(!1);async function i(){if(n)return;e([]),r(!0);let s=new EventSource("/api/system/test/sql");s.onmessage=o=>{if(o.data==="[DONE]"){r(!1),s.close();return}let a=JSON.parse(o.data);e(l=>[...l,a]),console.log("data",a)}}return p.jsxs("div",{className:"flex flex-col gap-2 p-4",children:[p.jsx("h1",{children:"ai sql test"}),p.jsx("button",{onClick:i,children:n?"...":"start"}),p.jsx("div",{children:t.map((s,o)=>p.jsx("span",{children:s.response},o))})]})}var vnt=D(()=>{}),sce={};mo(sce,{default:()=>Snt});function Snt(){return p.jsxs($nt,{children:[p.jsx(Ue,{path:"/",component:()=>p.jsx($r,{title:"Test",description:"Select one."})}),p.jsx(Ue,{path:"/:test",component:knt})]})}function knt(){let t=z2();if(!t.test||!(t.test in Z0))return p.jsx($r,{title:"Test not found"});let e=Z0[t.test];return p.jsx(e,{})}function $nt({children:t}){return p.jsxs(p.Fragment,{children:[p.jsxs(Km.Sidebar,{children:[p.jsx(Km.SectionHeader,{children:"Tests"}),p.jsx(Km.Scrollable,{initialOffset:96,children:p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsx("nav",{className:"flex flex-col flex-1 gap-1",children:Object.entries(Z0).map(([e,n])=>p.jsx(Km.SidebarLink,{as:En,href:`/${e}`,children:e},e))})})})]}),p.jsx("main",{className:"flex flex-col flex-grow",children:t})]})}var Z0,Cnt=D(()=>{$tt(),Ptt(),Ntt(),_tt(),Qtt(),Sn(),zl(),Oo(),Itt(),Ltt(),qtt(),ztt(),Utt(),Gtt(),Jtt(),tnt(),rnt(),snt(),ant(),dnt(),hnt(),mnt(),ynt(),xnt(),vnt(),Z0={DropdownTest:Xtt,ModalTest:Wtt,JsonFormTest:int,FlowFormTest:Btt,QueryJsonFormTest:Ztt,FlowCreateSchemaTest:Dtt,ReactFlowTest:pnt,SchemaTest:gnt,MantineTest:lnt,LiquidJsTest:ont,SqlAiTest:wnt,SortableTest:Ont,ReactHookErrors:fnt,EntityFieldsForm:Ktt,FlowsTest:nnt,AppShellAccordionsTest:ktt,SwaggerTest:Gle,SWRAndAPI:Ett,SwrAndDataApi:Ttt,DropzoneElementTest:Ytt,JsonSchemaFormReactTest:Ctt}});bee();Ht();uQ();Et();ste();WO();function Pnt(){let[t,e]=S.useState();if(S.useEffect(()=>{if(!t){let n=m6e();n&&e(n)}},[]),t){let n=cl.Info;switch(t.type){case"error":n=cl.Exception;break;case"success":n=cl.Success;break;case"warning":n=cl.Warning;break}return p.jsx(n,{message:t.message,className:"justify-center"})}return null}Vr();kt();function jnt(t){let e=t==="light",n={offset:2,transitionProps:{transition:"pop",duration:75}},r="bg-muted/40 border-transparent disabled:bg-muted/50 disabled:text-primary/50 focus:border-zinc-500";return{theme:{components:{Button:kl.extend({vars:(i,s)=>({root:{"--button-height":"auto"}}),classNames:(i,s)=>({root:Qe("px-3 py-2 rounded-md h-auto")}),defaultProps:{size:"md",variant:e?"filled":"white"}}),Switch:uo.extend({defaultProps:{size:"md",color:e?"dark":"blue"}}),Select:Ja.extend({classNames:(i,s)=>({input:r,dropdown:`bknd-admin ${t} bg-background border-primary/20`}),defaultProps:{checkIconPosition:"right",comboboxProps:n}}),TagsInput:Qg.extend({defaultProps:{comboboxProps:n}}),Radio:aa.extend({defaultProps:{classNames:{body:"items-center"}}}),TextInput:Rt.extend({classNames:(i,s)=>({wrapper:"leading-none",input:r})}),NumberInput:Q1.extend({classNames:(i,s)=>({wrapper:"leading-none",input:r})}),Textarea:iO.extend({classNames:(i,s)=>({wrapper:"leading-none",input:r})}),Modal:xi.extend({classNames:(i,s)=>({...s.classNames,root:`bknd-admin ${t} ${s.className??""} `,content:"bg-lightest border border-primary/10",overlay:"backdrop-blur"})}),Menu:Ai.extend({defaultProps:{offset:2},classNames:(i,s)=>({dropdown:"!rounded-lg !px-1",item:"!rounded-md !text-[14px]"})}),SegmentedControl:Bd.extend({classNames:(i,s)=>({root:e?"bg-primary/5":"bg-lightest/60",indicator:e?"bg-background":"bg-primary/15"})})},primaryColor:"dark",primaryShade:9},forceColorScheme:t}}en();var DI=S.createContext(null);DI.displayName="@mantine/modals/ModalsContext";function Nnt(){let t=S.useContext(DI);if(!t)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return t}function Ent({id:t,cancelProps:e,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:s=!0,groupProps:o,onCancel:a,onConfirm:l,children:c}){let{cancel:u,confirm:d}=r,f=Nnt(),h=g=>{typeof(e==null?void 0:e.onClick)=="function"&&(e==null||e.onClick(g)),typeof a=="function"&&a(),s&&f.closeModal(t)},m=g=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(g)),typeof l=="function"&&l(),i&&f.closeModal(t)};return p.jsxs(p.Fragment,{children:[c&&p.jsx(Ae,{mb:"md",children:c}),p.jsxs(IT,{mt:c?0:"md",justify:"flex-end",...o,children:[p.jsx(kl,{variant:"default",...e,onClick:h,children:(e==null?void 0:e.children)||u}),p.jsx(kl,{...n,onClick:m,children:(n==null?void 0:n.children)||d})]})]})}var[_nt,db]=$me("mantine-modals"),Tnt=db("openModal"),oce=db("closeModal"),Ant=db("closeAllModals"),Rnt=db("openConfirmModal"),ace=t=>db("openContextModal")(t),lce={open:Tnt,close:oce,closeAll:Ant,openConfirmModal:Rnt,openContextModal:ace};function Fz(t,e){var n,r,i,s;e&&t.type==="confirm"&&((r=(n=t.props).onCancel)==null||r.call(n)),(s=(i=t.props).onClose)==null||s.call(i)}function Mnt(t,e){switch(e.type){case"OPEN":return{current:e.modal,modals:[...t.modals,e.modal]};case"CLOSE":{let n=t.modals.find(i=>i.id===e.modalId);if(!n)return t;Fz(n,e.canceled);let r=t.modals.filter(i=>i.id!==e.modalId);return{current:r[r.length-1]||t.current,modals:r}}case"CLOSE_ALL":return t.modals.length?(t.modals.concat().reverse().forEach(n=>{Fz(n,e.canceled)}),{current:t.current,modals:[]}):t;default:return t}}function Qnt(t){if(!t)return{confirmProps:{},modalProps:{}};let{id:e,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:l,groupProps:c,labels:u,...d}=t;return{confirmProps:{id:e,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:l,groupProps:c,labels:u},modalProps:{id:e,...d}}}function Int({children:t,modalProps:e,labels:n,modals:r}){let[i,s]=S.useReducer(Mnt,{modals:[],current:null}),o=S.useRef(i);o.current=i;let a=S.useCallback(y=>{s({type:"CLOSE_ALL",canceled:y})},[o,s]),l=S.useCallback(({modalId:y,...O})=>{let b=y||wg();return s({type:"OPEN",modal:{id:b,type:"content",props:O}}),b},[s]),c=S.useCallback(({modalId:y,...O})=>{let b=y||wg();return s({type:"OPEN",modal:{id:b,type:"confirm",props:O}}),b},[s]),u=S.useCallback((y,{modalId:O,...b})=>{let w=O||wg();return s({type:"OPEN",modal:{id:w,type:"context",props:b,ctx:y}}),w},[s]),d=S.useCallback((y,O)=>{s({type:"CLOSE",modalId:y,canceled:O})},[o,s]);_nt({openModal:l,openConfirmModal:c,openContextModal:({modal:y,...O})=>u(y,O),closeModal:d,closeContextModal:d,closeAllModals:a});let f={modals:i.modals,openModal:l,openConfirmModal:c,openContextModal:u,closeModal:d,closeContextModal:d,closeAll:a},h=()=>{let y=o.current.current;switch(y==null?void 0:y.type){case"context":{let{innerProps:O,...b}=y.props,w=r[y.ctx];return{modalProps:b,content:p.jsx(w,{innerProps:O,context:f,id:y.id})}}case"confirm":{let{modalProps:O,confirmProps:b}=Qnt(y.props);return{modalProps:O,content:p.jsx(Ent,{...b,id:y.id,labels:y.props.labels||n})}}case"content":{let{children:O,...b}=y.props;return{modalProps:b,content:O}}default:return{modalProps:{},content:null}}},{modalProps:m,content:g}=h();return p.jsxs(DI.Provider,{value:f,children:[p.jsx(xi,{zIndex:co("modal")+1,...e,...m,opened:i.modals.length>0,onClose:()=>{var y;return d((y=i.current)==null?void 0:y.id)},children:g}),t]})}function LI({context:t,id:e,innerProps:{content:n}}){return n}LI.defaultTitle=void 0;LI.modalProps={withCloseButton:!1,classNames:{size:"md",root:"bknd-admin",content:"text-center justify-center",title:"font-bold !text-md",body:"py-3 px-5 gap-4 flex flex-col"}};ve();Vp();en();Kne();Mn();Ct();kt();$t();Lt();Fl();var Dnt=S.forwardRef(({classNames:t,children:e,opened:n,closeOnClickOutside:r=!1,...i},s)=>{let[o,{open:a,close:l}]=Dl(n);return S.useImperativeHandle(s,()=>({open:a,close:l})),p.jsx(xi,{withCloseButton:!1,padding:0,size:"xl",opened:o,...i,closeOnClickOutside:r,onClose:l,classNames:{...t,root:"bknd-admin",content:"rounded-lg select-none"},children:e})}),_u=({path:t,onClose:e})=>p.jsxs("div",{className:"py-3 px-5 font-bold bg-primary/5 flex flex-row justify-between items-center sticky top-0 left-0 right-0 z-10 border-b border-b-muted",children:[p.jsx("div",{className:"flex flex-row gap-1",children:t.map((n,r)=>{let i=r+1===t.length;return p.jsxs(S.Fragment,{children:[p.jsx("span",{className:Qe("",!i&&"opacity-70"),children:n},r),!i&&p.jsx("span",{className:"opacity-40",children:"/"})]},r)})}),p.jsx(dt,{Icon:xQ,onClick:e})]}),ef=({children:t,className:e})=>p.jsxs(fQ,{className:Qe("flex flex-col min-h-96",e),style:{maxHeight:"calc(80vh)"},children:[p.jsx(hQ,{className:"w-full h-full",children:p.jsx("div",{className:"py-3 px-5 gap-4 flex flex-col",children:t})}),p.jsx(Ny,{forceMount:!0,className:"flex select-none touch-none bg-transparent w-0.5",orientation:"vertical",children:p.jsx(Ey,{className:"flex-1 bg-primary/50"})}),p.jsx(Ny,{forceMount:!0,className:"flex select-none touch-none bg-muted flex-col h-0.5",orientation:"horizontal",children:p.jsx(Ey,{className:"flex-1 bg-primary/50 "})})]}),tf=({next:t,prev:e,nextLabel:n="Next",prevLabel:r="Back",debug:i})=>{let[s,o]=Dl(!1);return p.jsx("div",{className:"flex flex-col border-t border-t-muted",children:p.jsxs("div",{className:"flex flex-row justify-between items-center py-3 px-4",children:[p.jsx("div",{children:i&&p.jsxs(yi,{position:"right-start",shadow:"md",opened:s,classNames:{dropdown:"!px-1 !pr-2.5 !py-2 text-sm"},children:[p.jsx(yi.Target,{children:p.jsx(dt,{onClick:o.toggle,Icon:vee,variant:s?"default":"ghost"})}),p.jsx(yi.Dropdown,{children:p.jsx(oo,{json:i,expand:6,className:"p-0"})})]})}),p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx(Ze,{className:"w-24 justify-center",...e,children:r}),p.jsx(Ze,{className:"w-24 justify-center",variant:"primary",...t,children:n})]})]})})},cce=S.createContext(void 0);function uce({children:t,initialPath:e=[],initialState:n={},lastBack:r}){let[i,s]=S.useState(n),[o,a]=S.useState(e),l=S.Children.toArray(t).filter(f=>f.props.disabled!==!0);function c(){o.length===0?r==null||r():a(f=>f.slice(0,-1))}let u=f=>()=>{a(h=>[...h,f])},d=l.find(f=>f.props.id===o[o.length-1])||l[0];return p.jsx(cce.Provider,{value:{nextStep:u,stepBack:c,state:i,path:o,setState:s,close:r},children:d})}function nf(){return S.useContext(cce)}function Tu({children:t,disabled:e=!1,path:n=[],id:r,...i}){return p.jsx("div",{...i,children:t})}en();Mn();ve();kt();Ht();ve();Sr();Vp();Ht();function As(){let{config:t,app:e,schema:n,actions:r}=st(),i=Yt(t.data.entities??{},(o,a)=>WM(a,o)),s={entity:{add:async(o,a)=>{console.log("create entity",{data:a});let l=rr(jy,a,{skipMark:!0,forceParse:!0});return console.log("validated",l),await r.add("data",`entities.${o}`,l)},patch:o=>{if(!i[o])throw new Error(`Entity "${o}" not found`);return{config:async a=>(console.log("patch config",o,a),await r.patch("data",`entities.${o}.config`,a)),fields:Fnt(r,o)}}},relations:{add:async o=>{console.log("create relation",{relation:o});let a=crypto.randomUUID(),l=rr(I.Union($0),o,{skipMark:!0,forceParse:!0});return console.log("validated",l),await r.add("data",`relations.${a}`,l)}}};return{$data:{entity:o=>i[o],modals:Lnt,system:o=>{var a;return{any:((a=i[o])==null?void 0:a.type)==="system",users:o===t.auth.entity_name,media:o===t.media.entity_name}}},entities:i,relations:e.relations,config:t.data,schema:n.data,actions:s}}var Lnt={createAny:()=>ts.open(ts.ids.dataCreate,{}),createEntity:()=>ts.open(ts.ids.dataCreate,{initialPath:["entities","entity"],initialState:{action:"entity"}}),createRelation:t=>ts.open(ts.ids.dataCreate,{initialPath:["entities","relation"],initialState:{action:"relation",relations:{create:[{source:t,type:"n:1"}]}}}),createMedia:t=>ts.open(ts.ids.dataCreate,{initialPath:["entities","template-media"],initialState:{action:"template-media",initial:{entity:t}}})};function Fnt(t,e){return{add:async(n,r)=>{console.log("create field",{name:n,field:r});let i=rr(k0,r,{skipMark:!0,forceParse:!0});return console.log("validated",i),await t.add("data",`entities.${e}.fields.${n}`,i)},patch:()=>null,set:async n=>{console.log("set fields",e,n);try{let r=rr(v2,n,{skipMark:!0,forceParse:!0}),i=await t.overwrite("data",`entities.${e}.fields`,r);console.log("res",i)}catch(r){console.error("error",r),r instanceof Ip?alert("Error updating fields: "+r.firstToString()):alert("An error occured, check console. There will be nice error handling soon.")}}}}Lt();Fl();function Vnt(){var d,f,h;let{stepBack:t,state:e,close:n}=nf(),[r,i]=S.useState([]),[s,o]=S.useState(!1),a=As(),l=st(),c=[];(d=e.entities)!=null&&d.create&&c.push(...e.entities.create.map(m=>({action:"add",Icon:wee,type:"Entity",name:m.name,json:m,run:async()=>await a.actions.entity.add(m.name,m)}))),(f=e.fields)!=null&&f.create&&c.push(...e.fields.create.map(m=>({action:"add",Icon:TO,type:"Field",name:m.name,json:m,run:async()=>await a.actions.entity.patch(m.entity).fields.add(m.name,m.field)}))),(h=e.relations)!=null&&h.create&&c.push(...e.relations.create.map(m=>({action:"add",Icon:AO,type:"Relation",name:`${m.source} -> ${m.target} (${m.type})`,json:m,run:async()=>await a.actions.relations.add(m)})));async function u(){o(!0);for(let m of c)try{let g=await m.run();if(i(y=>[...y,g]),g!==!0)break}catch(g){i(y=>[...y,g.message])}}return S.useEffect(()=>{console.log("states",r,c,r.length,c.length,r.every(m=>m===!0)),c.length===r.length&&r.every(m=>m===!0)?l.actions.reload().then(n):o(!1)},[r]),p.jsxs(p.Fragment,{children:[p.jsxs(ef,{children:[p.jsx("div",{children:'This is what will be created. Please confirm by clicking "Next".'}),p.jsx("div",{className:"flex flex-col gap-1",children:c.map((m,g)=>p.jsx(Bnt,{...m,state:r[g]},g))})]}),p.jsx(tf,{nextLabel:"Create",next:{onClick:u,disabled:s},prev:{onClick:t,disabled:s},debug:{state:e}})]})}var Bnt=({Icon:t,type:e,name:n,json:r,state:i,action:s,initialExpanded:o=!1})=>{let[a,l]=Dl(o),c=typeof i<"u"&&i!==!0;return p.jsxs("div",{className:Qe("flex flex-col border border-muted rounded bg-background mb-2",c&&"bg-red-500/20",i===!0&&"bg-green-500/20"),children:[p.jsxs("div",{className:"flex flex-row gap-4 px-2 py-2 items-center",children:[p.jsx("div",{className:"flex flex-row items-center p-1 bg-primary/5 rounded",children:p.jsx(t,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex flex-row flex-grow gap-5",children:[p.jsx(hj,{type:"action",name:s}),p.jsx(hj,{type:"type",name:e}),p.jsx(hj,{type:"name",name:n})]}),r&&p.jsx(dt,{Icon:Cee,variant:a?"default":"ghost",onClick:l.toggle})]}),r&&a&&p.jsx("div",{className:"flex flex-col border-t border-t-muted",children:p.jsx(oo,{json:r,expand:8,className:"text-sm"})}),c&&typeof i=="string"&&p.jsx("div",{className:"text-sm text-red-500",children:i})]})},hj=({type:t,name:e})=>p.jsxs("div",{className:"flex flex-row text-sm font-mono gap-2",children:[p.jsx("div",{className:"opacity-50",children:xs(t)}),p.jsx("div",{className:"font-semibold",children:e})]});bo();en();sr();function qnt(){var u,d,f,h,m,g,y,O,b;let t=xM(),{nextStep:e,stepBack:n,state:r,setState:i}=nf(),{register:s,handleSubmit:o,formState:a,watch:l}=Es({mode:"onTouched",resolver:Yi(xce),defaultValues:((d=(u=r.entities)==null?void 0:u.create)==null?void 0:d[0])??{}});function c(w){console.log(w),i(x=>{var k,$;let v=($=(k=x.entities)==null?void 0:k.create)==null?void 0:$[0];return v&&v.name!==w.name?{...x,entities:{create:[{...w,fields:v.fields}]}}:{...x,entities:{create:[w]}}}),a.isValid&&(console.log("would go next"),e("entity-fields")())}return p.jsx(p.Fragment,{children:p.jsxs("form",{onSubmit:o(c),ref:t,children:[p.jsxs(ef,{children:[p.jsx(Rt,{"data-autofocus":!0,required:!0,error:(f=a.errors.name)==null?void 0:f.message,...s("name"),placeholder:"posts",size:"md",label:"What's the name of the entity?",description:"Use plural form, and all lowercase. It will be used as the database table."}),p.jsx(Rt,{...s("config.name"),error:(m=(h=a.errors.config)==null?void 0:h.name)==null?void 0:m.message,placeholder:"Posts",size:"md",label:"How should it be called?",description:"Use plural form. This will be used to display in the UI."}),p.jsx(Rt,{...s("config.name_singular"),error:(y=(g=a.errors.config)==null?void 0:g.name_singular)==null?void 0:y.message,placeholder:"Post",size:"md",label:"What's the singular form of it?"}),p.jsx(iO,{placeholder:"This is a post (optional)",error:(b=(O=a.errors.config)==null?void 0:O.description)==null?void 0:b.message,...s("config.description"),size:"md",label:"Description"})]}),p.jsx(tf,{next:{type:"submit",disabled:!a.isValid},prev:{onClick:n},debug:{state:r}})]})})}bo();ve();Vp();sr();Wp();Gi();bo();en();ve();Vp();sr();Ct();kt();$t();Lt();Fl();sr();function Cg({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){var d;let{field:{value:a,onChange:l,...c},fieldState:u}=Gd({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i});return p.jsx(uo,{value:a,checked:a,onChange:f=>{l(f),s==null||s(f)},error:(d=u.error)==null?void 0:d.message,...c,...o})}wo();Mn();function Wnt({data:t=[],extractId:e,renderItem:n,dndProps:r={droppableId:"sortable-list",direction:"vertical"},onReordered:i,onChange:s,disableIndices:o=[],...a}){function l({destination:u,source:d}){if(o.includes(d.index)||o.includes(u.index))return;let f={from:d.index,to:(u==null?void 0:u.index)||0};i==null||i(f.from,f.to)}let c=t.map((u,d)=>{let f=e?e(u):S.useId();return p.jsx(zK,{index:d,draggableId:f,isDragDisabled:o.includes(d),children:(h,m,g)=>n?n({...u,dnd:{provided:h,snapshot:m,rubic:g}},d):p.jsxs("div",{className:"flex flex-row gap-2 p-2 border border-gray-200 rounded-md mb-3 bg-white items-center",ref:h.innerRef,...h.draggableProps,children:[p.jsx("div",{...h.dragHandleProps,children:p.jsx(PM,{className:"size-5",stroke:1.5})}),p.jsx("p",{children:JSON.stringify(u)})]})},f)});return p.jsx(FK,{onDragEnd:l,children:p.jsx(YK,{...r,children:u=>p.jsxs("div",{...a,...u.droppableProps,ref:u.innerRef,children:[c,u.placeholder]})})})}en();kt();Gi();function dce({children:t,target:e,defaultOpen:n=!1,backdrop:r=!1,position:i="bottom-start",className:s}){let[o,a]=S.useState(n),l=ES(()=>a(!1)),c=Wt((d=50)=>setTimeout(()=>a(f=>!f),typeof d=="number"?d:0)),u={"bottom-start":"mt-1 top-[100%]","bottom-end":"right-0 top-[100%] mt-1","top-start":"bottom-[100%] mb-1","top-end":"bottom-[100%] right-0 mb-1"}[i];return p.jsxs(p.Fragment,{children:[o&&r&&p.jsx("div",{className:"animate-fade-in w-full h-full absolute top-0 bottom-0 right-0 left-0 bg-background/60"}),p.jsxs("div",{role:"dropdown",className:Qe("relative flex",s),ref:l,children:[S.cloneElement(t,{onClick:c}),o&&p.jsx("div",{className:Qe("animate-fade-in absolute z-20 flex flex-col bg-background border border-muted px-1 py-1 rounded-lg shadow-lg min-w-full max-w-20 backdrop-blur-sm",u),children:e({toggle:c})})]})]})}Ct();var Tk=[{type:"primary",label:"Primary",icon:NW,addable:!1,disabled:["name"],hidden:["virtual"]},{type:"text",label:"Text",icon:NW},{type:"number",label:"Number",icon:GUe},{type:"boolean",label:"Boolean",icon:HUe},{type:"date",label:"Date",icon:are},{type:"enum",label:"Enum",icon:ek},{type:"json",label:"JSON",icon:AUe},{type:"jsonschema",label:"JSON Schema",icon:MUe},{type:"relation",label:"Relation",icon:OQ,addable:!1,hidden:["virtual"]},{type:"media",label:"Media",icon:zO,addable:!1,hidden:["virtual"]}];Ht();Sn();en();ve();Ct();Ht();$t();Lt();WO();zl();wo();ni();en();ve();Ct();kt();$t();Lt();ni();var Vz=()=>{let[t,e]=_S([!1,!0]);return p.jsx("button",{role:"checkbox",type:"button",className:"flex px-3 py-3",onClick:()=>e(),children:p.jsx(t?ore:hre,{size:18})})};function Ak({data:t=[],columns:e,checkable:n,onClickRow:r,onClickPage:i,onClickSort:s,total:o,sort:a,page:l=1,perPage:c=10,perPageOptions:u,onClickPerPage:d,classNames:f,renderHeader:h,rowActions:m,renderValue:g,onClickNew:y}){o=o||(t==null?void 0:t.length)||0,l=l||1;let O=e&&e.length>0?e:Object.keys((t==null?void 0:t[0])||{}),b=Math.max(Math.ceil(o/c),1),w=g||Rk;return p.jsxs("div",{className:"flex flex-col gap-3",children:[y&&p.jsx("div",{className:"flex flex-row space-between",children:y&&p.jsx(Ze,{onClick:y,children:"Create new"})}),p.jsx("div",{className:"border-muted border rounded-md shadow-sm w-full max-w-full overflow-x-scroll overflow-y-hidden",children:p.jsxs("table",{className:"w-full text-md",children:[O.length>0?p.jsx("thead",{className:"sticky top-0 bg-muted/10",children:p.jsxs("tr",{children:[n&&p.jsx("th",{align:"center",className:"w-[40px]",children:p.jsx(Vz,{})}),O.map((x,v)=>{let k=(h==null?void 0:h(x))??xs(x);return p.jsx("th",{children:p.jsx("div",{className:"flex flex-row py-1 px-1 font-normal text-primary/55",children:p.jsxs("button",{type:"button",className:Qe("link hover:bg-primary/5 py-1.5 rounded-md inline-flex flex-row justify-start items-center gap-1",s?"pl-2.5 pr-1":"px-2.5"),onClick:()=>s==null?void 0:s(x),children:[p.jsx("span",{className:"text-left text-nowrap whitespace-nowrap",children:k}),s&&p.jsx(znt,{sort:a,field:x})]})})},v)}),m&&m.length>0&&p.jsx("th",{className:"w-10"})]})}):null,p.jsx("tbody",{children:!t||!Array.isArray(t)||t.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:O.length+(n?1:0),children:p.jsx("div",{className:"flex flex-col gap-2 p-8 justify-center items-center border-t border-muted",children:p.jsx("i",{className:"opacity-50",children:Array.isArray(t)?"No data to show":t?p.jsx("pre",{children:JSON.stringify(t,null,2)}):"Loading..."})})})}):t.map((x,v)=>{let k=()=>r==null?void 0:r(x);return p.jsxs("tr",{"data-border":v>0,className:"hover:bg-primary/5 active:bg-muted border-muted data-[border]:border-t cursor-pointer transition-colors",children:[n&&p.jsx("td",{align:"center",children:p.jsx(Vz,{})}),Object.entries(x).map(([$,C],N)=>p.jsx("td",{onClick:k,children:p.jsx("div",{className:"flex flex-row items-start py-3 px-3.5 font-normal ",children:p.jsx(w,{property:$,value:C})})},N)),m&&m.length>0&&p.jsx("td",{children:p.jsx("div",{className:"flex flex-row justify-end pr-2",children:p.jsxs(Ai,{position:"bottom-end",children:[p.jsx(Ai.Target,{children:p.jsx(dt,{Icon:LUe})}),p.jsx(Ai.Dropdown,{children:m.map($=>p.jsx(Ai.Item,{onClick:()=>$.onClick(x,v),leftSection:$.icon&&p.jsx($.icon,{}),children:$.label},$.label))})]})})})]},v)})})]})}),p.jsxs("div",{className:"flex flex-row items-center justify-between",children:[p.jsx("div",{className:"hidden md:flex text-primary/40",children:p.jsx(Znt,{perPage:c,page:l,items:(t==null?void 0:t.length)||0,total:o})}),p.jsxs("div",{className:"flex flex-row gap-2 md:gap-10 items-center",children:[u&&p.jsxs("div",{className:"hidden md:flex flex-row items-center gap-2 text-primary/40",children:["Per Page"," ",p.jsx(kr,{items:u.map(x=>({label:String(x),perPage:x})),position:"top-end",onClickItem:x=>d==null?void 0:d(x.perPage),children:p.jsx(Ze,{children:c})})]}),p.jsxs("div",{className:"text-primary/40",children:["Page ",l," of ",b]}),i&&p.jsx("div",{className:"flex flex-row gap-1.5",children:p.jsx(Unt,{current:l,total:b,onClick:i})})]})]})]})}var Rk=({value:t,property:e})=>{let n=!1;return t!==null&&typeof t=="object"&&(t=JSON.stringify(t),n=!0),t!==null&&typeof t<"u"?p.jsx("span",{className:Qe("line-clamp-2",n&&"font-mono break-all"),children:t}):p.jsx("span",{className:"opacity-10 font-mono",children:"null"})},znt=({sort:t,field:e})=>!t||t.by!==e?p.jsx(ek,{size:18,className:"mt-[1px]"}):t.dir==="asc"?p.jsx(yQ,{size:18,className:"mt-[1px]"}):p.jsx(mQ,{size:18,className:"mt-[1px]"}),Znt=({perPage:t,page:e,items:n,total:r})=>r===0?p.jsx(p.Fragment,{children:"No rows to show"}):r===1?p.jsx(p.Fragment,{children:"Showing 1 row"}):p.jsxs(p.Fragment,{children:["Showing ",t*(e-1)+1,"-",t*(e-1)+n," of ",r," rows"]}),Unt=({current:t,total:e,onClick:n})=>[{value:1,Icon:ure,disabled:t===1},{value:t-1,Icon:lre,disabled:t===1},{value:t+1,Icon:cre,disabled:t===e},{value:e,Icon:dre,disabled:t===e}].map((r,i)=>p.jsx("button",{role:"button",type:"button",disabled:r.disabled,className:"px-2 py-2 border-muted border rounded-md enabled:link text-lg enabled:hover:bg-primary/5 text-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{let s=r.value,o=s<1?1:s>e?e:s;n==null||n(o)},children:p.jsx(r.Icon,{})},i));Gi();Et();ve();Ct();Sn();Lt();ni();Gi();var Xnt=({path:t,backTo:e,onBack:n})=>{let[r,i]=ws(),s=window.location.pathname,o=Array.isArray(t)?t:[t],a=s.split("/").filter(d=>d!==""),l=o.length>1,c=n||Wt(()=>{if(e){i(e,{replace:!0});return}let d=a.slice(0,o.length+1).join("/");i(`~/${d}`,{replace:!0})}),u=S.useMemo(()=>o.map((d,f)=>{let h=f===o.length-1,m=a.indexOf(d),g=a.slice(0,m+1).join("/"),y=Qp(d);return{last:h,href:g,string:y}}),[o,a]);return p.jsxs("div",{className:"flex flex-row flex-grow items-center gap-2 text-lg",children:[l&&p.jsx(dt,{onClick:c,Icon:gQ,variant:"default",size:"lg",className:"mr-1"}),p.jsx("div",{className:"hidden md:flex gap-2",children:p.jsx(fce,{crumbs:u})}),p.jsx("div",{className:"flex md:hidden gap-2",children:p.jsx(Gnt,{crumbs:u})})]})},fce=({crumbs:t})=>t.map((e,n)=>e.last?p.jsx(hce,{...e},n):p.jsx(pce,{...e},n)),Gnt=({crumbs:t})=>{let[,e]=ws();if(t.length<=2)return p.jsx(fce,{crumbs:t});let n=t[0],r=t[t.length-1],i=S.useMemo(()=>t.slice(1,-1).map(o=>({label:o.string,href:o.href})),[t]),s=Wt(o=>e(`~/${o.href}`));return p.jsxs(p.Fragment,{children:[p.jsx(pce,{...n}),p.jsx(kr,{onClickItem:s,items:i,children:p.jsx(dt,{Icon:Ll,variant:"ghost"})}),p.jsx("span",{className:"opacity-25 dark:font-bold font-semibold",children:"/"}),p.jsx(hce,{...r})]})},hce=({string:t})=>p.jsx("span",{className:"text-nowrap dark:font-bold font-semibold",children:t}),pce=({href:t,string:e})=>p.jsxs("div",{className:"opacity-50 flex flex-row gap-2 dark:font-bold font-semibold",children:[p.jsx(qO,{to:`~/${t}`,className:"text-nowrap",children:e}),p.jsx("span",{className:"opacity-50",children:"/"})]});Sn();function mce(t,e,n){if(!t.properties)return[{...t},e,{}];let r=Ei(t),i={...r,properties:Ks(r.properties,n)};i.required&&(i.required=i.required.filter(a=>!n.includes(a)));let s={};for(let a of n)s[a]={config:e[a],schema:r.properties[a]};let o=Ks(e,n);return[i,o,s]}en();va();$t();hu();wo();ni();MI();Sn();var Ynt=({schema:t,uiSchema:e={},anyOfValues:n,path:r,prefixPath:i,generateKey:s})=>{let[o,a]=ws(),[l,c]=S.useState(t),[u,d]=S.useState(!1),{actions:f}=st(),[h,{open:m,close:g}]=Dl(!1),y=s!==void 0,O=typeof s=="string",[b,w]=S.useState(O?s:""),x=xM(!y),v=S.useRef(null),k="anyOf"in t;function $(R){s&&typeof s=="function"&&C({target:{value:s(R)}}),console.log("form change",R)}function C(R){let T=String(R.target.value);if(T.length>0&&!/^[a-zA-Z_][a-zA-Z0-9_ ]*$/.test(T)){console.log("no match",T);return}w(T.toLowerCase().replace(/ /g,"_").replace(/__+/g,"_"))}async function N(){var R,T,A,j;if((R=v.current)!=null&&R.validateForm()){d(!0);let E=(T=v.current)==null?void 0:T.formData(),[_,...Q]=r,M=[...Q,b].join(".");await f.add(_,M,E)?setTimeout(()=>{a(i+b,{replace:!0})},500):d(!1)}console.log("valid?",(A=v.current)==null?void 0:A.validateForm()),console.log("data",b,(j=v.current)==null?void 0:j.formData())}let P=k?t.anyOf.map(R=>{var E,_;let T=R.title,A=((E=n==null?void 0:n[T])==null?void 0:E.label)||T,j=(_=n==null?void 0:n[T])==null?void 0:_.icon;return{label:A,icon:j,onClick:()=>{c(R),m()}}}):[];return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"flex flex-row",children:k?p.jsx(kr,{position:"top-start",items:P,itemsClassName:"gap-3",children:p.jsx(Ze,{children:"Add new"})}):p.jsx(Ze,{onClick:m,children:"Add new"})}),p.jsx(RI,{open:h,allowBackdropClose:!1,onClose:g,className:"min-w-96 w-6/12 mt-[30px] mb-[20px]",stickToTop:!0,children:p.jsxs("div",{className:"border border-muted rounded-lg flex flex-col overflow-y-scroll font-normal",style:{maxHeight:"calc(100dvh - 100px)"},children:[p.jsx("div",{className:"bg-muted py-2 px-4 text-primary/70 font-mono flex flex-row gap-2 items-center",children:[...r,b].join(".")}),p.jsxs("div",{className:"flex flex-row gap-10 sticky top-0 bg-background z-10 p-4 border-b border-muted",children:[p.jsxs("div",{className:"flex flex-row flex-grow items-center relative",children:[p.jsx(El,{ref:x,className:"w-full",placeholder:"New unique key...",onChange:C,value:b,disabled:y}),y&&p.jsx("div",{className:"absolute h-full flex items-center z-10 right-3.5 top-0 bottom-0 font-mono font-sm opacity-50",children:"generated"})]}),p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx(Ze,{onClick:g,disabled:u,children:"Cancel"}),p.jsx(Ze,{variant:"primary",onClick:N,disabled:u||b.length===0,children:"Create"})]})]}),p.jsx("div",{className:"flex flex-col p-4",children:p.jsx(Ts,{ref:v,schema:Ks(l,["title"]),uiSchema:e,onChange:$,className:"legacy hide-required-mark fieldset-alternative mute-root"})})]})})]})};en();Ct();Lt();Fl();MI();var Bz=S.forwardRef(({tabs:t,title:e},n)=>{let[r,{open:i,close:s}]=Dl(!1),[o,a]=S.useState(0),l=t[o];return S.useImperativeHandle(n,()=>({open:i,close:s,isOpen:r})),l?p.jsx(RI,{open:r,onClose:s,className:"min-w-96 w-9/12 mt-[80px] mb-[20px]",stickToTop:!0,children:p.jsxs("div",{className:"border border-primary rounded-lg flex flex-col overflow-scroll font-normal",style:{maxHeight:"calc(100dvh - 100px)"},children:[e&&p.jsxs("div",{className:"bg-primary py-2 px-4 text-background font-mono flex flex-row gap-2 items-center",children:[p.jsx(KUe,{size:20,className:"opacity-50"}),e]}),p.jsxs("div",{className:"flex flex-row justify-between sticky top-0 bg-background z-10 py-4 px-5",children:[p.jsx("div",{className:"flex flex-row gap-3",children:t.map((c,u)=>p.jsx("button",{onClick:()=>a(u),"data-active":u===o?1:void 0,className:"font-mono data-[active]:font-bold",children:c.title},u))}),p.jsx(dt,{Icon:xQ,onClick:s})]}),p.jsx("div",{className:"",children:p.jsx(oo,{json:l.json,expand:6,showSize:!0,showCopy:!0})})]})}):null});function fi({schema:t,uiSchema:e,config:n,prefix:r="/",options:i,path:s=[],properties:o}){var T,A,j;let[a,l]=S.useState(!1),{actions:c}=st(),u=S.useRef(null),d=S.useRef(null),f=S.useRef(null),[h,m]=S.useState(!1);wM([["mod+s",E=>(E.preventDefault(),P(),!1)],["e",()=>{h||N()}],["Escape",()=>{h&&N()}]]);let g=S.useMemo(()=>o?Object.entries(o).filter(([,E])=>E.hide||E.extract).map(([E])=>E):[],[o]),y=Wt(E=>{let _=window.location.href.split("/").slice(0,-1).join("/");E?window.location.replace(_):window.history.back()}),O=((T=i==null?void 0:i.allowDelete)==null?void 0:T.call(i,n))??!0,b=((A=i==null?void 0:i.allowEdit)==null?void 0:A.call(i,n))??!0,w=((j=i==null?void 0:i.showAlert)==null?void 0:j.call(i,n))??void 0;console.log("--setting",{schema:t,config:n,prefix:r,path:s,exclude:g});let[x,v,k]=mce(t,n,g);console.log({reducedSchema:x,reducedConfig:v,extracted:k});let $=Object.keys(k),C=$.find(E=>window.location.pathname.endsWith(E))??$[0],N=Wt(()=>{b&&m(E=>!E)}),P=Wt(async()=>{var E,_;if(!(!b||!h)&&((E=u.current)!=null&&E.validateForm())){l(!0);let Q=(_=u.current)==null?void 0:_.formData(),[M,...L]=s,V;console.log("save:data",{module:M,restOfPath:L},Q),L.length>0?(console.log("-> patch",{module:M,path:L.join(".")},Q),V=await c.patch(M,L.join("."),Q)):(console.log("-> set",{module:M},Q),V=await c.set(M,Q,!0)),console.log("save:success",V),V?i!=null&&i.reloadOnSave&&(await c.reload(),l(!1)):l(!1)}}),R=Wt(async()=>{if(!O)return;let[E,..._]=s;window.confirm(`Are you sure you want to delete ${s.join(".")}`)&&await c.remove(E,_.join("."))&&y(!0)});return n?p.jsxs(p.Fragment,{children:[p.jsx(In,{className:s.length>1?"pl-3":"",scrollable:!0,right:p.jsxs(p.Fragment,{children:[p.jsx(kr,{items:[{label:"Inspect local schema",onClick:()=>{var E;(E=d.current)==null||E.open()}},{label:"Inspect schema",onClick:()=>{var E;(E=f.current)==null||E.open()}},O&&{label:"Delete",destructive:!0,onClick:R}],position:"bottom-end",children:p.jsx(dt,{Icon:ZO})}),p.jsx(Ze,{onClick:N,disabled:!b,children:h?"Cancel":"Edit"}),h&&p.jsx(Ze,{variant:"primary",onClick:P,disabled:a||!b,children:a?"Save...":"Save"})]}),children:p.jsx(Xnt,{path:s})}),p.jsxs(nn,{children:[typeof w<"u"&&p.jsx(cl.Warning,{message:w}),p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsx(Ts,{ref:u,readonly:!h,schema:Ks(x,["title"]),formData:v,uiSchema:e,onChange:console.log,className:"legacy hide-required-mark fieldset-alternative mute-root"})}),$.length>0&&p.jsxs("div",{className:"flex flex-col max-w-full",children:[p.jsx(tk,{items:$.map(E=>{var _;return{as:qO,label:xs(E),href:`${r}/${E}`.replace(/\/+/g,"/"),active:C===E,badge:Object.keys(((_=k[E])==null?void 0:_.config)??{}).length}})}),p.jsx("div",{className:"flex flex-grow flex-col gap-3 p-3",children:p.jsx(Ue,{path:"/:prop?",component:({params:E})=>{var W,H,le,fe;let[,_]=ws(),Q=E.prop??C,M=((W=k[Q])==null?void 0:W.config)??{},L=(H=o==null?void 0:o[Q])!=null&&H.tableValues?(le=o==null?void 0:o[Q])==null?void 0:le.tableValues(M):Object.entries(M).map(([U,ee])=>{if(!ee||typeof ee!="object")return{key:U,value:ee};let re=Object.keys(ee)[0],J=ee[re],q=Ks(ee,[re]);return{key:U,[re]:J,value:q}}),V=(fe=o==null?void 0:o[Q])==null?void 0:fe.new;return Q?p.jsxs(p.Fragment,{children:[V&&p.jsx(Ynt,{schema:V.schema,uiSchema:V.uiSchema,anyOfValues:V.anyOfValues,prefixPath:`/${Q}/`,path:[...s,Q],generateKey:V.generateKey}),p.jsx(Ak,{data:L,onClickRow:U=>{let ee=Object.values(U)[0];_(`/${Q}/${ee}`)}})]}):p.jsx("div",{className:"h-80 flex justify-center align-center",children:p.jsx($r,{title:"No sub-setting selected",description:"Select one from the tab bar"})})}})})]})]},s.join("-")),p.jsx(Bz,{ref:d,title:s.join("."),tabs:[{title:"Schema",json:x},{title:"Config",json:v}]}),p.jsx(Bz,{ref:f,title:s.join("."),tabs:[{title:"Schema",json:t},{title:"Config",json:n}]})]}):p.jsx($r,{title:"Not found",description:`Configuration at path ${s.join(".")} doesn't exist.`,primary:{children:"Go back",onClick:()=>y()}})}var W_={config:{fillable:{"ui:options":{wrap:!0},anyOf:[{},{"ui:widget":"checkboxes"}]},hidden:{"ui:options":{wrap:!0},anyOf:[{},{"ui:widget":"checkboxes"}]},schema:{"ui:field":"JsonField"},ui_schema:{"ui:field":"JsonField"}}},Hnt=Tk.filter(t=>t.type!=="primary").reduce((t,e)=>(t[e.type]={label:e.label,icon:e.icon},t),{}),Jnt={"1:1":{label:"One-to-One"},"n:1":{label:"Many-to-One"},"m:n":{label:"Many-to-Many"},poly:{label:"Polymorphic"}},Knt=({schema:t,config:e})=>{let{app:n}=st(),r=`~/${n.getAdminConfig().basepath}/settings`.replace(/\/+/g,"/"),i=Object.keys(e.entities??{});function s(o,a="entity"){i.length!==0&&(o.properties&&a in o.properties&&(o.properties[a].enum=i),"anyOf"in o&&o.anyOf.forEach(l=>s(l,a)))}return p.jsx(Ue,{path:"/data",nest:!0,children:p.jsxs(fa,{children:[p.jsx(Ue,{path:"/entities/:entity/fields/:field",component:({params:{entity:o,field:a}})=>{var d,f,h,m,g;let l=(h=(f=(d=e.entities)==null?void 0:d[o])==null?void 0:f.fields)==null?void 0:h[a],c=(g=(m=t.properties.entities.additionalProperties)==null?void 0:m.properties)==null?void 0:g.fields.additionalProperties,u=c.anyOf.find(y=>y.properties.type.const===(l==null?void 0:l.type));return p.jsx(fi,{schema:u??c,config:l,prefix:`${r}/data/entities/${o}/fields/${a}`,path:["data","entities",o,"fields",a],options:{showAlert:y=>{if((y==null?void 0:y.type)==="primary")return"Modifying the primary field may result in strange behaviors."}},uiSchema:W_})},nest:!0}),p.jsx(Ue,{path:"/entities/:entity",component:({params:{entity:o}})=>{var u;let a=t.properties.entities.additionalProperties,l=Ei(a);l.properties.type.readOnly=!0;let c={anyOf:l.properties.fields.additionalProperties.anyOf.filter(d=>d.properties.type.const!=="primary")};return p.jsx(fi,{schema:l,config:(u=e.entities)==null?void 0:u[o],options:{showAlert:d=>{if(d.type==="system")return"Modifying the system entities may result in strange behaviors."}},properties:{fields:{extract:!0,tableValues:d=>is(d,(f,h,m)=>{var g;f.push({property:m,type:h.type,required:(g=h.config)!=null&&g.required?"Yes":"No"})},[]),new:{schema:c,uiSchema:W_,anyOfValues:Hnt}}},path:["data","entities",o],prefix:`${r}/data/entities/${o}`})},nest:!0}),p.jsx(Ue,{path:"/indices/:index",component:({params:{index:o}})=>{var l;let a=t.properties.indices.additionalProperties;return i.length>0&&s(a,"entity"),p.jsx(fi,{schema:t.properties.indices.additionalProperties,config:(l=e.indices)==null?void 0:l[o],path:["data","indices",o],prefix:`${r}/data/indices/${o}`})},nest:!0}),p.jsx(Ue,{path:"/relations/:relation",component:({params:{relation:o}})=>{var c;let a=(c=e.relations)==null?void 0:c[o],l=t.properties.relations.additionalProperties.anyOf.find(u=>u.properties.type.const===(a==null?void 0:a.type));return i.length>0&&(s(l,"source"),s(l,"target")),p.jsx(fi,{schema:l,config:a,path:["data","relations",o],prefix:`${r}/data/relations/${o}`})},nest:!0}),p.jsx(Ue,{path:"/",component:()=>{let o=t.properties.indices.additionalProperties,a=t.properties.relations.additionalProperties;return s(o,"entity"),s(a,"source"),s(a,"target"),p.jsx(fi,{schema:t,config:e,properties:{entities:{extract:!0,tableValues:l=>is(l,(c,u,d)=>{c.push({name:d,type:u.type,fields:Object.keys(u.fields??{}).length})},[]),new:{schema:t.properties.entities.additionalProperties,uiSchema:{fields:{"ui:widget":"hidden"},type:{"ui:widget":"hidden"}}}},relations:{extract:!0,new:{schema:t.properties.relations.additionalProperties,generateKey:l=>{var u,d,f,h;let c=[l.type.replace(":",""),l.source,l.target,(u=l.config)==null?void 0:u.mappedBy,(d=l.config)==null?void 0:d.inversedBy,(f=l.config)==null?void 0:f.connectionTable,(h=l.config)==null?void 0:h.connectionTableMappedName].filter(Boolean);return[...new Set(c)].join("_")},anyOfValues:Jnt},tableValues:l=>is(l,(c,u,d)=>{c.push({name:d,type:u.type,source:u.source,target:u.target})},[])},indices:{extract:!0,tableValues:l=>is(l,(c,u,d)=>{c.push({name:d,entity:u.entity,fields:u.fields.join(", "),unique:u.unique?"Yes":"No"})},[]),new:{schema:o,uiSchema:{fields:{"ui:options":{orderable:!1}}},generateKey:l=>["idx",l.entity,l.unique&&"unique",...l.fields.filter(Boolean)].filter(Boolean).join("_")}}},prefix:`${r}/data`,path:["data"]})},nest:!0})]})})},FI=w2,ert=I.Union(Object.values(FI)),trt=I.Object({name:Wi,new:I.Optional(I.Boolean({const:!0})),field:ert}),nrt=I.Object({fields:I.Array(trt)}),rrt=Object.keys(FI);rrt[0];var gce=["label","description","required","fillable","hidden","virtual"];function irt(t){var e;return I.Omit((e=FI[t])==null?void 0:e.properties.config,gce)}var yce=S.forwardRef(function({fields:t,sortable:e,additionalFieldTypes:n,...r},i){let s=Object.entries(t).map(([k,$])=>({name:k,field:$})),{control:o,formState:{isValid:a,errors:l},getValues:c,watch:u,register:d,setValue:f,setError:h,reset:m}=Es({mode:"all",resolver:Yi(nrt),defaultValues:{fields:s}}),{fields:g,append:y,remove:O,move:b}=Cre({control:o,name:"fields"});function w(k){return Object.fromEntries(k.fields.map($=>[$.name,Cy($.field)]))}S.useEffect(()=>{r!=null&&r.onChange&&(console.log("----set"),u(k=>{var $;console.log("---calling"),($=r==null?void 0:r.onChange)==null||$.call(r,w(k))}))},[]),S.useImperativeHandle(i,()=>({reset:m,getValues:()=>c(),getData:()=>w(c()),isValid:()=>a}));function x(k){y({name:"",new:!0,field:{type:k,config:{}}})}let v={watch:u,register:d,setValue:f,getValues:c,control:o,setError:h};return p.jsx(p.Fragment,{children:p.jsx("div",{className:"flex flex-col gap-6",children:p.jsx("div",{className:"flex flex-col gap-3",children:p.jsxs("div",{className:"flex flex-col gap-4",children:[e?p.jsx(Wnt,{data:g,onReordered:b,extractId:k=>k.id,disableIndices:[0],renderItem:({dnd:k,...$},C)=>p.jsx(ort,{field:$,index:C,form:v,errors:l,remove:O,dnd:k},$.id)},g.length):p.jsx("div",{children:g.map((k,$)=>p.jsx(Oce,{field:k,index:$,form:v,errors:l,remove:O},k.id))}),p.jsx(dce,{className:"flex flex-col w-full",target:({toggle:k})=>p.jsx(srt,{additionalFieldTypes:n,onSelected:k,onSelect:$=>{x($)}}),children:p.jsx(Ze,{className:"justify-center",children:"Add Field"})})]})})})})}),srt=({onSelect:t,additionalFieldTypes:e=[],onSelected:n})=>{let r=Tk.filter(i=>i.addable!==!1);return e&&r.push(...e),p.jsx("div",{className:"flex flex-row gap-2 justify-center flex-wrap",children:r.map(i=>p.jsx(Ze,{IconLeft:i.icon,variant:"ghost",onClick:()=>{var s;i.addable!==!1?t(i.type):(s=i.onClick)==null||s.call(i),n==null||n()},children:i.label},i.type))})},ort=S.memo(Oce,(t,e)=>t.field.id!==e.field.id);function Oce({field:t,index:e,form:{watch:n,register:r,setValue:i,getValues:s,control:o,setError:a},remove:l,errors:c,dnd:u}){var C,N,P,R,T;let[d,f]=Dl(!1),h=`fields.${e}.field`,m=t.field.type,g=n(`fields.${e}.name`),y=Tk.find(A=>A.type===m),O=Ks(t.field.config,gce),b=y.disabled||[],w=y.hidden||[],x=e===0,v=!!((C=c==null?void 0:c.fields)!=null&&C[e]);function k(A){return()=>{if(g.length===0){l(A);return}window.confirm(`Sure to delete "${g}"?`)&&l(A)}}let $=u?{...u.provided.draggableProps,ref:u.provided.innerRef}:{};return p.jsxs("div",{className:Qe("flex flex-col border border-muted rounded bg-background mb-2",d&&"mb-6",v&&"border-red-500 "),...$,children:[p.jsxs("div",{className:"flex flex-row gap-2 px-2 py-2",children:[u?p.jsx("div",{className:"flex items-center",...u.provided.dragHandleProps,children:p.jsx(dt,{Icon:BUe,className:"mt-1",disabled:x})}):null,p.jsxs("div",{className:"flex flex-row flex-grow gap-4 items-center md:mr-6",children:[p.jsx(Ml,{label:y.label,children:p.jsx("div",{className:"flex flex-row items-center p-2 bg-primary/5 rounded",children:p.jsx(y.icon,{className:"size-5"})})}),t.new?p.jsx(Rt,{error:!!((P=(N=c==null?void 0:c.fields)==null?void 0:N[e])!=null&&P.name.message),placeholder:"Enter a property name...",classNames:{root:"w-full h-full",wrapper:"font-mono h-full",input:"pt-px !h-full"},...r(`fields.${e}.name`),disabled:!t.new}):p.jsxs("div",{className:"font-mono flex-grow flex flex-row gap-3",children:[p.jsx("span",{children:g}),((R=t.field.config)==null?void 0:R.label)&&p.jsx("span",{className:"opacity-50",children:(T=t.field.config)==null?void 0:T.label})]}),p.jsxs("div",{className:"flex-col gap-1 hidden md:flex",children:[p.jsx("span",{className:"text-xs text-primary/50 leading-none",children:"Required"}),p.jsx(Cg,{size:"sm",name:`${h}.config.required`,control:o})]})]}),p.jsx("div",{className:"flex items-end",children:p.jsx("div",{className:"flex flex-row gap-4",children:p.jsx(dt,{size:"lg",Icon:ZO,iconProps:{strokeWidth:1.5},onClick:f.toggle,variant:d?"primary":"ghost"})})})]}),d&&p.jsx("div",{className:"flex flex-col border-t border-t-muted px-3 py-2 bg-lightest/50",children:p.jsxs(pn,{defaultValue:"general",children:[p.jsxs(pn.List,{className:"flex flex-row",children:[p.jsx(pn.Tab,{value:"general",children:"General"}),p.jsx(pn.Tab,{value:"specific",children:Qp(m)}),p.jsx(pn.Tab,{value:"visibility",disabled:!0,children:"Visiblity"}),p.jsx("div",{className:"flex flex-grow"}),p.jsx(pn.Tab,{value:"code",className:"!self-end",children:"Code"})]}),p.jsx(pn.Panel,{value:"general",children:p.jsxs("div",{className:"flex flex-col gap-2 pt-3 pb-1",children:[p.jsx("div",{className:"flex flex-row",children:p.jsx(Cg,{label:"Required",name:`${h}.config.required`,control:o})}),p.jsx(Rt,{label:"Label",placeholder:"Label",...r(`${h}.config.label`)}),p.jsx(iO,{label:"Description",placeholder:"Description",...r(`${h}.config.description`)}),!w.includes("virtual")&&p.jsx(Cg,{label:"Virtual",name:`${h}.config.virtual`,control:o,disabled:b.includes("virtual")})]},`${h}_${m}`)}),p.jsx(pn.Panel,{value:"specific",children:p.jsx("div",{className:"flex flex-col gap-2 pt-3 pb-1",children:p.jsx(Ts,{schema:irt(m),formData:O,uiSchema:W_.config,className:"legacy hide-required-mark fieldset-alternative mute-root",onChange:A=>{i(`${h}.config`,{...s([`fields.${e}.config`])[0],...A})}},m)})}),p.jsx(pn.Panel,{value:"code",children:(()=>{let{id:A,...j}=t;return p.jsx(oo,{json:j,expand:4})})()}),p.jsx("div",{className:"flex flex-row justify-end",children:p.jsx(Ze,{IconLeft:pre,onClick:k(e),size:"small",variant:"subtlered",children:"Delete"})})]})})]},t.id)}var art=jy;function lrt(){var b,w;let{nextStep:t,stepBack:e,state:n,setState:r}=nf(),i=(w=(b=n.entities)==null?void 0:b.create)==null?void 0:w[0],s={id:{type:"primary",name:"id"}},o=S.useRef(null),a=Cy(H9(i,{fields:s,config:{sort_field:"id",sort_dir:"asc"}})),{control:l,formState:{isValid:c,errors:u},getValues:d,handleSubmit:f,watch:h,setValue:m}=Es({mode:"onTouched",resolver:Yi(art),defaultValues:a}),g=h(),y=Wt(x=>{console.log("updateListener",x),m("fields",x)});function O(){var x;c&&((x=o.current)!=null&&x.isValid())?(r(v=>{var k,$;return($=(k=v.entities)==null?void 0:k.create)!=null&&$[0]?{...v,entities:{create:[d()]}}:v}),t("create")()):console.warn("not valid")}return p.jsxs("form",{onSubmit:f(O),children:[p.jsx(ef,{children:p.jsxs("div",{className:"flex flex-col gap-6",children:[p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs("p",{children:["Add fields to ",p.jsx("strong",{children:i.name}),":"]}),p.jsx("div",{className:"flex flex-col gap-1",children:p.jsx(yce,{ref:o,fields:a.fields,onChange:y})})]}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("p",{children:"How should it be sorted by default?"}),p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx(gl,{label:"Field",data:Object.keys(g.fields??{}).filter(x=>x.length>0),placeholder:"Select field",name:"config.sort_field",allowDeselect:!1,control:l}),p.jsx(gl,{label:"Direction",data:["asc","desc"],defaultValue:"asc",placeholder:"Select direction",name:"config.sort_dir",allowDeselect:!1,control:l})]})]}),p.jsx("div",{children:Object.entries(u).map(([x,v])=>p.jsxs("p",{children:[x,": ",v.message]},x))})]})}),p.jsx(tf,{next:{disabled:!c,type:"submit"},prev:{onClick:e},debug:{state:n,values:g}})]})}bo();Mn();ve();Sr();sr();Ct();Ht();$t();sr();function U0({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){var d;let{field:{value:a,onChange:l,...c},fieldState:u}=Gd({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i});return p.jsx(Q1,{value:a,onChange:f=>{l(f),s==null||s(f)},error:(d=u.error)==null?void 0:d.message,...c,...o})}Wp();Gi();QO(Hy);var z_=[{type:Qr.ManyToOne,label:"Many to One",component:drt},{type:Qr.OneToOne,label:"One to One",component:frt},{type:Qr.ManyToMany,label:"Many to Many",component:hrt},{type:Qr.Polymorphic,label:"Polymorphic",component:prt}],crt=I.Object({type:Nt(z_.map(t=>t.type)),source:Wi,target:Wi,config:I.Object({})});function urt(){var O,b,w;let{config:t}=st(),e=t.data.entities,n=Object.keys(e??{}).length,{nextStep:r,stepBack:i,state:s,path:o,setState:a}=nf(),{register:l,handleSubmit:c,formState:{isValid:u},setValue:d,watch:f,control:h}=Es({resolver:Yi(crt),defaultValues:((b=(O=s.relations)==null?void 0:O.create)==null?void 0:b[0])??{}}),m=f();function g(){u&&(a(x=>({...x,relations:{create:[m]}})),console.log("data",m),r("create")())}let y=Wt(()=>{let{source:x,target:v}=m;x&&v?(d("source",v),d("target",x)):x?(d("target",x),d("source",null)):(d("source",v),d("target",null))});return p.jsxs(p.Fragment,{children:[n<2&&p.jsx("div",{className:"px-5 py-4 bg-red-100 text-red-900",children:"Not enough entities to create a relation."}),p.jsxs("form",{onSubmit:c(g),children:[p.jsxs(ef,{children:[p.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[p.jsx(gl,{control:h,name:"source",label:"Source",allowDeselect:!1,data:Object.entries(e??{}).map(([x,v])=>{var k;return{value:x,label:((k=v.config)==null?void 0:k.name)??x,disabled:m.target===x}})}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx(gl,{control:h,name:"type",onChange:()=>d("config",{}),label:"Relation Type",data:z_.map(x=>({value:x.type,label:x.label})),allowDeselect:!1}),m.type&&p.jsx("div",{className:"flex justify-center mt-1",children:p.jsx(Ze,{size:"small",IconLeft:YUe,onClick:y,children:"Flip entities"})})]}),p.jsx(gl,{control:h,allowDeselect:!1,name:"target",label:"Target",data:Object.entries(e??{}).map(([x,v])=>{var k;return{value:x,label:((k=v.config)==null?void 0:k.name)??x,disabled:m.source===x}})})]}),p.jsx("div",{children:m.type&&((w=z_.find(x=>x.type===m.type))==null?void 0:w.component({register:l,control:h,data:m}))})]}),p.jsx(tf,{next:{type:"submit",disabled:!u,onClick:g},prev:{onClick:i},debug:{state:s,path:o,data:m}})]})]})}var At=({children:t})=>p.jsx("b",{className:"font-mono select-text",children:t}),Mk=({children:t})=>p.jsx("div",{className:"bg-primary/5 py-4 px-5 rounded-lg mt-10",children:t});function drt({register:t,control:e,data:{source:n,target:r,config:i}}){return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(Rt,{label:"Target mapping",...t("config.mappedBy"),placeholder:r}),p.jsx(U0,{label:"Cardinality",name:"config.sourceCardinality",control:e,placeholder:"n"}),p.jsx(U0,{label:"WITH limit",name:"config.with_limit",control:e,placeholder:String(Ad.DEFAULTS.with_limit)})]}),p.jsx("div",{}),p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(Rt,{label:"Source mapping",...t("config.inversedBy"),placeholder:n}),p.jsx(uo,{label:"Required",...t("config.required")})]})]}),n&&r&&i&&p.jsx(Mk,{children:p.jsxs(p.Fragment,{children:[p.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[p.jsx(uu,{className:"size-4"}),n,".",i.mappedBy||r,"_id ",""," ",r]}),p.jsxs("p",{children:["Many ",p.jsx(At,{children:n})," will each have one reference to ",p.jsx(At,{children:r}),"."]}),p.jsxs("p",{children:["A property ",p.jsxs(At,{children:[i.mappedBy||r,"_id"]})," will be added to"," ",p.jsx(At,{children:n})," (which references ",p.jsx(At,{children:r}),")."]}),p.jsxs("p",{children:["When creating ",p.jsx(At,{children:n}),", a reference to ",p.jsx(At,{children:r})," is"," ",p.jsx("i",{children:i.required?"required":"optional"}),"."]}),i.sourceCardinality?p.jsxs("p",{children:[p.jsx(At,{children:r})," should not have more than"," ",p.jsx(At,{children:i.sourceCardinality})," referencing entr",i.sourceCardinality===1?"y":"ies"," to ",p.jsx(At,{children:n}),"."]}):null]})})]})}function frt({register:t,control:e,data:{source:n,target:r,config:{mappedBy:i,required:s}}}){return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(Rt,{label:"Target mapping",...t("config.mappedBy"),placeholder:r}),p.jsx(uo,{label:"Required",...t("config.required")})]}),p.jsx("div",{}),p.jsx("div",{className:"flex flex-col gap-4",children:p.jsx(Rt,{label:"Source mapping",...t("config.inversedBy"),placeholder:n})})]}),n&&r&&p.jsx(Mk,{children:p.jsxs(p.Fragment,{children:[p.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[p.jsx(uu,{className:"size-4"}),n,".",i||r,"_id ",""," ",r]}),p.jsxs("p",{children:["A single entry of ",p.jsx(At,{children:n})," will have a reference to"," ",p.jsx(At,{children:r}),"."]}),p.jsxs("p",{children:["A property ",p.jsxs(At,{children:[i||r,"_id"]})," will be added to"," ",p.jsx(At,{children:n})," (which references ",p.jsx(At,{children:r}),")."]}),p.jsxs("p",{children:["When creating ",p.jsx(At,{children:n}),", a reference to ",p.jsx(At,{children:r})," is"," ",p.jsx("i",{children:s?"required":"optional"}),"."]})]})})]})}function hrt({register:t,control:e,data:{source:n,target:r,config:i}}){let s=i.connectionTable?i.connectionTable:n&&r?`${n}_${r}`:"";return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[p.jsx("div",{className:"flex flex-col gap-4"}),p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(Rt,{label:"Connection Table",...t("config.connectionTable"),placeholder:s}),p.jsx(Rt,{label:"Connection Mapping",...t("config.connectionTableMappedName"),placeholder:s})]}),p.jsx("div",{className:"flex flex-col gap-4"})]}),n&&r&&p.jsx(Mk,{children:p.jsxs(p.Fragment,{children:[p.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[p.jsx(uu,{className:"size-4"}),n," ",""," ",s," ",""," ",r]}),p.jsxs("p",{children:["Many ",p.jsx(At,{children:n})," will have many ",p.jsx(At,{children:r}),"."]}),p.jsxs("p",{children:["A connection table ",p.jsx(At,{children:s})," will be created to store the relations."]})]})})]})}function prt({register:t,control:e,data:{type:n,source:r,target:i,config:s}}){return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[p.jsx("div",{className:"flex flex-col gap-4",children:p.jsx(Rt,{label:"Target mapping",...t("config.mappedBy"),placeholder:i})}),p.jsx("div",{}),p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(Rt,{label:"Source mapping",...t("config.inversedBy"),placeholder:r}),p.jsx(U0,{label:"Cardinality",name:"config.targetCardinality",control:e,placeholder:"n"})]})]},n),r&&i&&p.jsx(Mk,{children:p.jsxs(p.Fragment,{children:[p.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[p.jsx(uu,{className:"size-4"}),r," ",""," ",i]}),p.jsxs("p",{children:[p.jsx(At,{children:r})," will have many ",p.jsx(At,{children:i}),"."]}),p.jsxs("p",{children:[p.jsx(At,{children:i})," will get additional properties ",p.jsx(At,{children:"reference"})," and"," ",p.jsx(At,{children:"entity_id"})," to make the (polymorphic) reference."]}),s.targetCardinality?p.jsxs("p",{children:[p.jsx(At,{children:r})," should not have more than"," ",p.jsx(At,{children:s.targetCardinality})," reference",s.targetCardinality===1?"":"s"," to ",p.jsx(At,{children:i}),"."]}):null]})})]})}Ct();kt();bo();ve();sr();Ht();sr();function VI({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){let{field:{value:a,onChange:l,...c}}=Gd({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i});return p.jsx(aa,{value:a,onChange:u=>{l(u),s==null||s(u)},...c,...o})}function mrt({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){var d;let{field:{value:a,onChange:l,...c},fieldState:u}=Gd({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i});return p.jsx(I1,{value:a,onChange:f=>{l(f),s==null||s(f)},error:(d=u.error)==null?void 0:d.message,...c,...o})}VI.Group=mrt;VI.Item=aa;Wp();var qz=I.Object({entity:Wi,cardinality_type:Nt(["single","multiple"],{default:"multiple"}),cardinality:I.Optional(I.Number({minimum:1})),name:Wi});function grt(){var x,v,k,$;let{stepBack:t,setState:e,state:n,path:r,nextStep:i}=nf(),{register:s,handleSubmit:o,formState:{isValid:a,errors:l},watch:c,control:u}=Es({mode:"onChange",resolver:Yi(qz),defaultValues:bl(qz,n.initial??{})}),[d,f]=S.useState(!1),{config:h}=st(),m=h.media.enabled??!1,g=h.media.entity_name??"media",y=Yt(h.data.entities??{},(C,N)=>N!==g?C:void 0),O=c(),b=Object.keys(((v=(x=h.data.entities)==null?void 0:x[O.entity])==null?void 0:v.fields)??{});S.useEffect(()=>{f(b.includes(O.name))},[b,O.name]);async function w(){if(a&&!d){let{field:C,relation:N}=yrt(g,O);e(P=>({...P,fields:{create:[C]},relations:{create:[N]}})),i("create")()}}return p.jsxs(p.Fragment,{children:[!m&&p.jsx("div",{className:"px-5 py-4 bg-red-100 text-red-900",children:"Media is not enabled in the configuration. Please enable it to use this template."}),p.jsxs("form",{onSubmit:o(w),children:[p.jsx(ef,{children:p.jsxs("div",{className:"flex flex-col gap-6",children:[p.jsx(gl,{name:"entity",allowDeselect:!1,control:u,size:"md",label:"Choose which entity to add media to",required:!0,data:Object.entries(y).map(([C,N])=>{var P;return{value:C,label:((P=N.config)==null?void 0:P.name)??C}})}),p.jsx(VI.Group,{name:"cardinality_type",control:u,label:"How many items can be attached?",size:"md",children:p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx(aa,{label:"Multiple items",value:"multiple"}),p.jsx(aa,{label:"Single item",value:"single"})]})}),O.cardinality_type==="multiple"&&p.jsx(U0,{name:"cardinality",control:u,size:"md",label:"How many exactly?",placeholder:"n",description:"Leave empty for unlimited",inputWrapperOrder:["label","input","description","error"]}),p.jsx(Rt,{size:"md",label:"Set a name for the property",required:!0,description:`A virtual property will be added to ${O.entity?O.entity:"the entity"}.`,...s("name"),error:(k=l.name)!=null&&k.message?($=l.name)==null?void 0:$.message:d?`Property "${O.name}" already exists on entity ${O.entity}`:void 0})]})}),p.jsx(tf,{next:{type:"submit",disabled:!a||!m||d},prev:{onClick:t},debug:{state:n,path:r,data:O}})]})]})}function yrt(t,e){let n={name:e.name,entity:e.entity,field:{type:"media",config:{required:!1,fillable:["update"],hidden:!1,mime_types:[],virtual:!0,entity:e.entity}}},r={type:"poly",source:e.entity,target:t,config:{mappedBy:e.name,targetCardinality:e.cardinality_type==="single"?1:void 0}};return e.cardinality_type==="multiple"?e.cardinality&&e.cardinality>1&&(n.field.config.max_items=e.cardinality,r.config.targetCardinality=e.cardinality):(n.field.config.max_items=1,r.config.targetCardinality=1),{field:n,relation:r}}Ct();var Ort={id:"template-media",title:"Attach Media",description:"Attach media to an entity",Icon:zO},brt=[[grt,Ort]],bce=brt;function xrt(){let{nextStep:t,stepBack:e,state:n,path:r,setState:i}=nf(),s=n.action??null;function o(a){if(s===a){t(a)();return}i({action:a})}return p.jsxs(p.Fragment,{children:[p.jsxs(ef,{children:[p.jsx("p",{children:"Choose what type to add."}),p.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[p.jsx(pj,{Icon:TUe,title:"Entity",description:"Create a new entity with fields",onClick:()=>o("entity"),selected:s==="entity"}),p.jsx(pj,{Icon:OQ,title:"Relation",description:"Create a new relation between entities",onClick:()=>o("relation"),selected:s==="relation"})]}),p.jsxs("div",{className:"flex flex-col gap-2 mt-3",children:[p.jsx("h3",{className:"font-bold",children:"Quick templates"}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:bce.map(([,a])=>p.jsx(pj,{compact:!0,Icon:zO,title:a.title,description:a.description,onClick:()=>o(a.id),selected:s===a.id},a.id))})]})]}),p.jsx(tf,{next:{onClick:s&&t(s),disabled:!s},prev:{onClick:e},prevLabel:"Cancel",debug:{state:n,path:r}})]})}var pj=({Icon:t,title:e,description:n,onClick:r,selected:i,compact:s=!1,disabled:o=!1})=>p.jsxs("div",{onClick:o!==!0?r:void 0,className:Qe("flex gap-3 border border-primary/10 rounded cursor-pointer",s?"flex-row p-4 items-center":"flex-col p-5",i?"bg-primary/10 border-primary/50":"hover:bg-primary/5",o&&"opacity-50"),children:[p.jsx(t,{className:"size-10"}),p.jsxs("div",{className:"flex flex-col leading-tight",children:[p.jsx("p",{className:"text-lg font-bold",children:e}),p.jsx("p",{children:n})]})]}),xce=I.Composite([I.Object({name:Wi}),jy]),wrt=I.Union([Nt(["entity","relation","media"]),I.String({pattern:"^template-"})]),vrt=I.Object({entity:Wi,name:Wi,field:I.Array(k0)});I.Object({action:wrt,initial:I.Optional(I.Any()),entities:I.Optional(I.Object({create:I.Optional(I.Array(xce))})),relations:I.Optional(I.Object({create:I.Optional(I.Array(I.Union($0)))})),fields:I.Optional(I.Object({create:I.Optional(I.Array(vrt))}))},{additionalProperties:!1});function BI({context:t,id:e,innerProps:{initialPath:n=[],initialState:r}}){let[i,s]=S.useState(n);console.log("...",n,r);function o(){t.closeModal(e)}return p.jsxs(uce,{path:i,lastBack:o,initialPath:n,initialState:r,children:[p.jsxs(Tu,{id:"select",children:[p.jsx(_u,{path:["Create New"],onClose:o}),p.jsx(xrt,{})]}),p.jsxs(Tu,{id:"entity",path:["action"],children:[p.jsx(_u,{path:["Create New","Entity"],onClose:o}),p.jsx(qnt,{})]}),p.jsxs(Tu,{id:"entity-fields",path:["action","entity"],children:[p.jsx(_u,{path:["Create New","Entity","Fields"],onClose:o}),p.jsx(lrt,{})]}),p.jsxs(Tu,{id:"relation",path:["action"],children:[p.jsx(_u,{path:["Create New","Relation"],onClose:o}),p.jsx(urt,{})]}),p.jsxs(Tu,{id:"create",path:["action"],children:[p.jsx(_u,{path:["Create New","Creation"],onClose:o}),p.jsx(Vnt,{})]}),bce.map(([a,l])=>p.jsxs(Tu,{id:l.id,path:["action"],children:[p.jsx(_u,{path:["Create New","Template",l.title],onClose:o}),p.jsx(a,{})]},l.id))]})}BI.defaultTitle=void 0;BI.modalProps={withCloseButton:!1,size:"xl",padding:0,classNames:{root:"bknd-admin"}};ve();Fl();function qI({innerProps:t}){let{data:e,...n}=t,r=Yt(e,(o,a)=>typeof o=="object"&&"label"in o?o:{label:p.jsx("span",{className:"font-mono",children:a}),value:o,expand:10,showCopy:!0,...n}),i=Object.keys(r).length;function s({value:o,label:a,...l}){return p.jsx(oo,{json:o,...l})}return p.jsx("div",{className:"bg-background",children:i>1?p.jsxs(pn,{defaultValue:Object.keys(r)[0],children:[p.jsx("div",{className:"sticky top-0 bg-background z-10",children:p.jsx(pn.List,{children:Object.entries(r).map(([o,a])=>p.jsx(pn.Tab,{value:o,children:a.label},o))})}),Object.entries(r).map(([o,a])=>p.jsx(pn.Panel,{value:o,children:s(a)},o))]}):s({...r[Object.keys(r)[0]],title:r[Object.keys(r)[0]].label})})}qI.defaultTitle=!1;qI.modalProps={withCloseButton:!1,size:"lg",classNames:{body:"!p-0"}};$t();wo();WO();function WI({context:t,id:e,innerProps:{schema:n,uiSchema:r,onSubmit:i,autoCloseAfterSubmit:s}}){let[o,a]=S.useState(!1),l=S.useRef(null),[c,u]=S.useState(!1),d=S.useRef(!1),[f,h]=S.useState();function m(O,b){let w=b();console.log("Data changed",O,w),a(w)}function g(){t.closeModal(e)}async function y(){var O,b;d.current=!0,(O=l.current)!=null&&O.validateForm()&&(u(!0),await(i==null?void 0:i((b=l.current)==null?void 0:b.formData(),{close:g,setError:h})),u(!1),s!==!1&&g())}return p.jsxs(p.Fragment,{children:[f&&p.jsx(cl.Exception,{message:f}),p.jsxs("div",{className:"pt-3 pb-3 px-3 gap-4 flex flex-col",children:[p.jsx(Ts,{tagName:"form",ref:l,schema:n,uiSchema:r,className:"legacy hide-required-mark fieldset-alternative mute-root",onChange:m,onSubmit:y}),p.jsxs("div",{className:"flex flex-row justify-end gap-2",children:[p.jsx(Ze,{onClick:g,children:"Cancel"}),p.jsx(Ze,{variant:"primary",onClick:y,disabled:!o||c,children:"Create"})]})]})]})}WI.defaultTitle="JSON Schema Form Modal";WI.modalProps={classNames:{size:"md",root:"bknd-admin",header:"!bg-primary/5 border-b border-b-muted !py-3 px-5 !h-auto !min-h-px",content:"rounded-lg select-none",title:"!font-bold !text-md",body:"!p-0"}};function zI({context:t,id:e,innerProps:n}){return p.jsxs(p.Fragment,{children:[p.jsx("span",{children:n.modalBody}),p.jsx("button",{onClick:()=>t.closeModal(e),children:"Close modal"})]})}zI.defaultTitle="Test Modal";zI.modalProps={classNames:{size:"md",root:"bknd-admin",header:"!bg-primary/5 border-b border-b-muted !py-3 px-5 !h-auto !min-h-px",content:"rounded-lg select-none",title:"font-bold !text-md",body:"py-3 px-5 gap-4 flex flex-col"}};var X0={test:zI,debug:qI,form:WI,overlay:LI,dataCreate:BI};function Srt({children:t}){return p.jsx(Int,{modals:X0,modalProps:{className:"bknd-admin"},children:t})}function krt(t,e,{title:n,...r}={}){let i=n??X0[t].defaultTitle??void 0,s=X0[t].modalProps??{},o={title:i,...r,...s,modal:t,innerProps:e};return ace(o),{close:()=>wce(t),closeAll:lce.closeAll}}function wce(t){return oce(t)}var ts={ids:Object.fromEntries(Object.keys(X0).map(t=>[t,t])),open:krt,close:wce,closeAll:lce.closeAll};Ht();Sn();Sn();Ct();Ht();Lt();Oo();function $a(t=[]){S.useLayoutEffect(()=>{let e="BKND";document.title=[e,...t].join(" / ")})}Et();Pr();function $rt({children:t}){let{app:e,config:n}=st(),r=n.auth.entity_name;return p.jsxs(p.Fragment,{children:[p.jsxs(qp,{children:[p.jsx(In,{right:p.jsx(En,{href:e.getSettingsPath(["auth"]),children:p.jsx(dt,{Icon:ZO})}),children:"Auth"}),p.jsx(nn,{initialOffset:96,children:p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsxs("nav",{className:"flex flex-col flex-1 gap-1",children:[p.jsx(di,{as:En,href:"/",children:"Overview"}),p.jsx(di,{as:En,href:e.getAbsolutePath("/data/"+Ke.data.entity.list(r)),disabled:!n.auth.enabled,children:"Users"}),p.jsx(di,{as:En,href:Ke.auth.roles.list(),disabled:!n.auth.enabled,children:"Roles & Permissions"}),p.jsx(di,{as:En,href:Ke.auth.strategies(),disabled:!0,children:"Strategies"}),p.jsx(di,{as:En,href:e.getSettingsPath(["auth"]),children:"Settings"})]})})})]}),p.jsx(UO,{children:t})]})}Vr();Ht();Ht();function Qk(){let{config:t,schema:e,actions:n}=st(),r={roles:{add:async(i,s={})=>(console.log("add role",i,s),await n.add("auth",`roles.${i}`,s)),patch:async(i,s)=>(console.log("patch role",i,s),await n.patch("auth",`roles.${i}`,s)),delete:async i=>(console.log("delete role",i),window.confirm(`Are you sure you want to delete the role "${i}"?`)?await n.remove("auth",`roles.${i}`):!1)}};return{$auth:{},config:t.auth,schema:e.auth,actions:r}}$t();WO();Et();Pr();function Crt(){var f;let{app:t}=st(),{config:{roles:e,strategies:n,entity_name:r,enabled:i}}=Qk(),s=r,o=((f=BO(h=>h.data.count(s),{enabled:i}).data)==null?void 0:f.count)??0,a=Object.keys(e??{}).length??0,l=Object.keys(n??{}).length??0,c=t.getAbsolutePath("/data/"+Ke.data.entity.list(s)),u=Ke.auth.roles.list(),d=t.getSettingsPath(["auth","strategies"]);return p.jsxs(p.Fragment,{children:[p.jsx(In,{children:"Overview"}),p.jsxs(nn,{children:[p.jsx(cl.Warning,{visible:!i,title:"Auth not enabled",message:"To use authentication features, please enable it in the settings."}),p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsxs("div",{className:"grid xs:grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-5",children:[p.jsx(mj,{title:"Users registered",value:i?o:0,actions:[{label:"View all",href:c},{label:"Add new",variant:"default",href:c}]}),p.jsx(mj,{title:"Roles",value:i?a:0,actions:[{label:"View all",href:u},{label:"Add new",variant:"default",href:u}]}),p.jsx(mj,{title:"Strategies enabled",value:i?l:0,actions:[{label:"View all",href:d},{label:"Add new",variant:"default",href:d}]})]})})]})]})}var mj=({title:t,value:e,actions:n})=>p.jsxs("div",{className:"flex flex-col border border-muted",children:[p.jsxs("div",{className:"flex flex-col gap-2 px-5 pt-3.5 pb-4 border-b border-b-muted",children:[p.jsx("div",{children:p.jsx("span",{className:"opacity-50",children:t})}),p.jsx("div",{className:"text-4xl font-medium",children:e})]}),p.jsx("div",{className:"flex flex-row gap-3 p-3 justify-between",children:n.map((r,i)=>p.jsx(zne,{size:"small",variant:"ghost",href:"#",...r,children:r.label},i))})]});ve();WO();$t();Et();Pr();function Prt(){let[t]=Cr(),{config:e,actions:n}=Qk(),r=Object.values(Yt(e.roles??{},(o,a)=>({role:a,permissions:o.permissions,is_default:o.is_default??!1,implicit_allow:o.implicit_allow??!1})));function i(o){t(Ke.auth.roles.edit(o.role))}function s(){ts.open("form",{schema:{type:"object",properties:{name:Wi},required:["name"]},uiSchema:{name:{"ui:title":"Role name"}},onSubmit:async o=>{o.name.length>0&&await n.roles.add(o.name)&&t(Ke.auth.roles.edit(o.name))}},{title:"New Role"})}return p.jsxs(p.Fragment,{children:[p.jsx(In,{right:p.jsx(Ze,{variant:"primary",onClick:s,children:"Create new"}),children:"Roles & Permissions"}),p.jsxs(nn,{children:[p.jsx(cl.Warning,{visible:!e.enabled,title:"Auth not enabled",message:"To use authentication features, please enable it in the settings."}),p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsx(Ak,{data:r,renderValue:jrt,renderHeader:Qp,onClickRow:i})})]})]})}var jrt=({value:t,property:e})=>{if(["is_default","implicit_allow"].includes(e))return t?p.jsx("span",{children:"Yes"}):p.jsx("span",{className:"opacity-50",children:"No"});if(e==="permissions"){let n=t||[],r=n.length;return r>3&&(n=[...n.slice(0,3),`+${r-3}`]),p.jsx("div",{className:"flex flex-row gap-1",children:n.map((i,s)=>p.jsx("span",{className:"inline-block px-2 py-1.5 text-sm bg-primary/5 rounded font-mono leading-none",children:i},s))})}return p.jsx(Rk,{value:t,property:e})};Ct();Ht();$t();Lt();Mn();zl();var Nrt=t=>p.jsx($r,{title:"Not Found",...t}),Ert=t=>p.jsx($r,{title:"Not Allowed",...t}),_rt=({what:t,...e})=>p.jsx($r,{Icon:jee,title:"Missing Permission",description:`You're not allowed to access ${t??"this"}.`,...e}),Kc={NotFound:Nrt,NotAllowed:Ert,MissingPermission:_rt};ni();Et();cb();Pr();bo();Kte();ve();sr();Ht();$t();var Trt=R2,Art=S.forwardRef(({role:t,debug:e},n)=>{let{permissions:r}=st(),{formState:{isValid:i},watch:s,control:o,reset:a,getValues:l}=Es({resolver:Yi(Trt),defaultValues:t});return S.useImperativeHandle(n,()=>({reset:a,getData:()=>l(),isValid:()=>i})),p.jsxs("div",{className:"flex flex-col flex-grow px-5 py-5 gap-8",children:[p.jsx("div",{className:"flex flex-col gap-2",children:p.jsx(Rrt,{control:o,permissions:r})}),p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(ut.Wrapper,{label:"Should this role be the default?",size:"md",description:"In case an user is not assigned any role, this role will be assigned by default.",children:p.jsx("div",{className:"flex flex-row",children:p.jsx(Cg,{name:"is_default",control:o,className:"mt-2"})})}),p.jsx(ut.Wrapper,{label:"Implicit allow missing permissions?",size:"md",description:"This should be only used for admins. If a permission is not explicitly denied, it will be allowed.",children:p.jsx("div",{className:"flex flex-row",children:p.jsx(Cg,{name:"implicit_allow",control:o,className:"mt-2"})})})]}),e&&p.jsxs("div",{className:"font-mono opacity-50",children:[p.jsx("div",{children:JSON.stringify(t,null,2)}),p.jsx("div",{children:JSON.stringify(s(),null,2)})]})]})}),Rrt=({control:t,permissions:e})=>{let{field:{value:n,onChange:r,...i},fieldState:s}=Gd({name:"permissions",control:t}),o=n??[];function a(c){return u=>{let d=u.target.checked?[...o,c]:o.filter(f=>f!==c);r(d)}}let l=e.reduce((c,u)=>{let[d,f]=u.split(".");return c[d]||(c[d]=[]),c[d].push(u),c},{});return console.log("grouped",l),p.jsx("div",{className:"flex flex-col gap-10",children:Object.entries(l).map(([c,u])=>p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("h3",{className:"font-semibold",children:[xs(c)," Permissions"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-3",children:u.map(d=>{let f=o.includes(d);return p.jsx("div",{className:"flex flex-col border border-muted",children:p.jsxs("div",{className:"flex flex-row gap-2 justify-between",children:[p.jsx("div",{className:"py-4 px-4 font-mono leading-none",children:d}),p.jsxs("div",{className:"flex flex-row gap-1 items-center px-2",children:[p.jsx(uo,{checked:f,onChange:a(d)}),p.jsx(Ml,{label:"Coming soon",children:p.jsx(Ze,{size:"small",variant:"ghost",disabled:!0,children:p.jsx("span",{className:"font-normal italic font-mono",children:"FX"})})})]})]})},d)})})]},c))})};function Mrt(t){let{hasSecrets:e}=st({withSecrets:!0});return e?p.jsx(Qrt,{...t}):p.jsx(Kc.MissingPermission,{what:"Roles & Permissions"})}function Qrt({params:t}){var c;let[e]=Cr(),{config:n,actions:r}=Qk(),i=t.role,s=(c=n.roles)==null?void 0:c[i],o=S.useRef(null);async function a(){var d,f,h;if(console.log("data",(d=o.current)==null?void 0:d.isValid()),!((f=o.current)!=null&&f.isValid()))return;let u=(h=o.current)==null?void 0:h.getData();await r.roles.patch(i,u)&&e(Ke.auth.roles.list())}async function l(){await r.roles.delete(i)&&e(Ke.auth.roles.list())}return p.jsxs(p.Fragment,{children:[p.jsx(In,{right:p.jsxs(p.Fragment,{children:[p.jsx(kr,{items:[{label:"Advanced Settings",onClick:()=>e(Ke.settings.path(["auth","roles",i]),{absolute:!0})},{label:"Delete",onClick:l,destructive:!0}],position:"bottom-end",children:p.jsx(dt,{Icon:Ll})}),p.jsx(Ze,{variant:"primary",onClick:a,children:"Update"})]}),className:"pl-3",children:p.jsx(sm,{path:[{label:"Roles & Permissions",href:Ke.auth.roles.list()},{label:i}]})}),p.jsx(nn,{children:p.jsx(Art,{ref:o,role:s})})]})}Ht();Pr();function Irt(){let{app:t}=st(),[e]=Cr();return S.useEffect(()=>{e(t.getSettingsPath(["auth"]))},[]),null}Ht();$t();Et();function Drt(){return st({withSecrets:!0}),p.jsx(Lrt,{})}function Lrt(){let t=st(),e=t.config.auth.strategies,n=Ei(Ks(t.schema.auth.properties.strategies,["title"]));return console.log("strategies",{config:e,schema:n}),p.jsxs(p.Fragment,{children:[p.jsx(In,{right:p.jsx(Ze,{variant:"primary",children:"Update"}),children:"Strategies"}),p.jsx(nn,{children:"strat"})]})}function Frt(){return null}function Vrt(){return p.jsxs($rt,{children:[p.jsx(Ue,{path:"/",component:Crt}),p.jsx(Ue,{path:"/users",component:Frt}),p.jsx(Ue,{path:"/roles",component:Prt}),p.jsx(Ue,{path:"/roles/edit/:role",component:Mrt}),p.jsx(Ue,{path:"/strategies",component:Drt}),p.jsx(Ue,{path:"/settings",component:Irt})]})}uQ();Oo();Ek();function Brt(){return $a(["Login"]),p.jsx(kle.Screen,{action:"login",logo:p.jsx(En,{href:"/",className:"link",children:p.jsx(cQ,{scale:.25})})})}Sn();Mn();Ct();kt();Lt();zl();ni();Oo();Et();Pr();function qrt({children:t}){let{entities:e,$data:n}=As(),r={regular:[],generated:[],system:[]},[i]=Cr(),s=window.location.href.match(/\/schema/)?"schema":"data";for(let a of Object.values(e))r[a.getType()].push(a);function o(a){var c;if(!a)return;let l=((c=window.location.href.match(/\/entity\/([^/]+)/))==null?void 0:c[1])||null;switch(a){case"data":l?i(Ke.data.entity.list(l)):i(Ke.data.root(),{absolute:!0});break;case"schema":i(l?Ke.data.schema.entity(l):Ke.data.schema.root());break}}return p.jsxs(p.Fragment,{children:[p.jsxs(qp,{children:[p.jsx(In,{right:p.jsxs(p.Fragment,{children:[p.jsx(Bd,{data:[{value:"data",label:"Data"},{value:"schema",label:"Schema"}],value:s,onChange:o}),p.jsx(Ml,{label:"New Entity",children:p.jsx(dt,{Icon:fre,onClick:n.modals.createEntity})})]}),children:"Entities"}),p.jsx(nn,{initialOffset:96,children:p.jsxs("div",{className:"flex flex-col flex-grow py-3 gap-3",children:[p.jsx(gj,{entities:r.regular,context:s,suggestCreate:!0}),p.jsx(gj,{entities:r.system,context:s,title:"System"}),p.jsx(gj,{entities:r.generated,context:s,title:"Generated"})]})})]}),p.jsx(UO,{children:t})]})}var gj=({entities:t,title:e,context:n,suggestCreate:r=!1})=>{let{$data:i}=As();return t.length===0?r?p.jsx($r,{className:"py-10",description:"Create your first entity to get started.",secondary:{children:"Create entity",onClick:()=>i.modals.createEntity()}}):null:p.jsxs("nav",{className:Qe("flex flex-col flex-1 gap-1 px-3",e&&"border-t border-primary/10 pt-2"),children:[e&&p.jsx("div",{className:"text-sm text-primary/50 ml-3.5 mb-1",children:e}),t.map(s=>{let o=n==="data"?Ke.data.entity.list(s.name):Ke.data.schema.entity(s.name);return p.jsx(Wrt,{entity:s,children:p.jsx(di,{as:En,href:o,children:s.label})},s.name)})]})},Wrt=({entity:t,children:e,enabled:n=!0})=>{if(!n)return e;let[r]=Cr(),{$data:i}=As(),s=e.props.href,o=()=>p.jsx("div",{className:"h-px my-1 w-full bg-primary/5"});return p.jsx(kr,{className:"flex flex-col w-full",dropdownWrapperProps:{className:"min-w-fit"},title:t.label+" Actions",items:[s&&{icon:See,label:"Open in tab",onClick:()=>r(s,{target:"_blank"})},o,!i.system(t.name).any&&{icon:RO,label:"Create new",onClick:()=>r(Ke.data.entity.create(t.name))},{icon:uu,label:"List entries",onClick:()=>r(Ke.data.entity.list(t.name))},o,{icon:TO,label:"Manage fields",onClick:()=>r(Ke.data.schema.entity(t.name))},{icon:AO,label:"Add relation",onClick:()=>i.modals.createRelation(t.name)},!i.system(t.name).media&&{icon:NM,label:"Add media",onClick:()=>i.modals.createMedia(t.name)},o,{icon:Ed,label:"Settings",onClick:()=>r(Ke.settings.path(["data","entities",t.name]),{absolute:!0})}],openEvent:"onContextMenu",position:"bottom-start",children:e})};function zrt(){$a(["Data"]);let[t]=Cr(),{$data:e}=As();function n(){t(Ke.data.schema.root())}return p.jsx($r,{Icon:uu,title:"No entity selected",description:"Please select an entity from the left sidebar or create a new one to continue.",secondary:{children:"Go to schema",onClick:n},primary:{children:"Create entity",onClick:e.modals.createEntity}})}ve();Ct();Vr();$t();Lt();ni();Et();cb();Pr();Sr();WS();EI();hu();hu();Ek();Gi();hu();hu();wo();function Zrt({fieldApi:t,field:e,data:n,disabled:r,...i}){function s(a){r||t.setValue(a)}let o=n==null?void 0:n[e.name];return p.jsxs(hs,{children:[p.jsx(Nk,{htmlFor:t.name,field:e}),p.jsx("div",{"data-disabled":r?1:void 0,className:"data-[disabled]:opacity-70 data-[disabled]:pointer-events-none",children:p.jsx(Ts,{schema:e.getJsonSchema(),onChange:s,direction:"horizontal",formData:o,uiSchema:{"ui:globalOptions":{flexDirection:"row"},...e.getJsonUiSchema()}})})]})}en();ve();Ct();Vr();Ht();$t();hu();Oo();Pr();Sn();en();Ct();kt();$t();ni();var Wz=()=>{let[t,e]=_S([!1,!0]);return p.jsx("button",{role:"checkbox",type:"button",className:"flex px-3 py-3",onClick:()=>e(),children:p.jsx(t?ore:hre,{size:18})})},Urt=({data:t=[],entity:e,select:n,checkable:r,onClickRow:i,onClickPage:s,onClickSort:o,total:a,sort:l,page:c=1,perPage:u=10,perPageOptions:d,onClickPerPage:f,classNames:h})=>{n=n&&n.length>0?n:e.getSelect(),a=a||t.length,c=c||1;let m=Math.max(Math.ceil(a/u),1),g=e.getFields();function y(O){return g.find(b=>b.name===O)}return p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("div",{className:"border-muted border rounded-md shadow-sm w-full max-w-full overflow-y-scroll",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"sticky top-0 bg-background",children:p.jsxs("tr",{children:[r&&p.jsx("th",{align:"center",className:"w-[40px]",children:p.jsx(Wz,{})}),n.map((O,b)=>{let w=y(O);return p.jsx("th",{children:p.jsx("div",{className:"flex flex-row py-1 px-1 font-normal text-primary/55",children:p.jsxs("button",{type:"button",className:"link hover:bg-primary/5 pl-2.5 pr-1 py-1.5 rounded-md inline-flex flex-row justify-start items-center gap-1",onClick:()=>o==null?void 0:o(w.name),children:[p.jsx("span",{className:"text-left text-nowrap whitespace-nowrap",children:w.getLabel()}),p.jsx(Xrt,{sort:l,field:w.name})]})})},b)})]})}),p.jsx("tbody",{children:t.map((O,b)=>p.jsxs("tr",{"data-border":b>0,className:"hover:bg-primary/5 active:bg-muted border-muted data-[border]:border-t cursor-pointer transition-colors",onClick:()=>i==null?void 0:i(O),children:[r&&p.jsx("td",{align:"center",children:p.jsx(Wz,{})}),Object.entries(O).map(([w,x],v)=>{var $;let k=($=y(w))==null?void 0:$.getValue(x,"table");return p.jsx("td",{children:p.jsx("div",{className:"flex flex-row items-start py-3 px-3.5 font-normal ",children:x!==null&&typeof x<"u"?p.jsx("span",{className:Qe(h==null?void 0:h.value,"line-clamp-2"),children:k}):p.jsx("span",{className:"opacity-10 font-mono",children:"null"})})},v)})]},b))})]})}),p.jsxs("div",{className:"flex flex-row items-center justify-between",children:[p.jsx("div",{className:"hidden md:flex text-primary/40",children:p.jsx(Grt,{perPage:u,page:c,items:t.length,total:a})}),p.jsxs("div",{className:"flex flex-row gap-2 md:gap-10 items-center",children:[d&&p.jsxs("div",{className:"hidden md:flex flex-row items-center gap-2 text-primary/40",children:["Per Page"," ",p.jsx(kr,{items:d.map(O=>({label:String(O),perPage:O})),position:"top-end",onClickItem:O=>f==null?void 0:f(O.perPage),children:p.jsx(Ze,{children:u})})]}),p.jsxs("div",{className:"text-primary/40",children:["Page ",c," of ",m]}),s&&p.jsx("div",{className:"flex flex-row gap-1.5",children:p.jsx(Yrt,{current:c,total:m,onClick:s})})]})]})]})},Xrt=({sort:t,field:e})=>!t||t.by!==e?p.jsx(ek,{size:18,className:"mt-[1px]"}):t.dir==="asc"?p.jsx(yQ,{size:18,className:"mt-[1px]"}):p.jsx(mQ,{size:18,className:"mt-[1px]"}),Grt=({perPage:t,page:e,items:n,total:r})=>r===0?p.jsx(p.Fragment,{children:"No rows to show"}):r===1?p.jsx(p.Fragment,{children:"Showing 1 row"}):p.jsxs(p.Fragment,{children:["Showing ",t*(e-1)+1,"-",t*(e-1)+n," of ",r," rows"]}),Yrt=({current:t,total:e,onClick:n})=>[{value:1,Icon:ure,disabled:t===1},{value:t-1,Icon:lre,disabled:t===1},{value:t+1,Icon:cre,disabled:t===e},{value:e,Icon:dre,disabled:t===e}].map((r,i)=>p.jsx("button",{role:"button",type:"button",disabled:r.disabled,className:"px-2 py-2 border-muted border rounded-md enabled:link text-lg enabled:hover:bg-primary/5 text-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{let s=r.value,o=s<1?1:s>e?e:s;n==null||n(o)},children:p.jsx(r.Icon,{})},i));function Hrt({fieldApi:t,field:e,data:n,disabled:r,tabIndex:i}){let{app:s}=st(),o=s.entity(e.target()),[a,l]=S.useState({limit:10,page:1,perPage:10});ws();let c=S.useRef(null),u=Md(e.target(),void 0,{limit:a.limit,offset:(a.page-1)*a.limit}),[d,f]=S.useState(),h=n==null?void 0:n[e.reference()],m=n==null?void 0:n[e.name];S.useEffect(()=>{let y=n==null?void 0:n[e.reference()];f(y)},[h]),S.useEffect(()=>{(async()=>{if(!e.target()||!m)return;let y=await u.api.readOne(e.target(),m);y.ok&&y.data&&f(y.data)})()},[m]),S.useEffect(()=>{var y;if(e.isRequired()&&!t.state.value){let O=(y=u.data)==null?void 0:y[0];if(!O)return;console.warn("setting first value because field is required",e.name,O.id),t.setValue(O.id),f(O)}},[u.data]);let g=u.isLoading||u.isValidating;return p.jsxs(hs,{children:[p.jsx(Nl,{htmlFor:t.name,children:e.getLabel({fallback:!1})??o.label}),p.jsx("div",{"data-disabled":g||r?1:void 0,className:"data-[disabled]:opacity-70 data-[disabled]:pointer-events-none",children:p.jsx(dce,{backdrop:!0,className:"",target:({toggle:y})=>p.jsx(Jrt,{container:u.data,entity:o,query:a,toggle:y,onClickRow:O=>{t.setValue(O.id),f(O),y()},onClickPage:O=>{console.log("setting page",O),l(b=>({...b,page:O}))}}),children:p.jsx("div",{ref:c,className:"bg-muted/40 w-full h-11 focus:bg-muted rounded-md items-center px-2.5 outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all disabled:bg-muted/50 disabled:text-primary/50 cursor-pointer active:bg-muted/80 hover:bg-muted/60 flex flex-row gap-2",tabIndex:i,onKeyDown:b9e([["Enter",()=>{var y;(y=c.current)==null||y.click()}]]),children:d?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"flex bg-primary/10 px-2 leading-none py-1.5 rounded-lg font-mono text-sm",children:xs(o.name)}),p.jsx("div",{className:"flex flex-row gap-3 overflow-clip w-1 flex-grow",children:d&&Object.entries(d).map(([y,O])=>{let b=o.getField(y);if(b.isHidden("table"))return null;let w=b.getValue(O,"table");return p.jsxs("div",{className:"flex flex-row gap-1 items-center flex-nowrap",children:[p.jsxs("span",{className:"opacity-60 text-nowrap",children:[b.getLabel(),":"]})," ",w!==null&&typeof O<"u"?p.jsx("span",{className:"text-nowrap truncate",children:w}):p.jsx("span",{className:"opacity-30 text-nowrap font-mono mt-0.5",children:"null"})]},y)})}),p.jsx(En,{to:Ke.data.entity.edit(o.name,d.id),children:p.jsx(Ze,{IconLeft:FUe,size:"small",children:"View"})})]}):p.jsx("div",{className:"pl-2",children:"- Select -"})})})}),p.jsx(El,{type:"hidden",name:t.name,id:t.name,value:t.state.value??"",onChange:console.log,tabIndex:-1})]})}var Jrt=({container:t,entity:e,query:n,toggle:r,onClickRow:i,onClickPage:s})=>{var l;function o(){var c;n.limit*n.page<((c=t.meta)==null?void 0:c.count)&&s(n.page+1)}function a(){n.page>1&&s(n.page-1)}return wM([["ArrowRight",o],["ArrowLeft",a],["Escape",r]]),p.jsx("div",{children:p.jsx(Urt,{classNames:{value:"line-clamp-1 truncate max-w-52 text-nowrap"},data:t.data??[],entity:e,total:(l=t.meta)==null?void 0:l.count,page:n.page,onClickRow:i,onClickPage:s})})};function vce({entity:t,entityId:e,handleSubmit:n,fieldsDisabled:r,Form:i,data:s,className:o,action:a}){let l=t.getFillableFields(a,!0);return console.log("data",{data:s,fields:l}),p.jsxs("form",{onSubmit:n,children:[p.jsx(i.Subscribe,{selector:c=>[c.canSubmit,c.isValid,c.errors],children:([c,u,d])=>!u&&p.jsxs("div",{className:"flex flex-col dark:bg-red-950 bg-red-100 p-4",children:[p.jsx("p",{children:"Form is invalid."}),Array.isArray(d)&&p.jsx("ul",{className:"list-disc",children:d.map((f,h)=>p.jsx("li",{className:"ml-6",children:f},h))})]})}),p.jsx("div",{className:o,children:l.map((c,u)=>{if(c instanceof ip)return p.jsx(eit,{entity:t,entityId:e,formApi:i,field:c},c.name+u);if(!c.isFillable(a))return;let d=`${t.name}-${c.name}-${u}`;return p.jsx(i.Field,{name:c.name,children:f=>p.jsx(Krt,{field:c,fieldApi:f,disabled:r,tabIndex:u+1,action:a,data:s})},d)})}),p.jsx("div",{className:"hidden",children:p.jsx("button",{type:"submit"})})]})}function Krt({fieldApi:t,field:e,action:n,data:r,...i}){let s=Wt(c=>{typeof c=="object"&&"target"in c?t.handleChange(c.target.value):t.handleChange(c)});if(e instanceof Ti)return p.jsx(Hrt,{fieldApi:t,field:e,data:r,disabled:i.disabled,tabIndex:i.tabIndex});if(e instanceof DS)return p.jsx(tit,{fieldApi:t,field:e,...i});if(e instanceof LS)return p.jsx(Zrt,{fieldApi:t,field:e,data:r,disabled:i.disabled,tabIndex:i.tabIndex,...i});if(e instanceof IS)return p.jsx(nit,{fieldApi:t,field:e,...i});let o=e.getHtmlConfig().element,a=e.getHtmlConfig().props,l=hle(o??"input",a);return p.jsxs(hs,{children:[p.jsx(Nk,{htmlFor:t.name,field:e}),p.jsx(l,{...a,name:t.name,id:t.name,value:t.state.value,onBlur:t.handleBlur,onChange:s,required:e.isRequired(),...i})]})}function eit({formApi:t,field:e,entity:n,entityId:r,disabled:i}){if(!r)return;let s=t.useStore(a=>{let l=a.values[e.name];return!l||typeof l>"u"?[]:Array.isArray(l)?l:[l]}),o=JSON.stringify([n,r,e.name,s.length]);return p.jsxs(hs,{children:[p.jsx(Nk,{field:e}),p.jsx(Do.Dropzone,{maxItems:e.getMaxItems(),initialItems:s,entity:{name:n.name,id:r,field:e.name}},o)]})}function tit({fieldApi:t,field:e,...n}){let r=Wt(i=>{t.handleChange(i)});return p.jsxs(hs,{children:[p.jsx(Nl,{htmlFor:t.name,children:e.getLabel()}),p.jsx(S.Suspense,{children:p.jsx(NI,{id:t.name,value:t.state.value,onChange:r,onBlur:t.handleBlur,minHeight:"100",...n})})]})}function nit({fieldApi:t,field:e,...n}){let r=Wt(i=>{t.handleChange(i.target.value)});return p.jsxs(hs,{children:[p.jsx(Nl,{htmlFor:t.name,children:e.getLabel()}),p.jsxs(AI,{name:t.name,id:t.name,value:t.state.value,onBlur:t.handleBlur,onChange:r,required:e.isRequired(),...n,children:[!e.isRequired()&&p.jsx("option",{value:"",children:"- Select -"}),e.getOptions().map(i=>p.jsx("option",{value:i.value,children:i.label},i.value))]})]})}function Sce({entity:t,select:e,...n}){let r=e??t.getSelect(),i=t.getFields();function s(l){return i.find(c=>c.name===l)}function o(l){try{return s(l).getLabel()}catch(c){return console.warn("Couldn't render header",{entity:t,select:e,...n},c),l}}function a({value:l,property:c}){let u=l;try{u=s(c).getValue(l,"table")}catch(d){console.warn("Couldn't render value",{value:l,property:c,entity:t,select:e,columns:r,...n},d)}return p.jsx(Rk,{value:u,property:c})}return p.jsx(Ak,{...n,columns:r,renderHeader:o,renderValue:a})}function rit(t,e){return is(t,(n,r)=>{n[r.name]=r.getValue(e==null?void 0:e[r.name],"form")??""},{})}function iit(t,e,n,r){return is(e,(i,s,o)=>{let a=r.find(u=>u.name===o);if(!a||a.isVirtual())return;let l=s===""?null:s,c=a.getValue(l,"submit")||null;(t==="create"||c!==n[o])&&(i[o]=c)},{})}function kce({action:t="update",entity:e,initialData:n,onSubmitted:r}){let i=n??{},s=e.getFillableFields(t,!0),o=rit(s,i),a=Lze({defaultValues:o,validators:{onSubmitAsync:async({value:c})=>{try{e.isValidData(c,t,{explain:!0,ignoreUnknown:!0});return}catch(u){return u.message}}},onSubmit:async({value:c,formApi:u})=>{if(!e.isValidData(c,t)){console.error("invalid data",c);return}if(!i)return;let d=iit(t,c,i,s);await(r==null?void 0:r(Object.keys(d).length===0?void 0:d))}});async function l(c){c.preventDefault(),c.stopPropagation(),a.handleSubmit()}return{Form:a,handleSubmit:l,fields:s,action:t,values:o,initialData:n}}function sit({params:t}){var w,x;let{$data:e,relations:n}=As(),r=e.entity(t.entity);if(!r)return p.jsx(Kc.NotFound,{description:`Entity "${t.entity}" doesn't exist.`});let i=Number.parseInt(t.id),[s,o]=S.useState(null),[a]=Cr();$a(["Data",r.label,`#${i}`]);let l=n.listableRelationsOf(r),c=(w=n.sourceRelationsOf(r))==null?void 0:w.map(v=>v.other(r).reference),u=Md(r.name,i,{with:c},{keepPreviousData:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});function d(){window.history.go(-1)}async function f(v){if(console.log("update:changeSet",v),!v){d();return}try{await u.update(v),s&&o(null),d()}catch(k){o(k instanceof Error?k.message:"Failed to update")}}async function h(){if(confirm("Are you sure to delete?"))try{await u._delete(),s&&o(null),d()}catch(v){o(v instanceof Error?v.message:"Failed to delete")}}let m=u.data,{Form:g,handleSubmit:y}=kce({action:"update",entity:r,initialData:(x=u.data)==null?void 0:x.toJSON(),onSubmitted:f});if(!m&&!u.isLoading)return p.jsx(Kc.NotFound,{description:`Entity "${t.entity}" with ID "${i}" doesn't exist.`});let O=(v="")=>`${r.name}_${i}_${String(v)}`,b=u.isLoading||u.isValidating||g.state.isSubmitting;return p.jsxs(S.Fragment,{children:[p.jsx(In,{right:p.jsxs(p.Fragment,{children:[p.jsx(kr,{position:"bottom-end",items:[{label:"Inspect",onClick:()=>{ts.open("debug",{data:{data:m,entity:r.toJSON(),schema:r.toSchema({clean:!0}),form:g.state.values,state:g.state}})}},{label:"Settings",onClick:()=>a(Ke.settings.path(["data","entities",r.name]),{absolute:!0})},{label:"Delete",onClick:h,destructive:!0,disabled:b}],children:p.jsx(dt,{Icon:Ll})}),p.jsx(g.Subscribe,{selector:v=>[v.canSubmit,v.isSubmitting],children:([v,k])=>p.jsx(Ze,{type:"button",onClick:g.handleSubmit,variant:"primary",tabIndex:r.fields.length+1,disabled:!v||k||b,children:"Update"})})]}),className:"pl-3",children:p.jsx(sm,{path:[{label:r.label,href:Ke.data.entity.list(r.name)},{label:`Edit #${i}`}]})}),p.jsxs(nn,{children:[s&&p.jsxs("div",{className:"flex flex-row dark:bg-red-950 bg-red-100 p-4",children:[p.jsx("b",{className:"mr-2",children:"Update failed: "})," ",s]}),p.jsx(vce,{entity:r,entityId:i,handleSubmit:y,fieldsDisabled:b,data:m??void 0,Form:g,action:"update",className:"flex flex-grow flex-col gap-3 p-3"}),l.length>0?p.jsx(oit,{id:i,entity:r,relations:l}):null]})]},O())}function oit({id:t,entity:e,relations:n}){let[r,i]=S.useState(n.length>0?n[0]:void 0);function s(o){i(o)}return n.length===0?null:p.jsxs("div",{className:"flex flex-col max-w-full",children:[p.jsx(tk,{title:"Relations",items:n.map(o=>{let a=o.other(e);return{as:"button",type:"button",label:xs(a.reference),onClick:()=>s(o),active:(r==null?void 0:r.other(e).reference)===a.reference,badge:o.type()}})}),p.jsx("div",{className:"flex flex-grow flex-col gap-3 p-3",children:p.jsx(ait,{id:t,entity:e,relation:r})})]})}function ait({id:t,entity:e,relation:n}){var u,d,f;let r=n.other(e),[i]=Cr(),s={select:r.entity.getSelect(void 0,"table"),limit:10,offset:0},o=BO(h=>h.data.readManyByReference(e.name,t,r.reference,s));function a(h){i(Ke.data.entity.edit(r.entity.name,h.id))}function l(){try{let h=n.getReferenceQuery(r.entity,t,r.reference);i(Ke.data.entity.create(r.entity.name),{query:h.where})}catch(h){console.error("handleClickNew",h)}}if(!o.data)return null;let c=o.isValidating||o.isLoading;return p.jsx("div",{"data-updating":c?1:void 0,className:"transition-opacity data-[updating]:opacity-50",children:p.jsx(Sce,{select:s.select,data:o.data??null,entity:r.entity,onClickRow:a,onClickNew:l,page:1,total:((f=(d=(u=o.data)==null?void 0:u.body)==null?void 0:d.meta)==null?void 0:f.count)??1})})}ve();Vr();$t();ve();Sn();function $ce(t,e){let n=qne(),[r,i]=ws(),s=e?eP(t,e):{};n.length>0&&(s=eP(t,kq(n)));function o(a,l){let c=eP(t,{...kq(n),[a]:l}),u=is(c,(f,h,m)=>{e&&iT(h,e[m])||(f[m]=h)},{}),d=AS(u,{encode:!1});i(r+(d.length>0?"?"+d:""))}return{value:s,set:o}}Et();cb();Pr();function lit({params:t}){let{$data:e}=As(),n=e.entity(t.entity);if(n){if(n.type!=="regular")return p.jsx(Kc.NotAllowed,{description:`Entity "${t.entity}" cannot be created.`})}else return p.jsx(Kc.NotFound,{description:`Entity "${t.entity}" doesn't exist.`});let[r,i]=S.useState(null);$a(["Data",n.label,"Create"]);let s=oQ(n.name),o=$ce(I.Object({}),{});function a(){window.history.go(-1)}async function l(f){if(console.log("create:changeSet",f),!!f)try{await s.create(f),r&&i(null),a()}catch(h){i(h instanceof Error?h.message:"Failed to create")}}let{Form:c,handleSubmit:u}=kce({action:"create",entity:n,initialData:o.value,onSubmitted:l}),d=s.isLoading||s.isValidating||c.state.isSubmitting;return p.jsxs(p.Fragment,{children:[p.jsx(In,{right:p.jsxs(p.Fragment,{children:[p.jsx(Ze,{onClick:a,children:"Cancel"}),p.jsx(c.Subscribe,{selector:f=>[f.canSubmit,f.isSubmitting],children:([f,h])=>p.jsx(Ze,{type:"button",onClick:c.handleSubmit,variant:"primary",tabIndex:n.fields.length,disabled:!f||h,children:"Create"})})]}),children:p.jsx(sm,{path:[{label:n.label,href:Ke.data.entity.list(n.name)},{label:"Create"}]})}),p.jsxs(nn,{children:[r&&p.jsxs("div",{className:"flex flex-row dark:bg-red-950 bg-red-100 p-4",children:[p.jsx("b",{className:"mr-2",children:"Create failed: "})," ",r]}),p.jsx(vce,{entity:n,handleSubmit:u,fieldsDisabled:d,data:o.value,Form:c,action:"create",className:"flex flex-grow flex-col gap-3 p-3"})]},n.name)]})}ve();Sr();Ct();Vr();Ht();$t();Lt();ni();Et();Pr();Vr();Pr();function cit(){let t=da(),{config:e}=Qk(),n=KS(),[r]=Cr();return{open:async()=>{let i=ts.open("overlay",{content:"Loading..."}),s=await t.auth.actionSchema("password","create");i.closeAll(),ts.open("form",{schema:s,uiSchema:{password:{"ui:widget":"password"}},autoCloseAfterSubmit:!1,onSubmit:async(o,a)=>{console.log("submitted:",o,a);let l=await t.auth.action("password","create",o);console.log(l),l.ok?(n(),r(Ke.data.entity.edit(e.entity_name,l.data.id)),a.close()):"error"in l?a.setError(l.error):a.setError("Unknown error")}},{title:"Create User"})}}}var uit=I.Composite([I.Pick(dc,["select","where","sort"]),I.Object({page:I.Optional(I.Number({default:1})),perPage:I.Optional(I.Number({default:10}))})],{additionalProperties:!1}),dit=[5,10,25];function fit({params:t}){var h,m;let{$data:e}=As(),n=e.entity(t.entity);if(!n)return p.jsx(Kc.NotFound,{description:`Entity "${t.entity}" doesn't exist.`});$a(["Data",(n==null?void 0:n.label)??t.entity]);let[r]=Cr(),i=$ce(uit,{select:void 0,sort:void 0}),s=BO(g=>g.data.readMany(n==null?void 0:n.name,{select:i.value.select,limit:i.value.perPage,offset:(i.value.page-1)*i.value.perPage,sort:`${i.value.sort.dir==="asc"?"":"-"}${i.value.sort.by}`}),{enabled:!!n,revalidateOnFocus:!0,keepPreviousData:!0}),o=(h=s.data)==null?void 0:h.data,a=(m=s.data)==null?void 0:m.body.meta;function l(g){n&&r(Ke.data.entity.edit(n.name,g.id))}function c(g){i.set("page",g)}function u(g){let y=i.value.sort,O={by:g,dir:y.by===g&&y.dir==="asc"?"desc":"asc"};console.log("new sort",O),i.set("sort",O)}function d(g){i.set("perPage",g)}let f=s.isLoading&&s.isValidating;return p.jsxs(S.Fragment,{children:[p.jsx(In,{right:p.jsxs(p.Fragment,{children:[p.jsx(kr,{items:[{label:"Settings",onClick:()=>r(Ke.data.schema.entity(n.name))},{label:"Data Schema",onClick:()=>r(Ke.data.schema.root())},{label:"Advanced Settings",onClick:()=>r(Ke.settings.path(["data","entities",n.name]),{absolute:!0})}],position:"bottom-end",children:p.jsx(dt,{Icon:Ll})}),p.jsx(hit,{entity:n})]}),children:n.label}),p.jsx(nn,{children:p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsx("div",{"data-updating":f?1:void 0,className:"data-[updating]:opacity-50 transition-opacity pb-10",children:p.jsx(Sce,{data:o??null,entity:n,select:i.value.select,onClickRow:l,page:i.value.page,sort:i.value.sort,onClickSort:u,perPage:i.value.perPage,perPageOptions:dit,total:a==null?void 0:a.count,onClickPage:c,onClickPerPage:d})})})},n.name)]},n.name)}function hit({entity:t}){let e=st(),n=cit(),[r]=Cr();return t?t.type!=="regular"?{users:e.app.config.auth.entity_name,media:e.app.config.media.entity_name}.users===t.name?p.jsx(Ze,{onClick:n.open,variant:"primary",children:"New User"}):null:p.jsx(Ze,{onClick:()=>{r(Ke.data.entity.create(t.name))},variant:"primary",children:"Create new"}):null}Mn();Qn();Ct();$t();Lt();zl();wo();ni();Oo();Et();cb();Pr();function pit({params:t}){let{$data:e}=As(),[n,r]=S.useState("fields");function i(a){return()=>r(a)}let[s]=Cr(),o=e.entity(t.entity);return o?p.jsxs(p.Fragment,{children:[p.jsx(In,{right:p.jsxs(p.Fragment,{children:[p.jsx(kr,{items:[{label:"Data",onClick:()=>s(Ke.data.root()+Ke.data.entity.list(o.name),{absolute:!0})},{label:"Advanced Settings",onClick:()=>s(Ke.settings.path(["data","entities",o.name]),{absolute:!0})}],position:"bottom-end",children:p.jsx(dt,{Icon:Ll})}),p.jsx(kr,{items:[{icon:OQ,label:"Add relation",onClick:()=>e.modals.createRelation(o.name)},{icon:zO,label:"Add media",onClick:()=>e.modals.createMedia(o.name)},()=>p.jsx("div",{className:"h-px my-1 w-full bg-primary/5"}),{icon:fre,label:"Create Entity",onClick:()=>e.modals.createEntity()}],position:"bottom-end",children:p.jsx(Ze,{IconRight:bQ,children:"Add"})})]}),className:"pl-3",children:p.jsxs("div",{className:"flex flex-row gap-4",children:[p.jsx(sm,{path:[{label:"Schema",href:"/"},{label:o.label}],backTo:"/"}),p.jsx(En,{to:"/",className:"invisible md:visible",children:p.jsx(Ze,{IconLeft:H2,children:"Overview"})})]})}),p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsx(mit,{entity:o,open:n==="fields",toggle:i("fields")}),p.jsx(git,{entity:o,open:n==="2",toggle:i("2")}),p.jsx(sp,{title:"Relations",open:n==="3",toggle:i("3"),ActiveIcon:AO,children:p.jsx($r,{title:"Relations",description:"This will soon be available here. Meanwhile, check advanced settings.",primary:{children:"Advanced Settings",onClick:()=>s(Ke.settings.path(["data","relations"]),{absolute:!0})}})}),p.jsx(sp,{title:"Indices",open:n==="4",toggle:i("4"),ActiveIcon:kM,children:p.jsx($r,{title:"Indices",description:"This will soon be available here. Meanwhile, check advanced settings.",primary:{children:"Advanced Settings",onClick:()=>s(Ke.settings.path(["data","indices"]),{absolute:!0})}})})]},o.name)]}):p.jsx(Kc.NotFound,{description:`Entity "${t.entity}" doesn't exist.`})}var mit=({entity:t,open:e,toggle:n})=>{let[r,i]=S.useState(!1),[s,o]=S.useState(0),{actions:a,$data:l}=As(),[c,u]=S.useState(),d=S.useRef(null);async function f(){var g;if(r)return;i(!0);let m=(g=d.current)==null?void 0:g.getData();await a.entity.patch(t.name).fields.set(m),i(!1),o(y=>y+1)}let h=Object.fromEntries(t.fields.map(m=>[m.name,m.toJSON()]));return p.jsx(sp,{title:"Fields",open:e,toggle:n,ActiveIcon:TO,renderHeaderRight:({open:m})=>m?p.jsx(Ze,{variant:"primary",disabled:!m,onClick:f,children:"Update"}):null,children:p.jsxs("div",{className:"flex flex-col flex-grow py-3 px-4 max-w-4xl gap-3 relative",children:[r&&p.jsx("div",{className:"animate-fade-in absolute w-full h-full top-0 bottom-0 left-0 right-0 bg-background/65 z-50"}),p.jsx(yce,{fields:h,ref:d,sortable:!0,additionalFieldTypes:Tk.filter(m=>["relation","media"].includes(m.type)).map(m=>({...m,onClick:()=>{switch(m.type){case"relation":l.modals.createRelation(t.name);break;case"media":l.modals.createMedia(t.name);break}}}))},String(s)),Mp()&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex flex-row gap-1 justify-center",children:[p.jsx(Ze,{size:"small",onClick:()=>{var m;return u((m=d.current)==null?void 0:m.isValid())},children:"valid"}),p.jsx(Ze,{size:"small",onClick:()=>{var m;return u((m=d.current)==null?void 0:m.getValues())},children:"values"}),p.jsx(Ze,{size:"small",onClick:()=>{var m;return u((m=d.current)==null?void 0:m.getData())},children:"data"}),p.jsx(Ze,{size:"small",onClick:f,children:"update"})]}),p.jsx("pre",{className:"select-text",children:JSON.stringify(c,null,2)})]})]})})},git=({entity:t,open:e,toggle:n})=>{var u,d,f,h;let r=As(),i=(d=(u=r.entities)==null?void 0:u[t.name])==null?void 0:d.config,s=S.useRef(null),o=Ei((h=(f=r.schema.properties.entities.additionalProperties)==null?void 0:f.properties)==null?void 0:h.config),[a,l]=mce(o,i,["fields"]);try{a.properties.sort_field.enum=t.getFields().map(m=>m.name)}catch(m){console.error("error setting sort_field enum",m)}async function c(){var m,g;console.log("update",(m=s.current)==null?void 0:m.formData()),await r.actions.entity.patch(t.name).config((g=s.current)==null?void 0:g.formData())}return p.jsx(sp,{title:"Settings",open:e,toggle:n,ActiveIcon:Ed,renderHeaderRight:({open:m})=>m?p.jsx(Ze,{variant:"primary",disabled:!m,onClick:c,children:"Update"}):null,children:p.jsx("div",{className:"flex flex-col flex-grow py-3 px-4 max-w-4xl gap-3 relative",children:p.jsx(Ts,{ref:s,schema:a,formData:l,onSubmit:console.log,className:"legacy hide-required-mark fieldset-alternative mute-root"})})})};$t();Et();var yit=S.lazy(()=>Promise.resolve().then(()=>(vtt(),qle)).then(t=>({default:t.DataSchemaCanvas})));function Oit(){let{$data:t}=As();return p.jsxs(p.Fragment,{children:[p.jsx(In,{right:p.jsx(Ze,{type:"button",variant:"primary",onClick:t.modals.createAny,children:"Create new"}),children:"Schema Overview"}),p.jsx("div",{className:"w-full h-full",children:p.jsx(S.Suspense,{children:p.jsx(yit,{})})})]})}function bit(){return p.jsx(qrt,{children:p.jsxs(fa,{children:[p.jsx(Ue,{path:"/",component:zrt}),p.jsx(Ue,{path:"/entity/:entity",component:fit}),p.jsx(Ue,{path:"/entity/:entity/create",component:lit}),p.jsx(Ue,{path:"/entity/:entity/edit/:id",component:sit}),p.jsxs(Ue,{path:"/schema",nest:!0,children:[p.jsx(Ue,{path:"/",component:Oit}),p.jsx(Ue,{path:"/entity/:entity",component:pit})]})]})})}Sn();Mn();Qn();Ct();va();Lt();zl();Oo();Et();Pr();var zz=()=>p.jsx("span",{className:"text-xs bg-primary/10 flex rounded-full px-2.5 py-1 leading-none",children:"coming soon"});function xit(t){return Mp()?p.jsx(wit,{...t}):p.jsx(vit,{})}function wit({children:t}){let{app:e}=st();return p.jsxs(p.Fragment,{children:[p.jsxs(qp,{children:[p.jsx(In,{right:p.jsx(En,{href:e.getSettingsPath(["flows"]),children:p.jsx(dt,{Icon:ZO})}),children:"Flows"}),p.jsx(nn,{initialOffset:96,children:p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsxs("nav",{className:"flex flex-col flex-1 gap-1",children:[p.jsx(di,{as:En,href:Ke.flows.flows.list(),children:"All Flows"}),p.jsxs(di,{disabled:!0,className:"justify-between",children:["Endpoints",p.jsx(zz,{})]}),p.jsxs(di,{disabled:!0,className:"justify-between",children:["Executions",p.jsx(zz,{})]}),p.jsx(di,{as:En,href:e.getSettingsPath(["flows"]),children:"Settings"})]})})})]}),p.jsx(UO,{children:t})]})}function vit(){return $a(["Flows"]),p.jsx($r,{Icon:kee,title:"Flows",description:"Flows are coming very soon!"})}ve();var Sit=0;function G0(t,e){let n=`atom${++Sit}`,r={toString(){return n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=kit,r.write=$it),e&&(r.write=e),r}function kit(t){return t(this)}function $it(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}var Zz=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,Uz=t=>"init"in t,Xz=t=>!!t.write,Y0=new WeakMap,Z_=t=>{var e;return U_(t)&&!((e=Y0.get(t))!=null&&e[1])},Cit=(t,e)=>{let n=Y0.get(t);n&&(n[1]=!0,n[0].forEach(r=>r(e)))},Pit=t=>{if(Y0.has(t))return;let e=[new Set,!1];Y0.set(t,e);let n=()=>{e[1]=!0};t.then(n,n),t.onCancel=r=>{e[0].add(r)}},U_=t=>typeof(t==null?void 0:t.then)=="function",Gz=t=>"v"in t||"e"in t,Vx=t=>{if("e"in t)throw t.e;return t.v},Cce=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},Yz=(t,e,n,r,i)=>{var s;n.d.set(r,i.n),Z_(n.v)&&Cce(e,n.v,i),(s=i.m)==null||s.t.add(e),t&&jit(t,r,e)},Fm=()=>[new Map,new Map,new Set],Hz=(t,e,n)=>{t[0].has(e)||t[0].set(e,new Set),t[1].set(e,n)},jit=(t,e,n)=>{let r=t[0].get(e);r&&r.add(n)},Nit=(t,e)=>t[0].get(e),Jz=(t,e)=>{t[2].add(e)},xf=t=>{for(;t[1].size||t[2].size;){t[0].clear();let e=new Set(t[1].values());t[1].clear();let n=new Set(t[2]);t[2].clear(),e.forEach(r=>{var i;return(i=r.m)==null?void 0:i.l.forEach(s=>s())}),n.forEach(r=>r())}},Pce=t=>{let e=(f,h,m)=>{let g="v"in h,y=h.v,O=Z_(h.v)?h.v:null;if(U_(m)){Pit(m);for(let b of h.d.keys())Cce(f,m,t(b,h));h.v=m,delete h.e}else h.v=m,delete h.e;(!g||!Object.is(y,h.v))&&(++h.n,O&&Cit(O,m))},n=(f,h,m,g)=>{var y;if(Gz(m)&&(m.m&&!(g!=null&&g.has(h))||Array.from(m.d).every(([k,$])=>n(f,k,t(k,m),g).n===$)))return m;m.d.clear();let O=!0,b=k=>{if(Zz(h,k)){let C=t(k,m);if(!Gz(C))if(Uz(k))e(k,C,k.init);else throw new Error("no atom init");return Vx(C)}let $=n(f,k,t(k,m),g);if(O)Yz(f,h,m,k,$);else{let C=Fm();Yz(C,h,m,k,$),l(C,h,m),xf(C)}return Vx($)},w,x,v={get signal(){return w||(w=new AbortController),w.signal},get setSelf(){return!x&&Xz(h)&&(x=(...k)=>{if(!O)return a(h,...k)}),x}};try{let k=h.read(b,v);if(e(h,m,k),U_(k)){(y=k.onCancel)==null||y.call(k,()=>w==null?void 0:w.abort());let $=()=>{if(m.m){let C=Fm();l(C,h,m),xf(C)}};k.then($,$)}return m}catch(k){return delete m.v,m.e=k,++m.n,m}finally{O=!1}},r=f=>Vx(n(void 0,f,t(f))),i=(f,h,m)=>{var g,y;let O=new Map;for(let b of((g=m.m)==null?void 0:g.t)||[])O.set(b,t(b,m));for(let b of m.p)O.set(b,t(b,m));return(y=Nit(f,h))==null||y.forEach(b=>{O.set(b,t(b,m))}),O},s=(f,h,m)=>{let g=[],y=new Set,O=(w,x)=>{if(!y.has(w)){y.add(w);for(let[v,k]of i(f,w,x))w!==v&&O(v,k);g.push([w,x,x.n])}};O(h,m);let b=new Set([h]);for(let w=g.length-1;w>=0;--w){let[x,v,k]=g[w],$=!1;for(let C of v.d.keys())if(C!==x&&b.has(C)){$=!0;break}$&&(n(f,x,v,y),l(f,x,v),k!==v.n&&(Hz(f,x,v),b.add(x))),y.delete(x)}},o=(f,h,m,...g)=>{let y=b=>Vx(n(f,b,t(b,m))),O=(b,...w)=>{let x=t(b,m),v;if(Zz(h,b)){if(!Uz(b))throw new Error("atom not writable");let k="v"in x,$=x.v,C=w[0];e(b,x,C),l(f,b,x),(!k||!Object.is($,x.v))&&(Hz(f,b,x),s(f,b,x))}else v=o(f,b,x,...w);return xf(f),v};return h.write(y,O,...g)},a=(f,...h)=>{let m=Fm(),g=o(m,f,t(f),...h);return xf(m),g},l=(f,h,m)=>{if(m.m&&!Z_(m.v)){for(let g of m.d.keys())m.m.d.has(g)||(c(f,g,t(g,m)).t.add(h),m.m.d.add(g));for(let g of m.m.d||[])if(!m.d.has(g)){m.m.d.delete(g);let y=u(f,g,t(g,m));y==null||y.t.delete(h)}}},c=(f,h,m)=>{if(!m.m){n(f,h,m);for(let g of m.d.keys())c(f,g,t(g,m)).t.add(h);if(m.m={l:new Set,d:new Set(m.d.keys()),t:new Set},Xz(h)&&h.onMount){let g=m.m,{onMount:y}=h;Jz(f,()=>{let O=y((...b)=>o(f,h,m,...b));O&&(g.u=O)})}}return m.m},u=(f,h,m)=>{if(m.m&&!m.m.l.size&&!Array.from(m.m.t).some(g=>{var y;return(y=t(g,m).m)==null?void 0:y.d.has(h)})){let g=m.m.u;g&&Jz(f,g),delete m.m;for(let y of m.d.keys()){let O=u(f,y,t(y,m));O==null||O.t.delete(h)}return}return m.m};return{get:r,set:a,sub:(f,h)=>{let m=Fm(),g=t(f),y=c(m,f,g);xf(m);let O=y.l;return O.add(h),()=>{O.delete(h);let b=Fm();u(b,f,g),xf(b)}},unstable_derive:f=>Pce(...f(t))}},Eit=()=>{let t=new WeakMap;return Pce(e=>{let n=t.get(e);return n||(n={d:new Map,p:new Set,n:0},t.set(e,n)),n})},yj,_it=()=>(yj||(yj=Eit()),yj),Tit=S.createContext(void 0),jce=t=>S.useContext(Tit)||_it(),Nce=t=>typeof(t==null?void 0:t.then)=="function",Ait=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},Rit=we.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(Ait(t),t)}),Oj=new WeakMap,Mit=t=>{let e=Oj.get(t);return e||(e=new Promise((n,r)=>{let i=t,s=l=>c=>{i===l&&n(c)},o=l=>c=>{i===l&&r(c)},a=l=>{"onCancel"in l&&typeof l.onCancel=="function"&&l.onCancel(c=>{Nce(c)?(Oj.set(c,e),i=c,c.then(s(c),o(c)),a(c)):n(c)})};t.then(s(t),o(t)),a(t)}),Oj.set(t,e)),e};function Ece(t,e){let n=jce(),[[r,i,s],o]=S.useReducer(c=>{let u=n.get(t);return Object.is(c[0],u)&&c[1]===n&&c[2]===t?c:[u,n,t]},void 0,()=>[n.get(t),n,t]),a=r;(i!==n||s!==t)&&(o(),a=n.get(t));let l=e==null?void 0:e.delay;if(S.useEffect(()=>{let c=n.sub(t,()=>{o()});return o(),c},[n,t,l]),S.useDebugValue(a),Nce(a)){let c=Mit(a);return Rit(c)}return a}function _ce(t,e){let n=jce();return S.useCallback((...r)=>n.set(t,...r),[n,t])}function Tce(t,e){return[Ece(t,e),_ce(t)]}var Qit=Symbol(""),bj=(t,e,n)=>(e.has(n)?e:e.set(n,t())).get(n),Iit=new WeakMap,Dit=(t,e,n,r)=>{let i=bj(()=>new WeakMap,Iit,e),s=bj(()=>new WeakMap,i,n);return bj(t,s,r)};function Lit(t,e,n=Object.is){return Dit(()=>{let r=Symbol(),i=([o,a])=>{if(a===r)return e(o);let l=e(o,a);return n(a,l)?a:l},s=G0(o=>{let a=o(s),l=o(t);return i([l,a])});return s.init=r,s},t,e,n)}var Fit=t=>typeof(t==null?void 0:t.then)=="function";function Vit(t=()=>{try{return window.localStorage}catch{return}},e){var n;let r,i,s={getItem:(l,c)=>{var u,d;let f=m=>{if(m=m||"",r!==m){try{i=JSON.parse(m,e==null?void 0:e.reviver)}catch{return c}r=m}return i},h=(d=(u=t())==null?void 0:u.getItem(l))!=null?d:null;return Fit(h)?h.then(f):f(h)},setItem:(l,c)=>{var u;return(u=t())==null?void 0:u.setItem(l,JSON.stringify(c,e==null?void 0:e.replacer))},removeItem:l=>{var c;return(c=t())==null?void 0:c.removeItem(l)}},o=l=>(c,u,d)=>l(c,f=>{let h;try{h=JSON.parse(f||"")}catch{h=d}u(h)}),a;try{a=(n=t())==null?void 0:n.subscribe}catch{}return!a&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(a=(l,c)=>{if(!(t()instanceof window.Storage))return()=>{};let u=d=>{d.storageArea===t()&&d.key===l&&c(d.newValue)};return window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}}),a&&(s.subscribe=o(a)),s}var Bit=Vit();function qit(t,e,n=Bit,r){let i=G0(e);return i.onMount=s=>{s(n.getItem(t,e));let o;return n.subscribe&&(o=n.subscribe(t,s,e)),o},G0(s=>s(i),(s,o,a)=>{let l=typeof a=="function"?a(s(i)):a;return l===Qit?(o(i,e),n.removeItem(t)):l instanceof Promise?l.then(c=>(o(i,c),n.setItem(t,c))):(o(i,l),n.setItem(t,l))})}Ct();_le();Vle();Lle();kt();_k();Ht();var ZI=G0({dirty:!1,name:void 0,flow:void 0}),Ace=S.createContext(void 0),xj={trigger:{},tasks:{},connections:{}};function Wit({children:t,name:e}){let n=_ce(ZI),r=st(),i=e?r.config.flows.flows[e]:void 0,s=r.schema.flows.properties.flows;S.useEffect(()=>{e&&n({dirty:!1,name:e,flow:i})},[e]);let o={flow:{setName:async a=>{console.log("set name",a),n(l=>({...l,name:a,dirty:!0}))}},trigger:{update:async a=>{console.log("update trigger",a),n(l=>{let c=l.flow||xj;return{...l,dirty:!0,flow:{...c,trigger:a}}})}},task:{create:async(a,l={})=>{console.log("create task",a,l),n(c=>{let u=c.flow||xj,d={...u.tasks,[a]:l};return{...c,dirty:!0,flow:{...u,tasks:d}}})},update:async(a,l)=>{console.log("update task",a,l),n(c=>{var f,h;let u=c.flow||xj,d={...(h=(f=c.flow)==null?void 0:f.tasks)==null?void 0:h[a],params:l};return{...c,dirty:!0,flow:{...u,tasks:{...u.tasks,[a]:d}}}})}}};return p.jsx(Ace.Provider,{value:{name:e,data:i,schema:s,actions:o},children:t})}function fb(){return S.useContext(Ace)}function zit(){return Ece(ZI)}function UI(t,e=iT){let n=Lit(ZI,S.useCallback(t,[]),e);return Tce(n)[0]}function Zit(t,e){let n=[{id:"trigger",data:{label:e,type:t.trigger.type},type:"trigger",dragHandle:".drag-handle",position:{x:0,y:0}}],r=1,i=Object.keys(t.tasks??{}).length;for(let[s,o]of Object.entries(t.tasks??{})){let a=r===i,l=r===1,c=a;n.push({id:`task-${s}`,data:{label:s,type:o.type,last:a,start:l,responding:c},type:"task",dragHandle:".drag-handle",position:{x:450*r+(r-1)*64,y:0}}),r++}return n}function Uit(t){var r;let e=Object.entries(t.tasks??{});if(e.length===0)return[];let n=e.length>=1?[{id:"trigger-task",source:"trigger",target:`task-${(r=e[0])==null?void 0:r[0]}`,style:{strokeWidth:2},markerEnd:{type:Gc.ArrowClosed,width:10,height:10}}]:[];for(let[i,s]of Object.entries(t.connections??{}))n.push({id:i,source:"task-"+s.source,target:"task-"+s.target,style:{strokeWidth:2},markerEnd:{type:Gc.ArrowClosed,width:10,height:10}});return n}function H0(t){let e={top:16,width:10,height:10,background:"transparent",border:"2px solid #999"},n=-10,r={target:{...e,left:n},source:{...e,right:n}};return p.jsx(jd,{...t,position:t.type==="source"?Fe.Right:Fe.Left,style:r[t.type]})}var Kz=[{type:"fetch",label:"Fetch",description:"Fetch data from a URL",template:{type:"fetch",params:{method:"GET",headers:[],url:""}}},{type:"render",label:"Render",description:"Render data using LiquidJS"}];function Xit(t){let[e,n]=S.useState(),r=Ep(),{actions:i}=fb(),s=t.id;async function o(){let a=Kz.find(c=>c.type===e),l="untitled";await i.task.create(l,a.template),r.setNodes(c=>c.map(u=>u.id===s?{...u,id:"task-"+l,type:"task",data:{...a.template,label:l}}:u)),setTimeout(()=>{r.setEdges(c=>c.map(u=>(console.log("edge?",u,s,u.target===s),u.target===s?{...u,id:"task-"+l,target:"task-"+l}:u)))},100),console.log("make",a)}return p.jsxs(fr,{className:"w-96",children:[p.jsx(H0,{type:"target",id:"select-in"}),p.jsxs(fr.Header,{className:"gap-3 justify-start py-2",children:[p.jsx("div",{className:"bg-primary/10 rounded-full w-4 h-4"}),p.jsx("div",{className:"bg-primary/5 rounded-full w-1/2 h-4"})]}),p.jsxs(fr.Content,{children:[p.jsx("div",{children:"select"}),p.jsx("div",{className:"grid grid-cols-3 gap-2",children:Kz.map(a=>p.jsx("button",{type:"button",className:Qe("border border-primary/10 rounded-md py-2 px-4 hover:bg-primary/10",e===a.type&&"bg-primary/10"),onClick:()=>n(a.type),children:a.label},a.type))}),p.jsx("button",{onClick:o,children:"make"})]})]})}ve();bo();en();Mn();ve();Xd();sr();$t();Fl();zle();Wp();Zle();Mn();Ct();kt();Lt();_k();function XI({children:t,className:e,tabs:n,Icon:r,isInvalid:i,...s}){let{data:o}=s;function a(l){s.onChangeName&&s.onChangeName(l.target.value)}return p.jsxs(fr,{className:Qe("w-96",i&&"ring-8 ring-red-500/15",e),children:[p.jsx(Yit,{Icon:r??EM,initialValue:o.label,onChange:a}),p.jsx(fr.Content,{className:"gap-3",children:t}),p.jsx(Git,{tabs:n})]})}var Git=({tabs:t})=>{var i;let[e,n]=S.useState();if(!t||(t==null?void 0:t.length)===0)return null;function r(s){return()=>{n(o=>o===s?void 0:s)}}return p.jsxs("div",{className:"border-t border-t-muted mt-1",children:[p.jsx("div",{className:"flex flex-row justify-start bg-primary/5 px-3 py-2.5 gap-3",children:t.map((s,o)=>p.jsx("button",{type:"button",onClick:r(o),className:Qe("text-sm leading-none",o===e?"font-bold opacity-80":"font-medium opacity-50"),children:s.label},s.id))}),typeof e<"u"?p.jsx("div",{className:"border-t border-t-muted",children:(i=t[e])==null?void 0:i.content()}):null]})},Yit=({Icon:t,iconProps:e,rightSection:n,initialValue:r,changable:i=!1,onChange:s})=>{let[o,a]=S.useState(r);function l(c){if(!i)return;let u=String(c.target.value);if(u.length>0&&!/^[a-zA-Z_][a-zA-Z0-9_ ]*$/.test(u)||u.length===25)return;let d=u.toLowerCase().replace(/ /g,"_").replace(/__+/g,"_");a(d),s==null||s({...c,target:{...c.target,value:d}})}return p.jsxs(fr.Header,{className:"justify-between gap-10",children:[p.jsxs("div",{className:"flex flex-row flex-grow gap-1 items-center",children:[p.jsx(t,{width:16,height:16,...e??{}}),i?p.jsx("input",{type:"text",value:o,disabled:!i,onChange:l,className:Qe("font-mono font-semibold bg-transparent rounded-lg outline-none pl-1.5 w-full hover:bg-lightest/30 transition-colors focus:bg-lightest/60")}):p.jsx("span",{className:"font-mono font-semibold bg-transparent  rounded-lg outline-none pl-1.5",children:o})]}),p.jsxs("div",{className:"flex flex-row gap-1",children:[p.jsx(dt,{Icon:sre,size:"sm"}),p.jsx(dt,{Icon:Ll,size:"sm"})]})]})},Hit=I.Composite([US.schema,I.Object({query:I.Optional(I.Record(I.String(),I.String()))})]);function Jit({onChange:t,params:e,...n}){var y;let[r,i]=_S([!0,!1]),[s,o]=S.useState("None"),{register:a,handleSubmit:l,setValue:c,getValues:u,formState:{isValid:d,errors:f},watch:h,control:m}=Es({resolver:Yi(Hit),defaultValues:e,mode:"onChange"});function g(O){console.log("submit task",O),t(O)}return p.jsx(XI,{...n,isInvalid:!d,className:"w-[400px]",Icon:TS,tabs:Kit({watch:h}),onChangeName:console.log,children:p.jsxs("form",{onBlur:l(g),className:"flex flex-col gap-3",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(gl,{className:"w-36",label:"Method",defaultValue:"GET",data:["GET","POST","PATCH","PUT","DEL"],name:"method",control:m}),p.jsx(Rt,{className:"w-full",label:"Mapping Path",placeholder:"/path/to-be/mapped",classNames:{wrapper:"font-mono pt-px"},...a("url")})]}),p.jsx(Ze,{onClick:i,className:"justify-center",size:"small",variant:"ghost",iconSize:14,IconLeft:r?jM:RO,children:"More options"}),r&&p.jsxs(p.Fragment,{children:[p.jsx(Cc,{label:"URL query",onChange:O=>c("query",O),error:(y=f.query)==null?void 0:y.message}),p.jsx(Cc,{label:"Headers"}),p.jsx("div",{className:"flex flex-row gap-2 items-center mt-2",children:p.jsxs(ut.Wrapper,{className:"w-full",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(ut.Label,{children:"Body"}),p.jsx(ng,{data:["None","Form","JSON","Code"],size:"xs",defaultValue:s,onChange:O=>o(O)})]}),s==="Form"&&p.jsx(Cc,{label:void 0}),s==="JSON"&&p.jsx(Cc,{label:void 0})]})})]})]})})}var Kit=({watch:t})=>[{id:"json",label:"JSON",content:()=>p.jsx("div",{className:"scroll-auto",children:p.jsx(oo,{json:t(),expand:2,className:"bg-white break-all"})})},{id:"test",label:"test",content:()=>p.jsx("div",{children:"test"})}];Mn();TI();function est(t){return p.jsx(XI,{...t,onChangeName:console.log,Icon:TS,className:"w-[400px]",children:p.jsx("form",{className:"flex flex-col gap-3",children:p.jsx(_I,{value:t.params.render,onChange:console.log})})})}QO(Hy);var e9={fetch:Jit,render:est},tst=t=>{let{data:{label:e,start:n,last:r,responding:i}}=t,s=UI(c=>c.flow.tasks[e]),{actions:o}=fb(),a=s.type in e9?e9[s.type]:()=>p.jsx("div",{children:"unsupported"});function l(c){o.task.update(e,c)}return p.jsxs(p.Fragment,{children:[p.jsx(a,{...t,params:s.params,onChange:l}),p.jsx(H0,{type:"target",id:`${e}-in`}),p.jsx(H0,{type:"source",id:`${e}-out`})]})};bo();ve();Xd();sr();Fl();sr();function Fy({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,label:o,size:a,description:l,error:c,...u}){let{field:{value:d,onChange:f,...h}}=Gd({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i});return p.jsxs(ut.Wrapper,{className:"relative",children:[o&&p.jsxs("div",{className:"flex flex-col",children:[p.jsx(ut.Label,{size:a,children:o}),l&&p.jsx(ut.Description,{size:a,children:l})]}),p.jsx(Bd,{value:d,onChange:m=>{f(m),s==null||s(m)},size:a,...h,...u})]})}Wp();QO(Hy);var nst=I.Object({trigger:I.Union(Object.values(Yt(YS,(t,e)=>I.Object({type:Wo(e),config:t.cls.schema},{title:String(e),additionalProperties:!1}))))}),rst=t=>{let e=UI(m=>m.flow.trigger),{actions:n}=fb(),{register:r,handleSubmit:i,setValue:s,getValues:o,formState:{isValid:a,errors:l},watch:c,control:u}=Es({resolver:Yi(nst),defaultValues:{trigger:e},mode:"onChange"}),d=c("trigger");async function f(m){console.log("submit",m.trigger),await n.trigger.update(m.trigger)}async function h(m){console.log("change name",m),await n.flow.setName(m)}return p.jsxs(XI,{...t,tabs:ost({data:d}),onChangeName:h,children:[p.jsxs("form",{onBlur:i(f),className:"flex flex-col gap-3",children:[p.jsxs("div",{className:"flex flex-row justify-between items-center",children:[p.jsx(Fy,{label:"Trigger Type",defaultValue:"manual",data:[{label:"Manual",value:"manual"},{label:"HTTP",value:"http"},{label:"Event",value:"event",disabled:!0}],name:"trigger.type",control:u}),p.jsx(Fy,{label:"Execution Mode",defaultValue:"async",data:[{label:"Async",value:"async"},{label:"Sync",value:"sync"}],name:"trigger.config.mode",control:u})]}),d.type==="manual"&&p.jsx(ist,{}),d.type==="http"&&p.jsx(sst,{form:{watch:c,register:r,setValue:s,getValues:o,control:u}})]}),p.jsx(H0,{type:"source",id:"trigger-out"})]})},ist=()=>null,sst=({form:t})=>p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(gl,{className:"w-36",label:"Method",data:["GET","POST","PATCH","PUT","DEL"],name:"trigger.config.method",control:t.control}),p.jsx(Rt,{className:"w-full",label:"Mapping Path",placeholder:"/trigger_http",classNames:{wrapper:"font-mono pt-px"},...t.register("trigger.config.path")})]}),p.jsx("div",{className:"flex flex-row gap-2 items-center",children:p.jsx(Fy,{className:"w-full",label:"Response Type",defaultValue:"json",data:[{label:"JSON",value:"json"},{label:"HTML",value:"html"},{label:"Text",value:"text"}],name:"trigger.config.response_type",control:t.control})})]}),ost=({data:t,...e})=>[{id:"json",label:"JSON",content:()=>p.jsx(oo,{json:t,expand:2,className:""})},{id:"test",label:"test",content:()=>p.jsx("div",{children:"test"})}],ast={select:Xit,trigger:rst,task:tst};Fl();Pr();function lst(t){return p.jsx(Wit,{name:t.params.flow,children:p.jsx(XR,{children:p.jsx(cst,{})})})}function cst(){let t=S.useRef(null),[e,n]=S.useState(),r=fb();if(!r.data||!r.name)return"no flow";S.useEffect(()=>{var a,l;console.log("ref",(a=t.current)==null?void 0:a.getBoundingClientRect()),n((l=t.current)==null?void 0:l.getBoundingClientRect())},[]);let i=Zit(r.data,r.name),s=Uit(r.data);console.log("nodes",i),console.log("edges",s);let o={zoom:1,x:e!=null&&e.width?e.width*.1:0,y:e!=null&&e.height?e.height/2-260/2-50:0};return p.jsx("div",{className:"flex flex-col w-full h-full",ref:t,children:e&&p.jsxs(p.Fragment,{children:[p.jsx(Ele,{externalProvider:!0,backgroundStyle:"dots",nodes:i,edges:s,nodeTypes:ast,nodeDragThreshold:0,fitView:!1,defaultViewport:o,nodesConnectable:!0,onDropNewNode:a=>({...a,type:"select",data:{label:""}}),onDropNewEdge:a=>({...a,style:{strokeWidth:2},markerEnd:{type:Gc.ArrowClosed,width:10,height:10}}),children:p.jsx(ust,{})}),p.jsx(fst,{})]})})}function ust(){let t=UI(r=>K9(r,["name","dirty"])),[e]=Cr(),{goBack:n}=n8e(()=>e(Ke.flows.flows.list()));return p.jsx(Fle,{minimap:!0,zoom:!0,children:p.jsxs(_r,{position:"top-left",className:"gap-2 pr-6",children:[p.jsx(_r.IconButton,{Icon:gQ,round:!0,onClick:n}),p.jsxs(_r.Text,{children:[t.name," ",t.dirty?"*":""]})]})})}var dst=qit("__dev_flow_debugger_tab",{tab:null}),fst=()=>{var o;let[t,e]=Tce(dst),n=fb(),r=zit();function i(a){e(l=>({...l,tab:l.tab===a?null:a}))}let s=((o=t.store)==null?void 0:o.expand)||3;return p.jsx("div",{className:"flex fixed left-5 bottom-5 z-20",children:p.jsxs(pn,{value:t.tab,onChange:i,children:[p.jsx("div",{className:"max-h-96 overflow-y-scroll bg-background/70",children:p.jsxs(pn.Panel,{value:"store",children:[p.jsxs("div",{className:"flex flex-row text-sm",children:[p.jsx(oo,{className:"max-w-96 break-all",title:"Context",json:{name:n.name,...n.data},expand:s}),p.jsx(oo,{className:"max-w-96 break-all",title:"State",json:{name:r.name,...r.flow},expand:s})]}),p.jsx(mA,{className:"w-36",defaultValue:s,min:0,max:Iee(r.flow??{}),onChange:eZ(a=>e(l=>({...l,store:{...l.store,expand:a}})),250)})]})}),p.jsx(pn.List,{children:p.jsx(pn.Tab,{value:"store",children:"Store"})})]})})};ve();ve();JM();va();function Rce(){let{config:t,app:e,actions:n}=st(),r={flow:{create:async(i,s)=>{console.log("would create",i,s);let o=rr(L2,s,{skipMark:!0,forceParse:!0});console.log("parsed",o);let a=await n.add("flows",`flows.${i}`,o);console.log("res",a)}}};return{flows:e.flows,config:t.flows,actions:r}}$t();Et();Pr();bo();en();ve();JM();sr();QO(Hy);var hst=Object.keys(D2),pst=I.Object({name:Wi,trigger:Nt(hst),mode:Nt(["async","sync"])}),mst=S.forwardRef(function(t,e){let[n,r]=S.useState([]);function i(){var s;(s=e==null?void 0:e.current)==null||s.close()}return p.jsx(Dnt,{ref:e,size:"lg",children:p.jsx(uce,{path:n,lastBack:i,children:p.jsxs(Tu,{id:"select",children:[p.jsx(_u,{path:["Create New Flow"],onClose:i}),p.jsx(gst,{})]})})})});function gst(){var h;let t=xM(),{actions:e}=Rce(),{nextStep:n,stepBack:r,state:i,setState:s}=nf(),{handleSubmit:o,watch:a,control:l,register:c,formState:{isValid:u,errors:d}}=Es({resolver:Yi(pst),defaultValues:{name:"",trigger:"manual",mode:"async"},mode:"onSubmit"});async function f(m){console.log(m,u),e.flow.create(m.name,{trigger:{type:m.trigger,config:{mode:m.mode}}})}return console.log("errors",d),p.jsxs("form",{ref:t,onSubmit:o(f),children:[p.jsxs(ef,{className:"min-h-40",children:[p.jsx("div",{children:p.jsx(Rt,{"data-autofocus":!0,label:"Flow Name",placeholder:"Enter flow name",error:(h=d.name)==null?void 0:h.message,...c("name",{required:!0})})}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsx(Fy,{label:"Trigger Type",name:"trigger",data:[{label:"Manual",value:"manual"},{label:"HTTP",value:"http"},{label:"Event",value:"event"}],control:l}),p.jsx(Fy,{label:"Execution mode",name:"mode",data:[{label:"Async",value:"async"},{label:"Sync",value:"sync"}],control:l})]}),p.jsx("pre",{children:JSON.stringify(a(),null,2)})]}),p.jsx(tf,{next:{type:"submit",disabled:!u},nextLabel:"Create",prev:{onClick:r},prevLabel:"Cancel"})]})}function yst(){let t=S.useRef(null),[e]=Cr(),{flows:n}=Rce();console.log("flows",n);let r=n.map(s=>{var o;return{flow:s.name,trigger:s.trigger.type,mode:s.trigger.config.mode,tasks:Object.keys(s.tasks).length,start_task:(o=s.startTask)==null?void 0:o.name}});function i(s){e(Ke.flows.flows.edit(s.flow))}return p.jsxs(p.Fragment,{children:[p.jsx(mst,{ref:t}),p.jsx(In,{right:p.jsx(Ze,{variant:"primary",onClick:()=>{var s;return(s=t.current)==null?void 0:s.open()},children:"Create new"}),children:"All Flows"}),p.jsx(nn,{children:p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsx(Ak,{data:r,renderValue:Ost,renderHeader:Qp,onClickRow:i})})})]})}var Ost=({value:t,property:e})=>["is_default","implicit_allow"].includes(e)?t?p.jsx("span",{children:"Yes"}):p.jsx("span",{className:"opacity-50",children:"No"}):e==="permissions"?[...t||[]].map((n,r)=>p.jsx("span",{className:"inline-block px-2 py-1.5 text-sm bg-primary/5 rounded font-mono leading-none",children:n},r)):p.jsx(Rk,{value:t,property:e});function bst(){return p.jsxs(fa,{children:[p.jsx(Ue,{path:"/flow/:flow",component:lst}),p.jsx(xit,{children:p.jsx(Ue,{path:"/",component:yst})})]})}Sn();Mn();Ct();va();Lt();zl();Oo();Ek();Et();Sn();function xst({children:t}){let{app:e,config:n}=st(),[,r]=ws();return $a(["Media"]),n.media.enabled?p.jsxs(p.Fragment,{children:[p.jsxs(qp,{children:[p.jsx(In,{right:p.jsx(En,{href:e.getSettingsPath(["media"]),children:p.jsx(dt,{Icon:ZO})}),children:"Media"}),p.jsx(nn,{initialOffset:96,children:p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsx("nav",{className:"flex flex-col flex-1 gap-1",children:p.jsx(di,{as:En,href:"/media",className:"active",children:"Main Bucket"})})})})]}),p.jsx("main",{className:"flex flex-col flex-grow",children:t})]}):p.jsx($r,{Icon:NM,title:"Media not enabled",description:"Please enable media in the settings to continue.",primary:{children:"Manage Settings",onClick:()=>r(e.getSettingsPath(["media"]))}})}function wst(){return $a(["Media"]),p.jsx(nn,{children:p.jsx("div",{className:"flex flex-1 p-3",children:p.jsx(Do.Dropzone,{})})})}function vst(){return p.jsx(xst,{children:p.jsx(Ue,{path:"/",component:wst})})}Mn();Vr();function Sst(t,e){let n=S.useRef(!1),r=S.useRef(e);S.useEffect(()=>{if(!n.current||!kst(r.current,e))return n.current=!0,r.current=e,t()},[e])}function kst(t,e){return t&&t.length===0&&e.length===0||!t&&e.length===0?!0:!t||!e||t.length!==e.length?!1:t.every((n,r)=>Object.is(n,e[r]))}zl();Et();Pr();var $st=({children:t})=>{let{verify:e,user:n}=aQ();return Sst(()=>{e()},[n==null?void 0:n.id]),p.jsxs(SQ,{children:[p.jsx(mre,{}),p.jsx(kQ,{children:t})]})};function Cst(){let[t]=Cr();return S.useEffect(()=>{t("/data")},[]),$a(),p.jsx($r,{Icon:$ee,title:"Not implemented yet",description:'Go checkout "Data" or "Media" for some action.'})}Mn();ve();Ht();zl();Oo();Et();Sn();ve();Sn();va();var Vm={jwt:{basepath:{"ui:options":{label:!1}},fields:{"ui:options":{orderable:!1}}},strategies:{additionalProperties:{"ui:widget":"select",type:{"ui:widget":"hidden"}},type:{"ui:widget":"hidden"}},roles:{"ui:options":{orderable:!1},permissions:{items:{"ui:widget":"checkboxes"},"ui:widget":"checkboxes"}}},Pst=({schema:t,config:e})=>{var a,l;let n=st(),r=Ei(t),{basepath:i}=n.app.getAdminConfig(),s=`~/${i}/settings`.replace(/\/+/g,"/");try{let c=e.entity_name??"users",u=n.config.data.entities??{};console.log("entities",u,c);let d=Object.entries(((a=u[c])==null?void 0:a.fields)??{}).map(([f,h])=>{var m;return(m=h.config)!=null&&m.virtual?void 0:f}).filter(Boolean);d.length>0&&(console.log("user_fields",d),r.properties.jwt.properties.fields.items.enum=d,r.properties.jwt.properties.fields.uniqueItems=!0,Vm.jwt.fields["ui:widget"]="checkboxes")}catch{}console.log("_s",n);let o=((l=r.properties.roles)==null?void 0:l.additionalProperties)??{type:"object"};return n.permissions&&(o.properties.permissions.items.enum=n.permissions,o.properties.permissions.uniqueItems=!0),p.jsx(Ue,{path:"/auth",nest:!0,children:p.jsxs(fa,{children:[p.jsx(Ue,{path:"/roles/:role",component:({params:{role:c}})=>{var u;return p.jsx(fi,{schema:o,uiSchema:Vm.roles,config:(u=e.roles)==null?void 0:u[c],path:["auth","roles",c],prefix:`${s}/auth/roles/${c}`})},nest:!0}),p.jsx(Ue,{path:"/strategies/:strategy",component:({params:{strategy:c}})=>{var h,m;let u=(h=e.strategies)==null?void 0:h[c],d=r.properties.strategies.additionalProperties,f=d.anyOf.find(g=>g.properties.type.const===(u==null?void 0:u.type));return p.jsx(fi,{schema:f??d,config:(m=e.strategies)==null?void 0:m[c],path:["auth","strategies",c],prefix:`${s}/auth/strategies/${c}`})},nest:!0}),p.jsx(Ue,{path:"/",component:()=>p.jsx(fi,{schema:r,uiSchema:Vm,config:e,options:{showAlert:c=>{if(!c.enabled)return"Auth is disabled. Enable it by toggling the switch below. Please also make sure set a secure secret to sign JWT tokens."},reloadOnSave:!0},properties:{strategies:{extract:!0,tableValues:c=>Object.values(Yt(c,(u,d)=>({key:d,type:u.type}))),new:{schema:r.properties.strategies.additionalProperties,uiSchema:Vm.strategies,generateKey:c=>{var u;return c.type==="password"?"password":((u=c.config.name)==null?void 0:u.toLowerCase())||""}}},roles:{extract:!0,new:{schema:o,uiSchema:Vm.roles}}},prefix:`${s}/auth`,path:["auth"]}),nest:!0})]})})};Sn();va();var jst={jwt:{basepath:{"ui:options":{label:!1}},fields:{"ui:options":{orderable:!1}}},strategies:{additionalProperties:{"ui:widget":"select",type:{"ui:widget":"hidden"}},type:{"ui:widget":"hidden"}}},Nst=({schema:t,config:e})=>{let{app:n}=st(),{basepath:r}=n.getAdminConfig(),i=`~/${r}/settings`.replace(/\/+/g,"/");function s(o,a,l){let c=Object.keys(a.tasks??{});c.length!==0&&(o.properties&&l in o.properties&&(o.properties[l].enum=c),"anyOf"in o&&o.anyOf.forEach(u=>s(u,a,l)))}return p.jsx(Ue,{path:"/flows",nest:!0,children:p.jsxs(fa,{children:[p.jsx(Ue,{path:"/flows/:flow/connections/:connection",component:({params:{flow:o,connection:a}})=>{var d,f,h,m;let l=(d=e.flows)==null?void 0:d[o],c=(m=(h=(f=e.flows)==null?void 0:f[o])==null?void 0:h.connections)==null?void 0:m[a],u=t.properties.flows.additionalProperties.properties.connections.additionalProperties;return s(u,l,"source"),s(u,l,"target"),p.jsx(fi,{schema:u,config:c,path:["flows","flows",o,"connections",a],prefix:`${i}/flows/flows/${o}/connections/${a}`})},nest:!0}),p.jsx(Ue,{path:"/flows/:flow/tasks/:task",component:({params:{flow:o,task:a}})=>{var u,d,f;let l=(f=(d=(u=e.flows)==null?void 0:u[o])==null?void 0:d.tasks)==null?void 0:f[a],c=t.properties.flows.additionalProperties.properties.tasks.additionalProperties.anyOf.find(h=>h.properties.type.const===(l==null?void 0:l.type));return p.jsx(fi,{schema:c,config:l,path:["flows","flows",o,"tasks",a],prefix:`${i}/flows/flows/${o}/tasks/${a}`,uiSchema:{params:{render:{"ui:field":"LiquidJsField"}}}})},nest:!0}),p.jsx(Ue,{path:"/flows/:flow",component:({params:{flow:o}})=>{var d;let a=(d=e.flows)==null?void 0:d[o],l=t.properties.flows.additionalProperties,c=l.properties.tasks.additionalProperties,u=l.properties.connections.additionalProperties;return s(l,a,"start_task"),s(l,a,"responding_task"),s(u,a,"source"),s(u,a,"target"),p.jsx(fi,{schema:l,config:a,path:["flows","flows",o],prefix:`${i}/flows/flows/${o}`,properties:{tasks:{extract:!0,new:{schema:c},tableValues:f=>is(f,(h,m,g)=>{h.push({name:g,type:m.type})},[])},connections:{extract:!0,new:{schema:u,generateKey:crypto.randomUUID()},tableValues:f=>is(f,(h,m,g)=>{var y;h.push({id:g,source:m.source,target:m.target,condition:(y=m.config.condition)==null?void 0:y.type})},[])}}})},nest:!0}),p.jsx(Ue,{path:"/",component:()=>p.jsx(fi,{schema:t,uiSchema:jst,config:e,properties:{flows:{extract:!0,new:{schema:t.properties.flows.additionalProperties},tableValues:o=>is(o,(a,l,c)=>{a.push({name:c,trigger:l.trigger.type,mode:l.trigger.config.mode,start_task:l.start_task,responding_task:l.responding_task})},[])}},prefix:`${i}/flows`,path:["flows"]}),nest:!0})]})})};Ht();Sn();var Est={cors:{allow_methods:{"ui:widget":"checkboxes"},allow_headers:{"ui:options":{orderable:!1}}}},_st=({schema:t,config:e})=>{let{app:n,adminOverride:r}=st(),{basepath:i}=n.getAdminConfig(),s=Ei(t),o=`~/${i}/settings`.replace(/\/+/g,"/"),a=s;return r&&(a.properties.admin.readOnly=!0),p.jsx(Ue,{path:"/server",nest:!0,children:p.jsx(Ue,{path:"/",component:()=>p.jsx(fi,{options:{showAlert:()=>{if(r)return"The admin settings are read-only as they are overriden. Remaining server configuration can be edited."}},schema:a,uiSchema:Est,config:e,prefix:`${o}/server`,path:["server"]}),nest:!0})})};function Tst(){let{version:t,schema:e}=st();$a(["Settings"]);let n=Object.keys(e).map(r=>({title:e[r].title??xs(r),key:r}));return p.jsxs(qp,{children:[p.jsx(In,{right:p.jsxs("span",{className:"font-mono",children:["v",t]}),children:"Settings"}),p.jsx(nn,{initialOffset:96,children:p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsx("nav",{className:"flex flex-col flex-1 gap-1",children:n.map((r,i)=>p.jsx(di,{as:En,href:`/${r.key}`,children:r.title},i))})})})]})}function Ast(){return st({withSecrets:!0}).hasSecrets?p.jsxs(p.Fragment,{children:[p.jsx(Tst,{}),p.jsx(UO,{children:p.jsxs(fa,{children:[p.jsx(Ue,{path:"/",component:()=>p.jsx($r,{Icon:Ed,title:"No Setting selected",description:"Please select a setting from the left sidebar."})}),p.jsx(Mst,{}),p.jsx(Ue,{path:"*",component:()=>p.jsx($r,{Icon:Ed,title:"Settings not found",description:"Check other options."})})]})})]}):p.jsx(Kc.MissingPermission,{what:"the settings"})}var Rst={server:{cors:{allow_methods:{"ui:widget":"checkboxes"},allow_headers:{"ui:options":{orderable:!1}}}},media:{adapter:{"ui:options":{label:!1}}}},Mst=()=>{let{schema:t,config:e}=st();return console.log("flows",{schema:t.flows,config:e.flows}),p.jsxs(p.Fragment,{children:[p.jsx(_st,{schema:t.server,config:e.server}),p.jsx(Knt,{schema:t.data,config:e.data}),p.jsx(Pst,{schema:t.auth,config:e.auth}),p.jsx(Qst,{module:"media",schema:t,config:e,uiSchema:Rst.media,options:{reloadOnSave:!0}}),p.jsx(Nst,{schema:t.flows,config:e.flows})]})},Qst=({module:t,schema:e,config:n,...r})=>{let{app:i}=st(),s=`~/${i.getAdminConfig()}/settings`.replace(/\/+/g,"/");return p.jsx(Ue,{path:`/${t}`,nest:!0,children:p.jsx(fa,{children:p.jsx(Ue,{path:"/",component:()=>p.jsx(fi,{...r,schema:e[t],config:n[t],prefix:`${s}/${t}`,path:[t]}),nest:!0})})})},Ist=S.lazy(()=>Promise.resolve().then(()=>(Cnt(),sce)));function Dst(){let{app:t}=st(),{color_scheme:e}=t.getAdminConfig(),{basepath:n}=t.getAdminConfig();return p.jsx("div",{id:"bknd-admin",className:(e??"light")+" antialiased",children:p.jsx(Z2,{base:n,children:p.jsxs(fa,{children:[p.jsx(Ue,{path:"/auth/login",component:Brt}),p.jsx(Ue,{path:"/",nest:!0,children:p.jsx($st,{children:p.jsxs(fa,{children:[p.jsx(Ue,{path:"/test*",nest:!0,children:p.jsx(S.Suspense,{fallback:null,children:p.jsx(Ist,{})})}),p.jsx(Ue,{path:"/",component:Cst}),p.jsx(Ue,{path:"/data",nest:!0,children:p.jsx(S.Suspense,{fallback:null,children:p.jsx(bit,{})})}),p.jsx(Ue,{path:"/flows",nest:!0,children:p.jsx(S.Suspense,{fallback:null,children:p.jsx(bst,{})})}),p.jsx(Ue,{path:"/auth",nest:!0,children:p.jsx(S.Suspense,{fallback:null,children:p.jsx(Vrt,{})})}),p.jsx(Ue,{path:"/media",nest:!0,children:p.jsx(S.Suspense,{fallback:null,children:p.jsx(vst,{})})}),p.jsx(Ue,{path:"/settings",nest:!0,children:p.jsx(S.Suspense,{fallback:null,children:p.jsx(Ast,{})})}),p.jsx(Ue,{path:"*",component:Lst})]})})})]})})})}function Lst(){return p.jsx("div",{className:"flex w-full items-center justify-center",children:p.jsxs("p",{className:"text-2xl font-mono",children:[p.jsx("span",{className:"font-bold",children:"404"}),p.jsx("span",{className:"opacity-50",children:", Sorry :)"})]})})}function Fst({baseUrl:t,withProvider:e=!1,config:n}){let r=p.jsx(J7e,{adminOverride:n,fallback:p.jsx(Bst,{theme:n==null?void 0:n.color_scheme}),children:p.jsx(Vst,{})});return e?p.jsx(Qne,{baseUrl:t,...typeof e=="object"?e:{},children:r}):r}function Vst(){let t=st().app.getAdminConfig().color_scheme;return p.jsxs(LZ,{...jnt(t??"light"),children:[p.jsx(To,{}),p.jsx(Pnt,{}),p.jsx(Srt,{children:p.jsx(Dst,{})})]})}var Bst=({theme:t})=>{var n;let e=t??((n=document.querySelector("html"))==null?void 0:n.classList.contains("light"))?"light":"dark";return p.jsx("div",{id:"bknd-admin",className:e+" antialiased",children:p.jsxs(SQ,{children:[p.jsxs("header",{"data-shell":"header",className:"flex flex-row w-full h-16 gap-2.5 border-muted border-b justify-start bg-muted/10",children:[p.jsx("div",{className:"max-h-full flex hover:bg-primary/5 link p-2.5 w-[134px] outline-none",children:p.jsx(cQ,{theme:e})}),p.jsx("nav",{className:"hidden md:flex flex-row gap-2.5 pl-0 p-2.5 items-center",children:[...new Array(5)].map((r,i)=>p.jsx(md,{as:"span",className:"active h-full opacity-50",children:p.jsx("div",{className:"w-10 h-3"})},i))}),p.jsx("nav",{className:"flex md:hidden flex-row items-center",children:p.jsx(md,{as:"span",className:"active h-full opacity-50",children:p.jsx("div",{className:"w-10 h-3"})})}),p.jsx("div",{className:"flex flex-grow"}),p.jsx("div",{className:"hidden lg:flex flex-row items-center px-4 gap-2 opacity-50",children:p.jsx("div",{className:"size-11 rounded-full bg-primary/10"})})]}),p.jsx(kQ,{children:p.jsx("div",{className:"flex flex-col w-full h-full justify-center items-center"})})]})})};function iot(){return p.jsx(Fst,{config:{basepath:"/admin",logo_return_path:"/../"}})}export{iot as default};
