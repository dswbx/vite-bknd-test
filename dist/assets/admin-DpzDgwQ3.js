var Cce=Object.defineProperty;var RD=t=>{throw TypeError(t)};var jce=(t,e,n)=>e in t?Cce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var J=(t,e,n)=>jce(t,typeof e!="symbol"?e+"":e,n),N_=(t,e,n)=>e.has(t)||RD("Cannot "+n);var V=(t,e,n)=>(N_(t,e,"read from private field"),n?n.call(t):e.get(t)),Pe=(t,e,n)=>e.has(t)?RD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Se=(t,e,n,r)=>(N_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),qe=(t,e,n)=>(N_(t,e,"access private method"),n);var MD=(t,e,n,r)=>({set _(i){Se(t,e,i,n)},get _(){return V(t,e,r)}});import{i as Ece,a as eo,s as Tce,o as Nce,b as MW,c as kN,d as PN,e as CN,f as jN,g as Ace,M as Rce,S as ID,U as DD,h as QD,j as eC,k as _g,l as eg,m as W0,n as jc,p as tC,q as IW,r as EN,t as U0,u as Mce,v as Mv,w as DW,x as Ice,y as Dce,z as Qce,A as QW,B as Fce,C as Lce,D as qce,E as Vce,F as FW,G as Bce,H as zce,I as Wce,J as Uce,K as Zce,L as Xce,N as Yce,O as Gce,P as TN,Q as Hce,R as Xn,T as Iv,V as Md,W as fs,X as LW,Y as ut,Z as qW,_ as Kce,$ as Of,a0 as Jce,a1 as VW,a2 as eue,a3 as tue,a4 as Dv,a5 as Ur,a6 as nue,a7 as rue,a8 as Qo,a9 as BW,aa as iue,ab as uo,ac as ad,ad as zW,ae as WW,af as sue,ag as NN,ah as oue,ai as UW,aj as Id,ak as aue,al as AN,am as RN,an as xn,ao as ZW,ap as vh,aq as lue,ar as Z0,as as S,at as p,au as ve,av as nC,aw as MN,ax as cue,ay as D,az as to,aA as Uy,aB as XW,aC as uue,aD as YW,aE as due,aF as GW,aG as HW,aH as KW,aI as JW,aJ as e9,aK as t9,aL as xt,aM as si,aN as Qv,aO as fue,aP as hue,aQ as n9,aR as pue,aS as r9,aT as op,aU as i9,aV as s9,aW as X0,aX as o9,aY as rC,aZ as a9,a_ as l9,a$ as mue,b0 as gue,b1 as yue}from"./index-DhOCKACa.js";var c9=t=>{const e=t.split("/");return e[0]===""&&e.shift(),e},Oue=t=>{const{groups:e,path:n}=bue(t),r=c9(n);return xue(r,e)},bue=t=>{const e=[];return t=t.replace(/\{[^}]+\}/g,(n,r)=>{const i=`@${r}`;return e.push([i,n]),i}),{groups:e,path:t}},xue=(t,e)=>{for(let n=e.length-1;n>=0;n--){const[r]=e[n];for(let i=t.length-1;i>=0;i--)if(t[i].includes(r)){t[i]=t[i].replace(r,e[n][1]);break}}return t},pb={},FD=t=>{if(t==="*")return"*";const e=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);return e?(pb[t]||(e[2]?pb[t]=[t,e[1],new RegExp("^"+e[2]+"$")]:pb[t]=[t,e[1],!0]),pb[t]):null},u9=(t,e)=>{try{return e(t)}catch{return t.replace(/(?:%[0-9A-Fa-f]{2})+/g,n=>{try{return e(n)}catch{return n}})}},vue=t=>u9(t,decodeURI),d9=t=>{const e=t.url,n=e.indexOf("/",8);let r=n;for(;r<e.length;r++){const i=e.charCodeAt(r);if(i===37){const s=e.indexOf("?",r),o=e.slice(n,s===-1?void 0:s);return vue(o.includes("%25")?o.replace(/%25/g,"%2525"):o)}else if(i===63)break}return e.slice(n,r)},wue=t=>{const e=d9(t);return e.length>1&&e[e.length-1]==="/"?e.slice(0,-1):e},sm=(...t)=>{let e="",n=!1;for(let r of t)e[e.length-1]==="/"&&(e=e.slice(0,-1),n=!0),r[0]!=="/"&&(r=`/${r}`),r==="/"&&n?e=`${e}/`:r!=="/"&&(e=`${e}${r}`),r==="/"&&e===""&&(e="/");return e},f9=t=>{if(!t.match(/\:.+\?$/))return null;const e=t.split("/"),n=[];let r="";return e.forEach(i=>{if(i!==""&&!/\:/.test(i))r+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){n.length===0&&r===""?n.push("/"):n.push(r);const s=i.replace("?","");r+="/"+s,n.push(r)}else r+="/"+i}),n.filter((i,s,o)=>o.indexOf(i)===s)},A_=t=>/[%+]/.test(t)?(t.indexOf("+")!==-1&&(t=t.replace(/\+/g," ")),t.indexOf("%")!==-1?IN(t):t):t,h9=(t,e,n)=>{let r;if(!n&&e&&!/[%+]/.test(e)){let o=t.indexOf(`?${e}`,8);for(o===-1&&(o=t.indexOf(`&${e}`,8));o!==-1;){const a=t.charCodeAt(o+e.length+1);if(a===61){const l=o+e.length+2,c=t.indexOf("&",l);return A_(t.slice(l,c===-1?void 0:c))}else if(a==38||isNaN(a))return"";o=t.indexOf(`&${e}`,o+1)}if(r=/[%+]/.test(t),!r)return}const i={};r??(r=/[%+]/.test(t));let s=t.indexOf("?",8);for(;s!==-1;){const o=t.indexOf("&",s+1);let a=t.indexOf("=",s);a>o&&o!==-1&&(a=-1);let l=t.slice(s+1,a===-1?o===-1?void 0:o:a);if(r&&(l=A_(l)),s=o,l==="")continue;let c;a===-1?c="":(c=t.slice(a+1,o===-1?void 0:o),r&&(c=A_(c))),n?(i[l]&&Array.isArray(i[l])||(i[l]=[]),i[l].push(c)):i[l]??(i[l]=c)}return e?i[e]:i},Sue=h9,_ue=(t,e)=>h9(t,e,!0),IN=decodeURIComponent,DN={name:"HMAC",hash:"SHA-256"},p9=async t=>{const e=typeof t=="string"?new TextEncoder().encode(t):t;return await crypto.subtle.importKey("raw",e,DN,!1,["sign","verify"])},$ue=async(t,e)=>{const n=await p9(e),r=await crypto.subtle.sign(DN.name,n,new TextEncoder().encode(t));return btoa(String.fromCharCode(...new Uint8Array(r)))},kue=async(t,e,n)=>{try{const r=atob(t),i=new Uint8Array(r.length);for(let s=0,o=r.length;s<o;s++)i[s]=r.charCodeAt(s);return await crypto.subtle.verify(DN,n,i,new TextEncoder().encode(e))}catch{return!1}},Pue=/^[\w!#$%&'*.^`|~+-]+$/,Cue=/^[ !#-:<-[\]-~]*$/,iC=(t,e)=>{if(e&&t.indexOf(e)===-1)return{};const n=t.trim().split(";"),r={};for(let i of n){i=i.trim();const s=i.indexOf("=");if(s===-1)continue;const o=i.substring(0,s).trim();if(e&&e!==o||!Pue.test(o))continue;let a=i.substring(s+1).trim();if(a.startsWith('"')&&a.endsWith('"')&&(a=a.slice(1,-1)),Cue.test(a)&&(r[o]=IN(a),e))break}return r},LD=async(t,e,n)=>{const r={},i=await p9(e);for(const[s,o]of Object.entries(iC(t,n))){const a=o.lastIndexOf(".");if(a<1)continue;const l=o.substring(0,a),c=o.substring(a+1);if(c.length!==44||!c.endsWith("="))continue;const u=await kue(c,l,i);r[s]=u?l:!1}return r},m9=(t,e,n={})=>{let r=`${t}=${e}`;if(t.startsWith("__Secure-")&&!n.secure)throw new Error("__Secure- Cookie must have Secure attributes");if(t.startsWith("__Host-")){if(!n.secure)throw new Error("__Host- Cookie must have Secure attributes");if(n.path!=="/")throw new Error('__Host- Cookie must have Path attributes with "/"');if(n.domain)throw new Error("__Host- Cookie must not have Domain attributes")}if(n&&typeof n.maxAge=="number"&&n.maxAge>=0){if(n.maxAge>3456e4)throw new Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");r+=`; Max-Age=${n.maxAge|0}`}if(n.domain&&n.prefix!=="host"&&(r+=`; Domain=${n.domain}`),n.path&&(r+=`; Path=${n.path}`),n.expires){if(n.expires.getTime()-Date.now()>3456e7)throw new Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");r+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite&&(r+=`; SameSite=${n.sameSite.charAt(0).toUpperCase()+n.sameSite.slice(1)}`),n.partitioned){if(!n.secure)throw new Error("Partitioned Cookie must have Secure attributes");r+="; Partitioned"}return r},R_=(t,e,n)=>(e=encodeURIComponent(e),m9(t,e,n)),M_=async(t,e,n,r={})=>{const i=await $ue(e,n);return e=`${e}.${i}`,e=encodeURIComponent(e),m9(t,e,r)},g9=(t,e,n)=>{const r=t.req.raw.headers.get("Cookie");if(typeof e=="string"){if(!r)return;let s=e;return iC(r,s)[s]}return r?iC(r):{}},y9=async(t,e,n,r)=>{const i=t.req.raw.headers.get("Cookie");if(typeof n=="string"){if(!i)return;let o=n;return(await LD(i,e,o))[o]}return i?await LD(i,e):{}},O9=(t,e,n,r)=>{let i;(r==null?void 0:r.prefix)==="secure"?i=R_("__Secure-"+e,n,{path:"/",...r,secure:!0}):(r==null?void 0:r.prefix)==="host"?i=R_("__Host-"+e,n,{...r,path:"/",secure:!0,domain:void 0}):i=R_(e,n,{path:"/",...r}),t.header("Set-Cookie",i,{append:!0})},b9=async(t,e,n,r,i)=>{let s;(i==null?void 0:i.prefix)==="secure"?s=await M_("__Secure-"+e,n,r,{path:"/",...i,secure:!0}):(i==null?void 0:i.prefix)==="host"?s=await M_("__Host-"+e,n,r,{...i,path:"/",secure:!0,domain:void 0}):s=await M_(e,n,r,{path:"/",...i}),t.header("set-cookie",s,{append:!0})},jue=(t,e,n)=>{const r=g9(t,e);return O9(t,e,"",{...n,maxAge:0}),r},sC=class extends Error{constructor(e=500,n){super(n==null?void 0:n.message,{cause:n==null?void 0:n.cause});J(this,"res");J(this,"status");this.res=n==null?void 0:n.res,this.status=e}getResponse(){return this.res?new Response(this.res.body,{status:this.status,headers:this.res.headers}):new Response(this.message,{status:this.status})}},Eue=async(t,e=Object.create(null))=>{const{all:n=!1,dot:r=!1}=e,s=(t instanceof x9?t.raw.headers:t.headers).get("Content-Type");return s!=null&&s.startsWith("multipart/form-data")||s!=null&&s.startsWith("application/x-www-form-urlencoded")?Tue(t,{all:n,dot:r}):{}};async function Tue(t,e){const n=await t.formData();return n?Nue(n,e):{}}function Nue(t,e){const n=Object.create(null);return t.forEach((r,i)=>{e.all||i.endsWith("[]")?Aue(n,i,r):n[i]=r}),e.dot&&Object.entries(n).forEach(([r,i])=>{r.includes(".")&&(Rue(n,r,i),delete n[r])}),n}var Aue=(t,e,n)=>{t[e]!==void 0?Array.isArray(t[e])?t[e].push(n):t[e]=[t[e],n]:t[e]=n},Rue=(t,e,n)=>{let r=t;const i=e.split(".");i.forEach((s,o)=>{o===i.length-1?r[s]=n:((!r[s]||typeof r[s]!="object"||Array.isArray(r[s])||r[s]instanceof File)&&(r[s]=Object.create(null)),r=r[s])})},qD=t=>u9(t,IN),ih,Ls,bl,v9,w9,oC,ac,$W,x9=($W=class{constructor(t,e="/",n=[[]]){Pe(this,bl);J(this,"raw");Pe(this,ih);Pe(this,Ls);J(this,"routeIndex",0);J(this,"path");J(this,"bodyCache",{});Pe(this,ac,t=>{const{bodyCache:e,raw:n}=this,r=e[t];if(r)return r;const i=Object.keys(e)[0];return i?e[i].then(s=>(i==="json"&&(s=JSON.stringify(s)),new Response(s)[t]())):e[t]=n[t]()});this.raw=t,this.path=e,Se(this,Ls,n),Se(this,ih,{})}param(t){return t?qe(this,bl,v9).call(this,t):qe(this,bl,w9).call(this)}query(t){return Sue(this.url,t)}queries(t){return _ue(this.url,t)}header(t){if(t)return this.raw.headers.get(t.toLowerCase())??void 0;const e={};return this.raw.headers.forEach((n,r)=>{e[r]=n}),e}async parseBody(t){var e;return(e=this.bodyCache).parsedBody??(e.parsedBody=await Eue(this,t))}json(){return V(this,ac).call(this,"json")}text(){return V(this,ac).call(this,"text")}arrayBuffer(){return V(this,ac).call(this,"arrayBuffer")}blob(){return V(this,ac).call(this,"blob")}formData(){return V(this,ac).call(this,"formData")}addValidatedData(t,e){V(this,ih)[t]=e}valid(t){return V(this,ih)[t]}get url(){return this.raw.url}get method(){return this.raw.method}get matchedRoutes(){return V(this,Ls)[0].map(([[,t]])=>t)}get routePath(){return V(this,Ls)[0].map(([[,t]])=>t)[this.routeIndex].path}},ih=new WeakMap,Ls=new WeakMap,bl=new WeakSet,v9=function(t){const e=V(this,Ls)[0][this.routeIndex][1][t],n=qe(this,bl,oC).call(this,e);return n?/\%/.test(n)?qD(n):n:void 0},w9=function(){const t={},e=Object.keys(V(this,Ls)[0][this.routeIndex][1]);for(const n of e){const r=qe(this,bl,oC).call(this,V(this,Ls)[0][this.routeIndex][1][n]);r&&typeof r=="string"&&(t[n]=/\%/.test(r)?qD(r):r)}return t},oC=function(t){return V(this,Ls)[1]?V(this,Ls)[1][t]:t},ac=new WeakMap,$W),Mue={Stringify:1,BeforeStream:2,Stream:3},S9=async(t,e,n,r,i)=>{typeof t=="object"&&!(t instanceof String)&&(t instanceof Promise||(t=t.toString()),t instanceof Promise&&(t=await t));const s=t.callbacks;return s!=null&&s.length?(i?i[0]+=t:i=[t],Promise.all(s.map(a=>a({phase:e,buffer:i,context:r}))).then(a=>Promise.all(a.filter(Boolean).map(l=>S9(l,e,!1,r,i))).then(()=>i[0]))):Promise.resolve(t)},Iue="text/plain; charset=UTF-8",I_=(t,e={})=>{for(const n of Object.keys(e))t.set(n,e[n]);return t},Iy,Dy,Qa,Xu,Fa,on,On,Mo,La,Qy,sh,oh,Fy,Ly,ni,Hi,kW,_9=(kW=class{constructor(e,n){Pe(this,ni);Pe(this,Iy);Pe(this,Dy);J(this,"env",{});Pe(this,Qa);J(this,"finalized",!1);J(this,"error");Pe(this,Xu,200);Pe(this,Fa);Pe(this,on);Pe(this,On);Pe(this,Mo);Pe(this,La,!0);Pe(this,Qy);Pe(this,sh);Pe(this,oh);Pe(this,Fy);Pe(this,Ly);J(this,"render",(...e)=>(V(this,sh)??Se(this,sh,n=>this.html(n)),V(this,sh).call(this,...e)));J(this,"setLayout",e=>Se(this,Qy,e));J(this,"getLayout",()=>V(this,Qy));J(this,"setRenderer",e=>{Se(this,sh,e)});J(this,"header",(e,n,r)=>{if(n===void 0){V(this,on)?V(this,on).delete(e):V(this,On)&&delete V(this,On)[e.toLocaleLowerCase()],this.finalized&&this.res.headers.delete(e);return}r!=null&&r.append?(V(this,on)||(Se(this,La,!1),Se(this,on,new Headers(V(this,On))),Se(this,On,{})),V(this,on).append(e,n)):V(this,on)?V(this,on).set(e,n):(V(this,On)??Se(this,On,{}),V(this,On)[e.toLowerCase()]=n),this.finalized&&(r!=null&&r.append?this.res.headers.append(e,n):this.res.headers.set(e,n))});J(this,"status",e=>{Se(this,La,!1),Se(this,Xu,e)});J(this,"set",(e,n)=>{V(this,Qa)??Se(this,Qa,new Map),V(this,Qa).set(e,n)});J(this,"get",e=>V(this,Qa)?V(this,Qa).get(e):void 0);J(this,"newResponse",(...e)=>qe(this,ni,Hi).call(this,...e));J(this,"body",(e,n,r)=>typeof n=="number"?qe(this,ni,Hi).call(this,e,n,r):qe(this,ni,Hi).call(this,e,n));J(this,"text",(e,n,r)=>{if(!V(this,On)){if(V(this,La)&&!r&&!n)return new Response(e);Se(this,On,{})}return V(this,On)["content-type"]=Iue,typeof n=="number"?qe(this,ni,Hi).call(this,e,n,r):qe(this,ni,Hi).call(this,e,n)});J(this,"json",(e,n,r)=>{const i=JSON.stringify(e);return V(this,On)??Se(this,On,{}),V(this,On)["content-type"]="application/json; charset=UTF-8",typeof n=="number"?qe(this,ni,Hi).call(this,i,n,r):qe(this,ni,Hi).call(this,i,n)});J(this,"html",(e,n,r)=>(V(this,On)??Se(this,On,{}),V(this,On)["content-type"]="text/html; charset=UTF-8",typeof e=="object"?S9(e,Mue.Stringify,!1,{}).then(i=>typeof n=="number"?qe(this,ni,Hi).call(this,i,n,r):qe(this,ni,Hi).call(this,i,n)):typeof n=="number"?qe(this,ni,Hi).call(this,e,n,r):qe(this,ni,Hi).call(this,e,n)));J(this,"redirect",(e,n)=>(V(this,on)??Se(this,on,new Headers),V(this,on).set("Location",String(e)),this.newResponse(null,n??302)));J(this,"notFound",()=>(V(this,oh)??Se(this,oh,()=>new Response),V(this,oh).call(this,this)));Se(this,Iy,e),n&&(Se(this,Fa,n.executionCtx),this.env=n.env,Se(this,oh,n.notFoundHandler),Se(this,Ly,n.path),Se(this,Fy,n.matchResult))}get req(){return V(this,Dy)??Se(this,Dy,new x9(V(this,Iy),V(this,Ly),V(this,Fy))),V(this,Dy)}get event(){if(V(this,Fa)&&"respondWith"in V(this,Fa))return V(this,Fa);throw Error("This context has no FetchEvent")}get executionCtx(){if(V(this,Fa))return V(this,Fa);throw Error("This context has no ExecutionContext")}get res(){return Se(this,La,!1),V(this,Mo)||Se(this,Mo,new Response("404 Not Found",{status:404}))}set res(e){if(Se(this,La,!1),V(this,Mo)&&e)try{for(const[n,r]of V(this,Mo).headers.entries())if(n!=="content-type")if(n==="set-cookie"){const i=V(this,Mo).headers.getSetCookie();e.headers.delete("set-cookie");for(const s of i)e.headers.append("set-cookie",s)}else e.headers.set(n,r)}catch(n){if(n instanceof TypeError&&n.message.includes("immutable")){this.res=new Response(e.body,{headers:e.headers,status:e.status});return}else throw n}Se(this,Mo,e),this.finalized=!0}get var(){return V(this,Qa)?Object.fromEntries(V(this,Qa)):{}}},Iy=new WeakMap,Dy=new WeakMap,Qa=new WeakMap,Xu=new WeakMap,Fa=new WeakMap,on=new WeakMap,On=new WeakMap,Mo=new WeakMap,La=new WeakMap,Qy=new WeakMap,sh=new WeakMap,oh=new WeakMap,Fy=new WeakMap,Ly=new WeakMap,ni=new WeakSet,Hi=function(e,n,r){if(V(this,La)&&!r&&!n&&V(this,Xu)===200)return new Response(e,{headers:V(this,On)});if(n&&typeof n!="number"){const s=new Headers(n.headers);V(this,on)&&V(this,on).forEach((a,l)=>{l==="set-cookie"?s.append(l,a):s.set(l,a)});const o=I_(s,V(this,On));return new Response(e,{headers:o,status:n.status??V(this,Xu)})}const i=typeof n=="number"?n:V(this,Xu);V(this,On)??Se(this,On,{}),V(this,on)??Se(this,on,new Headers),I_(V(this,on),V(this,On)),V(this,Mo)&&(V(this,Mo).headers.forEach((s,o)=>{var a,l;o==="set-cookie"?(a=V(this,on))==null||a.append(o,s):(l=V(this,on))==null||l.set(o,s)}),I_(V(this,on),V(this,On))),r??(r={});for(const[s,o]of Object.entries(r))if(typeof o=="string")V(this,on).set(s,o);else{V(this,on).delete(s);for(const a of o)V(this,on).append(s,a)}return new Response(e,{status:i,headers:V(this,on)})},kW),Due=/\s/;function Que(t){for(var e=t.length;e--&&Due.test(t.charAt(e)););return e}var Fue=/^\s+/;function Lue(t){return t&&t.slice(0,Que(t)+1).replace(Fue,"")}var VD=NaN,que=/^[-+]0x[0-9a-f]+$/i,Vue=/^0b[01]+$/i,Bue=/^0o[0-7]+$/i,zue=parseInt;function BD(t){if(typeof t=="number")return t;if(Ece(t))return VD;if(eo(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=eo(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Lue(t);var n=Vue.test(t);return n||Bue.test(t)?zue(t.slice(2),n?2:8):que.test(t)?VD:+t}function Wue(t,e){return Tce(Nce(t,e,MW),t+"")}function Uue(t,e,n){if(!eo(n))return!1;var r=typeof e;return(r=="number"?kN(n)&&PN(e,n.length):r=="string"&&e in n)?CN(n[e],t):!1}function Zue(t){return Wue(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&Uue(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}function $g(t,e,n){var r=t==null?void 0:jN(t,e);return r===void 0?n:r}var Xue=1,Yue=4;function Ci(t){return Ace(t,Xue|Yue)}var Gue="__lodash_hash_undefined__";function Hue(t){return this.__data__.set(t,Gue),this}function Kue(t){return this.__data__.has(t)}function Fv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Rce;++e<n;)this.add(t[e])}Fv.prototype.add=Fv.prototype.push=Hue;Fv.prototype.has=Kue;function Jue(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function ede(t,e){return t.has(e)}var tde=1,nde=2;function $9(t,e,n,r,i,s){var o=n&tde,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,h=n&nde?new Fv:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var m=t[d],g=e[d];if(r)var y=o?r(g,m,d,e,t,s):r(m,g,d,t,e,s);if(y!==void 0){if(y)continue;f=!1;break}if(h){if(!Jue(e,function(O,b){if(!ede(h,b)&&(m===O||i(m,O,n,r,s)))return h.push(b)})){f=!1;break}}else if(!(m===g||i(m,g,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}function rde(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function ide(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var sde=1,ode=2,ade="[object Boolean]",lde="[object Date]",cde="[object Error]",ude="[object Map]",dde="[object Number]",fde="[object RegExp]",hde="[object Set]",pde="[object String]",mde="[object Symbol]",gde="[object ArrayBuffer]",yde="[object DataView]",zD=ID?ID.prototype:void 0,D_=zD?zD.valueOf:void 0;function Ode(t,e,n,r,i,s,o){switch(n){case yde:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case gde:return!(t.byteLength!=e.byteLength||!s(new DD(t),new DD(e)));case ade:case lde:case dde:return CN(+t,+e);case cde:return t.name==e.name&&t.message==e.message;case fde:case pde:return t==e+"";case ude:var a=rde;case hde:var l=r&sde;if(a||(a=ide),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=ode,o.set(t,e);var u=$9(a(t),a(e),r,i,s,o);return o.delete(t),u;case mde:if(D_)return D_.call(t)==D_.call(e)}return!1}var bde=1,xde=Object.prototype,vde=xde.hasOwnProperty;function wde(t,e,n,r,i,s){var o=n&bde,a=QD(t),l=a.length,c=QD(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:vde.call(e,f)))return!1}var h=s.get(t),m=s.get(e);if(h&&m)return h==e&&m==t;var g=!0;s.set(t,e),s.set(e,t);for(var y=o;++d<l;){f=a[d];var O=t[f],b=e[f];if(r)var x=o?r(b,O,f,e,t,s):r(O,b,f,t,e,s);if(!(x===void 0?O===b||i(O,b,n,r,s):x)){g=!1;break}y||(y=f=="constructor")}if(g&&!y){var v=t.constructor,w=e.constructor;v!=w&&"constructor"in t&&"constructor"in e&&!(typeof v=="function"&&v instanceof v&&typeof w=="function"&&w instanceof w)&&(g=!1)}return s.delete(t),s.delete(e),g}var Sde=1,WD="[object Arguments]",UD="[object Array]",mb="[object Object]",_de=Object.prototype,ZD=_de.hasOwnProperty;function $de(t,e,n,r,i,s){var o=jc(t),a=jc(e),l=o?UD:eC(t),c=a?UD:eC(e);l=l==WD?mb:l,c=c==WD?mb:c;var u=l==mb,d=c==mb,f=l==c;if(f&&_g(t)){if(!_g(e))return!1;o=!0,u=!1}if(f&&!u)return s||(s=new eg),o||W0(t)?$9(t,e,n,r,i,s):Ode(t,e,l,n,r,i,s);if(!(n&Sde)){var h=u&&ZD.call(t,"__wrapped__"),m=d&&ZD.call(e,"__wrapped__");if(h||m){var g=h?t.value():t,y=m?e.value():e;return s||(s=new eg),i(g,y,n,r,s)}}return f?(s||(s=new eg),wde(t,e,n,r,i,s)):!1}function Y0(t,e,n,r,i){return t===e?!0:t==null||e==null||!tC(t)&&!tC(e)?t!==t&&e!==e:$de(t,e,n,r,Y0,i)}var kde=1,Pde=2;function Cde(t,e,n,r){var i=n.length,s=i;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var a=o[0],l=t[a],c=o[1];if(o[2]){if(l===void 0&&!(a in t))return!1}else{var u=new eg,d;if(!(d===void 0?Y0(c,l,kde|Pde,r,u):d))return!1}}return!0}function k9(t){return t===t&&!eo(t)}function jde(t){for(var e=IW(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,k9(i)]}return e}function P9(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Ede(t){var e=jde(t);return e.length==1&&e[0][2]?P9(e[0][0],e[0][1]):function(n){return n===t||Cde(n,t,e)}}function Tde(t,e){return t!=null&&e in Object(t)}function C9(t,e,n){e=EN(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=U0(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&Mce(i)&&PN(o,i)&&(jc(t)||Mv(t)))}function j9(t,e){return t!=null&&C9(t,e,Tde)}var Nde=1,Ade=2;function Rde(t,e){return DW(t)&&k9(e)?P9(U0(t),e):function(n){var r=$g(n,t);return r===void 0&&r===e?j9(n,t):Y0(e,r,Nde|Ade)}}function Mde(t){return function(e){return e==null?void 0:e[t]}}function Ide(t){return function(e){return jN(e,t)}}function Dde(t){return DW(t)?Mde(U0(t)):Ide(t)}function Qde(t){return typeof t=="function"?t:t==null?MW:typeof t=="object"?jc(t)?Rde(t[0],t[1]):Ede(t):Dde(t)}function Fde(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[++i];if(n(s[l],l,s)===!1)break}return e}}var E9=Fde();function Lde(t,e){return t&&E9(t,e,IW)}var Q_=function(){return Ice.Date.now()},qde="Expected a function",Vde=Math.max,Bde=Math.min;function zde(t,e,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(qde);e=BD(e)||0,eo(n)&&(u=!!n.leading,d="maxWait"in n,s=d?Vde(BD(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function h(_){var $=r,k=i;return r=i=void 0,c=_,o=t.apply(k,$),o}function m(_){return c=_,a=setTimeout(O,e),u?h(_):o}function g(_){var $=_-l,k=_-c,j=e-$;return d?Bde(j,s-k):j}function y(_){var $=_-l,k=_-c;return l===void 0||$>=e||$<0||d&&k>=s}function O(){var _=Q_();if(y(_))return b(_);a=setTimeout(O,g(_))}function b(_){return a=void 0,f&&r?h(_):(r=i=void 0,o)}function x(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function v(){return a===void 0?o:b(Q_())}function w(){var _=Q_(),$=y(_);if(r=arguments,i=this,l=_,$){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(O,e),h(l)}return a===void 0&&(a=setTimeout(O,e)),o}return w.cancel=x,w.flush=v,w}function aC(t,e,n){(n!==void 0&&!CN(t[e],n)||n===void 0&&!(e in t))&&Dce(t,e,n)}function Wde(t){return tC(t)&&kN(t)}function lC(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Ude(t){return Qce(t,QW(t))}function Zde(t,e,n,r,i,s,o){var a=lC(t,n),l=lC(e,n),c=o.get(l);if(c){aC(t,n,c);return}var u=s?s(a,l,n+"",t,e,o):void 0,d=u===void 0;if(d){var f=jc(l),h=!f&&_g(l),m=!f&&!h&&W0(l);u=l,f||h||m?jc(a)?u=a:Wde(a)?u=Fce(a):h?(d=!1,u=Lce(l,!0)):m?(d=!1,u=qce(l,!0)):u=[]:Vce(l)||Mv(l)?(u=a,Mv(a)?u=Ude(a):(!eo(a)||FW(a))&&(u=Bce(l))):d=!1}d&&(o.set(l,u),i(u,l,r,s,o),o.delete(l)),aC(t,n,u)}function T9(t,e,n,r,i){t!==e&&E9(e,function(s,o){if(i||(i=new eg),eo(s))Zde(t,e,o,n,T9,r,i);else{var a=r?r(lC(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),aC(t,o,a)}},QW)}var N9=Zue(function(t,e,n,r){T9(t,e,n,r)}),Xde=Object.prototype,Yde=Xde.hasOwnProperty;function Gde(t,e){return t!=null&&Yde.call(t,e)}function F_(t,e){return t!=null&&C9(t,e,Gde)}var Hde="[object Map]",Kde="[object Set]",Jde=Object.prototype,efe=Jde.hasOwnProperty;function tfe(t){if(t==null)return!0;if(kN(t)&&(jc(t)||typeof t=="string"||typeof t.splice=="function"||_g(t)||W0(t)||Mv(t)))return!t.length;var e=eC(t);if(e==Hde||e==Kde)return!t.size;if(zce(t))return!Wce(t).length;for(var n in t)if(efe.call(t,n))return!1;return!0}function QN(t,e){return Y0(t,e)}function A9(t,e,n,r){if(!eo(t))return t;e=EN(e,t);for(var i=-1,s=e.length,o=s-1,a=t;a!=null&&++i<s;){var l=U0(e[i]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var u=a[l];c=void 0,c===void 0&&(c=eo(u)?u:PN(e[i+1])?[]:{})}Uce(a,l,c),a=a[l]}return t}function nfe(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=jN(t,o);n(a,o)&&A9(s,EN(o,t),a)}return s}function rfe(t,e){return nfe(t,e,function(n,r){return j9(t,r)})}var R9=Zce(function(t,e){return t==null?{}:rfe(t,e)});function Qm(t,e,n){return t==null?t:A9(t,e,n)}var ife="Expected a function";function M9(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(ife);return eo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),zde(t,e,{leading:r,maxWait:e,trailing:i})}function ns(t,e,n){var r=jc(t),i=r||_g(t)||W0(t);if(e=Qde(e),n==null){var s=t&&t.constructor;i?n=r?new s:[]:eo(t)?n=FW(s)?Xce(Yce(t)):{}:n={}}return(i?Gce:Lde)(t,function(o,a,l){return e(n,o,a,l)}),n}function I9(t){const e=TN(t),n=Hce(t,e);return e.map((r,i)=>[e[i],n[i]])}class sfe extends Md{constructor(e){super("Unknown type"),this.schema=e}}function ofe(t){return t[Xn]==="Any"||t[Xn]==="Unknown"}function at(t){return t!==void 0}function afe(t,e,n){return!0}function lfe(t,e,n){if(!fs(n)||at(t.minItems)&&!(n.length>=t.minItems)||at(t.maxItems)&&!(n.length<=t.maxItems)||!n.every(s=>yr(t.items,e,s))||t.uniqueItems===!0&&!function(){const s=new Set;for(const o of n){const a=LW(o);if(s.has(a))return!1;s.add(a)}return!0}())return!1;if(!(at(t.contains)||ut(t.minContains)||ut(t.maxContains)))return!0;const r=at(t.contains)?t.contains:qW(),i=n.reduce((s,o)=>yr(r,e,o)?s+1:s,0);return!(i===0||ut(t.minContains)&&i<t.minContains||ut(t.maxContains)&&i>t.maxContains)}function cfe(t,e,n){return Kce(n)}function ufe(t,e,n){return!(!Of(n)||at(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)||at(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)||at(t.maximum)&&!(n<=t.maximum)||at(t.minimum)&&!(n>=t.minimum)||at(t.multipleOf)&&n%t.multipleOf!==BigInt(0))}function dfe(t,e,n){return Jce(n)}function ffe(t,e,n){return yr(t.returns,e,n.prototype)}function hfe(t,e,n){return!(!VW(n)||at(t.exclusiveMaximumTimestamp)&&!(n.getTime()<t.exclusiveMaximumTimestamp)||at(t.exclusiveMinimumTimestamp)&&!(n.getTime()>t.exclusiveMinimumTimestamp)||at(t.maximumTimestamp)&&!(n.getTime()<=t.maximumTimestamp)||at(t.minimumTimestamp)&&!(n.getTime()>=t.minimumTimestamp)||at(t.multipleOfTimestamp)&&n.getTime()%t.multipleOfTimestamp!==0)}function pfe(t,e,n){return eue(n)}function mfe(t,e,n){return!(!tue(n)||at(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)||at(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)||at(t.maximum)&&!(n<=t.maximum)||at(t.minimum)&&!(n>=t.minimum)||at(t.multipleOf)&&n%t.multipleOf!==0)}function gfe(t,e,n){const r=t.allOf.every(i=>yr(i,e,n));if(t.unevaluatedProperties===!1){const i=new RegExp(Dv(t)),s=Object.getOwnPropertyNames(n).every(o=>i.test(o));return r&&s}else if(Ur(t.unevaluatedProperties)){const i=new RegExp(Dv(t)),s=Object.getOwnPropertyNames(n).every(o=>i.test(o)||yr(t.unevaluatedProperties,e,n[o]));return r&&s}else return r}function yfe(t,e,n){return nue(n)}function Ofe(t,e,n){return n===t.const}function bfe(t,e,n){return!1}function xfe(t,e,n){return!yr(t.not,e,n)}function vfe(t,e,n){return rue(n)}function wfe(t,e,n){return!(!Qo.IsNumberLike(n)||at(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)||at(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)||at(t.minimum)&&!(n>=t.minimum)||at(t.maximum)&&!(n<=t.maximum)||at(t.multipleOf)&&n%t.multipleOf!==0)}function Sfe(t,e,n){if(!Qo.IsObjectLike(n)||at(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)||at(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties))return!1;const r=Object.getOwnPropertyNames(t.properties);for(const i of r){const s=t.properties[i];if(t.required&&t.required.includes(i)){if(!yr(s,e,n[i])||(BW(s)||ofe(s))&&!(i in n))return!1}else if(Qo.IsExactOptionalProperty(n,i)&&!yr(s,e,n[i]))return!1}if(t.additionalProperties===!1){const i=Object.getOwnPropertyNames(n);return t.required&&t.required.length===r.length&&i.length===r.length?!0:i.every(s=>r.includes(s))}else return typeof t.additionalProperties=="object"?Object.getOwnPropertyNames(n).every(s=>r.includes(s)||yr(t.additionalProperties,e,n[s])):!0}function _fe(t,e,n){return iue(n)}function $fe(t,e,n){if(!Qo.IsRecordLike(n)||at(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)||at(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties))return!1;const[r,i]=Object.entries(t.patternProperties)[0],s=new RegExp(r),o=Object.entries(n).every(([c,u])=>s.test(c)?yr(i,e,u):!0),a=typeof t.additionalProperties=="object"?Object.entries(n).every(([c,u])=>s.test(c)?!0:yr(t.additionalProperties,e,u)):!0,l=t.additionalProperties===!1?Object.getOwnPropertyNames(n).every(c=>s.test(c)):!0;return o&&a&&l}function kfe(t,e,n){return yr(uo(t,e),e,n)}function Pfe(t,e,n){const r=new RegExp(t.source,t.flags);return at(t.minLength)&&!(n.length>=t.minLength)||at(t.maxLength)&&!(n.length<=t.maxLength)?!1:r.test(n)}function Cfe(t,e,n){return!ad(n)||at(t.minLength)&&!(n.length>=t.minLength)||at(t.maxLength)&&!(n.length<=t.maxLength)||at(t.pattern)&&!new RegExp(t.pattern).test(n)?!1:at(t.format)?zW(t.format)?WW(t.format)(n):!1:!0}function jfe(t,e,n){return sue(n)}function Efe(t,e,n){return ad(n)&&new RegExp(t.pattern).test(n)}function Tfe(t,e,n){return yr(uo(t,e),e,n)}function Nfe(t,e,n){if(!fs(n)||t.items===void 0&&n.length!==0||n.length!==t.maxItems)return!1;if(!t.items)return!0;for(let r=0;r<t.items.length;r++)if(!yr(t.items[r],e,n[r]))return!1;return!0}function Afe(t,e,n){return NN(n)}function Rfe(t,e,n){return t.anyOf.some(r=>yr(r,e,n))}function Mfe(t,e,n){return!(!oue(n)||at(t.maxByteLength)&&!(n.length<=t.maxByteLength)||at(t.minByteLength)&&!(n.length>=t.minByteLength))}function Ife(t,e,n){return!0}function Dfe(t,e,n){return Qo.IsVoidLike(n)}function Qfe(t,e,n){return Iv(t[Xn])?UW(t[Xn])(t,n):!1}function yr(t,e,n){const r=at(t.$id)?[...e,t]:e,i=t;switch(i[Xn]){case"Any":return afe();case"Array":return lfe(i,r,n);case"AsyncIterator":return cfe(i,r,n);case"BigInt":return ufe(i,r,n);case"Boolean":return dfe(i,r,n);case"Constructor":return ffe(i,r,n);case"Date":return hfe(i,r,n);case"Function":return pfe(i,r,n);case"Integer":return mfe(i,r,n);case"Intersect":return gfe(i,r,n);case"Iterator":return yfe(i,r,n);case"Literal":return Ofe(i,r,n);case"Never":return bfe();case"Not":return xfe(i,r,n);case"Null":return vfe(i,r,n);case"Number":return wfe(i,r,n);case"Object":return Sfe(i,r,n);case"Promise":return _fe(i,r,n);case"Record":return $fe(i,r,n);case"Ref":return kfe(i,r,n);case"RegExp":return Pfe(i,r,n);case"String":return Cfe(i,r,n);case"Symbol":return jfe(i,r,n);case"TemplateLiteral":return Efe(i,r,n);case"This":return Tfe(i,r,n);case"Tuple":return Nfe(i,r,n);case"Undefined":return Afe(i,r,n);case"Union":return Rfe(i,r,n);case"Uint8Array":return Mfe(i,r,n);case"Unknown":return Ife();case"Void":return Dfe(i,r,n);default:if(!Iv(i[Xn]))throw new sfe(i);return Qfe(i,r,n)}}function ll(...t){return t.length===3?yr(t[0],t[1],t[2]):yr(t[0],[],t[1])}function Ffe(t){const e={};for(const n of Object.getOwnPropertyNames(t))e[n]=Lv(t[n]);for(const n of Object.getOwnPropertySymbols(t))e[n]=Lv(t[n]);return e}function Lfe(t){return t.map(e=>Lv(e))}function qfe(t){return t.slice()}function Vfe(t){return new Date(t.toISOString())}function Lv(t){if(fs(t))return Lfe(t);if(VW(t))return Vfe(t);if(Id(t))return Ffe(t);if(aue(t))return qfe(t);if(AN(t))return t;throw new Error("ValueClone: Unable to clone value")}function Gc(t,e){return e===void 0&&"default"in t?Lv(t.default):e}function Bfe(t){return Ur(t)&&t[Xn]!=="Unsafe"}function qv(t){return Ur(t)&&"default"in t}function zfe(t,e,n){const r=Gc(t,n);if(!fs(r))return r;for(let i=0;i<r.length;i++)r[i]=hs(t.items,e,r[i]);return r}function Wfe(t,e,n){const r=Gc(t,n);return t.allOf.reduce((i,s)=>{const o=hs(s,e,r);return RN(o)?{...i,...o}:o},{})}function Ufe(t,e,n){const r=Gc(t,n);if(!RN(r))return r;const i=t.additionalProperties,s=Object.getOwnPropertyNames(t.properties);for(const o of s)qv(t.properties[o])&&(r[o]=hs(t.properties[o],e,r[o]));if(!qv(i))return r;for(const o of Object.getOwnPropertyNames(r))s.includes(o)||(r[o]=hs(i,e,r[o]));return r}function Zfe(t,e,n){const r=Gc(t,n);if(!RN(r))return r;const i=t.additionalProperties,[s,o]=Object.entries(t.patternProperties)[0],a=new RegExp(s);for(const l of Object.getOwnPropertyNames(r))a.test(l)&&qv(o)&&(r[l]=hs(o,e,r[l]));if(!qv(i))return r;for(const l of Object.getOwnPropertyNames(r))a.test(l)||(r[l]=hs(i,e,r[l]));return r}function Xfe(t,e,n){return hs(uo(t,e),e,Gc(t,n))}function Yfe(t,e,n){return hs(uo(t,e),e,n)}function Gfe(t,e,n){const r=Gc(t,n);if(!fs(r)||NN(t.items))return r;const[i,s]=[t.items,Math.max(t.items.length,r.length)];for(let o=0;o<s;o++)o<i.length&&(r[o]=hs(i[o],e,r[o]));return r}function Hfe(t,e,n){const r=Gc(t,n);for(const i of t.anyOf){const s=hs(i,e,r);if(Bfe(i)&&ll(i,s))return s}return r}function hs(t,e,n){const r=ad(t.$id)?[...e,t]:e,i=t;switch(i[Xn]){case"Array":return zfe(i,r,n);case"Intersect":return Wfe(i,r,n);case"Object":return Ufe(i,r,n);case"Record":return Zfe(i,r,n);case"Ref":return Xfe(i,r,n);case"This":return Yfe(i,r,n);case"Tuple":return Gfe(i,r,n);case"Union":return Hfe(i,r,n);default:return Gc(i,n)}}function cl(...t){return t.length===3?hs(t[0],t[1],t[2]):hs(t[0],[],t[1])}class D9 extends Md{constructor(e,n,r){super("Unable to decode value as it does not match the expected schema"),this.schema=e,this.value=n,this.error=r}}class Kfe extends Md{constructor(e,n,r,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=e,this.path=n,this.value=r,this.error=i}}function an(t,e,n){try{return xn(t)?t[ZW].Decode(n):n}catch(r){throw new Kfe(t,e,n,r)}}function Jfe(t,e,n,r){return fs(r)?an(t,n,r.map((i,s)=>ca(t.items,e,`${n}/${s}`,i))):an(t,n,r)}function ehe(t,e,n,r){if(!Id(r)||AN(r))return an(t,n,r);const i=I9(t),s=i.map(u=>u[0]),o={...r};for(const[u,d]of i)u in o&&(o[u]=ca(d,e,`${n}/${u}`,o[u]));if(!xn(t.unevaluatedProperties))return an(t,n,o);const a=Object.getOwnPropertyNames(o),l=t.unevaluatedProperties,c={...o};for(const u of a)s.includes(u)||(c[u]=an(l,`${n}/${u}`,c[u]));return an(t,n,c)}function the(t,e,n,r){return an(t,n,ca(t.not,e,n,r))}function nhe(t,e,n,r){if(!Id(r))return an(t,n,r);const i=TN(t),s={...r};for(const c of i)c in s&&(s[c]=ca(t.properties[c],e,`${n}/${c}`,s[c]));if(!Ur(t.additionalProperties))return an(t,n,s);const o=Object.getOwnPropertyNames(s),a=t.additionalProperties,l={...s};for(const c of o)i.includes(c)||(l[c]=an(a,`${n}/${c}`,l[c]));return an(t,n,l)}function rhe(t,e,n,r){if(!Id(r))return an(t,n,r);const i=Object.getOwnPropertyNames(t.patternProperties)[0],s=new RegExp(i),o={...r};for(const u of Object.getOwnPropertyNames(r))s.test(u)&&(o[u]=ca(t.patternProperties[i],e,`${n}/${u}`,o[u]));if(!Ur(t.additionalProperties))return an(t,n,o);const a=Object.getOwnPropertyNames(o),l=t.additionalProperties,c={...o};for(const u of a)s.test(u)||(c[u]=an(l,`${n}/${u}`,c[u]));return an(t,n,c)}function ihe(t,e,n,r){const i=uo(t,e);return an(t,n,ca(i,e,n,r))}function she(t,e,n,r){const i=uo(t,e);return an(t,n,ca(i,e,n,r))}function ohe(t,e,n,r){return fs(r)&&fs(t.items)?an(t,n,t.items.map((i,s)=>ca(i,e,`${n}/${s}`,r[s]))):an(t,n,r)}function ahe(t,e,n,r){for(const i of t.anyOf){if(!ll(i,e,r))continue;const s=ca(i,e,n,r);return an(t,n,s)}return an(t,n,r)}function ca(t,e,n,r){const i=typeof t.$id=="string"?[...e,t]:e,s=t;switch(t[Xn]){case"Array":return Jfe(s,i,n,r);case"Intersect":return ehe(s,i,n,r);case"Not":return the(s,i,n,r);case"Object":return nhe(s,i,n,r);case"Record":return rhe(s,i,n,r);case"Ref":return ihe(s,i,n,r);case"Symbol":return an(s,n,r);case"This":return she(s,i,n,r);case"Tuple":return ohe(s,i,n,r);case"Union":return ahe(s,i,n,r);default:return an(s,n,r)}}function Q9(t,e,n){return ca(t,e,"",n)}class lhe extends Md{constructor(e,n,r){super("The encoded value does not match the expected schema"),this.schema=e,this.value=n,this.error=r}}class che extends Md{constructor(e,n,r,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=e,this.path=n,this.value=r,this.error=i}}function Gn(t,e,n){try{return xn(t)?t[ZW].Encode(n):n}catch(r){throw new che(t,e,n,r)}}function uhe(t,e,n,r){const i=Gn(t,n,r);return fs(i)?i.map((s,o)=>na(t.items,e,`${n}/${o}`,s)):i}function dhe(t,e,n,r){const i=Gn(t,n,r);if(!Id(r)||AN(r))return i;const s=I9(t),o=s.map(d=>d[0]),a={...i};for(const[d,f]of s)d in a&&(a[d]=na(f,e,`${n}/${d}`,a[d]));if(!xn(t.unevaluatedProperties))return Gn(t,n,a);const l=Object.getOwnPropertyNames(a),c=t.unevaluatedProperties,u={...a};for(const d of l)o.includes(d)||(u[d]=Gn(c,`${n}/${d}`,u[d]));return u}function fhe(t,e,n,r){return Gn(t.not,n,Gn(t,n,r))}function hhe(t,e,n,r){const i=Gn(t,n,r);if(!Id(i))return i;const s=TN(t),o={...i};for(const u of s)u in o&&(o[u]=na(t.properties[u],e,`${n}/${u}`,o[u]));if(!Ur(t.additionalProperties))return o;const a=Object.getOwnPropertyNames(o),l=t.additionalProperties,c={...o};for(const u of a)s.includes(u)||(c[u]=Gn(l,`${n}/${u}`,c[u]));return c}function phe(t,e,n,r){const i=Gn(t,n,r);if(!Id(r))return i;const s=Object.getOwnPropertyNames(t.patternProperties)[0],o=new RegExp(s),a={...i};for(const d of Object.getOwnPropertyNames(r))o.test(d)&&(a[d]=na(t.patternProperties[s],e,`${n}/${d}`,a[d]));if(!Ur(t.additionalProperties))return Gn(t,n,a);const l=Object.getOwnPropertyNames(a),c=t.additionalProperties,u={...a};for(const d of l)o.test(d)||(u[d]=Gn(c,`${n}/${d}`,u[d]));return u}function mhe(t,e,n,r){const i=uo(t,e),s=na(i,e,n,r);return Gn(t,n,s)}function ghe(t,e,n,r){const i=uo(t,e),s=na(i,e,n,r);return Gn(t,n,s)}function yhe(t,e,n,r){const i=Gn(t,n,r);return fs(t.items)?t.items.map((s,o)=>na(s,e,`${n}/${o}`,i[o])):[]}function Ohe(t,e,n,r){for(const i of t.anyOf){if(!ll(i,e,r))continue;const s=na(i,e,n,r);return Gn(t,n,s)}for(const i of t.anyOf){const s=na(i,e,n,r);if(ll(t,e,s))return Gn(t,n,s)}return Gn(t,n,r)}function na(t,e,n,r){const i=typeof t.$id=="string"?[...e,t]:e,s=t;switch(t[Xn]){case"Array":return uhe(s,i,n,r);case"Intersect":return dhe(s,i,n,r);case"Not":return fhe(s,i,n,r);case"Object":return hhe(s,i,n,r);case"Record":return phe(s,i,n,r);case"Ref":return mhe(s,i,n,r);case"This":return ghe(s,i,n,r);case"Tuple":return yhe(s,i,n,r);case"Union":return Ohe(s,i,n,r);default:return Gn(s,n,r)}}function bhe(t,e,n){return na(t,e,"",n)}function xhe(t,e){return xn(t)||Kn(t.items,e)}function vhe(t,e){return xn(t)||Kn(t.items,e)}function whe(t,e){return xn(t)||Kn(t.returns,e)||t.parameters.some(n=>Kn(n,e))}function She(t,e){return xn(t)||Kn(t.returns,e)||t.parameters.some(n=>Kn(n,e))}function _he(t,e){return xn(t)||xn(t.unevaluatedProperties)||t.allOf.some(n=>Kn(n,e))}function $he(t,e){return xn(t)||Kn(t.items,e)}function khe(t,e){return xn(t)||Kn(t.not,e)}function Phe(t,e){return xn(t)||Object.values(t.properties).some(n=>Kn(n,e))||Ur(t.additionalProperties)&&Kn(t.additionalProperties,e)}function Che(t,e){return xn(t)||Kn(t.item,e)}function jhe(t,e){const n=Object.getOwnPropertyNames(t.patternProperties)[0],r=t.patternProperties[n];return xn(t)||Kn(r,e)||Ur(t.additionalProperties)&&xn(t.additionalProperties)}function Ehe(t,e){return xn(t)?!0:Kn(uo(t,e),e)}function The(t,e){return xn(t)?!0:Kn(uo(t,e),e)}function Nhe(t,e){return xn(t)||!NN(t.items)&&t.items.some(n=>Kn(n,e))}function Ahe(t,e){return xn(t)||t.anyOf.some(n=>Kn(n,e))}function Kn(t,e){const n=ad(t.$id)?[...e,t]:e,r=t;if(t.$id&&cC.has(t.$id))return!1;switch(t.$id&&cC.add(t.$id),t[Xn]){case"Array":return xhe(r,n);case"AsyncIterator":return vhe(r,n);case"Constructor":return whe(r,n);case"Function":return She(r,n);case"Intersect":return _he(r,n);case"Iterator":return $he(r,n);case"Not":return khe(r,n);case"Object":return Phe(r,n);case"Promise":return Che(r,n);case"Record":return jhe(r,n);case"Ref":return Ehe(r,n);case"This":return The(r,n);case"Tuple":return Nhe(r,n);case"Union":return Ahe(r,n);default:return xn(t)}}const cC=new Set;function F9(t,e){return cC.clear(),Kn(t,e)}function G0(...t){return ll.apply(ll,t)}function L9(...t){const[e,n,r]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]];if(!G0(e,n,r))throw new D9(e,r,Zy(e,n,r).First());return F9(e,n)?Q9(e,n,r):r}function Rhe(...t){return cl.apply(cl,t)}function Zy(...t){return vh.apply(vh,t)}var Xy=lue();const kf=Z0(Xy);var Hl=function(){return Hl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hl.apply(this,arguments)};function Mhe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ihe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Ix="right-scroll-bar-position",Dx="width-before-scroll-bar",Dhe="with-scroll-bars-hidden",Qhe="--removed-body-scroll-bar-size";function L_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Fhe(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Lhe=typeof window<"u"?S.useLayoutEffect:S.useEffect,XD=new WeakMap;function qhe(t,e){var n=Fhe(null,function(r){return t.forEach(function(i){return L_(i,r)})});return Lhe(function(){var r=XD.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||L_(a,null)}),s.forEach(function(a){i.has(a)||L_(a,o)})}XD.set(n,t)},[t]),n}var Vv=function(){return Vv=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vv.apply(this,arguments)};function Vhe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Bhe(t){return t}function zhe(t,e){e===void 0&&(e=Bhe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function Whe(t){t===void 0&&(t={});var e=zhe(null);return e.options=Vv({async:!0,ssr:!1},t),e}var q9=function(t){var e=t.sideCar,n=Vhe(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Vv({},n))};q9.isSideCarExport=!0;function Uhe(t,e){return t.useMedium(e),q9}var V9=Whe(),q_=function(){},H0=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:q_,onWheelCapture:q_,onTouchMoveCapture:q_}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,m=t.inert,g=t.allowPinchZoom,y=t.as,O=y===void 0?"div":y,b=t.gapMode,x=Mhe(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),v=f,w=qhe([n,e]),_=Hl(Hl({},x),i);return S.createElement(S.Fragment,null,u&&S.createElement(v,{sideCar:V9,removeScrollBar:c,shards:d,noIsolation:h,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:b}),o?S.cloneElement(S.Children.only(a),Hl(Hl({},_),{ref:w})):S.createElement(O,Hl({},_,{className:l,ref:w}),a))});H0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};H0.classNames={fullWidth:Dx,zeroRight:Ix};var Zhe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Xhe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Zhe();return e&&t.setAttribute("nonce",e),t}function Yhe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Ghe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Hhe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Xhe())&&(Yhe(e,n),Ghe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Khe=function(){var t=Hhe();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},B9=function(){var t=Khe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Jhe={left:0,top:0,right:0,gap:0},V_=function(t){return parseInt(t||"",10)||0},epe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[V_(n),V_(r),V_(i)]},tpe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Jhe;var e=epe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},npe=B9(),Lf="data-scroll-locked",rpe=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Dhe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Lf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ix,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Dx,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ix," .").concat(Ix,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Dx," .").concat(Dx,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Lf,`] {
    `).concat(Qhe,": ").concat(a,`px;
  }
`)},YD=function(){var t=parseInt(document.body.getAttribute(Lf)||"0",10);return isFinite(t)?t:0},ipe=function(){S.useEffect(function(){return document.body.setAttribute(Lf,(YD()+1).toString()),function(){var t=YD()-1;t<=0?document.body.removeAttribute(Lf):document.body.setAttribute(Lf,t.toString())}},[])},spe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;ipe();var s=S.useMemo(function(){return tpe(i)},[i]);return S.createElement(npe,{styles:rpe(s,!e,i,n?"":"!important")})},uC=!1;if(typeof window<"u")try{var gb=Object.defineProperty({},"passive",{get:function(){return uC=!0,!0}});window.addEventListener("test",gb,gb),window.removeEventListener("test",gb,gb)}catch{uC=!1}var ef=uC?{passive:!1}:!1,ope=function(t){return t.tagName==="TEXTAREA"},z9=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!ope(t)&&n[e]==="visible")},ape=function(t){return z9(t,"overflowY")},lpe=function(t){return z9(t,"overflowX")},GD=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=W9(t,r);if(i){var s=U9(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},cpe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},upe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},W9=function(t,e){return t==="v"?ape(e):lpe(e)},U9=function(t,e){return t==="v"?cpe(e):upe(e)},dpe=function(t,e){return t==="h"&&e==="rtl"?-1:1},fpe=function(t,e,n,r,i){var s=dpe(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{var h=U9(t,a),m=h[0],g=h[1],y=h[2],O=g-y-s*m;(m||O)&&W9(t,a)&&(d+=O,f+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},yb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},HD=function(t){return[t.deltaX,t.deltaY]},KD=function(t){return t&&"current"in t?t.current:t},hpe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ppe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},mpe=0,tf=[];function gpe(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(mpe++)[0],s=S.useState(B9)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Ihe([t.lockRef.current],(t.shards||[]).map(KD),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=S.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var O=yb(g),b=n.current,x="deltaX"in g?g.deltaX:b[0]-O[0],v="deltaY"in g?g.deltaY:b[1]-O[1],w,_=g.target,$=Math.abs(x)>Math.abs(v)?"h":"v";if("touches"in g&&$==="h"&&_.type==="range")return!1;var k=GD($,_);if(!k)return!0;if(k?w=$:(w=$==="v"?"h":"v",k=GD($,_)),!k)return!1;if(!r.current&&"changedTouches"in g&&(x||v)&&(r.current=w),!w)return!0;var j=r.current||w;return fpe(j,y,g,j==="h"?x:v)},[]),l=S.useCallback(function(g){var y=g;if(!(!tf.length||tf[tf.length-1]!==s)){var O="deltaY"in y?HD(y):yb(y),b=e.current.filter(function(w){return w.name===y.type&&(w.target===y.target||y.target===w.shadowParent)&&hpe(w.delta,O)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(KD).filter(Boolean).filter(function(w){return w.contains(y.target)}),v=x.length>0?a(y,x[0]):!o.current.noIsolation;v&&y.cancelable&&y.preventDefault()}}},[]),c=S.useCallback(function(g,y,O,b){var x={name:g,delta:y,target:O,should:b,shadowParent:ype(O)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(v){return v!==x})},1)},[]),u=S.useCallback(function(g){n.current=yb(g),r.current=void 0},[]),d=S.useCallback(function(g){c(g.type,HD(g),g.target,a(g,t.lockRef.current))},[]),f=S.useCallback(function(g){c(g.type,yb(g),g.target,a(g,t.lockRef.current))},[]);S.useEffect(function(){return tf.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,ef),document.addEventListener("touchmove",l,ef),document.addEventListener("touchstart",u,ef),function(){tf=tf.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,ef),document.removeEventListener("touchmove",l,ef),document.removeEventListener("touchstart",u,ef)}},[]);var h=t.removeScrollBar,m=t.inert;return S.createElement(S.Fragment,null,m?S.createElement(s,{styles:ppe(i)}):null,h?S.createElement(spe,{gapMode:t.gapMode}):null)}function ype(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Ope=Uhe(V9,gpe);var Z9=S.forwardRef(function(t,e){return S.createElement(H0,Hl({},t,{ref:e,sideCar:Ope}))});Z9.classNames=H0.classNames;function Yo(t){return Object.keys(t)}function B_(t){return t&&typeof t=="object"&&!Array.isArray(t)}function FN(t,e){const n={...t},r=e;return B_(t)&&B_(e)&&Object.keys(e).forEach(i=>{B_(r[i])&&i in t?n[i]=FN(n[i],r[i]):n[i]=r[i]}),n}function bpe(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function xpe(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function vpe(t){const e=xpe(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function z_(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function X9(t,{shouldScale:e=!1}={}){function n(r){if(r===0||r==="0")return`0${t}`;if(typeof r=="number"){const i=`${r/16}${t}`;return e?z_(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(s=>n(s)).join(",");if(r.includes(" "))return r.split(" ").map(s=>n(s)).join(" ");if(r.includes(t))return e?z_(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const s=`${Number(i)/16}${t}`;return e?z_(s):s}}return r}return n}const ye=X9("rem",{shouldScale:!0}),JD=X9("em");function LN(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function Y9(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(r=>e.test(r))}return!1}function Hc(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==S.Fragment:!1}function xl(t){const e=S.createContext(null);return[({children:i,value:s})=>p.jsx(e.Provider,{value:s,children:i}),()=>{const i=S.useContext(e);if(i===null)throw new Error(t);return i}]}function Yy(t=null){const e=S.createContext(t);return[({children:i,value:s})=>p.jsx(e.Provider,{value:s,children:i}),()=>S.useContext(e)]}function eQ(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function Bv(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function wpe(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].disabled)return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].disabled)return r}return t}function Spe(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].disabled)return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].disabled)return r}return t}function _pe(t,e,n){return Bv(t,n)===Bv(e,n)}function G9({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var m;n==null||n(a);const l=Array.from(((m=Bv(a.currentTarget,t))==null?void 0:m.querySelectorAll(e))||[]).filter(g=>_pe(a.currentTarget,g,t)),c=l.findIndex(g=>a.currentTarget===g),u=Spe(c,l,r),d=wpe(c,l,r),f=s==="rtl"?d:u,h=s==="rtl"?u:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[u].focus(),i&&l[u].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const g=l.length-1;!l[g].disabled&&l[g].focus();break}}}}const $pe={app:100,modal:200,popover:300,overlay:400,max:9999};function vl(t){return $pe[t]}const kpe=()=>{};function Ppe(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||kpe:n=>{var r;n.key==="Escape"&&(t(n),(r=e.onTrigger)==null||r.call(e))}}function $t(t,e="size",n=!0){if(t!==void 0)return Y9(t)?n?ye(t):t:`var(--${e}-${t})`}function qN(t){return $t(t,"mantine-spacing")}function nr(t){return t===void 0?"var(--mantine-radius-default)":$t(t,"mantine-radius")}function Ii(t){return $t(t,"mantine-font-size")}function VN(t){if(t)return $t(t,"mantine-shadow",!1)}function Vo(t,e){return n=>{t==null||t(n),e==null||e(n)}}function Cpe(t,e,n){var r;return n?Array.from(((r=Bv(n,e))==null?void 0:r.querySelectorAll(t))||[]).findIndex(i=>i===n):null}function jpe(){const[t,e]=S.useState(-1);return[t,{setHovered:e,resetHovered:()=>e(-1)}]}function Ya(t,e,n){return e===void 0&&n===void 0?t:e!==void 0&&n===void 0?Math.max(t,e):Math.min(e===void 0&&n!==void 0?t:Math.max(t,e),n)}function H9(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function Tu(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function K0(t,e){const n=Tu(t),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback((...i)=>{window.clearTimeout(r.current),r.current=window.setTimeout(()=>n(...i),e)},[n,e])}const tQ=["mousedown","touchstart"];function Epe(t,e,n){const r=S.useRef();return S.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(c=>!!c&&!s.composedPath().includes(c))&&!a&&t()}else r.current&&!r.current.contains(o)&&t()};return(e||tQ).forEach(s=>document.addEventListener(s,i)),()=>{(e||tQ).forEach(s=>document.removeEventListener(s,i))}},[r,t,n]),r}function Tpe(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function Npe(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function K9(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=S.useState(n?e:Npe(t)),s=S.useRef();return S.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(t),i(s.current.matches),Tpe(s.current,o=>i(o.matches))},[t]),r}function Ape(t,e){return K9("(prefers-color-scheme: dark)",t==="dark",e)?"dark":"light"}const ap=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Ec(t,e){const n=S.useRef(!1);S.useEffect(()=>()=>{n.current=!1},[]),S.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function J9({opened:t,shouldReturnFocus:e=!0}){const n=S.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return Ec(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),t?n.current=document.activeElement:e&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[t,e]),r}function Rpe(t,e="body > :not(script)"){const n=H9(),r=Array.from(document.querySelectorAll(e)).map(i=>{var l;if((l=i==null?void 0:i.shadowRoot)!=null&&l.contains(t)||i.contains(t))return;const s=i.getAttribute("aria-hidden"),o=i.getAttribute("data-hidden"),a=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",n),s===null||s==="false"?i.setAttribute("aria-hidden","true"):!o&&!a&&i.setAttribute("data-hidden",s),{node:i,ariaHidden:o||null}});return()=>{r.forEach(i=>{!i||n!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}const Mpe=/input|select|textarea|button|object/,e6="a, input, select, textarea, button, object, [tabindex]";function Ipe(t){return t.style.display==="none"}function Dpe(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(Ipe(n))return!1;n=n.parentNode}return!0}function t6(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function dC(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(t6(t));return(Mpe.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&Dpe(t)}function n6(t){const e=t6(t);return(Number.isNaN(e)||e>=0)&&dC(t)}function Qpe(t){return Array.from(t.querySelectorAll(e6)).filter(n6)}function Fpe(t,e){const n=Qpe(t);if(!n.length){e.preventDefault();return}const r=n[e.shiftKey?0:n.length-1],i=t.getRootNode();let s=r===i.activeElement||t===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(s=n.filter(u=>u.getAttribute("type")==="radio"&&u.getAttribute("name")===o.getAttribute("name")).includes(r)),!s)return;e.preventDefault();const l=n[e.shiftKey?n.length-1:0];l&&l.focus()}function Lpe(t=!0){const e=S.useRef(),n=S.useRef(null),r=s=>{let o=s.querySelector("[data-autofocus]");if(!o){const a=Array.from(s.querySelectorAll(e6));o=a.find(n6)||a.find(dC)||null,!o&&dC(s)&&(o=s)}o&&o.focus({preventScroll:!0})},i=S.useCallback(s=>{if(t){if(s===null){n.current&&(n.current(),n.current=null);return}n.current=Rpe(s),e.current!==s&&(s?(setTimeout(()=>{s.getRootNode()&&r(s)}),e.current=s):e.current=null)}},[t]);return S.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>r(e.current));const s=o=>{o.key==="Tab"&&e.current&&Fpe(e.current,o)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s),n.current&&n.current()}},[t]),i}const qpe=ve.useId||(()=>{});function Vpe(){const t=qpe();return t?`mantine-${t.replace(/:/g,"")}`:""}function vs(t){const e=Vpe(),[n,r]=S.useState(e);return ap(()=>{r(H9())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function Bpe(t,e,n){S.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}function BN(t,e){typeof t=="function"?t(e):typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function zpe(...t){return e=>{t.forEach(n=>BN(n,e))}}function gn(...t){return S.useCallback(zpe(...t),t)}function Wpe(t,e,n="ltr"){const r=S.useRef(null),i=S.useRef(!1),s=S.useRef(!1),o=S.useRef(0),[a,l]=S.useState(!1);return S.useEffect(()=>{i.current=!0},[]),S.useEffect(()=>{var b,x;const c=({x:v,y:w})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const _=r.current.getBoundingClientRect();if(_.width&&_.height){const $=Ya((v-_.left)/_.width,0,1);t({x:n==="ltr"?$:1-$,y:Ya((w-_.top)/_.height,0,1)})}}})},u=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",h),document.addEventListener("touchmove",O),document.addEventListener("touchend",h)},d=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",O),document.removeEventListener("touchend",h)},f=()=>{!s.current&&i.current&&(s.current=!0,typeof(e==null?void 0:e.onScrubStart)=="function"&&e.onScrubStart(),l(!0),u())},h=()=>{s.current&&i.current&&(s.current=!1,l(!1),d(),setTimeout(()=>{typeof(e==null?void 0:e.onScrubEnd)=="function"&&e.onScrubEnd()},0))},m=v=>{f(),v.preventDefault(),g(v)},g=v=>c({x:v.clientX,y:v.clientY}),y=v=>{v.cancelable&&v.preventDefault(),f(),O(v)},O=v=>{v.cancelable&&v.preventDefault(),c({x:v.changedTouches[0].clientX,y:v.changedTouches[0].clientY})};return(b=r.current)==null||b.addEventListener("mousedown",m),(x=r.current)==null||x.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",m),r.current.removeEventListener("touchstart",y))}},[n,t]),{ref:r,active:a}}function mi({value:t,defaultValue:e,finalValue:n,onChange:r=()=>{}}){const[i,s]=S.useState(e!==void 0?e:n),o=(a,...l)=>{s(a),r==null||r(a,...l)};return t!==void 0?[t,r,!0]:[i,o,!1]}function r6(t,e){return K9("(prefers-reduced-motion: reduce)",t,e)}function Upe(t,e,n={autoInvoke:!1}){const r=S.useRef(null),i=S.useCallback((...o)=>{r.current||(r.current=window.setTimeout(()=>{t(o),r.current=null},e))},[e]),s=S.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return S.useEffect(()=>(n.autoInvoke&&i(),s),[s,i]),{start:i,clear:s}}function Zpe(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}function Xpe(t,e,n){const r=S.useRef(),i=S.useRef(null);return S.useEffect(()=>{const s=typeof n=="function"?n():n;return(s||i.current)&&(r.current=new MutationObserver(t),r.current.observe(s||i.current,e)),()=>{var o;(o=r.current)==null||o.disconnect()}},[t,e]),i}function Ype(){const[t,e]=S.useState(!1);return S.useEffect(()=>e(!0),[]),t}function Gpe(t,e){window.dispatchEvent(new CustomEvent(t,{detail:e}))}function Hpe(t){function e(r){const i=Object.keys(r).reduce((s,o)=>(s[`${t}:${o}`]=a=>r[o](a.detail),s),{});ap(()=>(Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s]),window.addEventListener(s,i[s])}),()=>Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s])})),[i])}function n(r){return(...i)=>Gpe(`${t}:${String(r)}`,i[0])}return[e,n]}var Kpe={};function i6(){return typeof process<"u"&&Kpe?"production":"development"}function s6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=s6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function br(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=s6(t))&&(r&&(r+=" "),r+=e);return r}const Jpe={};function eme(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([r,i])=>{e[r]?e[r]=br(e[r],i):e[r]=i})}),e}function J0({theme:t,classNames:e,props:n,stylesCtx:r}){const s=(Array.isArray(e)?e:[e]).map(o=>typeof o=="function"?o(t,n,r):o||Jpe);return eme(s)}function zv({theme:t,styles:e,props:n,stylesCtx:r}){return(Array.isArray(e)?e:[e]).reduce((s,o)=>typeof o=="function"?{...s,...o(t,n,r)}:{...s,...o},{})}const zN=S.createContext(null);function Dd(){const t=S.useContext(zN);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function tme(){return Dd().cssVariablesResolver}function nme(){return Dd().classNamesPrefix}function eS(){return Dd().getStyleNonce}function rme(){return Dd().withStaticClasses}function ime(){return Dd().headless}function sme(){var t;return(t=Dd().stylesTransform)==null?void 0:t.sx}function ome(){var t;return(t=Dd().stylesTransform)==null?void 0:t.styles}function ame(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function lme(t){let e=t.replace("#","");if(e.length===3){const o=e.split("");e=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(e.length===8){const o=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:o}}const n=parseInt(e,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function cme(t){const[e,n,r,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:r,a:i||1}}function ume(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*s-1))*i,l=r/60,c=a*(1-Math.abs(l%2-1)),u=s-a/2;let d,f,h;return l>=0&&l<1?(d=a,f=c,h=0):l>=1&&l<2?(d=c,f=a,h=0):l>=2&&l<3?(d=0,f=a,h=c):l>=3&&l<4?(d=0,f=c,h=a):l>=4&&l<5?(d=c,f=0,h=a):(d=a,f=0,h=c),{r:Math.round((d+u)*255),g:Math.round((f+u)*255),b:Math.round((h+u)*255),a:o||1}}function WN(t){return ame(t)?lme(t):t.startsWith("rgb")?cme(t):t.startsWith("hsl")?ume(t):{r:0,g:0,b:0,a:1}}function Ob(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:r,b:i,a:s}=WN(t),o=1-e,a=l=>Math.round(l*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function kg(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function W_(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function dme(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function fme(t){if(t.startsWith("oklch("))return(dme(t)||0)/100;const{r:e,g:n,b:r}=WN(t),i=e/255,s=n/255,o=r/255,a=W_(i),l=W_(s),c=W_(o);return .2126*a+.7152*l+.0722*c}function om(t,e=.179){return t.startsWith("var(")?!1:fme(t)>e}function Kc({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:om(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:om(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:om(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[r,i]=t.split("."),s=i?Number(i):void 0,o=r in e.colors;if(o){const a=s!==void 0?e.colors[r][s]:e.colors[r][kg(e,n||"light")];return{color:r,value:a,shade:s,isThemeColor:o,isLight:om(a,e.luminanceThreshold),variable:i?`--mantine-color-${r}-${s}`:`--mantine-color-${r}-filled`}}return{color:t,value:t,isThemeColor:o,isLight:om(t,e.luminanceThreshold),shade:s,variable:void 0}}function Hr(t,e){const n=Kc({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function nQ(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)||e.defaultGradient.deg||0},r=Hr(n.from,e),i=Hr(n.to,e);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function Ao(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const s=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${s}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:r,b:i}=WN(t);return`rgba(${n}, ${r}, ${i}, ${e})`}const nf=Ao,hme=({color:t,theme:e,variant:n,gradient:r,autoContrast:i})=>{const s=Kc({color:t,theme:e}),o=typeof i=="boolean"?i:e.autoContrast;if(n==="filled"){const a=o&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:a,border:`${ye(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${ye(1)} solid transparent`}:{background:t,hover:Ob(t,.1),color:a,border:`${ye(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${ye(1)} solid transparent`};const a=e.colors[s.color][s.shade];return{background:Ao(a,.1),hover:Ao(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${ye(1)} solid transparent`}}return{background:Ao(t,.1),hover:Ao(t,.12),color:t,border:`${ye(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${ye(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:Ao(e.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${ye(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:Ao(t,.05),color:t,border:`${ye(1)} solid ${t}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${ye(1)} solid transparent`};const a=e.colors[s.color][s.shade];return{background:"transparent",hover:Ao(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${ye(1)} solid transparent`}}return{background:"transparent",hover:Ao(t,.12),color:t,border:`${ye(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${ye(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${ye(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${ye(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:Ob(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${ye(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Ob(e.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${ye(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Ob(e.white,.01),color:t,border:`${ye(1)} solid transparent`}:n==="gradient"?{background:nQ(r,e),hover:nQ(r,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${ye(1)} solid var(--mantine-color-default-border)`}:{}},pme={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},rQ="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",UN={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:pme,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:hme,autoContrast:!1,luminanceThreshold:.3,fontFamily:rQ,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:rQ,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:ye(34),lineHeight:"1.3"},h2:{fontSize:ye(26),lineHeight:"1.35"},h3:{fontSize:ye(22),lineHeight:"1.4"},h4:{fontSize:ye(18),lineHeight:"1.45"},h5:{fontSize:ye(16),lineHeight:"1.5"},h6:{fontSize:ye(14),lineHeight:"1.5"}}},fontSizes:{xs:ye(12),sm:ye(14),md:ye(16),lg:ye(18),xl:ye(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:ye(2),sm:ye(4),md:ye(8),lg:ye(16),xl:ye(32)},spacing:{xs:ye(10),sm:ye(12),md:ye(16),lg:ye(20),xl:ye(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${ye(1)} ${ye(3)} rgba(0, 0, 0, 0.05), 0 ${ye(1)} ${ye(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${ye(1)} ${ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ye(10)} ${ye(15)} ${ye(-5)}, rgba(0, 0, 0, 0.04) 0 ${ye(7)} ${ye(7)} ${ye(-5)}`,md:`0 ${ye(1)} ${ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ye(20)} ${ye(25)} ${ye(-5)}, rgba(0, 0, 0, 0.04) 0 ${ye(10)} ${ye(10)} ${ye(-5)}`,lg:`0 ${ye(1)} ${ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ye(28)} ${ye(23)} ${ye(-7)}, rgba(0, 0, 0, 0.04) 0 ${ye(12)} ${ye(12)} ${ye(-7)}`,xl:`0 ${ye(1)} ${ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ye(36)} ${ye(28)} ${ye(-7)}, rgba(0, 0, 0, 0.04) 0 ${ye(17)} ${ye(17)} ${ye(-7)}`},other:{},components:{}};function iQ(t){return t==="auto"||t==="dark"||t==="light"}function mme({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(t);return iQ(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{e=r=>{r.storageArea===window.localStorage&&r.key===t&&iQ(r.newValue)&&n(r.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const gme="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",sQ="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function U_(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function oQ(t){if(!(t.primaryColor in t.colors))throw new Error(gme);if(typeof t.primaryShade=="object"&&(!U_(t.primaryShade.dark)||!U_(t.primaryShade.light)))throw new Error(sQ);if(typeof t.primaryShade=="number"&&!U_(t.primaryShade))throw new Error(sQ)}function yme(t,e){var r;if(!e)return oQ(t),t;const n=FN(t,e);return e.fontFamily&&!((r=e.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=e.fontFamily),oQ(n),n}const ZN=S.createContext(null),Ome=()=>S.useContext(ZN)||UN;function zi(){const t=S.useContext(ZN);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function o6({theme:t,children:e,inherit:n=!0}){const r=Ome(),i=S.useMemo(()=>yme(n?r:UN,t),[t,r,n]);return p.jsx(ZN.Provider,{value:i,children:e})}o6.displayName="@mantine/core/MantineThemeProvider";function bme(){const t=zi(),e=eS(),n=Yo(t.breakpoints).reduce((r,i)=>{const s=t.breakpoints[i].includes("px"),o=vpe(t.breakpoints[i]),a=s?`${o-.1}px`:JD(o-.1),l=s?`${o}px`:JD(o);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return p.jsx("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function Z_(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function am(t,e){return(Array.isArray(t)?t:[t]).reduce((r,i)=>`${i}{${r}}`,e)}function xme(t,e){const n=Z_(t.variables),r=n?am(e,n):"",i=Z_(t.dark),s=Z_(t.light),o=i?am(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,i):"",a=s?am(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,s):"";return`${r}${o}${a}`}function Gy({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&Kc({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function aQ(t,e){return Gy({color:t.colors[t.primaryColor][kg(t,e)],theme:t,autoContrast:null})}function bb({theme:t,color:e,colorScheme:n,name:r=e,withColorValues:i=!0}){if(!t.colors[e])return{};if(n==="light"){const a=kg(t,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:nf(t.colors[e][a],.1),[`--mantine-color-${r}-light-hover`]:nf(t.colors[e][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:nf(t.colors[e][a],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...l}:l}const s=kg(t,"dark"),o={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:nf(t.colors[e][Math.max(0,s-2)],.15),[`--mantine-color-${r}-light-hover`]:nf(t.colors[e][Math.max(0,s-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(s-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(s-4,0)})`,[`--mantine-color-${r}-outline-hover`]:nf(t.colors[e][Math.max(s-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...o}:o}function vme(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function rf(t,e,n){Yo(e).forEach(r=>Object.assign(t,{[`--mantine-${n}-${r}`]:e[r]}))}const a6=t=>{const e=kg(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:ye(t.defaultRadius),r={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":aQ(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":aQ(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};rf(r.variables,t.breakpoints,"breakpoint"),rf(r.variables,t.spacing,"spacing"),rf(r.variables,t.fontSizes,"font-size"),rf(r.variables,t.lineHeights,"line-height"),rf(r.variables,t.shadows,"shadow"),rf(r.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((s,o)=>{r.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${t.primaryColor}-${o})`}),Yo(t.colors).forEach(s=>{const o=t.colors[s];if(vme(o)){Object.assign(r.light,bb({theme:t,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,bb({theme:t,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,l)=>{r.variables[`--mantine-color-${s}-${l}`]=a}),Object.assign(r.light,bb({theme:t,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,bb({theme:t,color:s,colorScheme:"dark",withColorValues:!1}))});const i=t.headings.sizes;return Yo(i).forEach(s=>{r.variables[`--mantine-${s}-font-size`]=i[s].fontSize,r.variables[`--mantine-${s}-line-height`]=i[s].lineHeight,r.variables[`--mantine-${s}-font-weight`]=i[s].fontWeight||t.headings.fontWeight}),r};function wme({theme:t,generator:e}){const n=a6(t),r=e==null?void 0:e(t);return r?FN(n,r):n}const X_=a6(UN);function Sme(t){const e={variables:{},light:{},dark:{}};return Yo(t.variables).forEach(n=>{X_.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),Yo(t.light).forEach(n=>{X_.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),Yo(t.dark).forEach(n=>{X_.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function _me(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function l6({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=zi(),r=eS(),i=tme(),s=wme({theme:n,generator:i}),o=t===":root"&&e,a=o?Sme(s):s,l=xme(a,t);return l?p.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${l}${o?"":_me(t)}`}}):null}l6.displayName="@mantine/CssVariables";function $me(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function sf(t,e){var r;const n=t!=="auto"?t:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(r=e())==null||r.setAttribute("data-mantine-color-scheme",n)}function kme({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:r}){const i=S.useRef(),[s,o]=S.useState(()=>t.get(e)),a=r||s,l=S.useCallback(u=>{r||(sf(u,n),o(u),t.set(u))},[t.set,a,r]),c=S.useCallback(()=>{o(e),sf(e,n),t.clear()},[t.clear,e]);return S.useEffect(()=>(t.subscribe(l),t.unsubscribe),[t.subscribe,t.unsubscribe]),ap(()=>{sf(t.get(e),n)},[]),S.useEffect(()=>{var d;if(r)return sf(r,n),()=>{};r===void 0&&sf(s,n),i.current=window.matchMedia("(prefers-color-scheme: dark)");const u=f=>{s==="auto"&&sf(f.matches?"dark":"light",n)};return(d=i.current)==null||d.addEventListener("change",u),()=>{var f;return(f=i.current)==null?void 0:f.removeEventListener("change",u)}},[s,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:c}}function Pme({respectReducedMotion:t,getRootElement:e}){ap(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}$me();function c6({theme:t,children:e,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:s=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:c=mme(),defaultColorScheme:u="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:h,stylesTransform:m}){const{colorScheme:g,setColorScheme:y,clearColorScheme:O}=kme({defaultColorScheme:u,forceColorScheme:h,manager:c,getRootElement:d});return Pme({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:d}),p.jsx(zN.Provider,{value:{colorScheme:g,setColorScheme:y,clearColorScheme:O,getRootElement:d,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:f,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:m},children:p.jsxs(o6,{theme:t,children:[o&&p.jsx(l6,{cssVariablesSelector:a,deduplicateCssVariables:s}),i&&p.jsx(bme,{}),e]})})}c6.displayName="@mantine/core/MantineProvider";function tS({classNames:t,styles:e,props:n,stylesCtx:r}){const i=zi();return{resolvedClassNames:J0({theme:i,classNames:t,props:n,stylesCtx:r||void 0}),resolvedStyles:zv({theme:i,styles:e,props:n,stylesCtx:r||void 0})}}const Cme={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function jme({theme:t,options:e,unstyled:n}){return br((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||Cme[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function Eme({selector:t,stylesCtx:e,options:n,props:r,theme:i}){return J0({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:e})[t]}function lQ({selector:t,stylesCtx:e,theme:n,classNames:r,props:i}){return J0({theme:n,classNames:r,props:i,stylesCtx:e})[t]}function Tme({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function Nme({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function Ame({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:r}){return r===!1?[]:t.map(i=>`${e}-${i}-${n}`)}function Rme({themeName:t,theme:e,selector:n,props:r,stylesCtx:i}){return t.map(s=>{var o,a;return(a=J0({theme:e,classNames:(o=e.components[s])==null?void 0:o.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function Mme({options:t,classes:e,selector:n,unstyled:r}){return t!=null&&t.variant&&!r?e[`${n}--${t.variant}`]:void 0}function Ime({theme:t,options:e,themeName:n,selector:r,classNamesPrefix:i,classNames:s,classes:o,unstyled:a,className:l,rootSelector:c,props:u,stylesCtx:d,withStaticClasses:f,headless:h,transformedStyles:m}){return br(jme({theme:t,options:e,unstyled:a||h}),Rme({theme:t,themeName:n,selector:r,props:u,stylesCtx:d}),Mme({options:e,classes:o,selector:r,unstyled:a}),lQ({selector:r,stylesCtx:d,theme:t,classNames:s,props:u}),lQ({selector:r,stylesCtx:d,theme:t,classNames:m,props:u}),Eme({selector:r,stylesCtx:d,options:e,props:u,theme:t}),Tme({rootSelector:c,selector:r,className:l}),Nme({selector:r,classes:o,unstyled:a||h}),f&&!h&&Ame({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function Dme({theme:t,themeName:e,props:n,stylesCtx:r,selector:i}){return e.map(s=>{var o;return zv({theme:t,styles:(o=t.components[s])==null?void 0:o.styles,props:n,stylesCtx:r})[i]}).reduce((s,o)=>({...s,...o}),{})}function fC({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...fC({style:r,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function Qme(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(r=>{e[r]={...e[r],...LN(n[r])}}),e),{})}function Fme({vars:t,varsResolver:e,theme:n,props:r,stylesCtx:i,selector:s,themeName:o,headless:a}){var l;return(l=Qme([a?{}:e==null?void 0:e(n,r,i),...o.map(c=>{var u,d,f;return(f=(d=(u=n.components)==null?void 0:u[c])==null?void 0:d.vars)==null?void 0:f.call(d,n,r,i)}),t==null?void 0:t(n,r,i)]))==null?void 0:l[s]}function Lme({theme:t,themeName:e,selector:n,options:r,props:i,stylesCtx:s,rootSelector:o,styles:a,style:l,vars:c,varsResolver:u,headless:d,withStylesTransform:f}){return{...!f&&Dme({theme:t,themeName:e,props:i,stylesCtx:s,selector:n}),...!f&&zv({theme:t,styles:a,props:i,stylesCtx:s})[n],...!f&&zv({theme:t,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:s})[n],...Fme({theme:t,props:i,stylesCtx:s,vars:c,varsResolver:u,selector:n,themeName:e,headless:d}),...o===n?fC({style:l,theme:t}):null,...fC({style:r==null?void 0:r.style,theme:t})}}function qme({props:t,stylesCtx:e,themeName:n}){var o;const r=zi(),i=(o=ome())==null?void 0:o();return{getTransformedStyles:a=>i?[...a.map(c=>i(c,{props:t,theme:r,ctx:e})),...n.map(c=>{var u;return i((u=r.components[c])==null?void 0:u.styles,{props:t,theme:r,ctx:e})})].filter(Boolean):[],withStylesTransform:!!i}}function st({name:t,classes:e,props:n,stylesCtx:r,className:i,style:s,rootSelector:o="root",unstyled:a,classNames:l,styles:c,vars:u,varsResolver:d}){const f=zi(),h=nme(),m=rme(),g=ime(),y=(Array.isArray(t)?t:[t]).filter(x=>x),{withStylesTransform:O,getTransformedStyles:b}=qme({props:n,stylesCtx:r,themeName:y});return(x,v)=>({className:Ime({theme:f,options:v,themeName:y,selector:x,classNamesPrefix:h,classNames:l,classes:e,unstyled:a,className:i,rootSelector:o,props:n,stylesCtx:r,withStaticClasses:m,headless:g,transformedStyles:b([v==null?void 0:v.styles,c])}),style:Lme({theme:f,themeName:y,selector:x,options:v,props:n,stylesCtx:r,rootSelector:o,styles:c,style:s,vars:u,varsResolver:d,headless:g,withStylesTransform:O})})}function XN(t,e){return typeof t=="boolean"?t:e.autoContrast}function cQ(t){const e=document.createElement("style");return e.setAttribute("data-mantine-styles","inline"),e.innerHTML="*, *::before, *::after {transition: none !important;}",e.setAttribute("data-mantine-disable-transition","true"),t&&e.setAttribute("nonce",t),document.head.appendChild(e),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function Vme({keepTransitions:t}={}){const e=S.useRef(),n=S.useRef(),r=S.useContext(zN),i=eS(),s=S.useRef(i==null?void 0:i());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const o=d=>{r.setColorScheme(d),e.current=t?()=>{}:cQ(s.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{var f;(f=e.current)==null||f.call(e)},10)},a=()=>{r.clearColorScheme(),e.current=t?()=>{}:cQ(s.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{var d;(d=e.current)==null||d.call(e)},10)},l=Ape("light",{getInitialValueInEffect:!1}),c=r.colorScheme==="auto"?l:r.colorScheme,u=S.useCallback(()=>o(c==="light"?"dark":"light"),[o,c]);return S.useEffect(()=>()=>{var d;(d=e.current)==null||d.call(e),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:o,clearColorScheme:a,toggleColorScheme:u}}function je(t,e,n){var o;const r=zi(),i=(o=r.components[t])==null?void 0:o.defaultProps,s=typeof i=="function"?i(r):i;return{...e,...s,...LN(n)}}function Y_(t){return Yo(t).reduce((e,n)=>t[n]!==void 0?`${e}${bpe(n)}:${t[n]};`:e,"").trim()}function Bme({selector:t,styles:e,media:n,container:r}){const i=e?Y_(e):"",s=Array.isArray(n)?n.map(a=>`@media${a.query}{${t}{${Y_(a.styles)}}}`):[],o=Array.isArray(r)?r.map(a=>`@container ${a.query}{${t}{${Y_(a.styles)}}}`):[];return`${i?`${t}{${i}}`:""}${s.join("")}${o.join("")}`.trim()}function zme(t){const e=eS();return p.jsx("style",{"data-mantine-styles":"inline",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:Bme(t)}})}function lp(t){const{m:e,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:l,ms:c,p:u,px:d,py:f,pt:h,pb:m,pl:g,pr:y,pe:O,ps:b,bd:x,bg:v,c:w,opacity:_,ff:$,fz:k,fw:j,lts:P,ta:R,lh:N,fs:A,tt:C,td:T,w:E,miw:I,maw:M,h:Q,mih:B,mah:Z,bgsz:W,bgp:oe,bgr:le,bga:U,pos:G,top:ie,left:Y,bottom:L,right:ae,inset:q,display:te,flex:re,hiddenFrom:ue,visibleFrom:fe,lightHidden:Ee,darkHidden:pe,sx:z,...ee}=t;return{styleProps:LN({m:e,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:l,ms:c,p:u,px:d,py:f,pt:h,pb:m,pl:g,pr:y,pe:O,ps:b,bd:x,bg:v,c:w,opacity:_,ff:$,fz:k,fw:j,lts:P,ta:R,lh:N,fs:A,tt:C,td:T,w:E,miw:I,maw:M,h:Q,mih:B,mah:Z,bgsz:W,bgp:oe,bgr:le,bga:U,pos:G,top:ie,left:Y,bottom:L,right:ae,inset:q,display:te,flex:re,hiddenFrom:ue,visibleFrom:fe,lightHidden:Ee,darkHidden:pe,sx:z}),rest:ee}}const Wme={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function YN(t,e){const n=Kc({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function Ume(t,e){const n=Kc({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:YN(t,e)}function Zme(t,e){if(typeof t=="number")return ye(t);if(typeof t=="string"){const[n,r,...i]=t.split(" ").filter(o=>o.trim()!=="");let s=`${ye(n)}`;return r&&(s+=` ${r}`),i.length>0&&(s+=` ${YN(i.join(" "),e)}`),s.trim()}return t}const uQ={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function Xme(t){return typeof t=="string"&&t in uQ?uQ[t]:t}const Yme=["h1","h2","h3","h4","h5","h6"];function Gme(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&Yme.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?ye(t):t}function Hme(t){return t}const Kme=["h1","h2","h3","h4","h5","h6"];function Jme(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&Kme.includes(t)?`var(--mantine-${t}-line-height)`:t}function ege(t){return typeof t=="number"?ye(t):t}function tge(t,e){if(typeof t=="number")return ye(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return ye(t);const r=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return t}const G_={color:YN,textColor:Ume,fontSize:Gme,spacing:tge,identity:Hme,size:ege,lineHeight:Jme,fontFamily:Xme,border:Zme};function dQ(t){return t.replace("(min-width: ","").replace("em)","")}function nge({media:t,...e}){const r=Object.keys(t).sort((i,s)=>Number(dQ(i))-Number(dQ(s))).map(i=>({query:i,styles:t[i]}));return{...e,media:r}}function rge(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function ige(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function sge(t){return typeof t=="object"&&t!==null?Yo(t).filter(e=>e!=="base"):[]}function oge(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function age({styleProps:t,data:e,theme:n}){return nge(Yo(t).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const s=e[i],o=Array.isArray(s.property)?s.property:[s.property],a=ige(t[i]);if(!rge(t[i]))return o.forEach(c=>{r.inlineStyles[c]=G_[s.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=sge(t[i]);return o.forEach(c=>{a&&(r.styles[c]=G_[s.type](a,n)),l.forEach(u=>{const d=`(min-width: ${n.breakpoints[u]})`;r.media[d]={...r.media[d],[c]:G_[s.type](oge(t[i],u),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function lge(){return`__m__-${S.useId().replace(/:/g,"")}`}function u6(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...u6(r,e)}),{}):typeof t=="function"?t(e):t??{}}function d6(t){return t.startsWith("data-")?t:`data-${t}`}function cge(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r===void 0||r===""||r===!1||r===null||(e[d6(n)]=t[n]),e},{})}function f6(t){return t?typeof t=="string"?{[d6(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...f6(n)}),{}):cge(t):null}function hC(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...hC(r,e)}),{}):typeof t=="function"?t(e):t??{}}function uge({theme:t,style:e,vars:n,styleProps:r}){const i=hC(e,t),s=hC(n,t);return{...i,...s,...r}}const h6=S.forwardRef(({component:t,style:e,__vars:n,className:r,variant:i,mod:s,size:o,hiddenFrom:a,visibleFrom:l,lightHidden:c,darkHidden:u,renderRoot:d,__size:f,...h},m)=>{var k;const g=zi(),y=t||"div",{styleProps:O,rest:b}=lp(h),x=sme(),v=(k=x==null?void 0:x())==null?void 0:k(O.sx),w=lge(),_=age({styleProps:O,theme:g,data:Wme}),$={ref:m,style:uge({theme:g,style:e,vars:n,styleProps:_.inlineStyles}),className:br(r,v,{[w]:_.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":u,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":Y9(o)?void 0:o||void 0,size:f,...f6(s),...b};return p.jsxs(p.Fragment,{children:[_.hasResponsiveStyles&&p.jsx(zme,{selector:`.${w}`,styles:_.styles,media:_.media}),typeof d=="function"?d($):p.jsx(y,{...$})]})});h6.displayName="@mantine/core/Box";const Ae=h6;function p6(t){return t}function Fe(t){const e=S.forwardRef(t);return e.extend=p6,e.withProps=n=>{const r=S.forwardRef((i,s)=>p.jsx(e,{...n,...i,ref:s}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e}function Jc(t){const e=S.forwardRef(t);return e.withProps=n=>{const r=S.forwardRef((i,s)=>p.jsx(e,{...n,...i,ref:s}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e.extend=p6,e}const dge=S.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function eu(){return S.useContext(dge)}const[fge,ws]=xl("ScrollArea.Root component was not found in tree");function wh(t,e){const n=Tu(e);ap(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}const hge=S.forwardRef((t,e)=>{const{style:n,...r}=t,i=ws(),[s,o]=S.useState(0),[a,l]=S.useState(0),c=!!(s&&a);return wh(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),wh(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?p.jsx("div",{...r,ref:e,style:{...n,width:s,height:a}}):null}),pge=S.forwardRef((t,e)=>{const n=ws(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(hge,{...t,ref:e}):null}),mge={scrollHideDelay:1e3,type:"hover"},m6=S.forwardRef((t,e)=>{const n=je("ScrollAreaRoot",mge,t),{type:r,scrollHideDelay:i,scrollbars:s,...o}=n,[a,l]=S.useState(null),[c,u]=S.useState(null),[d,f]=S.useState(null),[h,m]=S.useState(null),[g,y]=S.useState(null),[O,b]=S.useState(0),[x,v]=S.useState(0),[w,_]=S.useState(!1),[$,k]=S.useState(!1),j=gn(e,P=>l(P));return p.jsx(fge,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:w,onScrollbarXEnabledChange:_,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:$,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:v},children:p.jsx(Ae,{...o,ref:j,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${O}px`,"--sa-corner-height":s!=="xy"?"0px":`${x}px`}})})});m6.displayName="@mantine/core/ScrollAreaRoot";function g6(t,e){const n=t/e;return Number.isNaN(n)?0:n}function nS(t){const e=g6(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function y6(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function gge(t,[e,n]){return Math.min(n,Math.max(e,t))}function fQ(t,e,n="ltr"){const r=nS(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=gge(t,l);return y6([0,o],[0,a])(c)}function yge(t,e,n,r="ltr"){const i=nS(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return y6([l,c],d)(t)}function O6(t,e){return t>0&&t<e}function Wv(t){return t?parseInt(t,10):0}function ld(t,e,{checkForDefaultPrevented:n=!0}={}){return r=>{t==null||t(r),(n===!1||!r.defaultPrevented)&&(e==null||e(r))}}const[Oge,b6]=xl("ScrollAreaScrollbar was not found in tree"),x6=S.forwardRef((t,e)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:c,onResize:u,...d}=t,f=ws(),[h,m]=S.useState(null),g=gn(e,k=>m(k)),y=S.useRef(null),O=S.useRef(""),{viewport:b}=f,x=n.content-n.viewport,v=Tu(c),w=Tu(a),_=K0(u,10),$=k=>{if(y.current){const j=k.clientX-y.current.left,P=k.clientY-y.current.top;l({x:j,y:P})}};return S.useEffect(()=>{const k=j=>{const P=j.target;(h==null?void 0:h.contains(P))&&v(j,x)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[b,h,x,v]),S.useEffect(w,[n,w]),wh(h,_),wh(f.content,_),p.jsx(Oge,{value:{scrollbar:h,hasThumb:r,onThumbChange:Tu(i),onThumbPointerUp:Tu(s),onThumbPositionChange:w,onThumbPointerDown:Tu(o)},children:p.jsx("div",{...d,ref:g,"data-mantine-scrollbar":!0,style:{position:"absolute",...d.style},onPointerDown:ld(t.onPointerDown,k=>{k.preventDefault(),k.button===0&&(k.target.setPointerCapture(k.pointerId),y.current=h.getBoundingClientRect(),O.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",$(k))}),onPointerMove:ld(t.onPointerMove,$),onPointerUp:ld(t.onPointerUp,k=>{k.preventDefault();const j=k.target;j.hasPointerCapture(k.pointerId)&&j.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=O.current,y.current=null})})})}),v6=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...s}=t,o=ws(),[a,l]=S.useState(),c=S.useRef(null),u=gn(e,c,o.onScrollbarXChange);return S.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),p.jsx(x6,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{...i,"--sa-thumb-width":`${nS(n)}px`},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),O6(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Wv(a.paddingLeft),paddingEnd:Wv(a.paddingRight)}})}})});v6.displayName="@mantine/core/ScrollAreaScrollbarX";const w6=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...s}=t,o=ws(),[a,l]=S.useState(),c=S.useRef(null),u=gn(e,c,o.onScrollbarYChange);return S.useEffect(()=>{c.current&&l(window.getComputedStyle(c.current))},[]),p.jsx(x6,{...s,"data-orientation":"vertical",ref:u,sizes:n,style:{"--sa-thumb-height":`${nS(n)}px`,...i},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),O6(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Wv(a.paddingTop),paddingEnd:Wv(a.paddingBottom)}})}})});w6.displayName="@mantine/core/ScrollAreaScrollbarY";const rS=S.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,{dir:i}=eu(),s=ws(),o=S.useRef(null),a=S.useRef(0),[l,c]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=g6(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>{o.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},f=(h,m)=>yge(h,a.current,l,m);return n==="horizontal"?p.jsx(v6,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,m=fQ(h,l,i);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,i))}}):n==="vertical"?p.jsx(w6,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,m=fQ(h,l);l.scrollbar.size===0?o.current.style.opacity="0":o.current.style.opacity="1",o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null});rS.displayName="@mantine/core/ScrollAreaScrollbarVisible";const GN=S.forwardRef((t,e)=>{const n=ws(),{forceMount:r,...i}=t,[s,o]=S.useState(!1),a=t.orientation==="horizontal",l=K0(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return wh(n.viewport,l),wh(n.content,l),r||s?p.jsx(rS,{"data-state":s?"visible":"hidden",...i,ref:e}):null});GN.displayName="@mantine/core/ScrollAreaScrollbarAuto";const S6=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ws(),[s,o]=S.useState(!1);return S.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),n||s?p.jsx(GN,{"data-state":s?"visible":"hidden",...r,ref:e}):null});S6.displayName="@mantine/core/ScrollAreaScrollbarHover";const bge=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ws(),s=t.orientation==="horizontal",[o,a]=S.useState("hidden"),l=K0(()=>a("idle"),100);return S.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay]),S.useEffect(()=>{const{viewport:c}=i,u=s?"scrollLeft":"scrollTop";if(c){let d=c[u];const f=()=>{const h=c[u];d!==h&&(a("scrolling"),l()),d=h};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,s,l]),n||o!=="hidden"?p.jsx(rS,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ld(t.onPointerEnter,()=>a("interacting")),onPointerLeave:ld(t.onPointerLeave,()=>a("idle"))}):null}),pC=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ws(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return S.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?p.jsx(S6,{...r,ref:e,forceMount:n}):i.type==="scroll"?p.jsx(bge,{...r,ref:e,forceMount:n}):i.type==="auto"?p.jsx(GN,{...r,ref:e,forceMount:n}):i.type==="always"?p.jsx(rS,{...r,ref:e}):null});pC.displayName="@mantine/core/ScrollAreaScrollbar";function xge(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const _6=S.forwardRef((t,e)=>{const{style:n,...r}=t,i=ws(),s=b6(),{onThumbPositionChange:o}=s,a=gn(e,u=>s.onThumbChange(u)),l=S.useRef(),c=K0(()=>{l.current&&(l.current(),l.current=void 0)},100);return S.useEffect(()=>{const{viewport:u}=i;if(u){const d=()=>{if(c(),!l.current){const f=xge(u,o);l.current=f,o()}};return o(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[i.viewport,c,o]),p.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:ld(t.onPointerDownCapture,u=>{const f=u.target.getBoundingClientRect(),h=u.clientX-f.left,m=u.clientY-f.top;s.onThumbPointerDown({x:h,y:m})}),onPointerUp:ld(t.onPointerUp,s.onThumbPointerUp)})});_6.displayName="@mantine/core/ScrollAreaThumb";const mC=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=b6();return n||i.hasThumb?p.jsx(_6,{ref:e,...r}):null});mC.displayName="@mantine/core/ScrollAreaThumb";const $6=S.forwardRef(({children:t,style:e,...n},r)=>{const i=ws(),s=gn(r,i.onViewportChange);return p.jsx(Ae,{...n,ref:s,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e},children:p.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:t})})});$6.displayName="@mantine/core/ScrollAreaViewport";var HN={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const k6={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},vge=(t,{scrollbarSize:e})=>({root:{"--scrollarea-scrollbar-size":ye(e)}}),Hy=Fe((t,e)=>{const n=je("ScrollArea",k6,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,scrollbarSize:l,vars:c,type:u,scrollHideDelay:d,viewportProps:f,viewportRef:h,onScrollPositionChange:m,children:g,offsetScrollbars:y,scrollbars:O,onBottomReached:b,onTopReached:x,...v}=n,[w,_]=S.useState(!1),$=st({name:"ScrollArea",props:n,classes:HN,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:vge});return p.jsxs(m6,{type:u==="never"?"always":u,scrollHideDelay:d,ref:e,scrollbars:O,...$("root"),...v,children:[p.jsx($6,{...f,...$("viewport",{style:f==null?void 0:f.style}),ref:h,"data-offset-scrollbars":y===!0?"xy":y||void 0,"data-scrollbars":O||void 0,onScroll:k=>{var N;(N=f==null?void 0:f.onScroll)==null||N.call(f,k),m==null||m({x:k.currentTarget.scrollLeft,y:k.currentTarget.scrollTop});const{scrollTop:j,scrollHeight:P,clientHeight:R}=k.currentTarget;j-(P-R)>=0&&(b==null||b()),j===0&&(x==null||x())},children:g}),(O==="xy"||O==="x")&&p.jsx(pC,{...$("scrollbar"),orientation:"horizontal","data-hidden":u==="never"||void 0,forceMount:!0,onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:p.jsx(mC,{...$("thumb")})}),(O==="xy"||O==="y")&&p.jsx(pC,{...$("scrollbar"),orientation:"vertical","data-hidden":u==="never"||void 0,forceMount:!0,onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:p.jsx(mC,{...$("thumb")})}),p.jsx(pge,{...$("corner"),"data-hovered":w||void 0,"data-hidden":u==="never"||void 0})]})});Hy.displayName="@mantine/core/ScrollArea";const KN=Fe((t,e)=>{const{children:n,classNames:r,styles:i,scrollbarSize:s,scrollHideDelay:o,type:a,dir:l,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:m,scrollbars:g,style:y,vars:O,onBottomReached:b,onTopReached:x,...v}=je("ScrollAreaAutosize",k6,t);return p.jsx(Ae,{...v,ref:e,style:[{display:"flex",overflow:"auto"},y],children:p.jsx(Ae,{style:{display:"flex",flexDirection:"column",flex:1},children:p.jsx(Hy,{classNames:r,styles:i,scrollHideDelay:o,scrollbarSize:s,type:a,dir:l,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:m,vars:O,scrollbars:g,onBottomReached:b,onTopReached:x,children:n})})})});Hy.classes=HN;KN.displayName="@mantine/core/ScrollAreaAutosize";KN.classes=HN;Hy.Autosize=KN;var P6={root:"m_87cf2631"};const wge={__staticSelector:"UnstyledButton"},ul=Jc((t,e)=>{const n=je("UnstyledButton",wge,t),{className:r,component:i="button",__staticSelector:s,unstyled:o,classNames:a,styles:l,style:c,...u}=n,d=st({name:s,props:n,classes:P6,className:r,style:c,classNames:a,styles:l,unstyled:o});return p.jsx(Ae,{...d("root",{focusable:!0}),component:i,ref:e,type:i==="button"?"button":void 0,...u})});ul.classes=P6;ul.displayName="@mantine/core/UnstyledButton";var C6={root:"m_515a97f8"};const Sge={},JN=Fe((t,e)=>{const n=je("VisuallyHidden",Sge,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,...c}=n,u=st({name:"VisuallyHidden",classes:C6,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a});return p.jsx(Ae,{component:"span",ref:e,...u("root"),...c})});JN.classes=C6;JN.displayName="@mantine/core/VisuallyHidden";var j6={root:"m_1b7284a3"};const _ge={},$ge=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:nr(e),"--paper-shadow":VN(n)}}),eA=Jc((t,e)=>{const n=je("Paper",_ge,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,withBorder:l,vars:c,radius:u,shadow:d,variant:f,mod:h,...m}=n,g=st({name:"Paper",props:n,classes:j6,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:c,varsResolver:$ge});return p.jsx(Ae,{ref:e,mod:[{"data-with-border":l},h],...g("root"),variant:f,...m})});eA.classes=j6;eA.displayName="@mantine/core/Paper";function iS(){return typeof window<"u"}function cp(t){return E6(t)?(t.nodeName||"").toLowerCase():"#document"}function hi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ua(t){var e;return(e=(E6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function E6(t){return iS()?t instanceof Node||t instanceof hi(t).Node:!1}function Zt(t){return iS()?t instanceof Element||t instanceof hi(t).Element:!1}function Li(t){return iS()?t instanceof HTMLElement||t instanceof hi(t).HTMLElement:!1}function gC(t){return!iS()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hi(t).ShadowRoot}function Ky(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ps(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function kge(t){return["table","td","th"].includes(cp(t))}function sS(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function tA(t){const e=oS(),n=Zt(t)?ps(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Pge(t){let e=dl(t);for(;Li(e)&&!Tc(e);){if(tA(e))return e;if(sS(e))return null;e=dl(e)}return null}function oS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Tc(t){return["html","body","#document"].includes(cp(t))}function ps(t){return hi(t).getComputedStyle(t)}function aS(t){return Zt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function dl(t){if(cp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gC(t)&&t.host||ua(t);return gC(e)?e.host:e}function T6(t){const e=dl(t);return Tc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Li(e)&&Ky(e)?e:T6(e)}function el(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=T6(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=hi(i);if(s){const a=yC(o);return e.concat(o,o.visualViewport||[],Ky(i)?i:[],a&&n?el(a):[])}return e.concat(i,el(i,[],n))}function yC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hQ(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function Pg(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&gC(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function N6(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function A6(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function Cge(t){return Tge()?!1:!pQ()&&t.width===0&&t.height===0||pQ()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function jge(){return/apple/i.test(navigator.vendor)}function pQ(){const t=/android/i;return t.test(N6())||t.test(A6())}function Ege(){return N6().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Tge(){return A6().includes("jsdom/")}function OC(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}function Nge(t){return"nativeEvent"in t}function Age(t){return t.matches("html,body")}function Lu(t){return(t==null?void 0:t.ownerDocument)||document}function H_(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function bf(t){return"composedPath"in t?t.composedPath()[0]:t.target}const Rge="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Mge(t){return Li(t)&&t.matches(Rge)}const no=Math.min,Tr=Math.max,Uv=Math.round,xb=Math.floor,Go=t=>({x:t,y:t}),Ige={left:"right",right:"left",bottom:"top",top:"bottom"},Dge={start:"end",end:"start"};function bC(t,e,n){return Tr(t,no(e,n))}function fl(t,e){return typeof t=="function"?t(e):t}function ro(t){return t.split("-")[0]}function up(t){return t.split("-")[1]}function nA(t){return t==="x"?"y":"x"}function rA(t){return t==="y"?"height":"width"}function hl(t){return["top","bottom"].includes(ro(t))?"y":"x"}function iA(t){return nA(hl(t))}function Qge(t,e,n){n===void 0&&(n=!1);const r=up(t),i=iA(t),s=rA(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Zv(o)),[o,Zv(o)]}function Fge(t){const e=Zv(t);return[xC(t),e,xC(e)]}function xC(t){return t.replace(/start|end/g,e=>Dge[e])}function Lge(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function qge(t,e,n,r){const i=up(t);let s=Lge(ro(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(xC)))),s}function Zv(t){return t.replace(/left|right|bottom|top/g,e=>Ige[e])}function Vge(t){return{top:0,right:0,bottom:0,left:0,...t}}function sA(t){return typeof t!="number"?Vge(t):{top:t,right:t,bottom:t,left:t}}function Sh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function mQ(t,e,n){let{reference:r,floating:i}=t;const s=hl(e),o=iA(e),a=rA(o),l=ro(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(up(e)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1);break}return h}const Bge=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=mQ(c,r,l),f=r,h={},m=0;for(let g=0;g<a.length;g++){const{name:y,fn:O}=a[g],{x:b,y:x,data:v,reset:w}=await O({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});u=b??u,d=x??d,h={...h,[y]:{...h[y],...v}},w&&m<=50&&(m++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):w.rects),{x:u,y:d}=mQ(c,f,l)),g=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function oA(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=fl(e,t),m=sA(h),y=a[f?d==="floating"?"reference":"floating":d],O=Sh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),v=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},w=Sh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:x,strategy:l}):b);return{top:(O.top-w.top+m.top)/v.y,bottom:(w.bottom-O.bottom+m.bottom)/v.y,left:(O.left-w.left+m.left)/v.x,right:(w.right-O.right+m.right)/v.x}}const zge=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=fl(t,e)||{};if(c==null)return{};const d=sA(u),f={x:n,y:r},h=iA(i),m=rA(h),g=await o.getDimensions(c),y=h==="y",O=y?"top":"left",b=y?"bottom":"right",x=y?"clientHeight":"clientWidth",v=s.reference[m]+s.reference[h]-f[h]-s.floating[m],w=f[h]-s.reference[h],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let $=_?_[x]:0;(!$||!await(o.isElement==null?void 0:o.isElement(_)))&&($=a.floating[x]||s.floating[m]);const k=v/2-w/2,j=$/2-g[m]/2-1,P=no(d[O],j),R=no(d[b],j),N=P,A=$-g[m]-R,C=$/2-g[m]/2+k,T=bC(N,C,A),E=!l.arrow&&up(i)!=null&&C!==T&&s.reference[m]/2-(C<N?P:R)-g[m]/2<0,I=E?C<N?C-N:C-A:0;return{[h]:f[h]+I,data:{[h]:T,centerOffset:C-T-I,...E&&{alignmentOffset:I}},reset:E}}}),Wge=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=fl(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const O=ro(i),b=hl(a),x=ro(a)===a,v=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=f||(x||!g?[Zv(a)]:Fge(a)),_=m!=="none";!f&&_&&w.push(...qge(a,g,m,v));const $=[a,...w],k=await oA(e,y),j=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&j.push(k[O]),d){const C=Qge(i,o,v);j.push(k[C[0]],k[C[1]])}if(P=[...P,{placement:i,overflows:j}],!j.every(C=>C<=0)){var R,N;const C=(((R=s.flip)==null?void 0:R.index)||0)+1,T=$[C];if(T)return{data:{index:C,overflows:P},reset:{placement:T}};let E=(N=P.filter(I=>I.overflows[0]<=0).sort((I,M)=>I.overflows[1]-M.overflows[1])[0])==null?void 0:N.placement;if(!E)switch(h){case"bestFit":{var A;const I=(A=P.filter(M=>{if(_){const Q=hl(M.placement);return Q===b||Q==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(Q=>Q>0).reduce((Q,B)=>Q+B,0)]).sort((M,Q)=>M[1]-Q[1])[0])==null?void 0:A[0];I&&(E=I);break}case"initialPlacement":E=a;break}if(i!==E)return{reset:{placement:E}}}return{}}}};function R6(t){const e=no(...t.map(s=>s.left)),n=no(...t.map(s=>s.top)),r=Tr(...t.map(s=>s.right)),i=Tr(...t.map(s=>s.bottom));return{x:e,y:n,width:r-e,height:i-n}}function Uge(t){const e=t.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<e.length;i++){const s=e[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>Sh(R6(i)))}const Zge=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=e,{padding:a=2,x:l,y:c}=fl(t,e),u=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),d=Uge(u),f=Sh(R6(u)),h=sA(a);function m(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&c!=null)return d.find(y=>l>y.left-h.left&&l<y.right+h.right&&c>y.top-h.top&&c<y.bottom+h.bottom)||f;if(d.length>=2){if(hl(n)==="y"){const P=d[0],R=d[d.length-1],N=ro(n)==="top",A=P.top,C=R.bottom,T=N?P.left:R.left,E=N?P.right:R.right,I=E-T,M=C-A;return{top:A,bottom:C,left:T,right:E,width:I,height:M,x:T,y:A}}const y=ro(n)==="left",O=Tr(...d.map(P=>P.right)),b=no(...d.map(P=>P.left)),x=d.filter(P=>y?P.left===b:P.right===O),v=x[0].top,w=x[x.length-1].bottom,_=b,$=O,k=$-_,j=w-v;return{top:v,bottom:w,left:_,right:$,width:k,height:j,x:_,y:v}}return f}const g=await s.getElementRects({reference:{getBoundingClientRect:m},floating:r.floating,strategy:o});return i.reference.x!==g.reference.x||i.reference.y!==g.reference.y||i.reference.width!==g.reference.width||i.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function Xge(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ro(n),a=up(n),l=hl(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=fl(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const Yge=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Xge(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Gge=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:O,y:b}=y;return{x:O,y:b}}},...l}=fl(t,e),c={x:n,y:r},u=await oA(e,l),d=hl(ro(i)),f=nA(d);let h=c[f],m=c[d];if(s){const y=f==="y"?"top":"left",O=f==="y"?"bottom":"right",b=h+u[y],x=h-u[O];h=bC(b,h,x)}if(o){const y=d==="y"?"top":"left",O=d==="y"?"bottom":"right",b=m+u[y],x=m-u[O];m=bC(b,m,x)}const g=a.fn({...e,[f]:h,[d]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:s,[d]:o}}}}}},Hge=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=fl(t,e),u={x:n,y:r},d=hl(i),f=nA(d);let h=u[f],m=u[d];const g=fl(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=f==="y"?"height":"width",v=s.reference[f]-s.floating[x]+y.mainAxis,w=s.reference[f]+s.reference[x]-y.mainAxis;h<v?h=v:h>w&&(h=w)}if(c){var O,b;const x=f==="y"?"width":"height",v=["top","left"].includes(ro(i)),w=s.reference[d]-s.floating[x]+(v&&((O=o.offset)==null?void 0:O[d])||0)+(v?0:y.crossAxis),_=s.reference[d]+s.reference[x]+(v?0:((b=o.offset)==null?void 0:b[d])||0)-(v?y.crossAxis:0);m<w?m=w:m>_&&(m=_)}return{[f]:h,[d]:m}}}},Kge=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=fl(t,e),u=await oA(e,c),d=ro(i),f=up(i),h=hl(i)==="y",{width:m,height:g}=s.floating;let y,O;d==="top"||d==="bottom"?(y=d,O=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(O=d,y=f==="end"?"top":"bottom");const b=g-u.top-u.bottom,x=m-u.left-u.right,v=no(g-u[y],b),w=no(m-u[O],x),_=!e.middlewareData.shift;let $=v,k=w;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&($=b),_&&!f){const P=Tr(u.left,0),R=Tr(u.right,0),N=Tr(u.top,0),A=Tr(u.bottom,0);h?k=m-2*(P!==0||R!==0?P+R:Tr(u.left,u.right)):$=g-2*(N!==0||A!==0?N+A:Tr(u.top,u.bottom))}await l({...e,availableWidth:k,availableHeight:$});const j=await o.getDimensions(a.floating);return m!==j.width||g!==j.height?{reset:{rects:!0}}:{}}}};function M6(t){const e=ps(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Li(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Uv(n)!==s||Uv(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function aA(t){return Zt(t)?t:t.contextElement}function qf(t){const e=aA(t);if(!Li(e))return Go(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=M6(e);let o=(s?Uv(n.width):n.width)/r,a=(s?Uv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Jge=Go(0);function I6(t){const e=hi(t);return!oS()||!e.visualViewport?Jge:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function eye(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==hi(t)?!1:e}function gd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=aA(t);let o=Go(1);e&&(r?Zt(r)&&(o=qf(r)):o=qf(t));const a=eye(s,n,r)?I6(s):Go(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const f=hi(s),h=r&&Zt(r)?hi(r):r;let m=f,g=yC(m);for(;g&&r&&h!==m;){const y=qf(g),O=g.getBoundingClientRect(),b=ps(g),x=O.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,v=O.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=x,c+=v,m=hi(g),g=yC(m)}}return Sh({width:u,height:d,x:l,y:c})}function lA(t,e){const n=aS(t).scrollLeft;return e?e.left+n:gd(ua(t)).left+n}function D6(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:lA(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function tye(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ua(r),a=e?sS(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Go(1);const u=Go(0),d=Li(r);if((d||!d&&!s)&&((cp(r)!=="body"||Ky(o))&&(l=aS(r)),Li(r))){const h=gd(r);c=qf(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const f=o&&!d&&!s?D6(o,l,!0):Go(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function nye(t){return Array.from(t.getClientRects())}function rye(t){const e=ua(t),n=aS(t),r=t.ownerDocument.body,i=Tr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Tr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+lA(t);const a=-n.scrollTop;return ps(r).direction==="rtl"&&(o+=Tr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function iye(t,e){const n=hi(t),r=ua(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=oS();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function sye(t,e){const n=gd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Li(t)?qf(t):Go(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function gQ(t,e,n){let r;if(e==="viewport")r=iye(t,n);else if(e==="document")r=rye(ua(t));else if(Zt(e))r=sye(e,n);else{const i=I6(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Sh(r)}function Q6(t,e){const n=dl(t);return n===e||!Zt(n)||Tc(n)?!1:ps(n).position==="fixed"||Q6(n,e)}function oye(t,e){const n=e.get(t);if(n)return n;let r=el(t,[],!1).filter(a=>Zt(a)&&cp(a)!=="body"),i=null;const s=ps(t).position==="fixed";let o=s?dl(t):t;for(;Zt(o)&&!Tc(o);){const a=ps(o),l=tA(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ky(o)&&!l&&Q6(t,o))?r=r.filter(u=>u!==o):i=a,o=dl(o)}return e.set(t,r),r}function aye(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?sS(e)?[]:oye(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=gQ(e,u,i);return c.top=Tr(d.top,c.top),c.right=no(d.right,c.right),c.bottom=no(d.bottom,c.bottom),c.left=Tr(d.left,c.left),c},gQ(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lye(t){const{width:e,height:n}=M6(t);return{width:e,height:n}}function cye(t,e,n){const r=Li(e),i=ua(e),s=n==="fixed",o=gd(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Go(0);if(r||!r&&!s)if((cp(e)!=="body"||Ky(i))&&(a=aS(e)),r){const f=gd(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=lA(i));const c=i&&!r&&!s?D6(i,a):Go(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function K_(t){return ps(t).position==="static"}function yQ(t,e){if(!Li(t)||ps(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ua(t)===n&&(n=n.ownerDocument.body),n}function F6(t,e){const n=hi(t);if(sS(t))return n;if(!Li(t)){let i=dl(t);for(;i&&!Tc(i);){if(Zt(i)&&!K_(i))return i;i=dl(i)}return n}let r=yQ(t,e);for(;r&&kge(r)&&K_(r);)r=yQ(r,e);return r&&Tc(r)&&K_(r)&&!tA(r)?n:r||Pge(t)||n}const uye=async function(t){const e=this.getOffsetParent||F6,n=this.getDimensions,r=await n(t.floating);return{reference:cye(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dye(t){return ps(t).direction==="rtl"}const fye={convertOffsetParentRelativeRectToViewportRelativeRect:tye,getDocumentElement:ua,getClippingRect:aye,getOffsetParent:F6,getElementRects:uye,getClientRects:nye,getDimensions:lye,getScale:qf,isElement:Zt,isRTL:dye};function hye(t,e){let n=null,r;const i=ua(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const h=xb(u),m=xb(i.clientWidth-(c+d)),g=xb(i.clientHeight-(u+f)),y=xb(c),b={rootMargin:-h+"px "+-m+"px "+-g+"px "+-y+"px",threshold:Tr(0,no(1,l))||1};let x=!0;function v(w){const _=w[0].intersectionRatio;if(_!==l){if(!x)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(v,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(v,b)}n.observe(t)}return o(!0),s}function pye(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=aA(t),u=i||s?[...c?el(c):[],...el(e)]:[];u.forEach(O=>{i&&O.addEventListener("scroll",n,{passive:!0}),s&&O.addEventListener("resize",n)});const d=c&&a?hye(c,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(O=>{let[b]=O;b&&b.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let m,g=l?gd(t):null;l&&y();function y(){const O=gd(t);g&&(O.x!==g.x||O.y!==g.y||O.width!==g.width||O.height!==g.height)&&n(),g=O,m=requestAnimationFrame(y)}return n(),()=>{var O;u.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d==null||d(),(O=h)==null||O.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const mye=Yge,gye=Gge,yye=Wge,Oye=Kge,OQ=zge,bye=Zge,xye=Hge,vye=(t,e,n)=>{const r=new Map,i={platform:fye,...n},s={...i.platform,_c:r};return Bge(t,e,{...i,platform:s})};var Qx=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Xv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Xv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Xv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function L6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bQ(t,e){const n=L6(t);return Math.round(e*n)/n}function J_(t){const e=S.useRef(t);return Qx(()=>{e.current=t}),e}function wye(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=S.useState(r);Xv(f,r)||h(r);const[m,g]=S.useState(null),[y,O]=S.useState(null),b=S.useCallback(M=>{M!==_.current&&(_.current=M,g(M))},[]),x=S.useCallback(M=>{M!==$.current&&($.current=M,O(M))},[]),v=s||m,w=o||y,_=S.useRef(null),$=S.useRef(null),k=S.useRef(u),j=l!=null,P=J_(l),R=J_(i),N=J_(c),A=S.useCallback(()=>{if(!_.current||!$.current)return;const M={placement:e,strategy:n,middleware:f};R.current&&(M.platform=R.current),vye(_.current,$.current,M).then(Q=>{const B={...Q,isPositioned:N.current!==!1};C.current&&!Xv(k.current,B)&&(k.current=B,Xy.flushSync(()=>{d(B)}))})},[f,e,n,R,N]);Qx(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(M=>({...M,isPositioned:!1})))},[c]);const C=S.useRef(!1);Qx(()=>(C.current=!0,()=>{C.current=!1}),[]),Qx(()=>{if(v&&(_.current=v),w&&($.current=w),v&&w){if(P.current)return P.current(v,w,A);A()}},[v,w,A,P,j]);const T=S.useMemo(()=>({reference:_,floating:$,setReference:b,setFloating:x}),[b,x]),E=S.useMemo(()=>({reference:v,floating:w}),[v,w]),I=S.useMemo(()=>{const M={position:n,left:0,top:0};if(!E.floating)return M;const Q=bQ(E.floating,u.x),B=bQ(E.floating,u.y);return a?{...M,transform:"translate("+Q+"px, "+B+"px)",...L6(E.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:B}},[n,a,E.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:A,refs:T,elements:E,floatingStyles:I}),[u,A,T,E,I])}const Sye=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?OQ({element:r.current,padding:i}).fn(n):{}:r?OQ({element:r,padding:i}).fn(n):{}}}},q6=(t,e)=>({...mye(t),options:[t,e]}),cA=(t,e)=>({...gye(t),options:[t,e]}),xQ=(t,e)=>({...xye(t),options:[t,e]}),vC=(t,e)=>({...yye(t),options:[t,e]}),_ye=(t,e)=>({...Oye(t),options:[t,e]}),wC=(t,e)=>({...bye(t),options:[t,e]}),V6=(t,e)=>({...Sye(t),options:[t,e]}),B6={...nC},$ye=B6.useInsertionEffect,kye=$ye||(t=>t());function Kl(t){const e=S.useRef(()=>{});return kye(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Ho=typeof document<"u"?S.useLayoutEffect:S.useEffect;let vQ=!1,Pye=0;const wQ=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Pye++;function Cye(){const[t,e]=S.useState(()=>vQ?wQ():void 0);return Ho(()=>{t==null&&e(wQ())},[]),S.useEffect(()=>{vQ=!0},[]),t}const jye=B6.useId,z6=jye||Cye;function Eye(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const Tye=S.createContext(null),Nye=S.createContext(null),uA=()=>{var t;return((t=S.useContext(Tye))==null?void 0:t.id)||null},dA=()=>S.useContext(Nye);function fA(t){return"data-floating-ui-"+t}function e$(t){const e=S.useRef(t);return Ho(()=>{e.current=t}),e}const SQ=fA("safe-polygon");function Fx(t,e,n){return n&&!OC(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}function Aye(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=t,{enabled:a=!0,delay:l=0,handleClose:c=null,mouseOnly:u=!1,restMs:d=0,move:f=!0}=e,h=dA(),m=uA(),g=e$(c),y=e$(l),O=e$(n),b=S.useRef(),x=S.useRef(-1),v=S.useRef(),w=S.useRef(-1),_=S.useRef(!0),$=S.useRef(!1),k=S.useRef(()=>{}),j=S.useRef(!1),P=S.useCallback(()=>{var E;const I=(E=i.current.openEvent)==null?void 0:E.type;return(I==null?void 0:I.includes("mouse"))&&I!=="mousedown"},[i]);S.useEffect(()=>{if(!a)return;function E(I){let{open:M}=I;M||(clearTimeout(x.current),clearTimeout(w.current),_.current=!0,j.current=!1)}return s.on("openchange",E),()=>{s.off("openchange",E)}},[a,s]),S.useEffect(()=>{if(!a||!g.current||!n)return;function E(M){P()&&r(!1,M,"hover")}const I=Lu(o.floating).documentElement;return I.addEventListener("mouseleave",E),()=>{I.removeEventListener("mouseleave",E)}},[o.floating,n,r,a,g,P]);const R=S.useCallback(function(E,I,M){I===void 0&&(I=!0),M===void 0&&(M="hover");const Q=Fx(y.current,"close",b.current);Q&&!v.current?(clearTimeout(x.current),x.current=window.setTimeout(()=>r(!1,E,M),Q)):I&&(clearTimeout(x.current),r(!1,E,M))},[y,r]),N=Kl(()=>{k.current(),v.current=void 0}),A=Kl(()=>{if($.current){const E=Lu(o.floating).body;E.style.pointerEvents="",E.removeAttribute(SQ),$.current=!1}});S.useEffect(()=>{if(!a)return;function E(){return i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1}function I(Z){if(clearTimeout(x.current),_.current=!1,u&&!OC(b.current)||d>0&&!Fx(y.current,"open"))return;const W=Fx(y.current,"open",b.current);W?x.current=window.setTimeout(()=>{O.current||r(!0,Z,"hover")},W):r(!0,Z,"hover")}function M(Z){if(E())return;k.current();const W=Lu(o.floating);if(clearTimeout(w.current),j.current=!1,g.current&&i.current.floatingContext){n||clearTimeout(x.current),v.current=g.current({...i.current.floatingContext,tree:h,x:Z.clientX,y:Z.clientY,onClose(){A(),N(),R(Z,!0,"safe-polygon")}});const le=v.current;W.addEventListener("mousemove",le),k.current=()=>{W.removeEventListener("mousemove",le)};return}(b.current==="touch"?!Pg(o.floating,Z.relatedTarget):!0)&&R(Z)}function Q(Z){E()||i.current.floatingContext&&(g.current==null||g.current({...i.current.floatingContext,tree:h,x:Z.clientX,y:Z.clientY,onClose(){A(),N(),R(Z)}})(Z))}if(Zt(o.domReference)){var B;const Z=o.domReference;return n&&Z.addEventListener("mouseleave",Q),(B=o.floating)==null||B.addEventListener("mouseleave",Q),f&&Z.addEventListener("mousemove",I,{once:!0}),Z.addEventListener("mouseenter",I),Z.addEventListener("mouseleave",M),()=>{var W;n&&Z.removeEventListener("mouseleave",Q),(W=o.floating)==null||W.removeEventListener("mouseleave",Q),f&&Z.removeEventListener("mousemove",I),Z.removeEventListener("mouseenter",I),Z.removeEventListener("mouseleave",M)}}},[o,a,t,u,d,f,R,N,A,r,n,O,h,y,g,i]),Ho(()=>{var E;if(a&&n&&(E=g.current)!=null&&E.__options.blockPointerEvents&&P()){$.current=!0;const M=o.floating;if(Zt(o.domReference)&&M){var I;const Q=Lu(o.floating).body;Q.setAttribute(SQ,"");const B=o.domReference,Z=h==null||(I=h.nodesRef.current.find(W=>W.id===m))==null||(I=I.context)==null?void 0:I.elements.floating;return Z&&(Z.style.pointerEvents=""),Q.style.pointerEvents="none",B.style.pointerEvents="auto",M.style.pointerEvents="auto",()=>{Q.style.pointerEvents="",B.style.pointerEvents="",M.style.pointerEvents=""}}}},[a,n,m,o,h,g,P]),Ho(()=>{n||(b.current=void 0,j.current=!1,N(),A())},[n,N,A]),S.useEffect(()=>()=>{N(),clearTimeout(x.current),clearTimeout(w.current),A()},[a,o.domReference,N,A]);const C=S.useMemo(()=>{function E(I){b.current=I.pointerType}return{onPointerDown:E,onPointerEnter:E,onMouseMove(I){const{nativeEvent:M}=I;function Q(){!_.current&&!O.current&&r(!0,M,"hover")}u&&!OC(b.current)||n||d===0||j.current&&I.movementX**2+I.movementY**2<2||(clearTimeout(w.current),b.current==="touch"?Q():(j.current=!0,w.current=window.setTimeout(Q,d)))}}},[u,r,n,O,d]),T=S.useMemo(()=>({onMouseEnter(){clearTimeout(x.current)},onMouseLeave(E){R(E.nativeEvent,!1)}}),[R]);return S.useMemo(()=>a?{reference:C,floating:T}:{},[a,C,T])}const SC=()=>{},W6=S.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:SC,setState:SC,isInstantPhase:!1}),U6=()=>S.useContext(W6);function Rye(t){const{children:e,delay:n,timeoutMs:r=0}=t,[i,s]=S.useReducer((l,c)=>({...l,...c}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=S.useRef(null),a=S.useCallback(l=>{s({currentId:l})},[]);return Ho(()=>{i.currentId?o.current===null?o.current=i.currentId:i.isInstantPhase||s({isInstantPhase:!0}):(i.isInstantPhase&&s({isInstantPhase:!1}),o.current=null)},[i.currentId,i.isInstantPhase]),S.createElement(W6.Provider,{value:S.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,a])},e)}function Mye(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,floatingId:i}=t,{id:s,enabled:o=!0}=e,a=s??i,l=U6(),{currentId:c,setCurrentId:u,initialDelay:d,setState:f,timeoutMs:h}=l;return Ho(()=>{o&&c&&(f({delay:{open:1,close:Fx(d,"close")}}),c!==a&&r(!1))},[o,a,r,f,c,d]),Ho(()=>{function m(){r(!1),f({delay:d,currentId:null})}if(o&&c&&!n&&c===a){if(h){const g=window.setTimeout(m,h);return()=>{clearTimeout(g)}}m()}},[o,n,f,c,a,r,d,h]),Ho(()=>{o&&(u===SC||!n||u(a))},[o,n,u,a]),l}function t$(t,e){let n=t.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=t.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const Iye="data-floating-ui-focusable",Dye={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Qye={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},_Q=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function Fye(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=t,{enabled:o=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:u=!1,referencePressEvent:d="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:m}=e,g=dA(),y=Kl(typeof l=="function"?l:()=>!1),O=typeof l=="function"?y:l,b=S.useRef(!1),x=S.useRef(!1),{escapeKey:v,outsidePress:w}=_Q(h),{escapeKey:_,outsidePress:$}=_Q(m),k=S.useRef(!1),j=Kl(T=>{var E;if(!n||!o||!a||T.key!=="Escape"||k.current)return;const I=(E=s.current.floatingContext)==null?void 0:E.nodeId,M=g?t$(g.nodesRef.current,I):[];if(!v&&(T.stopPropagation(),M.length>0)){let Q=!0;if(M.forEach(B=>{var Z;if((Z=B.context)!=null&&Z.open&&!B.context.dataRef.current.__escapeKeyBubbles){Q=!1;return}}),!Q)return}r(!1,Nge(T)?T.nativeEvent:T,"escape-key")}),P=Kl(T=>{var E;const I=()=>{var M;j(T),(M=bf(T))==null||M.removeEventListener("keydown",I)};(E=bf(T))==null||E.addEventListener("keydown",I)}),R=Kl(T=>{var E;const I=b.current;b.current=!1;const M=x.current;if(x.current=!1,c==="click"&&M||I||typeof O=="function"&&!O(T))return;const Q=bf(T),B="["+fA("inert")+"]",Z=Lu(i.floating).querySelectorAll(B);let W=Zt(Q)?Q:null;for(;W&&!Tc(W);){const G=dl(W);if(Tc(G)||!Zt(G))break;W=G}if(Z.length&&Zt(Q)&&!Age(Q)&&!Pg(Q,i.floating)&&Array.from(Z).every(G=>!Pg(W,G)))return;if(Li(Q)&&C){const G=Q.clientWidth>0&&Q.scrollWidth>Q.clientWidth,ie=Q.clientHeight>0&&Q.scrollHeight>Q.clientHeight;let Y=ie&&T.offsetX>Q.clientWidth;if(ie&&ps(Q).direction==="rtl"&&(Y=T.offsetX<=Q.offsetWidth-Q.clientWidth),Y||G&&T.offsetY>Q.clientHeight)return}const oe=(E=s.current.floatingContext)==null?void 0:E.nodeId,le=g&&t$(g.nodesRef.current,oe).some(G=>{var ie;return H_(T,(ie=G.context)==null?void 0:ie.elements.floating)});if(H_(T,i.floating)||H_(T,i.domReference)||le)return;const U=g?t$(g.nodesRef.current,oe):[];if(U.length>0){let G=!0;if(U.forEach(ie=>{var Y;if((Y=ie.context)!=null&&Y.open&&!ie.context.dataRef.current.__outsidePressBubbles){G=!1;return}}),!G)return}r(!1,T,"outside-press")}),N=Kl(T=>{var E;const I=()=>{var M;R(T),(M=bf(T))==null||M.removeEventListener(c,I)};(E=bf(T))==null||E.addEventListener(c,I)});S.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=v,s.current.__outsidePressBubbles=w;let T=-1;function E(Z){r(!1,Z,"ancestor-scroll")}function I(){window.clearTimeout(T),k.current=!0}function M(){T=window.setTimeout(()=>{k.current=!1},oS()?5:0)}const Q=Lu(i.floating);a&&(Q.addEventListener("keydown",_?P:j,_),Q.addEventListener("compositionstart",I),Q.addEventListener("compositionend",M)),O&&Q.addEventListener(c,$?N:R,$);let B=[];return f&&(Zt(i.domReference)&&(B=el(i.domReference)),Zt(i.floating)&&(B=B.concat(el(i.floating))),!Zt(i.reference)&&i.reference&&i.reference.contextElement&&(B=B.concat(el(i.reference.contextElement)))),B=B.filter(Z=>{var W;return Z!==((W=Q.defaultView)==null?void 0:W.visualViewport)}),B.forEach(Z=>{Z.addEventListener("scroll",E,{passive:!0})}),()=>{a&&(Q.removeEventListener("keydown",_?P:j,_),Q.removeEventListener("compositionstart",I),Q.removeEventListener("compositionend",M)),O&&Q.removeEventListener(c,$?N:R,$),B.forEach(Z=>{Z.removeEventListener("scroll",E)}),window.clearTimeout(T)}},[s,i,a,O,c,n,r,f,o,v,w,j,_,P,R,$,N]),S.useEffect(()=>{b.current=!1},[O,c]);const A=S.useMemo(()=>({onKeyDown:j,[Dye[d]]:T=>{u&&r(!1,T.nativeEvent,"reference-press")}}),[j,r,u,d]),C=S.useMemo(()=>({onKeyDown:j,onMouseDown(){x.current=!0},onMouseUp(){x.current=!0},[Qye[c]]:()=>{b.current=!0}}),[j,c]);return S.useMemo(()=>o?{reference:A,floating:C}:{},[o,A,C])}function Lye(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=z6(),s=S.useRef({}),[o]=S.useState(()=>Eye()),a=uA()!=null,[l,c]=S.useState(r.reference),u=Kl((h,m,g)=>{s.current.openEvent=h?m:void 0,o.emit("openchange",{open:h,event:m,reason:g,nested:a}),n==null||n(h,m,g)}),d=S.useMemo(()=>({setPositionReference:c}),[]),f=S.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return S.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:f,events:o,floatingId:i,refs:d}),[e,u,f,o,i,d])}function hA(t){t===void 0&&(t={});const{nodeId:e}=t,n=Lye({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=S.useState(null),[a,l]=S.useState(null),u=(i==null?void 0:i.domReference)||s,d=S.useRef(null),f=dA();Ho(()=>{u&&(d.current=u)},[u]);const h=wye({...t,elements:{...i,...a&&{reference:a}}}),m=S.useCallback(x=>{const v=Zt(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l(v),h.refs.setReference(v)},[h.refs]),g=S.useCallback(x=>{(Zt(x)||x===null)&&(d.current=x,o(x)),(Zt(h.refs.reference.current)||h.refs.reference.current===null||x!==null&&!Zt(x))&&h.refs.setReference(x)},[h.refs]),y=S.useMemo(()=>({...h.refs,setReference:g,setPositionReference:m,domReference:d}),[h.refs,g,m]),O=S.useMemo(()=>({...h.elements,domReference:u}),[h.elements,u]),b=S.useMemo(()=>({...h,...r,refs:y,elements:O,nodeId:e}),[h,y,O,e,r]);return Ho(()=>{r.dataRef.current.floatingContext=b;const x=f==null?void 0:f.nodesRef.current.find(v=>v.id===e);x&&(x.context=b)}),S.useMemo(()=>({...h,context:b,refs:y,elements:O}),[h,y,O,b])}function qye(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=t,{enabled:a=!0,visibleOnly:l=!0}=e,c=S.useRef(!1),u=S.useRef(),d=S.useRef(!0);S.useEffect(()=>{if(!a)return;const h=hi(o.domReference);function m(){!n&&Li(o.domReference)&&o.domReference===hQ(Lu(o.domReference))&&(c.current=!0)}function g(){d.current=!0}return h.addEventListener("blur",m),h.addEventListener("keydown",g,!0),()=>{h.removeEventListener("blur",m),h.removeEventListener("keydown",g,!0)}},[o.domReference,n,a]),S.useEffect(()=>{if(!a)return;function h(m){let{reason:g}=m;(g==="reference-press"||g==="escape-key")&&(c.current=!0)}return i.on("openchange",h),()=>{i.off("openchange",h)}},[i,a]),S.useEffect(()=>()=>{clearTimeout(u.current)},[]);const f=S.useMemo(()=>({onPointerDown(h){Cge(h.nativeEvent)||(d.current=!1)},onMouseLeave(){c.current=!1},onFocus(h){if(c.current)return;const m=bf(h.nativeEvent);if(l&&Zt(m))try{if(jge()&&Ege())throw Error();if(!m.matches(":focus-visible"))return}catch{if(!d.current&&!Mge(m))return}r(!0,h.nativeEvent,"focus")},onBlur(h){c.current=!1;const m=h.relatedTarget,g=h.nativeEvent,y=Zt(m)&&m.hasAttribute(fA("focus-guard"))&&m.getAttribute("data-type")==="outside";u.current=window.setTimeout(()=>{var O;const b=hQ(o.domReference?o.domReference.ownerDocument:document);!m&&b===o.domReference||Pg((O=s.current.floatingContext)==null?void 0:O.refs.floating.current,b)||Pg(o.domReference,b)||y||r(!1,g,"focus")})}}),[s,o.domReference,r,l]);return S.useMemo(()=>a?{reference:f}:{},[a,f])}const $Q="active",kQ="selected";function n$(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[$Q]:o,[kQ]:a,...l}=t;s=l}return{...n==="floating"&&{tabIndex:-1,[Iye]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[$Q,kQ].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var d;(d=r.get(c))==null||d.push(u),o[c]=function(){for(var f,h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return(f=r.get(c))==null?void 0:f.map(y=>y(...m)).find(y=>y!==void 0)}}}else o[c]=u}),o),{})}}function Vye(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=S.useCallback(a=>n$(a,t,"reference"),e),s=S.useCallback(a=>n$(a,t,"floating"),n),o=S.useCallback(a=>n$(a,t,"item"),r);return S.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}const Bye=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function zye(t,e){var n;e===void 0&&(e={});const{open:r,floatingId:i}=t,{enabled:s=!0,role:o="dialog"}=e,a=(n=Bye.get(o))!=null?n:o,l=z6(),u=uA()!=null,d=S.useMemo(()=>a==="tooltip"||o==="label"?{["aria-"+(o==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&u&&{role:"menuitem"},...o==="select"&&{"aria-autocomplete":"none"},...o==="combobox"&&{"aria-autocomplete":"list"}},[a,i,u,r,l,o]),f=S.useMemo(()=>{const m={id:i,...a&&{role:a}};return a==="tooltip"||o==="label"?m:{...m,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,o]),h=S.useCallback(m=>{let{active:g,selected:y}=m;const O={role:"option",...g&&{id:i+"-option"}};switch(o){case"select":return{...O,"aria-selected":g&&y};case"combobox":return{...O,...g&&{"aria-selected":!0}}}return{}},[i,o]);return S.useMemo(()=>s?{reference:d,floating:f,item:h}:{},[s,d,f,h])}function Z6(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,r]=e.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return e}function PQ(t,e,n,r){return t==="center"||r==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function CQ(t,e,n,r,i){return t==="center"||r==="center"?{left:e}:t==="end"?{[i==="ltr"?"right":"left"]:n}:t==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const Wye={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Uye({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:s,arrowY:o,dir:a}){const[l,c="center"]=t.split("-"),u={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[Wye[l]]:r},d=-e/2;return l==="left"?{...u,...PQ(c,o,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent"}:l==="right"?{...u,...PQ(c,o,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent"}:l==="top"?{...u,...CQ(c,s,n,i,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent"}:l==="bottom"?{...u,...CQ(c,s,n,i,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const pA=S.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:s,arrowX:o,arrowY:a,style:l,...c},u)=>{const{dir:d}=eu();return s?p.jsx("div",{...c,ref:u,style:{...l,...Uye({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:o,arrowY:a})}}):null});pA.displayName="@mantine/core/FloatingArrow";const[Zye,X6]=xl("Popover component was not found in the tree");function lS({children:t,active:e=!0,refProp:n="ref",innerRef:r}){const i=Lpe(e),s=gn(i,r);return Hc(t)?S.cloneElement(t,{[n]:s}):t}function Y6(t){return p.jsx(JN,{tabIndex:-1,"data-autofocus":!0,...t})}lS.displayName="@mantine/core/FocusTrap";Y6.displayName="@mantine/core/FocusTrapInitialFocus";lS.InitialFocus=Y6;function Xye(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}const Yye={},G6=S.forwardRef((t,e)=>{const{children:n,target:r,...i}=je("Portal",Yye,t),[s,o]=S.useState(!1),a=S.useRef(null);return ap(()=>(o(!0),a.current=r?typeof r=="string"?document.querySelector(r):r:Xye(i),BN(e,a.current),!r&&a.current&&document.body.appendChild(a.current),()=>{!r&&a.current&&document.body.removeChild(a.current)}),[r]),!s||!a.current?null:Xy.createPortal(p.jsx(p.Fragment,{children:n}),a.current)});G6.displayName="@mantine/core/Portal";function dp({withinPortal:t=!0,children:e,...n}){return t?p.jsx(G6,{...n,children:e}):p.jsx(p.Fragment,{children:e})}dp.displayName="@mantine/core/OptionalPortal";const lm=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${ye(t==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),vb={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${ye(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${ye(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${ye(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${ye(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${ye(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${ye(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${ye(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${ye(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...lm("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...lm("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...lm("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...lm("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...lm("top"),common:{transformOrigin:"top right"}}},jQ={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Gye({transition:t,state:e,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof t=="string"?t in vb?{transitionProperty:vb[t].transitionProperty,...i,...vb[t].common,...vb[t][jQ[e]]}:{}:{transitionProperty:t.transitionProperty,...i,...t.common,...t[jQ[e]]}}function Hye({duration:t,exitDuration:e,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a,enterDelay:l,exitDelay:c}){const u=zi(),d=r6(),f=u.respectReducedMotion?d:!1,[h,m]=S.useState(f?0:t),[g,y]=S.useState(r?"entered":"exited"),O=S.useRef(-1),b=S.useRef(-1),x=S.useRef(-1),v=_=>{const $=_?i:s,k=_?o:a;window.clearTimeout(O.current);const j=f?0:_?t:e;m(j),j===0?(typeof $=="function"&&$(),typeof k=="function"&&k(),y(_?"entered":"exited")):x.current=requestAnimationFrame(()=>{kf.flushSync(()=>{y(_?"pre-entering":"pre-exiting")}),x.current=requestAnimationFrame(()=>{typeof $=="function"&&$(),y(_?"entering":"exiting"),O.current=window.setTimeout(()=>{typeof k=="function"&&k(),y(_?"entered":"exited")},j)})})},w=_=>{if(window.clearTimeout(b.current),typeof(_?l:c)!="number"){v(_);return}b.current=window.setTimeout(()=>{v(_)},_?l:c)};return Ec(()=>{w(r)},[r]),S.useEffect(()=>()=>{window.clearTimeout(O.current),cancelAnimationFrame(x.current)},[]),{transitionDuration:h,transitionStatus:g,transitionTimingFunction:n||"ease"}}function Qd({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:r=n,mounted:i,children:s,timingFunction:o="ease",onExit:a,onEntered:l,onEnter:c,onExited:u,enterDelay:d,exitDelay:f}){const{transitionDuration:h,transitionStatus:m,transitionTimingFunction:g}=Hye({mounted:i,exitDuration:r,duration:n,timingFunction:o,onExit:a,onEntered:l,onEnter:c,onExited:u,enterDelay:d,exitDelay:f});return h===0?i?p.jsx(p.Fragment,{children:s({})}):t?s({display:"none"}):null:m==="exited"?t?s({display:"none"}):null:p.jsx(p.Fragment,{children:s(Gye({transition:e,duration:h,state:m,timingFunction:g}))})}Qd.displayName="@mantine/core/Transition";var H6={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};const Kye={},mA=Fe((t,e)=>{var y,O,b,x;const n=je("PopoverDropdown",Kye,t),{className:r,style:i,vars:s,children:o,onKeyDownCapture:a,variant:l,classNames:c,styles:u,...d}=n,f=X6(),h=J9({opened:f.opened,shouldReturnFocus:f.returnFocus}),m=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},g=gn(e,f.floating);return f.disabled?null:p.jsx(dp,{...f.portalProps,withinPortal:f.withinPortal,children:p.jsx(Qd,{mounted:f.opened,...f.transitionProps,transition:((y=f.transitionProps)==null?void 0:y.transition)||"fade",duration:((O=f.transitionProps)==null?void 0:O.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((b=f.transitionProps)==null?void 0:b.exitDuration)=="number"?f.transitionProps.exitDuration:(x=f.transitionProps)==null?void 0:x.duration,children:v=>p.jsx(lS,{active:f.trapFocus&&f.opened,innerRef:g,children:p.jsxs(Ae,{...m,...d,variant:l,onKeyDownCapture:Ppe(f.onClose,{active:f.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:r,props:n,classNames:c,styles:u,style:[{...v,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:ye(f.width)},i]}),children:[o,p.jsx(pA,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:c,styles:u})})]})})})})});mA.classes=H6;mA.displayName="@mantine/core/PopoverDropdown";const Jye={refProp:"ref",popupType:"dialog"},K6=Fe((t,e)=>{const{children:n,refProp:r,popupType:i,...s}=je("PopoverTarget",Jye,t);if(!Hc(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=s,a=X6(),l=gn(a.reference,n.ref,e),c=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return S.cloneElement(n,{...o,...c,...a.targetProps,className:br(a.targetProps.className,o.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});K6.displayName="@mantine/core/PopoverTarget";function J6({opened:t,floating:e,position:n,positionDependencies:r}){const[i,s]=S.useState(0);S.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current&&t)return pye(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,t,i,n]),Ec(()=>{e.update()},r),Ec(()=>{s(o=>o+1)},[t])}function eOe(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function tOe(t,e){const n=eOe(t.middlewares),r=[q6(t.offset)];return n.shift&&r.push(cA(typeof n.shift=="boolean"?{limiter:xQ(),padding:5}:{limiter:xQ(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?vC():vC(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?wC():wC(n.inline)),r.push(V6({element:t.arrowRef,padding:t.arrowOffset})),(n.size||t.width==="target")&&r.push(_ye({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:s,availableHeight:o,...a}){var u;const c=((u=e().refs.floating.current)==null?void 0:u.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:i,availableWidth:s,availableHeight:o,...a}):Object.assign(c,{maxWidth:`${s}px`,maxHeight:`${o}px`})),t.width==="target"&&Object.assign(c,{width:`${i.reference.width}px`})}})),r}function nOe(t){const[e,n]=mi({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),r=()=>{e&&n(!1)},i=()=>n(!e),s=hA({strategy:t.strategy,placement:t.position,middleware:tOe(t,()=>s)});return J6({opened:e,position:t.position,positionDependencies:t.positionDependencies||[],floating:s}),Ec(()=>{var o;(o=t.onPositionChange)==null||o.call(t,s.placement)},[s.placement]),Ec(()=>{var o,a;e?(a=t.onOpen)==null||a.call(t):(o=t.onClose)==null||o.call(t)},[e,t.onClose,t.onOpen]),{floating:s,controlled:typeof t.opened=="boolean",opened:e,onClose:r,onToggle:i}}const rOe={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:vl("popover"),__staticSelector:"Popover",width:"max-content"},iOe=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:nr(e),"--popover-shadow":VN(n)}});function pi(t){var pe,z,ee,K,me,de;const e=je("Popover",rOe,t),{children:n,position:r,offset:i,onPositionChange:s,positionDependencies:o,opened:a,transitionProps:l,width:c,middlewares:u,withArrow:d,arrowSize:f,arrowOffset:h,arrowRadius:m,arrowPosition:g,unstyled:y,classNames:O,styles:b,closeOnClickOutside:x,withinPortal:v,portalProps:w,closeOnEscape:_,clickOutsideEvents:$,trapFocus:k,onClose:j,onOpen:P,onChange:R,zIndex:N,radius:A,shadow:C,id:T,defaultOpened:E,__staticSelector:I,withRoles:M,disabled:Q,returnFocus:B,variant:Z,keepMounted:W,vars:oe,floatingStrategy:le,...U}=e,G=st({name:I,props:e,classes:H6,classNames:O,styles:b,unstyled:y,rootSelector:"dropdown",vars:oe,varsResolver:iOe}),ie=S.useRef(null),[Y,L]=S.useState(null),[ae,q]=S.useState(null),{dir:te}=eu(),re=vs(T),ue=nOe({middlewares:u,width:c,position:Z6(te,r),offset:typeof i=="number"?i+(d?f/2:0):i,arrowRef:ie,arrowOffset:h,onPositionChange:s,positionDependencies:o,opened:a,defaultOpened:E,onChange:R,onOpen:P,onClose:j,strategy:le});Epe(()=>x&&ue.onClose(),$,[Y,ae]);const fe=S.useCallback(ne=>{L(ne),ue.floating.refs.setReference(ne)},[ue.floating.refs.setReference]),Ee=S.useCallback(ne=>{q(ne),ue.floating.refs.setFloating(ne)},[ue.floating.refs.setFloating]);return p.jsx(Zye,{value:{returnFocus:B,disabled:Q,controlled:ue.controlled,reference:fe,floating:Ee,x:ue.floating.x,y:ue.floating.y,arrowX:(ee=(z=(pe=ue.floating)==null?void 0:pe.middlewareData)==null?void 0:z.arrow)==null?void 0:ee.x,arrowY:(de=(me=(K=ue.floating)==null?void 0:K.middlewareData)==null?void 0:me.arrow)==null?void 0:de.y,opened:ue.opened,arrowRef:ie,transitionProps:l,width:c,withArrow:d,arrowSize:f,arrowOffset:h,arrowRadius:m,arrowPosition:g,placement:ue.floating.placement,trapFocus:k,withinPortal:v,portalProps:w,zIndex:N,radius:A,shadow:C,closeOnEscape:_,onClose:ue.onClose,onToggle:ue.onToggle,getTargetId:()=>`${re}-target`,getDropdownId:()=>`${re}-dropdown`,withRoles:M,targetProps:U,__staticSelector:I,classNames:O,styles:b,unstyled:y,variant:Z,keepMounted:W,getStyles:G,floatingStrategy:le},children:n})}pi.Target=K6;pi.Dropdown=mA;pi.displayName="@mantine/core/Popover";pi.extend=t=>t;var Ys={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const eU=S.forwardRef(({className:t,...e},n)=>p.jsxs(Ae,{component:"span",className:br(Ys.barsLoader,t),...e,ref:n,children:[p.jsx("span",{className:Ys.bar}),p.jsx("span",{className:Ys.bar}),p.jsx("span",{className:Ys.bar})]}));eU.displayName="@mantine/core/Bars";const tU=S.forwardRef(({className:t,...e},n)=>p.jsxs(Ae,{component:"span",className:br(Ys.dotsLoader,t),...e,ref:n,children:[p.jsx("span",{className:Ys.dot}),p.jsx("span",{className:Ys.dot}),p.jsx("span",{className:Ys.dot})]}));tU.displayName="@mantine/core/Dots";const nU=S.forwardRef(({className:t,...e},n)=>p.jsx(Ae,{component:"span",className:br(Ys.ovalLoader,t),...e,ref:n}));nU.displayName="@mantine/core/Oval";const rU={bars:eU,oval:nU,dots:tU},sOe={loaders:rU,type:"oval"},oOe=(t,{size:e,color:n})=>({root:{"--loader-size":$t(e,"loader-size"),"--loader-color":n?Hr(n,t):void 0}}),Jy=Fe((t,e)=>{const n=je("Loader",sOe,t),{size:r,color:i,type:s,vars:o,className:a,style:l,classNames:c,styles:u,unstyled:d,loaders:f,variant:h,children:m,...g}=n,y=st({name:"Loader",props:n,classes:Ys,className:a,style:l,classNames:c,styles:u,unstyled:d,vars:o,varsResolver:oOe});return m?p.jsx(Ae,{...y("root"),ref:e,...g,children:m}):p.jsx(Ae,{...y("root"),ref:e,component:f[s],variant:h,size:r,...g})});Jy.defaultLoaders=rU;Jy.classes=Ys;Jy.displayName="@mantine/core/Loader";const iU=S.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},r)=>p.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:r,...n,children:p.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));iU.displayName="@mantine/core/CloseIcon";var sU={root:"m_86a44da5","root--subtle":"m_220c80f2"};const aOe={variant:"subtle"},lOe=(t,{size:e,radius:n,iconSize:r})=>({root:{"--cb-size":$t(e,"cb-size"),"--cb-radius":n===void 0?void 0:nr(n),"--cb-icon-size":ye(r)}}),fp=Jc((t,e)=>{const n=je("CloseButton",aOe,t),{iconSize:r,children:i,vars:s,radius:o,className:a,classNames:l,style:c,styles:u,unstyled:d,"data-disabled":f,disabled:h,variant:m,icon:g,mod:y,...O}=n,b=st({name:"CloseButton",props:n,className:a,style:c,classes:sU,classNames:l,styles:u,unstyled:d,vars:s,varsResolver:lOe});return p.jsxs(ul,{ref:e,...O,unstyled:d,variant:m,disabled:h,mod:[{disabled:h||f},y],...b("root",{variant:m,active:!h&&!f}),children:[g||p.jsx(iU,{}),i]})});fp.classes=sU;fp.displayName="@mantine/core/CloseButton";function cOe(t){return S.Children.toArray(t).filter(Boolean)}var oU={root:"m_4081bf90"};const uOe={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},dOe=(t,{grow:e,preventGrowOverflow:n,gap:r,align:i,justify:s,wrap:o},{childWidth:a})=>({root:{"--group-child-width":e&&n?a:void 0,"--group-gap":qN(r),"--group-align":i,"--group-justify":s,"--group-wrap":o}}),gA=Fe((t,e)=>{const n=je("Group",uOe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,children:l,gap:c,align:u,justify:d,wrap:f,grow:h,preventGrowOverflow:m,vars:g,variant:y,__size:O,mod:b,...x}=n,v=cOe(l),w=v.length,_=qN(c??"md"),k={childWidth:`calc(${100/w}% - (${_} - ${_} / ${w}))`},j=st({name:"Group",props:n,stylesCtx:k,className:i,style:s,classes:oU,classNames:r,styles:o,unstyled:a,vars:g,varsResolver:dOe});return p.jsx(Ae,{...j("root"),ref:e,variant:y,mod:[{grow:h},b],size:O,...x,children:v})});gA.classes=oU;gA.displayName="@mantine/core/Group";var aU={root:"m_9814e45f"};const fOe={zIndex:vl("modal")},hOe=(t,{gradient:e,color:n,backgroundOpacity:r,blur:i,radius:s,zIndex:o})=>({root:{"--overlay-bg":e||(n!==void 0||r!==void 0)&&Ao(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${ye(i)})`:void 0,"--overlay-radius":s===void 0?void 0:nr(s),"--overlay-z-index":o==null?void 0:o.toString()}}),yA=Jc((t,e)=>{const n=je("Overlay",fOe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,fixed:c,center:u,children:d,radius:f,zIndex:h,gradient:m,blur:g,color:y,backgroundOpacity:O,mod:b,...x}=n,v=st({name:"Overlay",props:n,classes:aU,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:hOe});return p.jsx(Ae,{ref:e,...v("root"),mod:[{center:u,fixed:c},b],...x,children:d})});yA.classes=aU;yA.displayName="@mantine/core/Overlay";const[pOe,wl]=xl("ModalBase component was not found in tree");function mOe({opened:t,transitionDuration:e}){const[n,r]=S.useState(t),i=S.useRef(),o=r6()?0:e;return S.useEffect(()=>(t?(r(!0),window.clearTimeout(i.current)):o===0?r(!1):i.current=window.setTimeout(()=>r(!1),o),()=>window.clearTimeout(i.current)),[t,o]),n}function gOe({id:t,transitionProps:e,opened:n,trapFocus:r,closeOnEscape:i,onClose:s,returnFocus:o}){const a=vs(t),[l,c]=S.useState(!1),[u,d]=S.useState(!1),f=typeof(e==null?void 0:e.duration)=="number"?e==null?void 0:e.duration:200,h=mOe({opened:n,transitionDuration:f});return Bpe("keydown",m=>{var g;m.key==="Escape"&&i&&n&&((g=m.target)==null?void 0:g.getAttribute("data-mantine-stop-propagation"))!=="true"&&s()},{capture:!0}),J9({opened:n,shouldReturnFocus:r&&o}),{_id:a,titleMounted:l,bodyMounted:u,shouldLockScroll:h,setTitleMounted:c,setBodyMounted:d}}const lU=S.forwardRef(({keepMounted:t,opened:e,onClose:n,id:r,transitionProps:i,trapFocus:s,closeOnEscape:o,returnFocus:a,closeOnClickOutside:l,withinPortal:c,portalProps:u,lockScroll:d,children:f,zIndex:h,shadow:m,padding:g,__vars:y,unstyled:O,removeScrollProps:b,...x},v)=>{const{_id:w,titleMounted:_,bodyMounted:$,shouldLockScroll:k,setTitleMounted:j,setBodyMounted:P}=gOe({id:r,transitionProps:i,opened:e,trapFocus:s,closeOnEscape:o,onClose:n,returnFocus:a}),{key:R,...N}=b||{};return p.jsx(dp,{...u,withinPortal:c,children:p.jsx(pOe,{value:{opened:e,onClose:n,closeOnClickOutside:l,transitionProps:{...i,keepMounted:t},getTitleId:()=>`${w}-title`,getBodyId:()=>`${w}-body`,titleMounted:_,bodyMounted:$,setTitleMounted:j,setBodyMounted:P,trapFocus:s,closeOnEscape:o,zIndex:h,unstyled:O},children:p.jsx(Z9,{enabled:k&&d,...N,children:p.jsx(Ae,{ref:v,...x,__vars:{...y,"--mb-z-index":(h||vl("modal")).toString(),"--mb-shadow":VN(m),"--mb-padding":qN(g)},children:f})},R)})})});lU.displayName="@mantine/core/ModalBase";function yOe(){const t=wl();return S.useEffect(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),t.getBodyId()}var _h={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const cU=S.forwardRef(({className:t,...e},n)=>{const r=yOe(),i=wl();return p.jsx(Ae,{ref:n,...e,id:r,className:br({[_h.body]:!i.unstyled},t)})});cU.displayName="@mantine/core/ModalBaseBody";const uU=S.forwardRef(({className:t,onClick:e,...n},r)=>{const i=wl();return p.jsx(fp,{ref:r,...n,onClick:s=>{i.onClose(),e==null||e(s)},className:br({[_h.close]:!i.unstyled},t),unstyled:i.unstyled})});uU.displayName="@mantine/core/ModalBaseCloseButton";const dU=S.forwardRef(({transitionProps:t,className:e,innerProps:n,onKeyDown:r,style:i,...s},o)=>{const a=wl();return p.jsx(Qd,{mounted:a.opened,transition:"pop",...a.transitionProps,...t,children:l=>p.jsx("div",{...n,className:br({[_h.inner]:!a.unstyled},n.className),children:p.jsx(lS,{active:a.opened&&a.trapFocus,innerRef:o,children:p.jsx(eA,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[i,l],className:br({[_h.content]:!a.unstyled},e),unstyled:a.unstyled,children:s.children})})})})});dU.displayName="@mantine/core/ModalBaseContent";const fU=S.forwardRef(({className:t,...e},n)=>{const r=wl();return p.jsx(Ae,{component:"header",ref:n,className:br({[_h.header]:!r.unstyled},t),...e})});fU.displayName="@mantine/core/ModalBaseHeader";const OOe={duration:200,timingFunction:"ease",transition:"fade"};function bOe(t){const e=wl();return{...OOe,...e.transitionProps,...t}}const hU=S.forwardRef(({onClick:t,transitionProps:e,style:n,...r},i)=>{const s=wl(),o=bOe(e);return p.jsx(Qd,{mounted:s.opened,...o,transition:"fade",children:a=>p.jsx(yA,{ref:i,fixed:!0,style:[n,a],zIndex:s.zIndex,unstyled:s.unstyled,onClick:l=>{t==null||t(l),s.closeOnClickOutside&&s.onClose()},...r})})});hU.displayName="@mantine/core/ModalBaseOverlay";function xOe(){const t=wl();return S.useEffect(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),t.getTitleId()}const pU=S.forwardRef(({className:t,...e},n)=>{const r=xOe(),i=wl();return p.jsx(Ae,{component:"h2",ref:n,className:br({[_h.title]:!i.unstyled},t),...e,id:r})});pU.displayName="@mantine/core/ModalBaseTitle";function vOe({children:t}){return p.jsx(p.Fragment,{children:t})}const[wOe,hp]=Yy({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Ss={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const EQ={},SOe=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${Ii(e)} - ${ye(2)})`}}),cS=Fe((t,e)=>{const n=je("InputDescription",EQ,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:c,__staticSelector:u,__inheritStyles:d=!0,variant:f,...h}=je("InputDescription",EQ,n),m=hp(),g=st({name:["InputWrapper",u],props:n,classes:Ss,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"description",vars:l,varsResolver:SOe}),y=d&&(m==null?void 0:m.getStyles)||g;return p.jsx(Ae,{component:"p",ref:e,variant:f,size:c,...y("description",m!=null&&m.getStyles?{className:i,style:s}:void 0),...h})});cS.classes=Ss;cS.displayName="@mantine/core/InputDescription";const _Oe={},$Oe=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${Ii(e)} - ${ye(2)})`}}),uS=Fe((t,e)=>{const n=je("InputError",_Oe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:c,__staticSelector:u,__inheritStyles:d=!0,variant:f,...h}=n,m=st({name:["InputWrapper",u],props:n,classes:Ss,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"error",vars:l,varsResolver:$Oe}),g=hp(),y=d&&(g==null?void 0:g.getStyles)||m;return p.jsx(Ae,{component:"p",ref:e,variant:f,size:c,...y("error",g!=null&&g.getStyles?{className:i,style:s}:void 0),...h})});uS.classes=Ss;uS.displayName="@mantine/core/InputError";const TQ={labelElement:"label"},kOe=(t,{size:e})=>({label:{"--input-label-size":Ii(e),"--input-asterisk-color":void 0}}),dS=Fe((t,e)=>{const n=je("InputLabel",TQ,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,labelElement:c,size:u,required:d,htmlFor:f,onMouseDown:h,children:m,__staticSelector:g,variant:y,mod:O,...b}=je("InputLabel",TQ,n),x=st({name:["InputWrapper",g],props:n,classes:Ss,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"label",vars:l,varsResolver:kOe}),v=hp(),w=(v==null?void 0:v.getStyles)||x;return p.jsxs(Ae,{...w("label",v!=null&&v.getStyles?{className:i,style:s}:void 0),component:c,variant:y,size:u,ref:e,htmlFor:c==="label"?f:void 0,mod:[{required:d},O],onMouseDown:_=>{h==null||h(_),!_.defaultPrevented&&_.detail>1&&_.preventDefault()},...b,children:[m,d&&p.jsx("span",{...w("required"),"aria-hidden":!0,children:" *"})]})});dS.classes=Ss;dS.displayName="@mantine/core/InputLabel";const NQ={},OA=Fe((t,e)=>{const n=je("InputPlaceholder",NQ,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:c,variant:u,error:d,mod:f,...h}=je("InputPlaceholder",NQ,n),m=st({name:["InputPlaceholder",c],props:n,classes:Ss,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"placeholder"});return p.jsx(Ae,{...m("placeholder"),mod:[{error:!!d},f],component:"span",variant:u,ref:e,...h})});OA.classes=Ss;OA.displayName="@mantine/core/InputPlaceholder";function POe(t,{hasDescription:e,hasError:n}){const r=t.findIndex(l=>l==="input"),i=t.slice(0,r),s=t.slice(r+1),o=e&&i.includes("description")||n&&i.includes("error");return{offsetBottom:e&&s.includes("description")||n&&s.includes("error"),offsetTop:o}}const COe={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},jOe=(t,{size:e})=>({label:{"--input-label-size":Ii(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${Ii(e)} - ${ye(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${Ii(e)} - ${ye(2)})`}}),bA=Fe((t,e)=>{const n=je("InputWrapper",COe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:c,variant:u,__staticSelector:d,inputContainer:f,inputWrapperOrder:h,label:m,error:g,description:y,labelProps:O,descriptionProps:b,errorProps:x,labelElement:v,children:w,withAsterisk:_,id:$,required:k,__stylesApiProps:j,mod:P,...R}=n,N=st({name:["InputWrapper",d],props:j||n,classes:Ss,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:jOe}),A={size:c,variant:u,__staticSelector:d},C=vs($),T=typeof _=="boolean"?_:k,E=(x==null?void 0:x.id)||`${C}-error`,I=(b==null?void 0:b.id)||`${C}-description`,M=C,Q=!!g&&typeof g!="boolean",B=!!y,Z=`${Q?E:""} ${B?I:""}`,W=Z.trim().length>0?Z.trim():void 0,oe=(O==null?void 0:O.id)||`${C}-label`,le=m&&p.jsx(dS,{labelElement:v,id:oe,htmlFor:M,required:T,...A,...O,children:m},"label"),U=B&&p.jsx(cS,{...b,...A,size:(b==null?void 0:b.size)||A.size,id:(b==null?void 0:b.id)||I,children:y},"description"),G=p.jsx(S.Fragment,{children:f(w)},"input"),ie=Q&&S.createElement(uS,{...x,...A,size:(x==null?void 0:x.size)||A.size,key:"error",id:(x==null?void 0:x.id)||E},g),Y=h.map(L=>{switch(L){case"label":return le;case"input":return G;case"description":return U;case"error":return ie;default:return null}});return p.jsx(wOe,{value:{getStyles:N,describedBy:W,inputId:M,labelId:oe,...POe(h,{hasDescription:B,hasError:Q})},children:p.jsx(Ae,{ref:e,variant:u,size:c,mod:[{error:!!g},P],...N("root"),...R,children:Y})})});bA.classes=Ss;bA.displayName="@mantine/core/InputWrapper";const EOe={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},TOe=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":$t(e.size,"input-height"),"--input-fz":Ii(e.size),"--input-radius":e.radius===void 0?void 0:nr(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?ye(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?ye(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?$t(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),ht=Jc((t,e)=>{const n=je("Input",EOe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,required:l,__staticSelector:c,__stylesApiProps:u,size:d,wrapperProps:f,error:h,disabled:m,leftSection:g,leftSectionProps:y,leftSectionWidth:O,rightSection:b,rightSectionProps:x,rightSectionWidth:v,rightSectionPointerEvents:w,leftSectionPointerEvents:_,variant:$,vars:k,pointer:j,multiline:P,radius:R,id:N,withAria:A,withErrorStyles:C,mod:T,inputSize:E,...I}=n,{styleProps:M,rest:Q}=lp(I),B=hp(),Z={offsetBottom:B==null?void 0:B.offsetBottom,offsetTop:B==null?void 0:B.offsetTop},W=st({name:["Input",c],props:u||n,classes:Ss,className:i,style:s,classNames:r,styles:o,unstyled:a,stylesCtx:Z,rootSelector:"wrapper",vars:k,varsResolver:TOe}),oe=A?{required:l,disabled:m,"aria-invalid":!!h,"aria-describedby":B==null?void 0:B.describedBy,id:(B==null?void 0:B.inputId)||N}:{};return p.jsxs(Ae,{...W("wrapper"),...M,...f,mod:[{error:!!h&&C,pointer:j,disabled:m,multiline:P,"data-with-right-section":!!b,"data-with-left-section":!!g},T],variant:$,size:d,children:[g&&p.jsx("div",{...y,"data-position":"left",...W("section",{className:y==null?void 0:y.className,style:y==null?void 0:y.style}),children:g}),p.jsx(Ae,{component:"input",...Q,...oe,ref:e,required:l,mod:{disabled:m,error:!!h&&C},variant:$,__size:E,...W("input")}),b&&p.jsx("div",{...x,"data-position":"right",...W("section",{className:x==null?void 0:x.className,style:x==null?void 0:x.style}),children:b})]})});ht.classes=Ss;ht.Wrapper=bA;ht.Label=dS;ht.Error=uS;ht.Description=cS;ht.Placeholder=OA;ht.displayName="@mantine/core/Input";function NOe(t,e,n){const r=je(t,e,n),{label:i,description:s,error:o,required:a,classNames:l,styles:c,className:u,unstyled:d,__staticSelector:f,__stylesApiProps:h,errorProps:m,labelProps:g,descriptionProps:y,wrapperProps:O,id:b,size:x,style:v,inputContainer:w,inputWrapperOrder:_,withAsterisk:$,variant:k,vars:j,mod:P,...R}=r,{styleProps:N,rest:A}=lp(R),C={label:i,description:s,error:o,required:a,classNames:l,className:u,__staticSelector:f,__stylesApiProps:h||r,errorProps:m,labelProps:g,descriptionProps:y,unstyled:d,styles:c,size:x,style:v,inputContainer:w,inputWrapperOrder:_,withAsterisk:$,variant:k,id:b,mod:P,...O};return{...A,classNames:l,styles:c,unstyled:d,wrapperProps:{...C,...N},inputProps:{required:a,classNames:l,styles:c,unstyled:d,size:x,__staticSelector:f,__stylesApiProps:h||r,error:o,variant:k,id:b}}}const AOe={__staticSelector:"InputBase",withAria:!0},_s=Jc((t,e)=>{const{inputProps:n,wrapperProps:r,...i}=NOe("InputBase",AOe,t);return p.jsx(ht.Wrapper,{...r,children:p.jsx(ht,{...n,...i,ref:e})})});_s.classes={...ht.classes,...ht.Wrapper.classes};_s.displayName="@mantine/core/InputBase";function ROe(t,e){if(!e||!t)return!1;let n=e.parentNode;for(;n!=null;){if(n===t)return!0;n=n.parentNode}return!1}function MOe({target:t,parent:e,ref:n,displayAfterTransitionEnd:r}){const i=S.useRef(),[s,o]=S.useState(!1),[a,l]=S.useState(typeof r=="boolean"?r:!1),c=()=>{if(!t||!e)return;const h=t.getBoundingClientRect(),m=e.getBoundingClientRect(),g={top:h.top-m.top,left:h.left-m.left,width:h.width,height:h.height};n.current&&(n.current.style.transform=`translateY(${g.top}px) translateX(${g.left}px)`,n.current.style.width=`${g.width}px`,n.current.style.height=`${g.height}px`)},u=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),c(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},d=S.useRef(),f=S.useRef();return S.useEffect(()=>{if(c(),t)return d.current=new ResizeObserver(u),d.current.observe(t),e&&(f.current=new ResizeObserver(u),f.current.observe(e)),()=>{var h,m;(h=d.current)==null||h.disconnect(),(m=f.current)==null||m.disconnect()}},[e,t]),S.useEffect(()=>{if(e){const h=m=>{ROe(m.target,e)&&(u(),l(!1))};return e.addEventListener("transitionend",h),()=>{e.removeEventListener("transitionend",h)}}},[e]),Upe(()=>{i6()!=="test"&&o(!0)},20,{autoInvoke:!0}),Xpe(h=>{h.forEach(m=>{m.type==="attributes"&&m.attributeName==="dir"&&u()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:s,hidden:a}}var mU={root:"m_96b553a6"};const IOe={},DOe=(t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}}),xA=Fe((t,e)=>{const n=je("FloatingIndicator",IOe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,target:c,parent:u,transitionDuration:d,mod:f,displayAfterTransitionEnd:h,...m}=n,g=st({name:"FloatingIndicator",classes:mU,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:DOe}),y=S.useRef(null),{initialized:O,hidden:b}=MOe({target:c,parent:u,ref:y,displayAfterTransitionEnd:h}),x=gn(e,y);return!c||!u?null:p.jsx(Ae,{ref:x,mod:[{initialized:O,hidden:b},f],...g("root"),...m})});xA.displayName="@mantine/core/FloatingIndicator";xA.classes=mU;function gU(t){return typeof t=="string"?{value:t,label:t}:"value"in t&&!("label"in t)?{value:t.value,label:t.value,disabled:t.disabled}:typeof t=="number"?{value:t.toString(),label:t.toString()}:"group"in t?{group:t.group,items:t.items.map(e=>gU(e))}:t}function yU(t){return t?t.map(e=>gU(e)):[]}function vA(t){return t.reduce((e,n)=>"group"in n?{...e,...vA(n.items)}:(e[n.value]=n,e),{})}var gi={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const QOe={error:null},FOe=(t,{size:e})=>({chevron:{"--combobox-chevron-size":$t(e,"combobox-chevron-size")}}),wA=Fe((t,e)=>{const n=je("ComboboxChevron",QOe,t),{size:r,error:i,style:s,className:o,classNames:a,styles:l,unstyled:c,vars:u,mod:d,...f}=n,h=st({name:"ComboboxChevron",classes:gi,props:n,style:s,className:o,classNames:a,styles:l,unstyled:c,vars:u,varsResolver:FOe,rootSelector:"chevron"});return p.jsx(Ae,{component:"svg",...f,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},d],ref:e,children:p.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});wA.classes=gi;wA.displayName="@mantine/core/ComboboxChevron";const[LOe,$s]=xl("Combobox component was not found in tree"),OU=S.forwardRef(({size:t,onMouseDown:e,onClick:n,onClear:r,...i},s)=>p.jsx(fp,{ref:s,size:t||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:o=>{o.preventDefault(),e==null||e(o)},onClick:o=>{r(),n==null||n(o)}}));OU.displayName="@mantine/core/ComboboxClearButton";const qOe={},SA=Fe((t,e)=>{const{classNames:n,styles:r,className:i,style:s,hidden:o,...a}=je("ComboboxDropdown",qOe,t),l=$s();return p.jsx(pi.Dropdown,{...a,ref:e,role:"presentation","data-hidden":o||void 0,...l.getStyles("dropdown",{className:i,style:s,classNames:n,styles:r})})});SA.classes=gi;SA.displayName="@mantine/core/ComboboxDropdown";const VOe={refProp:"ref"},bU=Fe((t,e)=>{const{children:n,refProp:r}=je("ComboboxDropdownTarget",VOe,t);if($s(),!Hc(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return p.jsx(pi.Target,{ref:e,refProp:r,children:n})});bU.displayName="@mantine/core/ComboboxDropdownTarget";const BOe={},_A=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=je("ComboboxEmpty",BOe,t),l=$s();return p.jsx(Ae,{ref:e,...l.getStyles("empty",{className:r,classNames:n,styles:s,style:i}),...a})});_A.classes=gi;_A.displayName="@mantine/core/ComboboxEmpty";function $A({onKeyDown:t,withKeyboardNavigation:e,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:s}){const o=$s(),[a,l]=S.useState(null),c=d=>{if(t==null||t(d),!o.readOnly&&e){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),o.store.dropdownOpened?l(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),l(o.store.selectActiveOption()))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),o.store.dropdownOpened?l(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),l(o.store.selectActiveOption()))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&f!==-1?(d.preventDefault(),o.store.clickSelectedOption()):i==="button"&&(d.preventDefault(),o.store.openDropdown("keyboard"))}d.nativeEvent.code==="Escape"&&o.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&i==="button"&&(d.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(o.store.listId&&o.store.dropdownOpened)||void 0,"aria-controls":o.store.listId,"aria-activedescendant":o.store.dropdownOpened&&a||void 0,autoComplete:s,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:c}}const zOe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},xU=Fe((t,e)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:l,...c}=je("ComboboxEventsTarget",zOe,t);if(!Hc(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=$s(),d=$A({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:l});return S.cloneElement(n,{...d,...c,[r]:gn(e,u.store.targetRef,n==null?void 0:n.ref)})});xU.displayName="@mantine/core/ComboboxEventsTarget";const WOe={},kA=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=je("ComboboxFooter",WOe,t),l=$s();return p.jsx(Ae,{ref:e,...l.getStyles("footer",{className:r,classNames:n,style:i,styles:s}),...a,onMouseDown:c=>{c.preventDefault()}})});kA.classes=gi;kA.displayName="@mantine/core/ComboboxFooter";const UOe={},PA=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,label:l,...c}=je("ComboboxGroup",UOe,t),u=$s();return p.jsxs(Ae,{ref:e,...u.getStyles("group",{className:r,classNames:n,style:i,styles:s}),...c,children:[l&&p.jsx("div",{...u.getStyles("groupLabel",{classNames:n,styles:s}),children:l}),a]})});PA.classes=gi;PA.displayName="@mantine/core/ComboboxGroup";const ZOe={},CA=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=je("ComboboxHeader",ZOe,t),l=$s();return p.jsx(Ae,{ref:e,...l.getStyles("header",{className:r,classNames:n,style:i,styles:s}),...a,onMouseDown:c=>{c.preventDefault()}})});CA.classes=gi;CA.displayName="@mantine/core/ComboboxHeader";function vU({value:t,valuesDivider:e=",",...n}){return p.jsx("input",{type:"hidden",value:Array.isArray(t)?t.join(e):t||"",...n})}vU.displayName="@mantine/core/ComboboxHiddenInput";const XOe={},jA=Fe((t,e)=>{const n=je("ComboboxOption",XOe,t),{classNames:r,className:i,style:s,styles:o,vars:a,onClick:l,id:c,active:u,onMouseDown:d,onMouseOver:f,disabled:h,selected:m,mod:g,...y}=n,O=$s(),b=S.useId(),x=c||b;return p.jsx(Ae,{...O.getStyles("option",{className:i,classNames:r,styles:o,style:s}),...y,ref:e,id:x,mod:["combobox-option",{"combobox-active":u,"combobox-disabled":h,"combobox-selected":m},g],role:"option",onClick:v=>{var w;h?v.preventDefault():((w=O.onOptionSubmit)==null||w.call(O,n.value,n),l==null||l(v))},onMouseDown:v=>{v.preventDefault(),d==null||d(v)},onMouseOver:v=>{O.resetSelectionOnOptionHover&&O.store.resetSelectedOption(),f==null||f(v)}})});jA.classes=gi;jA.displayName="@mantine/core/ComboboxOption";const YOe={},EA=Fe((t,e)=>{const n=je("ComboboxOptions",YOe,t),{classNames:r,className:i,style:s,styles:o,id:a,onMouseDown:l,labelledBy:c,...u}=n,d=$s(),f=vs(a);return S.useEffect(()=>{d.store.setListId(f)},[f]),p.jsx(Ae,{ref:e,...d.getStyles("options",{className:i,style:s,classNames:r,styles:o}),...u,id:f,role:"listbox","aria-labelledby":c,onMouseDown:h=>{h.preventDefault(),l==null||l(h)}})});EA.classes=gi;EA.displayName="@mantine/core/ComboboxOptions";const GOe={withAriaAttributes:!0,withKeyboardNavigation:!0},TA=Fe((t,e)=>{const n=je("ComboboxSearch",GOe,t),{classNames:r,styles:i,unstyled:s,vars:o,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:c,size:u,...d}=n,f=$s(),h=f.getStyles("search"),m=$A({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:c,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return p.jsx(ht,{ref:gn(e,f.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:u||f.size,...m,...d,__staticSelector:"Combobox"})});TA.classes=gi;TA.displayName="@mantine/core/ComboboxSearch";const HOe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},wU=Fe((t,e)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:l,...c}=je("ComboboxTarget",HOe,t);if(!Hc(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=$s(),d=$A({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:l}),f=S.cloneElement(n,{...d,...c});return p.jsx(pi.Target,{ref:gn(e,u.store.targetRef),children:f})});wU.displayName="@mantine/core/ComboboxTarget";function KOe(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return t}function JOe(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return t}function ebe(t){for(let e=0;e<t.length;e+=1)if(!t[e].hasAttribute("data-combobox-disabled"))return e;return-1}function NA({defaultOpened:t,opened:e,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:s=!0,scrollBehavior:o="instant"}={}){const[a,l]=mi({value:e,defaultValue:t,finalValue:!1,onChange:n}),c=S.useRef(null),u=S.useRef(-1),d=S.useRef(null),f=S.useRef(null),h=S.useRef(-1),m=S.useRef(-1),g=S.useRef(-1),y=S.useCallback((E="unknown")=>{a||(l(!0),i==null||i(E))},[l,i,a]),O=S.useCallback((E="unknown")=>{a&&(l(!1),r==null||r(E))},[l,r,a]),b=S.useCallback((E="unknown")=>{a?O(E):y(E)},[O,y,a]),x=S.useCallback(()=>{const E=document.querySelector(`#${c.current} [data-combobox-selected]`);E==null||E.removeAttribute("data-combobox-selected"),E==null||E.removeAttribute("aria-selected")},[]),v=S.useCallback(E=>{const I=document.getElementById(c.current),M=I==null?void 0:I.querySelectorAll("[data-combobox-option]");if(!M)return null;const Q=E>=M.length?0:E<0?M.length-1:E;return u.current=Q,M!=null&&M[Q]&&!M[Q].hasAttribute("data-combobox-disabled")?(x(),M[Q].setAttribute("data-combobox-selected","true"),M[Q].setAttribute("aria-selected","true"),M[Q].scrollIntoView({block:"nearest",behavior:o}),M[Q].id):null},[o,x]),w=S.useCallback(()=>{const E=document.querySelector(`#${c.current} [data-combobox-active]`);if(E){const I=document.querySelectorAll(`#${c.current} [data-combobox-option]`),M=Array.from(I).findIndex(Q=>Q===E);return v(M)}return v(0)},[v]),_=S.useCallback(()=>v(JOe(u.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),s)),[v,s]),$=S.useCallback(()=>v(KOe(u.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),s)),[v,s]),k=S.useCallback(()=>v(ebe(document.querySelectorAll(`#${c.current} [data-combobox-option]`))),[v]),j=S.useCallback((E="selected",I)=>{g.current=window.setTimeout(()=>{var B;const M=document.querySelectorAll(`#${c.current} [data-combobox-option]`),Q=Array.from(M).findIndex(Z=>Z.hasAttribute(`data-combobox-${E}`));u.current=Q,I!=null&&I.scrollIntoView&&((B=M[Q])==null||B.scrollIntoView({block:"nearest",behavior:o}))},0)},[]),P=S.useCallback(()=>{u.current=-1,x()},[x]),R=S.useCallback(()=>{const E=document.querySelectorAll(`#${c.current} [data-combobox-option]`),I=E==null?void 0:E[u.current];I==null||I.click()},[]),N=S.useCallback(E=>{c.current=E},[]),A=S.useCallback(()=>{h.current=window.setTimeout(()=>d.current.focus(),0)},[]),C=S.useCallback(()=>{m.current=window.setTimeout(()=>f.current.focus(),0)},[]),T=S.useCallback(()=>u.current,[]);return S.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(m.current),window.clearTimeout(g.current)},[]),{dropdownOpened:a,openDropdown:y,closeDropdown:O,toggleDropdown:b,selectedOptionIndex:u.current,getSelectedOptionIndex:T,selectOption:v,selectFirstOption:k,selectActiveOption:w,selectNextOption:_,selectPreviousOption:$,resetSelectedOption:P,updateSelectedOptionIndex:j,listId:c.current,setListId:N,clickSelectedOption:R,searchRef:d,focusSearchInput:A,targetRef:f,focusTarget:C}}const tbe={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},nbe=(t,{size:e,dropdownPadding:n})=>({options:{"--combobox-option-fz":Ii(e),"--combobox-option-padding":$t(e,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:ye(n),"--combobox-option-fz":Ii(e),"--combobox-option-padding":$t(e,"combobox-option-padding")}});function pt(t){const e=je("Combobox",tbe,t),{classNames:n,styles:r,unstyled:i,children:s,store:o,vars:a,onOptionSubmit:l,onClose:c,size:u,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:h,readOnly:m,...g}=e,y=NA(),O=o||y,b=st({name:h||"Combobox",classes:gi,props:e,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:nbe}),x=()=>{c==null||c(),O.closeDropdown()};return p.jsx(LOe,{value:{getStyles:b,store:O,onOptionSubmit:l,size:u,resetSelectionOnOptionHover:f,readOnly:m},children:p.jsx(pi,{opened:O.dropdownOpened,...g,onChange:v=>!v&&x(),withRoles:!1,unstyled:i,children:s})})}const rbe=t=>t;pt.extend=rbe;pt.classes=gi;pt.displayName="@mantine/core/Combobox";pt.Target=wU;pt.Dropdown=SA;pt.Options=EA;pt.Option=jA;pt.Search=TA;pt.Empty=_A;pt.Chevron=wA;pt.Footer=kA;pt.Header=CA;pt.EventsTarget=xU;pt.DropdownTarget=bU;pt.Group=PA;pt.ClearButton=OU;pt.HiddenInput=vU;var SU={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const ibe=SU,AA=S.forwardRef(({__staticSelector:t,__stylesApiProps:e,className:n,classNames:r,styles:i,unstyled:s,children:o,label:a,description:l,id:c,disabled:u,error:d,size:f,labelPosition:h="left",bodyElement:m="div",labelElement:g="label",variant:y,style:O,vars:b,mod:x,...v},w)=>{const _=st({name:t,props:e,className:n,style:O,classes:SU,classNames:r,styles:i,unstyled:s});return p.jsx(Ae,{..._("root"),ref:w,__vars:{"--label-fz":Ii(f),"--label-lh":$t(f,"label-lh")},mod:[{"label-position":h},x],variant:y,size:f,...v,children:p.jsxs(Ae,{component:m,htmlFor:m==="label"?c:void 0,..._("body"),children:[o,p.jsxs("div",{..._("labelWrapper"),"data-disabled":u||void 0,children:[a&&p.jsx(Ae,{component:g,htmlFor:g==="label"?c:void 0,..._("label"),"data-disabled":u||void 0,children:a}),l&&p.jsx(ht.Description,{size:f,__inheritStyles:!1,..._("description"),children:l}),d&&typeof d!="boolean"&&p.jsx(ht.Error,{size:f,__inheritStyles:!1,..._("error"),children:d})]})]})})});AA.displayName="@mantine/core/InlineInput";function _U({children:t,role:e}){const n=hp();return n?p.jsx("div",{role:e,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:t}):p.jsx(p.Fragment,{children:t})}function sbe({size:t,style:e,...n}){const r=t!==void 0?{width:ye(t),height:ye(t),...e}:e;return p.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:p.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function $h(t){return"group"in t}function $U({options:t,search:e,limit:n}){const r=e.trim().toLowerCase(),i=[];for(let s=0;s<t.length;s+=1){const o=t[s];if(i.length===n)return i;$h(o)&&i.push({group:o.group,items:$U({options:o.items,search:e,limit:n-i.length})}),$h(o)||o.label.toLowerCase().includes(r)&&i.push(o)}return i}function obe(t){if(t.length===0)return!0;for(const e of t)if(!("group"in e)||e.items.length>0)return!1;return!0}function kU(t,e=new Set){if(Array.isArray(t))for(const n of t)if($h(n))kU(n.items,e);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(e.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);e.add(n.value)}}function abe(t,e){return Array.isArray(t)?t.includes(e):t===e}function PU({data:t,withCheckIcon:e,value:n,checkIconPosition:r,unstyled:i,renderOption:s}){if(!$h(t)){const a=abe(n,t.value),l=e&&a&&p.jsx(sbe,{className:gi.optionsDropdownCheckIcon}),c=p.jsxs(p.Fragment,{children:[r==="left"&&l,p.jsx("span",{children:t.label}),r==="right"&&l]});return p.jsx(pt.Option,{value:t.value,disabled:t.disabled,className:br({[gi.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof s=="function"?s({option:t,checked:a}):c})}const o=t.items.map(a=>p.jsx(PU,{data:a,value:n,unstyled:i,withCheckIcon:e,checkIconPosition:r,renderOption:s},a.value));return p.jsx(pt.Group,{label:t.group,children:o})}function CU({data:t,hidden:e,hiddenWhenEmpty:n,filter:r,search:i,limit:s,maxDropdownHeight:o,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:c=!1,value:u,checkIconPosition:d,nothingFoundMessage:f,unstyled:h,labelId:m,renderOption:g,scrollAreaProps:y,"aria-label":O}){kU(t);const x=typeof i=="string"?(r||$U)({options:t,search:l?i:"",limit:s??1/0}):t,v=obe(x),w=x.map(_=>p.jsx(PU,{data:_,withCheckIcon:c,value:u,checkIconPosition:d,unstyled:h,renderOption:g},$h(_)?_.group:_.value));return p.jsx(pt.Dropdown,{hidden:e||n&&v,children:p.jsxs(pt.Options,{labelledBy:m,"aria-label":O,children:[a?p.jsx(Hy.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...y,children:w}):w,v&&f&&p.jsx(pt.Empty,{children:f})]})})}var fS={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const AQ={orientation:"horizontal"},lbe=(t,{borderWidth:e})=>({group:{"--button-border-width":ye(e)}}),RA=Fe((t,e)=>{const n=je("ButtonGroup",AQ,t),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:l,vars:c,borderWidth:u,variant:d,mod:f,...h}=je("ButtonGroup",AQ,t),m=st({name:"ButtonGroup",props:n,classes:fS,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:c,varsResolver:lbe,rootSelector:"group"});return p.jsx(Ae,{...m("group"),ref:e,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});RA.classes=fS;RA.displayName="@mantine/core/ButtonGroup";const cbe={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${ye(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},ube={},dbe=(t,{radius:e,color:n,gradient:r,variant:i,size:s,justify:o,autoContrast:a})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":$t(s,"button-height"),"--button-padding-x":$t(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?Ii(s.replace("compact-","")):Ii(s),"--button-radius":e===void 0?void 0:nr(e),"--button-bg":n||i?l.background:void 0,"--button-hover":n||i?l.hover:void 0,"--button-color":l.color,"--button-bd":n||i?l.border:void 0,"--button-hover-color":n||i?l.hoverColor:void 0}}},Nc=Jc((t,e)=>{const n=je("Button",ube,t),{style:r,vars:i,className:s,color:o,disabled:a,children:l,leftSection:c,rightSection:u,fullWidth:d,variant:f,radius:h,loading:m,loaderProps:g,gradient:y,classNames:O,styles:b,unstyled:x,"data-disabled":v,autoContrast:w,mod:_,...$}=n,k=st({name:"Button",props:n,classes:fS,className:s,style:r,classNames:O,styles:b,unstyled:x,vars:i,varsResolver:dbe}),j=!!c,P=!!u;return p.jsxs(ul,{ref:e,...k("root",{active:!a&&!m&&!v}),unstyled:x,variant:f,disabled:a||m,mod:[{disabled:a||v,loading:m,block:d,"with-left-section":j,"with-right-section":P},_],...$,children:[p.jsx(Qd,{mounted:!!m,transition:cbe,duration:150,children:R=>p.jsx(Ae,{component:"span",...k("loader",{style:R}),"aria-hidden":!0,children:p.jsx(Jy,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...g})})}),p.jsxs("span",{...k("inner"),children:[c&&p.jsx(Ae,{component:"span",...k("section"),mod:{position:"left"},children:c}),p.jsx(Ae,{component:"span",mod:{loading:m},...k("label"),children:l}),u&&p.jsx(Ae,{component:"span",...k("section"),mod:{position:"right"},children:u})]})]})});Nc.classes=fS;Nc.displayName="@mantine/core/Button";Nc.Group=RA;function fbe({open:t,close:e,openDelay:n,closeDelay:r}){const i=S.useRef(-1),s=S.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0||n===void 0?t():i.current=window.setTimeout(t,n)},l=()=>{o(),r===0||r===void 0?e():s.current=window.setTimeout(e,r)};return S.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:l}}function kh(){return kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kh.apply(null,arguments)}function jU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var hbe=S.useLayoutEffect,pbe=function(e){var n=S.useRef(e);return hbe(function(){n.current=e}),n},RQ=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},mbe=function(e,n){var r=S.useRef();return S.useCallback(function(i){e.current=i,r.current&&RQ(r.current,null),r.current=n,n&&RQ(n,i)},[n])},MQ={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},gbe=function(e){Object.keys(MQ).forEach(function(n){e.style.setProperty(n,MQ[n],"important")})},IQ=gbe,Fr=null,DQ=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function ybe(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Fr||(Fr=document.createElement("textarea"),Fr.setAttribute("tabindex","-1"),Fr.setAttribute("aria-hidden","true"),IQ(Fr)),Fr.parentNode===null&&document.body.appendChild(Fr);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(f){var h=f;Fr.style[h]=o[h]}),IQ(Fr),Fr.value=e;var l=DQ(Fr,t);Fr.value=e,l=DQ(Fr,t),Fr.value="x";var c=Fr.scrollHeight-i,u=c*n;a==="border-box"&&(u=u+i+s),l=Math.max(u,l);var d=c*r;return a==="border-box"&&(d=d+i+s),l=Math.min(d,l),[l,c]}var QQ=function(){},Obe=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},bbe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],xbe=!!document.documentElement.currentStyle,vbe=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=Obe(bbe,n),i=r.boxSizing;if(i==="")return null;xbe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},wbe=vbe;function EU(t,e,n){var r=pbe(n);S.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(t)return t.addEventListener(e,i),function(){return t.removeEventListener(e,i)}},[])}var Sbe=function(e){EU(window,"resize",e)},_be=function(e){EU(document.fonts,"loadingdone",e)},$be=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],kbe=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?QQ:o,l=e.onHeightChange,c=l===void 0?QQ:l,u=jU(e,$be),d=u.value!==void 0,f=S.useRef(null),h=mbe(f,n),m=S.useRef(0),g=S.useRef(),y=function(){var x=f.current,v=r&&g.current?g.current:wbe(x);if(v){g.current=v;var w=ybe(v,x.value||x.placeholder||"x",s,i),_=w[0],$=w[1];m.current!==_&&(m.current=_,x.style.setProperty("height",_+"px","important"),c(_,{rowHeight:$}))}},O=function(x){d||y(),a(x)};return S.useLayoutEffect(y),Sbe(y),_be(y),S.createElement("textarea",kh({},u,{onChange:O,ref:h}))},Pbe=S.forwardRef(kbe);const Cbe={},eO=Fe((t,e)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:s,resize:o,...a}=je("Textarea",Cbe,t),l=n&&i6()!=="test",c=l?{maxRows:r,minRows:i}:{};return p.jsx(_s,{component:l?Pbe:"textarea",ref:e,...a,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":o},...c})});eO.classes=_s.classes;eO.displayName="@mantine/core/Textarea";const[jbe,tO]=xl("Menu component was not found in the tree");var pp={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const Ebe={},MA=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=je("MenuDivider",Ebe,t),l=tO();return p.jsx(Ae,{ref:e,...l.getStyles("divider",{className:r,style:i,styles:s,classNames:n}),...a})});MA.classes=pp;MA.displayName="@mantine/core/MenuDivider";const Tbe={},IA=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,onMouseEnter:a,onMouseLeave:l,onKeyDown:c,children:u,...d}=je("MenuDropdown",Tbe,t),f=S.useRef(null),h=tO(),m=Vo(c,O=>{var b,x;(O.key==="ArrowUp"||O.key==="ArrowDown")&&(O.preventDefault(),(x=(b=f.current)==null?void 0:b.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||x.focus())}),g=Vo(a,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.openDropdown()),y=Vo(l,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.closeDropdown());return p.jsxs(pi.Dropdown,{...d,onMouseEnter:g,onMouseLeave:y,role:"menu","aria-orientation":"vertical",ref:gn(e,f),...h.getStyles("dropdown",{className:r,style:i,styles:s,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:m,children:[p.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),u]})});IA.classes=pp;IA.displayName="@mantine/core/MenuDropdown";const Nbe={},DA=Jc((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,color:a,closeMenuOnClick:l,leftSection:c,rightSection:u,children:d,disabled:f,...h}=je("MenuItem",Nbe,t),m=tO(),g=zi(),{dir:y}=eu(),O=S.useRef(),b=m.getItemIndex(O.current),x=h,v=Vo(x.onMouseLeave,()=>m.setHovered(-1)),w=Vo(x.onMouseEnter,()=>m.setHovered(m.getItemIndex(O.current))),_=Vo(x.onClick,()=>{typeof l=="boolean"?l&&m.closeDropdownImmediately():m.closeOnItemClick&&m.closeDropdownImmediately()}),$=Vo(x.onFocus,()=>m.setHovered(m.getItemIndex(O.current))),k=a?g.variantColorResolver({color:a,theme:g,variant:"light"}):void 0,j=a?Kc({color:a,theme:g}):null;return p.jsxs(ul,{...h,unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,onFocus:$,...m.getStyles("item",{className:r,style:i,styles:s,classNames:n}),ref:gn(O,e),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||void 0,"data-hovered":m.hovered===b?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:w,onMouseLeave:v,onClick:_,onKeyDown:G9({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:y,orientation:"vertical",onKeyDown:x.onKeyDown}),__vars:{"--menu-item-color":j!=null&&j.isThemeColor&&(j==null?void 0:j.shade)===void 0?`var(--mantine-color-${j.color}-6)`:k==null?void 0:k.color,"--menu-item-hover":k==null?void 0:k.hover},children:[c&&p.jsx("div",{...m.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"left",children:c}),d&&p.jsx("div",{...m.getStyles("itemLabel",{styles:s,classNames:n}),children:d}),u&&p.jsx("div",{...m.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"right",children:u})]})});DA.classes=pp;DA.displayName="@mantine/core/MenuItem";const Abe={},QA=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=je("MenuLabel",Abe,t),l=tO();return p.jsx(Ae,{ref:e,...l.getStyles("label",{className:r,style:i,styles:s,classNames:n}),...a})});QA.classes=pp;QA.displayName="@mantine/core/MenuLabel";const Rbe={refProp:"ref"},TU=S.forwardRef((t,e)=>{const{children:n,refProp:r,...i}=je("MenuTarget",Rbe,t);if(!Hc(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=tO(),o=Vo(n.props.onClick,()=>{s.trigger==="click"?s.toggleDropdown():s.trigger==="click-hover"&&(s.setOpenedViaClick(!0),s.opened||s.openDropdown())}),a=Vo(n.props.onMouseEnter,()=>(s.trigger==="hover"||s.trigger==="click-hover")&&s.openDropdown()),l=Vo(n.props.onMouseLeave,()=>{(s.trigger==="hover"||s.trigger==="click-hover"&&!s.openedViaClick)&&s.closeDropdown()});return p.jsx(pi.Target,{refProp:r,popupType:"menu",ref:e,...i,children:S.cloneElement(n,{onClick:o,onMouseEnter:a,onMouseLeave:l,"data-expanded":s.opened?!0:void 0})})});TU.displayName="@mantine/core/MenuTarget";const Mbe={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Ni(t){const e=je("Menu",Mbe,t),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,trapFocus:a,onChange:l,closeOnItemClick:c,loop:u,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:m,classNames:g,styles:y,unstyled:O,variant:b,vars:x,menuItemTabIndex:v,keepMounted:w,..._}=e,$=st({name:"Menu",classes:pp,props:e,classNames:g,styles:y,unstyled:O}),[k,{setHovered:j,resetHovered:P}]=jpe(),[R,N]=mi({value:s,defaultValue:o,finalValue:!1,onChange:l}),[A,C]=S.useState(!1),T=()=>{N(!1),C(!1),R&&(i==null||i())},E=()=>{N(!0),!R&&(r==null||r())},I=()=>{R?T():E()},{openDropdown:M,closeDropdown:Q}=fbe({open:E,close:T,closeDelay:m,openDelay:h}),B=oe=>Cpe("[data-menu-item]","[data-menu-dropdown]",oe),{resolvedClassNames:Z,resolvedStyles:W}=tS({classNames:g,styles:y,props:e});return Ec(()=>{P()},[R]),p.jsx(jbe,{value:{getStyles:$,opened:R,toggleDropdown:I,getItemIndex:B,hovered:k,setHovered:j,openedViaClick:A,setOpenedViaClick:C,closeOnItemClick:c,closeDropdown:f==="click"?T:Q,openDropdown:f==="click"?E:M,closeDropdownImmediately:T,loop:u,trigger:f,unstyled:O,menuItemTabIndex:v},children:p.jsx(pi,{..._,opened:R,onChange:I,defaultOpened:o,trapFocus:w?!1:a,closeOnEscape:d,__staticSelector:"Menu",classNames:Z,styles:W,unstyled:O,variant:b,keepMounted:w,children:n})})}Ni.extend=t=>t;Ni.classes=pp;Ni.displayName="@mantine/core/Menu";Ni.Item=DA;Ni.Label=QA;Ni.Dropdown=IA;Ni.Target=TU;Ni.Divider=MA;const[Ibe,mp]=xl("Modal component was not found in tree");var Sl={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const Dbe={},hS=Fe((t,e)=>{const n=je("ModalBody",Dbe,t),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,c=mp();return p.jsx(cU,{ref:e,...c.getStyles("body",{classNames:r,style:s,styles:o,className:i}),...l})});hS.classes=Sl;hS.displayName="@mantine/core/ModalBody";const Qbe={},pS=Fe((t,e)=>{const n=je("ModalCloseButton",Qbe,t),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,c=mp();return p.jsx(uU,{ref:e,...c.getStyles("close",{classNames:r,style:s,styles:o,className:i}),...l})});pS.classes=Sl;pS.displayName="@mantine/core/ModalCloseButton";const Fbe={},mS=Fe((t,e)=>{const n=je("ModalContent",Fbe,t),{classNames:r,className:i,style:s,styles:o,vars:a,children:l,...c}=n,u=mp(),d=u.scrollAreaComponent||vOe;return p.jsx(dU,{...u.getStyles("content",{className:i,style:s,styles:o,classNames:r}),innerProps:u.getStyles("inner",{className:i,style:s,styles:o,classNames:r}),"data-full-screen":u.fullScreen||void 0,"data-modal-content":!0,ref:e,...c,children:p.jsx(d,{style:{maxHeight:u.fullScreen?"100dvh":`calc(100dvh - (${ye(u.yOffset)} * 2))`},children:l})})});mS.classes=Sl;mS.displayName="@mantine/core/ModalContent";const Lbe={},gS=Fe((t,e)=>{const n=je("ModalHeader",Lbe,t),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,c=mp();return p.jsx(fU,{ref:e,...c.getStyles("header",{classNames:r,style:s,styles:o,className:i}),...l})});gS.classes=Sl;gS.displayName="@mantine/core/ModalHeader";const qbe={},yS=Fe((t,e)=>{const n=je("ModalOverlay",qbe,t),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,c=mp();return p.jsx(hU,{ref:e,...c.getStyles("overlay",{classNames:r,style:s,styles:o,className:i}),...l})});yS.classes=Sl;yS.displayName="@mantine/core/ModalOverlay";const Vbe={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:vl("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},Bbe=(t,{radius:e,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":e===void 0?void 0:nr(e),"--modal-size":$t(n,"modal-size"),"--modal-y-offset":ye(r),"--modal-x-offset":ye(i)}}),OS=Fe((t,e)=>{const n=je("ModalRoot",Vbe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,yOffset:c,scrollAreaComponent:u,radius:d,fullScreen:f,centered:h,xOffset:m,__staticSelector:g,...y}=n,O=st({name:g,classes:Sl,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Bbe});return p.jsx(Ibe,{value:{yOffset:c,scrollAreaComponent:u,getStyles:O,fullScreen:f},children:p.jsx(lU,{ref:e,...O("root"),"data-full-screen":f||void 0,"data-centered":h||void 0,unstyled:a,...y})})});OS.classes=Sl;OS.displayName="@mantine/core/ModalRoot";const zbe={},bS=Fe((t,e)=>{const n=je("ModalTitle",zbe,t),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,c=mp();return p.jsx(pU,{ref:e,...c.getStyles("title",{classNames:r,style:s,styles:o,className:i}),...l})});bS.classes=Sl;bS.displayName="@mantine/core/ModalTitle";const Wbe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:vl("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Wi=Fe((t,e)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:s,closeButtonProps:o,children:a,radius:l,...c}=je("Modal",Wbe,t),u=!!n||s;return p.jsxs(OS,{ref:e,radius:l,...c,children:[r&&p.jsx(yS,{...i}),p.jsxs(mS,{radius:l,children:[u&&p.jsxs(gS,{children:[n&&p.jsx(bS,{children:n}),s&&p.jsx(pS,{...o})]}),p.jsx(hS,{children:a})]})]})});Wi.classes=Sl;Wi.displayName="@mantine/core/Modal";Wi.Root=OS;Wi.Overlay=yS;Wi.Content=mS;Wi.Body=hS;Wi.Header=gS;Wi.Title=bS;Wi.CloseButton=pS;const[Ube,FA]=Yy(),[Zbe,Xbe]=Yy();var xS={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const Ybe={},Gbe=(t,{gap:e},{size:n})=>({group:{"--pg-gap":e!==void 0?$t(e):$t(n,"pg-gap")}}),LA=Fe((t,e)=>{const n=je("PillGroup",Ybe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:c,disabled:u,...d}=n,f=FA(),h=(f==null?void 0:f.size)||c||void 0,m=st({name:"PillGroup",classes:xS,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Gbe,stylesCtx:{size:h},rootSelector:"group"});return p.jsx(Zbe,{value:{size:h,disabled:u},children:p.jsx(Ae,{ref:e,size:h,...m("group"),...d})})});LA.classes=xS;LA.displayName="@mantine/core/PillGroup";const Hbe={variant:"default"},Kbe=(t,{radius:e},{size:n})=>({root:{"--pill-fz":$t(n,"pill-fz"),"--pill-height":$t(n,"pill-height"),"--pill-radius":e===void 0?void 0:nr(e)}}),Cg=Fe((t,e)=>{const n=je("Pill",Hbe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,variant:c,children:u,withRemoveButton:d,onRemove:f,removeButtonProps:h,radius:m,size:g,disabled:y,mod:O,...b}=n,x=Xbe(),v=FA(),w=g||(x==null?void 0:x.size)||void 0,_=(v==null?void 0:v.variant)==="filled"?"contrast":c||"default",$=st({name:"Pill",classes:xS,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Kbe,stylesCtx:{size:w}});return p.jsxs(Ae,{component:"span",ref:e,variant:_,size:w,...$("root",{variant:_}),mod:[{"with-remove":d&&!y,disabled:y||(x==null?void 0:x.disabled)},O],...b,children:[p.jsx("span",{...$("label"),children:u}),d&&p.jsx(fp,{variant:"transparent",radius:m,tabIndex:-1,"aria-hidden":!0,unstyled:a,...h,...$("remove",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),onMouseDown:k=>{var j;k.preventDefault(),k.stopPropagation(),(j=h==null?void 0:h.onMouseDown)==null||j.call(h,k)},onClick:k=>{var j;k.stopPropagation(),f==null||f(),(j=h==null?void 0:h.onClick)==null||j.call(h,k)}})]})});Cg.classes=xS;Cg.displayName="@mantine/core/Pill";Cg.Group=LA;var NU={field:"m_45c4369d"};const Jbe={type:"visible"},qA=Fe((t,e)=>{const n=je("PillsInputField",Jbe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,type:c,disabled:u,id:d,pointer:f,mod:h,...m}=n,g=FA(),y=hp(),O=st({name:"PillsInputField",classes:NU,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"field"}),b=u||(g==null?void 0:g.disabled);return p.jsx(Ae,{component:"input",ref:gn(e,g==null?void 0:g.fieldRef),"data-type":c,disabled:b,mod:[{disabled:b,pointer:f},h],...O("field"),...m,id:(y==null?void 0:y.inputId)||d,"aria-invalid":g==null?void 0:g.hasError,"aria-describedby":y==null?void 0:y.describedBy,type:"text",onMouseDown:x=>!f&&x.stopPropagation()})});qA.classes=NU;qA.displayName="@mantine/core/PillsInputField";const exe={},Yv=Fe((t,e)=>{const n=je("PillsInput",exe,t),{children:r,onMouseDown:i,onClick:s,size:o,disabled:a,__staticSelector:l,error:c,variant:u,...d}=n,f=S.useRef();return p.jsx(Ube,{value:{fieldRef:f,size:o,disabled:a,hasError:!!c,variant:u},children:p.jsx(_s,{size:o,error:c,variant:u,component:"div",ref:e,onMouseDown:h=>{var m;h.preventDefault(),i==null||i(h),(m=f.current)==null||m.focus()},onClick:h=>{var m;h.preventDefault(),s==null||s(h),(m=f.current)==null||m.focus()},...d,multiline:!0,disabled:a,__staticSelector:l||"PillsInput",withAria:!1,children:r})})});Yv.displayName="@mantine/core/PillsInput";Yv.Field=qA;var AU={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const txe={withCloseButton:!0},nxe=(t,{radius:e,color:n})=>({root:{"--notification-radius":e===void 0?void 0:nr(e),"--notification-color":n?Hr(n,t):void 0}}),VA=Fe((t,e)=>{const n=je("Notification",txe,t),{className:r,color:i,radius:s,loading:o,withCloseButton:a,withBorder:l,title:c,icon:u,children:d,onClose:f,closeButtonProps:h,classNames:m,style:g,styles:y,unstyled:O,variant:b,vars:x,mod:v,...w}=n,_=st({name:"Notification",classes:AU,props:n,className:r,style:g,classNames:m,styles:y,unstyled:O,vars:x,varsResolver:nxe});return p.jsxs(Ae,{..._("root"),mod:[{"data-with-icon":!!u||o,"data-with-border":l},v],ref:e,variant:b,...w,role:"alert",children:[u&&!o&&p.jsx("div",{..._("icon"),children:u}),o&&p.jsx(Jy,{size:28,color:i,..._("loader")}),p.jsxs("div",{..._("body"),children:[c&&p.jsx("div",{..._("title"),children:c}),p.jsx(Ae,{..._("description"),mod:{"data-with-title":!!c},children:d})]}),a&&p.jsx(fp,{iconSize:16,color:"gray",...h,unstyled:O,onClick:f,..._("closeButton")})]})});VA.classes=AU;VA.displayName="@mantine/core/Notification";function RU(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var jg;(function(t){t.event="event",t.props="prop"})(jg||(jg={}));function Jl(){}function rxe(t){var e,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return e&&r.length===e.length&&r.every(function(s,o){return s===e[o]})||(e=r,n=t.apply(void 0,r)),n}}function Eg(t){return!!(t||"").match(/\d/)}function Vf(t){return t==null}function ixe(t){return typeof t=="number"&&isNaN(t)}function MU(t){return Vf(t)||ixe(t)||typeof t=="number"&&!isFinite(t)}function IU(t){return t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function sxe(t){switch(t){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function oxe(t,e,n){var r=sxe(n),i=t.search(/[1-9]/);return i=i===-1?t.length:i,t.substring(0,i)+t.substring(i,t.length).replace(r,"$1"+e)}function axe(t){var e=S.useRef(t);e.current=t;var n=S.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return e.current.apply(e,r)});return n.current}function BA(t,e){e===void 0&&(e=!0);var n=t[0]==="-",r=n&&e;t=t.replace("-","");var i=t.split("."),s=i[0],o=i[1]||"";return{beforeDecimal:s,afterDecimal:o,hasNegation:n,addNegation:r}}function lxe(t){if(!t)return t;var e=t[0]==="-";e&&(t=t.substring(1,t.length));var n=t.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(e?"-":"")+r+(i?"."+i:"")}function DU(t,e,n){for(var r="",i=n?"0":"",s=0;s<=e-1;s++)r+=t[s]||i;return r}function FQ(t,e){return Array(e+1).join(t)}function QU(t){var e=t+"",n=e[0]==="-"?"-":"";n&&(e=e.substring(1));var r=e.split(/[eE]/g),i=r[0],s=r[1];if(s=Number(s),!s)return n+i;i=i.replace(".","");var o=1+s,a=i.length;return o<0?i="0."+FQ("0",Math.abs(o))+i:o>=a?i=i+FQ("0",o-a):i=(i.substring(0,o)||"0")+"."+i.substring(o),n+i}function LQ(t,e,n){if(["","-"].indexOf(t)!==-1)return t;var r=(t.indexOf(".")!==-1||n)&&e,i=BA(t),s=i.beforeDecimal,o=i.afterDecimal,a=i.hasNegation,l=parseFloat("0."+(o||"0")),c=o.length<=e?"0."+o:l.toFixed(e),u=c.split("."),d=s;s&&Number(u[0])&&(d=s.split("").reverse().reduce(function(g,y,O){return g.length>O?(Number(g[0])+Number(y)).toString()+g.substring(1,g.length):y+g},u[0]));var f=DU(u[1]||"",e,n),h=a?"-":"",m=r?".":"";return""+h+d+m+f}function Nu(t,e){if(t.value=t.value,t!==null){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select(),!0}return t.selectionStart||t.selectionStart===0?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}var FU=rxe(function(t,e){for(var n=0,r=0,i=t.length,s=e.length;t[n]===e[n]&&n<i;)n++;for(;t[i-1-r]===e[s-1-r]&&s-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:s-r}}}),cxe=function(t,e){var n=Math.min(t.selectionStart,e);return{from:{start:n,end:t.selectionEnd},to:{start:n,end:e}}};function uxe(t,e,n){return Math.min(Math.max(t,e),n)}function r$(t){return Math.max(t.selectionStart,t.selectionEnd)}function dxe(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function fxe(t){return{from:{start:0,end:0},to:{start:0,end:t.length},lastValue:""}}function hxe(t){var e=t.currentValue,n=t.formattedValue,r=t.currentValueIndex,i=t.formattedValueIndex;return e[r]===n[i]}function pxe(t,e,n,r,i,s,o){o===void 0&&(o=hxe);var a=i.findIndex(function(v){return v}),l=t.slice(0,a);!e&&!n.startsWith(l)&&(e=l,n=l+n,r=r+l.length);for(var c=n.length,u=t.length,d={},f=new Array(c),h=0;h<c;h++){f[h]=-1;for(var m=0,g=u;m<g;m++){var y=o({currentValue:n,lastValue:e,formattedValue:t,currentValueIndex:h,formattedValueIndex:m});if(y&&d[m]!==!0){f[h]=m,d[m]=!0;break}}}for(var O=r;O<c&&(f[O]===-1||!s(n[O]));)O++;var b=O===c||f[O]===-1?u:f[O];for(O=r-1;O>0&&f[O]===-1;)O--;var x=O===-1||f[O]===-1?0:f[O]+1;return x>b?b:r-x<b-r?x:b}function qQ(t,e,n,r){var i=t.length;if(e=uxe(e,0,i),r==="left"){for(;e>=0&&!n[e];)e--;e===-1&&(e=n.indexOf(!0))}else{for(;e<=i&&!n[e];)e++;e>i&&(e=n.lastIndexOf(!0))}return e===-1&&(e=i),e}function mxe(t){for(var e=Array.from({length:t.length+1}).map(function(){return!0}),n=0,r=e.length;n<r;n++)e[n]=!!(Eg(t[n])||Eg(t[n-1]));return e}function LU(t,e,n,r,i,s){s===void 0&&(s=Jl);var o=axe(function(m,g){var y,O;return MU(m)?(O="",y=""):typeof m=="number"||g?(O=typeof m=="number"?QU(m):m,y=r(O)):(O=i(m,void 0),y=r(O)),{formattedValue:y,numAsString:O}}),a=S.useState(function(){return o(Vf(t)?e:t,n)}),l=a[0],c=a[1],u=function(m,g){m.formattedValue!==l.formattedValue&&c({formattedValue:m.formattedValue,numAsString:m.value}),s(m,g)},d=t,f=n;Vf(t)&&(d=l.numAsString,f=!0);var h=o(d,f);return S.useMemo(function(){c(h)},[h.formattedValue]),[l,u]}function gxe(t){return t.replace(/[^0-9]/g,"")}function yxe(t){return t}function Oxe(t){var e=t.type;e===void 0&&(e="text");var n=t.displayType;n===void 0&&(n="input");var r=t.customInput,i=t.renderText,s=t.getInputRef,o=t.format;o===void 0&&(o=yxe);var a=t.removeFormatting;a===void 0&&(a=gxe);var l=t.defaultValue,c=t.valueIsNumericString,u=t.onValueChange,d=t.isAllowed,f=t.onChange;f===void 0&&(f=Jl);var h=t.onKeyDown;h===void 0&&(h=Jl);var m=t.onMouseUp;m===void 0&&(m=Jl);var g=t.onFocus;g===void 0&&(g=Jl);var y=t.onBlur;y===void 0&&(y=Jl);var O=t.value,b=t.getCaretBoundary;b===void 0&&(b=mxe);var x=t.isValidInputCharacter;x===void 0&&(x=Eg);var v=t.isCharacterSame,w=RU(t,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),_=LU(O,l,!!c,o,a,u),$=_[0],k=$.formattedValue,j=$.numAsString,P=_[1],R=S.useRef(),N=S.useRef({formattedValue:k,numAsString:j}),A=function(pe,z){N.current={formattedValue:pe.formattedValue,numAsString:pe.value},P(pe,z)},C=S.useState(!1),T=C[0],E=C[1],I=S.useRef(null),M=S.useRef({setCaretTimeout:null,focusTimeout:null});S.useEffect(function(){return E(!0),function(){clearTimeout(M.current.setCaretTimeout),clearTimeout(M.current.focusTimeout)}},[]);var Q=o,B=function(pe,z){var ee=parseFloat(z);return{formattedValue:pe,value:z,floatValue:isNaN(ee)?void 0:ee}},Z=function(pe,z,ee){pe.selectionStart===0&&pe.selectionEnd===pe.value.length||(Nu(pe,z),M.current.setCaretTimeout=setTimeout(function(){pe.value===ee&&pe.selectionStart!==z&&Nu(pe,z)},0))},W=function(pe,z,ee){return qQ(pe,z,b(pe),ee)},oe=function(pe,z,ee){var K=b(z),me=pxe(z,k,pe,ee,K,x,v);return me=qQ(z,me,K),me},le=function(pe){var z=pe.formattedValue;z===void 0&&(z="");var ee=pe.input,K=pe.source,me=pe.event,de=pe.numAsString,ne;if(ee){var ce=pe.inputValue||ee.value,he=r$(ee);ee.value=z,ne=oe(ce,z,he),ne!==void 0&&Z(ee,ne,z)}z!==k&&A(B(z,de),{event:me,source:K})};S.useEffect(function(){var pe=N.current,z=pe.formattedValue,ee=pe.numAsString;(k!==z||j!==ee)&&A(B(k,j),{event:void 0,source:jg.props})},[k,j]);var U=I.current?r$(I.current):void 0,G=typeof window<"u"?S.useLayoutEffect:S.useEffect;G(function(){var pe=I.current;if(k!==N.current.formattedValue&&pe){var z=oe(N.current.formattedValue,k,U);pe.value=k,Z(pe,z,k)}},[k]);var ie=function(pe,z,ee){var K=z.target,me=R.current?cxe(R.current,K.selectionEnd):FU(k,pe),de=Object.assign(Object.assign({},me),{lastValue:k}),ne=a(pe,de),ce=Q(ne);if(ne=a(ce,void 0),d&&!d(B(ce,ne))){var he=z.target,ge=r$(he),be=oe(pe,k,ge);return he.value=k,Z(he,be,k),!1}return le({formattedValue:ce,numAsString:ne,inputValue:pe,event:z,source:ee,input:z.target}),!0},Y=function(pe,z){z===void 0&&(z=0);var ee=pe.selectionStart,K=pe.selectionEnd;R.current={selectionStart:ee,selectionEnd:K+z}},L=function(pe){var z=pe.target,ee=z.value,K=ie(ee,pe,jg.event);K&&f(pe),R.current=void 0},ae=function(pe){var z=pe.target,ee=pe.key,K=z.selectionStart,me=z.selectionEnd,de=z.value;de===void 0&&(de="");var ne;ee==="ArrowLeft"||ee==="Backspace"?ne=Math.max(K-1,0):ee==="ArrowRight"?ne=Math.min(K+1,de.length):ee==="Delete"&&(ne=K);var ce=0;ee==="Delete"&&K===me&&(ce=1);var he=ee==="ArrowLeft"||ee==="ArrowRight";if(ne===void 0||K!==me&&!he){h(pe),Y(z,ce);return}var ge=ne;if(he){var be=ee==="ArrowLeft"?"left":"right";ge=W(de,ne,be),ge!==ne&&pe.preventDefault()}else ee==="Delete"&&!x(de[ne])?ge=W(de,ne,"right"):ee==="Backspace"&&!x(de[ne])&&(ge=W(de,ne,"left"));ge!==ne&&Z(z,ge,de),h(pe),Y(z,ce)},q=function(pe){var z=pe.target,ee=function(){var K=z.selectionStart,me=z.selectionEnd,de=z.value;if(de===void 0&&(de=""),K===me){var ne=W(de,K);ne!==K&&Z(z,ne,de)}};ee(),requestAnimationFrame(function(){ee()}),m(pe),Y(z)},te=function(pe){pe.persist&&pe.persist();var z=pe.target,ee=pe.currentTarget;I.current=z,M.current.focusTimeout=setTimeout(function(){var K=z.selectionStart,me=z.selectionEnd,de=z.value;de===void 0&&(de="");var ne=W(de,K);ne!==K&&!(K===0&&me===de.length)&&Z(z,ne,de),g(Object.assign(Object.assign({},pe),{currentTarget:ee}))},0)},re=function(pe){I.current=null,clearTimeout(M.current.focusTimeout),clearTimeout(M.current.setCaretTimeout),y(pe)},ue=T&&dxe()?"numeric":void 0,fe=Object.assign({inputMode:ue},w,{type:e,value:k,onChange:L,onKeyDown:ae,onMouseUp:q,onFocus:te,onBlur:re});if(n==="text")return i?ve.createElement(ve.Fragment,null,i(k,w)||null):ve.createElement("span",Object.assign({},w,{ref:s}),k);if(r){var Ee=r;return ve.createElement(Ee,Object.assign({},fe,{ref:s}))}return ve.createElement("input",Object.assign({},fe,{ref:s}))}function VQ(t,e){var n=e.decimalScale,r=e.fixedDecimalScale,i=e.prefix;i===void 0&&(i="");var s=e.suffix;s===void 0&&(s="");var o=e.allowNegative,a=e.thousandsGroupStyle;if(a===void 0&&(a="thousand"),t===""||t==="-")return t;var l=vS(e),c=l.thousandSeparator,u=l.decimalSeparator,d=n!==0&&t.indexOf(".")!==-1||n&&r,f=BA(t,o),h=f.beforeDecimal,m=f.afterDecimal,g=f.addNegation;return n!==void 0&&(m=DU(m,n,!!r)),c&&(h=oxe(h,c,a)),i&&(h=i+h),s&&(m=m+s),g&&(h="-"+h),t=h+(d&&u||"")+m,t}function vS(t){var e=t.decimalSeparator;e===void 0&&(e=".");var n=t.thousandSeparator,r=t.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[e,"."]),{decimalSeparator:e,thousandSeparator:n,allowedDecimalSeparators:r}}function bxe(t,e){t===void 0&&(t="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(t),s=r.test(t);return t=t.replace(/-/g,""),i&&!s&&e&&(t="-"+t),t}function xxe(t,e){return new RegExp("(^-)|[0-9]|"+IU(t),"g")}function vxe(t,e,n){return t===""?!0:!(e!=null&&e.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof t=="string"&&!isNaN(Number(t))}function wxe(t,e,n){var r;e===void 0&&(e=fxe(t));var i=n.allowNegative,s=n.prefix;s===void 0&&(s="");var o=n.suffix;o===void 0&&(o="");var a=n.decimalScale,l=e.from,c=e.to,u=c.start,d=c.end,f=vS(n),h=f.allowedDecimalSeparators,m=f.decimalSeparator,g=t[d]===m;if(Eg(t)&&(t===s||t===o)&&e.lastValue==="")return t;if(d-u===1&&h.indexOf(t[u])!==-1){var y=a===0?"":m;t=t.substring(0,u)+y+t.substring(u+1,t.length)}var O=function(I,M,Q){var B=!1,Z=!1;s.startsWith("-")?B=!1:I.startsWith("--")?(B=!1,Z=!0):o.startsWith("-")&&I.length===o.length?B=!1:I[0]==="-"&&(B=!0);var W=B?1:0;return Z&&(W=2),W&&(I=I.substring(W),M-=W,Q-=W),{value:I,start:M,end:Q,hasNegation:B}},b=O(t,u,d),x=b.hasNegation;r=b,t=r.value,u=r.start,d=r.end;var v=O(e.lastValue,l.start,l.end),w=v.start,_=v.end,$=v.value,k=t.substring(u,d);t.length&&$.length&&(w>$.length-o.length||_<s.length)&&!(k&&o.startsWith(k))&&(t=$);var j=0;t.startsWith(s)?j+=s.length:u<s.length&&(j=u),t=t.substring(j),d-=j;var P=t.length,R=t.length-o.length;t.endsWith(o)?P=R:(d>R||d>t.length-o.length)&&(P=d),t=t.substring(0,P),t=bxe(x?"-"+t:t,i),t=(t.match(xxe(m))||[]).join("");var N=t.indexOf(m);t=t.replace(new RegExp(IU(m),"g"),function(I,M){return M===N?".":""});var A=BA(t,i),C=A.beforeDecimal,T=A.afterDecimal,E=A.addNegation;return c.end-c.start<l.end-l.start&&C===""&&g&&!parseFloat(T)&&(t=E?"-":""),t}function Sxe(t,e){var n=e.prefix;n===void 0&&(n="");var r=e.suffix;r===void 0&&(r="");var i=Array.from({length:t.length+1}).map(function(){return!0}),s=t[0]==="-";i.fill(!1,0,n.length+(s?1:0));var o=t.length;return i.fill(!1,o-r.length+1,o+1),i}function _xe(t){var e=vS(t),n=e.thousandSeparator,r=e.decimalSeparator,i=t.prefix;i===void 0&&(i="");var s=t.allowNegative;if(s===void 0&&(s=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&s&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+s+`
    `),s=!1),Object.assign(Object.assign({},t),{allowNegative:s})}function $xe(t){t=_xe(t),t.decimalSeparator,t.allowedDecimalSeparators,t.thousandsGroupStyle;var e=t.suffix,n=t.allowNegative,r=t.allowLeadingZeros,i=t.onKeyDown;i===void 0&&(i=Jl);var s=t.onBlur;s===void 0&&(s=Jl);var o=t.thousandSeparator,a=t.decimalScale,l=t.fixedDecimalScale,c=t.prefix;c===void 0&&(c="");var u=t.defaultValue,d=t.value,f=t.valueIsNumericString,h=t.onValueChange,m=RU(t,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),g=vS(t),y=g.decimalSeparator,O=g.allowedDecimalSeparators,b=function(E){return VQ(E,t)},x=function(E,I){return wxe(E,I,t)},v=Vf(d)?u:d,w=f??vxe(v,c,e);Vf(d)?Vf(u)||(w=w||typeof u=="number"):w=w||typeof d=="number";var _=function(E){return MU(E)?E:(typeof E=="number"&&(E=QU(E)),w&&typeof a=="number"?LQ(E,a,!!l):E)},$=LU(_(d),_(u),!!w,b,x,h),k=$[0],j=k.numAsString,P=k.formattedValue,R=$[1],N=function(E){var I=E.target,M=E.key,Q=I.selectionStart,B=I.selectionEnd,Z=I.value;if(Z===void 0&&(Z=""),(M==="Backspace"||M==="Delete")&&B<c.length){E.preventDefault();return}if(Q!==B){i(E);return}M==="Backspace"&&Z[0]==="-"&&Q===c.length+1&&n&&Nu(I,1),a&&l&&(M==="Backspace"&&Z[Q-1]===y?(Nu(I,Q-1),E.preventDefault()):M==="Delete"&&Z[Q]===y&&E.preventDefault()),O!=null&&O.includes(M)&&Z[Q]===y&&Nu(I,Q+1);var W=o===!0?",":o;M==="Backspace"&&Z[Q-1]===W&&Nu(I,Q-1),M==="Delete"&&Z[Q]===W&&Nu(I,Q+1),i(E)},A=function(E){var I=j;if(I.match(/\d/g)||(I=""),r||(I=lxe(I)),l&&a&&(I=LQ(I,a,l)),I!==j){var M=VQ(I,t);R({formattedValue:M,value:I,floatValue:parseFloat(I)},{event:E,source:jg.event})}s(E)},C=function(E){return E===y?!0:Eg(E)},T=function(E){var I=E.currentValue,M=E.lastValue,Q=E.formattedValue,B=E.currentValueIndex,Z=E.formattedValueIndex,W=I[B],oe=Q[Z],le=FU(M,I),U=le.to,G=function(ie){return x(ie).indexOf(".")+c.length};return d===0&&l&&a&&I[U.start]===y&&G(I)<B&&G(Q)>Z?!1:B>=U.start&&B<U.end&&O&&O.includes(W)&&oe===y?!0:W===oe};return Object.assign(Object.assign({},m),{value:P,valueIsNumericString:!1,isValidInputCharacter:C,isCharacterSame:T,onValueChange:R,format:b,removeFormatting:x,getCaretBoundary:function(E){return Sxe(E,t)},onKeyDown:N,onBlur:A})}function kxe(t){var e=$xe(t);return ve.createElement(Oxe,Object.assign({},e))}function BQ({direction:t,style:e,...n}){return p.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:t==="up"?"rotate(180deg)":void 0,...e},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:p.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var _C={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const Pxe=/^(0\.0*|-0(\.0*)?)$/,Cxe=/^-?0\d+(\.\d+)?\.?$/;function jxe(t){return t.toString().replace(".","").length}function Exe(t,e){return(typeof t=="number"?t<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(t)))&&!Number.isNaN(t)&&jxe(e)<14&&e!==""}function zQ(t,e,n){if(t===void 0)return!0;const r=e===void 0||t>=e,i=n===void 0||t<=n;return r&&i}const Txe={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},Nxe=(t,{size:e})=>({controls:{"--ni-chevron-size":$t(e,"ni-chevron-size")}}),wS=Fe((t,e)=>{const n=je("NumberInput",Txe,t),{className:r,classNames:i,styles:s,unstyled:o,vars:a,onChange:l,onValueChange:c,value:u,defaultValue:d,max:f,min:h,step:m,hideControls:g,rightSection:y,isAllowed:O,clampBehavior:b,onBlur:x,allowDecimal:v,decimalScale:w,onKeyDown:_,onKeyDownCapture:$,handlersRef:k,startValue:j,disabled:P,rightSectionPointerEvents:R,allowNegative:N,readOnly:A,size:C,rightSectionWidth:T,stepHoldInterval:E,stepHoldDelay:I,allowLeadingZeros:M,withKeyboardEvents:Q,trimLeadingZeroesOnBlur:B,...Z}=n,W=st({name:"NumberInput",classes:_C,props:n,classNames:i,styles:s,unstyled:o,vars:a,varsResolver:Nxe}),{resolvedClassNames:oe,resolvedStyles:le}=tS({classNames:i,styles:s,props:n}),[U,G]=mi({value:u,defaultValue:d,onChange:l}),ie=I!==void 0&&E!==void 0,Y=S.useRef(null),L=S.useRef(null),ae=S.useRef(0),q=(ne,ce)=>{ce.source==="event"&&G(Exe(ne.floatValue,ne.value)&&!Pxe.test(ne.value)&&!(M&&Cxe.test(ne.value))?ne.floatValue:ne.value),c==null||c(ne,ce)},te=ne=>{const ce=String(ne).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return ce?Math.max(0,(ce[1]?ce[1].length:0)-(ce[2]?+ce[2]:0)):0},re=ne=>{Y.current&&typeof ne<"u"&&Y.current.setSelectionRange(ne,ne)},ue=S.useRef();ue.current=()=>{let ne;const ce=te(U),he=te(m),ge=Math.max(ce,he),be=10**ge;if(typeof U!="number"||Number.isNaN(U))ne=Ya(j,h,f);else if(f!==void 0){const Ye=(Math.round(U*be)+Math.round(m*be))/be;ne=Ye<=f?Ye:f}else ne=(Math.round(U*be)+Math.round(m*be))/be;const $e=ne.toFixed(ge);G(parseFloat($e)),c==null||c({floatValue:parseFloat($e),formattedValue:$e,value:$e},{source:"increment"}),setTimeout(()=>{var Ye;return re((Ye=Y.current)==null?void 0:Ye.value.length)},0)};const fe=S.useRef();fe.current=()=>{let ne;const ce=h!==void 0?h:N?Number.MIN_SAFE_INTEGER:0,he=te(U),ge=te(m),be=Math.max(he,ge),$e=10**be;if(typeof U!="number"||Number.isNaN(U))ne=Ya(j,ce,f);else{const Tt=(Math.round(U*$e)-Math.round(m*$e))/$e;ne=ce!==void 0&&Tt<ce?ce:Tt}const Ye=ne.toFixed(be);G(parseFloat(Ye)),c==null||c({floatValue:parseFloat(Ye),formattedValue:Ye,value:Ye},{source:"decrement"}),setTimeout(()=>{var Tt;return re((Tt=Y.current)==null?void 0:Tt.value.length)},0)};const Ee=ne=>{_==null||_(ne),!(A||!Q)&&(ne.key==="ArrowUp"&&(ne.preventDefault(),ue.current()),ne.key==="ArrowDown"&&(ne.preventDefault(),fe.current()))},pe=ne=>{if($==null||$(ne),ne.key==="Backspace"){const ce=Y.current;ce.selectionStart===0&&ce.selectionStart===ce.selectionEnd&&(ne.preventDefault(),window.setTimeout(()=>re(0),0))}};BN(k,{increment:ue.current,decrement:fe.current});const z=ne=>{ne?ue.current():fe.current(),ae.current+=1},ee=ne=>{if(z(ne),ie){const ce=typeof E=="number"?E:E(ae.current);L.current=window.setTimeout(()=>ee(ne),ce)}},K=(ne,ce)=>{var he;ne.preventDefault(),(he=Y.current)==null||he.focus(),z(ce),ie&&(L.current=window.setTimeout(()=>ee(ce),I))},me=()=>{L.current&&window.clearTimeout(L.current),L.current=null,ae.current=0},de=p.jsxs("div",{...W("controls"),children:[p.jsx(ul,{...W("control"),tabIndex:-1,"aria-hidden":!0,disabled:P||typeof U=="number"&&f!==void 0&&U>=f,mod:{direction:"up"},onMouseDown:ne=>ne.preventDefault(),onPointerDown:ne=>{K(ne,!0)},onPointerUp:me,onPointerLeave:me,children:p.jsx(BQ,{direction:"up"})}),p.jsx(ul,{...W("control"),tabIndex:-1,"aria-hidden":!0,disabled:P||typeof U=="number"&&h!==void 0&&U<=h,mod:{direction:"down"},onMouseDown:ne=>ne.preventDefault(),onPointerDown:ne=>{K(ne,!1)},onPointerUp:me,onPointerLeave:me,children:p.jsx(BQ,{direction:"down"})})]});return p.jsx(_s,{component:kxe,allowNegative:N,className:br(_C.root,r),size:C,...Z,readOnly:A,disabled:P,value:U,getInputRef:gn(e,Y),onValueChange:q,rightSection:g||A?y:y||de,classNames:oe,styles:le,unstyled:o,__staticSelector:"NumberInput",decimalScale:v?w:0,onKeyDown:Ee,onKeyDownCapture:pe,rightSectionPointerEvents:R??(P?"none":void 0),rightSectionWidth:T??`var(--ni-right-section-width-${C||"sm"})`,allowLeadingZeros:M,onBlur:ne=>{if(x==null||x(ne),b==="blur"&&typeof U=="number"&&Ya(U,h,f)!==U&&G(Ya(U,h,f)),B&&typeof U=="string"&&te(U)<15){const ce=U.replace(/^0+/,""),he=parseFloat(ce);G(Number.isNaN(he)||he>Number.MAX_SAFE_INTEGER?ce:he)}},isAllowed:ne=>b==="strict"?O?O(ne)&&zQ(ne.floatValue,h,f):zQ(ne.floatValue,h,f):O?O(ne):!0})});wS.classes={..._s.classes,..._C};wS.displayName="@mantine/core/NumberInput";const[Axe,qU]=Yy(),[Rxe,Mxe]=Yy();var VU={card:"m_9dc8ae12"};const Ixe={withBorder:!0},Dxe=(t,{radius:e})=>({card:{"--card-radius":nr(e)}}),zA=Fe((t,e)=>{const n=je("RadioCard",Ixe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,checked:c,mod:u,withBorder:d,value:f,onClick:h,name:m,onKeyDown:g,...y}=n,O=st({name:"RadioCard",classes:VU,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Dxe,rootSelector:"card"}),{dir:b}=eu(),x=qU(),v=typeof c=="boolean"?c:(x==null?void 0:x.value)===f||!1,w=m||(x==null?void 0:x.name),_=$=>{if(g==null||g($),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes($.nativeEvent.code)){$.preventDefault();const k=Array.from(document.querySelectorAll(`[role="radio"][name="${w||"__mantine"}"]`)),j=k.findIndex(N=>N===$.target),P=j+1>=k.length?0:j+1,R=j-1<0?k.length-1:j-1;$.nativeEvent.code==="ArrowDown"&&(k[P].focus(),k[P].click()),$.nativeEvent.code==="ArrowUp"&&(k[R].focus(),k[R].click()),$.nativeEvent.code==="ArrowLeft"&&(k[b==="ltr"?R:P].focus(),k[b==="ltr"?R:P].click()),$.nativeEvent.code==="ArrowRight"&&(k[b==="ltr"?P:R].focus(),k[b==="ltr"?P:R].click())}};return p.jsx(Rxe,{value:{checked:v},children:p.jsx(ul,{ref:e,mod:[{"with-border":d,checked:v},u],...O("card"),...y,role:"radio","aria-checked":v,name:w,onClick:$=>{h==null||h($),x==null||x.onChange(f||"")},onKeyDown:_})})});zA.displayName="@mantine/core/RadioCard";zA.classes=VU;const Qxe={},SS=Fe((t,e)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,name:l,readOnly:c,...u}=je("RadioGroup",Qxe,t),d=vs(l),[f,h]=mi({value:n,defaultValue:r,finalValue:"",onChange:i}),m=g=>!c&&h(typeof g=="string"?g:g.currentTarget.value);return p.jsx(Axe,{value:{value:f,onChange:m,size:s,name:d},children:p.jsx(ht.Wrapper,{size:s,ref:e,...o,...u,labelElement:"div",__staticSelector:"RadioGroup",children:p.jsx(_U,{role:"radiogroup",children:a})})})});SS.classes=ht.Wrapper.classes;SS.displayName="@mantine/core/RadioGroup";function BU({size:t,style:e,...n}){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:ye(t),height:ye(t),...e},"aria-hidden":!0,...n,children:p.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var zU={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const Fxe={icon:BU},Lxe=(t,{radius:e,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=Kc({color:n||t.primaryColor,theme:t}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":$t(r,"radio-size"),"--radio-radius":e===void 0?void 0:nr(e),"--radio-color":s==="outline"?l:Hr(n,t),"--radio-icon-size":$t(r,"radio-icon-size"),"--radio-icon-color":i?Hr(i,t):XN(o,t)?Gy({color:n,theme:t,autoContrast:o}):void 0}}},WA=Fe((t,e)=>{const n=je("RadioIndicator",Fxe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,icon:c,radius:u,color:d,iconColor:f,autoContrast:h,checked:m,mod:g,variant:y,disabled:O,...b}=n,x=c,v=st({name:"RadioIndicator",classes:zU,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Lxe,rootSelector:"indicator"}),w=Mxe(),_=typeof m=="boolean"?m:(w==null?void 0:w.checked)||!1;return p.jsx(Ae,{ref:e,...v("indicator",{variant:y}),variant:y,mod:[{checked:_,disabled:O},g],...b,children:p.jsx(x,{...v("icon")})})});WA.displayName="@mantine/core/RadioIndicator";WA.classes=zU;var WU={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const qxe={labelPosition:"right"},Vxe=(t,{size:e,radius:n,color:r,iconColor:i,variant:s,autoContrast:o})=>{const a=Kc({color:r||t.primaryColor,theme:t}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":$t(e,"radio-size"),"--radio-radius":n===void 0?void 0:nr(n),"--radio-color":s==="outline"?l:Hr(r,t),"--radio-icon-color":i?Hr(i,t):XN(o,t)?Gy({color:r,theme:t,autoContrast:o}):void 0,"--radio-icon-size":$t(e,"radio-icon-size")}}},ra=Fe((t,e)=>{const n=je("Radio",qxe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,id:c,size:u,label:d,labelPosition:f,description:h,error:m,radius:g,color:y,variant:O,disabled:b,wrapperProps:x,icon:v=BU,rootRef:w,iconColor:_,onChange:$,mod:k,...j}=n,P=st({name:"Radio",classes:WU,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Vxe}),R=qU(),N=(R==null?void 0:R.size)??u,A=n.size?u:N,{styleProps:C,rest:T}=lp(j),E=vs(c),I=R?{checked:R.value===T.value,name:T.name??R.name,onChange:M=>{R.onChange(M),$==null||$(M)}}:{};return p.jsx(AA,{...P("root"),__staticSelector:"Radio",__stylesApiProps:n,id:E,size:A,labelPosition:f,label:d,description:h,error:m,disabled:b,classNames:r,styles:o,unstyled:a,"data-checked":I.checked||void 0,variant:O,ref:w,mod:k,...C,...x,children:p.jsxs(Ae,{...P("inner"),mod:{"label-position":f},children:[p.jsx(Ae,{...P("radio",{focusable:!0,variant:O}),onChange:$,...T,...I,component:"input",mod:{error:!!m},ref:e,id:E,disabled:b,type:"radio"}),p.jsx(v,{...P("icon"),"aria-hidden":!0})]})})});ra.classes=WU;ra.displayName="@mantine/core/Radio";ra.Group=SS;ra.Card=zA;ra.Indicator=WA;const Bxe={duration:100,transition:"fade"};function zxe(t,e){return{...Bxe,...e,...t}}function Wxe({offset:t,position:e,defaultOpened:n}){const[r,i]=S.useState(n),s=S.useRef(),{x:o,y:a,elements:l,refs:c,update:u,placement:d}=hA({placement:e,middleware:[cA({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=d.includes("right")?t:e.includes("left")?t*-1:0,h=d.includes("bottom")?t:e.includes("top")?t*-1:0,m=S.useCallback(({clientX:g,clientY:y})=>{c.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:g,y,left:g+f,top:y+h,right:g,bottom:y}}})},[l.reference]);return S.useEffect(()=>{if(c.floating.current){const g=s.current;g.addEventListener("mousemove",m);const y=el(c.floating.current);return y.forEach(O=>{O.addEventListener("scroll",u)}),()=>{g.removeEventListener("mousemove",m),y.forEach(O=>{O.removeEventListener("scroll",u)})}}},[l.reference,c.floating.current,u,m,r]),{handleMouseMove:m,x:o,y:a,opened:r,setOpened:i,boundaryRef:s,floating:c.setFloating}}var _S={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const Uxe={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:vl("popover")},Zxe=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:nr(e),"--tooltip-bg":n?Hr(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),UA=Fe((t,e)=>{const n=je("TooltipFloating",Uxe,t),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:l,styles:c,unstyled:u,radius:d,color:f,label:h,offset:m,position:g,multiline:y,zIndex:O,disabled:b,defaultOpened:x,variant:v,vars:w,portalProps:_,...$}=n,k=zi(),j=st({name:"TooltipFloating",props:n,classes:_S,className:a,style:o,classNames:l,styles:c,unstyled:u,rootSelector:"tooltip",vars:w,varsResolver:Zxe}),{handleMouseMove:P,x:R,y:N,opened:A,boundaryRef:C,floating:T,setOpened:E}=Wxe({offset:m,position:g,defaultOpened:x});if(!Hc(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const I=gn(C,r.ref,e),M=B=>{var Z,W;(W=(Z=r.props).onMouseEnter)==null||W.call(Z,B),P(B),E(!0)},Q=B=>{var Z,W;(W=(Z=r.props).onMouseLeave)==null||W.call(Z,B),E(!1)};return p.jsxs(p.Fragment,{children:[p.jsx(dp,{..._,withinPortal:s,children:p.jsx(Ae,{...$,...j("tooltip",{style:{...u6(o,k),zIndex:O,display:!b&&A?"block":"none",top:(N&&Math.round(N))??"",left:(R&&Math.round(R))??""}}),variant:v,ref:T,mod:{multiline:y},children:h})}),S.cloneElement(r,{...r.props,[i]:I,onMouseEnter:M,onMouseLeave:Q})]})});UA.classes=_S;UA.displayName="@mantine/core/TooltipFloating";const UU=S.createContext(!1),Xxe=UU.Provider,Yxe=()=>S.useContext(UU),Gxe={openDelay:0,closeDelay:0};function ZA(t){const{openDelay:e,closeDelay:n,children:r}=je("TooltipGroup",Gxe,t);return p.jsx(Xxe,{value:!0,children:p.jsx(Rye,{delay:{open:e,close:n},children:r})})}ZA.displayName="@mantine/core/TooltipGroup";ZA.extend=t=>t;function Hxe(t){var _,$,k;const[e,n]=S.useState(t.defaultOpened),i=typeof t.opened=="boolean"?t.opened:e,s=Yxe(),o=vs(),{delay:a,currentId:l,setCurrentId:c}=U6(),u=S.useCallback(j=>{n(j),j&&c(o)},[c,o]),{x:d,y:f,context:h,refs:m,update:g,placement:y,middlewareData:{arrow:{x:O,y:b}={}}}=hA({strategy:t.strategy,placement:t.position,open:i,onOpenChange:u,middleware:[q6(t.offset),cA({padding:8}),vC(),V6({element:t.arrowRef,padding:t.arrowOffset}),...t.inline?[wC()]:[]]}),{getReferenceProps:x,getFloatingProps:v}=Vye([Aye(h,{enabled:(_=t.events)==null?void 0:_.hover,delay:s?a:{open:t.openDelay,close:t.closeDelay},mouseOnly:!(($=t.events)!=null&&$.touch)}),qye(h,{enabled:(k=t.events)==null?void 0:k.focus,visibleOnly:!0}),zye(h,{role:"tooltip"}),Fye(h,{enabled:typeof t.opened>"u"}),Mye(h,{id:o})]);J6({opened:i,position:t.position,positionDependencies:t.positionDependencies,floating:{refs:m,update:g}}),Ec(()=>{var j;(j=t.onPositionChange)==null||j.call(t,y)},[y]);const w=i&&l&&l!==o;return{x:d,y:f,arrowX:O,arrowY:b,reference:m.setReference,floating:m.setFloating,getFloatingProps:v,getReferenceProps:x,isGroupPhase:w,opened:i,placement:y}}const WQ={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:vl("popover"),positionDependencies:[]},Kxe=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:nr(e),"--tooltip-bg":n?Hr(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),_l=Fe((t,e)=>{const n=je("Tooltip",WQ,t),{children:r,position:i,refProp:s,label:o,openDelay:a,closeDelay:l,onPositionChange:c,opened:u,defaultOpened:d,withinPortal:f,radius:h,color:m,classNames:g,styles:y,unstyled:O,style:b,className:x,withArrow:v,arrowSize:w,arrowOffset:_,arrowRadius:$,arrowPosition:k,offset:j,transitionProps:P,multiline:R,events:N,zIndex:A,disabled:C,positionDependencies:T,onClick:E,onMouseEnter:I,onMouseLeave:M,inline:Q,variant:B,keepMounted:Z,vars:W,portalProps:oe,mod:le,floatingStrategy:U,...G}=je("Tooltip",WQ,n),{dir:ie}=eu(),Y=S.useRef(null),L=Hxe({position:Z6(ie,i),closeDelay:l,openDelay:a,onPositionChange:c,opened:u,defaultOpened:d,events:N,arrowRef:Y,arrowOffset:_,offset:typeof j=="number"?j+(v?w/2:0):j,positionDependencies:[...T,r],inline:Q,strategy:U}),ae=st({name:"Tooltip",props:n,classes:_S,className:x,style:b,classNames:g,styles:y,unstyled:O,rootSelector:"tooltip",vars:W,varsResolver:Kxe});if(!Hc(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const q=gn(L.reference,r.ref,e),te=zxe(P,{duration:100,transition:"fade"});return p.jsxs(p.Fragment,{children:[p.jsx(dp,{...oe,withinPortal:f,children:p.jsx(Qd,{...te,keepMounted:Z,mounted:!C&&!!L.opened,duration:L.isGroupPhase?10:te.duration,children:re=>p.jsxs(Ae,{...G,"data-fixed":U==="fixed"||void 0,variant:B,mod:[{multiline:R},le],...L.getFloatingProps({ref:L.floating,className:ae("tooltip").className,style:{...ae("tooltip").style,...re,zIndex:A,top:L.y??0,left:L.x??0}}),children:[o,p.jsx(pA,{ref:Y,arrowX:L.arrowX,arrowY:L.arrowY,visible:v,position:L.placement,arrowSize:w,arrowOffset:_,arrowRadius:$,arrowPosition:k,...ae("arrow")})]})})}),S.cloneElement(r,L.getReferenceProps({onClick:E,onMouseEnter:I,onMouseLeave:M,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,[s]:q,className:br(x,r.props.className),...r.props}))]})});_l.classes=_S;_l.displayName="@mantine/core/Tooltip";_l.Floating=UA;_l.Group=ZA;var ZU={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const Jxe={withItemsBorders:!0},eve=(t,{radius:e,color:n,transitionDuration:r,size:i,transitionTimingFunction:s})=>({root:{"--sc-radius":e===void 0?void 0:nr(e),"--sc-color":n?Hr(n,t):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":s,"--sc-padding":$t(i,"sc-padding"),"--sc-font-size":Ii(i)}}),Fd=Fe((t,e)=>{var G,ie;const n=je("SegmentedControl",Jxe,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,data:c,value:u,defaultValue:d,onChange:f,size:h,name:m,disabled:g,readOnly:y,fullWidth:O,orientation:b,radius:x,color:v,transitionDuration:w,transitionTimingFunction:_,variant:$,autoContrast:k,withItemsBorders:j,mod:P,...R}=n,N=st({name:"SegmentedControl",props:n,classes:ZU,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:eve}),A=zi(),C=c.map(Y=>typeof Y=="string"?{label:Y,value:Y}:Y),T=Ype(),[E,I]=S.useState(null),[M,Q]=S.useState({}),B=(Y,L)=>{M[L]=Y,Q(M)},[Z,W]=mi({value:u,defaultValue:d,finalValue:Array.isArray(c)?((G=C.find(Y=>!Y.disabled))==null?void 0:G.value)??((ie=c[0])==null?void 0:ie.value)??null:null,onChange:f}),oe=vs(m),le=C.map(Y=>S.createElement(Ae,{...N("control"),mod:{active:Z===Y.value,orientation:b},key:Y.value},S.createElement("input",{...N("input"),disabled:g||Y.disabled,type:"radio",name:oe,value:Y.value,id:`${oe}-${Y.value}`,checked:Z===Y.value,onChange:()=>!y&&W(Y.value),"data-focus-ring":A.focusRing,key:`${Y.value}-input`}),S.createElement(Ae,{component:"label",...N("label"),mod:{active:Z===Y.value&&!(g||Y.disabled),disabled:g||Y.disabled,"read-only":y},htmlFor:`${oe}-${Y.value}`,ref:L=>B(L,Y.value),__vars:{"--sc-label-color":v!==void 0?Gy({color:v,theme:A,autoContrast:k}):void 0},key:`${Y.value}-label`},p.jsx("span",{...N("innerLabel"),children:Y.label})))),U=gn(e,Y=>I(Y));return c.length===0?null:p.jsxs(Ae,{...N("root"),variant:$,size:h,ref:U,mod:[{"full-width":O,orientation:b,initialized:T,"with-items-borders":j},P],...R,role:"radiogroup","data-disabled":g,children:[typeof Z=="string"&&p.jsx(xA,{target:M[Z],parent:E,component:"span",transitionDuration:"var(--sc-transition-duration)",...N("indicator")}),le]})});Fd.classes=ZU;Fd.displayName="@mantine/core/SegmentedControl";const tve={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Wa=Fe((t,e)=>{const n=je("Select",tve,t),{classNames:r,styles:i,unstyled:s,vars:o,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:c,onDropdownOpen:u,onFocus:d,onBlur:f,onClick:h,onChange:m,data:g,value:y,defaultValue:O,selectFirstOptionOnChange:b,onOptionSubmit:x,comboboxProps:v,readOnly:w,disabled:_,filter:$,limit:k,withScrollArea:j,maxDropdownHeight:P,size:R,searchable:N,rightSection:A,checkIconPosition:C,withCheckIcon:T,nothingFoundMessage:E,name:I,form:M,searchValue:Q,defaultSearchValue:B,onSearchChange:Z,allowDeselect:W,error:oe,rightSectionPointerEvents:le,id:U,clearable:G,clearButtonProps:ie,hiddenInputProps:Y,renderOption:L,onClear:ae,autoComplete:q,scrollAreaProps:te,...re}=n,ue=S.useMemo(()=>yU(g),[g]),fe=S.useMemo(()=>vA(ue),[ue]),Ee=vs(U),[pe,z,ee]=mi({value:y,defaultValue:O,finalValue:null,onChange:m}),K=typeof pe=="string"?fe[pe]:void 0,me=Zpe(K),[de,ne]=mi({value:Q,defaultValue:B,finalValue:K?K.label:"",onChange:Z}),ce=NA({opened:a,defaultOpened:l,onDropdownOpen:()=>{u==null||u(),ce.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{c==null||c(),ce.resetSelectedOption()}}),{resolvedClassNames:he,resolvedStyles:ge}=tS({props:n,styles:i,classNames:r});S.useEffect(()=>{b&&ce.selectFirstOption()},[b,pe]),S.useEffect(()=>{y===null&&ne(""),typeof y=="string"&&K&&((me==null?void 0:me.value)!==K.value||(me==null?void 0:me.label)!==K.label)&&ne(K.label)},[y,K]);const be=G&&!!pe&&!_&&!w&&p.jsx(pt.ClearButton,{size:R,...ie,onClear:()=>{z(null,null),ne(""),ae==null||ae()}});return p.jsxs(p.Fragment,{children:[p.jsxs(pt,{store:ce,__staticSelector:"Select",classNames:he,styles:ge,unstyled:s,readOnly:w,onOptionSubmit:$e=>{x==null||x($e);const Ye=W&&fe[$e].value===pe?null:fe[$e],Tt=Ye?Ye.value:null;Tt!==pe&&z(Tt,Ye),!ee&&ne(typeof Tt=="string"&&(Ye==null?void 0:Ye.label)||""),ce.closeDropdown()},size:R,...v,children:[p.jsx(pt.Target,{targetType:N?"input":"button",autoComplete:q,children:p.jsx(_s,{id:Ee,ref:e,rightSection:A||be||p.jsx(pt.Chevron,{size:R,error:oe,unstyled:s}),rightSectionPointerEvents:le||(be?"all":"none"),...re,size:R,__staticSelector:"Select",disabled:_,readOnly:w||!N,value:de,onChange:$e=>{ne($e.currentTarget.value),ce.openDropdown(),b&&ce.selectFirstOption()},onFocus:$e=>{N&&ce.openDropdown(),d==null||d($e)},onBlur:$e=>{var Ye;N&&ce.closeDropdown(),ne(pe!=null&&((Ye=fe[pe])==null?void 0:Ye.label)||""),f==null||f($e)},onClick:$e=>{N?ce.openDropdown():ce.toggleDropdown(),h==null||h($e)},classNames:he,styles:ge,unstyled:s,pointer:!N,error:oe})}),p.jsx(CU,{data:ue,hidden:w||_,filter:$,search:de,limit:k,hiddenWhenEmpty:!E,withScrollArea:j,maxDropdownHeight:P,filterOptions:N&&(K==null?void 0:K.label)!==de,value:pe,checkIconPosition:C,withCheckIcon:T,nothingFoundMessage:E,unstyled:s,labelId:re.label?`${Ee}-label`:void 0,"aria-label":re.label?void 0:re["aria-label"],renderOption:L,scrollAreaProps:te})]}),p.jsx(pt.HiddenInput,{value:pe,name:I,form:M,disabled:_,...Y})]})});Wa.classes={..._s.classes,...pt.classes};Wa.displayName="@mantine/core/Select";const[nve,$S]=xl("SliderProvider was not found in tree"),XU=S.forwardRef(({size:t,disabled:e,variant:n,color:r,thumbSize:i,radius:s,...o},a)=>{const{getStyles:l}=$S();return p.jsx(Ae,{tabIndex:-1,variant:n,size:t,ref:a,...l("root"),...o})});XU.displayName="@mantine/core/SliderRoot";const YU=S.forwardRef(({max:t,min:e,value:n,position:r,label:i,dragging:s,onMouseDown:o,onKeyDownCapture:a,labelTransitionProps:l,labelAlwaysOn:c,thumbLabel:u,onFocus:d,onBlur:f,showLabelOnHover:h,isHovered:m,children:g=null,disabled:y},O)=>{const{getStyles:b}=$S(),[x,v]=S.useState(!1),w=c||s||x||h&&m;return p.jsxs(Ae,{tabIndex:0,role:"slider","aria-label":u,"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":n,ref:O,__vars:{"--slider-thumb-offset":`${r}%`},...b("thumb",{focusable:!0}),mod:{dragging:s,disabled:y},onFocus:()=>{v(!0),typeof d=="function"&&d()},onBlur:()=>{v(!1),typeof f=="function"&&f()},onTouchStart:o,onMouseDown:o,onKeyDownCapture:a,onClick:_=>_.stopPropagation(),children:[g,p.jsx(Qd,{mounted:i!=null&&!!w,transition:"fade",duration:0,...l,children:_=>p.jsx("div",{...b("label",{style:_}),children:i})})]})});YU.displayName="@mantine/core/SliderThumb";function GU({value:t,min:e,max:n}){const r=(t-e)/(n-e)*100;return Math.min(Math.max(r,0),100)}function rve({mark:t,offset:e,value:n,inverted:r=!1}){return r?typeof e=="number"&&t.value<=e||t.value>=n:typeof e=="number"?t.value>=e&&t.value<=n:t.value<=n}function HU({marks:t,min:e,max:n,disabled:r,value:i,offset:s,inverted:o}){const{getStyles:a}=$S();if(!t)return null;const l=t.map((c,u)=>S.createElement(Ae,{...a("markWrapper"),__vars:{"--mark-offset":`${GU({value:c.value,min:e,max:n})}%`},key:u},p.jsx(Ae,{...a("mark"),mod:{filled:rve({mark:c,value:i,offset:s,inverted:o}),disabled:r}}),c.label&&p.jsx("div",{...a("markLabel"),children:c.label})));return p.jsx("div",{children:l})}HU.displayName="@mantine/core/SliderMarks";function KU({filled:t,children:e,offset:n,disabled:r,marksOffset:i,inverted:s,containerProps:o,...a}){const{getStyles:l}=$S();return p.jsx(Ae,{...l("trackContainer"),mod:{disabled:r},...o,children:p.jsxs(Ae,{...l("track"),mod:{inverted:s,disabled:r},children:[p.jsx(Ae,{mod:{inverted:s,disabled:r},__vars:{"--slider-bar-width":`calc(${t}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...l("bar")}),e,p.jsx(HU,{...a,offset:i,disabled:r,inverted:s})]})})}KU.displayName="@mantine/core/SliderTrack";function ive({value:t,containerWidth:e,min:n,max:r,step:i,precision:s}){const a=(e?Math.min(Math.max(t,0),e)/e:t)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,c=Math.max(l,n);return s!==void 0?Number(c.toFixed(s)):c}function wb(t,e){return parseFloat(t.toFixed(e))}function sve(t){if(!t)return 0;const e=t.toString().split(".");return e.length>1?e[1].length:0}var JU={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const ove={radius:"xl",min:0,max:100,step:1,marks:[],label:t=>t,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:t=>t},ave=(t,{size:e,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":$t(e,"slider-size"),"--slider-color":n?Hr(n,t):void 0,"--slider-radius":i===void 0?void 0:nr(i),"--slider-thumb-size":r!==void 0?ye(r):"calc(var(--slider-size) * 2)"}}),XA=Fe((t,e)=>{const n=je("Slider",ove,t),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:l,min:c,max:u,step:d,precision:f,defaultValue:h,name:m,marks:g,label:y,labelTransitionProps:O,labelAlwaysOn:b,thumbLabel:x,showLabelOnHover:v,thumbChildren:w,disabled:_,unstyled:$,scale:k,inverted:j,className:P,style:R,vars:N,hiddenInputProps:A,...C}=n,T=st({name:"Slider",props:n,classes:JU,classNames:r,className:P,styles:i,style:R,vars:N,varsResolver:ave,unstyled:$}),{dir:E}=eu(),[I,M]=S.useState(!1),[Q,B]=mi({value:typeof s=="number"?Ya(s,c,u):s,defaultValue:typeof h=="number"?Ya(h,c,u):h,finalValue:Ya(0,c,u),onChange:o}),Z=S.useRef(Q),W=S.useRef(),oe=S.useRef(),le=GU({value:Q,min:c,max:u}),U=k(Q),G=typeof y=="function"?y(U):y,ie=f??sve(d),Y=S.useCallback(({x:te})=>{if(!_){const re=ive({value:te,min:c,max:u,step:d,precision:ie});B(re),Z.current=re}},[_,c,u,d,ie,B]),{ref:L,active:ae}=Wpe(Y,{onScrubEnd:()=>a==null?void 0:a(Z.current)},E),q=te=>{var re,ue,fe,Ee,pe,z;if(!_)switch(te.key){case"ArrowUp":{te.preventDefault(),(re=oe.current)==null||re.focus();const ee=wb(Math.min(Math.max(Q+d,c),u),ie);B(ee),a==null||a(ee);break}case"ArrowRight":{te.preventDefault(),(ue=oe.current)==null||ue.focus();const ee=wb(Math.min(Math.max(E==="rtl"?Q-d:Q+d,c),u),ie);B(ee),a==null||a(ee);break}case"ArrowDown":{te.preventDefault(),(fe=oe.current)==null||fe.focus();const ee=wb(Math.min(Math.max(Q-d,c),u),ie);B(ee),a==null||a(ee);break}case"ArrowLeft":{te.preventDefault(),(Ee=oe.current)==null||Ee.focus();const ee=wb(Math.min(Math.max(E==="rtl"?Q+d:Q-d,c),u),ie);B(ee),a==null||a(ee);break}case"Home":{te.preventDefault(),(pe=oe.current)==null||pe.focus(),B(c),a==null||a(c);break}case"End":{te.preventDefault(),(z=oe.current)==null||z.focus(),B(u),a==null||a(u);break}}};return p.jsx(nve,{value:{getStyles:T},children:p.jsxs(XU,{...C,ref:gn(e,W),onKeyDownCapture:q,onMouseDownCapture:()=>{var te;return(te=W.current)==null?void 0:te.focus()},size:l,disabled:_,children:[p.jsx(KU,{inverted:j,offset:0,filled:le,marks:g,min:c,max:u,value:U,disabled:_,containerProps:{ref:L,onMouseEnter:v?()=>M(!0):void 0,onMouseLeave:v?()=>M(!1):void 0},children:p.jsx(YU,{max:u,min:c,value:U,position:le,dragging:ae,label:G,ref:oe,labelTransitionProps:O,labelAlwaysOn:b,thumbLabel:x,showLabelOnHover:v,isHovered:I,disabled:_,children:w})}),p.jsx("input",{type:"hidden",name:m,value:U,...A})]})})});XA.classes=JU;XA.displayName="@mantine/core/Slider";const e8=S.createContext(null),lve=e8.Provider,cve=()=>S.useContext(e8),uve={},YA=Fe((t,e)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:l,...c}=je("SwitchGroup",uve,t),[u,d]=mi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const m=h.currentTarget.value;!l&&d(u.includes(m)?u.filter(g=>g!==m):[...u,m])};return p.jsx(lve,{value:{value:u,onChange:f,size:s},children:p.jsx(ht.Wrapper,{size:s,ref:e,...o,...c,labelElement:"div",__staticSelector:"SwitchGroup",children:p.jsx(_U,{role:"group",children:a})})})});YA.classes=ht.Wrapper.classes;YA.displayName="@mantine/core/SwitchGroup";var t8={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const dve={labelPosition:"right"},fve=(t,{radius:e,color:n,size:r})=>({root:{"--switch-radius":e===void 0?void 0:nr(e),"--switch-height":$t(r,"switch-height"),"--switch-width":$t(r,"switch-width"),"--switch-thumb-size":$t(r,"switch-thumb-size"),"--switch-label-font-size":$t(r,"switch-label-font-size"),"--switch-track-label-padding":$t(r,"switch-track-label-padding"),"--switch-color":n?Hr(n,t):void 0}}),fo=Fe((t,e)=>{const n=je("Switch",dve,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:c,label:u,offLabel:d,onLabel:f,id:h,size:m,radius:g,wrapperProps:y,thumbIcon:O,checked:b,defaultChecked:x,onChange:v,labelPosition:w,description:_,error:$,disabled:k,variant:j,rootRef:P,mod:R,...N}=n,A=cve(),C=m||(A==null?void 0:A.size),T=st({name:"Switch",props:n,classes:t8,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:fve}),{styleProps:E,rest:I}=lp(N),M=vs(h),Q=A?{checked:A.value.includes(I.value),onChange:A.onChange}:{},[B,Z]=mi({value:Q.checked??b,defaultValue:x,finalValue:!1});return p.jsxs(AA,{...T("root"),__staticSelector:"Switch",__stylesApiProps:n,id:M,size:C,labelPosition:w,label:u,description:_,error:$,disabled:k,bodyElement:"label",labelElement:"span",classNames:r,styles:o,unstyled:a,"data-checked":Q.checked||void 0,variant:j,ref:P,mod:R,...E,...y,children:[p.jsx("input",{...I,disabled:k,checked:B,onChange:W=>{var oe;A?(oe=Q.onChange)==null||oe.call(Q,W):v==null||v(W),Z(W.currentTarget.checked)},id:M,ref:e,type:"checkbox",role:"switch",...T("input")}),p.jsxs(Ae,{"aria-hidden":"true",mod:{error:$,"label-position":w,"without-labels":!f&&!d},...T("track"),children:[p.jsx(Ae,{component:"span",mod:"reduce-motion",...T("thumb"),children:O}),p.jsx("span",{...T("trackLabel"),children:B?f:d})]})]})});fo.classes={...t8,...ibe};fo.displayName="@mantine/core/Switch";fo.Group=YA;const[hve,GA]=xl("Tabs component was not found in the tree");var nO={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const pve={},HA=Fe((t,e)=>{const n=je("TabsList",pve,t),{children:r,className:i,grow:s,justify:o,classNames:a,styles:l,style:c,mod:u,...d}=n,f=GA();return p.jsx(Ae,{...d,...f.getStyles("list",{className:i,style:c,classNames:a,styles:l,props:n,variant:f.variant}),ref:e,role:"tablist",variant:f.variant,mod:[{grow:s,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},u],"aria-orientation":f.orientation,__vars:{"--tabs-justify":o},children:r})});HA.classes=nO;HA.displayName="@mantine/core/TabsList";const mve={},KA=Fe((t,e)=>{const n=je("TabsPanel",mve,t),{children:r,className:i,value:s,classNames:o,styles:a,style:l,mod:c,keepMounted:u,...d}=n,f=GA(),h=f.value===s,m=f.keepMounted||u||h?r:null;return p.jsx(Ae,{...d,...f.getStyles("panel",{className:i,classNames:o,styles:a,style:[l,h?void 0:{display:"none"}],props:n}),ref:e,mod:[{orientation:f.orientation},c],role:"tabpanel",id:f.getPanelId(s),"aria-labelledby":f.getTabId(s),children:m})});KA.classes=nO;KA.displayName="@mantine/core/TabsPanel";const gve={},JA=Fe((t,e)=>{const n=je("TabsTab",gve,t),{className:r,children:i,rightSection:s,leftSection:o,value:a,onClick:l,onKeyDown:c,disabled:u,color:d,style:f,classNames:h,styles:m,vars:g,mod:y,...O}=n,b=zi(),{dir:x}=eu(),v=GA(),w=a===v.value,_=k=>{v.onChange(v.allowTabDeactivation&&a===v.value?null:a),l==null||l(k)},$={classNames:h,styles:m,props:n};return p.jsxs(ul,{...O,...v.getStyles("tab",{className:r,style:f,variant:v.variant,...$}),disabled:u,unstyled:v.unstyled,variant:v.variant,mod:[{active:w,disabled:u,orientation:v.orientation,inverted:v.inverted,placement:v.orientation==="vertical"&&v.placement},y],ref:e,role:"tab",id:v.getTabId(a),"aria-selected":w,tabIndex:w||v.value===null?0:-1,"aria-controls":v.getPanelId(a),onClick:_,__vars:{"--tabs-color":d?Hr(d,b):void 0},onKeyDown:G9({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:v.activateTabWithKeyboard,loop:v.loop,orientation:v.orientation||"horizontal",dir:x,onKeyDown:c}),children:[o&&p.jsx("span",{...v.getStyles("tabSection",$),"data-position":"left",children:o}),i&&p.jsx("span",{...v.getStyles("tabLabel",$),children:i}),s&&p.jsx("span",{...v.getStyles("tabSection",$),"data-position":"right",children:s})]})});JA.classes=nO;JA.displayName="@mantine/core/TabsTab";const UQ="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",yve={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},Ove=(t,{radius:e,color:n,autoContrast:r})=>({root:{"--tabs-radius":nr(e),"--tabs-color":Hr(n,t),"--tabs-text-color":XN(r,t)?Gy({color:n,theme:t,autoContrast:r}):void 0}}),pn=Fe((t,e)=>{const n=je("Tabs",yve,t),{defaultValue:r,value:i,onChange:s,orientation:o,children:a,loop:l,id:c,activateTabWithKeyboard:u,allowTabDeactivation:d,variant:f,color:h,radius:m,inverted:g,placement:y,keepMounted:O,classNames:b,styles:x,unstyled:v,className:w,style:_,vars:$,autoContrast:k,mod:j,...P}=n,R=vs(c),[N,A]=mi({value:i,defaultValue:r,finalValue:null,onChange:s}),C=st({name:"Tabs",props:n,classes:nO,className:w,style:_,classNames:b,styles:x,unstyled:v,vars:$,varsResolver:Ove});return p.jsx(hve,{value:{placement:y,value:N,orientation:o,id:R,loop:l,activateTabWithKeyboard:u,getTabId:eQ(`${R}-tab`,UQ),getPanelId:eQ(`${R}-panel`,UQ),onChange:A,allowTabDeactivation:d,variant:f,color:h,radius:m,inverted:g,keepMounted:O,unstyled:v,getStyles:C},children:p.jsx(Ae,{ref:e,id:R,variant:f,mod:[{orientation:o,inverted:o==="horizontal"&&g,placement:o==="vertical"&&y},j],...C("root"),...P,children:a})})});pn.classes=nO;pn.displayName="@mantine/core/Tabs";pn.Tab=JA;pn.Panel=KA;pn.List=HA;function bve({data:t,value:e}){const n=e.map(i=>i.trim().toLowerCase());return t.reduce((i,s)=>($h(s)?i.push({group:s.group,items:s.items.filter(o=>n.indexOf(o.label.toLowerCase().trim())===-1)}):n.indexOf(s.label.toLowerCase().trim())===-1&&i.push(s),i),[])}function xve(t,e){return t?e.split(new RegExp(`[${t.join("")}]`)).map(n=>n.trim()).filter(n=>n!==""):[e]}function ZQ({splitChars:t,allowDuplicates:e,maxTags:n,value:r,currentTags:i}){const s=xve(t,r),o=e?[...i,...s]:[...new Set([...i,...s])];return n?o.slice(0,n):o}const vve={maxTags:1/0,allowDuplicates:!1,acceptValueOnBlur:!0,splitChars:[","],hiddenInputValuesDivider:","},Tg=Fe((t,e)=>{const n=je("TagsInput",vve,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:c,value:u,defaultValue:d,onChange:f,onKeyDown:h,maxTags:m,allowDuplicates:g,onDuplicate:y,variant:O,data:b,dropdownOpened:x,defaultDropdownOpened:v,onDropdownOpen:w,onDropdownClose:_,selectFirstOptionOnChange:$,onOptionSubmit:k,comboboxProps:j,filter:P,limit:R,withScrollArea:N,maxDropdownHeight:A,searchValue:C,defaultSearchValue:T,onSearchChange:E,readOnly:I,disabled:M,splitChars:Q,onFocus:B,onBlur:Z,onPaste:W,radius:oe,rightSection:le,rightSectionWidth:U,rightSectionPointerEvents:G,rightSectionProps:ie,leftSection:Y,leftSectionWidth:L,leftSectionPointerEvents:ae,leftSectionProps:q,inputContainer:te,inputWrapperOrder:re,withAsterisk:ue,required:fe,labelProps:Ee,descriptionProps:pe,errorProps:z,wrapperProps:ee,description:K,label:me,error:de,withErrorStyles:ne,name:ce,form:he,id:ge,clearable:be,clearButtonProps:$e,hiddenInputProps:Ye,hiddenInputValuesDivider:Tt,mod:Oi,renderOption:Il,onRemove:bi,onClear:wo,scrollAreaProps:Qr,acceptValueOnBlur:As,...ab}=n,rm=vs(ge),lb=yU(b),S_=vA(lb),cb=S.useRef(null),__=gn(cb,e),So=NA({opened:x,defaultOpened:v,onDropdownOpen:w,onDropdownClose:()=>{_==null||_(),So.resetSelectedOption()}}),{styleProps:ub,rest:{type:ED,autoComplete:$_,...k_}}=lp(ab),[fn,va]=mi({value:u,defaultValue:d,finalValue:[],onChange:f}),[wa,Dl]=mi({value:C,defaultValue:T,finalValue:"",onChange:E}),im=st({name:"TagsInput",classes:{},props:n,classNames:r,styles:o,unstyled:a}),{resolvedClassNames:db,resolvedStyles:fb}=tS({props:n,styles:o,classNames:r}),hb=rt=>{const ei=fn.some(uu=>uu.toLowerCase()===rt.toLowerCase());ei&&(y==null||y(rt)),(!ei||ei&&g)&&fn.length<m&&(k==null||k(rt),Dl(""),rt.length>0&&va([...fn,rt]))},P_=rt=>{if(h==null||h(rt),rt.isPropagationStopped())return;const ei=wa.trim(),{length:uu}=ei;if(Q.includes(rt.key)&&uu>0&&(va(ZQ({splitChars:Q,allowDuplicates:g,maxTags:m,value:wa,currentTags:fn})),Dl(""),rt.preventDefault()),rt.key==="Enter"&&uu>0&&!rt.nativeEvent.isComposing){if(rt.preventDefault(),!!document.querySelector(`#${So.listId} [data-combobox-option][data-combobox-selected]`))return;hb(ei)}rt.key==="Backspace"&&uu===0&&fn.length>0&&!rt.nativeEvent.isComposing&&(bi==null||bi(fn[fn.length-1]),va(fn.slice(0,fn.length-1)))},C_=rt=>{if(W==null||W(rt),rt.preventDefault(),rt.clipboardData){const ei=rt.clipboardData.getData("text/plain");va(ZQ({splitChars:Q,allowDuplicates:g,maxTags:m,value:`${wa}${ei}`,currentTags:fn})),Dl("")}},j_=fn.map((rt,ei)=>p.jsx(Cg,{withRemoveButton:!I,onRemove:()=>{fn.splice(ei,1),va([...fn]),bi==null||bi(rt)},unstyled:a,disabled:M,...im("pill"),children:rt},`${rt}-${ei}`));S.useEffect(()=>{$&&So.selectFirstOption()},[$,fn,wa]);const E_=be&&fn.length>0&&!M&&!I&&p.jsx(pt.ClearButton,{size:c,...$e,onClear:()=>{var rt;va([]),Dl(""),(rt=cb.current)==null||rt.focus(),So.openDropdown(),wo==null||wo()}});return p.jsxs(p.Fragment,{children:[p.jsxs(pt,{store:So,classNames:db,styles:fb,unstyled:a,size:c,readOnly:I,__staticSelector:"TagsInput",onOptionSubmit:rt=>{k==null||k(rt),Dl(""),fn.length<m&&va([...fn,S_[rt].label]),So.resetSelectedOption()},...j,children:[p.jsx(pt.DropdownTarget,{children:p.jsx(Yv,{...ub,__staticSelector:"TagsInput",classNames:db,styles:fb,unstyled:a,size:c,className:i,style:s,variant:O,disabled:M,radius:oe,rightSection:le||E_,rightSectionWidth:U,rightSectionPointerEvents:G,rightSectionProps:ie,leftSection:Y,leftSectionWidth:L,leftSectionPointerEvents:ae,leftSectionProps:q,inputContainer:te,inputWrapperOrder:re,withAsterisk:ue,required:fe,labelProps:Ee,descriptionProps:pe,errorProps:z,wrapperProps:ee,description:K,label:me,error:de,multiline:!0,withErrorStyles:ne,__stylesApiProps:{...n,multiline:!0},id:rm,mod:Oi,children:p.jsxs(Cg.Group,{disabled:M,unstyled:a,...im("pillsList"),children:[j_,p.jsx(pt.EventsTarget,{autoComplete:$_,children:p.jsx(Yv.Field,{...k_,ref:__,...im("inputField"),unstyled:a,onKeyDown:P_,onFocus:rt=>{B==null||B(rt),So.openDropdown()},onBlur:rt=>{Z==null||Z(rt),As&&hb(wa),So.closeDropdown()},onPaste:C_,value:wa,onChange:rt=>Dl(rt.currentTarget.value),required:fe&&fn.length===0,disabled:M,readOnly:I,id:rm})})]})})}),p.jsx(CU,{data:bve({data:lb,value:fn}),hidden:I||M,filter:P,search:wa,limit:R,hiddenWhenEmpty:!0,withScrollArea:N,maxDropdownHeight:A,unstyled:a,labelId:me?`${rm}-label`:void 0,"aria-label":me?void 0:ab["aria-label"],renderOption:Il,scrollAreaProps:Qr})]}),p.jsx(pt.HiddenInput,{name:ce,form:he,value:fn,valuesDivider:Tt,disabled:M,...Ye})]})});Tg.classes={..._s.classes,...pt.classes};Tg.displayName="@mantine/core/TagsInput";const wve={},Mt=Fe((t,e)=>{const n=je("TextInput",wve,t);return p.jsx(_s,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});Mt.classes=_s.classes;Mt.displayName="@mantine/core/TextInput";var Sve=(t,e)=>new Response(t,{headers:{"Content-Type":e}}).formData(),_ve=/^application\/([a-z-\.]+\+)?json(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,$ve=/^multipart\/form-data(;\s?boundary=[a-zA-Z0-9'"()+_,\-./:=?]+)?$/,kve=/^application\/x-www-form-urlencoded(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,Pve=(t,e)=>async(n,r)=>{let i={};const s=n.req.header("Content-Type");switch(t){case"json":if(!s||!_ve.test(s))break;try{i=await n.req.json()}catch{const a="Malformed JSON in request body";throw new sC(400,{message:a})}break;case"form":{if(!s||!($ve.test(s)||kve.test(s)))break;let a;if(n.req.bodyCache.formData)a=await n.req.bodyCache.formData;else try{const c=await n.req.arrayBuffer();a=await Sve(c,s),n.req.bodyCache.formData=a}catch(c){let u="Malformed FormData request.";throw u+=c instanceof Error?` ${c.message}`:` ${String(c)}`,new sC(400,{message:u})}const l={};a.forEach((c,u)=>{u.endsWith("[]")?(l[u]??(l[u]=[])).push(c):Array.isArray(l[u])?l[u].push(c):u in l?l[u]=[l[u],c]:l[u]=c}),i=l;break}case"query":i=Object.fromEntries(Object.entries(n.req.queries()).map(([a,l])=>l.length===1?[a,l[0]]:[a,l]));break;case"param":i=n.req.param();break;case"header":i=n.req.header();break;case"cookie":i=g9(n);break}const o=await e(i,n);if(o instanceof Response)return o;n.req.addValidatedData(t,o),await r()},i$={},s$={},XQ;function eR(){return XQ||(XQ=1,function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+e+"]["+n+"]*",i=new RegExp("^"+r+"$"),s=function(a,l){const c=[];let u=l.exec(a);for(;u;){const d=[];d.startIndex=l.lastIndex-u[0].length;const f=u.length;for(let h=0;h<f;h++)d.push(u[h]);c.push(d),u=l.exec(a)}return c},o=function(a){const l=i.exec(a);return!(l===null||typeof l>"u")};t.isExist=function(a){return typeof a<"u"},t.isEmptyObject=function(a){return Object.keys(a).length===0},t.merge=function(a,l,c){if(l){const u=Object.keys(l),d=u.length;for(let f=0;f<d;f++)c==="strict"?a[u[f]]=[l[u[f]]]:a[u[f]]=l[u[f]]}},t.getValue=function(a){return t.isExist(a)?a:""},t.isName=o,t.getAllMatches=s,t.nameRegexp=r}(s$)),s$}var YQ;function n8(){if(YQ)return i$;YQ=1;const t=eR(),e={allowBooleanAttributes:!1,unpairedTags:[]};i$.validate=function(O,b){b=Object.assign({},e,b);const x=[];let v=!1,w=!1;O[0]==="\uFEFF"&&(O=O.substr(1));for(let _=0;_<O.length;_++)if(O[_]==="<"&&O[_+1]==="?"){if(_+=2,_=r(O,_),_.err)return _}else if(O[_]==="<"){let $=_;if(_++,O[_]==="!"){_=i(O,_);continue}else{let k=!1;O[_]==="/"&&(k=!0,_++);let j="";for(;_<O.length&&O[_]!==">"&&O[_]!==" "&&O[_]!=="	"&&O[_]!==`
`&&O[_]!=="\r";_++)j+=O[_];if(j=j.trim(),j[j.length-1]==="/"&&(j=j.substring(0,j.length-1),_--),!m(j)){let N;return j.trim().length===0?N="Invalid space after '<'.":N="Tag '"+j+"' is an invalid name.",f("InvalidTag",N,g(O,_))}const P=a(O,_);if(P===!1)return f("InvalidAttr","Attributes for '"+j+"' have open quote.",g(O,_));let R=P.value;if(_=P.index,R[R.length-1]==="/"){const N=_-R.length;R=R.substring(0,R.length-1);const A=c(R,b);if(A===!0)v=!0;else return f(A.err.code,A.err.msg,g(O,N+A.err.line))}else if(k)if(P.tagClosed){if(R.trim().length>0)return f("InvalidTag","Closing tag '"+j+"' can't have attributes or invalid starting.",g(O,$));if(x.length===0)return f("InvalidTag","Closing tag '"+j+"' has not been opened.",g(O,$));{const N=x.pop();if(j!==N.tagName){let A=g(O,N.tagStartPos);return f("InvalidTag","Expected closing tag '"+N.tagName+"' (opened in line "+A.line+", col "+A.col+") instead of closing tag '"+j+"'.",g(O,$))}x.length==0&&(w=!0)}}else return f("InvalidTag","Closing tag '"+j+"' doesn't have proper closing.",g(O,_));else{const N=c(R,b);if(N!==!0)return f(N.err.code,N.err.msg,g(O,_-R.length+N.err.line));if(w===!0)return f("InvalidXml","Multiple possible root nodes found.",g(O,_));b.unpairedTags.indexOf(j)!==-1||x.push({tagName:j,tagStartPos:$}),v=!0}for(_++;_<O.length;_++)if(O[_]==="<")if(O[_+1]==="!"){_++,_=i(O,_);continue}else if(O[_+1]==="?"){if(_=r(O,++_),_.err)return _}else break;else if(O[_]==="&"){const N=d(O,_);if(N==-1)return f("InvalidChar","char '&' is not expected.",g(O,_));_=N}else if(w===!0&&!n(O[_]))return f("InvalidXml","Extra text at the end",g(O,_));O[_]==="<"&&_--}}else{if(n(O[_]))continue;return f("InvalidChar","char '"+O[_]+"' is not expected.",g(O,_))}if(v){if(x.length==1)return f("InvalidTag","Unclosed tag '"+x[0].tagName+"'.",g(O,x[0].tagStartPos));if(x.length>0)return f("InvalidXml","Invalid '"+JSON.stringify(x.map(_=>_.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return f("InvalidXml","Start tag expected.",1);return!0};function n(O){return O===" "||O==="	"||O===`
`||O==="\r"}function r(O,b){const x=b;for(;b<O.length;b++)if(O[b]=="?"||O[b]==" "){const v=O.substr(x,b-x);if(b>5&&v==="xml")return f("InvalidXml","XML declaration allowed only at the start of the document.",g(O,b));if(O[b]=="?"&&O[b+1]==">"){b++;break}else continue}return b}function i(O,b){if(O.length>b+5&&O[b+1]==="-"&&O[b+2]==="-"){for(b+=3;b<O.length;b++)if(O[b]==="-"&&O[b+1]==="-"&&O[b+2]===">"){b+=2;break}}else if(O.length>b+8&&O[b+1]==="D"&&O[b+2]==="O"&&O[b+3]==="C"&&O[b+4]==="T"&&O[b+5]==="Y"&&O[b+6]==="P"&&O[b+7]==="E"){let x=1;for(b+=8;b<O.length;b++)if(O[b]==="<")x++;else if(O[b]===">"&&(x--,x===0))break}else if(O.length>b+9&&O[b+1]==="["&&O[b+2]==="C"&&O[b+3]==="D"&&O[b+4]==="A"&&O[b+5]==="T"&&O[b+6]==="A"&&O[b+7]==="["){for(b+=8;b<O.length;b++)if(O[b]==="]"&&O[b+1]==="]"&&O[b+2]===">"){b+=2;break}}return b}const s='"',o="'";function a(O,b){let x="",v="",w=!1;for(;b<O.length;b++){if(O[b]===s||O[b]===o)v===""?v=O[b]:v!==O[b]||(v="");else if(O[b]===">"&&v===""){w=!0;break}x+=O[b]}return v!==""?!1:{value:x,index:b,tagClosed:w}}const l=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function c(O,b){const x=t.getAllMatches(O,l),v={};for(let w=0;w<x.length;w++){if(x[w][1].length===0)return f("InvalidAttr","Attribute '"+x[w][2]+"' has no space in starting.",y(x[w]));if(x[w][3]!==void 0&&x[w][4]===void 0)return f("InvalidAttr","Attribute '"+x[w][2]+"' is without value.",y(x[w]));if(x[w][3]===void 0&&!b.allowBooleanAttributes)return f("InvalidAttr","boolean attribute '"+x[w][2]+"' is not allowed.",y(x[w]));const _=x[w][2];if(!h(_))return f("InvalidAttr","Attribute '"+_+"' is an invalid name.",y(x[w]));if(!v.hasOwnProperty(_))v[_]=1;else return f("InvalidAttr","Attribute '"+_+"' is repeated.",y(x[w]))}return!0}function u(O,b){let x=/\d/;for(O[b]==="x"&&(b++,x=/[\da-fA-F]/);b<O.length;b++){if(O[b]===";")return b;if(!O[b].match(x))break}return-1}function d(O,b){if(b++,O[b]===";")return-1;if(O[b]==="#")return b++,u(O,b);let x=0;for(;b<O.length;b++,x++)if(!(O[b].match(/\w/)&&x<20)){if(O[b]===";")break;return-1}return b}function f(O,b,x){return{err:{code:O,msg:b,line:x.line||x,col:x.col}}}function h(O){return t.isName(O)}function m(O){return t.isName(O)}function g(O,b){const x=O.substring(0,b).split(/\r?\n/);return{line:x.length,col:x[x.length-1].length+1}}function y(O){return O.startIndex+O[1].length}return i$}var Sb={},GQ;function Cve(){if(GQ)return Sb;GQ=1;const t={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(n,r){return r},attributeValueProcessor:function(n,r){return r},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(n,r,i){return n}},e=function(n){return Object.assign({},t,n)};return Sb.buildOptions=e,Sb.defaultOptions=t,Sb}var o$,HQ;function jve(){if(HQ)return o$;HQ=1;class t{constructor(n){this.tagname=n,this.child=[],this[":@"]={}}add(n,r){n==="__proto__"&&(n="#__proto__"),this.child.push({[n]:r})}addChild(n){n.tagname==="__proto__"&&(n.tagname="#__proto__"),n[":@"]&&Object.keys(n[":@"]).length>0?this.child.push({[n.tagname]:n.child,":@":n[":@"]}):this.child.push({[n.tagname]:n.child})}}return o$=t,o$}var a$,KQ;function Eve(){if(KQ)return a$;KQ=1;const t=eR();function e(l,c){const u={};if(l[c+3]==="O"&&l[c+4]==="C"&&l[c+5]==="T"&&l[c+6]==="Y"&&l[c+7]==="P"&&l[c+8]==="E"){c=c+9;let d=1,f=!1,h=!1,m="";for(;c<l.length;c++)if(l[c]==="<"&&!h)f&&r(l,c)?(c+=7,[entityName,val,c]=n(l,c+1),val.indexOf("&")===-1&&(u[a(entityName)]={regx:RegExp(`&${entityName};`,"g"),val})):f&&i(l,c)||f&&s(l,c)?c+=8:f&&o(l,c)?c+=9:h=!0,d++,m="";else if(l[c]===">"){if(h?l[c-1]==="-"&&l[c-2]==="-"&&(h=!1,d--):d--,d===0)break}else l[c]==="["?f=!0:m+=l[c];if(d!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:u,i:c}}function n(l,c){let u="";for(;c<l.length&&l[c]!=="'"&&l[c]!=='"';c++)u+=l[c];if(u=u.trim(),u.indexOf(" ")!==-1)throw new Error("External entites are not supported");const d=l[c++];let f="";for(;c<l.length&&l[c]!==d;c++)f+=l[c];return[u,f,c]}function r(l,c){return l[c+1]==="!"&&l[c+2]==="E"&&l[c+3]==="N"&&l[c+4]==="T"&&l[c+5]==="I"&&l[c+6]==="T"&&l[c+7]==="Y"}function i(l,c){return l[c+1]==="!"&&l[c+2]==="E"&&l[c+3]==="L"&&l[c+4]==="E"&&l[c+5]==="M"&&l[c+6]==="E"&&l[c+7]==="N"&&l[c+8]==="T"}function s(l,c){return l[c+1]==="!"&&l[c+2]==="A"&&l[c+3]==="T"&&l[c+4]==="T"&&l[c+5]==="L"&&l[c+6]==="I"&&l[c+7]==="S"&&l[c+8]==="T"}function o(l,c){return l[c+1]==="!"&&l[c+2]==="N"&&l[c+3]==="O"&&l[c+4]==="T"&&l[c+5]==="A"&&l[c+6]==="T"&&l[c+7]==="I"&&l[c+8]==="O"&&l[c+9]==="N"}function a(l){if(t.isName(l))return l;throw new Error(`Invalid entity name ${l}`)}return a$=e,a$}var l$,JQ;function Tve(){if(JQ)return l$;JQ=1;const t=/^[-+]?0x[a-fA-F0-9]+$/,e=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const n={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function r(s,o={}){if(o=Object.assign({},n,o),!s||typeof s!="string")return s;let a=s.trim();if(o.skipLike!==void 0&&o.skipLike.test(a))return s;if(o.hex&&t.test(a))return Number.parseInt(a,16);{const l=e.exec(a);if(l){const c=l[1],u=l[2];let d=i(l[3]);const f=l[4]||l[6];if(!o.leadingZeros&&u.length>0&&c&&a[2]!==".")return s;if(!o.leadingZeros&&u.length>0&&!c&&a[1]!==".")return s;{const h=Number(a),m=""+h;return m.search(/[eE]/)!==-1||f?o.eNotation?h:s:a.indexOf(".")!==-1?m==="0"&&d===""||m===d||c&&m==="-"+d?h:s:u?d===m||c+d===m?h:s:a===m||a===c+m?h:s}}else return s}}function i(s){return s&&s.indexOf(".")!==-1&&(s=s.replace(/0+$/,""),s==="."?s="0":s[0]==="."?s="0"+s:s[s.length-1]==="."&&(s=s.substr(0,s.length-1))),s}return l$=r,l$}var c$,eF;function r8(){if(eF)return c$;eF=1;function t(e){return typeof e=="function"?e:Array.isArray(e)?n=>{for(const r of e)if(typeof r=="string"&&n===r||r instanceof RegExp&&r.test(n))return!0}:()=>!1}return c$=t,c$}var u$,tF;function Nve(){if(tF)return u$;tF=1;const t=eR(),e=jve(),n=Eve(),r=Tve(),i=r8();class s{constructor(_){this.options=_,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:($,k)=>String.fromCharCode(Number.parseInt(k,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:($,k)=>String.fromCharCode(Number.parseInt(k,16))}},this.addExternalEntities=o,this.parseXml=d,this.parseTextData=a,this.resolveNameSpace=l,this.buildAttributesMap=u,this.isItStopNode=g,this.replaceEntitiesValue=h,this.readStopNodeData=x,this.saveTextToParentTag=m,this.addChild=f,this.ignoreAttributesFn=i(this.options.ignoreAttributes)}}function o(w){const _=Object.keys(w);for(let $=0;$<_.length;$++){const k=_[$];this.lastEntities[k]={regex:new RegExp("&"+k+";","g"),val:w[k]}}}function a(w,_,$,k,j,P,R){if(w!==void 0&&(this.options.trimValues&&!k&&(w=w.trim()),w.length>0)){R||(w=this.replaceEntitiesValue(w));const N=this.options.tagValueProcessor(_,w,$,j,P);return N==null?w:typeof N!=typeof w||N!==w?N:this.options.trimValues?v(w,this.options.parseTagValue,this.options.numberParseOptions):w.trim()===w?v(w,this.options.parseTagValue,this.options.numberParseOptions):w}}function l(w){if(this.options.removeNSPrefix){const _=w.split(":"),$=w.charAt(0)==="/"?"/":"";if(_[0]==="xmlns")return"";_.length===2&&(w=$+_[1])}return w}const c=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function u(w,_,$){if(this.options.ignoreAttributes!==!0&&typeof w=="string"){const k=t.getAllMatches(w,c),j=k.length,P={};for(let R=0;R<j;R++){const N=this.resolveNameSpace(k[R][1]);if(this.ignoreAttributesFn(N,_))continue;let A=k[R][4],C=this.options.attributeNamePrefix+N;if(N.length)if(this.options.transformAttributeName&&(C=this.options.transformAttributeName(C)),C==="__proto__"&&(C="#__proto__"),A!==void 0){this.options.trimValues&&(A=A.trim()),A=this.replaceEntitiesValue(A);const T=this.options.attributeValueProcessor(N,A,_);T==null?P[C]=A:typeof T!=typeof A||T!==A?P[C]=T:P[C]=v(A,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(P[C]=!0)}if(!Object.keys(P).length)return;if(this.options.attributesGroupName){const R={};return R[this.options.attributesGroupName]=P,R}return P}}const d=function(w){w=w.replace(/\r\n?/g,`
`);const _=new e("!xml");let $=_,k="",j="";for(let P=0;P<w.length;P++)if(w[P]==="<")if(w[P+1]==="/"){const N=O(w,">",P,"Closing Tag is not closed.");let A=w.substring(P+2,N).trim();if(this.options.removeNSPrefix){const E=A.indexOf(":");E!==-1&&(A=A.substr(E+1))}this.options.transformTagName&&(A=this.options.transformTagName(A)),$&&(k=this.saveTextToParentTag(k,$,j));const C=j.substring(j.lastIndexOf(".")+1);if(A&&this.options.unpairedTags.indexOf(A)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${A}>`);let T=0;C&&this.options.unpairedTags.indexOf(C)!==-1?(T=j.lastIndexOf(".",j.lastIndexOf(".")-1),this.tagsNodeStack.pop()):T=j.lastIndexOf("."),j=j.substring(0,T),$=this.tagsNodeStack.pop(),k="",P=N}else if(w[P+1]==="?"){let N=b(w,P,!1,"?>");if(!N)throw new Error("Pi Tag is not closed.");if(k=this.saveTextToParentTag(k,$,j),!(this.options.ignoreDeclaration&&N.tagName==="?xml"||this.options.ignorePiTags)){const A=new e(N.tagName);A.add(this.options.textNodeName,""),N.tagName!==N.tagExp&&N.attrExpPresent&&(A[":@"]=this.buildAttributesMap(N.tagExp,j,N.tagName)),this.addChild($,A,j)}P=N.closeIndex+1}else if(w.substr(P+1,3)==="!--"){const N=O(w,"-->",P+4,"Comment is not closed.");if(this.options.commentPropName){const A=w.substring(P+4,N-2);k=this.saveTextToParentTag(k,$,j),$.add(this.options.commentPropName,[{[this.options.textNodeName]:A}])}P=N}else if(w.substr(P+1,2)==="!D"){const N=n(w,P);this.docTypeEntities=N.entities,P=N.i}else if(w.substr(P+1,2)==="!["){const N=O(w,"]]>",P,"CDATA is not closed.")-2,A=w.substring(P+9,N);k=this.saveTextToParentTag(k,$,j);let C=this.parseTextData(A,$.tagname,j,!0,!1,!0,!0);C==null&&(C=""),this.options.cdataPropName?$.add(this.options.cdataPropName,[{[this.options.textNodeName]:A}]):$.add(this.options.textNodeName,C),P=N+2}else{let N=b(w,P,this.options.removeNSPrefix),A=N.tagName;const C=N.rawTagName;let T=N.tagExp,E=N.attrExpPresent,I=N.closeIndex;this.options.transformTagName&&(A=this.options.transformTagName(A)),$&&k&&$.tagname!=="!xml"&&(k=this.saveTextToParentTag(k,$,j,!1));const M=$;if(M&&this.options.unpairedTags.indexOf(M.tagname)!==-1&&($=this.tagsNodeStack.pop(),j=j.substring(0,j.lastIndexOf("."))),A!==_.tagname&&(j+=j?"."+A:A),this.isItStopNode(this.options.stopNodes,j,A)){let Q="";if(T.length>0&&T.lastIndexOf("/")===T.length-1)A[A.length-1]==="/"?(A=A.substr(0,A.length-1),j=j.substr(0,j.length-1),T=A):T=T.substr(0,T.length-1),P=N.closeIndex;else if(this.options.unpairedTags.indexOf(A)!==-1)P=N.closeIndex;else{const Z=this.readStopNodeData(w,C,I+1);if(!Z)throw new Error(`Unexpected end of ${C}`);P=Z.i,Q=Z.tagContent}const B=new e(A);A!==T&&E&&(B[":@"]=this.buildAttributesMap(T,j,A)),Q&&(Q=this.parseTextData(Q,A,j,!0,E,!0,!0)),j=j.substr(0,j.lastIndexOf(".")),B.add(this.options.textNodeName,Q),this.addChild($,B,j)}else{if(T.length>0&&T.lastIndexOf("/")===T.length-1){A[A.length-1]==="/"?(A=A.substr(0,A.length-1),j=j.substr(0,j.length-1),T=A):T=T.substr(0,T.length-1),this.options.transformTagName&&(A=this.options.transformTagName(A));const Q=new e(A);A!==T&&E&&(Q[":@"]=this.buildAttributesMap(T,j,A)),this.addChild($,Q,j),j=j.substr(0,j.lastIndexOf("."))}else{const Q=new e(A);this.tagsNodeStack.push($),A!==T&&E&&(Q[":@"]=this.buildAttributesMap(T,j,A)),this.addChild($,Q,j),$=Q}k="",P=I}}else k+=w[P];return _.child};function f(w,_,$){const k=this.options.updateTag(_.tagname,$,_[":@"]);k===!1||(typeof k=="string"&&(_.tagname=k),w.addChild(_))}const h=function(w){if(this.options.processEntities){for(let _ in this.docTypeEntities){const $=this.docTypeEntities[_];w=w.replace($.regx,$.val)}for(let _ in this.lastEntities){const $=this.lastEntities[_];w=w.replace($.regex,$.val)}if(this.options.htmlEntities)for(let _ in this.htmlEntities){const $=this.htmlEntities[_];w=w.replace($.regex,$.val)}w=w.replace(this.ampEntity.regex,this.ampEntity.val)}return w};function m(w,_,$,k){return w&&(k===void 0&&(k=Object.keys(_.child).length===0),w=this.parseTextData(w,_.tagname,$,!1,_[":@"]?Object.keys(_[":@"]).length!==0:!1,k),w!==void 0&&w!==""&&_.add(this.options.textNodeName,w),w=""),w}function g(w,_,$){const k="*."+$;for(const j in w){const P=w[j];if(k===P||_===P)return!0}return!1}function y(w,_,$=">"){let k,j="";for(let P=_;P<w.length;P++){let R=w[P];if(k)R===k&&(k="");else if(R==='"'||R==="'")k=R;else if(R===$[0])if($[1]){if(w[P+1]===$[1])return{data:j,index:P}}else return{data:j,index:P};else R==="	"&&(R=" ");j+=R}}function O(w,_,$,k){const j=w.indexOf(_,$);if(j===-1)throw new Error(k);return j+_.length-1}function b(w,_,$,k=">"){const j=y(w,_+1,k);if(!j)return;let P=j.data;const R=j.index,N=P.search(/\s/);let A=P,C=!0;N!==-1&&(A=P.substring(0,N),P=P.substring(N+1).trimStart());const T=A;if($){const E=A.indexOf(":");E!==-1&&(A=A.substr(E+1),C=A!==j.data.substr(E+1))}return{tagName:A,tagExp:P,closeIndex:R,attrExpPresent:C,rawTagName:T}}function x(w,_,$){const k=$;let j=1;for(;$<w.length;$++)if(w[$]==="<")if(w[$+1]==="/"){const P=O(w,">",$,`${_} is not closed`);if(w.substring($+2,P).trim()===_&&(j--,j===0))return{tagContent:w.substring(k,$),i:P};$=P}else if(w[$+1]==="?")$=O(w,"?>",$+1,"StopNode is not closed.");else if(w.substr($+1,3)==="!--")$=O(w,"-->",$+3,"StopNode is not closed.");else if(w.substr($+1,2)==="![")$=O(w,"]]>",$,"StopNode is not closed.")-2;else{const P=b(w,$,">");P&&((P&&P.tagName)===_&&P.tagExp[P.tagExp.length-1]!=="/"&&j++,$=P.closeIndex)}}function v(w,_,$){if(_&&typeof w=="string"){const k=w.trim();return k==="true"?!0:k==="false"?!1:r(w,$)}else return t.isExist(w)?w:""}return u$=s,u$}var d$={},nF;function Ave(){if(nF)return d$;nF=1;function t(s,o){return e(s,o)}function e(s,o,a){let l;const c={};for(let u=0;u<s.length;u++){const d=s[u],f=n(d);let h="";if(a===void 0?h=f:h=a+"."+f,f===o.textNodeName)l===void 0?l=d[f]:l+=""+d[f];else{if(f===void 0)continue;if(d[f]){let m=e(d[f],o,h);const g=i(m,o);d[":@"]?r(m,d[":@"],h,o):Object.keys(m).length===1&&m[o.textNodeName]!==void 0&&!o.alwaysCreateTextNode?m=m[o.textNodeName]:Object.keys(m).length===0&&(o.alwaysCreateTextNode?m[o.textNodeName]="":m=""),c[f]!==void 0&&c.hasOwnProperty(f)?(Array.isArray(c[f])||(c[f]=[c[f]]),c[f].push(m)):o.isArray(f,h,g)?c[f]=[m]:c[f]=m}}}return typeof l=="string"?l.length>0&&(c[o.textNodeName]=l):l!==void 0&&(c[o.textNodeName]=l),c}function n(s){const o=Object.keys(s);for(let a=0;a<o.length;a++){const l=o[a];if(l!==":@")return l}}function r(s,o,a,l){if(o){const c=Object.keys(o),u=c.length;for(let d=0;d<u;d++){const f=c[d];l.isArray(f,a+"."+f,!0,!0)?s[f]=[o[f]]:s[f]=o[f]}}}function i(s,o){const{textNodeName:a}=o,l=Object.keys(s).length;return!!(l===0||l===1&&(s[a]||typeof s[a]=="boolean"||s[a]===0))}return d$.prettify=t,d$}var f$,rF;function Rve(){if(rF)return f$;rF=1;const{buildOptions:t}=Cve(),e=Nve(),{prettify:n}=Ave(),r=n8();class i{constructor(o){this.externalEntities={},this.options=t(o)}parse(o,a){if(typeof o!="string")if(o.toString)o=o.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(a){a===!0&&(a={});const u=r.validate(o,a);if(u!==!0)throw Error(`${u.err.msg}:${u.err.line}:${u.err.col}`)}const l=new e(this.options);l.addExternalEntities(this.externalEntities);const c=l.parseXml(o);return this.options.preserveOrder||c===void 0?c:n(c,this.options)}addEntity(o,a){if(a.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(o.indexOf("&")!==-1||o.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(a==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[o]=a}}return f$=i,f$}var h$,iF;function Mve(){if(iF)return h$;iF=1;const t=`
`;function e(a,l){let c="";return l.format&&l.indentBy.length>0&&(c=t),n(a,l,"",c)}function n(a,l,c,u){let d="",f=!1;for(let h=0;h<a.length;h++){const m=a[h],g=r(m);if(g===void 0)continue;let y="";if(c.length===0?y=g:y=`${c}.${g}`,g===l.textNodeName){let w=m[g];s(y,l)||(w=l.tagValueProcessor(g,w),w=o(w,l)),f&&(d+=u),d+=w,f=!1;continue}else if(g===l.cdataPropName){f&&(d+=u),d+=`<![CDATA[${m[g][0][l.textNodeName]}]]>`,f=!1;continue}else if(g===l.commentPropName){d+=u+`<!--${m[g][0][l.textNodeName]}-->`,f=!0;continue}else if(g[0]==="?"){const w=i(m[":@"],l),_=g==="?xml"?"":u;let $=m[g][0][l.textNodeName];$=$.length!==0?" "+$:"",d+=_+`<${g}${$}${w}?>`,f=!0;continue}let O=u;O!==""&&(O+=l.indentBy);const b=i(m[":@"],l),x=u+`<${g}${b}`,v=n(m[g],l,y,O);l.unpairedTags.indexOf(g)!==-1?l.suppressUnpairedNode?d+=x+">":d+=x+"/>":(!v||v.length===0)&&l.suppressEmptyNode?d+=x+"/>":v&&v.endsWith(">")?d+=x+`>${v}${u}</${g}>`:(d+=x+">",v&&u!==""&&(v.includes("/>")||v.includes("</"))?d+=u+l.indentBy+v+u:d+=v,d+=`</${g}>`),f=!0}return d}function r(a){const l=Object.keys(a);for(let c=0;c<l.length;c++){const u=l[c];if(a.hasOwnProperty(u)&&u!==":@")return u}}function i(a,l){let c="";if(a&&!l.ignoreAttributes)for(let u in a){if(!a.hasOwnProperty(u))continue;let d=l.attributeValueProcessor(u,a[u]);d=o(d,l),d===!0&&l.suppressBooleanAttributes?c+=` ${u.substr(l.attributeNamePrefix.length)}`:c+=` ${u.substr(l.attributeNamePrefix.length)}="${d}"`}return c}function s(a,l){a=a.substr(0,a.length-l.textNodeName.length-1);let c=a.substr(a.lastIndexOf(".")+1);for(let u in l.stopNodes)if(l.stopNodes[u]===a||l.stopNodes[u]==="*."+c)return!0;return!1}function o(a,l){if(a&&a.length>0&&l.processEntities)for(let c=0;c<l.entities.length;c++){const u=l.entities[c];a=a.replace(u.regex,u.val)}return a}return h$=e,h$}var p$,sF;function Ive(){if(sF)return p$;sF=1;const t=Mve(),e=r8(),n={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(a,l){return l},attributeValueProcessor:function(a,l){return l},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function r(a){this.options=Object.assign({},n,a),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=e(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=o),this.processTextOrObjNode=i,this.options.format?(this.indentate=s,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}r.prototype.build=function(a){return this.options.preserveOrder?t(a,this.options):(Array.isArray(a)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(a={[this.options.arrayNodeName]:a}),this.j2x(a,0,[]).val)},r.prototype.j2x=function(a,l,c){let u="",d="";const f=c.join(".");for(let h in a)if(Object.prototype.hasOwnProperty.call(a,h))if(typeof a[h]>"u")this.isAttribute(h)&&(d+="");else if(a[h]===null)this.isAttribute(h)?d+="":h[0]==="?"?d+=this.indentate(l)+"<"+h+"?"+this.tagEndChar:d+=this.indentate(l)+"<"+h+"/"+this.tagEndChar;else if(a[h]instanceof Date)d+=this.buildTextValNode(a[h],h,"",l);else if(typeof a[h]!="object"){const m=this.isAttribute(h);if(m&&!this.ignoreAttributesFn(m,f))u+=this.buildAttrPairStr(m,""+a[h]);else if(!m)if(h===this.options.textNodeName){let g=this.options.tagValueProcessor(h,""+a[h]);d+=this.replaceEntitiesValue(g)}else d+=this.buildTextValNode(a[h],h,"",l)}else if(Array.isArray(a[h])){const m=a[h].length;let g="",y="";for(let O=0;O<m;O++){const b=a[h][O];if(!(typeof b>"u"))if(b===null)h[0]==="?"?d+=this.indentate(l)+"<"+h+"?"+this.tagEndChar:d+=this.indentate(l)+"<"+h+"/"+this.tagEndChar;else if(typeof b=="object")if(this.options.oneListGroup){const x=this.j2x(b,l+1,c.concat(h));g+=x.val,this.options.attributesGroupName&&b.hasOwnProperty(this.options.attributesGroupName)&&(y+=x.attrStr)}else g+=this.processTextOrObjNode(b,h,l,c);else if(this.options.oneListGroup){let x=this.options.tagValueProcessor(h,b);x=this.replaceEntitiesValue(x),g+=x}else g+=this.buildTextValNode(b,h,"",l)}this.options.oneListGroup&&(g=this.buildObjectNode(g,h,y,l)),d+=g}else if(this.options.attributesGroupName&&h===this.options.attributesGroupName){const m=Object.keys(a[h]),g=m.length;for(let y=0;y<g;y++)u+=this.buildAttrPairStr(m[y],""+a[h][m[y]])}else d+=this.processTextOrObjNode(a[h],h,l,c);return{attrStr:u,val:d}},r.prototype.buildAttrPairStr=function(a,l){return l=this.options.attributeValueProcessor(a,""+l),l=this.replaceEntitiesValue(l),this.options.suppressBooleanAttributes&&l==="true"?" "+a:" "+a+'="'+l+'"'};function i(a,l,c,u){const d=this.j2x(a,c+1,u.concat(l));return a[this.options.textNodeName]!==void 0&&Object.keys(a).length===1?this.buildTextValNode(a[this.options.textNodeName],l,d.attrStr,c):this.buildObjectNode(d.val,l,d.attrStr,c)}r.prototype.buildObjectNode=function(a,l,c,u){if(a==="")return l[0]==="?"?this.indentate(u)+"<"+l+c+"?"+this.tagEndChar:this.indentate(u)+"<"+l+c+this.closeTag(l)+this.tagEndChar;{let d="</"+l+this.tagEndChar,f="";return l[0]==="?"&&(f="?",d=""),(c||c==="")&&a.indexOf("<")===-1?this.indentate(u)+"<"+l+c+f+">"+a+d:this.options.commentPropName!==!1&&l===this.options.commentPropName&&f.length===0?this.indentate(u)+`<!--${a}-->`+this.newLine:this.indentate(u)+"<"+l+c+f+this.tagEndChar+a+this.indentate(u)+d}},r.prototype.closeTag=function(a){let l="";return this.options.unpairedTags.indexOf(a)!==-1?this.options.suppressUnpairedNode||(l="/"):this.options.suppressEmptyNode?l="/":l=`></${a}`,l},r.prototype.buildTextValNode=function(a,l,c,u){if(this.options.cdataPropName!==!1&&l===this.options.cdataPropName)return this.indentate(u)+`<![CDATA[${a}]]>`+this.newLine;if(this.options.commentPropName!==!1&&l===this.options.commentPropName)return this.indentate(u)+`<!--${a}-->`+this.newLine;if(l[0]==="?")return this.indentate(u)+"<"+l+c+"?"+this.tagEndChar;{let d=this.options.tagValueProcessor(l,a);return d=this.replaceEntitiesValue(d),d===""?this.indentate(u)+"<"+l+c+this.closeTag(l)+this.tagEndChar:this.indentate(u)+"<"+l+c+">"+d+"</"+l+this.tagEndChar}},r.prototype.replaceEntitiesValue=function(a){if(a&&a.length>0&&this.options.processEntities)for(let l=0;l<this.options.entities.length;l++){const c=this.options.entities[l];a=a.replace(c.regex,c.val)}return a};function s(a){return this.options.indentBy.repeat(a)}function o(a){return a.startsWith(this.options.attributeNamePrefix)&&a!==this.options.textNodeName?a.substr(this.attrPrefixLen):!1}return p$=r,p$}var m$,oF;function Dve(){if(oF)return m$;oF=1;const t=n8(),e=Rve(),n=Ive();return m$={XMLParser:e,XMLValidator:t,XMLBuilder:n},m$}var Qve=Dve();/**
 * @license MIT <https://opensource.org/licenses/MIT>
 * @copyright Michael Hart 2024
 */const $C=new TextEncoder,Fve={appstream2:"appstream",cloudhsmv2:"cloudhsm",email:"ses",marketplace:"aws-marketplace",mobile:"AWSMobileHubService",pinpoint:"mobiletargeting",queue:"sqs","git-codecommit":"codecommit","mturk-requester-sandbox":"mturk-requester","personalize-runtime":"personalize"},Lve=new Set(["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id","range","connection"]);let qve=class{constructor({accessKeyId:e,secretAccessKey:n,sessionToken:r,service:i,region:s,cache:o,retries:a,initRetryMs:l}){if(e==null)throw new TypeError("accessKeyId is a required option");if(n==null)throw new TypeError("secretAccessKey is a required option");this.accessKeyId=e,this.secretAccessKey=n,this.sessionToken=r,this.service=i,this.region=s,this.cache=o||new Map,this.retries=a??10,this.initRetryMs=l||50}async sign(e,n){if(e instanceof Request){const{method:s,url:o,headers:a,body:l}=e;n=Object.assign({method:s,url:o,headers:a},n),n.body==null&&a.has("Content-Type")&&(n.body=l!=null&&a.has("X-Amz-Content-Sha256")?l:await e.clone().arrayBuffer()),e=o}const r=new Vve(Object.assign({url:e.toString()},n,this,n&&n.aws)),i=Object.assign({},n,await r.sign());delete i.aws;try{return new Request(i.url.toString(),i)}catch(s){if(s instanceof TypeError)return new Request(i.url.toString(),Object.assign({duplex:"half"},i));throw s}}async fetch(e,n){for(let r=0;r<=this.retries;r++){const i=fetch(await this.sign(e,n));if(r===this.retries)return i;const s=await i;if(s.status<500&&s.status!==429)return s;await new Promise(o=>setTimeout(o,Math.random()*this.initRetryMs*Math.pow(2,r)))}throw new Error("An unknown error occurred, ensure retries is not negative")}};class Vve{constructor({method:e,url:n,headers:r,body:i,accessKeyId:s,secretAccessKey:o,sessionToken:a,service:l,region:c,cache:u,datetime:d,signQuery:f,appendSessionToken:h,allHeaders:m,singleEncode:g}){if(n==null)throw new TypeError("url is a required option");if(s==null)throw new TypeError("accessKeyId is a required option");if(o==null)throw new TypeError("secretAccessKey is a required option");this.method=e||(i?"POST":"GET"),this.url=new URL(n),this.headers=new Headers(r||{}),this.body=i,this.accessKeyId=s,this.secretAccessKey=o,this.sessionToken=a;let y,O;(!l||!c)&&([y,O]=Bve(this.url,this.headers)),this.service=l||y||"",this.region=c||O||"us-east-1",this.cache=u||new Map,this.datetime=d||new Date().toISOString().replace(/[:-]|\.\d{3}/g,""),this.signQuery=f,this.appendSessionToken=h||this.service==="iotdevicegateway",this.headers.delete("Host"),this.service==="s3"&&!this.signQuery&&!this.headers.has("X-Amz-Content-Sha256")&&this.headers.set("X-Amz-Content-Sha256","UNSIGNED-PAYLOAD");const b=this.signQuery?this.url.searchParams:this.headers;if(b.set("X-Amz-Date",this.datetime),this.sessionToken&&!this.appendSessionToken&&b.set("X-Amz-Security-Token",this.sessionToken),this.signableHeaders=["host",...this.headers.keys()].filter(v=>m||!Lve.has(v)).sort(),this.signedHeaders=this.signableHeaders.join(";"),this.canonicalHeaders=this.signableHeaders.map(v=>v+":"+(v==="host"?this.url.host:(this.headers.get(v)||"").replace(/\s+/g," "))).join(`
`),this.credentialString=[this.datetime.slice(0,8),this.region,this.service,"aws4_request"].join("/"),this.signQuery&&(this.service==="s3"&&!b.has("X-Amz-Expires")&&b.set("X-Amz-Expires","86400"),b.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),b.set("X-Amz-Credential",this.accessKeyId+"/"+this.credentialString),b.set("X-Amz-SignedHeaders",this.signedHeaders)),this.service==="s3")try{this.encodedPath=decodeURIComponent(this.url.pathname.replace(/\+/g," "))}catch{this.encodedPath=this.url.pathname}else this.encodedPath=this.url.pathname.replace(/\/+/g,"/");g||(this.encodedPath=encodeURIComponent(this.encodedPath).replace(/%2F/g,"/")),this.encodedPath=cF(this.encodedPath);const x=new Set;this.encodedSearch=[...this.url.searchParams].filter(([v])=>{if(!v)return!1;if(this.service==="s3"){if(x.has(v))return!1;x.add(v)}return!0}).map(v=>v.map(w=>cF(encodeURIComponent(w)))).sort(([v,w],[_,$])=>v<_?-1:v>_?1:w<$?-1:w>$?1:0).map(v=>v.join("=")).join("&")}async sign(){return this.signQuery?(this.url.searchParams.set("X-Amz-Signature",await this.signature()),this.sessionToken&&this.appendSessionToken&&this.url.searchParams.set("X-Amz-Security-Token",this.sessionToken)):this.headers.set("Authorization",await this.authHeader()),{method:this.method,url:this.url,headers:this.headers,body:this.body}}async authHeader(){return["AWS4-HMAC-SHA256 Credential="+this.accessKeyId+"/"+this.credentialString,"SignedHeaders="+this.signedHeaders,"Signature="+await this.signature()].join(", ")}async signature(){const e=this.datetime.slice(0,8),n=[this.secretAccessKey,e,this.region,this.service].join();let r=this.cache.get(n);if(!r){const i=await cm("AWS4"+this.secretAccessKey,e),s=await cm(i,this.region),o=await cm(s,this.service);r=await cm(o,"aws4_request"),this.cache.set(n,r)}return g$(await cm(r,await this.stringToSign()))}async stringToSign(){return["AWS4-HMAC-SHA256",this.datetime,this.credentialString,g$(await aF(await this.canonicalString()))].join(`
`)}async canonicalString(){return[this.method.toUpperCase(),this.encodedPath,this.encodedSearch,this.canonicalHeaders+`
`,this.signedHeaders,await this.hexBodyHash()].join(`
`)}async hexBodyHash(){let e=this.headers.get("X-Amz-Content-Sha256")||(this.service==="s3"&&this.signQuery?"UNSIGNED-PAYLOAD":null);if(e==null){if(this.body&&typeof this.body!="string"&&!("byteLength"in this.body))throw new Error("body must be a string, ArrayBuffer or ArrayBufferView, unless you include the X-Amz-Content-Sha256 header");e=g$(await aF(this.body||""))}return e}}async function cm(t,e){const n=await crypto.subtle.importKey("raw",typeof t=="string"?$C.encode(t):t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return crypto.subtle.sign("HMAC",n,$C.encode(e))}async function aF(t){return crypto.subtle.digest("SHA-256",typeof t=="string"?$C.encode(t):t)}const lF=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function g$(t){const e=new Uint8Array(t);let n="";for(let r=0;r<e.length;r++){const i=e[r];n+=lF[i>>>4&15],n+=lF[i&15]}return n}function cF(t){return t.replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())}function Bve(t,e){const{hostname:n,pathname:r}=t;if(n.endsWith(".on.aws")){const a=n.match(/^[^.]{1,63}\.lambda-url\.([^.]{1,63})\.on\.aws$/);return a!=null?["lambda",a[1]||""]:["",""]}if(n.endsWith(".r2.cloudflarestorage.com"))return["s3","auto"];if(n.endsWith(".backblazeb2.com")){const a=n.match(/^(?:[^.]{1,63}\.)?s3\.([^.]{1,63})\.backblazeb2\.com$/);return a!=null?["s3",a[1]||""]:["",""]}const i=n.replace("dualstack.","").match(/([^.]{1,63})\.(?:([^.]{0,63})\.)?amazonaws\.com(?:\.cn)?$/);let s=i&&i[1]||"",o=i&&i[2];if(o==="us-gov")o="us-gov-west-1";else if(o==="s3"||o==="s3-accelerate")o="us-east-1",s="s3";else if(s==="iot")n.startsWith("iot.")?s="execute-api":n.startsWith("data.jobs.iot.")?s="iot-jobs-data":s=r==="/mqtt"?"iotdevicegateway":"iotdata";else if(s==="autoscaling"){const a=(e.get("X-Amz-Target")||"").split(".")[0];a==="AnyScaleFrontendService"?s="application-autoscaling":a==="AnyScaleScalingPlannerFrontendService"&&(s="autoscaling-plans")}else o==null&&s.startsWith("s3-")?(o=s.slice(3).replace(/^fips-|^external-1/,""),s="s3"):s.endsWith("-fips")?s=s.slice(0,-5):o&&/-\d$/.test(s)&&!/-\d$/.test(o)&&([s,o]=[o,s]);return[Fve[s]||s,o||""]}class ks{constructor(e,n,r,i,s){this.kind=e,this.input=n,this.begin=r,this.end=i,this.file=s}getText(){return this.input.slice(this.begin,this.end)}getPosition(){let[e,n]=[1,1];for(let r=0;r<this.begin;r++)this.input[r]===`
`?(e++,n=1):n++;return[e,n]}size(){return this.end-this.begin}}class Ld{liquidMethodMissing(e){}}const zve=Object.prototype.toString,uF=String.prototype.toLowerCase,tR=Object.hasOwnProperty;function ms(t){return typeof t=="string"}function qn(t){return typeof t=="function"}function Wve(t){return t&&qn(t.then)}function Gv(t){return t&&qn(t.next)&&qn(t.throw)&&qn(t.return)}function Uve(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function Qe(t){return t=ot(t),ms(t)?t:gs(t)?"":Jn(t)?t.map(e=>Qe(e)).join(""):String(t)}function nR(t){return t=ot(t),Jn(t)?t:ms(t)&&t.length>0?[t]:Xve(t)?Array.from(t):kS(t)?Object.keys(t).map(e=>[e,t[e]]):[]}function Wn(t){return t=ot(t),gs(t)?[]:Jn(t)?t:[t]}function ot(t){return t instanceof Ld&&qn(t.valueOf)?t.valueOf():t}function dF(t){return t=Number(t),isNaN(t)?0:t}function rR(t){return typeof t=="number"}function i8(t){return t&&qn(t.toLiquid)?i8(t.toLiquid()):t}function gs(t){return t==null}function Zve(t){return t===void 0}function Jn(t){return zve.call(t)==="[object Array]"}function Xve(t){return kS(t)&&Symbol.iterator in t}function fF(t,e){t=t||{};for(const n in t)if(tR.call(t,n)&&e(t[n],n,t)===!1)break;return t}function s8(t){return t[t.length-1]}function kS(t){const e=typeof t;return t!==null&&(e==="object"||e==="function")}function o8(t,e,n=1){const r=[];for(let i=t;i<e;i+=n)r.push(i);return r}function Ng(t,e,n=" "){return a8(t,e,n,(r,i)=>i+r)}function Yve(t,e,n=" "){return a8(t,e,n,(r,i)=>r+i)}function a8(t,e,n,r){t=String(t);let i=e-t.length;for(;i-- >0;)t=r(t,n);return t}function l8(t){return t}function Gve(t){return[...t].some(n=>n>="a"&&n<="z")?t.toUpperCase():t.toLowerCase()}function Hve(t,e){return t.length>e?t.slice(0,e-3)+"...":t}function hF(t,e){return t==null&&e==null?0:t==null?1:e==null||(t=uF.call(t),e=uF.call(e),t<e)?-1:t>e?1:0}function Ui(t){return function(...e){return t.call(this,...e.map(ot))}}function iR(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const pF="__liquidClass__";class tu extends Error{constructor(e,n){super(typeof e=="string"?e:e.message),this.context="",typeof e!="string"&&Object.defineProperty(this,"originalError",{value:e,enumerable:!1}),Object.defineProperty(this,"token",{value:n,enumerable:!1}),Object.defineProperty(this,pF,{value:"LiquidError",enumerable:!1})}update(){Object.defineProperty(this,"context",{value:iwe(this.token),enumerable:!1}),this.message=swe(this.message,this.token),this.stack=this.message+`
`+this.context+`
`+this.stack,this.originalError&&(this.stack+=`
From `+this.originalError.stack)}static is(e){return(e==null?void 0:e[pF])==="LiquidError"}}class Kve extends tu{constructor(e,n){super(e,n),this.name="TokenizationError",super.update()}}class Jve extends tu{constructor(e,n){super(e,n),this.name="ParseError",this.message=e.message,super.update()}}class ewe extends tu{constructor(e,n){super(e,n.token),this.name="RenderError",this.message=e.message,super.update()}static is(e){return e.name==="RenderError"}}class c8 extends tu{constructor(e){super(e[0],e[0].token),this.errors=e,this.name="LiquidErrors";const n=e.length>1?"s":"";this.message=`${e.length} error${n} found`,super.update()}static is(e){return e.name==="LiquidErrors"}}class twe extends tu{constructor(e,n){super(e,n),this.name="UndefinedVariableError",this.message=e.message,super.update()}}class nwe extends Error{constructor(e){super(`undefined variable: ${e}`),this.name="InternalUndefinedVariableError",this.variableName=e}}class rwe extends Error{constructor(e){super(e),this.name="AssertionError",this.message=e+""}}function iwe(t){const[e,n]=t.getPosition(),r=t.input.split(`
`),i=Math.max(e-2,1),s=Math.min(e+3,r.length);return o8(i,s+1).map(a=>{const l=a===e?">> ":"   ",c=Ng(String(a),String(s).length);let u=`${l}${c}| `;const d=a===e?`
`+Ng("^",n+u.length):"";return u+=r[a-1],u+=d,u}).join(`
`)}function swe(t,e){e.file&&(t+=`, file:${e.file}`);const[n,r]=e.getPosition();return t+=`, line:${n}, col:${r}`,t}const At=[0,0,0,0,0,0,0,0,0,20,4,4,4,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,2,8,0,0,0,0,8,0,0,0,64,0,65,0,0,33,33,33,33,33,33,33,33,33,33,0,0,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],owe=1,Ph=4,mF=8,u8=16,awe=32,lwe=64,cwe=128;function Lx(t){const e=t.charCodeAt(0);return e>=128?!At[e]:!!(At[e]&owe)}At[160]=At[5760]=At[6158]=At[8192]=At[8193]=At[8194]=At[8195]=At[8196]=At[8197]=At[8198]=At[8199]=At[8200]=At[8201]=At[8202]=At[8232]=At[8233]=At[8239]=At[8287]=At[12288]=Ph;At[8220]=At[8221]=cwe;function Mr(t,e){if(!t){const n=typeof e=="function"?e():e||`expect ${t} to be true`;throw new rwe(n)}}function Hv(t,e=`unexpected ${JSON.stringify(t)}`){Mr(!t,e)}class uwe extends Ld{equals(e){return gs(ot(e))}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return null}}class PS extends Ld{equals(e){return e instanceof PS?!1:(e=ot(e),ms(e)||Jn(e)?e.length===0:kS(e)?Object.keys(e).length===0:!1)}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return""}}class dwe extends PS{equals(e){return e===!1||gs(ot(e))?!0:ms(e)?/^\s*$/.test(e):super.equals(e)}}class sR extends Ld{constructor(e,n,r){super(),this.i=0,this.length=e,this.name=`${r}-${n}`}next(){this.i++}index0(){return this.i}index(){return this.i+1}first(){return this.i===0}last(){return this.i===this.length-1}rindex(){return this.length-this.i}rindex0(){return this.length-this.i-1}valueOf(){return JSON.stringify(this)}}class gF extends Ld{constructor(e=()=>""){super(),this.superBlockRender=e}super(){return this.superBlockRender()}}function Ro(t){return t&&qn(t.equals)&&qn(t.gt)&&qn(t.geq)&&qn(t.lt)&&qn(t.leq)}const yF=new uwe,d8={true:!0,false:!1,nil:yF,null:yF,empty:new PS,blank:new dwe};function OF(t){const e={};for(const[n,r]of Object.entries(t)){let i=e;for(let s=0;s<n.length;s++){const o=n[s];i[o]=i[o]||{},s===n.length-1&&Lx(n[s])&&(i[o].needBoundary=!0),i=i[o]}i.data=r,i.end=!0}return e}var Kv=function(){return Kv=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Kv.apply(this,arguments)};function Ws(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function ec(t){return Ws(this,void 0,void 0,function*(){if(!Gv(t))return t;let e,n=!1,r="next";do{const i=t[r](e);n=i.done,e=i.value,r="next";try{Gv(e)&&(e=ec(e)),Wve(e)&&(e=yield e)}catch(s){r="throw",e=s}}while(!n);return e})}function tc(t){if(!Gv(t))return t;let e,n=!1,r="next";do{const i=t[r](e);if(n=i.done,e=i.value,r="next",Gv(e))try{e=tc(e)}catch(s){r="throw",e=s}}while(!n);return e}const fwe=/%([-_0^#:]+)?(\d+)?([EO])?(.)/;function hwe(t){return[31,pwe(t)?29:28,31,30,31,30,31,31,30,31,30,31]}function f8(t){let e=0;for(let n=0;n<t.getMonth();++n)e+=hwe(t)[n];return e+t.getDate()}function bF(t,e){const n=f8(t)+(e-t.getDay()),i=7-new Date(t.getFullYear(),0,1).getDay()+e;return String(Math.floor((n-i)/7)+1)}function pwe(t){const e=t.getFullYear();return!!(!(e&3)&&(e%100||e%400===0&&e))}function mwe(t){const e=t.getDate();if([11,12,13].includes(e))return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function gwe(t){return parseInt(t.getFullYear().toString().substring(0,2),10)}const ywe={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},Owe=new Set("aAbBceklpP");function xF(t,e){const n=Math.abs(t.getTimezoneOffset()),r=Math.floor(n/60),i=n%60;return(t.getTimezoneOffset()>0?"-":"+")+Ng(r,2,"0")+(e.flags[":"]?":":"")+Ng(i,2,"0")}const kC={a:t=>t.getShortWeekdayName(),A:t=>t.getLongWeekdayName(),b:t=>t.getShortMonthName(),B:t=>t.getLongMonthName(),c:t=>t.toLocaleString(),C:t=>gwe(t),d:t=>t.getDate(),e:t=>t.getDate(),H:t=>t.getHours(),I:t=>String(t.getHours()%12||12),j:t=>f8(t),k:t=>t.getHours(),l:t=>String(t.getHours()%12||12),L:t=>t.getMilliseconds(),m:t=>t.getMonth()+1,M:t=>t.getMinutes(),N:(t,e)=>{const n=Number(e.width)||9,r=String(t.getMilliseconds()).slice(0,n);return Yve(r,n,"0")},p:t=>t.getHours()<12?"AM":"PM",P:t=>t.getHours()<12?"am":"pm",q:t=>mwe(t),s:t=>Math.round(t.getTime()/1e3),S:t=>t.getSeconds(),u:t=>t.getDay()||7,U:t=>bF(t,0),w:t=>t.getDay(),W:t=>bF(t,1),x:t=>t.toLocaleDateString(),X:t=>t.toLocaleTimeString(),y:t=>t.getFullYear().toString().slice(2,4),Y:t=>t.getFullYear(),z:xF,Z:(t,e)=>t.getTimeZoneName()||xF(t,e),t:()=>"	",n:()=>`
`,"%":()=>"%"};kC.h=kC.b;function qx(t,e){let n="",r=e,i;for(;i=fwe.exec(r);)n+=r.slice(0,i.index),r=r.slice(i.index+i[0].length),n+=bwe(t,i);return n+r}function bwe(t,e){const[n,r="",i,s,o]=e,a=kC[o];if(!a)return n;const l={};for(const f of r)l[f]=!0;let c=String(a(t,{flags:l,width:i,modifier:s})),u=Owe.has(o)?" ":"0",d=i||ywe[o]||0;return l["^"]?c=c.toUpperCase():l["#"]&&(c=Gve(c)),l._?u=" ":l[0]&&(u="0"),l["-"]&&(d=0),Ng(c,d,u)}function h8(){return typeof Intl<"u"?Intl.DateTimeFormat:void 0}const xwe=6e4,vwe=/([zZ]|([+-])(\d{2}):(\d{2}))$/,p8=["January","February","March","April","May","June","July","August","September","October","November","December"],wwe=p8.map(t=>t.slice(0,3)),m8=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Swe=m8.map(t=>t.slice(0,3));class Us{constructor(e,n,r){this.locale=n,this.DateTimeFormat=h8(),this.date=new Date(e),this.timezoneFixed=r!==void 0,r===void 0&&(r=this.date.getTimezoneOffset()),this.timezoneOffset=ms(r)?Us.getTimezoneOffset(r,this.date):r,this.timezoneName=ms(r)?r:"";const i=(this.date.getTimezoneOffset()-this.timezoneOffset)*xwe,s=this.date.getTime()+i;this.displayDate=new Date(s)}getTime(){return this.displayDate.getTime()}getMilliseconds(){return this.displayDate.getMilliseconds()}getSeconds(){return this.displayDate.getSeconds()}getMinutes(){return this.displayDate.getMinutes()}getHours(){return this.displayDate.getHours()}getDay(){return this.displayDate.getDay()}getDate(){return this.displayDate.getDate()}getMonth(){return this.displayDate.getMonth()}getFullYear(){return this.displayDate.getFullYear()}toLocaleString(e,n){return n!=null&&n.timeZone?this.date.toLocaleString(e,n):this.displayDate.toLocaleString(e,n)}toLocaleTimeString(e){return this.displayDate.toLocaleTimeString(e)}toLocaleDateString(e){return this.displayDate.toLocaleDateString(e)}getTimezoneOffset(){return this.timezoneOffset}getTimeZoneName(){if(this.timezoneFixed)return this.timezoneName;if(this.DateTimeFormat)return this.DateTimeFormat().resolvedOptions().timeZone}getLongMonthName(){var e;return(e=this.format({month:"long"}))!==null&&e!==void 0?e:p8[this.getMonth()]}getShortMonthName(){var e;return(e=this.format({month:"short"}))!==null&&e!==void 0?e:wwe[this.getMonth()]}getLongWeekdayName(){var e;return(e=this.format({weekday:"long"}))!==null&&e!==void 0?e:m8[this.displayDate.getDay()]}getShortWeekdayName(){var e;return(e=this.format({weekday:"short"}))!==null&&e!==void 0?e:Swe[this.displayDate.getDay()]}valid(){return!isNaN(this.getTime())}format(e){return this.DateTimeFormat&&this.DateTimeFormat(this.locale,e).format(this.displayDate)}static createDateFixedToTimezone(e,n){const r=e.match(vwe);if(r&&r[1]==="Z")return new Us(+new Date(e),n,0);if(r&&r[2]&&r[3]&&r[4]){const[,,i,s,o]=r,a=(i==="+"?-1:1)*(parseInt(s,10)*60+parseInt(o,10));return new Us(+new Date(e),n,a)}return new Us(e,n)}static getTimezoneOffset(e,n){const r=n.toLocaleString("en-US",{timeZone:e}),i=n.toLocaleString("en-US",{timeZone:"UTC"}),s=new Date(r);return(+new Date(i)-+s)/(60*1e3)}}class PC{constructor(e,n){this.base=0,this.message=`${e} limit exceeded`,this.limit=n}use(e){e=dF(e),Mr(this.base+e<=this.limit,this.message),this.base+=e}check(e){e=dF(e),Mr(e<=this.limit,this.message)}}class oR extends ks{constructor(e,[n,r],i,s,o,a,l,c){super(e,i,s,o,c),this.trimLeft=!1,this.trimRight=!1;const u=i[n]==="-",d=i[r-1]==="-";let f=u?n+1:n,h=d?r-1:r;for(;f<h&&At[i.charCodeAt(f)]&Ph;)f++;for(;h>f&&At[i.charCodeAt(h-1)]&Ph;)h--;this.contentRange=[f,h],this.trimLeft=u||a,this.trimRight=d||l}get content(){return this.input.slice(this.contentRange[0],this.contentRange[1])}}class vF extends oR{constructor(e,n,r,i,s){const{trimTagLeft:o,trimTagRight:a,tagDelimiterLeft:l,tagDelimiterRight:c}=i,[u,d]=[n+l.length,r-c.length];super(Kt.Tag,[u,d],e,n,r,o,a,s),this.tokenizer=new $l(e,i.operators,s,this.contentRange),this.name=this.tokenizer.readTagName(),this.tokenizer.assert(this.name,"illegal tag syntax, tag name expected"),this.tokenizer.skipBlank()}get args(){return this.tokenizer.input.slice(this.tokenizer.p,this.contentRange[1])}}class _we extends oR{constructor(e,n,r,i,s){const{trimOutputLeft:o,trimOutputRight:a,outputDelimiterLeft:l,outputDelimiterRight:c}=i,u=[n+l.length,r-c.length];super(Kt.Output,u,e,n,r,o,a,s)}}class wF extends ks{constructor(e,n,r,i){super(Kt.HTML,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.trimLeft=0,this.trimRight=0}getContent(){return this.input.slice(this.begin+this.trimLeft,this.end-this.trimRight)}}class $we extends ks{constructor(e,n,r,i){super(Kt.Number,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.content=Number(this.getText())}}class y$ extends ks{constructor(e,n,r,i){super(Kt.Word,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.content=this.getText()}}class kwe extends ks{constructor(e,n,r,i){super(Kt.Literal,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.literal=this.getText(),this.content=d8[this.literal]}}const SF={"==":2,"!=":2,">":2,"<":2,">=":2,"<=":2,contains:2,not:1,and:0,or:0},Pwe={"==":0,"!=":0,">":0,"<":0,">=":0,"<=":0,contains:0,not:1,and:0,or:0};class Cwe extends ks{constructor(e,n,r,i){super(Kt.Operator,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.operator=this.getText()}getPrecedence(){const e=this.getText();return e in SF?SF[e]:1}}class _F extends ks{constructor(e,n,r,i,s,o){super(Kt.PropertyAccess,r,i,s,o),this.variable=e,this.props=n}}class g8 extends ks{constructor(e,n,r,i,s,o){super(Kt.Filter,r,i,s,o),this.name=e,this.args=n}}class jwe extends ks{constructor(e,n,r,i,s,o){super(Kt.Hash,e,n,r,o),this.input=e,this.begin=n,this.end=r,this.name=i,this.value=s,this.file=o}}const Ewe=/[\da-fA-F]/,$F=/[0-7]/,kF={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",v:"\v"};function PF(t){const e=t.charCodeAt(0);return e>=97?e-87:e>=65?e-55:e-48}function Twe(t){let e="";for(let n=1;n<t.length-1;n++){if(t[n]!=="\\"){e+=t[n];continue}if(kF[t[n+1]]!==void 0)e+=kF[t[++n]];else if(t[n+1]==="u"){let r=0,i=n+2;for(;i<=n+5&&Ewe.test(t[i]);)r=r*16+PF(t[i++]);n=i-1,e+=String.fromCharCode(r)}else if(!$F.test(t[n+1]))e+=t[++n];else{let r=n+1,i=0;for(;r<=n+3&&$F.test(t[r]);)i=i*8+PF(t[r++]);n=r-1,e+=String.fromCharCode(i)}}return e}class Nwe extends ks{constructor(e,n,r,i){super(Kt.Quoted,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.content=Twe(this.getText())}}class Awe extends ks{constructor(e,n,r,i,s,o){super(Kt.Range,e,n,r,o),this.input=e,this.begin=n,this.end=r,this.lhs=i,this.rhs=s,this.file=o}}class Rwe extends oR{constructor(e,n,r,i,s){super(Kt.Tag,[n,r],e,n,r,!1,!1,s),this.tokenizer=new $l(e,i.operators,s,this.contentRange),this.name=this.tokenizer.readTagName(),this.tokenizer.assert(this.name,"illegal liquid tag syntax"),this.tokenizer.skipBlank(),this.args=this.tokenizer.remaining()}}class Mwe extends ks{constructor(e,n,r,i,s,o){super(Kt.FilteredValue,r,i,s,o),this.initial=e,this.filters=n,this.input=r,this.begin=i,this.end=s,this.file=o}}const Iwe={now:()=>Date.now()};function y8(){return typeof global=="object"&&global.performance||typeof window=="object"&&window.performance||Iwe}class Dwe{constructor(){this.buffer=""}write(e){this.buffer+=Qe(e)}}class Qwe{constructor(){throw this.buffer="",this.stream=null,new Error("streaming not supported in browser")}}class Fwe{constructor(){this.buffer=""}write(e){e=ot(e),typeof e!="string"&&this.buffer===""?this.buffer=e:this.buffer=Qe(this.buffer)+Qe(e)}}class Lwe{renderTemplatesToNodeStream(e,n){const r=new Qwe;return Promise.resolve().then(()=>ec(this.renderTemplates(e,n,r))).then(()=>r.end(),i=>r.error(i)),r.stream}*renderTemplates(e,n,r){r||(r=n.opts.keepOutputType?new Fwe:new Dwe);const i=[];for(const s of e){n.renderLimit.check(y8().now());try{const o=yield s.render(n,r);if(o&&r.write(o),r.break||r.continue)break}catch(o){const a=tu.is(o)?o:new ewe(o,s);if(n.opts.catchAllErrors)i.push(a);else throw a}}if(i.length)throw new c8(i);return r.buffer}}let qwe=class{constructor(e){this.postfix=[...zwe(e)]}*evaluate(e,n){Mr(e,"unable to evaluate: context not defined");const r=[];for(const i of this.postfix)if(w8(i)){const s=r.pop();let o;if(Pwe[i.operator]===1)o=yield e.opts.operators[i.operator](s,e);else{const a=r.pop();o=yield e.opts.operators[i.operator](a,s,e)}r.push(o)}else r.push(yield Nn(i,e,n));return r[0]}valid(){return!!this.postfix.length}};function*Nn(t,e,n=!1){if(t){if("content"in t)return t.content;if(C0e(t))return yield Vwe(t,e,n);if(j0e(t))return yield Bwe(t,e)}}function*Vwe(t,e,n){const r=[];for(const i of t.props)r.push(yield Nn(i,e,!1));try{if(t.variable){const i=yield Nn(t.variable,e,n);return yield e._getFromScope(i,r)}else return yield e._get(r)}catch(i){if(n&&i.name==="InternalUndefinedVariableError")return null;throw new twe(i,t)}}function O8(t){return t.content}function*Bwe(t,e){const n=yield Nn(t.lhs,e),r=yield Nn(t.rhs,e);return o8(+n,+r+1)}function*zwe(t){const e=[];for(const n of t)if(w8(n)){for(;e.length&&e[e.length-1].getPrecedence()>n.getPrecedence();)yield e.pop();e.push(n)}else yield n;for(;e.length;)yield e.pop()}function qu(t,e){return!CS(t,e)}function CS(t,e){return t=ot(t),e.opts.jsTruthy?!t:t===!1||t===void 0||t===null}const Wwe={"==":cd,"!=":(t,e)=>!cd(t,e),">":(t,e)=>Ro(t)?t.gt(e):Ro(e)?e.lt(t):ot(t)>ot(e),"<":(t,e)=>Ro(t)?t.lt(e):Ro(e)?e.gt(t):ot(t)<ot(e),">=":(t,e)=>Ro(t)?t.geq(e):Ro(e)?e.leq(t):ot(t)>=ot(e),"<=":(t,e)=>Ro(t)?t.leq(e):Ro(e)?e.geq(t):ot(t)<=ot(e),contains:(t,e)=>(t=ot(t),Jn(t)?t.some(n=>cd(n,e)):qn(t==null?void 0:t.indexOf)?t.indexOf(ot(e))>-1:!1),not:(t,e)=>CS(ot(t),e),and:(t,e,n)=>qu(ot(t),n)&&qu(ot(e),n),or:(t,e,n)=>qu(ot(t),n)||qu(ot(e),n)};function cd(t,e){return Ro(t)?t.equals(e):Ro(e)?e.equals(t):(t=ot(t),e=ot(e),Jn(t)?Jn(e)&&Uwe(t,e):t===e)}function Uwe(t,e){return t.length!==e.length?!1:!t.some((n,r)=>!cd(n,e[r]))}let O$=class{constructor(e,n,r,i){this.key=e,this.value=n,this.next=r,this.prev=i}},CF=class{constructor(e,n=0){this.limit=e,this.size=n,this.cache={},this.head=new O$("HEAD",null,null,null),this.tail=new O$("TAIL",null,null,null),this.head.next=this.tail,this.tail.prev=this.head}write(e,n){if(this.cache[e])this.cache[e].value=n;else{const r=new O$(e,n,this.head.next,this.head);this.head.next.prev=r,this.head.next=r,this.cache[e]=r,this.size++,this.ensureLimit()}}read(e){if(!this.cache[e])return;const{value:n}=this.cache[e];return this.remove(e),this.write(e,n),n}remove(e){const n=this.cache[e];n.prev.next=n.next,n.next.prev=n.prev,delete this.cache[e],this.size--}clear(){this.head.next=this.tail,this.tail.prev=this.head,this.size=0,this.cache={}}ensureLimit(){this.size>this.limit&&this.remove(this.tail.prev.key)}};function b8(t,e){const n=document.createElement("base");n.href=t;const r=document.getElementsByTagName("head")[0];r.insertBefore(n,r.firstChild);const i=document.createElement("a");i.href=e;const s=i.href;return r.removeChild(n),s}function Zwe(t,e,n){return t.length&&s8(t)!=="/"&&(t+="/"),b8(t,e).replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,(i,s,o)=>{const a=o.split("/").pop();return/\.\w+$/.test(a)?i:s+o+n})}function Xwe(t){return Ws(this,void 0,void 0,function*(){return new Promise((e,n)=>{const r=new XMLHttpRequest;r.onload=()=>{r.status>=200&&r.status<300?e(r.responseText):n(new Error(r.statusText))},r.onerror=()=>{n(new Error("An error occurred whilst receiving the response."))},r.open("GET",t),r.send()})})}function Ywe(t){const e=new XMLHttpRequest;if(e.open("GET",t,!1),e.send(),e.status<200||e.status>=300)throw new Error(e.statusText);return e.responseText}function Gwe(t){return Ws(this,void 0,void 0,function*(){return!0})}function Hwe(t){return!0}function Kwe(t){return b8(t,".")}const Jwe="/";var e0e=Object.freeze({__proto__:null,resolve:Zwe,readFile:Xwe,readFileSync:Ywe,exists:Gwe,existsSync:Hwe,dirname:Kwe,sep:Jwe});function t0e(t,e,...n){return t=ot(t),Jn(t)||ms(t)?t.length?t:e:t===!1&&new Map(n).get("allow_false")?!1:CS(t,this.context)?e:t}function jF(t,e=0){return JSON.stringify(t,null,e)}function n0e(t,e=0){const n=[];return JSON.stringify(t,function(r,i){if(typeof i!="object"||i===null)return i;for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(i)?"[Circular]":(n.push(i),i)},e)}function r0e(t){return Number(t)}const i0e={raw:!0,handler:l8};var x8={default:t0e,raw:i0e,jsonify:jF,to_integer:r0e,json:jF,inspect:n0e};const s0e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},o0e={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function jS(t){return t=Qe(t),this.context.memoryLimit.use(t.length),t.replace(/&|<|>|"|'/g,e=>s0e[e])}function a0e(t){return jS.call(this,t)}function l0e(t){return t=Qe(t),this.context.memoryLimit.use(t.length),t.replace(/&(amp|lt|gt|#34|#39);/g,e=>o0e[e])}function c0e(t){return jS.call(this,l0e.call(this,t))}function u0e(t){const e=Qe(t);return this.context.memoryLimit.use(e.length),e.replace(/\r?\n/gm,`<br />
`)}function d0e(t){const e=Qe(t);return this.context.memoryLimit.use(e.length),e.replace(/<script[\s\S]*?<\/script>|<style[\s\S]*?<\/style>|<.*?>|<!--[\s\S]*?-->/g,"")}var f0e=Object.freeze({__proto__:null,escape:jS,xml_escape:a0e,escape_once:c0e,newline_to_br:u0e,strip_html:d0e});class h0e{constructor(e){this.mapping=e,this.sep="/"}exists(e){return Ws(this,void 0,void 0,function*(){return this.existsSync(e)})}existsSync(e){return!gs(this.mapping[e])}readFile(e){return Ws(this,void 0,void 0,function*(){return this.readFileSync(e)})}readFileSync(e){const n=this.mapping[e];if(gs(n))throw new Error(`ENOENT: ${e}`);return n}dirname(e){const n=e.split(this.sep);return n.pop(),n.join(this.sep)}resolve(e,n,r){if(n+=r,e===".")return n;const i=e.split(/\/+/);for(const s of n.split(this.sep))s==="."||s===""||(s===".."?(i.length>1||i[0]!=="")&&i.pop():i.push(s));return i.join(this.sep)}}const Pf={root:["."],layouts:["."],partials:["."],relativeReference:!0,jekyllInclude:!1,keyValueSeparator:":",cache:void 0,extname:"",fs:e0e,dynamicPartials:!0,jsTruthy:!1,dateFormat:"%A, %B %-e, %Y at %-l:%M %P %z",locale:"",trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",preserveTimezones:!1,strictFilters:!1,strictVariables:!1,ownPropertyOnly:!0,lenientIf:!1,globals:{},keepOutputType:!1,operators:Wwe,memoryLimit:1/0,parseLimit:1/0,renderLimit:1/0};function p0e(t){var e,n;if(t.hasOwnProperty("root")&&(t.hasOwnProperty("partials")||(t.partials=t.root),t.hasOwnProperty("layouts")||(t.layouts=t.root)),t.hasOwnProperty("cache")){let r;typeof t.cache=="number"?r=t.cache>0?new CF(t.cache):void 0:typeof t.cache=="object"?r=t.cache:r=t.cache?new CF(1024):void 0,t.cache=r}return t=Object.assign(Object.assign(Object.assign({},Pf),t.jekyllInclude?{dynamicPartials:!1}:{}),t),(!t.fs.dirname||!t.fs.sep)&&t.relativeReference&&(console.warn("[LiquidJS] `fs.dirname` and `fs.sep` are required for relativeReference, set relativeReference to `false` to suppress this warning"),t.relativeReference=!1),t.root=Vx(t.root),t.partials=Vx(t.partials),t.layouts=Vx(t.layouts),t.outputEscape=t.outputEscape&&m0e(t.outputEscape),t.locale||(t.locale=(n=(e=h8())===null||e===void 0?void 0:e().resolvedOptions().locale)!==null&&n!==void 0?n:"en-US"),t.templates&&(t.fs=new h0e(t.templates),t.relativeReference=!0,t.root=t.partials=t.layouts="."),t}function m0e(t){return t==="escape"?jS:t==="json"?x8.json:(Mr(qn(t),"`outputEscape` need to be of type string or function"),t)}function Vx(t){let e=[];return Jn(t)&&(e=t),ms(t)&&(e=[t]),e}function g0e(t,e){let n=!1;for(let r=0;r<t.length;r++){const i=t[r];$0e(i)&&(!n&&i.trimLeft&&y0e(t[r-1],e.greedy),qd(i)&&(i.name==="raw"?n=!0:i.name==="endraw"&&(n=!1)),!n&&i.trimRight&&O0e(t[r+1],e.greedy))}}function y0e(t,e){if(!t||!lR(t))return;const n=e?Ph:u8;for(;At[t.input.charCodeAt(t.end-1-t.trimRight)]&n;)t.trimRight++}function O0e(t,e){if(!t||!lR(t))return;const n=e?Ph:u8;for(;At[t.input.charCodeAt(t.begin+t.trimLeft)]&n;)t.trimLeft++;t.input.charAt(t.begin+t.trimLeft)===`
`&&t.trimLeft++}class $l{constructor(e,n=Pf.operators,r,i){this.input=e,this.file=r,this.rawBeginAt=-1,this.p=i?i[0]:0,this.N=i?i[1]:e.length,this.opTrie=OF(n),this.literalTrie=OF(d8)}readExpression(){return new qwe(this.readExpressionTokens())}*readExpressionTokens(){for(;this.p<this.N;){const e=this.readOperator();if(e){yield e;continue}const n=this.readValue();if(n){yield n;continue}return}}readOperator(){this.skipBlank();const e=this.matchTrie(this.opTrie);if(e!==-1)return new Cwe(this.input,this.p,this.p=e,this.file)}matchTrie(e){let n=e,r=this.p,i;for(;n[this.input[r]]&&r<this.N;)n=n[this.input[r++]],n.end&&(i=n);return!i||i.needBoundary&&Lx(this.peek(r-this.p))?-1:r}readFilteredValue(){const e=this.p,n=this.readExpression();this.assert(n.valid(),`invalid value expression: ${this.snapshot()}`);const r=this.readFilters();return new Mwe(n,r,this.input,e,this.p,this.file)}readFilters(){const e=[];for(;;){const n=this.readFilter();if(!n)return e;e.push(n)}}readFilter(){if(this.skipBlank(),this.end())return null;this.assert(this.read()==="|",'expected "|" before filter');const e=this.readIdentifier();if(!e.size())return this.assert(this.end(),"expected filter name"),null;const n=[];if(this.skipBlank(),this.peek()===":")do{++this.p;const r=this.readFilterArg();r&&n.push(r),this.skipBlank(),this.assert(this.end()||this.peek()===","||this.peek()==="|",()=>`unexpected character ${this.snapshot()}`)}while(this.peek()===",");else if(!(this.peek()==="|"||this.end()))throw this.error('expected ":" after filter name');return new g8(e.getText(),n,this.input,e.begin,this.p,this.file)}readFilterArg(){const e=this.readValue();if(!e)return;if(this.skipBlank(),this.peek()!==":")return e;++this.p;const n=this.readValue();return[e.getText(),n]}readTopLevelTokens(e=Pf){const n=[];for(;this.p<this.N;){const r=this.readTopLevelToken(e);n.push(r)}return g0e(n,e),n}readTopLevelToken(e){const{tagDelimiterLeft:n,outputDelimiterLeft:r}=e;return this.rawBeginAt>-1?this.readEndrawOrRawContent(e):this.match(n)?this.readTagToken(e):this.match(r)?this.readOutputToken(e):this.readHTMLToken([n,r])}readHTMLToken(e){const n=this.p;for(;this.p<this.N&&!e.some(r=>this.match(r));)++this.p;return new wF(this.input,n,this.p,this.file)}readTagToken(e){const{file:n,input:r}=this,i=this.p;if(this.readToDelimiter(e.tagDelimiterRight)===-1)throw this.error(`tag ${this.snapshot(i)} not closed`,i);const s=new vF(r,i,this.p,e,n);return s.name==="raw"&&(this.rawBeginAt=i),s}readToDelimiter(e,n=!1){for(this.skipBlank();this.p<this.N;){if(n&&this.peekType()&mF){this.readQuoted();continue}if(++this.p,this.rmatch(e))return this.p}return-1}readOutputToken(e=Pf){const{file:n,input:r}=this,{outputDelimiterRight:i}=e,s=this.p;if(this.readToDelimiter(i,!0)===-1)throw this.error(`output ${this.snapshot(s)} not closed`,s);return new _we(r,s,this.p,e,n)}readEndrawOrRawContent(e){const{tagDelimiterLeft:n,tagDelimiterRight:r}=e,i=this.p;let s=this.readTo(n)-n.length;for(;this.p<this.N;){if(this.readIdentifier().getText()!=="endraw"){s=this.readTo(n)-n.length;continue}for(;this.p<=this.N;){if(this.rmatch(r)){const o=this.p;return i===s?(this.rawBeginAt=-1,new vF(this.input,i,o,e,this.file)):(this.p=s,new wF(this.input,i,s,this.file))}if(this.rmatch(n))break;this.p++}}throw this.error(`raw ${this.snapshot(this.rawBeginAt)} not closed`,i)}readLiquidTagTokens(e=Pf){const n=[];for(;this.p<this.N;){const r=this.readLiquidTagToken(e);r&&n.push(r)}return n}readLiquidTagToken(e){if(this.skipBlank(),this.end())return;const n=this.p;this.readToDelimiter(`
`);const r=this.p;return new Rwe(this.input,n,r,e,this.file)}error(e,n=this.p){return new Kve(e,new y$(this.input,n,this.N,this.file))}assert(e,n,r){if(!e)throw this.error(typeof n=="function"?n():n,r)}snapshot(e=this.p){return JSON.stringify(Hve(this.input.slice(e,this.N),32))}readWord(){return this.readIdentifier()}readIdentifier(){this.skipBlank();const e=this.p;for(;!this.end()&&Lx(this.peek());)++this.p;return new y$(this.input,e,this.p,this.file)}readNonEmptyIdentifier(){const e=this.readIdentifier();return e.size()?e:void 0}readTagName(){return this.skipBlank(),this.input[this.p]==="#"?this.input.slice(this.p,++this.p):this.readIdentifier().getText()}readHashes(e){const n=[];for(;;){const r=this.readHash(e);if(!r)return n;n.push(r)}}readHash(e){this.skipBlank(),this.peek()===","&&++this.p;const n=this.p,r=this.readNonEmptyIdentifier();if(!r)return;let i;this.skipBlank();const s=ms(e)?e:e?"=":":";return this.peek()===s&&(++this.p,i=this.readValue()),new jwe(this.input,n,this.p,r,i,this.file)}remaining(){return this.input.slice(this.p,this.N)}advance(e=1){this.p+=e}end(){return this.p>=this.N}read(){return this.input[this.p++]}readTo(e){for(;this.p<this.N;)if(++this.p,this.rmatch(e))return this.p;return-1}readValue(){this.skipBlank();const e=this.p,n=this.readLiteral()||this.readQuoted()||this.readRange()||this.readNumber(),r=this.readProperties(!n);return r.length?new _F(n,r,this.input,e,this.p):n}readScopeValue(){this.skipBlank();const e=this.p,n=this.readProperties();if(n.length)return new _F(void 0,n,this.input,e,this.p)}readProperties(e=!0){const n=[];for(;;){if(this.peek()==="["){this.p++;const r=this.readValue()||new y$(this.input,this.p,this.p,this.file);this.assert(this.readTo("]")!==-1,"[ not closed"),n.push(r);continue}if(e&&!n.length){const r=this.readNonEmptyIdentifier();if(r){n.push(r);continue}}if(this.peek()==="."&&this.peek(1)!=="."){this.p++;const r=this.readNonEmptyIdentifier();if(!r)break;n.push(r);continue}break}return n}readNumber(){this.skipBlank();let e=!1,n=!1,r=0;for(this.peekType()&lwe&&r++;this.p+r<=this.N;)if(this.peekType(r)&awe)n=!0,r++;else if(this.peek(r)==="."&&this.peek(r+1)!=="."){if(e||!n)return;e=!0,r++}else break;if(n&&!Lx(this.peek(r))){const i=new $we(this.input,this.p,this.p+r,this.file);return this.advance(r),i}}readLiteral(){this.skipBlank();const e=this.matchTrie(this.literalTrie);if(e===-1)return;const n=new kwe(this.input,this.p,e,this.file);return this.p=e,n}readRange(){this.skipBlank();const e=this.p;if(this.peek()!=="(")return;++this.p;const n=this.readValueOrThrow();this.p+=2;const r=this.readValueOrThrow();return++this.p,new Awe(this.input,e,this.p,n,r,this.file)}readValueOrThrow(){const e=this.readValue();return this.assert(e,()=>`unexpected token ${this.snapshot()}, value expected`),e}readQuoted(){this.skipBlank();const e=this.p;if(!(this.peekType()&mF))return;++this.p;let n=!1;for(;this.p<this.N&&(++this.p,!(this.input[this.p-1]===this.input[e]&&!n));)n?n=!1:this.input[this.p-1]==="\\"&&(n=!0);return new Nwe(this.input,e,this.p,this.file)}*readFileNameTemplate(e){const{outputDelimiterLeft:n}=e,r=[","," ",n],i=new Set(r);for(;this.p<this.N&&!i.has(this.peek());)yield this.match(n)?this.readOutputToken(e):this.readHTMLToken(r)}match(e){for(let n=0;n<e.length;n++)if(e[n]!==this.input[this.p+n])return!1;return!0}rmatch(e){for(let n=0;n<e.length;n++)if(e[e.length-1-n]!==this.input[this.p-1-n])return!1;return!0}peekType(e=0){return this.p+e>=this.N?0:At[this.input.charCodeAt(this.p+e)]}peek(e=0){return this.p+e>=this.N?"":this.input[this.p+e]}skipBlank(){for(;this.peekType()&Ph;)++this.p}}class b0e{constructor(e,n){this.handlers={},this.stopRequested=!1,this.tokens=e,this.parseToken=n}on(e,n){return this.handlers[e]=n,this}trigger(e,n){const r=this.handlers[e];return r?(r.call(this,n),!0):!1}start(){this.trigger("start");let e;for(;!this.stopRequested&&(e=this.tokens.shift());){if(this.trigger("token",e)||qd(e)&&this.trigger(`tag:${e.name}`,e))continue;const n=this.parseToken(e,this.tokens);this.trigger("template",n)}return this.stopRequested||this.trigger("end"),this}stop(){return this.stopRequested=!0,this}}class aR{constructor(e){this.token=e}}let yn=class extends aR{constructor(e,n,r){super(e),this.name=e.name,this.liquid=r,this.tokenizer=e.tokenizer}};class gp{constructor(e,n){this.hash={};const r=new $l(e,{});for(const i of r.readHashes(n))this.hash[i.name.content]=i.value}*render(e){const n={};for(const r of Object.keys(this.hash))n[r]=this.hash[r]===void 0?!0:yield Nn(this.hash[r],e);return n}}function x0e(t){return class extends yn{constructor(e,n,r){super(e,n,r),qn(t.parse)&&t.parse.call(this,e,n)}*render(e,n){const r=yield new gp(this.token.args,e.opts.keyValueSeparator).render(e);return yield t.render.call(this,e,n,r)}}}function v0e(t){return Jn(t)}class v8{constructor(e,n,r){this.token=e,this.name=e.name,this.handler=qn(n)?n:qn(n==null?void 0:n.handler)?n.handler:l8,this.raw=!qn(n)&&!!(n!=null&&n.raw),this.args=e.args,this.liquid=r}*render(e,n){const r=[];for(const i of this.args)v0e(i)?r.push([i[0],yield Nn(i[1],n)]):r.push(yield Nn(i,n));return yield this.handler.apply({context:n,token:this.token,liquid:this.liquid},[e,...r])}}class ys{constructor(e,n){this.filters=[];const r=typeof e=="string"?new $l(e,n.options.operators).readFilteredValue():e;this.initial=r.initial,this.filters=r.filters.map(i=>new v8(i,this.getFilter(n,i.name),n))}*value(e,n){n=n||e.opts.lenientIf&&this.filters.length>0&&this.filters[0].name==="default";let r=yield this.initial.evaluate(e,n);for(const i of this.filters)r=yield i.render(r,e);return r}getFilter(e,n){const r=e.filters[n];return Mr(r||!e.options.strictFilters,()=>`undefined filter: ${n}`),r}}class w0e extends aR{constructor(e,n){var r;super(e);const i=new $l(e.input,n.options.operators,e.file,e.contentRange);this.value=new ys(i.readFilteredValue(),n);const s=this.value.filters,o=n.options.outputEscape;if(!(!((r=s[s.length-1])===null||r===void 0)&&r.raw)&&o){const a=new g8(toString.call(o),[],"",0,0);s.push(new v8(a,o,n))}}*render(e,n){const r=yield this.value.value(e,!1);n.write(r)}}class S0e extends aR{constructor(e){super(e),this.str=e.getContent()}*render(e,n){n.write(this.str)}}var yd;(function(t){t.Partials="partials",t.Layouts="layouts",t.Root="root"})(yd||(yd={}));class _0e{constructor(e){if(this.options=e,e.relativeReference){const n=e.fs.sep;Mr(n,"`fs.sep` is required for relative reference");const r=new RegExp(["."+n,".."+n,"./","../"].map(i=>Uve(i)).join("|"));this.shouldLoadRelative=i=>r.test(i)}else this.shouldLoadRelative=n=>!1;this.contains=this.options.fs.contains||(()=>!0)}*lookup(e,n,r,i){const{fs:s}=this.options,o=this.options[n];for(const a of this.candidates(e,o,i,n!==yd.Root))if(r?s.existsSync(a):yield s.exists(a))return a;throw this.lookupError(e,o)}*candidates(e,n,r,i){const{fs:s,extname:o}=this.options;if(this.shouldLoadRelative(e)&&r){const a=s.resolve(this.dirname(r),e,o);for(const l of n)if(!i||this.contains(l,a)){yield a;break}}for(const a of n){const l=s.resolve(a,e,o);(!i||this.contains(a,l))&&(yield l)}if(s.fallback!==void 0){const a=s.fallback(e);a!==void 0&&(yield a)}}dirname(e){const n=this.options.fs;return Mr(n.dirname,"`fs.dirname` is required for relative reference"),n.dirname(e)}lookupError(e,n){const r=new Error("ENOENT");return r.message=`ENOENT: Failed to lookup "${e}" in "${n}"`,r.code="ENOENT",r}}let du=class{constructor(e){this.liquid=e,this.cache=this.liquid.options.cache,this.fs=this.liquid.options.fs,this.parseFile=this.cache?this._parseFileCached:this._parseFile,this.loader=new _0e(this.liquid.options),this.parseLimit=new PC("parse length",e.options.parseLimit)}parse(e,n){e=String(e),this.parseLimit.use(e.length);const i=new $l(e,this.liquid.options.operators,n).readTopLevelTokens(this.liquid.options);return this.parseTokens(i)}parseTokens(e){let n;const r=[],i=[];for(;n=e.shift();)try{r.push(this.parseToken(n,e))}catch(s){if(this.liquid.options.catchAllErrors)i.push(s);else throw s}if(i.length)throw new c8(i);return r}parseToken(e,n){try{if(qd(e)){const r=this.liquid.tags[e.name];return Mr(r,`tag "${e.name}" not found`),new r(e,n,this.liquid,this)}return k0e(e)?new w0e(e,this.liquid):new S0e(e)}catch(r){throw tu.is(r)?r:new Jve(r,e)}}parseStream(e){return new b0e(e,(n,r)=>this.parseToken(n,r))}*_parseFileCached(e,n,r=yd.Root,i){const s=this.cache,o=this.loader.shouldLoadRelative(e)?i+","+e:r+":"+e,a=yield s.read(o);if(a)return a;const l=this._parseFile(e,n,r,i),c=n?yield l:ec(l);s.write(o,c);try{return yield c}catch(u){throw s.remove(o),u}}*_parseFile(e,n,r=yd.Root,i){const s=yield this.loader.lookup(e,r,n,i);return this.parse(n?this.fs.readFileSync(s):yield this.fs.readFile(s),s)}};var Kt;(function(t){t[t.Number=1]="Number",t[t.Literal=2]="Literal",t[t.Tag=4]="Tag",t[t.Output=8]="Output",t[t.HTML=16]="HTML",t[t.Filter=32]="Filter",t[t.Hash=64]="Hash",t[t.PropertyAccess=128]="PropertyAccess",t[t.Word=256]="Word",t[t.Range=512]="Range",t[t.Quoted=1024]="Quoted",t[t.Operator=2048]="Operator",t[t.FilteredValue=4096]="FilteredValue",t[t.Delimited=12]="Delimited"})(Kt||(Kt={}));function $0e(t){return!!(nu(t)&Kt.Delimited)}function w8(t){return nu(t)===Kt.Operator}function lR(t){return nu(t)===Kt.HTML}function k0e(t){return nu(t)===Kt.Output}function qd(t){return nu(t)===Kt.Tag}function P0e(t){return nu(t)===Kt.Quoted}function C0e(t){return nu(t)===Kt.PropertyAccess}function j0e(t){return nu(t)===Kt.Range}function nu(t){return t?t.kind:-1}class Au{constructor(e={},n=Pf,r={},{memoryLimit:i,renderLimit:s}={}){var o,a,l,c,u;this.scopes=[{}],this.registers={},this.sync=!!r.sync,this.opts=n,this.globals=(o=r.globals)!==null&&o!==void 0?o:n.globals,this.environments=kS(e)?e:Object(e),this.strictVariables=(a=r.strictVariables)!==null&&a!==void 0?a:this.opts.strictVariables,this.ownPropertyOnly=(l=r.ownPropertyOnly)!==null&&l!==void 0?l:n.ownPropertyOnly,this.memoryLimit=i??new PC("memory alloc",(c=r.memoryLimit)!==null&&c!==void 0?c:n.memoryLimit),this.renderLimit=s??new PC("template render",y8().now()+((u=r.renderLimit)!==null&&u!==void 0?u:n.renderLimit))}getRegister(e){return this.registers[e]=this.registers[e]||{}}setRegister(e,n){return this.registers[e]=n}saveRegister(...e){return e.map(n=>[n,this.getRegister(n)])}restoreRegister(e){return e.forEach(([n,r])=>this.setRegister(n,r))}getAll(){return[this.globals,this.environments,...this.scopes].reduce((e,n)=>Kv(e,n),{})}get(e){return this.getSync(e)}getSync(e){return tc(this._get(e))}*_get(e){const n=this.findScope(e[0]);return yield this._getFromScope(n,e)}getFromScope(e,n){return tc(this._getFromScope(e,n))}*_getFromScope(e,n,r=this.strictVariables){ms(n)&&(n=n.split("."));for(let i=0;i<n.length;i++)if(e=yield E0e(e,n[i],this.ownPropertyOnly),r&&Zve(e))throw new nwe(n.slice(0,i+1).join("."));return e}push(e){return this.scopes.push(e)}pop(){return this.scopes.pop()}bottom(){return this.scopes[0]}spawn(e={}){return new Au(e,this.opts,{sync:this.sync,globals:this.globals,strictVariables:this.strictVariables},{renderLimit:this.renderLimit,memoryLimit:this.memoryLimit})}findScope(e){for(let n=this.scopes.length-1;n>=0;n--){const r=this.scopes[n];if(e in r)return r}return e in this.environments?this.environments:this.globals}}function E0e(t,e,n){if(t=i8(t),gs(t))return t;if(Jn(t)&&e<0)return t[t.length+ +e];const r=T0e(t,e,n);return r===void 0&&t instanceof Ld?t.liquidMethodMissing(e):qn(r)?r.call(t):e==="size"?R0e(t):e==="first"?N0e(t):e==="last"?A0e(t):r}function T0e(t,e,n){if(!(n&&!tR.call(t,e)&&!(t instanceof Ld)))return t[e]}function N0e(t){return Jn(t)?t[0]:t.first}function A0e(t){return Jn(t)?t[t.length-1]:t.last}function R0e(t){if(tR.call(t,"size")||t.size!==void 0)return t.size;if(Jn(t)||ms(t))return t.length;if(typeof t=="object")return Object.keys(t).length}var ud;(function(t){t[t.OUTPUT=0]="OUTPUT",t[t.STORE=1]="STORE"})(ud||(ud={}));const M0e=Ui(Math.abs),I0e=Ui(Math.max),D0e=Ui(Math.min),Q0e=Ui(Math.ceil),F0e=Ui((t,e,n=!1)=>n?Math.floor(t/e):t/e),L0e=Ui(Math.floor),q0e=Ui((t,e)=>t-e),V0e=Ui((t,e)=>t%e),B0e=Ui((t,e)=>t*e);function z0e(t,e=0){t=ot(t),e=ot(e);const n=Math.pow(10,e);return Math.round(t*n)/n}function W0e(t,e){return t=ot(t),e=ot(e),Number(t)+Number(e)}var U0e=Object.freeze({__proto__:null,abs:M0e,at_least:I0e,at_most:D0e,ceil:Q0e,divided_by:F0e,floor:L0e,minus:q0e,modulo:V0e,times:B0e,round:z0e,plus:W0e});const Z0e=t=>decodeURIComponent(Qe(t)).replace(/\+/g," "),X0e=t=>encodeURIComponent(Qe(t)).replace(/%20/g,"+"),Y0e=t=>encodeURIComponent(Qe(t)).replace(/%20/g,"+").replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase()),G0e=t=>encodeURI(Qe(t)).replace(/%5B/g,"[").replace(/%5D/g,"]"),EF=/[^\p{M}\p{L}\p{Nd}]+/ug,H0e={raw:/\s+/g,default:EF,pretty:/[^\p{M}\p{L}\p{Nd}._~!$&'()+,;=@]+/ug,ascii:/[^A-Za-z0-9]+/g,latin:EF,none:null};function K0e(t,e="default",n=!1){t=Qe(t);const r=H0e[e];return r&&(e==="latin"&&(t=J0e(t)),t=t.replace(r,"-").replace(/^-|-$/g,"")),n?t:t.toLowerCase()}function J0e(t){return t.replace(/[àáâãäå]/g,"a").replace(/[æ]/g,"ae").replace(/[ç]/g,"c").replace(/[èéêë]/g,"e").replace(/[ìíîï]/g,"i").replace(/[ð]/g,"d").replace(/[ñ]/g,"n").replace(/[òóôõöø]/g,"o").replace(/[ùúûü]/g,"u").replace(/[ýÿ]/g,"y").replace(/[ß]/g,"ss").replace(/[œ]/g,"oe").replace(/[þ]/g,"th").replace(/[ẞ]/g,"SS").replace(/[Œ]/g,"OE").replace(/[Þ]/g,"TH")}var eSe=Object.freeze({__proto__:null,url_decode:Z0e,url_encode:X0e,cgi_escape:Y0e,uri_escape:G0e,slugify:K0e});const tSe=Ui(function(t,e){const n=Wn(t),r=gs(e)?" ":Qe(e),i=n.length*(1+r.length);return this.context.memoryLimit.use(i),n.join(r)}),nSe=Ui(t=>Jn(t)?s8(t):""),rSe=Ui(t=>Jn(t)?t[0]:""),iSe=Ui(function(t){const e=Wn(t);return this.context.memoryLimit.use(e.length),[...e].reverse()});function*sSe(t,e){const n=[],r=Wn(t);this.context.memoryLimit.use(r.length);for(const i of r)n.push([i,e?yield this.context._getFromScope(i,Qe(e).split("."),!1):i]);return n.sort((i,s)=>{const o=i[1],a=s[1];return o<a?-1:o>a?1:0}).map(i=>i[0])}function oSe(t,e){const n=Qe(e),r=e===void 0?hF:(s,o)=>hF(s[n],o[n]),i=Wn(t);return this.context.memoryLimit.use(i.length),[...i].sort(r)}const aSe=t=>t&&t.length||0;function*lSe(t,e){const n=[],r=Wn(t);this.context.memoryLimit.use(r.length);for(const i of r)n.push(yield this.context._getFromScope(i,Qe(e),!1));return n}function*cSe(t,e){let n=0;const r=Wn(t);for(const i of r){const s=Number(e?yield this.context._getFromScope(i,Qe(e),!1):i);n+=Number.isNaN(s)?0:s}return n}function uSe(t){const e=Wn(t);return this.context.memoryLimit.use(e.length),e.filter(n=>!gs(ot(n)))}function S8(t,e=[]){const n=Wn(t),r=Wn(e);return this.context.memoryLimit.use(n.length+r.length),n.concat(r)}function dSe(t,e){return S8.call(this,t,[e])}function fSe(t,e){const n=Wn(t);this.context.memoryLimit.use(n.length);const r=[...n];return r.unshift(e),r}function hSe(t){const e=[...Wn(t)];return e.pop(),e}function pSe(t){const e=Wn(t);this.context.memoryLimit.use(e.length);const n=[...e];return n.shift(),n}function mSe(t,e,n=1){return t=ot(t),gs(t)?[]:(Jn(t)||(t=Qe(t)),e=e<0?t.length+e:e,this.context.memoryLimit.use(n),t.slice(e,e+n))}function*gSe(t,e,n){const r=[];t=Wn(t),this.context.memoryLimit.use(t.length);const i=new $l(Qe(e)).readScopeValue();for(const s of t)r.push(yield Nn(i,this.context.spawn(s)));return t.filter((s,o)=>n===void 0?qu(r[o],this.context):cd(r[o],n))}function*ySe(t,e,n){const r=[],i=new ys(Qe(n),this.liquid),s=Wn(t);this.context.memoryLimit.use(s.length);for(const o of s)(yield i.value(this.context.spawn({[e]:o})))&&r.push(o);return r}function*OSe(t,e){const n=new Map;t=Wn(t);const r=new $l(Qe(e)).readScopeValue();this.context.memoryLimit.use(t.length);for(const i of t){const s=yield Nn(r,this.context.spawn(i));n.has(s)||n.set(s,[]),n.get(s).push(i)}return[...n.entries()].map(([i,s])=>({name:i,items:s}))}function*bSe(t,e,n){const r=new Map,i=new ys(Qe(n),this.liquid);t=Wn(t),this.context.memoryLimit.use(t.length);for(const s of t){const o=yield i.value(this.context.spawn({[e]:s}));r.has(o)||r.set(o,[]),r.get(o).push(s)}return[...r.entries()].map(([s,o])=>({name:s,items:o}))}function*xSe(t,e,n){const r=new $l(Qe(e)).readScopeValue(),i=Wn(t);for(const s of i){const o=yield Nn(r,this.context.spawn(s));if(cd(o,n))return s}}function*vSe(t,e,n){const r=new ys(Qe(n),this.liquid),i=Wn(t);for(const s of i)if(yield r.value(this.context.spawn({[e]:s})))return s}function wSe(t){return t=Wn(t),this.context.memoryLimit.use(t.length),[...new Set(t)]}function SSe(t,e=1){if(t=ot(t),gs(t))return[];Jn(t)||(t=Qe(t)),this.context.memoryLimit.use(e);const n=[...t].sort(()=>Math.random()-.5);return e===1?n[0]:n.slice(0,e)}var _Se=Object.freeze({__proto__:null,join:tSe,last:nSe,first:rSe,reverse:iSe,sort:sSe,sort_natural:oSe,size:aSe,map:lSe,sum:cSe,compact:uSe,concat:S8,push:dSe,unshift:fSe,pop:hSe,shift:pSe,slice:mSe,where:gSe,where_exp:ySe,group_by:OSe,group_by_exp:bSe,find:xSe,find_exp:vSe,uniq:wSe,sample:SSe});function cR(t,e,n){var r,i,s;const o=((r=t==null?void 0:t.length)!==null&&r!==void 0?r:0)+((i=e==null?void 0:e.length)!==null&&i!==void 0?i:0)+((s=n==null?void 0:n.length)!==null&&s!==void 0?s:0);this.context.memoryLimit.use(o);const a=$8(t,this.context.opts,n);return a?(e=ot(e),e=gs(e)?this.context.opts.dateFormat:Qe(e),qx(a,e)):t}function $Se(t){return cR.call(this,t,"%Y-%m-%dT%H:%M:%S%:z")}function kSe(t){return cR.call(this,t,"%a, %d %b %Y %H:%M:%S %z")}function PSe(t,e,n){return _8.call(this,t,"%b",e,n)}function CSe(t,e,n){return _8.call(this,t,"%B",e,n)}function _8(t,e,n,r){const i=$8(t,this.context.opts);if(!i)return t;if(n==="ordinal"){const s=i.getDate();return r==="US"?qx(i,`${e} ${s}%q, %Y`):qx(i,`${s}%q ${e} %Y`)}return qx(i,`%d ${e} %Y`)}function $8(t,e,n){let r;const i=n??e.timezoneOffset,s=e.locale;return t=ot(t),t==="now"||t==="today"?r=new Us(Date.now(),s,i):rR(t)?r=new Us(t*1e3,s,i):ms(t)?/^\d+$/.test(t)?r=new Us(+t*1e3,s,i):e.preserveTimezones&&n===void 0?r=Us.createDateFixedToTimezone(t,s):r=new Us(t,s,i):r=new Us(t,s,i),r.valid()?r:void 0}var jSe=Object.freeze({__proto__:null,date:cR,date_to_xmlschema:$Se,date_to_rfc822:kSe,date_to_string:PSe,date_to_long_string:CSe});const b$=/[\u4E00-\u9FFF\uF900-\uFAFF\u3400-\u4DBF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF]/gu,TF=/[^\u4E00-\u9FFF\uF900-\uFAFF\u3400-\u4DBF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF\s]+/gu;function ESe(t,e){Mr(arguments.length===2,"append expect 2 arguments");const n=Qe(t),r=Qe(e);return this.context.memoryLimit.use(n.length+r.length),n+r}function TSe(t,e){Mr(arguments.length===2,"prepend expect 2 arguments");const n=Qe(t),r=Qe(e);return this.context.memoryLimit.use(n.length+r.length),r+n}function NSe(t,e){const n=Qe(t);return this.context.memoryLimit.use(n.length),e?(e=iR(Qe(e)),n.replace(new RegExp(`^[${e}]+`,"g"),"")):n.replace(/^\s+/,"")}function ASe(t){const e=Qe(t);return this.context.memoryLimit.use(e.length),e.toLowerCase()}function RSe(t){const e=Qe(t);return this.context.memoryLimit.use(e.length),Qe(e).toUpperCase()}function MSe(t,e){const n=Qe(t);return this.context.memoryLimit.use(n.length),n.split(Qe(e)).join("")}function ISe(t,e){const n=Qe(t);return this.context.memoryLimit.use(n.length),n.replace(Qe(e),"")}function DSe(t,e){const n=Qe(t);this.context.memoryLimit.use(n.length);const r=Qe(e),i=n.lastIndexOf(r);return i===-1?n:n.substring(0,i)+n.substring(i+r.length)}function QSe(t,e){return t=Qe(t),this.context.memoryLimit.use(t.length),e?(e=iR(Qe(e)),t.replace(new RegExp(`[${e}]+$`,"g"),"")):t.replace(/\s+$/,"")}function FSe(t,e){const n=Qe(t);this.context.memoryLimit.use(n.length);const r=n.split(Qe(e));for(;r.length&&r[r.length-1]==="";)r.pop();return r}function LSe(t,e){const n=Qe(t);return this.context.memoryLimit.use(n.length),e?(e=iR(Qe(e)),n.replace(new RegExp(`^[${e}]+`,"g"),"").replace(new RegExp(`[${e}]+$`,"g"),"")):n.trim()}function qSe(t){const e=Qe(t);return this.context.memoryLimit.use(e.length),e.replace(/\r?\n/gm,"")}function VSe(t){return t=Qe(t),this.context.memoryLimit.use(t.length),t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}function BSe(t,e,n){const r=Qe(t);return this.context.memoryLimit.use(r.length),r.split(Qe(e)).join(n)}function zSe(t,e,n){const r=Qe(t);return this.context.memoryLimit.use(r.length),r.replace(Qe(e),n)}function WSe(t,e,n){const r=Qe(t);this.context.memoryLimit.use(r.length);const i=Qe(e),s=r.lastIndexOf(i);if(s===-1)return r;const o=Qe(n);return r.substring(0,s)+o+r.substring(s+i.length)}function USe(t,e=50,n="..."){const r=Qe(t);return this.context.memoryLimit.use(r.length),r.length<=e?t:r.substring(0,e-n.length)+n}function ZSe(t,e=15,n="..."){const r=Qe(t);this.context.memoryLimit.use(r.length);const i=r.split(/\s+/);e<=0&&(e=1);let s=i.slice(0,e).join(" ");return i.length>=e&&(s+=n),s}function XSe(t){const e=Qe(t);return this.context.memoryLimit.use(e.length),e.replace(/\s+/g," ")}function YSe(t,e){const n=Qe(t);if(this.context.memoryLimit.use(n.length),t=n.trim(),!t)return 0;switch(e){case"cjk":return(t.match(b$)||[]).length+(t.match(TF)||[]).length;case"auto":return b$.test(t)?t.match(b$).length+(t.match(TF)||[]).length:t.split(/\s+/).length;default:return t.split(/\s+/).length}}function GSe(t,e="and"){switch(this.context.memoryLimit.use(t.length),t.length){case 0:return"";case 1:return t[0];case 2:return`${t[0]} ${e} ${t[1]}`;default:return`${t.slice(0,-1).join(", ")}, ${e} ${t[t.length-1]}`}}var HSe=Object.freeze({__proto__:null,append:ESe,prepend:TSe,lstrip:NSe,downcase:ASe,upcase:RSe,remove:MSe,remove_first:ISe,remove_last:DSe,rstrip:QSe,split:FSe,strip:LSe,strip_newlines:qSe,capitalize:VSe,replace:BSe,replace_first:zSe,replace_last:WSe,truncate:USe,truncatewords:ZSe,normalize_whitespace:XSe,number_of_words:YSe,array_to_sentence_string:GSe});const KSe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},f0e),U0e),eSe),_Se),jSe),HSe),x8);class JSe extends yn{constructor(e,n,r){super(e,n,r),this.key=this.tokenizer.readIdentifier().content,this.tokenizer.assert(this.key,"expected variable name"),this.tokenizer.skipBlank(),this.tokenizer.assert(this.tokenizer.peek()==="=",'expected "="'),this.tokenizer.advance(),this.value=new ys(this.tokenizer.readFilteredValue(),this.liquid)}*render(e){e.bottom()[this.key]=yield this.value.value(e,this.liquid.options.lenientIf)}}const NF=["offset","limit","reversed"];class e1e extends yn{constructor(e,n,r,i){super(e,n,r);const s=this.tokenizer.readIdentifier(),o=this.tokenizer.readIdentifier(),a=this.tokenizer.readValue();if(!s.size()||o.content!=="in"||!a)throw new Error(`illegal tag: ${e.getText()}`);this.variable=s.content,this.collection=a,this.hash=new gp(this.tokenizer.remaining(),r.options.keyValueSeparator),this.templates=[],this.elseTemplates=[];let l;const c=i.parseStream(n).on("start",()=>l=this.templates).on("tag:else",u=>{Hv(u.args),l=this.elseTemplates}).on("tag:endfor",u=>{Hv(u.args),c.stop()}).on("template",u=>l.push(u)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});c.start()}*render(e,n){const r=this.liquid.renderer;let i=nR(yield Nn(this.collection,e));if(!i.length){yield r.renderTemplates(this.elseTemplates,e,n);return}const s="continue-"+this.variable+"-"+this.collection.getText();e.push({continue:e.getRegister(s)});const o=yield this.hash.render(e);e.pop(),i=(this.liquid.options.orderedFilterParameters?Object.keys(o).filter(c=>NF.includes(c)):NF.filter(c=>o[c]!==void 0)).reduce((c,u)=>u==="offset"?n1e(c,o.offset):u==="limit"?r1e(c,o.limit):t1e(c),i),e.setRegister(s,(o.offset||0)+i.length);const l={forloop:new sR(i.length,this.collection.getText(),this.variable)};e.push(l);for(const c of i){if(l[this.variable]=c,yield r.renderTemplates(this.templates,e,n),n.break){n.break=!1;break}n.continue=!1,l.forloop.next()}e.pop()}}function t1e(t){return[...t].reverse()}function n1e(t,e){return t.slice(e)}function r1e(t,e){return t.slice(0,e)}class i1e extends yn{constructor(e,n,r,i){for(super(e,n,r),this.templates=[],this.variable=this.readVariableName();n.length;){const s=n.shift();if(qd(s)&&s.name==="endcapture")return;this.templates.push(i.parseToken(s,n))}throw new Error(`tag ${e.getText()} not closed`)}*render(e){const r=yield this.liquid.renderer.renderTemplates(this.templates,e);e.bottom()[this.variable]=r}readVariableName(){const e=this.tokenizer.readIdentifier().content;if(e)return e;const n=this.tokenizer.readQuoted();if(n)return O8(n);throw this.tokenizer.error("invalid capture name")}}class s1e extends yn{constructor(e,n,r,i){super(e,n,r),this.branches=[],this.elseTemplates=[],this.value=new ys(this.tokenizer.readFilteredValue(),this.liquid),this.elseTemplates=[];let s=[],o=0;const a=i.parseStream(n).on("tag:when",l=>{if(o>0)return;s=[];const c=[];for(;!l.tokenizer.end();)c.push(l.tokenizer.readValueOrThrow()),l.tokenizer.skipBlank(),l.tokenizer.peek()===","?l.tokenizer.readTo(","):l.tokenizer.readTo("or");this.branches.push({values:c,templates:s})}).on("tag:else",()=>{o++,s=this.elseTemplates}).on("tag:endcase",()=>a.stop()).on("template",l=>{(s!==this.elseTemplates||o===1)&&s.push(l)}).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});a.start()}*render(e,n){const r=this.liquid.renderer,i=ot(yield this.value.value(e,e.opts.lenientIf));let s=!1;for(const o of this.branches)for(const a of o.values){const l=yield Nn(a,e,e.opts.lenientIf);if(cd(i,l)){yield r.renderTemplates(o.templates,e,n),s=!0;break}}s||(yield r.renderTemplates(this.elseTemplates,e,n))}}class o1e extends yn{constructor(e,n,r){for(super(e,n,r);n.length;){const i=n.shift();if(qd(i)&&i.name==="endcomment")return}throw new Error(`tag ${e.getText()} not closed`)}render(){}}class a1e extends yn{constructor(e,n,r,i){super(e,n,r);const s=this.tokenizer;for(this.file=uR(s,this.liquid,i),this.currentFile=e.file;!s.end();){s.skipBlank();const o=s.p,a=s.readIdentifier();if((a.content==="with"||a.content==="for")&&(s.skipBlank(),s.peek()!==":")){const l=s.readValue();if(l){const c=s.p,u=s.readIdentifier();let d;u.content==="as"?d=s.readIdentifier():s.p=c,this[a.content]={value:l,alias:d&&d.content},s.skipBlank(),s.peek()===","&&s.advance();continue}}s.p=o;break}this.hash=new gp(s.remaining(),r.options.keyValueSeparator)}*render(e,n){const{liquid:r,hash:i}=this,s=yield dR(this.file,e,r);Mr(s,()=>`illegal file path "${s}"`);const o=e.spawn(),a=o.bottom();if(Kv(a,yield i.render(e)),this.with){const{value:l,alias:c}=this.with;a[c||s]=yield Nn(l,e)}if(this.for){const{value:l,alias:c}=this.for,u=nR(yield Nn(l,e));a.forloop=new sR(u.length,l.getText(),c);for(const d of u){a[c]=d;const f=yield r._parsePartialFile(s,o.sync,this.currentFile);yield r.renderer.renderTemplates(f,o,n),a.forloop.next()}}else{const l=yield r._parsePartialFile(s,o.sync,this.currentFile);yield r.renderer.renderTemplates(l,o,n)}}}function uR(t,e,n){if(e.options.dynamicPartials){const s=t.readValue();if(t.assert(s,"illegal file path"),s.getText()==="none")return;if(P0e(s)){const o=n.parse(O8(s));return AF(o)}return s}const r=[...t.readFileNameTemplate(e.options)],i=AF(n.parseTokens(r));return i==="none"?void 0:i}function AF(t){return t.length===1&&lR(t[0].token)?t[0].token.getContent():t}function*dR(t,e,n){return typeof t=="string"?t:Array.isArray(t)?n.renderer.renderTemplates(t,e):yield Nn(t,e)}class l1e extends yn{constructor(e,n,r,i){super(e,n,r);const{tokenizer:s}=e;this.file=uR(s,this.liquid,i),this.currentFile=e.file;const o=s.p;s.readIdentifier().content==="with"?(s.skipBlank(),s.peek()!==":"?this.withVar=s.readValue():s.p=o):s.p=o,this.hash=new gp(s.remaining(),r.options.jekyllInclude||r.options.keyValueSeparator)}*render(e,n){const{liquid:r,hash:i,withVar:s}=this,{renderer:o}=r,a=yield dR(this.file,e,r);Mr(a,()=>`illegal file path "${a}"`);const l=e.saveRegister("blocks","blockMode");e.setRegister("blocks",{}),e.setRegister("blockMode",ud.OUTPUT);const c=yield i.render(e);s&&(c[a]=yield Nn(s,e));const u=yield r._parsePartialFile(a,e.sync,this.currentFile);e.push(e.opts.jekyllInclude?{include:c}:c),yield o.renderTemplates(u,e,n),e.pop(),e.restoreRegister(l)}}class c1e extends yn{constructor(e,n,r){super(e,n,r),this.variable=this.tokenizer.readIdentifier().content}render(e,n){const r=e.environments;rR(r[this.variable])||(r[this.variable]=0),n.write(Qe(--r[this.variable]))}}class u1e extends yn{constructor(e,n,r){super(e,n,r),this.candidates=[];const i=this.tokenizer.readValue();for(this.tokenizer.skipBlank(),i&&(this.tokenizer.peek()===":"?(this.group=i,this.tokenizer.advance()):this.candidates.push(i));!this.tokenizer.end();){const s=this.tokenizer.readValue();s&&this.candidates.push(s),this.tokenizer.readTo(",")}this.tokenizer.assert(this.candidates.length,()=>`empty candidates: "${e.getText()}"`)}*render(e,n){const i=`cycle:${yield Nn(this.group,e)}:`+this.candidates.join(","),s=e.getRegister("cycle");let o=s[i];o===void 0&&(o=s[i]=0);const a=this.candidates[o];return o=(o+1)%this.candidates.length,s[i]=o,yield Nn(a,e)}}class d1e extends yn{constructor(e,n,r,i){super(e,n,r),this.branches=[];let s=[];i.parseStream(n).on("start",()=>this.branches.push({value:new ys(e.args,this.liquid),templates:s=[]})).on("tag:elsif",o=>{Mr(!this.elseTemplates,"unexpected elsif after else"),this.branches.push({value:new ys(o.args,this.liquid),templates:s=[]})}).on("tag:else",o=>{Hv(o.args),Mr(!this.elseTemplates,"duplicated else"),s=this.elseTemplates=[]}).on("tag:endif",function(o){Hv(o.args),this.stop()}).on("template",o=>s.push(o)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)}).start()}*render(e,n){const r=this.liquid.renderer;for(const{value:i,templates:s}of this.branches){const o=yield i.value(e,e.opts.lenientIf);if(qu(o,e)){yield r.renderTemplates(s,e,n);return}}yield r.renderTemplates(this.elseTemplates||[],e,n)}}class f1e extends yn{constructor(e,n,r){super(e,n,r),this.variable=this.tokenizer.readIdentifier().content}render(e,n){const r=e.environments;rR(r[this.variable])||(r[this.variable]=0);const i=r[this.variable];r[this.variable]++,n.write(Qe(i))}}class h1e extends yn{constructor(e,n,r,i){super(e,n,r),this.file=uR(this.tokenizer,this.liquid,i),this.currentFile=e.file,this.args=new gp(this.tokenizer.remaining(),r.options.keyValueSeparator),this.templates=i.parseTokens(n)}*render(e,n){const{liquid:r,args:i,file:s}=this,{renderer:o}=r;if(s===void 0){e.setRegister("blockMode",ud.OUTPUT),yield o.renderTemplates(this.templates,e,n);return}const a=yield dR(this.file,e,r);Mr(a,()=>`illegal file path "${a}"`);const l=yield r._parseLayoutFile(a,e.sync,this.currentFile);e.setRegister("blockMode",ud.STORE);const c=yield o.renderTemplates(this.templates,e),u=e.getRegister("blocks");u[""]===void 0&&(u[""]=(d,f)=>f.write(c)),e.setRegister("blockMode",ud.OUTPUT),e.push(yield i.render(e)),yield o.renderTemplates(l,e,n),e.pop()}}class p1e extends yn{constructor(e,n,r,i){super(e,n,r),this.templates=[];const s=/\w+/.exec(e.args);for(this.block=s?s[0]:"";n.length;){const o=n.shift();if(qd(o)&&o.name==="endblock")return;const a=i.parseToken(o,n);this.templates.push(a)}throw new Error(`tag ${e.getText()} not closed`)}*render(e,n){const r=this.getBlockRender(e);e.getRegister("blockMode")===ud.STORE?e.getRegister("blocks")[this.block]=r:yield r(new gF,n)}getBlockRender(e){const{liquid:n,templates:r}=this,i=e.getRegister("blocks")[this.block],s=function*(o,a){e.push({block:o}),yield n.renderer.renderTemplates(r,e,a),e.pop()};return i?(o,a)=>i(new gF(()=>s(o,a)),a):s}}class m1e extends yn{constructor(e,n,r){for(super(e,n,r),this.tokens=[];n.length;){const i=n.shift();if(qd(i)&&i.name==="endraw")return;this.tokens.push(i)}throw new Error(`tag ${e.getText()} not closed`)}render(){return this.tokens.map(e=>e.getText()).join("")}}class g1e extends sR{constructor(e,n,r,i){super(e,r,i),this.length=e,this.cols=n}row(){return Math.floor(this.i/this.cols)+1}col0(){return this.i%this.cols}col(){return this.col0()+1}col_first(){return this.col0()===0}col_last(){return this.col()===this.cols}}class y1e extends yn{constructor(e,n,r,i){super(e,n,r);const s=this.tokenizer.readIdentifier();this.tokenizer.skipBlank();const o=this.tokenizer.readIdentifier(),a=this.tokenizer.readValue();if(o.content!=="in"||!a)throw new Error(`illegal tag: ${e.getText()}`);this.variable=s.content,this.collection=a,this.args=new gp(this.tokenizer.remaining(),r.options.keyValueSeparator),this.templates=[];let l;const c=i.parseStream(n).on("start",()=>l=this.templates).on("tag:endtablerow",()=>c.stop()).on("template",u=>l.push(u)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});c.start()}*render(e,n){let r=nR(yield Nn(this.collection,e));const i=yield this.args.render(e),s=i.offset||0,o=i.limit===void 0?r.length:i.limit;r=r.slice(s,s+o);const a=i.cols||r.length,l=this.liquid.renderer,c=new g1e(r.length,a,this.collection.getText(),this.variable),u={tablerowloop:c};e.push(u);for(let d=0;d<r.length;d++,c.next())u[this.variable]=r[d],c.col0()===0&&(c.row()!==1&&n.write("</tr>"),n.write(`<tr class="row${c.row()}">`)),n.write(`<td class="col${c.col()}">`),yield l.renderTemplates(this.templates,e,n),n.write("</td>");r.length&&n.write("</tr>"),e.pop()}}class O1e extends yn{constructor(e,n,r,i){super(e,n,r),this.branches=[],this.elseTemplates=[];let s=[],o=0;i.parseStream(n).on("start",()=>this.branches.push({value:new ys(e.args,this.liquid),test:CS,templates:s=[]})).on("tag:elsif",a=>{if(o>0){s=[];return}this.branches.push({value:new ys(a.args,this.liquid),test:qu,templates:s=[]})}).on("tag:else",()=>{o++,s=this.elseTemplates}).on("tag:endunless",function(){this.stop()}).on("template",a=>{(s!==this.elseTemplates||o===1)&&s.push(a)}).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)}).start()}*render(e,n){const r=this.liquid.renderer;for(const{value:i,test:s,templates:o}of this.branches){const a=yield i.value(e,e.opts.lenientIf);if(s(a,e)){yield r.renderTemplates(o,e,n);return}}yield r.renderTemplates(this.elseTemplates,e,n)}}class b1e extends yn{render(e,n){n.break=!0}}class x1e extends yn{render(e,n){n.continue=!0}}class v1e extends yn{constructor(e,n,r){super(e,n,r),this.tokenizer.skipBlank(),this.tokenizer.end()||(this.value=new ys(this.tokenizer.readFilteredValue(),this.liquid))}*render(e,n){if(!this.value)return;const r=yield this.value.value(e,!1);n.write(r)}}class w1e extends yn{constructor(e,n,r,i){super(e,n,r);const s=this.tokenizer.readLiquidTagTokens(this.liquid.options);this.templates=i.parseTokens(s)}*render(e,n){yield this.liquid.renderer.renderTemplates(this.templates,e,n)}}class S1e extends yn{constructor(e,n,r){if(super(e,n,r),e.args.search(/\n\s*[^#\s]/g)!==-1)throw new Error("every line of an inline comment must start with a '#' character")}render(){}}const _1e={assign:JSe,for:e1e,capture:i1e,case:s1e,comment:o1e,include:l1e,render:a1e,decrement:c1e,increment:f1e,cycle:u1e,if:d1e,layout:h1e,block:p1e,raw:m1e,tablerow:y1e,unless:O1e,break:b1e,continue:x1e,echo:v1e,liquid:w1e,"#":S1e};class fR{constructor(e={}){this.renderer=new Lwe,this.filters={},this.tags={},this.options=p0e(e),this.parser=new du(this),fF(_1e,(n,r)=>this.registerTag(r,n)),fF(KSe,(n,r)=>this.registerFilter(r,n))}parse(e,n){return new du(this).parse(e,n)}_render(e,n,r){const i=n instanceof Au?n:new Au(n,this.options,r);return this.renderer.renderTemplates(e,i)}render(e,n,r){return Ws(this,void 0,void 0,function*(){return ec(this._render(e,n,Object.assign(Object.assign({},r),{sync:!1})))})}renderSync(e,n,r){return tc(this._render(e,n,Object.assign(Object.assign({},r),{sync:!0})))}renderToNodeStream(e,n,r={}){const i=new Au(n,this.options,r);return this.renderer.renderTemplatesToNodeStream(e,i)}_parseAndRender(e,n,r){const i=this.parse(e);return this._render(i,n,r)}parseAndRender(e,n,r){return Ws(this,void 0,void 0,function*(){return ec(this._parseAndRender(e,n,Object.assign(Object.assign({},r),{sync:!1})))})}parseAndRenderSync(e,n,r){return tc(this._parseAndRender(e,n,Object.assign(Object.assign({},r),{sync:!0})))}_parsePartialFile(e,n,r){return new du(this).parseFile(e,n,yd.Partials,r)}_parseLayoutFile(e,n,r){return new du(this).parseFile(e,n,yd.Layouts,r)}_parseFile(e,n,r,i){return new du(this).parseFile(e,n,r,i)}parseFile(e,n){return Ws(this,void 0,void 0,function*(){return ec(new du(this).parseFile(e,!1,n))})}parseFileSync(e,n){return tc(new du(this).parseFile(e,!0,n))}*_renderFile(e,n,r){const i=yield this._parseFile(e,r.sync,r.lookupType);return yield this._render(i,n,r)}renderFile(e,n,r){return Ws(this,void 0,void 0,function*(){return ec(this._renderFile(e,n,Object.assign(Object.assign({},r),{sync:!1})))})}renderFileSync(e,n,r){return tc(this._renderFile(e,n,Object.assign(Object.assign({},r),{sync:!0})))}renderFileToNodeStream(e,n,r){return Ws(this,void 0,void 0,function*(){const i=yield this.parseFile(e);return this.renderToNodeStream(i,n,r)})}_evalValue(e,n){const r=new ys(e,this),i=n instanceof Au?n:new Au(n,this.options);return r.value(i)}evalValue(e,n){return Ws(this,void 0,void 0,function*(){return ec(this._evalValue(e,n))})}evalValueSync(e,n){return tc(this._evalValue(e,n))}registerFilter(e,n){this.filters[e]=n}registerTag(e,n){this.tags[e]=qn(n)?n:x0e(n)}plugin(e){return e.call(this,fR)}express(){const e=this;let n=!0;return function(r,i,s){if(n){n=!1;const o=Vx(this.root);e.options.root.unshift(...o),e.options.layouts.unshift(...o),e.options.partials.unshift(...o)}e.renderFile(r,i).then(o=>s(null,o),s)}}}var Bx={exports:{}},$1e=Bx.exports,RF;function k1e(){return RF||(RF=1,function(t,e){(function(n,r){t.exports=r()})($1e,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",m="date",g="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(C){var T=["th","st","nd","rd"],E=C%100;return"["+C+(T[(E-20)%10]||T[E]||T[0])+"]"}},x=function(C,T,E){var I=String(C);return!I||I.length>=T?C:""+Array(T+1-I.length).join(E)+C},v={s:x,z:function(C){var T=-C.utcOffset(),E=Math.abs(T),I=Math.floor(E/60),M=E%60;return(T<=0?"+":"-")+x(I,2,"0")+":"+x(M,2,"0")},m:function C(T,E){if(T.date()<E.date())return-C(E,T);var I=12*(E.year()-T.year())+(E.month()-T.month()),M=T.clone().add(I,d),Q=E-M<0,B=T.clone().add(I+(Q?-1:1),d);return+(-(I+(E-M)/(Q?M-B:B-M))||0)},a:function(C){return C<0?Math.ceil(C)||0:Math.floor(C)},p:function(C){return{M:d,y:h,w:u,d:c,D:m,h:l,m:a,s:o,ms:s,Q:f}[C]||String(C||"").toLowerCase().replace(/s$/,"")},u:function(C){return C===void 0}},w="en",_={};_[w]=b;var $="$isDayjsObject",k=function(C){return C instanceof N||!(!C||!C[$])},j=function C(T,E,I){var M;if(!T)return w;if(typeof T=="string"){var Q=T.toLowerCase();_[Q]&&(M=Q),E&&(_[Q]=E,M=Q);var B=T.split("-");if(!M&&B.length>1)return C(B[0])}else{var Z=T.name;_[Z]=T,M=Z}return!I&&M&&(w=M),M||!I&&w},P=function(C,T){if(k(C))return C.clone();var E=typeof T=="object"?T:{};return E.date=C,E.args=arguments,new N(E)},R=v;R.l=j,R.i=k,R.w=function(C,T){return P(C,{locale:T.$L,utc:T.$u,x:T.$x,$offset:T.$offset})};var N=function(){function C(E){this.$L=j(E.locale,null,!0),this.parse(E),this.$x=this.$x||E.x||{},this[$]=!0}var T=C.prototype;return T.parse=function(E){this.$d=function(I){var M=I.date,Q=I.utc;if(M===null)return new Date(NaN);if(R.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var B=M.match(y);if(B){var Z=B[2]-1||0,W=(B[7]||"0").substring(0,3);return Q?new Date(Date.UTC(B[1],Z,B[3]||1,B[4]||0,B[5]||0,B[6]||0,W)):new Date(B[1],Z,B[3]||1,B[4]||0,B[5]||0,B[6]||0,W)}}return new Date(M)}(E),this.init()},T.init=function(){var E=this.$d;this.$y=E.getFullYear(),this.$M=E.getMonth(),this.$D=E.getDate(),this.$W=E.getDay(),this.$H=E.getHours(),this.$m=E.getMinutes(),this.$s=E.getSeconds(),this.$ms=E.getMilliseconds()},T.$utils=function(){return R},T.isValid=function(){return this.$d.toString()!==g},T.isSame=function(E,I){var M=P(E);return this.startOf(I)<=M&&M<=this.endOf(I)},T.isAfter=function(E,I){return P(E)<this.startOf(I)},T.isBefore=function(E,I){return this.endOf(I)<P(E)},T.$g=function(E,I,M){return R.u(E)?this[I]:this.set(M,E)},T.unix=function(){return Math.floor(this.valueOf()/1e3)},T.valueOf=function(){return this.$d.getTime()},T.startOf=function(E,I){var M=this,Q=!!R.u(I)||I,B=R.p(E),Z=function(L,ae){var q=R.w(M.$u?Date.UTC(M.$y,ae,L):new Date(M.$y,ae,L),M);return Q?q:q.endOf(c)},W=function(L,ae){return R.w(M.toDate()[L].apply(M.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(ae)),M)},oe=this.$W,le=this.$M,U=this.$D,G="set"+(this.$u?"UTC":"");switch(B){case h:return Q?Z(1,0):Z(31,11);case d:return Q?Z(1,le):Z(0,le+1);case u:var ie=this.$locale().weekStart||0,Y=(oe<ie?oe+7:oe)-ie;return Z(Q?U-Y:U+(6-Y),le);case c:case m:return W(G+"Hours",0);case l:return W(G+"Minutes",1);case a:return W(G+"Seconds",2);case o:return W(G+"Milliseconds",3);default:return this.clone()}},T.endOf=function(E){return this.startOf(E,!1)},T.$set=function(E,I){var M,Q=R.p(E),B="set"+(this.$u?"UTC":""),Z=(M={},M[c]=B+"Date",M[m]=B+"Date",M[d]=B+"Month",M[h]=B+"FullYear",M[l]=B+"Hours",M[a]=B+"Minutes",M[o]=B+"Seconds",M[s]=B+"Milliseconds",M)[Q],W=Q===c?this.$D+(I-this.$W):I;if(Q===d||Q===h){var oe=this.clone().set(m,1);oe.$d[Z](W),oe.init(),this.$d=oe.set(m,Math.min(this.$D,oe.daysInMonth())).$d}else Z&&this.$d[Z](W);return this.init(),this},T.set=function(E,I){return this.clone().$set(E,I)},T.get=function(E){return this[R.p(E)]()},T.add=function(E,I){var M,Q=this;E=Number(E);var B=R.p(I),Z=function(le){var U=P(Q);return R.w(U.date(U.date()+Math.round(le*E)),Q)};if(B===d)return this.set(d,this.$M+E);if(B===h)return this.set(h,this.$y+E);if(B===c)return Z(1);if(B===u)return Z(7);var W=(M={},M[a]=r,M[l]=i,M[o]=n,M)[B]||1,oe=this.$d.getTime()+E*W;return R.w(oe,this)},T.subtract=function(E,I){return this.add(-1*E,I)},T.format=function(E){var I=this,M=this.$locale();if(!this.isValid())return M.invalidDate||g;var Q=E||"YYYY-MM-DDTHH:mm:ssZ",B=R.z(this),Z=this.$H,W=this.$m,oe=this.$M,le=M.weekdays,U=M.months,G=M.meridiem,ie=function(ae,q,te,re){return ae&&(ae[q]||ae(I,Q))||te[q].slice(0,re)},Y=function(ae){return R.s(Z%12||12,ae,"0")},L=G||function(ae,q,te){var re=ae<12?"AM":"PM";return te?re.toLowerCase():re};return Q.replace(O,function(ae,q){return q||function(te){switch(te){case"YY":return String(I.$y).slice(-2);case"YYYY":return R.s(I.$y,4,"0");case"M":return oe+1;case"MM":return R.s(oe+1,2,"0");case"MMM":return ie(M.monthsShort,oe,U,3);case"MMMM":return ie(U,oe);case"D":return I.$D;case"DD":return R.s(I.$D,2,"0");case"d":return String(I.$W);case"dd":return ie(M.weekdaysMin,I.$W,le,2);case"ddd":return ie(M.weekdaysShort,I.$W,le,3);case"dddd":return le[I.$W];case"H":return String(Z);case"HH":return R.s(Z,2,"0");case"h":return Y(1);case"hh":return Y(2);case"a":return L(Z,W,!0);case"A":return L(Z,W,!1);case"m":return String(W);case"mm":return R.s(W,2,"0");case"s":return String(I.$s);case"ss":return R.s(I.$s,2,"0");case"SSS":return R.s(I.$ms,3,"0");case"Z":return B}return null}(ae)||B.replace(":","")})},T.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},T.diff=function(E,I,M){var Q,B=this,Z=R.p(I),W=P(E),oe=(W.utcOffset()-this.utcOffset())*r,le=this-W,U=function(){return R.m(B,W)};switch(Z){case h:Q=U()/12;break;case d:Q=U();break;case f:Q=U()/3;break;case u:Q=(le-oe)/6048e5;break;case c:Q=(le-oe)/864e5;break;case l:Q=le/i;break;case a:Q=le/r;break;case o:Q=le/n;break;default:Q=le}return M?Q:R.a(Q)},T.daysInMonth=function(){return this.endOf(d).$D},T.$locale=function(){return _[this.$L]},T.locale=function(E,I){if(!E)return this.$L;var M=this.clone(),Q=j(E,I,!0);return Q&&(M.$L=Q),M},T.clone=function(){return R.w(this.$d,this)},T.toDate=function(){return new Date(this.valueOf())},T.toJSON=function(){return this.isValid()?this.toISOString():null},T.toISOString=function(){return this.$d.toISOString()},T.toString=function(){return this.$d.toUTCString()},C}(),A=N.prototype;return P.prototype=A,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",h],["$D",m]].forEach(function(C){A[C[1]]=function(T){return this.$g(T,C[0],C[1])}}),P.extend=function(C,T){return C.$i||(C(T,N,P),C.$i=!0),P},P.locale=j,P.isDayjs=k,P.unix=function(C){return P(1e3*C)},P.en=_[w],P.Ls=_,P.p={},P})}(Bx)),Bx.exports}var P1e=k1e();const CC=Z0(P1e);var zx={exports:{}},C1e=zx.exports,MF;function j1e(){return MF||(MF=1,function(t,e){(function(n,r){t.exports=r()})(C1e,function(){var n="week",r="year";return function(i,s,o){var a=s.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=o(this).startOf(r).add(1,r).date(c),d=o(this).endOf(n);if(u.isBefore(d))return 1}var f=o(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),h=this.diff(f,n,!0);return h<0?o(this).startOf("week").week():Math.ceil(h)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})}(zx)),zx.exports}var E1e=j1e();const T1e=Z0(E1e);function Jv(t){return typeof t>"u"||t===void 0}function ia(t){return typeof t=="string"}function hR(t){return typeof t=="number"}function k8(t){return typeof t=="boolean"}function P8(t){return t===null}function C8(t){return typeof t=="bigint"}function Vd(t){return typeof t=="function"}function ES(t){return typeof t=="object"&&t!==null}function se(t){return Object.freeze(t)}function _b(t){return Ac(t)?t:[t]}function Ac(t){return Array.isArray(t)}const Di=se({is(t){return t.kind==="IdentifierNode"},create(t){return se({kind:"IdentifierNode",name:t})}}),jC=se({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return se({kind:"SchemableIdentifierNode",identifier:Di.create(t)})},createWithSchema(t,e){return se({kind:"SchemableIdentifierNode",schema:Di.create(t),identifier:Di.create(e)})}}),ru=se({is(t){return t.kind==="AliasNode"},create(t,e){return se({kind:"AliasNode",node:t,alias:e})}}),dd=se({is(t){return t.kind==="TableNode"},create(t){return se({kind:"TableNode",table:jC.create(t)})},createWithSchema(t,e){return se({kind:"TableNode",table:jC.createWithSchema(t,e)})}});function Ps(t){return ES(t)&&Vd(t.toOperationNode)}function N1e(t){return ES(t)&&"expressionType"in t&&Ps(t)}function A1e(t){return ES(t)&&"expression"in t&&ia(t.alias)&&Ps(t)}const Sa=se({is(t){return t.kind==="SelectModifierNode"},create(t,e){return se({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return se({kind:"SelectModifierNode",rawModifier:t})}}),Rc=se({is(t){return t.kind==="AndNode"},create(t,e){return se({kind:"AndNode",left:t,right:e})}}),yp=se({is(t){return t.kind==="OrNode"},create(t,e){return se({kind:"OrNode",left:t,right:e})}}),x$=se({is(t){return t.kind==="OnNode"},create(t){return se({kind:"OnNode",on:t})},cloneWithOperation(t,e,n){return se({...t,on:e==="And"?Rc.create(t.on,n):yp.create(t.on,n)})}}),tg=se({is(t){return t.kind==="JoinNode"},create(t,e){return se({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,n){return se({kind:"JoinNode",joinType:t,table:e,on:x$.create(n)})},cloneWithOn(t,e){return se({...t,on:t.on?x$.cloneWithOperation(t.on,"And",e):x$.create(e)})}}),Ch=se({is(t){return t.kind==="BinaryOperationNode"},create(t,e,n){return se({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:n})}}),R1e=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],M1e=["+","-","*","/","%","^","&","|","#","<<",">>"],j8=["->","->>"],I1e=[...R1e,...M1e,"&&","||"],D1e=["exists","not exists"],Q1e=["not","-",...D1e],F1e=[...I1e,...j8,...Q1e,"between","between symmetric"],Od=se({is(t){return t.kind==="OperatorNode"},create(t){return se({kind:"OperatorNode",operator:t})}});function IF(t){return ia(t)&&j8.includes(t)}const pR=se({is(t){return t.kind==="ColumnNode"},create(t){return se({kind:"ColumnNode",column:Di.create(t)})}}),E8=se({is(t){return t.kind==="SelectAllNode"},create(){return se({kind:"SelectAllNode"})}}),TS=se({is(t){return t.kind==="ReferenceNode"},create(t,e){return se({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return se({kind:"ReferenceNode",table:t,column:E8.create()})}});function T8(t){return ES(t)&&Ps(t)&&ia(t.dynamicReference)}const EC=se({is(t){return t.kind==="OrderByItemNode"},create(t,e){return se({kind:"OrderByItemNode",orderBy:t,direction:e})}}),$i=se({is(t){return t.kind==="RawNode"},create(t,e){return se({kind:"RawNode",sqlFragments:se(t),parameters:se(e)})},createWithSql(t){return $i.create([t],[])},createWithChild(t){return $i.create(["",""],[t])},createWithChildren(t){return $i.create(new Array(t.length+1).fill(""),t)}});function L1e(t){return t==="asc"||t==="desc"}function N8(t){if(t.length===2)return[v$(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(n=>v$(n)):[v$(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function v$(t,e){const n=q1e(t);if(EC.is(n)){if(e)throw new Error("Cannot specify direction twice!");return n}return EC.create(n,A8(e))}function q1e(t){if(MS(t))return RS(t);if(T8(t))return t.toOperationNode();const[e,n]=t.split(" ");if(n){if(!L1e(n))throw new Error(`Invalid order by direction: ${n}`);return EC.create(Mc(e),A8(n))}return Mc(t)}function A8(t){if(t)return t==="asc"||t==="desc"?$i.createWithSql(t):t.toOperationNode()}const ew=se({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return se({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return se({...t,traversal:e})}}),R8=se({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return se({kind:"JSONOperatorChainNode",operator:t,values:se([])})},cloneWithValue(t,e){return se({...t,values:se([...t.values,e])})}}),ng=se({is(t){return t.kind==="JSONPathNode"},create(t){return se({kind:"JSONPathNode",inOperator:t,pathLegs:se([])})},cloneWithLeg(t,e){return se({...t,pathLegs:se([...t.pathLegs,e])})}});function V1e(t){return ia(t)?Mc(t):t.toOperationNode()}function Ag(t){return Ac(t)?t.map(e=>es(e)):[es(t)]}function es(t){return MS(t)?RS(t):V1e(t)}function B1e(t,e){const n=Mc(t);if(IF(e))return ew.create(n,R8.create(Od.create(e)));const r=e.slice(0,-1);if(IF(r))return ew.create(n,ng.create(Od.create(r)));throw new Error(`Invalid JSON operator: ${e}`)}function Mc(t){const e=".";if(!t.includes(e))return TS.create(pR.create(t));const n=t.split(e).map(M8);if(n.length===3)return W1e(n);if(n.length===2)return U1e(n);throw new Error(`invalid column reference ${t}`)}function z1e(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(M8);return ru.create(Mc(n),Di.create(r))}else return Mc(t)}function W1e(t){const[e,n,r]=t;return TS.create(pR.create(r),dd.createWithSchema(e,n))}function U1e(t){const[e,n]=t;return TS.create(pR.create(n),dd.create(e))}function M8(t){return t.trim()}const Z1e=se({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return se({kind:"PrimitiveValueListNode",values:se([...t])})}}),X1e=se({is(t){return t.kind==="ValueListNode"},create(t){return se({kind:"ValueListNode",values:se(t)})}}),Ic=se({is(t){return t.kind==="ValueNode"},create(t){return se({kind:"ValueNode",value:t})},createImmediate(t){return se({kind:"ValueNode",value:t,immediate:!0})}});function Y1e(t){return Ac(t)?G1e(t):Zr(t)}function Zr(t){return MS(t)?RS(t):Ic.create(t)}function mR(t){return hR(t)||k8(t)||P8(t)}function gR(t){if(!mR(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return Ic.createImmediate(t)}function G1e(t){return t.some(MS)?X1e.create(t.map(e=>Zr(e))):Z1e.create(t)}const Rg=se({is(t){return t.kind==="ParensNode"},create(t){return se({kind:"ParensNode",node:t})}});function io(t){if(t.length===3)return yR(t[0],t[1],t[2]);if(t.length===1)return Zr(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function yR(t,e,n){return H1e(e)&&I8(n)?Ch.create(es(t),NC(e),Ic.createImmediate(n)):Ch.create(es(t),NC(e),Y1e(n))}function Mg(t,e,n){return Ch.create(es(t),NC(e),es(n))}function DF(t,e){return TC(Object.entries(t).filter(([,n])=>!Jv(n)).map(([n,r])=>yR(n,I8(r)?"is":"=",r)),e)}function TC(t,e,n=!0){const r=e==="and"?Rc.create:yp.create;if(t.length===0)return Ch.create(Ic.createImmediate(1),Od.create("="),Ic.createImmediate(e==="and"?1:0));let i=QF(t[0]);for(let s=1;s<t.length;++s)i=r(i,QF(t[s]));return t.length>1&&n?Rg.create(i):i}function H1e(t){return t==="is"||t==="is not"}function I8(t){return P8(t)||k8(t)}function NC(t){if(ia(t)&&F1e.includes(t))return Od.create(t);if(Ps(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function QF(t){return Ps(t)?t.toOperationNode():t}const jh=se({is(t){return t.kind==="OrderByNode"},create(t){return se({kind:"OrderByNode",items:se([...t])})},cloneWithItems(t,e){return se({...t,items:se([...t.items,...e])})}}),FF=se({is(t){return t.kind==="PartitionByNode"},create(t){return se({kind:"PartitionByNode",items:se(t)})},cloneWithItems(t,e){return se({...t,items:se([...t.items,...e])})}}),AC=se({is(t){return t.kind==="OverNode"},create(){return se({kind:"OverNode"})},cloneWithOrderByItems(t,e){return se({...t,orderBy:t.orderBy?jh.cloneWithItems(t.orderBy,e):jh.create(e)})},cloneWithPartitionByItems(t,e){return se({...t,partitionBy:t.partitionBy?FF.cloneWithItems(t.partitionBy,e):FF.create(e)})}}),tw=se({is(t){return t.kind==="FromNode"},create(t){return se({kind:"FromNode",froms:se(t)})},cloneWithFroms(t,e){return se({...t,froms:se([...t.froms,...e])})}}),LF=se({is(t){return t.kind==="GroupByNode"},create(t){return se({kind:"GroupByNode",items:se(t)})},cloneWithItems(t,e){return se({...t,items:se([...t.items,...e])})}}),qF=se({is(t){return t.kind==="HavingNode"},create(t){return se({kind:"HavingNode",having:t})},cloneWithOperation(t,e,n){return se({...t,having:e==="And"?Rc.create(t.having,n):yp.create(t.having,n)})}}),Ot=se({is(t){return t.kind==="SelectQueryNode"},create(t){return se({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return se({kind:"SelectQueryNode",from:tw.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return se({...t,selections:t.selections?se([...t.selections,...e]):se(e)})},cloneWithDistinctOn(t,e){return se({...t,distinctOn:t.distinctOn?se([...t.distinctOn,...e]):se(e)})},cloneWithFrontModifier(t,e){return se({...t,frontModifiers:t.frontModifiers?se([...t.frontModifiers,e]):se([e])})},cloneWithEndModifier(t,e){return se({...t,endModifiers:t.endModifiers?se([...t.endModifiers,e]):se([e])})},cloneWithOrderByItems(t,e){return se({...t,orderBy:t.orderBy?jh.cloneWithItems(t.orderBy,e):jh.create(e)})},cloneWithGroupByItems(t,e){return se({...t,groupBy:t.groupBy?LF.cloneWithItems(t.groupBy,e):LF.create(e)})},cloneWithLimit(t,e){return se({...t,limit:e})},cloneWithOffset(t,e){return se({...t,offset:e})},cloneWithFetch(t,e){return se({...t,fetch:e})},cloneWithHaving(t,e){return se({...t,having:t.having?qF.cloneWithOperation(t.having,"And",e):qF.create(e)})},cloneWithSetOperations(t,e){return se({...t,setOperations:t.setOperations?se([...t.setOperations,...e]):se([...e])})},cloneWithoutSelections(t){return se({...t,selections:[]})},cloneWithoutLimit(t){return se({...t,limit:void 0})},cloneWithoutOffset(t){return se({...t,offset:void 0})},cloneWithoutOrderBy(t){return se({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return se({...t,groupBy:void 0})}});function Bd(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}var qs,Cc;let D8=(Cc=class{constructor(e){Pe(this,qs);Se(this,qs,se(e))}on(...e){return new Cc({...V(this,qs),joinNode:tg.cloneWithOn(V(this,qs).joinNode,io(e))})}onRef(e,n,r){return new Cc({...V(this,qs),joinNode:tg.cloneWithOn(V(this,qs).joinNode,Mg(e,n,r))})}onTrue(){return new Cc({...V(this,qs),joinNode:tg.cloneWithOn(V(this,qs).joinNode,$i.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return V(this,qs).joinNode}},qs=new WeakMap,Cc);Bd(D8,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const K1e=se({is(t){return t.kind==="PartitionByItemNode"},create(t){return se({kind:"PartitionByItemNode",partitionBy:t})}});function J1e(t){return Ag(t).map(K1e.create)}var Yu;const F0=class F0{constructor(e){Pe(this,Yu);Se(this,Yu,se(e))}orderBy(e,n){return new F0({overNode:AC.cloneWithOrderByItems(V(this,Yu).overNode,N8([e,n]))})}partitionBy(e){return new F0({overNode:AC.cloneWithPartitionByItems(V(this,Yu).overNode,J1e(e))})}$call(e){return e(this)}toOperationNode(){return V(this,Yu).overNode}};Yu=new WeakMap;let nw=F0;Bd(nw,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const rg=se({is(t){return t.kind==="SelectionNode"},create(t){return se({kind:"SelectionNode",selection:t})},createSelectAll(){return se({kind:"SelectionNode",selection:E8.create()})},createSelectAllFromTable(t){return se({kind:"SelectionNode",selection:TS.createSelectAll(t)})}});function Q8(t){return Vd(t)?Q8(t(AS())):Ac(t)?t.map(e=>VF(e)):[VF(t)]}function VF(t){return ia(t)?rg.create(z1e(t)):T8(t)?rg.create(t.toOperationNode()):rg.create(Z8(t))}function F8(t){return t?Array.isArray(t)?t.map(BF):[BF(t)]:[rg.createSelectAll()]}function BF(t){if(ia(t))return rg.createSelectAllFromTable(Gs(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const e_e=se({is(t){return t.kind==="InsertQueryNode"},create(t,e,n){return se({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:n})},createWithoutInto(){return se({kind:"InsertQueryNode"})},cloneWith(t,e){return se({...t,...e})}}),t_e=se({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return se({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return se({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return se({...t,from:t.from?tw.cloneWithFroms(t.from,e):tw.create(e)})},cloneWithUpdates(t,e){return se({...t,updates:t.updates?se([...t.updates,...e]):e})},cloneWithLimit(t,e){return se({...t,limit:e})}}),zF=se({is(t){return t.kind==="UsingNode"},create(t){return se({kind:"UsingNode",tables:se(t)})},cloneWithTables(t,e){return se({...t,tables:se([...t.tables,...e])})}}),n_e=se({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return se({kind:"DeleteQueryNode",from:tw.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return se({...t,orderBy:t.orderBy?jh.cloneWithItems(t.orderBy,e):jh.create(e)})},cloneWithoutOrderBy(t){return se({...t,orderBy:void 0})},cloneWithLimit(t,e){return se({...t,limit:e})},cloneWithoutLimit(t){return se({...t,limit:void 0})},cloneWithUsing(t,e){return se({...t,using:t.using!==void 0?zF.cloneWithTables(t.using,e):zF.create(e)})}}),Cf=se({is(t){return t.kind==="WhereNode"},create(t){return se({kind:"WhereNode",where:t})},cloneWithOperation(t,e,n){return se({...t,where:e==="And"?Rc.create(t.where,n):yp.create(t.where,n)})}}),WF=se({is(t){return t.kind==="ReturningNode"},create(t){return se({kind:"ReturningNode",selections:se(t)})},cloneWithSelections(t,e){return se({...t,selections:t.selections?se([...t.selections,...e]):se(e)})}}),r_e=se({is(t){return t.kind==="ExplainNode"},create(t,e){return se({kind:"ExplainNode",format:t,options:e})}}),NS=se({is(t){return t.kind==="WhenNode"},create(t){return se({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return se({...t,result:e})}}),i_e=se({is(t){return t.kind==="MergeQueryNode"},create(t,e){return se({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return se({...t,using:e})},cloneWithWhen(t,e){return se({...t,whens:t.whens?se([...t.whens,e]):se([e])})},cloneWithThen(t,e){return se({...t,whens:t.whens?se([...t.whens.slice(0,-1),NS.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),UF=se({is(t){return t.kind==="OutputNode"},create(t){return se({kind:"OutputNode",selections:se(t)})},cloneWithSelections(t,e){return se({...t,selections:t.selections?se([...t.selections,...e]):se(e)})}}),Rs=se({is(t){return Ot.is(t)||e_e.is(t)||t_e.is(t)||n_e.is(t)||i_e.is(t)},cloneWithWhere(t,e){return se({...t,where:t.where?Cf.cloneWithOperation(t.where,"And",e):Cf.create(e)})},cloneWithJoin(t,e){return se({...t,joins:t.joins?se([...t.joins,e]):se([e])})},cloneWithReturning(t,e){return se({...t,returning:t.returning?WF.cloneWithSelections(t.returning,e):WF.create(e)})},cloneWithoutReturning(t){return se({...t,returning:void 0})},cloneWithoutWhere(t){return se({...t,where:void 0})},cloneWithExplain(t,e,n){return se({...t,explain:r_e.create(e,n==null?void 0:n.toOperationNode())})},cloneWithTop(t,e){return se({...t,top:e})},cloneWithOutput(t,e){return se({...t,output:t.output?UF.cloneWithSelections(t.output,e):UF.create(e)})}});class s_e extends Error{constructor(n){super("no result");J(this,"node");this.node=n}}function o_e(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const a_e=se({is(t){return t.kind==="TopNode"},create(t,e){return se({kind:"TopNode",expression:t,modifiers:e})}});function l_e(t,e){if(!hR(t)&&!C8(t))throw new Error(`Invalid top expression: ${t}`);if(!Jv(e)&&!c_e(e))throw new Error(`Invalid top modifiers: ${e}`);return a_e.create(t,e)}function c_e(t){return t==="percent"||t==="with ties"||t==="percent with ties"}const u_e=se({is(t){return t.kind==="LimitNode"},create(t){return se({kind:"LimitNode",limit:t})}}),ZF=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function d_e(t){let e="";for(let n=0;n<t;++n)e+=f_e();return e}function f_e(){return ZF[~~(Math.random()*ZF.length)]}function Ta(){return new h_e}var ah;class h_e{constructor(){Pe(this,ah)}get queryId(){return V(this,ah)===void 0&&Se(this,ah,d_e(8)),V(this,ah)}}ah=new WeakMap;var L0;class p_e{constructor(){J(this,"nodeStack",[]);Pe(this,L0,se({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)}))}transformNode(e){if(!e)return e;this.nodeStack.push(e);const n=this.transformNodeImpl(e);return this.nodeStack.pop(),se(n)}transformNodeImpl(e){return V(this,L0)[e.kind](e)}transformNodeList(e){return e&&se(e.map(n=>this.transformNode(n)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:se([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}L0=new WeakMap;const m_e=se({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});var lh,Gu,Hu,Vn,L8,q8,V8,xf,RC,B8;class g_e extends p_e{constructor(n){super();Pe(this,Vn);Pe(this,lh);Pe(this,Gu,new Set);Pe(this,Hu,new Set);Se(this,lh,n)}transformNodeImpl(n){if(!qe(this,Vn,L8).call(this,n))return super.transformNodeImpl(n);const r=qe(this,Vn,V8).call(this,n);for(const o of r)V(this,Hu).add(o);const i=qe(this,Vn,q8).call(this,n);for(const o of i)V(this,Gu).add(o);const s=super.transformNodeImpl(n);for(const o of i)V(this,Gu).delete(o);for(const o of r)V(this,Hu).delete(o);return s}transformSchemableIdentifier(n){const r=super.transformSchemableIdentifier(n);return r.schema||!V(this,Gu).has(n.identifier.name)?r:{...r,schema:Di.create(V(this,lh))}}transformReferences(n){const r=super.transformReferences(n);return r.table.table.schema?r:{...r,table:dd.createWithSchema(V(this,lh),r.table.table.identifier.name)}}}lh=new WeakMap,Gu=new WeakMap,Hu=new WeakMap,Vn=new WeakSet,L8=function(n){return n.kind in m_e},q8=function(n){const r=new Set;if("name"in n&&n.name&&jC.is(n.name)&&qe(this,Vn,RC).call(this,n.name,r),"from"in n&&n.from)for(const i of n.from.froms)qe(this,Vn,xf).call(this,i,r);if("into"in n&&n.into&&qe(this,Vn,xf).call(this,n.into,r),"table"in n&&n.table&&qe(this,Vn,xf).call(this,n.table,r),"joins"in n&&n.joins)for(const i of n.joins)qe(this,Vn,xf).call(this,i.table,r);return"using"in n&&n.using&&qe(this,Vn,xf).call(this,n.using,r),r},V8=function(n){const r=new Set;return"with"in n&&n.with&&qe(this,Vn,B8).call(this,n.with,r),r},xf=function(n,r){const i=dd.is(n)?n:ru.is(n)&&dd.is(n.node)?n.node:null;i&&qe(this,Vn,RC).call(this,i.table,r)},RC=function(n,r){const i=n.identifier.name;!V(this,Gu).has(i)&&!V(this,Hu).has(i)&&r.add(i)},B8=function(n,r){for(const i of n.expressions){const s=i.name.table.table.identifier.name;V(this,Hu).has(s)||r.add(s)}};var qy;class y_e{constructor(e){Pe(this,qy);Se(this,qy,new g_e(e))}transformQuery(e){return V(this,qy).transformNode(e.node)}async transformResult(e){return e.result}}qy=new WeakMap;var Vy,ch,uh;class XF{constructor(){Pe(this,Vy);Pe(this,ch);Pe(this,uh);J(this,"resolve",e=>{V(this,ch)&&V(this,ch).call(this,e)});J(this,"reject",e=>{V(this,uh)&&V(this,uh).call(this,e)});Se(this,Vy,new Promise((e,n)=>{Se(this,uh,n),Se(this,ch,e)}))}get promise(){return V(this,Vy)}}Vy=new WeakMap,ch=new WeakMap,uh=new WeakMap;const YF=new Set;function O_e(t){YF.has(t)||(YF.add(t),console.log(t))}const b_e=se([]);var Ku,By,MC;class x_e{constructor(e=b_e){Pe(this,By);Pe(this,Ku);Se(this,Ku,e)}get plugins(){return V(this,Ku)}transformQuery(e,n){for(const r of V(this,Ku)){const i=r.transformQuery({node:e,queryId:n});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,n){return await this.provideConnection(async r=>{const i=await r.executeQuery(e),s=await qe(this,By,MC).call(this,i,n);return v_e(i,s),s})}async*stream(e,n,r){const i=new XF,s=new XF;this.provideConnection(async a=>(i.resolve(a),await s.promise)).catch(a=>i.reject(a));const o=await i.promise;try{for await(const a of o.streamQuery(e,n))yield await qe(this,By,MC).call(this,a,r)}finally{s.resolve()}}}Ku=new WeakMap,By=new WeakSet,MC=async function(e,n){for(const r of V(this,Ku))e=await r.transformResult({result:e,queryId:n});return e};function v_e(t,e){const{numAffectedRows:n}=t;n===void 0&&t.numUpdatedOrDeletedRows===void 0||n!==void 0&&e.numAffectedRows!==void 0||O_e("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class jf extends x_e{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new jf([...this.plugins,e])}withPlugins(e){return new jf([...this.plugins,...e])}withPluginAtFront(e){return new jf([e,...this.plugins])}withoutPlugins(){return new jf([])}}const z8=new jf;function w_e(t,e){return new D8({joinNode:tg.create(t,iw(e))})}function S_e(){return new nw({overNode:AC.create()})}function of(t,e){if(e.length===3)return $_e(t,e[0],e[1],e[2]);if(e.length===2)return __e(t,e[0],e[1]);throw new Error("not implemented")}function __e(t,e,n){return n(w_e(t,e)).toOperationNode()}function $_e(t,e,n,r){return tg.createWithOn(t,iw(e),Mg(n,"=",r))}const k_e=se({is(t){return t.kind==="OffsetNode"},create(t){return se({kind:"OffsetNode",offset:t})}}),P_e=se({is(t){return t.kind==="GroupByItemNode"},create(t){return se({kind:"GroupByItemNode",groupBy:t})}});function C_e(t){return t=Vd(t)?t(AS()):t,Ag(t).map(P_e.create)}const j_e=se({is(t){return t.kind==="SetOperationNode"},create(t,e,n){return se({kind:"SetOperationNode",operator:t,expression:e,all:n})}});function af(t,e,n){return Vd(e)&&(e=e(bR())),Ac(e)||(e=[e]),e.map(r=>j_e.create(t,RS(r),n))}var qa;const q0=class q0{constructor(e){Pe(this,qa);Se(this,qa,e)}get expressionType(){}as(e){return new OR(this,e)}or(...e){return new IC(yp.create(V(this,qa),io(e)))}and(...e){return new DC(Rc.create(V(this,qa),io(e)))}$castTo(){return new q0(V(this,qa))}$notNull(){return new q0(V(this,qa))}toOperationNode(){return V(this,qa)}};qa=new WeakMap;let Vt=q0;var dh,lc;class OR{constructor(e,n){Pe(this,dh);Pe(this,lc);Se(this,dh,e),Se(this,lc,n)}get expression(){return V(this,dh)}get alias(){return V(this,lc)}toOperationNode(){return ru.create(V(this,dh).toOperationNode(),Ps(V(this,lc))?V(this,lc).toOperationNode():Di.create(V(this,lc)))}}dh=new WeakMap,lc=new WeakMap;var Ju;const V0=class V0{constructor(e){Pe(this,Ju);Se(this,Ju,e)}get expressionType(){}as(e){return new OR(this,e)}or(...e){return new V0(yp.create(V(this,Ju),io(e)))}$castTo(){return new V0(V(this,Ju))}toOperationNode(){return Rg.create(V(this,Ju))}};Ju=new WeakMap;let IC=V0;var ed;const B0=class B0{constructor(e){Pe(this,ed);Se(this,ed,e)}get expressionType(){}as(e){return new OR(this,e)}and(...e){return new B0(Rc.create(V(this,ed),io(e)))}$castTo(){return new B0(V(this,ed))}toOperationNode(){return Rg.create(V(this,ed))}};ed=new WeakMap;let DC=B0;const E_e={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:Ic.create(t),modifier:e}}};function T_e(t,e){if(!hR(t)&&!C8(t))throw new Error(`Invalid fetch row count: ${t}`);if(!N_e(e))throw new Error(`Invalid fetch modifier: ${e}`);return E_e.create(t,e)}function N_e(t){return t==="only"||t==="with ties"}var xe;const Ge=class Ge{constructor(e){Pe(this,xe);Se(this,xe,se(e))}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new Ge({...V(this,xe),queryNode:Rs.cloneWithWhere(V(this,xe).queryNode,io(e))})}whereRef(e,n,r){return new Ge({...V(this,xe),queryNode:Rs.cloneWithWhere(V(this,xe).queryNode,Mg(e,n,r))})}having(...e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithHaving(V(this,xe).queryNode,io(e))})}havingRef(e,n,r){return new Ge({...V(this,xe),queryNode:Ot.cloneWithHaving(V(this,xe).queryNode,Mg(e,n,r))})}select(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithSelections(V(this,xe).queryNode,Q8(e))})}distinctOn(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithDistinctOn(V(this,xe).queryNode,Ag(e))})}modifyFront(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithFrontModifier(V(this,xe).queryNode,Sa.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithEndModifier(V(this,xe).queryNode,Sa.createWithExpression(e.toOperationNode()))})}distinct(){return new Ge({...V(this,xe),queryNode:Ot.cloneWithFrontModifier(V(this,xe).queryNode,Sa.create("Distinct"))})}forUpdate(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithEndModifier(V(this,xe).queryNode,Sa.create("ForUpdate",e?_b(e).map(Gs):void 0))})}forShare(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithEndModifier(V(this,xe).queryNode,Sa.create("ForShare",e?_b(e).map(Gs):void 0))})}forKeyShare(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithEndModifier(V(this,xe).queryNode,Sa.create("ForKeyShare",e?_b(e).map(Gs):void 0))})}forNoKeyUpdate(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithEndModifier(V(this,xe).queryNode,Sa.create("ForNoKeyUpdate",e?_b(e).map(Gs):void 0))})}skipLocked(){return new Ge({...V(this,xe),queryNode:Ot.cloneWithEndModifier(V(this,xe).queryNode,Sa.create("SkipLocked"))})}noWait(){return new Ge({...V(this,xe),queryNode:Ot.cloneWithEndModifier(V(this,xe).queryNode,Sa.create("NoWait"))})}selectAll(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithSelections(V(this,xe).queryNode,F8(e))})}innerJoin(...e){return new Ge({...V(this,xe),queryNode:Rs.cloneWithJoin(V(this,xe).queryNode,of("InnerJoin",e))})}leftJoin(...e){return new Ge({...V(this,xe),queryNode:Rs.cloneWithJoin(V(this,xe).queryNode,of("LeftJoin",e))})}rightJoin(...e){return new Ge({...V(this,xe),queryNode:Rs.cloneWithJoin(V(this,xe).queryNode,of("RightJoin",e))})}fullJoin(...e){return new Ge({...V(this,xe),queryNode:Rs.cloneWithJoin(V(this,xe).queryNode,of("FullJoin",e))})}innerJoinLateral(...e){return new Ge({...V(this,xe),queryNode:Rs.cloneWithJoin(V(this,xe).queryNode,of("LateralInnerJoin",e))})}leftJoinLateral(...e){return new Ge({...V(this,xe),queryNode:Rs.cloneWithJoin(V(this,xe).queryNode,of("LateralLeftJoin",e))})}orderBy(...e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithOrderByItems(V(this,xe).queryNode,N8(e))})}groupBy(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithGroupByItems(V(this,xe).queryNode,C_e(e))})}limit(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithLimit(V(this,xe).queryNode,u_e.create(Zr(e)))})}offset(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithOffset(V(this,xe).queryNode,k_e.create(Zr(e)))})}fetch(e,n="only"){return new Ge({...V(this,xe),queryNode:Ot.cloneWithFetch(V(this,xe).queryNode,T_e(e,n))})}top(e,n){return new Ge({...V(this,xe),queryNode:Rs.cloneWithTop(V(this,xe).queryNode,l_e(e,n))})}union(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithSetOperations(V(this,xe).queryNode,af("union",e,!1))})}unionAll(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithSetOperations(V(this,xe).queryNode,af("union",e,!0))})}intersect(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithSetOperations(V(this,xe).queryNode,af("intersect",e,!1))})}intersectAll(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithSetOperations(V(this,xe).queryNode,af("intersect",e,!0))})}except(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithSetOperations(V(this,xe).queryNode,af("except",e,!1))})}exceptAll(e){return new Ge({...V(this,xe),queryNode:Ot.cloneWithSetOperations(V(this,xe).queryNode,af("except",e,!0))})}as(e){return new W8(this,e)}clearSelect(){return new Ge({...V(this,xe),queryNode:Ot.cloneWithoutSelections(V(this,xe).queryNode)})}clearWhere(){return new Ge({...V(this,xe),queryNode:Rs.cloneWithoutWhere(V(this,xe).queryNode)})}clearLimit(){return new Ge({...V(this,xe),queryNode:Ot.cloneWithoutLimit(V(this,xe).queryNode)})}clearOffset(){return new Ge({...V(this,xe),queryNode:Ot.cloneWithoutOffset(V(this,xe).queryNode)})}clearOrderBy(){return new Ge({...V(this,xe),queryNode:Ot.cloneWithoutOrderBy(V(this,xe).queryNode)})}clearGroupBy(){return new Ge({...V(this,xe),queryNode:Ot.cloneWithoutGroupBy(V(this,xe).queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new Ge({...V(this,xe)})}$castTo(){return new Ge(V(this,xe))}$narrowType(){return new Ge(V(this,xe))}$assertType(){return new Ge(V(this,xe))}$asTuple(){return new Vt(this.toOperationNode())}withPlugin(e){return new Ge({...V(this,xe),executor:V(this,xe).executor.withPlugin(e)})}toOperationNode(){return V(this,xe).executor.transformQuery(V(this,xe).queryNode,V(this,xe).queryId)}compile(){return V(this,xe).executor.compileQuery(this.toOperationNode(),V(this,xe).queryId)}async execute(){const e=this.compile();return(await V(this,xe).executor.executeQuery(e,V(this,xe).queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=s_e){const n=await this.executeTakeFirst();if(n===void 0)throw o_e(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async*stream(e=100){const n=this.compile(),r=V(this,xe).executor.stream(n,e,V(this,xe).queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Ge({...V(this,xe),queryNode:Rs.cloneWithExplain(V(this,xe).queryNode,e,n)}).execute()}};xe=new WeakMap;let rw=Ge;Bd(rw,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function A_e(t){return new rw(t)}var fh,hh;class W8{constructor(e,n){Pe(this,fh);Pe(this,hh);Se(this,fh,e),Se(this,hh,n)}get expression(){return V(this,fh)}get alias(){return V(this,hh)}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return ru.create(V(this,fh).toOperationNode(),Di.create(V(this,hh)))}}fh=new WeakMap,hh=new WeakMap;Bd(W8,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const Vu=se({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return se({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return se({...t,distinct:!0})},cloneWithFilter(t,e){return se({...t,filter:t.filter?Cf.cloneWithOperation(t.filter,"And",e):Cf.create(e)})},cloneWithOrFilter(t,e){return se({...t,filter:t.filter?Cf.cloneWithOperation(t.filter,"Or",e):Cf.create(e)})},cloneWithOver(t,e){return se({...t,over:e})}}),GF=se({is(t){return t.kind==="FunctionNode"},create(t,e){return se({kind:"FunctionNode",func:t,arguments:e})}});var Vr;const Gl=class Gl{constructor(e){Pe(this,Vr);Se(this,Vr,se(e))}get expressionType(){}as(e){return new R_e(this,e)}distinct(){return new Gl({...V(this,Vr),aggregateFunctionNode:Vu.cloneWithDistinct(V(this,Vr).aggregateFunctionNode)})}filterWhere(...e){return new Gl({...V(this,Vr),aggregateFunctionNode:Vu.cloneWithFilter(V(this,Vr).aggregateFunctionNode,io(e))})}filterWhereRef(e,n,r){return new Gl({...V(this,Vr),aggregateFunctionNode:Vu.cloneWithFilter(V(this,Vr).aggregateFunctionNode,Mg(e,n,r))})}over(e){const n=S_e();return new Gl({...V(this,Vr),aggregateFunctionNode:Vu.cloneWithOver(V(this,Vr).aggregateFunctionNode,(e?e(n):n).toOperationNode())})}$call(e){return e(this)}$castTo(){return new Gl(V(this,Vr))}$notNull(){return new Gl(V(this,Vr))}toOperationNode(){return V(this,Vr).aggregateFunctionNode}};Vr=new WeakMap;let Bf=Gl;Bd(Bf,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");var ph,mh;class R_e{constructor(e,n){Pe(this,ph);Pe(this,mh);Se(this,ph,e),Se(this,mh,n)}get expression(){return V(this,ph)}get alias(){return V(this,mh)}toOperationNode(){return ru.create(V(this,ph).toOperationNode(),Di.create(V(this,mh)))}}ph=new WeakMap,mh=new WeakMap;function M_e(){const t=(n,r)=>new Vt(GF.create(n,Ag(r??[]))),e=(n,r)=>new Bf({aggregateFunctionNode:Vu.create(n,r?Ag(r):void 0)});return Object.assign(t,{agg:e,avg(n){return e("avg",[n])},coalesce(...n){return t("coalesce",n)},count(n){return e("count",[n])},countAll(n){return new Bf({aggregateFunctionNode:Vu.create("count",F8(n))})},max(n){return e("max",[n])},min(n){return e("min",[n])},sum(n){return e("sum",[n])},any(n){return t("any",[n])},jsonAgg(n){return new Bf({aggregateFunctionNode:Vu.create("json_agg",[ia(n)?Gs(n):n.toOperationNode()])})},toJson(n){return new Vt(GF.create("to_json",[ia(n)?Gs(n):n.toOperationNode()]))}})}const I_e=se({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return se({kind:"UnaryOperationNode",operator:t,operand:e})}});function D_e(t,e){return I_e.create(Od.create(t),es(e))}const Ga=se({is(t){return t.kind==="CaseNode"},create(t){return se({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return se({...t,when:se(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return se({...t,when:t.when?se([...t.when.slice(0,-1),NS.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return se({...t,...e})}});var gh;class Q_e{constructor(e){Pe(this,gh);Se(this,gh,se(e))}when(...e){return new U8({...V(this,gh),node:Ga.cloneWithWhen(V(this,gh).node,NS.create(io(e)))})}}gh=new WeakMap;var yh;class U8{constructor(e){Pe(this,yh);Se(this,yh,se(e))}then(e){return new F_e({...V(this,yh),node:Ga.cloneWithThen(V(this,yh).node,mR(e)?gR(e):Zr(e))})}}yh=new WeakMap;var Io;class F_e{constructor(e){Pe(this,Io);Se(this,Io,se(e))}when(...e){return new U8({...V(this,Io),node:Ga.cloneWithWhen(V(this,Io).node,NS.create(io(e)))})}else(e){return new L_e({...V(this,Io),node:Ga.cloneWith(V(this,Io).node,{else:mR(e)?gR(e):Zr(e)})})}end(){return new Vt(Ga.cloneWith(V(this,Io).node,{isStatement:!1}))}endCase(){return new Vt(Ga.cloneWith(V(this,Io).node,{isStatement:!0}))}}Io=new WeakMap;var Oh;class L_e{constructor(e){Pe(this,Oh);Se(this,Oh,se(e))}end(){return new Vt(Ga.cloneWith(V(this,Oh).node,{isStatement:!1}))}endCase(){return new Vt(Ga.cloneWith(V(this,Oh).node,{isStatement:!0}))}}Oh=new WeakMap;const HF=se({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return se({kind:"JSONPathLegNode",type:t,value:e})}});var Do,zy,QC;class ig{constructor(e){Pe(this,zy);Pe(this,Do);Se(this,Do,e)}at(e){return qe(this,zy,QC).call(this,"ArrayLocation",e)}key(e){return qe(this,zy,QC).call(this,"Member",e)}}Do=new WeakMap,zy=new WeakSet,QC=function(e,n){return ew.is(V(this,Do))?new KF(ew.cloneWithTraversal(V(this,Do),ng.is(V(this,Do).traversal)?ng.cloneWithLeg(V(this,Do).traversal,HF.create(e,n)):R8.cloneWithValue(V(this,Do).traversal,Ic.createImmediate(n)))):new KF(ng.cloneWithLeg(V(this,Do),HF.create(e,n)))};var td;class KF extends ig{constructor(n){super(n);Pe(this,td);Se(this,td,n)}get expressionType(){}as(n){return new q_e(this,n)}$castTo(){return new ig(V(this,td))}$notNull(){return new ig(V(this,td))}toOperationNode(){return V(this,td)}}td=new WeakMap;var bh,cc;class q_e{constructor(e,n){Pe(this,bh);Pe(this,cc);Se(this,bh,e),Se(this,cc,n)}get expression(){return V(this,bh)}get alias(){return V(this,cc)}toOperationNode(){return ru.create(V(this,bh).toOperationNode(),Ps(V(this,cc))?V(this,cc).toOperationNode():Di.create(V(this,cc)))}}bh=new WeakMap,cc=new WeakMap;const JF=se({is(t){return t.kind==="TupleNode"},create(t){return se({kind:"TupleNode",values:se(t)})}}),V_e=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary"],B_e=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],z_e=se({is(t){return t.kind==="DataTypeNode"},create(t){return se({kind:"DataTypeNode",dataType:t})}});function W_e(t){return!!(V_e.includes(t)||B_e.some(e=>e.test(t)))}function U_e(t){if(Ps(t))return t.toOperationNode();if(W_e(t))return z_e.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const Z_e=se({is(t){return t.kind==="CastNode"},create(t,e){return se({kind:"CastNode",expression:t,dataType:e})}});function bR(t=z8){function e(i,s,o){return new Vt(yR(i,s,o))}function n(i,s){return new Vt(D_e(i,s))}const r=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(i){return A_e({queryId:Ta(),executor:t,queryNode:Ot.createFrom(X_e(i))})},case(i){return new Q_e({node:Ga.create(Jv(i)?void 0:es(i))})},ref(i,s){return Jv(s)?new Vt(Mc(i)):new ig(B1e(i,s))},jsonPath(){return new ig(ng.create())},table(i){return new Vt(Gs(i))},val(i){return new Vt(Zr(i))},refTuple(...i){return new Vt(JF.create(i.map(es)))},tuple(...i){return new Vt(JF.create(i.map(Zr)))},lit(i){return new Vt(gR(i))},unary:n,not(i){return n("not",i)},exists(i){return n("exists",i)},neg(i){return n("-",i)},between(i,s,o){return new Vt(Ch.create(es(i),Od.create("between"),Rc.create(Zr(s),Zr(o))))},betweenSymmetric(i,s,o){return new Vt(Ch.create(es(i),Od.create("between symmetric"),Rc.create(Zr(s),Zr(o))))},and(i){return Ac(i)?new Vt(TC(i,"and")):new Vt(DF(i,"and"))},or(i){return Ac(i)?new Vt(TC(i,"or")):new Vt(DF(i,"or"))},parens(...i){const s=io(i);return Rg.is(s)?new Vt(s):new Vt(Rg.create(s))},cast(i,s){return new Vt(Z_e.create(es(i),U_e(s)))},withSchema(i){return bR(t.withPluginAtFront(new y_e(i)))}});return r.fn=M_e(),r.eb=r,r}function AS(t){return bR()}function RS(t){if(Ps(t))return t.toOperationNode();if(Vd(t))return t(AS()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function Z8(t){if(Ps(t))return t.toOperationNode();if(Vd(t))return t(AS()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function MS(t){return N1e(t)||A1e(t)||Vd(t)}function X_e(t){return Ac(t)?t.map(e=>iw(e)):[iw(t)]}function iw(t){return ia(t)?Y_e(t):Z8(t)}function Y_e(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(X8);return ru.create(Gs(n),Di.create(r))}else return Gs(t)}function Gs(t){const e=".";if(t.includes(e)){const[n,r]=t.split(e).map(X8);return dd.createWithSchema(n,r)}else return dd.create(t)}function X8(t){return t.trim()}var Br,ds,Wx,FC,LC;const Sg=class Sg{constructor(e){Pe(this,ds);Pe(this,Br);Se(this,Br,se(e))}get expressionType(){}get isRawBuilder(){return!0}as(e){return new Y8(this,e)}$castTo(){return new Sg({...V(this,Br)})}$notNull(){return new Sg(V(this,Br))}withPlugin(e){return new Sg({...V(this,Br),plugins:V(this,Br).plugins!==void 0?se([...V(this,Br).plugins,e]):se([e])})}toOperationNode(){return qe(this,ds,FC).call(this,qe(this,ds,Wx).call(this))}compile(e){return qe(this,ds,LC).call(this,qe(this,ds,Wx).call(this,e))}async execute(e){const n=qe(this,ds,Wx).call(this,e);return n.executeQuery(qe(this,ds,LC).call(this,n),V(this,Br).queryId)}};Br=new WeakMap,ds=new WeakSet,Wx=function(e){const n=e!==void 0?e.getExecutor():z8;return V(this,Br).plugins!==void 0?n.withPlugins(V(this,Br).plugins):n},FC=function(e){return e.transformQuery(V(this,Br).rawNode,V(this,Br).queryId)},LC=function(e){return e.compileQuery(qe(this,ds,FC).call(this,e),V(this,Br).queryId)};let sw=Sg;function Ql(t){return new sw(t)}Bd(sw,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");var nd,uc;class Y8{constructor(e,n){Pe(this,nd);Pe(this,uc);Se(this,nd,e),Se(this,uc,n)}get expression(){return V(this,nd)}get alias(){return V(this,uc)}get rawBuilder(){return V(this,nd)}toOperationNode(){return ru.create(V(this,nd).toOperationNode(),Ps(V(this,uc))?V(this,uc).toOperationNode():Di.create(V(this,uc)))}}nd=new WeakMap,uc=new WeakMap;Bd(Y8,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const Ig=Object.assign((t,...e)=>Ql({queryId:Ta(),rawNode:$i.create(t,(e==null?void 0:e.map(e5))??[])}),{ref(t){return Ql({queryId:Ta(),rawNode:$i.createWithChild(Mc(t))})},val(t){return Ql({queryId:Ta(),rawNode:$i.createWithChild(Zr(t))})},value(t){return this.val(t)},table(t){return Ql({queryId:Ta(),rawNode:$i.createWithChild(Gs(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",Ql({queryId:Ta(),rawNode:$i.create(e,t.map(Di.create))})},lit(t){return Ql({queryId:Ta(),rawNode:$i.createWithChild(Ic.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return Ql({queryId:Ta(),rawNode:$i.createWithSql(t)})},join(t,e=Ig`, `){const n=new Array(2*t.length-1),r=e.toOperationNode();for(let i=0;i<t.length;++i)n[2*i]=e5(t[i]),i!==t.length-1&&(n[2*i+1]=r);return Ql({queryId:Ta(),rawNode:$i.createWithChildren(n)})}});function e5(t){return Ps(t)?t.toOperationNode():Zr(t)}function sg(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!sg(t[i],e[i]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const o of r)if(!sg(t[o],e[o]))return!1;return!0}return t===e}function Qs(t){return encodeURI(G_e(t))}function G_e(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}const H_e={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},K_e={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},J_e={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let e$e=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function Bu(t,e=Object.create(null),n=e$e,r=""){if(t&&typeof t=="object"&&!Array.isArray(t)){const s=t.$id||t.id;if(s){const o=new URL(s,n.href);o.hash.length>1?e[o.href]=t:(o.hash="",r===""?n=o:Bu(t,e,n))}}else if(t!==!0&&t!==!1)return e;const i=n.href+(r?"#"+r:"");if(e[i]!==void 0)throw new Error(`Duplicate schema URI "${i}".`);if(e[i]=t,t===!0||t===!1)return e;if(t.__absolute_uri__===void 0&&Object.defineProperty(t,"__absolute_uri__",{enumerable:!1,value:i}),t.$ref&&t.__absolute_ref__===void 0){const s=new URL(t.$ref,n.href);s.hash=s.hash,Object.defineProperty(t,"__absolute_ref__",{enumerable:!1,value:s.href})}if(t.$recursiveRef&&t.__absolute_recursive_ref__===void 0){const s=new URL(t.$recursiveRef,n.href);s.hash=s.hash,Object.defineProperty(t,"__absolute_recursive_ref__",{enumerable:!1,value:s.href})}if(t.$anchor){const s=new URL("#"+t.$anchor,n.href);e[s.href]=t}for(let s in t){if(J_e[s])continue;const o=`${r}/${Qs(s)}`,a=t[s];if(Array.isArray(a)){if(H_e[s]){const l=a.length;for(let c=0;c<l;c++)Bu(a[c],e,n,`${o}/${c}`)}}else if(K_e[s])for(let l in a)Bu(a[l],e,n,`${o}/${Qs(l)}`);else Bu(a,e,n,o)}return e}const t$e=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,n$e=[0,31,28,31,30,31,30,31,31,30,31,30,31],r$e=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,i$e=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,s$e=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,o$e=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,a$e=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,l$e=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,c$e=/^(?:\/(?:[^~/]|~0|~1)*)*$/,u$e=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,d$e=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,f$e=/^\d\d\d\d-[0-1]\d-[0-3]\d$/,h$e=/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,p$e=/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m$e=/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,g$e=t=>{if(t[0]==='"')return!1;const[e,n,...r]=t.split("@");return!e||!n||r.length!==0||e.length>64||n.length>253||e[0]==="."||e.endsWith(".")||e.includes("..")||!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(e)?!1:n.split(".").every(i=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(i))},y$e=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,O$e=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,b$e=t=>t.length>1&&t.length<80&&(/^P\d+([.,]\d+)?W$/.test(t)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(t)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(t));function ii(t){return t.test.bind(t)}const x$e={date:G8,time:H8.bind(void 0,!1),"date-time":S$e,duration:b$e,uri:k$e,"uri-reference":ii(s$e),"uri-template":ii(o$e),url:ii(a$e),email:g$e,hostname:ii(i$e),ipv4:ii(y$e),ipv6:ii(O$e),regex:C$e,uuid:ii(l$e),"json-pointer":ii(c$e),"json-pointer-uri-fragment":ii(u$e),"relative-json-pointer":ii(d$e)},t5={...x$e,date:ii(f$e),time:ii(h$e),"date-time":ii(p$e),"uri-reference":ii(m$e)};function v$e(t){return t%4===0&&(t%100!==0||t%400===0)}function G8(t){const e=t.match(t$e);if(!e)return!1;const n=+e[1],r=+e[2],i=+e[3];return r>=1&&r<=12&&i>=1&&i<=(r==2&&v$e(n)?29:n$e[r])}function H8(t,e){const n=e.match(r$e);if(!n)return!1;const r=+n[1],i=+n[2],s=+n[3],o=!!n[5];return(r<=23&&i<=59&&s<=59||r==23&&i==59&&s==60)&&(!t||o)}const w$e=/t|\s/i;function S$e(t){const e=t.split(w$e);return e.length==2&&G8(e[0])&&H8(!0,e[1])}const _$e=/\/|:/,$$e=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function k$e(t){return _$e.test(t)&&$$e.test(t)}const P$e=/[^\\]\\Z/;function C$e(t){if(P$e.test(t))return!1;try{return new RegExp(t,"u"),!0}catch{return!1}}function j$e(t){let e=0,n=t.length,r=0,i;for(;r<n;)e++,i=t.charCodeAt(r++),i>=55296&&i<=56319&&r<n&&(i=t.charCodeAt(r),(i&64512)==56320&&r++);return e}function sn(t,e,n="2019-09",r=Bu(e),i=!0,s=null,o="#",a="#",l=Object.create(null)){if(e===!0)return{valid:!0,errors:[]};if(e===!1)return{valid:!1,errors:[{instanceLocation:o,keyword:"false",keywordLocation:o,error:"False boolean schema."}]};const c=typeof t;let u;switch(c){case"boolean":case"number":case"string":u=c;break;case"object":t===null?u="null":Array.isArray(t)?u="array":u="object";break;default:throw new Error(`Instances of "${c}" type are not supported.`)}const{$ref:d,$recursiveRef:f,$recursiveAnchor:h,type:m,const:g,enum:y,required:O,not:b,anyOf:x,allOf:v,oneOf:w,if:_,then:$,else:k,format:j,properties:P,patternProperties:R,additionalProperties:N,unevaluatedProperties:A,minProperties:C,maxProperties:T,propertyNames:E,dependentRequired:I,dependentSchemas:M,dependencies:Q,prefixItems:B,items:Z,additionalItems:W,unevaluatedItems:oe,contains:le,minContains:U,maxContains:G,minItems:ie,maxItems:Y,uniqueItems:L,minimum:ae,maximum:q,exclusiveMinimum:te,exclusiveMaximum:re,multipleOf:ue,minLength:fe,maxLength:Ee,pattern:pe,__absolute_ref__:z,__absolute_recursive_ref__:ee}=e,K=[];if(h===!0&&s===null&&(s=e),f==="#"){const de=s===null?r[ee]:s,ne=`${a}/$recursiveRef`,ce=sn(t,s===null?e:s,n,r,i,de,o,ne,l);ce.valid||K.push({instanceLocation:o,keyword:"$recursiveRef",keywordLocation:ne,error:"A subschema had errors."},...ce.errors)}if(d!==void 0){const ne=r[z||d];if(ne===void 0){let ge=`Unresolved $ref "${d}".`;throw z&&z!==d&&(ge+=`  Absolute URI "${z}".`),ge+=`
Known schemas:
- ${Object.keys(r).join(`
- `)}`,new Error(ge)}const ce=`${a}/$ref`,he=sn(t,ne,n,r,i,s,o,ce,l);if(he.valid||K.push({instanceLocation:o,keyword:"$ref",keywordLocation:ce,error:"A subschema had errors."},...he.errors),n==="4"||n==="7")return{valid:K.length===0,errors:K}}if(Array.isArray(m)){let de=m.length,ne=!1;for(let ce=0;ce<de;ce++)if(u===m[ce]||m[ce]==="integer"&&u==="number"&&t%1===0&&t===t){ne=!0;break}ne||K.push({instanceLocation:o,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${u}" is invalid. Expected "${m.join('", "')}".`})}else m==="integer"?(u!=="number"||t%1||t!==t)&&K.push({instanceLocation:o,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${u}" is invalid. Expected "${m}".`}):m!==void 0&&u!==m&&K.push({instanceLocation:o,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${u}" is invalid. Expected "${m}".`});if(g!==void 0&&(u==="object"||u==="array"?sg(t,g)||K.push({instanceLocation:o,keyword:"const",keywordLocation:`${a}/const`,error:`Instance does not match ${JSON.stringify(g)}.`}):t!==g&&K.push({instanceLocation:o,keyword:"const",keywordLocation:`${a}/const`,error:`Instance does not match ${JSON.stringify(g)}.`})),y!==void 0&&(u==="object"||u==="array"?y.some(de=>sg(t,de))||K.push({instanceLocation:o,keyword:"enum",keywordLocation:`${a}/enum`,error:`Instance does not match any of ${JSON.stringify(y)}.`}):y.some(de=>t===de)||K.push({instanceLocation:o,keyword:"enum",keywordLocation:`${a}/enum`,error:`Instance does not match any of ${JSON.stringify(y)}.`})),b!==void 0){const de=`${a}/not`;sn(t,b,n,r,i,s,o,de).valid&&K.push({instanceLocation:o,keyword:"not",keywordLocation:de,error:'Instance matched "not" schema.'})}let me=[];if(x!==void 0){const de=`${a}/anyOf`,ne=K.length;let ce=!1;for(let he=0;he<x.length;he++){const ge=x[he],be=Object.create(l),$e=sn(t,ge,n,r,i,h===!0?s:null,o,`${de}/${he}`,be);K.push(...$e.errors),ce=ce||$e.valid,$e.valid&&me.push(be)}ce?K.length=ne:K.splice(ne,0,{instanceLocation:o,keyword:"anyOf",keywordLocation:de,error:"Instance does not match any subschemas."})}if(v!==void 0){const de=`${a}/allOf`,ne=K.length;let ce=!0;for(let he=0;he<v.length;he++){const ge=v[he],be=Object.create(l),$e=sn(t,ge,n,r,i,h===!0?s:null,o,`${de}/${he}`,be);K.push(...$e.errors),ce=ce&&$e.valid,$e.valid&&me.push(be)}ce?K.length=ne:K.splice(ne,0,{instanceLocation:o,keyword:"allOf",keywordLocation:de,error:"Instance does not match every subschema."})}if(w!==void 0){const de=`${a}/oneOf`,ne=K.length,ce=w.filter((he,ge)=>{const be=Object.create(l),$e=sn(t,he,n,r,i,h===!0?s:null,o,`${de}/${ge}`,be);return K.push(...$e.errors),$e.valid&&me.push(be),$e.valid}).length;ce===1?K.length=ne:K.splice(ne,0,{instanceLocation:o,keyword:"oneOf",keywordLocation:de,error:`Instance does not match exactly one subschema (${ce} matches).`})}if((u==="object"||u==="array")&&Object.assign(l,...me),_!==void 0){const de=`${a}/if`;if(sn(t,_,n,r,i,s,o,de,l).valid){if($!==void 0){const ce=sn(t,$,n,r,i,s,o,`${a}/then`,l);ce.valid||K.push({instanceLocation:o,keyword:"if",keywordLocation:de,error:'Instance does not match "then" schema.'},...ce.errors)}}else if(k!==void 0){const ce=sn(t,k,n,r,i,s,o,`${a}/else`,l);ce.valid||K.push({instanceLocation:o,keyword:"if",keywordLocation:de,error:'Instance does not match "else" schema.'},...ce.errors)}}if(u==="object"){if(O!==void 0)for(const he of O)he in t||K.push({instanceLocation:o,keyword:"required",keywordLocation:`${a}/required`,error:`Instance does not have required property "${he}".`});const de=Object.keys(t);if(C!==void 0&&de.length<C&&K.push({instanceLocation:o,keyword:"minProperties",keywordLocation:`${a}/minProperties`,error:`Instance does not have at least ${C} properties.`}),T!==void 0&&de.length>T&&K.push({instanceLocation:o,keyword:"maxProperties",keywordLocation:`${a}/maxProperties`,error:`Instance does not have at least ${T} properties.`}),E!==void 0){const he=`${a}/propertyNames`;for(const ge in t){const be=`${o}/${Qs(ge)}`,$e=sn(ge,E,n,r,i,s,be,he);$e.valid||K.push({instanceLocation:o,keyword:"propertyNames",keywordLocation:he,error:`Property name "${ge}" does not match schema.`},...$e.errors)}}if(I!==void 0){const he=`${a}/dependantRequired`;for(const ge in I)if(ge in t){const be=I[ge];for(const $e of be)$e in t||K.push({instanceLocation:o,keyword:"dependentRequired",keywordLocation:he,error:`Instance has "${ge}" but does not have "${$e}".`})}}if(M!==void 0)for(const he in M){const ge=`${a}/dependentSchemas`;if(he in t){const be=sn(t,M[he],n,r,i,s,o,`${ge}/${Qs(he)}`,l);be.valid||K.push({instanceLocation:o,keyword:"dependentSchemas",keywordLocation:ge,error:`Instance has "${he}" but does not match dependant schema.`},...be.errors)}}if(Q!==void 0){const he=`${a}/dependencies`;for(const ge in Q)if(ge in t){const be=Q[ge];if(Array.isArray(be))for(const $e of be)$e in t||K.push({instanceLocation:o,keyword:"dependencies",keywordLocation:he,error:`Instance has "${ge}" but does not have "${$e}".`});else{const $e=sn(t,be,n,r,i,s,o,`${he}/${Qs(ge)}`);$e.valid||K.push({instanceLocation:o,keyword:"dependencies",keywordLocation:he,error:`Instance has "${ge}" but does not match dependant schema.`},...$e.errors)}}}const ne=Object.create(null);let ce=!1;if(P!==void 0){const he=`${a}/properties`;for(const ge in P){if(!(ge in t))continue;const be=`${o}/${Qs(ge)}`,$e=sn(t[ge],P[ge],n,r,i,s,be,`${he}/${Qs(ge)}`);if($e.valid)l[ge]=ne[ge]=!0;else if(ce=i,K.push({instanceLocation:o,keyword:"properties",keywordLocation:he,error:`Property "${ge}" does not match schema.`},...$e.errors),ce)break}}if(!ce&&R!==void 0){const he=`${a}/patternProperties`;for(const ge in R){const be=new RegExp(ge,"u"),$e=R[ge];for(const Ye in t){if(!be.test(Ye))continue;const Tt=`${o}/${Qs(Ye)}`,Oi=sn(t[Ye],$e,n,r,i,s,Tt,`${he}/${Qs(ge)}`);Oi.valid?l[Ye]=ne[Ye]=!0:(ce=i,K.push({instanceLocation:o,keyword:"patternProperties",keywordLocation:he,error:`Property "${Ye}" matches pattern "${ge}" but does not match associated schema.`},...Oi.errors))}}}if(!ce&&N!==void 0){const he=`${a}/additionalProperties`;for(const ge in t){if(ne[ge])continue;const be=`${o}/${Qs(ge)}`,$e=sn(t[ge],N,n,r,i,s,be,he);$e.valid?l[ge]=!0:(ce=i,K.push({instanceLocation:o,keyword:"additionalProperties",keywordLocation:he,error:`Property "${ge}" does not match additional properties schema.`},...$e.errors))}}else if(!ce&&A!==void 0){const he=`${a}/unevaluatedProperties`;for(const ge in t)if(!l[ge]){const be=`${o}/${Qs(ge)}`,$e=sn(t[ge],A,n,r,i,s,be,he);$e.valid?l[ge]=!0:K.push({instanceLocation:o,keyword:"unevaluatedProperties",keywordLocation:he,error:`Property "${ge}" does not match unevaluated properties schema.`},...$e.errors)}}}else if(u==="array"){Y!==void 0&&t.length>Y&&K.push({instanceLocation:o,keyword:"maxItems",keywordLocation:`${a}/maxItems`,error:`Array has too many items (${t.length} > ${Y}).`}),ie!==void 0&&t.length<ie&&K.push({instanceLocation:o,keyword:"minItems",keywordLocation:`${a}/minItems`,error:`Array has too few items (${t.length} < ${ie}).`});const de=t.length;let ne=0,ce=!1;if(B!==void 0){const he=`${a}/prefixItems`,ge=Math.min(B.length,de);for(;ne<ge;ne++){const be=sn(t[ne],B[ne],n,r,i,s,`${o}/${ne}`,`${he}/${ne}`);if(l[ne]=!0,!be.valid&&(ce=i,K.push({instanceLocation:o,keyword:"prefixItems",keywordLocation:he,error:"Items did not match schema."},...be.errors),ce))break}}if(Z!==void 0){const he=`${a}/items`;if(Array.isArray(Z)){const ge=Math.min(Z.length,de);for(;ne<ge;ne++){const be=sn(t[ne],Z[ne],n,r,i,s,`${o}/${ne}`,`${he}/${ne}`);if(l[ne]=!0,!be.valid&&(ce=i,K.push({instanceLocation:o,keyword:"items",keywordLocation:he,error:"Items did not match schema."},...be.errors),ce))break}}else for(;ne<de;ne++){const ge=sn(t[ne],Z,n,r,i,s,`${o}/${ne}`,he);if(l[ne]=!0,!ge.valid&&(ce=i,K.push({instanceLocation:o,keyword:"items",keywordLocation:he,error:"Items did not match schema."},...ge.errors),ce))break}if(!ce&&W!==void 0){const ge=`${a}/additionalItems`;for(;ne<de;ne++){const be=sn(t[ne],W,n,r,i,s,`${o}/${ne}`,ge);l[ne]=!0,be.valid||(ce=i,K.push({instanceLocation:o,keyword:"additionalItems",keywordLocation:ge,error:"Items did not match additional items schema."},...be.errors))}}}if(le!==void 0)if(de===0&&U===void 0)K.push({instanceLocation:o,keyword:"contains",keywordLocation:`${a}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(U!==void 0&&de<U)K.push({instanceLocation:o,keyword:"minContains",keywordLocation:`${a}/minContains`,error:`Array has less items (${de}) than minContains (${U}).`});else{const he=`${a}/contains`,ge=K.length;let be=0;for(let $e=0;$e<de;$e++){const Ye=sn(t[$e],le,n,r,i,s,`${o}/${$e}`,he);Ye.valid?(l[$e]=!0,be++):K.push(...Ye.errors)}be>=(U||0)&&(K.length=ge),U===void 0&&G===void 0&&be===0?K.splice(ge,0,{instanceLocation:o,keyword:"contains",keywordLocation:he,error:"Array does not contain item matching schema."}):U!==void 0&&be<U?K.push({instanceLocation:o,keyword:"minContains",keywordLocation:`${a}/minContains`,error:`Array must contain at least ${U} items matching schema. Only ${be} items were found.`}):G!==void 0&&be>G&&K.push({instanceLocation:o,keyword:"maxContains",keywordLocation:`${a}/maxContains`,error:`Array may contain at most ${G} items matching schema. ${be} items were found.`})}if(!ce&&oe!==void 0){const he=`${a}/unevaluatedItems`;for(ne;ne<de;ne++){if(l[ne])continue;const ge=sn(t[ne],oe,n,r,i,s,`${o}/${ne}`,he);l[ne]=!0,ge.valid||K.push({instanceLocation:o,keyword:"unevaluatedItems",keywordLocation:he,error:"Items did not match unevaluated items schema."},...ge.errors)}}if(L)for(let he=0;he<de;he++){const ge=t[he],be=typeof ge=="object"&&ge!==null;for(let $e=0;$e<de;$e++){if(he===$e)continue;const Ye=t[$e];(ge===Ye||be&&(typeof Ye=="object"&&Ye!==null)&&sg(ge,Ye))&&(K.push({instanceLocation:o,keyword:"uniqueItems",keywordLocation:`${a}/uniqueItems`,error:`Duplicate items at indexes ${he} and ${$e}.`}),he=Number.MAX_SAFE_INTEGER,$e=Number.MAX_SAFE_INTEGER)}}}else if(u==="number"){if(n==="4"?(ae!==void 0&&(te===!0&&t<=ae||t<ae)&&K.push({instanceLocation:o,keyword:"minimum",keywordLocation:`${a}/minimum`,error:`${t} is less than ${te?"or equal to ":""} ${ae}.`}),q!==void 0&&(re===!0&&t>=q||t>q)&&K.push({instanceLocation:o,keyword:"maximum",keywordLocation:`${a}/maximum`,error:`${t} is greater than ${re?"or equal to ":""} ${q}.`})):(ae!==void 0&&t<ae&&K.push({instanceLocation:o,keyword:"minimum",keywordLocation:`${a}/minimum`,error:`${t} is less than ${ae}.`}),q!==void 0&&t>q&&K.push({instanceLocation:o,keyword:"maximum",keywordLocation:`${a}/maximum`,error:`${t} is greater than ${q}.`}),te!==void 0&&t<=te&&K.push({instanceLocation:o,keyword:"exclusiveMinimum",keywordLocation:`${a}/exclusiveMinimum`,error:`${t} is less than ${te}.`}),re!==void 0&&t>=re&&K.push({instanceLocation:o,keyword:"exclusiveMaximum",keywordLocation:`${a}/exclusiveMaximum`,error:`${t} is greater than or equal to ${re}.`})),ue!==void 0){const de=t%ue;Math.abs(0-de)>=11920929e-14&&Math.abs(ue-de)>=11920929e-14&&K.push({instanceLocation:o,keyword:"multipleOf",keywordLocation:`${a}/multipleOf`,error:`${t} is not a multiple of ${ue}.`})}}else if(u==="string"){const de=fe===void 0&&Ee===void 0?0:j$e(t);fe!==void 0&&de<fe&&K.push({instanceLocation:o,keyword:"minLength",keywordLocation:`${a}/minLength`,error:`String is too short (${de} < ${fe}).`}),Ee!==void 0&&de>Ee&&K.push({instanceLocation:o,keyword:"maxLength",keywordLocation:`${a}/maxLength`,error:`String is too long (${de} > ${Ee}).`}),pe!==void 0&&!new RegExp(pe,"u").test(t)&&K.push({instanceLocation:o,keyword:"pattern",keywordLocation:`${a}/pattern`,error:"String does not match pattern."}),j!==void 0&&t5[j]&&!t5[j](t)&&K.push({instanceLocation:o,keyword:"format",keywordLocation:`${a}/format`,error:`String does not match format "${j}".`})}return{valid:K.length===0,errors:K}}class E$e{constructor(e,n="2019-09",r=!0){J(this,"schema");J(this,"draft");J(this,"shortCircuit");J(this,"lookup");this.schema=e,this.draft=n,this.shortCircuit=r,this.lookup=Bu(e)}validate(e){return sn(e,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(e,n){n&&(e={...e,$id:n}),Bu(e,this.lookup)}}var n5=(t,e,n)=>(r,i)=>{let s=-1;const o=r instanceof _9;return a(0);async function a(l){if(l<=s)throw new Error("next() called multiple times");s=l;let c,u=!1,d;if(t[l]?(d=t[l][0][0],o&&(r.req.routeIndex=l)):d=l===t.length&&i||void 0,!d)o&&r.finalized===!1&&n&&(c=await n(r));else try{c=await d(r,()=>a(l+1))}catch(f){if(f instanceof Error&&o&&e)r.error=f,c=await e(f,r),u=!0;else throw f}return c&&(r.finalized===!1||u)&&(r.res=c),r}},Dn="ALL",T$e="all",N$e=["get","post","put","delete","options","patch"],K8="Can not add a route since the matcher is already built.",J8=class extends Error{},A$e=Symbol("composedHandler"),R$e=t=>t.text("404 Not Found",404),r5=(t,e)=>"getResponse"in t?t.getResponse():(console.error(t),e.text("Internal Server Error",500)),Vs,Ln,t7,Va,xu,Ux,Zx,PW,e7=(PW=class{constructor(e={}){Pe(this,Ln);J(this,"get");J(this,"post");J(this,"put");J(this,"delete");J(this,"options");J(this,"patch");J(this,"all");J(this,"on");J(this,"use");J(this,"router");J(this,"getPath");J(this,"_basePath","/");Pe(this,Vs,"/");J(this,"routes",[]);Pe(this,Va,R$e);J(this,"errorHandler",r5);J(this,"onError",e=>(this.errorHandler=e,this));J(this,"notFound",e=>(Se(this,Va,e),this));J(this,"fetch",(e,...n)=>qe(this,Ln,Zx).call(this,e,n[1],n[0],e.method));J(this,"request",(e,n,r,i)=>e instanceof Request?this.fetch(n?new Request(e,n):e,r,i):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${sm("/",e)}`,n),r,i)));J(this,"fire",()=>{addEventListener("fetch",e=>{e.respondWith(qe(this,Ln,Zx).call(this,e.request,e,void 0,e.request.method))})});[...N$e,T$e].forEach(i=>{this[i]=(s,...o)=>(typeof s=="string"?Se(this,Vs,s):qe(this,Ln,xu).call(this,i,V(this,Vs),s),o.forEach(a=>{qe(this,Ln,xu).call(this,i,V(this,Vs),a)}),this)}),this.on=(i,s,...o)=>{for(const a of[s].flat()){Se(this,Vs,a);for(const l of[i].flat())o.map(c=>{qe(this,Ln,xu).call(this,l.toUpperCase(),V(this,Vs),c)})}return this},this.use=(i,...s)=>(typeof i=="string"?Se(this,Vs,i):(Se(this,Vs,"*"),s.unshift(i)),s.forEach(o=>{qe(this,Ln,xu).call(this,Dn,V(this,Vs),o)}),this);const r=e.strict??!0;delete e.strict,Object.assign(this,e),this.getPath=r?e.getPath??d9:wue}route(e,n){const r=this.basePath(e);return n.routes.map(i=>{var o;let s;n.errorHandler===r5?s=i.handler:(s=async(a,l)=>(await n5([],n.errorHandler)(a,()=>i.handler(a,l))).res,s[A$e]=i.handler),qe(o=r,Ln,xu).call(o,i.method,i.path,s)}),this}basePath(e){const n=qe(this,Ln,t7).call(this);return n._basePath=sm(this._basePath,e),n}mount(e,n,r){let i,s;r&&(typeof r=="function"?s=r:(s=r.optionHandler,i=r.replaceRequest));const o=s?l=>{const c=s(l);return Array.isArray(c)?c:[c]}:l=>{let c;try{c=l.executionCtx}catch{}return[l.env,c]};i||(i=(()=>{const l=sm(this._basePath,e),c=l==="/"?0:l.length;return u=>{const d=new URL(u.url);return d.pathname=d.pathname.slice(c)||"/",new Request(d,u)}})());const a=async(l,c)=>{const u=await n(i(l.req.raw),...o(l));if(u)return u;await c()};return qe(this,Ln,xu).call(this,Dn,sm(e,"*"),a),this}},Vs=new WeakMap,Ln=new WeakSet,t7=function(){const e=new e7({router:this.router,getPath:this.getPath});return e.routes=this.routes,e},Va=new WeakMap,xu=function(e,n,r){e=e.toUpperCase(),n=sm(this._basePath,n);const i={path:n,method:e,handler:r};this.router.add(e,n,[r,i]),this.routes.push(i)},Ux=function(e,n){if(e instanceof Error)return this.errorHandler(e,n);throw e},Zx=function(e,n,r,i){if(i==="HEAD")return(async()=>new Response(null,await qe(this,Ln,Zx).call(this,e,n,r,"GET")))();const s=this.getPath(e,{env:r}),o=this.router.match(i,s),a=new _9(e,{path:s,matchResult:o,env:r,executionCtx:n,notFoundHandler:V(this,Va)});if(o[0].length===1){let c;try{c=o[0][0][0][0](a,async()=>{a.res=await V(this,Va).call(this,a)})}catch(u){return qe(this,Ln,Ux).call(this,u,a)}return c instanceof Promise?c.then(u=>u||(a.finalized?a.res:V(this,Va).call(this,a))).catch(u=>qe(this,Ln,Ux).call(this,u,a)):c??V(this,Va).call(this,a)}const l=n5(o[0],this.errorHandler,V(this,Va));return(async()=>{try{const c=await l(a);if(!c.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return c.res}catch(c){return qe(this,Ln,Ux).call(this,c,a)}})()},PW),ow="[^/]+",og=".*",ag="(?:|/.*)",Fm=Symbol(),M$e=new Set(".\\+*[^]$()");function I$e(t,e){return t.length===1?e.length===1?t<e?-1:1:-1:e.length===1||t===og||t===ag?1:e===og||e===ag?-1:t===ow?1:e===ow?-1:t.length===e.length?t<e?-1:1:e.length-t.length}var rd,id,Bs,CW,qC=(CW=class{constructor(){Pe(this,rd);Pe(this,id);Pe(this,Bs,Object.create(null))}insert(e,n,r,i,s){if(e.length===0){if(V(this,rd)!==void 0)throw Fm;if(s)return;Se(this,rd,n);return}const[o,...a]=e,l=o==="*"?a.length===0?["","",og]:["","",ow]:o==="/*"?["","",ag]:o.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let c;if(l){const u=l[1];let d=l[2]||ow;if(u&&l[2]&&(d=d.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(d)))throw Fm;if(c=V(this,Bs)[d],!c){if(Object.keys(V(this,Bs)).some(f=>f!==og&&f!==ag))throw Fm;if(s)return;c=V(this,Bs)[d]=new qC,u!==""&&Se(c,id,i.varIndex++)}!s&&u!==""&&r.push([u,V(c,id)])}else if(c=V(this,Bs)[o],!c){if(Object.keys(V(this,Bs)).some(u=>u.length>1&&u!==og&&u!==ag))throw Fm;if(s)return;c=V(this,Bs)[o]=new qC}c.insert(a,n,r,i,s)}buildRegExpStr(){const n=Object.keys(V(this,Bs)).sort(I$e).map(r=>{const i=V(this,Bs)[r];return(typeof V(i,id)=="number"?`(${r})@${V(i,id)}`:M$e.has(r)?`\\${r}`:r)+i.buildRegExpStr()});return typeof V(this,rd)=="number"&&n.unshift(`#${V(this,rd)}`),n.length===0?"":n.length===1?n[0]:"(?:"+n.join("|")+")"}},rd=new WeakMap,id=new WeakMap,Bs=new WeakMap,CW),z0,Wy,jW,D$e=(jW=class{constructor(){Pe(this,z0,{varIndex:0});Pe(this,Wy,new qC)}insert(t,e,n){const r=[],i=[];for(let o=0;;){let a=!1;if(t=t.replace(/\{[^}]+\}/g,l=>{const c=`@\\${o}`;return i[o]=[c,l],o++,a=!0,c}),!a)break}const s=t.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let o=i.length-1;o>=0;o--){const[a]=i[o];for(let l=s.length-1;l>=0;l--)if(s[l].indexOf(a)!==-1){s[l]=s[l].replace(a,i[o][1]);break}}return V(this,Wy).insert(s,e,r,V(this,z0),n),r}buildRegExp(){let t=V(this,Wy).buildRegExpStr();if(t==="")return[/^$/,[],[]];let e=0;const n=[],r=[];return t=t.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,s,o)=>s!==void 0?(n[++e]=Number(s),"$()"):(o!==void 0&&(r[Number(o)]=++e),"")),[new RegExp(`^${t}`),n,r]}},z0=new WeakMap,Wy=new WeakMap,jW),n7=[],Q$e=[/^$/,[],Object.create(null)],Xx=Object.create(null);function r7(t){return Xx[t]??(Xx[t]=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(e,n)=>n?`\\${n}`:"(?:|/.*)")}$`))}function F$e(){Xx=Object.create(null)}function L$e(t){var c;const e=new D$e,n=[];if(t.length===0)return Q$e;const r=t.map(u=>[!/\*|\/:/.test(u[0]),...u]).sort(([u,d],[f,h])=>u?1:f?-1:d.length-h.length),i=Object.create(null);for(let u=0,d=-1,f=r.length;u<f;u++){const[h,m,g]=r[u];h?i[m]=[g.map(([O])=>[O,Object.create(null)]),n7]:d++;let y;try{y=e.insert(m,d,h)}catch(O){throw O===Fm?new J8(m):O}h||(n[d]=g.map(([O,b])=>{const x=Object.create(null);for(b-=1;b>=0;b--){const[v,w]=y[b];x[v]=w}return[O,x]}))}const[s,o,a]=e.buildRegExp();for(let u=0,d=n.length;u<d;u++)for(let f=0,h=n[u].length;f<h;f++){const m=(c=n[u][f])==null?void 0:c[1];if(!m)continue;const g=Object.keys(m);for(let y=0,O=g.length;y<O;y++)m[g[y]]=a[m[g[y]]]}const l=[];for(const u in o)l[u]=n[o[u]];return[s,l,i]}function lf(t,e){if(t){for(const n of Object.keys(t).sort((r,i)=>i.length-r.length))if(r7(n).test(e))return[...t[n]]}}var dc,fc,sp,i7,s7,EW,q$e=(EW=class{constructor(){Pe(this,sp);J(this,"name","RegExpRouter");Pe(this,dc);Pe(this,fc);Se(this,dc,{[Dn]:Object.create(null)}),Se(this,fc,{[Dn]:Object.create(null)})}add(t,e,n){var a;const r=V(this,dc),i=V(this,fc);if(!r||!i)throw new Error(K8);r[t]||[r,i].forEach(l=>{l[t]=Object.create(null),Object.keys(l[Dn]).forEach(c=>{l[t][c]=[...l[Dn][c]]})}),e==="/*"&&(e="*");const s=(e.match(/\/:/g)||[]).length;if(/\*$/.test(e)){const l=r7(e);t===Dn?Object.keys(r).forEach(c=>{var u;(u=r[c])[e]||(u[e]=lf(r[c],e)||lf(r[Dn],e)||[])}):(a=r[t])[e]||(a[e]=lf(r[t],e)||lf(r[Dn],e)||[]),Object.keys(r).forEach(c=>{(t===Dn||t===c)&&Object.keys(r[c]).forEach(u=>{l.test(u)&&r[c][u].push([n,s])})}),Object.keys(i).forEach(c=>{(t===Dn||t===c)&&Object.keys(i[c]).forEach(u=>l.test(u)&&i[c][u].push([n,s]))});return}const o=f9(e)||[e];for(let l=0,c=o.length;l<c;l++){const u=o[l];Object.keys(i).forEach(d=>{var f;(t===Dn||t===d)&&((f=i[d])[u]||(f[u]=[...lf(r[d],u)||lf(r[Dn],u)||[]]),i[d][u].push([n,s-c+l+1]))})}}match(t,e){F$e();const n=qe(this,sp,i7).call(this);return this.match=(r,i)=>{const s=n[r]||n[Dn],o=s[2][i];if(o)return o;const a=i.match(s[0]);if(!a)return[[],n7];const l=a.indexOf("",1);return[s[1][l],a]},this.match(t,e)}},dc=new WeakMap,fc=new WeakMap,sp=new WeakSet,i7=function(){const t=Object.create(null);return Object.keys(V(this,fc)).concat(Object.keys(V(this,dc))).forEach(e=>{t[e]||(t[e]=qe(this,sp,s7).call(this,e))}),Se(this,dc,Se(this,fc,void 0)),t},s7=function(t){const e=[];let n=t===Dn;return[V(this,dc),V(this,fc)].forEach(r=>{const i=r[t]?Object.keys(r[t]).map(s=>[s,r[t][s]]):[];i.length!==0?(n||(n=!0),e.push(...i)):t!==Dn&&e.push(...Object.keys(r[Dn]).map(s=>[s,r[Dn][s]]))}),n?L$e(e):null},EW),hc,Ba,TW,V$e=(TW=class{constructor(t){J(this,"name","SmartRouter");Pe(this,hc,[]);Pe(this,Ba,[]);Se(this,hc,t.routers)}add(t,e,n){if(!V(this,Ba))throw new Error(K8);V(this,Ba).push([t,e,n])}match(t,e){if(!V(this,Ba))throw new Error("Fatal error");const n=V(this,hc),r=V(this,Ba),i=n.length;let s=0,o;for(;s<i;s++){const a=n[s];try{for(let l=0,c=r.length;l<c;l++)a.add(...r[l]);o=a.match(t,e)}catch(l){if(l instanceof J8)continue;throw l}this.match=a.match.bind(a),Se(this,hc,[a]),Se(this,Ba,void 0);break}if(s===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,o}get activeRouter(){if(V(this,Ba)||V(this,hc).length!==1)throw new Error("No active router has been determined yet.");return V(this,hc)[0]}},hc=new WeakMap,Ba=new WeakMap,TW),pc,zr,sd,xh,ri,za,vu,NW,o7=(NW=class{constructor(e,n,r){Pe(this,za);Pe(this,pc);Pe(this,zr);Pe(this,sd);Pe(this,xh,0);Pe(this,ri,Object.create(null));if(Se(this,zr,r||Object.create(null)),Se(this,pc,[]),e&&n){const i=Object.create(null);i[e]={handler:n,possibleKeys:[],score:0},Se(this,pc,[i])}Se(this,sd,[])}insert(e,n,r){Se(this,xh,++MD(this,xh)._);let i=this;const s=Oue(n),o=[];for(let c=0,u=s.length;c<u;c++){const d=s[c];if(Object.keys(V(i,zr)).includes(d)){i=V(i,zr)[d];const h=FD(d);h&&o.push(h[1]);continue}V(i,zr)[d]=new o7;const f=FD(d);f&&(V(i,sd).push(f),o.push(f[1])),i=V(i,zr)[d]}const a=Object.create(null),l={handler:r,possibleKeys:o.filter((c,u,d)=>d.indexOf(c)===u),score:V(this,xh)};return a[e]=l,V(i,pc).push(a),i}search(e,n){const r=[];Se(this,ri,Object.create(null));let s=[this];const o=c9(n);for(let a=0,l=o.length;a<l;a++){const c=o[a],u=a===l-1,d=[];for(let f=0,h=s.length;f<h;f++){const m=s[f],g=V(m,zr)[c];g&&(Se(g,ri,V(m,ri)),u?(V(g,zr)["*"]&&r.push(...qe(this,za,vu).call(this,V(g,zr)["*"],e,V(m,ri),Object.create(null))),r.push(...qe(this,za,vu).call(this,g,e,V(m,ri),Object.create(null)))):d.push(g));for(let y=0,O=V(m,sd).length;y<O;y++){const b=V(m,sd)[y],x={...V(m,ri)};if(b==="*"){const j=V(m,zr)["*"];j&&(r.push(...qe(this,za,vu).call(this,j,e,V(m,ri),Object.create(null))),d.push(j));continue}if(c==="")continue;const[v,w,_]=b,$=V(m,zr)[v],k=o.slice(a).join("/");if(_ instanceof RegExp&&_.test(k)){x[w]=k,r.push(...qe(this,za,vu).call(this,$,e,V(m,ri),x));continue}(_===!0||_.test(c))&&(x[w]=c,u?(r.push(...qe(this,za,vu).call(this,$,e,x,V(m,ri))),V($,zr)["*"]&&r.push(...qe(this,za,vu).call(this,V($,zr)["*"],e,x,V(m,ri)))):(Se($,ri,x),d.push($)))}}s=d}return r.length>1&&r.sort((a,l)=>a.score-l.score),[r.map(({handler:a,params:l})=>[a,l])]}},pc=new WeakMap,zr=new WeakMap,sd=new WeakMap,xh=new WeakMap,ri=new WeakMap,za=new WeakSet,vu=function(e,n,r,i){const s=[];for(let o=0,a=V(e,pc).length;o<a;o++){const l=V(e,pc)[o],c=l[n]||l[Dn],u={};if(c!==void 0){c.params=Object.create(null);for(let d=0,f=c.possibleKeys.length;d<f;d++){const h=c.possibleKeys[d],m=u[c.score];c.params[h]=i[h]&&!m?i[h]:r[h]??i[h],u[c.score]=!0}s.push(c)}}return s},NW),od,AW,B$e=(AW=class{constructor(){J(this,"name","TrieRouter");Pe(this,od);Se(this,od,new o7)}add(t,e,n){const r=f9(e);if(r){for(let i=0,s=r.length;i<s;i++)V(this,od).insert(t,r[i],n);return}V(this,od).insert(t,e,n)}match(t,e){return V(this,od).search(t,e)}},od=new WeakMap,AW),Op=class extends e7{constructor(t={}){super(t),this.router=t.router??new V$e({routers:[new q$e,new B$e]})}},z$e=class{constructor(t){J(this,"initApp");J(this,"createApp",()=>{const t=new Op;return this.initApp&&this.initApp(t),t});J(this,"createMiddleware",t=>t);J(this,"createHandlers",(...t)=>t.filter(e=>e!==void 0));this.initApp=t==null?void 0:t.initApp}},W$e=t=>new z$e(t),i5=t=>W$e().createMiddleware(t);let VC;var Mx,RW;(typeof navigator>"u"||!((RW=(Mx=navigator.userAgent)==null?void 0:Mx.startsWith)!=null&&RW.call(Mx,"Mozilla/5.0 ")))&&(VC="oauth4webapi/v2.17.0");function rO(t,e){if(t==null)return!1;try{return t instanceof e||Object.getPrototypeOf(t)[Symbol.toStringTag]===e.prototype[Symbol.toStringTag]}catch{return!1}}const aw=Symbol(),U$e=Symbol(),xR=Symbol(),a7=Symbol(),l7=Symbol(),Z$e=Symbol(),X$e=new TextEncoder,Y$e=new TextDecoder;function xc(t){return typeof t=="string"?X$e.encode(t):Y$e.decode(t)}const s5=32768;function G$e(t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));const e=[];for(let n=0;n<t.byteLength;n+=s5)e.push(String.fromCharCode.apply(null,t.subarray(n,n+s5)));return btoa(e.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function H$e(t){try{const e=atob(t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}catch(e){throw new De("The input to be decoded is not correctly encoded.",{cause:e})}}function tl(t){return typeof t=="string"?H$e(t):G$e(t)}class K$e{constructor(e){this.cache=new Map,this._cache=new Map,this.maxSize=e}get(e){let n=this.cache.get(e);if(n)return n;if(n=this._cache.get(e))return this.update(e,n),n}has(e){return this.cache.has(e)||this._cache.has(e)}set(e,n){return this.cache.has(e)?this.cache.set(e,n):this.update(e,n),this}delete(e){return this.cache.has(e)?this.cache.delete(e):this._cache.has(e)?this._cache.delete(e):!1}update(e,n){this.cache.set(e,n),this.cache.size>=this.maxSize&&(this._cache=this.cache,this.cache=new Map)}}class so extends Error{constructor(e){var n;super(e??"operation not supported"),this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class J$e extends Error{constructor(e,n){var r;super(e,n),this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}const De=J$e,c7=new K$e(100);function u7(t){return t instanceof CryptoKey}function d7(t){return u7(t)&&t.type==="private"}function eke(t){return u7(t)&&t.type==="public"}function vR(t){try{const e=t.headers.get("dpop-nonce");e&&c7.set(new URL(t.url).origin,e)}catch{}return t}function Eh(t){return!(t===null||typeof t!="object"||Array.isArray(t))}function IS(t){rO(t,Headers)&&(t=Object.fromEntries(t.entries()));const e=new Headers(t);if(VC&&!e.has("user-agent")&&e.set("user-agent",VC),e.has("authorization"))throw new TypeError('"options.headers" must not include the "authorization" header name');if(e.has("dpop"))throw new TypeError('"options.headers" must not include the "dpop" header name');return e}function wR(t){if(typeof t=="function"&&(t=t()),!(t instanceof AbortSignal))throw new TypeError('"options.signal" must return or be an instance of AbortSignal');return t}async function tke(t,e){if(!(t instanceof URL))throw new TypeError('"issuerIdentifier" must be an instance of URL');if(t.protocol!=="https:"&&t.protocol!=="http:")throw new TypeError('"issuer.protocol" must be "https:" or "http:"');const n=new URL(t.href);switch(e==null?void 0:e.algorithm){case void 0:case"oidc":n.pathname=`${n.pathname}/.well-known/openid-configuration`.replace("//","/");break;case"oauth2":n.pathname==="/"?n.pathname=".well-known/oauth-authorization-server":n.pathname=`.well-known/oauth-authorization-server/${n.pathname}`.replace("//","/");break;default:throw new TypeError('"options.algorithm" must be "oidc" (default), or "oauth2"')}const r=IS(e==null?void 0:e.headers);return r.set("accept","application/json"),((e==null?void 0:e[xR])||fetch)(n.href,{headers:Object.fromEntries(r.entries()),method:"GET",redirect:"manual",signal:e!=null&&e.signal?wR(e.signal):null}).then(vR)}function Bn(t){return typeof t=="string"&&t.length!==0}async function nke(t,e){if(!(t instanceof URL))throw new TypeError('"expectedIssuer" must be an instance of URL');if(!rO(e,Response))throw new TypeError('"response" must be an instance of Response');if(e.status!==200)throw new De('"response" is not a conform Authorization Server Metadata response');Dg(e);let n;try{n=await e.json()}catch(r){throw new De('failed to parse "response" body as JSON',{cause:r})}if(!Eh(n))throw new De('"response" body must be a top level object');if(!Bn(n.issuer))throw new De('"response" body "issuer" property must be a non-empty string');if(new URL(n.issuer).href!==t.href)throw new De('"response" body "issuer" does not match "expectedIssuer"');return n}function SR(){return tl(crypto.getRandomValues(new Uint8Array(32)))}function o5(){return SR()}async function rke(t){if(!Bn(t))throw new TypeError('"codeVerifier" must be a non-empty string');return tl(await crypto.subtle.digest("SHA-256",xc(t)))}function ike(t){if(t instanceof CryptoKey)return{key:t};if(!((t==null?void 0:t.key)instanceof CryptoKey))return{};if(t.kid!==void 0&&!Bn(t.kid))throw new TypeError('"kid" must be a non-empty string');return{key:t.key,kid:t.kid,modifyAssertion:t[a7]}}function a5(t){return encodeURIComponent(t).replace(/%20/g,"+")}function ske(t,e){const n=a5(t),r=a5(e);return`Basic ${btoa(`${n}:${r}`)}`}function oke(t){switch(t.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new so("unsupported RsaHashedKeyAlgorithm hash name")}}function ake(t){switch(t.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new so("unsupported RsaHashedKeyAlgorithm hash name")}}function lke(t){switch(t.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new so("unsupported EcKeyAlgorithm namedCurve")}}function f7(t){switch(t.algorithm.name){case"RSA-PSS":return oke(t);case"RSASSA-PKCS1-v1_5":return ake(t);case"ECDSA":return lke(t);case"Ed25519":case"Ed448":return"EdDSA";default:throw new so("unsupported CryptoKey algorithm name")}}function bp(t){const e=t==null?void 0:t[aw];return typeof e=="number"&&Number.isFinite(e)?e:0}function _R(t){const e=t==null?void 0:t[U$e];return typeof e=="number"&&Number.isFinite(e)&&Math.sign(e)!==-1?e:30}function DS(){return Math.floor(Date.now()/1e3)}function cke(t,e){const n=DS()+bp(e);return{jti:SR(),aud:[t.issuer,t.token_endpoint],exp:n+60,iat:n,nbf:n,iss:e.client_id,sub:e.client_id}}async function uke(t,e,n,r,i){const s={alg:f7(n),kid:r},o=cke(t,e);return i==null||i(s,o),h7(s,o,n)}function iO(t){if(typeof t!="object"||t===null)throw new TypeError('"as" must be an object');if(!Bn(t.issuer))throw new TypeError('"as.issuer" property must be a non-empty string');return!0}function sO(t){if(typeof t!="object"||t===null)throw new TypeError('"client" must be an object');if(!Bn(t.client_id))throw new TypeError('"client.client_id" property must be a non-empty string');return!0}function l5(t){if(!Bn(t))throw new TypeError('"client.client_secret" property must be a non-empty string');return t}function w$(t,e){if(e!==void 0)throw new TypeError(`"options.clientPrivateKey" property must not be provided when ${t} client authentication method is used.`)}function c5(t,e){if(e!==void 0)throw new TypeError(`"client.client_secret" property must not be provided when ${t} client authentication method is used.`)}async function dke(t,e,n,r,i){switch(n.delete("client_secret"),n.delete("client_assertion_type"),n.delete("client_assertion"),e.token_endpoint_auth_method){case void 0:case"client_secret_basic":{w$("client_secret_basic",i),r.set("authorization",ske(e.client_id,l5(e.client_secret)));break}case"client_secret_post":{w$("client_secret_post",i),n.set("client_id",e.client_id),n.set("client_secret",l5(e.client_secret));break}case"private_key_jwt":{if(c5("private_key_jwt",e.client_secret),i===void 0)throw new TypeError('"options.clientPrivateKey" must be provided when "client.token_endpoint_auth_method" is "private_key_jwt"');const{key:s,kid:o,modifyAssertion:a}=ike(i);if(!d7(s))throw new TypeError('"options.clientPrivateKey.key" must be a private CryptoKey');n.set("client_id",e.client_id),n.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),n.set("client_assertion",await uke(t,e,s,o,a));break}case"tls_client_auth":case"self_signed_tls_client_auth":case"none":{c5(e.token_endpoint_auth_method,e.client_secret),w$(e.token_endpoint_auth_method,i),n.set("client_id",e.client_id);break}default:throw new so("unsupported client token_endpoint_auth_method")}}async function h7(t,e,n){if(!n.usages.includes("sign"))throw new TypeError('CryptoKey instances used for signing assertions must include "sign" in their "usages"');const r=`${tl(xc(JSON.stringify(t)))}.${tl(xc(JSON.stringify(e)))}`,i=tl(await crypto.subtle.sign(w7(n),n,xc(r)));return`${r}.${i}`}async function fke(t,e,n,r,i,s){var f;const{privateKey:o,publicKey:a,nonce:l=c7.get(n.origin)}=e;if(!d7(o))throw new TypeError('"DPoP.privateKey" must be a private CryptoKey');if(!eke(a))throw new TypeError('"DPoP.publicKey" must be a public CryptoKey');if(l!==void 0&&!Bn(l))throw new TypeError('"DPoP.nonce" must be a non-empty string or undefined');if(!a.extractable)throw new TypeError('"DPoP.publicKey.extractable" must be true');const c=DS()+i,u={alg:f7(o),typ:"dpop+jwt",jwk:await pke(a)},d={iat:c,jti:SR(),htm:r,nonce:l,htu:`${n.origin}${n.pathname}`,ath:s?tl(await crypto.subtle.digest("SHA-256",xc(s))):void 0};(f=e[a7])==null||f.call(e,u,d),t.set("dpop",await h7(u,d,o))}let Yx;async function hke(t){const{kty:e,e:n,n:r,x:i,y:s,crv:o}=await crypto.subtle.exportKey("jwk",t),a={kty:e,e:n,n:r,x:i,y:s,crv:o};return Yx.set(t,a),a}async function pke(t){return Yx||(Yx=new WeakMap),Yx.get(t)||hke(t)}function u5(t,e,n){if(typeof t!="string")throw n?new TypeError(`"as.mtls_endpoint_aliases.${e}" must be a string`):new TypeError(`"as.${e}" must be a string`);return new URL(t)}function p7(t,e,n=!1){return n&&t.mtls_endpoint_aliases&&e in t.mtls_endpoint_aliases?u5(t.mtls_endpoint_aliases[e],e,n):u5(t[e],e,n)}function m7(t,e){return!!(t.use_mtls_endpoint_aliases||e!=null&&e[Z$e])}function Ef(t){const e=t;return typeof e!="object"||Array.isArray(e)||e===null?!1:e.error!==void 0}function mke(t){return t.length>=2&&t[0]==='"'&&t[t.length-1]==='"'?t.slice(1,-1):t}const gke=/((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/,yke=/(?:^|, ?)([0-9a-zA-Z!#$%&'*+\-.^_`|~]+)(?=$|[ ,])/g;function Oke(t,e){const n=e.split(gke).slice(1);if(!n.length)return{scheme:t.toLowerCase(),parameters:{}};n[n.length-1]=n[n.length-1].replace(/,$/,"");const r={};for(let i=1;i<n.length;i+=2){const s=i;if(n[s][0]==='"')for(;n[s].slice(-1)!=='"'&&++i<n.length;)n[s]+=n[i];const o=n[s-1].replace(/^(?:, ?)|=$/g,"").toLowerCase();r[o]=mke(n[s])}return{scheme:t.toLowerCase(),parameters:r}}function d5(t){if(!rO(t,Response))throw new TypeError('"response" must be an instance of Response');const e=t.headers.get("www-authenticate");if(e===null)return;const n=[];for(const{1:i,index:s}of e.matchAll(yke))n.push([i,s]);return n.length?n.map(([i,s],o,a)=>{const l=a[o+1];let c;return l?c=e.slice(s,l[1]):c=e.slice(s),Oke(i,c)}):void 0}async function bke(t,e,n,r,i,s){if(!Bn(t))throw new TypeError('"accessToken" must be a non-empty string');if(!(n instanceof URL))throw new TypeError('"url" must be an instance of URL');return r=IS(r),(s==null?void 0:s.DPoP)===void 0?r.set("authorization",`Bearer ${t}`):(await fke(r,s.DPoP,n,e.toUpperCase(),bp({[aw]:s==null?void 0:s[aw]}),t),r.set("authorization",`DPoP ${t}`)),((s==null?void 0:s[xR])||fetch)(n.href,{body:i,headers:Object.fromEntries(r.entries()),method:e,redirect:"manual",signal:s!=null&&s.signal?wR(s.signal):null}).then(vR)}async function f5(t,e,n,r){iO(t),sO(e);const i=p7(t,"userinfo_endpoint",m7(e,r)),s=IS(r==null?void 0:r.headers);return e.userinfo_signed_response_alg?s.set("accept","application/jwt"):(s.set("accept","application/json"),s.append("accept","application/jwt")),bke(n,"GET",i,s,null,{...r,[aw]:bp(e)})}const xke=Symbol();function vke(t){var e;return(e=t.headers.get("content-type"))==null?void 0:e.split(";")[0]}async function wke(t,e,n,r){if(iO(t),sO(e),!rO(r,Response))throw new TypeError('"response" must be an instance of Response');if(r.status!==200)throw new De('"response" is not a conform UserInfo Endpoint response');let i;if(vke(r)==="application/jwt"){Dg(r);const{claims:s,jwt:o}=await S7(await r.text(),_7.bind(void 0,e.userinfo_signed_response_alg,t.userinfo_signing_alg_values_supported),$R,bp(e),_R(e),e[l7]).then(kke.bind(void 0,e.client_id)).then(Pke.bind(void 0,t.issuer));$ke.set(r,o),i=s}else{if(e.userinfo_signed_response_alg)throw new De("JWT UserInfo Response expected");Dg(r);try{i=await r.json()}catch(s){throw new De('failed to parse "response" body as JSON',{cause:s})}}if(!Eh(i))throw new De('"response" body must be a top level object');if(!Bn(i.sub))throw new De('"response" body "sub" property must be a non-empty string');switch(n){case xke:break;default:if(!Bn(n))throw new De('"expectedSubject" must be a non-empty string');if(i.sub!==n)throw new De('unexpected "response" body "sub" value')}return i}async function Ske(t,e,n,r,i,s,o){return await dke(t,e,i,s,o==null?void 0:o.clientPrivateKey),s.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),((o==null?void 0:o[xR])||fetch)(r.href,{body:i,headers:Object.fromEntries(s.entries()),method:n,redirect:"manual",signal:o!=null&&o.signal?wR(o.signal):null}).then(vR)}async function _ke(t,e,n,r,i){const s=p7(t,"token_endpoint",m7(e,i));r.set("grant_type",n);const o=IS(i==null?void 0:i.headers);return o.set("accept","application/json"),Ske(t,e,"POST",s,r,o,i)}const g7=new WeakMap,$ke=new WeakMap;function y7(t){if(!t.id_token)return;const e=g7.get(t);if(!e)throw new TypeError('"ref" was already garbage collected or did not resolve from the proper sources');return e[0]}async function O7(t,e,n,r=!1,i=!1){if(iO(t),sO(e),!rO(n,Response))throw new TypeError('"response" must be an instance of Response');if(n.status!==200){let o;if(o=await Rke(n))return o;throw new De('"response" is not a conform Token Endpoint response')}Dg(n);let s;try{s=await n.json()}catch(o){throw new De('failed to parse "response" body as JSON',{cause:o})}if(!Eh(s))throw new De('"response" body must be a top level object');if(!Bn(s.access_token))throw new De('"response" body "access_token" property must be a non-empty string');if(!Bn(s.token_type))throw new De('"response" body "token_type" property must be a non-empty string');if(s.token_type=s.token_type.toLowerCase(),s.token_type!=="dpop"&&s.token_type!=="bearer")throw new so("unsupported `token_type` value");if(s.expires_in!==void 0&&(typeof s.expires_in!="number"||s.expires_in<=0))throw new De('"response" body "expires_in" property must be a positive number');if(!i&&s.refresh_token!==void 0&&!Bn(s.refresh_token))throw new De('"response" body "refresh_token" property must be a non-empty string');if(s.scope!==void 0&&typeof s.scope!="string")throw new De('"response" body "scope" property must be a string');if(!r){if(s.id_token!==void 0&&!Bn(s.id_token))throw new De('"response" body "id_token" property must be a non-empty string');if(s.id_token){const{claims:o,jwt:a}=await S7(s.id_token,_7.bind(void 0,e.id_token_signed_response_alg,t.id_token_signing_alg_values_supported),$R,bp(e),_R(e),e[l7]).then(Eke.bind(void 0,["aud","exp","iat","iss","sub"])).then(x7.bind(void 0,t.issuer)).then(b7.bind(void 0,e.client_id));if(Array.isArray(o.aud)&&o.aud.length!==1){if(o.azp===void 0)throw new De('ID Token "aud" (audience) claim includes additional untrusted audiences');if(o.azp!==e.client_id)throw new De('unexpected ID Token "azp" (authorized party) claim value')}if(o.auth_time!==void 0&&(!Number.isFinite(o.auth_time)||Math.sign(o.auth_time)!==1))throw new De('ID Token "auth_time" (authentication time) must be a positive number');g7.set(s,[o,a])}}return s}function kke(t,e){return e.claims.aud!==void 0?b7(t,e):e}function b7(t,e){if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t))throw new De('unexpected JWT "aud" (audience) claim value')}else if(e.claims.aud!==t)throw new De('unexpected JWT "aud" (audience) claim value');return e}function Pke(t,e){return e.claims.iss!==void 0?x7(t,e):e}function x7(t,e){if(e.claims.iss!==t)throw new De('unexpected JWT "iss" (issuer) claim value');return e}const v7=new WeakSet;function Cke(t){return v7.add(t),t}async function h5(t,e,n,r,i,s){if(iO(t),sO(e),!v7.has(n))throw new TypeError('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()');if(!Bn(r))throw new TypeError('"redirectUri" must be a non-empty string');if(!Bn(i))throw new TypeError('"codeVerifier" must be a non-empty string');const o=Na(n,"code");if(!o)throw new De('no authorization code in "callbackParameters"');const a=new URLSearchParams(s==null?void 0:s.additionalParameters);return a.set("redirect_uri",r),a.set("code_verifier",i),a.set("code",o),_ke(t,e,"authorization_code",a,s)}const jke={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation"};function Eke(t,e){for(const n of t)if(e.claims[n]===void 0)throw new De(`JWT "${n}" (${jke[n]}) claim missing`);return e}const Tke=Symbol(),S$=Symbol();async function Nke(t,e,n,r,i){const s=await O7(t,e,n);if(Ef(s))return s;if(!Bn(s.id_token))throw new De('"response" body "id_token" property must be a non-empty string');i??(i=e.default_max_age??S$);const o=y7(s);if((e.require_auth_time||i!==S$)&&o.auth_time===void 0)throw new De('ID Token "auth_time" (authentication time) claim missing');if(i!==S$){if(typeof i!="number"||i<0)throw new TypeError('"maxAge" must be a non-negative number');const a=DS()+bp(e),l=_R(e);if(o.auth_time+i<a-l)throw new De("too much time has elapsed since the last End-User authentication")}switch(r){case void 0:case Tke:if(o.nonce!==void 0)throw new De('unexpected ID Token "nonce" claim value');break;default:if(!Bn(r))throw new TypeError('"expectedNonce" must be a non-empty string');if(o.nonce===void 0)throw new De('ID Token "nonce" claim missing');if(o.nonce!==r)throw new De('unexpected ID Token "nonce" claim value')}return s}async function Ake(t,e,n){const r=await O7(t,e,n,!0);if(Ef(r))return r;if(r.id_token!==void 0){if(typeof r.id_token=="string"&&r.id_token.length)throw new De("Unexpected ID Token returned, use processAuthorizationCodeOpenIDResponse() for OpenID Connect callback processing");delete r.id_token}return r}function Dg(t){if(t.bodyUsed)throw new TypeError('"response" body has been used already')}async function Rke(t){if(t.status>399&&t.status<500){Dg(t);try{const e=await t.json();if(Eh(e)&&typeof e.error=="string"&&e.error.length)return e.error_description!==void 0&&typeof e.error_description!="string"&&delete e.error_description,e.error_uri!==void 0&&typeof e.error_uri!="string"&&delete e.error_uri,e.algs!==void 0&&typeof e.algs!="string"&&delete e.algs,e.scope!==void 0&&typeof e.scope!="string"&&delete e.scope,e}catch{}}}function p5(t){if(typeof t.modulusLength!="number"||t.modulusLength<2048)throw new De(`${t.name} modulusLength must be at least 2048 bits`)}function Mke(t){switch(t){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new so}}function w7(t){switch(t.algorithm.name){case"ECDSA":return{name:t.algorithm.name,hash:Mke(t.algorithm.namedCurve)};case"RSA-PSS":switch(p5(t.algorithm),t.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:t.algorithm.name,saltLength:parseInt(t.algorithm.hash.name.slice(-3),10)>>3};default:throw new so}case"RSASSA-PKCS1-v1_5":return p5(t.algorithm),t.algorithm.name;case"Ed448":case"Ed25519":return t.algorithm.name}throw new so}const $R=Symbol();async function Ike(t,e,n,r){const i=`${t}.${e}`;if(!await crypto.subtle.verify(w7(n),n,r,xc(i)))throw new De("JWT signature verification failed")}async function S7(t,e,n,r,i,s){let{0:o,1:a,2:l,length:c}=t.split(".");if(c===5)if(s!==void 0)t=await s(t),{0:o,1:a,2:l,length:c}=t.split(".");else throw new so("JWE structure JWTs are not supported");if(c!==3)throw new De("Invalid JWT");let u;try{u=JSON.parse(xc(tl(o)))}catch(g){throw new De("failed to parse JWT Header body as base64url encoded JSON",{cause:g})}if(!Eh(u))throw new De("JWT Header must be a top level object");if(e(u),u.crit!==void 0)throw new De('unexpected JWT "crit" header parameter');const d=tl(l);let f;n!==$R&&(f=await n(u),await Ike(o,a,f,d));let h;try{h=JSON.parse(xc(tl(a)))}catch(g){throw new De("failed to parse JWT Payload body as base64url encoded JSON",{cause:g})}if(!Eh(h))throw new De("JWT Payload must be a top level object");const m=DS()+r;if(h.exp!==void 0){if(typeof h.exp!="number")throw new De('unexpected JWT "exp" (expiration time) claim type');if(h.exp<=m-i)throw new De('unexpected JWT "exp" (expiration time) claim value, timestamp is <= now()')}if(h.iat!==void 0&&typeof h.iat!="number")throw new De('unexpected JWT "iat" (issued at) claim type');if(h.iss!==void 0&&typeof h.iss!="string")throw new De('unexpected JWT "iss" (issuer) claim type');if(h.nbf!==void 0){if(typeof h.nbf!="number")throw new De('unexpected JWT "nbf" (not before) claim type');if(h.nbf>m+i)throw new De('unexpected JWT "nbf" (not before) claim value, timestamp is > now()')}if(h.aud!==void 0&&typeof h.aud!="string"&&!Array.isArray(h.aud))throw new De('unexpected JWT "aud" (audience) claim type');return{header:u,claims:h,signature:d,key:f,jwt:t}}function _7(t,e,n){if(t!==void 0){if(n.alg!==t)throw new De('unexpected JWT "alg" header parameter');return}if(Array.isArray(e)){if(!e.includes(n.alg))throw new De('unexpected JWT "alg" header parameter');return}if(n.alg!=="RS256")throw new De('unexpected JWT "alg" header parameter')}function Na(t,e){const{0:n,length:r}=t.getAll(e);if(r>1)throw new De(`"${e}" parameter must be provided only once`);return n}const Dke=Symbol(),BC=Symbol();function m5(t,e,n,r){if(iO(t),sO(e),n instanceof URL&&(n=n.searchParams),!(n instanceof URLSearchParams))throw new TypeError('"parameters" must be an instance of URLSearchParams, or URL');if(Na(n,"response"))throw new De('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()');const i=Na(n,"iss"),s=Na(n,"state");if(!i&&t.authorization_response_iss_parameter_supported)throw new De('response parameter "iss" (issuer) missing');if(i&&i!==t.issuer)throw new De('unexpected "iss" (issuer) response parameter value');switch(r){case void 0:case BC:if(s!==void 0)throw new De('unexpected "state" response parameter encountered');break;case Dke:break;default:if(!Bn(r))throw new De('"expectedState" must be a non-empty string');if(s===void 0)throw new De('response parameter "state" missing');if(s!==r)throw new De('unexpected "state" response parameter value')}const o=Na(n,"error");if(o)return{error:o,error_description:Na(n,"error_description"),error_uri:Na(n,"error_uri")};const a=Na(n,"id_token"),l=Na(n,"token");if(a!==void 0||l!==void 0)throw new so("implicit and hybrid flows are not supported");return Cke(new URLSearchParams(n))}var Qke=t=>{const n={...{origin:"*",allowMethods:["GET","HEAD","PUT","POST","DELETE","PATCH"],allowHeaders:[],exposeHeaders:[]},...t},r=(i=>typeof i=="string"?i==="*"?()=>i:s=>i===s?s:null:typeof i=="function"?i:s=>i.includes(s)?s:null)(n.origin);return async function(s,o){var c,u;function a(d,f){s.res.headers.set(d,f)}const l=r(s.req.header("origin")||"",s);if(l&&a("Access-Control-Allow-Origin",l),n.origin!=="*"){const d=s.req.header("Vary");d?a("Vary",d):a("Vary","Origin")}if(n.credentials&&a("Access-Control-Allow-Credentials","true"),(c=n.exposeHeaders)!=null&&c.length&&a("Access-Control-Expose-Headers",n.exposeHeaders.join(",")),s.req.method==="OPTIONS"){n.maxAge!=null&&a("Access-Control-Max-Age",n.maxAge.toString()),(u=n.allowMethods)!=null&&u.length&&a("Access-Control-Allow-Methods",n.allowMethods.join(","));let d=n.allowHeaders;if(!(d!=null&&d.length)){const f=s.req.header("Access-Control-Request-Headers");f&&(d=f.split(/\s*,\s*/))}return d!=null&&d.length&&(a("Access-Control-Allow-Headers",d.join(",")),s.res.headers.append("Vary","Access-Control-Request-Headers")),s.res.headers.delete("Content-Length"),s.res.headers.delete("Content-Type"),new Response(null,{headers:s.res.headers,status:204,statusText:s.res.statusText})}await o()}},g5="Payload Too Large",y5=class extends Error{constructor(t){super(t),this.name="BodyLimitError"}},$7=t=>{const e=t.onError||(()=>{const r=new Response(g5,{status:413});throw new sC(413,{res:r})}),n=t.maxSize;return async function(i,s){if(!i.req.raw.body)return s();if(i.req.raw.headers.has("content-length"))return parseInt(i.req.raw.headers.get("content-length")||"0",10)>n?e(i):s();let o=0;const a=i.req.raw.body.getReader(),c={body:new ReadableStream({async start(u){try{for(;;){const{done:d,value:f}=await a.read();if(d)break;if(o+=f.length,o>n){u.error(new y5(g5));break}u.enqueue(f)}}finally{u.close()}}}),duplex:"half"};i.req.raw=new Request(i.req.raw,c),await s(),i.error instanceof y5&&(i.res=await e(i))}};class k7{constructor(e,n,r,i){this.schema=e,this.references=n,this.checkFunc=r,this.code=i,this.hasTransform=F9(e,n)}Code(){return this.code}Errors(e){return vh(this.schema,this.references,e)}Check(e){return this.checkFunc(e)}Decode(e){if(!this.checkFunc(e))throw new D9(this.schema,e,this.Errors(e).First());return this.hasTransform?Q9(this.schema,this.references,e):e}Encode(e){const n=this.hasTransform?bhe(this.schema,this.references,e):e;if(!this.checkFunc(n))throw new lhe(this.schema,e,this.Errors(e).First());return n}}var Ua;(function(t){function e(s){return s===36}t.DollarSign=e;function n(s){return s===95}t.IsUnderscore=n;function r(s){return s>=65&&s<=90||s>=97&&s<=122}t.IsAlpha=r;function i(s){return s>=48&&s<=57}t.IsNumeric=i})(Ua||(Ua={}));var lw;(function(t){function e(s){return s.length===0?!1:Ua.IsNumeric(s.charCodeAt(0))}function n(s){if(e(s))return!1;for(let o=0;o<s.length;o++){const a=s.charCodeAt(o);if(!(Ua.IsAlpha(a)||Ua.IsNumeric(a)||Ua.DollarSign(a)||Ua.IsUnderscore(a)))return!1}return!0}function r(s){return s.replace(/'/g,"\\'")}function i(s,o){return n(o)?`${s}.${o}`:`${s}['${r(o)}']`}t.Encode=i})(lw||(lw={}));var zC;(function(t){function e(n){const r=[];for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);Ua.IsNumeric(s)||Ua.IsAlpha(s)?r.push(n.charAt(i)):r.push(`_${s}_`)}return r.join("").replace(/__/g,"_")}t.Encode=e})(zC||(zC={}));var WC;(function(t){function e(n){return n.replace(/'/g,"\\'")}t.Escape=e})(WC||(WC={}));class Fke extends Md{constructor(e){super("Unknown type"),this.schema=e}}class O5 extends Md{constructor(e){super("Preflight validation check failed to guard for the given schema"),this.schema=e}}var Ru;(function(t){function e(o,a,l){return Qo.ExactOptionalPropertyTypes?`('${a}' in ${o} ? ${l} : true)`:`(${lw.Encode(o,a)} !== undefined ? ${l} : true)`}t.IsExactOptionalProperty=e;function n(o){return Qo.AllowArrayObject?`(typeof ${o} === 'object' && ${o} !== null)`:`(typeof ${o} === 'object' && ${o} !== null && !Array.isArray(${o}))`}t.IsObjectLike=n;function r(o){return Qo.AllowArrayObject?`(typeof ${o} === 'object' && ${o} !== null && !(${o} instanceof Date) && !(${o} instanceof Uint8Array))`:`(typeof ${o} === 'object' && ${o} !== null && !Array.isArray(${o}) && !(${o} instanceof Date) && !(${o} instanceof Uint8Array))`}t.IsRecordLike=r;function i(o){return Qo.AllowNaN?`typeof ${o} === 'number'`:`Number.isFinite(${o})`}t.IsNumberLike=i;function s(o){return Qo.AllowNullVoid?`(${o} === undefined || ${o} === null)`:`${o} === undefined`}t.IsVoidLike=s})(Ru||(Ru={}));var b5;(function(t){function e(L){return L[Xn]==="Any"||L[Xn]==="Unknown"}function*n(L,ae,q){yield"true"}function*r(L,ae,q){yield`Array.isArray(${q})`;const[te,re]=[le("value","any"),le("acc","number")];ut(L.maxItems)&&(yield`${q}.length <= ${L.maxItems}`),ut(L.minItems)&&(yield`${q}.length >= ${L.minItems}`);const ue=B(L.items,ae,"value");if(yield`${q}.every((${te}) => ${ue})`,Ur(L.contains)||ut(L.minContains)||ut(L.maxContains)){const fe=Ur(L.contains)?L.contains:qW(),Ee=B(fe,ae,"value"),pe=ut(L.minContains)?[`(count >= ${L.minContains})`]:[],z=ut(L.maxContains)?[`(count <= ${L.maxContains})`]:[],ee=`const count = value.reduce((${re}, ${te}) => ${Ee} ? acc + 1 : acc, 0)`,K=["(count > 0)",...pe,...z].join(" && ");yield`((${te}) => { ${ee}; return ${K}})(${q})`}L.uniqueItems===!0&&(yield`((${te}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${q})`)}function*i(L,ae,q){yield`(typeof value === 'object' && Symbol.asyncIterator in ${q})`}function*s(L,ae,q){yield`(typeof ${q} === 'bigint')`,Of(L.exclusiveMaximum)&&(yield`${q} < BigInt(${L.exclusiveMaximum})`),Of(L.exclusiveMinimum)&&(yield`${q} > BigInt(${L.exclusiveMinimum})`),Of(L.maximum)&&(yield`${q} <= BigInt(${L.maximum})`),Of(L.minimum)&&(yield`${q} >= BigInt(${L.minimum})`),Of(L.multipleOf)&&(yield`(${q} % BigInt(${L.multipleOf})) === 0`)}function*o(L,ae,q){yield`(typeof ${q} === 'boolean')`}function*a(L,ae,q){yield*M(L.returns,ae,`${q}.prototype`)}function*l(L,ae,q){yield`(${q} instanceof Date) && Number.isFinite(${q}.getTime())`,ut(L.exclusiveMaximumTimestamp)&&(yield`${q}.getTime() < ${L.exclusiveMaximumTimestamp}`),ut(L.exclusiveMinimumTimestamp)&&(yield`${q}.getTime() > ${L.exclusiveMinimumTimestamp}`),ut(L.maximumTimestamp)&&(yield`${q}.getTime() <= ${L.maximumTimestamp}`),ut(L.minimumTimestamp)&&(yield`${q}.getTime() >= ${L.minimumTimestamp}`),ut(L.multipleOfTimestamp)&&(yield`(${q}.getTime() % ${L.multipleOfTimestamp}) === 0`)}function*c(L,ae,q){yield`(typeof ${q} === 'function')`}function*u(L,ae,q){yield`Number.isInteger(${q})`,ut(L.exclusiveMaximum)&&(yield`${q} < ${L.exclusiveMaximum}`),ut(L.exclusiveMinimum)&&(yield`${q} > ${L.exclusiveMinimum}`),ut(L.maximum)&&(yield`${q} <= ${L.maximum}`),ut(L.minimum)&&(yield`${q} >= ${L.minimum}`),ut(L.multipleOf)&&(yield`(${q} % ${L.multipleOf}) === 0`)}function*d(L,ae,q){const te=L.allOf.map(re=>B(re,ae,q)).join(" && ");if(L.unevaluatedProperties===!1){const re=W(`${new RegExp(Dv(L))};`),ue=`Object.getOwnPropertyNames(${q}).every(key => ${re}.test(key))`;yield`(${te} && ${ue})`}else if(Ur(L.unevaluatedProperties)){const re=W(`${new RegExp(Dv(L))};`),ue=`Object.getOwnPropertyNames(${q}).every(key => ${re}.test(key) || ${B(L.unevaluatedProperties,ae,`${q}[key]`)})`;yield`(${te} && ${ue})`}else yield`(${te})`}function*f(L,ae,q){yield`(typeof value === 'object' && Symbol.iterator in ${q})`}function*h(L,ae,q){typeof L.const=="number"||typeof L.const=="boolean"?yield`(${q} === ${L.const})`:yield`(${q} === '${WC.Escape(L.const)}')`}function*m(L,ae,q){yield"false"}function*g(L,ae,q){yield`(!${B(L.not,ae,q)})`}function*y(L,ae,q){yield`(${q} === null)`}function*O(L,ae,q){yield Ru.IsNumberLike(q),ut(L.exclusiveMaximum)&&(yield`${q} < ${L.exclusiveMaximum}`),ut(L.exclusiveMinimum)&&(yield`${q} > ${L.exclusiveMinimum}`),ut(L.maximum)&&(yield`${q} <= ${L.maximum}`),ut(L.minimum)&&(yield`${q} >= ${L.minimum}`),ut(L.multipleOf)&&(yield`(${q} % ${L.multipleOf}) === 0`)}function*b(L,ae,q){yield Ru.IsObjectLike(q),ut(L.minProperties)&&(yield`Object.getOwnPropertyNames(${q}).length >= ${L.minProperties}`),ut(L.maxProperties)&&(yield`Object.getOwnPropertyNames(${q}).length <= ${L.maxProperties}`);const te=Object.getOwnPropertyNames(L.properties);for(const re of te){const ue=lw.Encode(q,re),fe=L.properties[re];if(L.required&&L.required.includes(re))yield*M(fe,ae,ue),(BW(fe)||e(fe))&&(yield`('${re}' in ${q})`);else{const Ee=B(fe,ae,ue);yield Ru.IsExactOptionalProperty(q,re,Ee)}}if(L.additionalProperties===!1)if(L.required&&L.required.length===te.length)yield`Object.getOwnPropertyNames(${q}).length === ${te.length}`;else{const re=`[${te.map(ue=>`'${ue}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${q}).every(key => ${re}.includes(key))`}if(typeof L.additionalProperties=="object"){const re=B(L.additionalProperties,ae,`${q}[key]`),ue=`[${te.map(fe=>`'${fe}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${q}).every(key => ${ue}.includes(key) || ${re}))`}}function*x(L,ae,q){yield`(typeof value === 'object' && typeof ${q}.then === 'function')`}function*v(L,ae,q){yield Ru.IsRecordLike(q),ut(L.minProperties)&&(yield`Object.getOwnPropertyNames(${q}).length >= ${L.minProperties}`),ut(L.maxProperties)&&(yield`Object.getOwnPropertyNames(${q}).length <= ${L.maxProperties}`);const[te,re]=Object.entries(L.patternProperties)[0],ue=W(`${new RegExp(te)}`),fe=B(re,ae,"value"),Ee=Ur(L.additionalProperties)?B(L.additionalProperties,ae,q):L.additionalProperties===!1?"false":"true",pe=`(${ue}.test(key) ? ${fe} : ${Ee})`;yield`(Object.entries(${q}).every(([key, value]) => ${pe}))`}function*w(L,ae,q){const te=uo(L,ae);if(Q.functions.has(L.$ref))return yield`${Z(L.$ref)}(${q})`;yield*M(te,ae,q)}function*_(L,ae,q){const te=W(`${new RegExp(L.source,L.flags)};`);yield`(typeof ${q} === 'string')`,ut(L.maxLength)&&(yield`${q}.length <= ${L.maxLength}`),ut(L.minLength)&&(yield`${q}.length >= ${L.minLength}`),yield`${te}.test(${q})`}function*$(L,ae,q){yield`(typeof ${q} === 'string')`,ut(L.maxLength)&&(yield`${q}.length <= ${L.maxLength}`),ut(L.minLength)&&(yield`${q}.length >= ${L.minLength}`),L.pattern!==void 0&&(yield`${W(`${new RegExp(L.pattern)};`)}.test(${q})`),L.format!==void 0&&(yield`format('${L.format}', ${q})`)}function*k(L,ae,q){yield`(typeof ${q} === 'symbol')`}function*j(L,ae,q){yield`(typeof ${q} === 'string')`,yield`${W(`${new RegExp(L.pattern)};`)}.test(${q})`}function*P(L,ae,q){yield`${Z(L.$ref)}(${q})`}function*R(L,ae,q){if(yield`Array.isArray(${q})`,L.items===void 0)return yield`${q}.length === 0`;yield`(${q}.length === ${L.maxItems})`;for(let te=0;te<L.items.length;te++)yield`${B(L.items[te],ae,`${q}[${te}]`)}`}function*N(L,ae,q){yield`${q} === undefined`}function*A(L,ae,q){yield`(${L.anyOf.map(re=>B(re,ae,q)).join(" || ")})`}function*C(L,ae,q){yield`${q} instanceof Uint8Array`,ut(L.maxByteLength)&&(yield`(${q}.length <= ${L.maxByteLength})`),ut(L.minByteLength)&&(yield`(${q}.length >= ${L.minByteLength})`)}function*T(L,ae,q){yield"true"}function*E(L,ae,q){yield Ru.IsVoidLike(q)}function*I(L,ae,q){const te=Q.instances.size;Q.instances.set(te,L),yield`kind('${L[Xn]}', ${te}, ${q})`}function*M(L,ae,q,te=!0){const re=ad(L.$id)?[...ae,L]:ae,ue=L;if(te&&ad(L.$id)){const fe=Z(L.$id);if(Q.functions.has(fe))return yield`${fe}(${q})`;{const Ee=oe(fe,L,ae,"value",!1);return Q.functions.set(fe,Ee),yield`${fe}(${q})`}}switch(ue[Xn]){case"Any":return yield*n();case"Array":return yield*r(ue,re,q);case"AsyncIterator":return yield*i(ue,re,q);case"BigInt":return yield*s(ue,re,q);case"Boolean":return yield*o(ue,re,q);case"Constructor":return yield*a(ue,re,q);case"Date":return yield*l(ue,re,q);case"Function":return yield*c(ue,re,q);case"Integer":return yield*u(ue,re,q);case"Intersect":return yield*d(ue,re,q);case"Iterator":return yield*f(ue,re,q);case"Literal":return yield*h(ue,re,q);case"Never":return yield*m();case"Not":return yield*g(ue,re,q);case"Null":return yield*y(ue,re,q);case"Number":return yield*O(ue,re,q);case"Object":return yield*b(ue,re,q);case"Promise":return yield*x(ue,re,q);case"Record":return yield*v(ue,re,q);case"Ref":return yield*w(ue,re,q);case"RegExp":return yield*_(ue,re,q);case"String":return yield*$(ue,re,q);case"Symbol":return yield*k(ue,re,q);case"TemplateLiteral":return yield*j(ue,re,q);case"This":return yield*P(ue,re,q);case"Tuple":return yield*R(ue,re,q);case"Undefined":return yield*N(ue,re,q);case"Union":return yield*A(ue,re,q);case"Uint8Array":return yield*C(ue,re,q);case"Unknown":return yield*T();case"Void":return yield*E(ue,re,q);default:if(!Iv(ue[Xn]))throw new Fke(L);return yield*I(ue,re,q)}}const Q={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function B(L,ae,q,te=!0){return`(${[...M(L,ae,q,te)].join(" && ")})`}function Z(L){return`check_${zC.Encode(L)}`}function W(L){const ae=`local_${Q.variables.size}`;return Q.variables.set(ae,`const ${ae} = ${L}`),ae}function oe(L,ae,q,te,re=!0){const[ue,fe]=[`
`,ee=>"".padStart(ee," ")],Ee=le("value","any"),pe=U("boolean"),z=[...M(ae,q,te,re)].map(ee=>`${fe(4)}${ee}`).join(` &&${ue}`);return`function ${L}(${Ee})${pe} {${ue}${fe(2)}return (${ue}${z}${ue}${fe(2)})
}`}function le(L,ae){const q=Q.language==="typescript"?`: ${ae}`:"";return`${L}${q}`}function U(L){return Q.language==="typescript"?`: ${L}`:""}function G(L,ae,q){const te=oe("check",L,ae,"value"),re=le("value","any"),ue=U("boolean"),fe=[...Q.functions.values()],Ee=[...Q.variables.values()],pe=ad(L.$id)?`return function check(${re})${ue} {
  return ${Z(L.$id)}(value)
}`:`return ${te}`;return[...Ee,...fe,pe].join(`
`)}function ie(...L){const ae={language:"javascript"},[q,te,re]=L.length===2&&fs(L[1])?[L[0],L[1],ae]:L.length===2&&!fs(L[1])?[L[0],[],L[1]]:L.length===3?[L[0],L[1],L[2]]:L.length===1?[L[0],[],ae]:[null,[],ae];if(Q.language=re.language,Q.variables.clear(),Q.functions.clear(),Q.instances.clear(),!Ur(q))throw new O5(q);for(const ue of te)if(!Ur(ue))throw new O5(ue);return G(q,te)}t.Code=ie;function Y(L,ae=[]){const q=ie(L,ae,{language:"javascript"}),te=globalThis.Function("kind","format","hash",q),re=new Map(Q.instances);function ue(z,ee,K){if(!Iv(z)||!re.has(ee))return!1;const me=UW(z),de=re.get(ee);return me(de,K)}function fe(z,ee){return zW(z)?WW(z)(ee):!1}function Ee(z){return LW(z)}const pe=te(ue,fe,Ee);return new k7(L,ae,pe,q)}t.Compile=Y})(b5||(b5={}));let _t=class P7{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Th(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Fo.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Th(this,e,n);let r=[];return this.decompose(e,n,r,0),Fo.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new lg(this),s=new lg(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new lg(this,e)}iterRange(e,n=this.length){return new C7(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new j7(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?P7.empty:e.length<=32?new bn(e):Fo.from(bn.split(e,[]))}};class bn extends _t{constructor(e,n=Lke(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new qke(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new bn(x5(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=Gx(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new bn(a,o.length+s.length));else{let l=a.length>>1;r.push(new bn(a.slice(0,l)),new bn(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof bn))return super.replace(e,n,r);[e,n]=Th(this,e,n);let i=Gx(this.text,Gx(r.text,x5(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new bn(i,s):Fo.from(bn.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=Th(this,e,n);let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new bn(r,i)),r=[],i=-1);return i>-1&&n.push(new bn(r,i)),n}}class Fo extends _t{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let c=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!c?r.push(a):a.decompose(e-o,n-o,r,c)}o=l+1}}replace(e,n,r){if([e,n]=Th(this,e,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new Fo(u,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Th(this,e,n);let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Fo))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],c=e.children[s];if(l!=c)return r+l.scanIdentical(c,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let h of e)r+=h.lines;if(r<32){let h=[];for(let m of e)m.flatten(h);return new bn(h,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,c=-1,u=[];function d(h){let m;if(h.lines>s&&h instanceof Fo)for(let g of h.children)d(g);else h.lines>o&&(l>o||!l)?(f(),a.push(h)):h instanceof bn&&l&&(m=u[u.length-1])instanceof bn&&h.lines+m.lines<=32?(l+=h.lines,c+=h.length+1,u[u.length-1]=new bn(m.text.concat(h.text),m.length+1+h.length)):(l+h.lines>i&&f(),l+=h.lines,c+=h.length+1,u.push(h))}function f(){l!=0&&(a.push(u.length==1?u[0]:Fo.from(u,c)),c=-1,l=u.length=0)}for(let h of e)d(h);return f(),a.length==1?a[0]:new Fo(a,n)}}_t.empty=new bn([""],0);function Lke(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Gx(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function x5(t,e,n){return Gx(t,[""],e,n)}class lg{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof bn?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof bn?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof bn){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof bn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class C7{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new lg(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class j7{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(_t.prototype[Symbol.iterator]=function(){return this.iter()},lg.prototype[Symbol.iterator]=C7.prototype[Symbol.iterator]=j7.prototype[Symbol.iterator]=function(){return this});class qke{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function Th(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}let zf="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<zf.length;t++)zf[t]+=zf[t-1];function Vke(t){for(let e=1;e<zf.length;e+=2)if(zf[e]>t)return zf[e-1]<=t;return!1}function v5(t){return t>=127462&&t<=127487}const w5=8205;function pr(t,e,n=!0,r=!0){return(n?E7:Bke)(t,e,r)}function E7(t,e,n){if(e==t.length)return e;e&&T7(t.charCodeAt(e))&&N7(t.charCodeAt(e-1))&&e--;let r=dr(t,e);for(e+=ts(r);e<t.length;){let i=dr(t,e);if(r==w5||i==w5||n&&Vke(i))e+=ts(i),r=i;else if(v5(i)){let s=0,o=e-2;for(;o>=0&&v5(dr(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function Bke(t,e,n){for(;e>0;){let r=E7(t,e-2,n);if(r<e)return r;e--}return 0}function T7(t){return t>=56320&&t<57344}function N7(t){return t>=55296&&t<56320}function dr(t,e){let n=t.charCodeAt(e);if(!N7(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return T7(r)?(n-55296<<10)+(r-56320)+65536:n}function kR(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function ts(t){return t<65536?1:2}const UC=/\r\n?|\n/;var hr=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(hr||(hr={}));class Ko{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){ZC(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Ko(e)}composeDesc(e){return this.empty?e:e.empty?this:A7(this,e)}mapDesc(e,n=!1){return e.empty?this:XC(this,e,n)}mapPos(e,n=-1,r=hr.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=i+a;if(l<0){if(c>e)return s+(e-i);s+=a}else{if(r!=hr.Simple&&c>=e&&(r==hr.TrackDel&&i<e&&c>e||r==hr.TrackBefore&&i<e||r==hr.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ko(e)}static create(e){return new Ko(e)}}class Fn extends Ko{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return ZC(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return XC(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(_t.empty);r.push(o?e.slice(s,s+o):_t.empty)}s+=o}return new Fn(n,r)}compose(e){return this.empty?e:e.empty?this:A7(this,e,!0)}map(e,n=!1){return e.empty?this:XC(this,e,n,!0)}iterChanges(e,n=!1){ZC(this,e,n)}get desc(){return Ko.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new Qg(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,l-a);jr(i,u,-1);let d=s.ins==-1?-1:s.off==0?s.ins:0;jr(n,u,d),d>0&&mc(r,n,s.text),s.forward(u),a+=u}let c=e[o++];for(;a<c;){if(s.done)break e;let u=Math.min(s.len,c-a);jr(n,u,-1),jr(i,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),a+=u}}return{changes:new Fn(n,r),filtered:Ko.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(u=!1){if(!u&&!i.length)return;o<n&&jr(i,n-o,-1);let d=new Fn(i,s);a=a?a.compose(d.map(a)):d,i=[],s=[],o=0}function c(u){if(Array.isArray(u))for(let d of u)c(d);else if(u instanceof Fn){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:d,to:f=d,insert:h}=u;if(d>f||d<0||f>n)throw new RangeError(`Invalid change range ${d} to ${f} (in doc of length ${n})`);let m=h?typeof h=="string"?_t.of(h.split(r||UC)):h:_t.empty,g=m.length;if(d==f&&g==0)return;d<o&&l(),d>o&&jr(i,d-o,-1),jr(i,f-d,g),mc(s,i,m),o=f}}return c(e),l(!a),a}static empty(e){return new Fn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(_t.empty);r[i]=_t.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new Fn(n,r)}static createSet(e,n){return new Fn(e,n)}}function jr(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function mc(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(_t.empty);t.push(n)}}function ZC(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let c=i,u=s,d=_t.empty;for(;c+=a,u+=l,l&&r&&(d=d.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,c,s,u,d),i=c,s=u}}}function XC(t,e,n,r=!1){let i=[],s=r?[]:null,o=new Qg(t),a=new Qg(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);jr(i,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let c=a.len;for(jr(i,a.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=u&&(jr(i,0,o.ins),s&&mc(s,i,o.text),l=o.i),o.forward(u),c-=u}a.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(a.ins==-1){let d=Math.min(u,a.len);c+=d,u-=d,a.forward(d)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;jr(i,c,l<o.i?o.ins:0),s&&l<o.i&&mc(s,i,o.text),l=o.i,o.forward(o.len-u)}else{if(o.done&&a.done)return s?Fn.createSet(i,s):Ko.create(i);throw new Error("Mismatched change set lengths")}}function A7(t,e,n=!1){let r=[],i=n?[]:null,s=new Qg(t),o=new Qg(e);for(let a=!1;;){if(s.done&&o.done)return i?Fn.createSet(r,i):Ko.create(r);if(s.ins==0)jr(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)jr(r,0,o.ins,a),i&&mc(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=r.length;if(s.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;jr(r,l,u,a),i&&u&&mc(i,r,o.text)}else o.ins==-1?(jr(r,s.off?0:s.len,l,a),i&&mc(i,r,s.textBit(l))):(jr(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&mc(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>c),s.forward2(l),o.forward(l)}}}}class Qg{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?_t.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?_t.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class zu{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new zu(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Oe.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Oe.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Oe.range(e.anchor,e.head)}static create(e,n,r){return new zu(e,n,r)}}class Oe{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Oe.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Oe([this.main],0)}addRange(e,n=!0){return Oe.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Oe.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Oe(e.ranges.map(n=>zu.fromJSON(n)),e.main)}static single(e,n=e){return new Oe([Oe.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return Oe.normalized(e.slice(),n);r=s.to}return new Oe(e,n)}static cursor(e,n=0,r,i){return zu.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?zu.create(n,e,48|s):zu.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?Oe.range(l,a):Oe.range(a,l))}}return new Oe(e,n)}}function R7(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let PR=0;class Re{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=PR++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Re(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:CR),!!e.static,e.enables)}of(e){return new Hx([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Hx(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Hx(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function CR(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Hx{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=PR++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let d of this.dependencies)d=="doc"?l=!0:d=="selection"?c=!0:((n=e[d.id])!==null&&n!==void 0?n:1)&1||u.push(e[d.id]);return{create(d){return d.values[o]=r(d),1},update(d,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||YC(d,u)){let h=r(d);if(a?!S5(h,d.values[o],i):!i(h,d.values[o]))return d.values[o]=h,1}return 0},reconfigure:(d,f)=>{let h,m=f.config.address[s];if(m!=null){let g=uw(f,m);if(this.dependencies.every(y=>y instanceof Re?f.facet(y)===d.facet(y):y instanceof rr?f.field(y,!1)==d.field(y,!1):!0)||(a?S5(h=r(d),g,i):i(h=r(d),g)))return d.values[o]=g,0}else h=r(d);return d.values[o]=h,1}}}}function S5(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function YC(t,e){let n=!1;for(let r of e)cg(t,r)&1&&(n=!0);return n}function zke(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let c=[];for(let u=0;u<r.length;u++){let d=uw(l,r[u]);if(i[u]==2)for(let f of d)c.push(f);else c.push(d)}return e.combine(c)}return{create(l){for(let c of r)cg(l,c);return l.values[o]=a(l),1},update(l,c){if(!YC(l,s))return 0;let u=a(l);return e.compare(u,l.values[o])?0:(l.values[o]=u,1)},reconfigure(l,c){let u=YC(l,r),d=c.config.facets[e.id],f=c.facet(e);if(d&&!u&&CR(n,d))return l.values[o]=f,0;let h=a(l);return e.compare(h,f)?(l.values[o]=f,0):(l.values[o]=h,1)}}}const _5=Re.define({static:!0});class rr{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new rr(PR++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(_5).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,_5.of({field:this,create:e})]}get extension(){return this}}const Mu={lowest:4,low:3,default:2,high:1,highest:0};function um(t){return e=>new M7(e,t)}const iu={highest:um(Mu.highest),high:um(Mu.high),default:um(Mu.default),low:um(Mu.low),lowest:um(Mu.lowest)};class M7{constructor(e,n){this.inner=e,this.prec=n}}class QS{of(e){return new GC(this,e)}reconfigure(e){return QS.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class GC{constructor(e,n){this.compartment=e,this.inner=n}}class cw{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let f of Wke(e,n,o))f instanceof rr?i.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],c=[];for(let f of i)a[f.id]=c.length<<1,c.push(h=>f.slot(h));let u=r==null?void 0:r.config.facets;for(let f in s){let h=s[f],m=h[0].facet,g=u&&u[f]||[];if(h.every(y=>y.type==0))if(a[m.id]=l.length<<1|1,CR(g,h))l.push(r.facet(m));else{let y=m.combine(h.map(O=>O.value));l.push(r&&m.compare(y,r.facet(m))?r.facet(m):y)}else{for(let y of h)y.type==0?(a[y.id]=l.length<<1|1,l.push(y.value)):(a[y.id]=c.length<<1,c.push(O=>y.dynamicSlot(O)));a[m.id]=c.length<<1,c.push(y=>zke(y,m,h))}}let d=c.map(f=>f(a));return new cw(e,o,d,a,l,s)}}function Wke(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let c=r[l].indexOf(o);c>-1&&r[l].splice(c,1),o instanceof GC&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof GC){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;n.set(o.compartment,c),s(c,a)}else if(o instanceof M7)s(o.inner,o.prec);else if(o instanceof rr)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Hx)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,Mu.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(t,Mu.default),r.reduce((o,a)=>o.concat(a))}function cg(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function uw(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const I7=Re.define(),HC=Re.define({combine:t=>t.some(e=>e),static:!0}),D7=Re.define({combine:t=>t.length?t[0]:void 0,static:!0}),Q7=Re.define(),F7=Re.define(),L7=Re.define(),q7=Re.define({combine:t=>t.length?t[0]:!1});class da{constructor(e,n){this.type=e,this.value=n}static define(){return new Uke}}class Uke{of(e){return new da(this,e)}}class Zke{constructor(e){this.map=e}of(e){return new He(this,e)}}class He{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new He(this.type,n)}is(e){return this.type==e}static define(e={}){return new Zke(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}He.reconfigure=He.define();He.appendConfig=He.define();class En{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&R7(r,n.newLength),s.some(a=>a.type==En.time)||(this.annotations=s.concat(En.time.of(Date.now())))}static create(e,n,r,i,s,o){return new En(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(En.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}En.time=da.define();En.userEvent=da.define();En.addToHistory=da.define();En.remote=da.define();function Xke(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function V7(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=Fn.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:He.mapEffects(t.effects,i).concat(He.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function KC(t,e,n){let r=e.selection,i=Wf(e.annotations);return e.userEvent&&(i=i.concat(En.userEvent.of(e.userEvent))),{changes:e.changes instanceof Fn?e.changes:Fn.of(e.changes||[],n,t.facet(D7)),selection:r&&(r instanceof Oe?r:Oe.single(r.anchor,r.head)),effects:Wf(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function B7(t,e,n){let r=KC(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=V7(r,KC(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=En.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Gke(n?Yke(i):i)}function Yke(t){let e=t.startState,n=!0;for(let i of e.facet(Q7)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:Xke(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=Fn.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=En.create(e,i,t.selection&&t.selection.map(s),He.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(F7);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof En?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof En?t=s[0]:t=B7(e,Wf(s),!1)}return t}function Gke(t){let e=t.startState,n=e.facet(L7),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=V7(r,KC(e,s,t.changes.newLength),!0))}return r==t?t:En.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const Hke=[];function Wf(t){return t==null?Hke:Array.isArray(t)?t:[t]}var Ht=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Ht||(Ht={}));const Kke=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let JC;try{JC=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Jke(t){if(JC)return JC.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Kke.test(n)))return!0}return!1}function ePe(t){return e=>{if(!/\S/.test(e))return Ht.Space;if(Jke(e))return Ht.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Ht.Word;return Ht.Other}}class dt{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)cg(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return cg(this,r),uw(this,r)}update(...e){return B7(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(QS.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,c)=>i.set(c,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(He.reconfigure)?(n=null,r=a.value):a.is(He.appendConfig)&&(n=null,r=Wf(r).concat(a.value));let s;n?s=e.startState.values.slice():(n=cw.resolve(r,i,this),s=new dt(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(HC)?e.newSelection:e.newSelection.asSingle();new dt(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Oe.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=Wf(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let f=0;f<a;f++)s[f]=s[f].map(u);let d=i.mapDesc(c,!0);s.push(l.range.map(d)),i=i.compose(u),o=He.mapEffects(o,u).concat(He.mapEffects(Wf(l.effects),d))}return{changes:i,selection:Oe.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof Fn?e:Fn.of(e,this.doc.length,this.facet(dt.lineSeparator))}toText(e){return _t.of(e.split(this.facet(dt.lineSeparator)||UC))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(cg(this,n),uw(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof rr&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return dt.create({doc:e.doc,selection:Oe.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=cw.resolve(e.extensions||[],new Map),r=e.doc instanceof _t?e.doc:_t.of((e.doc||"").split(n.staticFacet(dt.lineSeparator)||UC)),i=e.selection?e.selection instanceof Oe?e.selection:Oe.single(e.selection.anchor,e.selection.head):Oe.single(0);return R7(i,r.length),n.staticFacet(HC)||(i=i.asSingle()),new dt(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(dt.tabSize)}get lineBreak(){return this.facet(dt.lineSeparator)||`
`}get readOnly(){return this.facet(q7)}phrase(e,...n){for(let r of this.facet(dt.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(I7))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return ePe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=pr(n,o,!1);if(s(n.slice(l,o))!=Ht.Word)break;o=l}for(;a<i;){let l=pr(n,a);if(s(n.slice(a,l))!=Ht.Word)break;a=l}return o==a?null:Oe.range(o+r,a+r)}}dt.allowMultipleSelections=HC;dt.tabSize=Re.define({combine:t=>t.length?t[0]:4});dt.lineSeparator=D7;dt.readOnly=q7;dt.phrases=Re.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});dt.languageData=I7;dt.changeFilter=Q7;dt.transactionFilter=F7;dt.transactionExtender=L7;QS.reconfigure=He.define();function fa(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class bd{eq(e){return this==e}range(e,n=e){return ej.create(e,n,this)}}bd.prototype.startSide=bd.prototype.endSide=0;bd.prototype.point=!1;bd.prototype.mapMode=hr.TrackDel;let ej=class z7{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new z7(e,n,r)}};function tj(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class jR{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,d=this.to[l]+e,f,h;if(u==d){let m=n.mapPos(u,c.startSide,c.mapMode);if(m==null||(f=h=m,c.startSide!=c.endSide&&(h=n.mapPos(u,c.endSide),h<f)))continue}else if(f=n.mapPos(u,c.startSide),h=n.mapPos(d,c.endSide),f>h||f==h&&c.startSide>0&&c.endSide<=0)continue;(h-f||c.endSide-c.startSide)<0||(o<0&&(o=f),c.point&&(a=Math.max(a,h-f)),r.push(c),i.push(f-o),s.push(h-o))}return{mapped:r.length?new jR(i,s,r,a):null,pos:o}}}class gt{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new gt(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(tj)),this.isEmpty)return n.length?gt.of(n):this;let a=new W7(this,null,-1).goto(0),l=0,c=[],u=new Dc;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let d=n[l++];u.addInner(d.from,d.to,d.value)||c.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(ej.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?gt.empty:this.nextLayer.update({add:c,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:d}=l.map(a,e);u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(d))}}let s=this.nextLayer.map(e);return n.length==0?s:new gt(r,n,s||gt.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Fg.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Fg.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),a=n.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),l=$5(o,a,r),c=new dm(o,l,s),u=new dm(a,l,s);r.iterGaps((d,f,h)=>k5(c,d,u,f,h,i)),r.empty&&r.length==0&&k5(c,0,u,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let s=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),o=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=$5(s,o),l=new dm(s,a,0).goto(r),c=new dm(o,a,0).goto(r);for(;;){if(l.to!=c.to||!nj(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,n,r,i,s=-1){let o=new dm(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let c=Math.min(o.to,r);if(o.point){let u=o.activeForPoint(o.to),d=o.pointFrom<n?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,l);i.point(a,c,o.point,u,d,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>a&&(i.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new Dc;for(let i of e instanceof ej?[e]:n?tPe(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return gt.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=gt.empty;i=i.nextLayer)n=new gt(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}gt.empty=new gt([],[],null,-1);function tPe(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(tj(e,r)>0)return t.slice().sort(tj);e=r}return t}gt.empty.nextLayer=gt.empty;class Dc{finishChunk(e){this.chunks.push(new jR(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Dc)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(gt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=gt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function $5(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class W7{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Fg{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new W7(o,n,r,s));return i.length==1?i[0]:new Fg(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)_$(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)_$(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),_$(this.heap,0)}}}function _$(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class dm{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Fg.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){$b(this.active,e),$b(this.activeTo,e),$b(this.activeRank,e),this.minActive=P5(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;kb(this.active,n,r),kb(this.activeTo,n,i),kb(this.activeRank,n,s),e&&kb(e,n,this.cursor.from),this.minActive=P5(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&$b(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function k5(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e;for(;;){let c=t.to+l-n.to||t.endSide-n.endSide,u=c<0?t.to+l:n.to,d=Math.min(u,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&nj(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,d,t.point,n.point):d>a&&!nj(t.active,n.active)&&s.compareRange(a,d,t.active,n.active),u>o)break;a=u,c<=0&&t.next(),c>=0&&n.next()}}function nj(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function $b(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function kb(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function P5(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function xp(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=pr(t,i));return r}function rj(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=pr(t,i)}return r===!0?-1:t.length}const ij="ͼ",C5=typeof Symbol>"u"?"__"+ij:Symbol.for(ij),sj=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),j5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Qc{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let u=[],d=/^@(\w+)\b/.exec(o[0]),f=d&&d[1]=="keyframes";if(d&&a==null)return l.push(o[0]+";");for(let h in a){let m=a[h];if(/&/.test(h))s(h.split(/,\s*/).map(g=>o.map(y=>g.replace(/&/,y))).reduce((g,y)=>g.concat(y)),m,l);else if(m&&typeof m=="object"){if(!d)throw new RangeError("The value of a property ("+h+") should be a primitive value.");s(i(h),m,u,f)}else m!=null&&u.push(h.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+m+";")}(u.length||f)&&l.push((r&&!d&&!c?o.map(r):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=j5[C5]||1;return j5[C5]=e+1,ij+e.toString(36)}static mount(e,n,r){let i=e[sj],s=r&&r.nonce;i?s&&i.setNonce(s):i=new nPe(e,s),i.mount(Array.isArray(n)?n:[n],e)}}let E5=new Map;class nPe{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=E5.get(r);if(s)return e[sj]=s;this.sheet=new i.CSSStyleSheet,E5.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[sj]=this}mount(e,n){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Fc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Lg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},rPe=typeof navigator<"u"&&/Mac/.test(navigator.platform),iPe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var fr=0;fr<10;fr++)Fc[48+fr]=Fc[96+fr]=String(fr);for(var fr=1;fr<=24;fr++)Fc[fr+111]="F"+fr;for(var fr=65;fr<=90;fr++)Fc[fr]=String.fromCharCode(fr+32),Lg[fr]=String.fromCharCode(fr);for(var $$ in Fc)Lg.hasOwnProperty($$)||(Lg[$$]=Fc[$$]);function sPe(t){var e=rPe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||iPe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Lg:Fc)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function qg(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function oj(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Kx(t,e){if(!e.anchorNode)return!1;try{return oj(t,e.anchorNode)}catch{return!1}}function Nh(t){return t.nodeType==3?vd(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function ug(t,e,n,r){return n?T5(t,e,n,r,-1)||T5(t,e,n,r,1):!1}function xd(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function dw(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function T5(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:sa(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=xd(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?sa(t):0}else return!1}}function sa(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function oO(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function oPe(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function U7(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function aPe(t,e,n,r,i,s,o,a){let l=t.ownerDocument,c=l.defaultView||window;for(let u=t,d=!1;u&&!d;)if(u.nodeType==1){let f,h=u==l.body,m=1,g=1;if(h)f=oPe(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let b=u.getBoundingClientRect();({scaleX:m,scaleY:g}=U7(u,b)),f={left:b.left,right:b.left+u.clientWidth*m,top:b.top,bottom:b.top+u.clientHeight*g}}let y=0,O=0;if(i=="nearest")e.top<f.top?(O=-(f.top-e.top+o),n>0&&e.bottom>f.bottom+O&&(O=e.bottom-f.bottom+O+o)):e.bottom>f.bottom&&(O=e.bottom-f.bottom+o,n<0&&e.top-O<f.top&&(O=-(f.top+O-e.top+o)));else{let b=e.bottom-e.top,x=f.bottom-f.top;O=(i=="center"&&b<=x?e.top+b/2-x/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-x+o)-f.top}if(r=="nearest"?e.left<f.left?(y=-(f.left-e.left+s),n>0&&e.right>f.right+y&&(y=e.right-f.right+y+s)):e.right>f.right&&(y=e.right-f.right+s,n<0&&e.left<f.left+y&&(y=-(f.left+y-e.left+s))):y=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==a?e.left-s:e.right-(f.right-f.left)+s)-f.left,y||O)if(h)c.scrollBy(y,O);else{let b=0,x=0;if(O){let v=u.scrollTop;u.scrollTop+=O/g,x=(u.scrollTop-v)*g}if(y){let v=u.scrollLeft;u.scrollLeft+=y/m,b=(u.scrollLeft-v)*m}e={left:e.left-b,top:e.top-x,right:e.right-b,bottom:e.bottom-x},b&&Math.abs(b-y)<1&&(r="nearest"),x&&Math.abs(x-O)<1&&(i="nearest")}if(h)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function lPe(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class cPe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?sa(n):0),r,Math.min(e.focusOffset,r?sa(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let cf=null;function Z7(t){if(t.setActive)return t.setActive();if(cf)return t.focus(cf);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(cf==null?{get preventScroll(){return cf={preventScroll:!0},!0}}:void 0),!cf){cf=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let N5;function vd(t,e,n=e){let r=N5||(N5=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Uf(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function uPe(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function X7(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function dPe(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,sa(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=sa(n))}else{if(n==t)return!0;r=xd(n),n=n.parentNode}}function Y7(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function G7(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=sa(n)}else if(n.parentNode&&!dw(n))r=xd(n),n=n.parentNode;else return null}}function H7(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!dw(n))r=xd(n)+1,n=n.parentNode;else return null}}class Nr{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Nr(e.parentNode,xd(e),n)}static after(e,n){return new Nr(e.parentNode,xd(e)+1,n)}}const ER=[];class Qt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=Qt.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=o.dom&&(n.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=A5(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=A5(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=sa(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Qt.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let d=this.children[l],f=c+d.length;if(c<e&&f>n)return d.domBoundsAround(e,n,c);if(f>=e&&i==-1&&(i=l,s=c),c>n&&d.dom.parentNode==this.dom){o=l,a=u;break}u=f,c=f+d.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=ER){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new K7(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Qt.prototype.breakAfter=0;function A5(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class K7{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function J7(t,e,n,r,i,s,o,a,l){let{children:c}=t,u=c.length?c[e]:null,d=s.length?s[s.length-1]:null,f=d?d.breakAfter:o;if(!(e==r&&u&&!o&&!f&&s.length<2&&u.merge(n,i,s.length?d:null,n==0,a,l))){if(r<c.length){let h=c[r];h&&(i<h.length||h.breakAfter&&(d!=null&&d.breakAfter))?(e==r&&(h=h.split(i),i=0),!f&&d&&h.merge(0,i,d,!0,0,l)?s[s.length-1]=h:((i||h.children.length&&!h.children[0].length)&&h.merge(0,i,null,!1,0,l),s.push(h))):h!=null&&h.breakAfter&&(d?d.breakAfter=1:o=1),r++}for(u&&(u.breakAfter=o,n>0&&(!o&&s.length&&u.merge(n,u.length,s[0],!1,a,0)?u.breakAfter=s.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,a,0),e++));e<r&&s.length;)if(c[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function eZ(t,e,n,r,i,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:c,off:u}=o.findPos(e,-1),d=e-n;for(let f of r)d+=f.length;t.length+=d,J7(t,c,u,a,l,r,0,i,s)}let oi=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},aj=typeof document<"u"?document:{documentElement:{style:{}}};const lj=/Edge\/(\d+)/.exec(oi.userAgent),tZ=/MSIE \d/.test(oi.userAgent),cj=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(oi.userAgent),FS=!!(tZ||cj||lj),R5=!FS&&/gecko\/(\d+)/i.test(oi.userAgent),k$=!FS&&/Chrome\/(\d+)/.exec(oi.userAgent),M5="webkitFontSmoothing"in aj.documentElement.style,nZ=!FS&&/Apple Computer/.test(oi.vendor),I5=nZ&&(/Mobile\/\w+/.test(oi.userAgent)||oi.maxTouchPoints>2);var Me={mac:I5||/Mac/.test(oi.platform),windows:/Win/.test(oi.platform),linux:/Linux|X11/.test(oi.platform),ie:FS,ie_version:tZ?aj.documentMode||6:cj?+cj[1]:lj?+lj[1]:0,gecko:R5,gecko_version:R5?+(/Firefox\/(\d+)/.exec(oi.userAgent)||[0,0])[1]:0,chrome:!!k$,chrome_version:k$?+k$[1]:0,ios:I5,android:/Android\b/.test(oi.userAgent),webkit:M5,safari:nZ,webkit_version:M5?+(/\bAppleWebKit\/(\d+)/.exec(oi.userAgent)||[0,0])[1]:0,tabSize:aj.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const fPe=256;class oo extends Qt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof oo)||this.length-(n-e)+r.length>fPe||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new oo(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Nr(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return hPe(this.dom,e,n)}}class pl extends Qt{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(X7(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,s,o){return r&&(!(r instanceof pl&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(eZ(this,e,n,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new pl(this.mark,n,o)}domAtPos(e){return rZ(this,e)}coordsAt(e,n){return sZ(this,e,n)}}function hPe(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?Me.chrome||Me.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=vd(t,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return Me.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?oO(l,o<0):l||null}class gc extends Qt{static create(e,n,r){return new gc(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=gc.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,s,o){return r&&(!(r instanceof gc)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof gc&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return _t.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):_t.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Nr.before(this.dom):Nr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return oO(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Ah extends Qt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Ah&&e.side==this.side}split(){return new Ah(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Nr.before(this.dom):Nr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return _t.empty}get isHidden(){return!0}}oo.prototype.children=gc.prototype.children=Ah.prototype.children=ER;function rZ(t,e){let n=t.dom,{children:r}=t,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new Nr(n,0)}function iZ(t,e,n){let r,{children:i}=t;n>0&&e instanceof pl&&i.length&&(r=i[i.length-1])instanceof pl&&r.mark.eq(e.mark)?iZ(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function sZ(t,e,n){let r=null,i=-1,s=null,o=-1;function a(c,u){for(let d=0,f=0;d<c.children.length&&f<=u;d++){let h=c.children[d],m=f+h.length;m>=u&&(h.children.length?a(h,u-f):(!s||s.isHidden&&n>0)&&(m>u||f==m&&h.getSide()>0)?(s=h,o=u-f):(f<u||f==m&&h.getSide()<0&&!h.isHidden)&&(r=h,i=u-f)),f=m}}a(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):pPe(t)}function pPe(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Nh(e);return n[n.length-1]||null}function uj(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const D5=Object.create(null);function fw(t,e,n){if(t==e)return!0;t||(t=D5),e||(e=D5);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function dj(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function mPe(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class ha{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Yr=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Yr||(Yr={}));class Be extends bd{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new aO(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Lc(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=oZ(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new Lc(e,r,i,n,e.widget||null,!0)}static line(e){return new lO(e)}static set(e,n=!1){return gt.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Be.none=gt.empty;class aO extends Be{constructor(e){let{start:n,end:r}=oZ(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof aO&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&fw(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}aO.prototype.point=!1;class lO extends Be{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof lO&&this.spec.class==e.spec.class&&fw(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}lO.prototype.mapMode=hr.TrackBefore;lO.prototype.point=!0;class Lc extends Be{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?hr.TrackBefore:hr.TrackAfter:hr.TrackDel}get type(){return this.startSide!=this.endSide?Yr.WidgetRange:this.startSide<=0?Yr.WidgetBefore:Yr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Lc&&gPe(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Lc.prototype.point=!0;function oZ(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function gPe(t,e){return t==e||!!(t&&e&&t.compare(e))}function fj(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Pn extends Qt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,o){if(r){if(!(r instanceof Pn))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),eZ(this,e,n,r?r.children.slice():[],s,o),!0}split(e){let n=new Pn;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){fw(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){iZ(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=uj(n,this.attrs||{})),r&&(this.attrs=uj({class:r},this.attrs||{}))}domAtPos(e){return rZ(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(X7(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(dj(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&Qt.get(i)instanceof pl;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Qt.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Me.ios||!this.children.some(s=>s instanceof oo))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof oo)||/[^ -~]/.test(r.text))return null;let i=Nh(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=sZ(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof Pn&&this.children.length==0&&e.children.length==0&&fw(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=n){if(s instanceof Pn)return s;if(o>n)break}i=o+s.breakAfter}return null}}class nl extends Qt{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,o){return r&&(!(r instanceof nl)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Nr.before(this.dom):Nr.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new nl(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return ER}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):_t.empty}domBoundsAround(){return null}become(e){return e instanceof nl&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof hj?null:oO(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class hj extends ha{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class dg{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof nl&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Pn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Pb(new Ah(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof nl)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Pb(new oo(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof Lc){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof Lc)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new nl(r.widget||Rh.block,a,r));else{let l=gc.create(r.widget||Rh.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<n||r.startSide>0),u=!l.isEditable&&(e<n||s>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(d.append(Pb(new Ah(1),i),s),s=i.length+Math.max(0,s-i.length)),d.append(Pb(l,i),s),this.atCursorPos=u,this.pendingBuffer=u?e<n||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let o=new dg(e,n,r,s);return o.openEnd=gt.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Pb(t,e){for(let n of e)t=new pl(n,[t],t.length);return t}class Rh extends ha{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Rh.inline=new Rh("span");Rh.block=new Rh("div");var Xt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Xt||(Xt={}));const wd=Xt.LTR,TR=Xt.RTL;function aZ(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const yPe=aZ("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),OPe=aZ("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),pj=Object.create(null),_o=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);pj[e]=n,pj[n]=-e}function lZ(t){return t<=247?yPe[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?OPe[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const bPe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class yc{get dir(){return this.level%2?TR:wd}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function cZ(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!cZ(r.inner,i.inner))return!1}return!0}const Dt=[];function xPe(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:n,l=s?256:i;for(let c=o,u=l,d=l;c<a;c++){let f=lZ(t.charCodeAt(c));f==512?f=u:f==8&&d==4&&(f=16),Dt[c]=f==4?2:f,f&7&&(d=f),u=f}for(let c=o,u=l,d=l;c<a;c++){let f=Dt[c];if(f==128)c<a-1&&u==Dt[c+1]&&u&24?f=Dt[c]=u:Dt[c]=256;else if(f==64){let h=c+1;for(;h<a&&Dt[h]==64;)h++;let m=c&&u==8||h<n&&Dt[h]==8?d==1?1:8:256;for(let g=c;g<h;g++)Dt[g]=m;c=h-1}else f==8&&d==1&&(Dt[c]=1);u=f,f&7&&(d=f)}}}function vPe(t,e,n,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let c=o?r[o-1].to:e,u=o<r.length?r[o].from:n;for(let d=c,f,h,m;d<u;d++)if(h=pj[f=t.charCodeAt(d)])if(h<0){for(let g=a-3;g>=0;g-=3)if(_o[g+1]==-h){let y=_o[g+2],O=y&2?i:y&4?y&1?s:i:0;O&&(Dt[d]=Dt[_o[g]]=O),a=g;break}}else{if(_o.length==189)break;_o[a++]=d,_o[a++]=f,_o[a++]=l}else if((m=Dt[d])==2||m==1){let g=m==i;l=g?0:1;for(let y=a-3;y>=0;y-=3){let O=_o[y+2];if(O&2)break;if(g)_o[y+2]|=2;else{if(O&4)break;_o[y+2]|=4}}}}}function wPe(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=o;l<a;){let c=Dt[l];if(c==256){let u=l+1;for(;;)if(u==a){if(i==n.length)break;u=n[i++].to,a=i<n.length?n[i].from:e}else if(Dt[u]==256)u++;else break;let d=s==1,f=(u<e?Dt[u]:r)==1,h=d==f?d?1:2:r;for(let m=u,g=i,y=g?n[g-1].to:t;m>l;)m==y&&(m=n[--g].from,y=g?n[g-1].to:t),Dt[--m]=h;l=u}else s=c,l++}}}function mj(t,e,n,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<n;){let u=!0,d=!1;if(c==s.length||l<s[c].from){let g=Dt[l];g!=a&&(u=!1,d=g==16)}let f=!u&&a==1?[]:null,h=u?r:r+1,m=l;e:for(;;)if(c<s.length&&m==s[c].from){if(d)break e;let g=s[c];if(!u)for(let y=g.to,O=c+1;;){if(y==n)break e;if(O<s.length&&s[O].from==y)y=s[O++].to;else{if(Dt[y]==a)break e;break}}if(c++,f)f.push(g);else{g.from>l&&o.push(new yc(l,g.from,h));let y=g.direction==wd!=!(h%2);gj(t,y?r+1:r,i,g.inner,g.from,g.to,o),l=g.to}m=g.to}else{if(m==n||(u?Dt[m]!=a:Dt[m]==a))break;m++}f?mj(t,l,m,r+1,i,f,o):l<m&&o.push(new yc(l,m,h)),l=m}else for(let l=n,c=s.length;l>e;){let u=!0,d=!1;if(!c||l>s[c-1].to){let g=Dt[l-1];g!=a&&(u=!1,d=g==16)}let f=!u&&a==1?[]:null,h=u?r:r+1,m=l;e:for(;;)if(c&&m==s[c-1].to){if(d)break e;let g=s[--c];if(!u)for(let y=g.from,O=c;;){if(y==e)break e;if(O&&s[O-1].to==y)y=s[--O].from;else{if(Dt[y-1]==a)break e;break}}if(f)f.push(g);else{g.to<l&&o.push(new yc(g.to,l,h));let y=g.direction==wd!=!(h%2);gj(t,y?r+1:r,i,g.inner,g.from,g.to,o),l=g.from}m=g.from}else{if(m==e||(u?Dt[m-1]!=a:Dt[m-1]==a))break;m--}f?mj(t,m,l,r+1,i,f,o):m<l&&o.push(new yc(m,l,h)),l=m}}function gj(t,e,n,r,i,s,o){let a=e%2?2:1;xPe(t,i,s,r,a),vPe(t,i,s,r,a),wPe(i,s,r,a),mj(t,i,s,e,n,r,o)}function SPe(t,e,n){if(!t)return[new yc(0,0,e==TR?1:0)];if(e==wd&&!n.length&&!bPe.test(t))return uZ(t.length);if(n.length)for(;t.length>Dt.length;)Dt[Dt.length]=256;let r=[],i=e==wd?0:1;return gj(t,i,i,n,0,t.length,r),r}function uZ(t){return[new yc(0,t,0)]}let dZ="";function _Pe(t,e,n,r,i){var s;let o=r.head-t.from,a=yc.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],c=l.side(i,n);if(o==c){let f=a+=i?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],o=l.side(!i,n),c=l.side(i,n)}let u=pr(t.text,o,l.forward(i,n));(u<l.from||u>l.to)&&(u=c),dZ=t.text.slice(Math.min(o,u),Math.max(o,u));let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d&&u==c&&d.level+(i?0:1)<l.level?Oe.cursor(d.side(!i,n)+t.from,d.forward(i,n)?1:-1,d.level):Oe.cursor(u+t.from,l.forward(i,n)?-1:1,l.level)}function $Pe(t,e,n){for(let r=e;r<n;r++){let i=lZ(t.charCodeAt(r));if(i==1)return wd;if(i==2||i==4)return TR}return wd}const fZ=Re.define(),hZ=Re.define(),pZ=Re.define(),mZ=Re.define(),yj=Re.define(),gZ=Re.define(),yZ=Re.define(),NR=Re.define(),AR=Re.define(),OZ=Re.define({combine:t=>t.some(e=>e)}),bZ=Re.define({combine:t=>t.some(e=>e)}),xZ=Re.define();class Zf{constructor(e,n="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Zf(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Zf(Oe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Cb=He.define({map:(t,e)=>t.map(e)}),vZ=He.define();function ui(t,e,n){let r=t.facet(mZ);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const nc=Re.define({combine:t=>t.length?t[0]:!0});let kPe=0;const Lm=Re.define();class vn{constructor(e,n,r,i,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.extension=s(this)}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=n||{};return new vn(kPe++,e,r,i,a=>{let l=[Lm.of(a)];return o&&l.push(Vg.of(c=>{let u=c.plugin(a);return u?o(u):Be.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return vn.define(r=>new e(r),n)}}class P${constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(ui(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){ui(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){ui(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const wZ=Re.define(),RR=Re.define(),Vg=Re.define(),SZ=Re.define(),MR=Re.define(),_Z=Re.define();function Q5(t,e){let n=t.state.facet(_Z);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(t):s),i=[];return gt.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,u=o-e.from,d=i;for(let f=a.length-1;f>=0;f--,l--){let h=a[f].spec.bidiIsolate,m;if(h==null&&(h=$Pe(e.text,c,u)),l>0&&d.length&&(m=d[d.length-1]).to==c&&m.direction==h)m.to=u,d=m.inner;else{let g={from:c,to:u,direction:h,inner:[]};d.push(g),d=g.inner}}}}),i}const $Z=Re.define();function kZ(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet($Z)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const qm=Re.define();class as{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new as(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],c=o-a,u=l?l.fromB:1e9;for(;s<n.length&&n[s]<u;){let d=n[s],f=n[s+1],h=Math.max(a,d),m=Math.min(u,f);if(h<=m&&new as(h+c,m+c,h,m).addToSet(r),f>u)break;s+=2}if(!l)return r;new as(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class hw{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Fn.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new as(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new hw(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class F5 extends Qt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Be.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Pn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new as(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!APe(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?CPe(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;r=new as(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Me.ie||Me.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=TPe(o,a,e.changes);return r=as.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Me.chrome||Me.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof nl&&o.widget instanceof hj&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:d}=a,f,h,m,g;if(r&&r.range.fromB<d&&r.range.toB>u){let v=dg.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),w=dg.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);h=v.breakAtStart,m=v.openStart,g=w.openEnd;let _=this.compositionView(r);w.breakAtStart?_.breakAfter=1:w.content.length&&_.merge(_.length,_.length,w.content[0],!1,w.openStart,0)&&(_.breakAfter=w.content[0].breakAfter,w.content.shift()),v.content.length&&_.merge(0,0,v.content[v.content.length-1],!0,0,v.openEnd)&&v.content.pop(),f=v.content.concat(_).concat(w.content)}else({content:f,breakAtStart:h,openStart:m,openEnd:g}=dg.build(this.view.state.doc,u,d,this.decorations,this.dynamicDecorationMap));let{i:y,off:O}=s.findPos(c,1),{i:b,off:x}=s.findPos(l,-1);J7(this,b,x,y,O,f,h,m,g)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(vZ)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new oo(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new pl(i,[n],n.length);let r=new Pn;return r.append(n,0),r}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Qt.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],n(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&Kx(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Me.gecko&&a.empty&&!this.hasComposition&&PPe(l)){let d=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=c=new Nr(d,0),o=!0}let u=this.view.observer.selectionRange;(o||!u.focusNode||(!ug(l.node,l.offset,u.anchorNode,u.anchorOffset)||!ug(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{Me.android&&Me.chrome&&this.dom.contains(u.focusNode)&&NPe(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=qg(this.view.root);if(d)if(a.empty){if(Me.gecko){let f=jPe(l.node,l.offset);if(f&&f!=3){let h=(f==1?G7:H7)(l.node,l.offset);h&&(l=new Nr(h.node,h.offset))}}d.collapse(l.node,l.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(c.node,c.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),f.setEnd(c.node,c.offset),f.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(f)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Nr(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new Nr(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&ug(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=qg(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=Pn.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);r.collapse(u.node,u.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=n.from&&r.collapse(i,s)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let s=Qt.get(n.childNodes[i]);s instanceof Pn&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=Qt.get(n.childNodes[i]);s instanceof Pn&&(r=s.domAtPos(s.length))}return r?new Nr(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=Qt.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof Pn)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof Pn&&!(r instanceof Pn&&n>=0)))r=a,i=c;else if(r&&c==e&&l==e&&a instanceof nl&&Math.abs(n)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=c}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof Pn))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof oo))return null;let s=pr(i.text,r);if(s==r)return null;let o=vd(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Xt.LTR;for(let c=0,u=0;u<this.children.length;u++){let d=this.children[u],f=c+d.length;if(f>i)break;if(c>=r){let h=d.dom.getBoundingClientRect();if(n.push(h.height),o){let m=d.dom.lastChild,g=m?Nh(m):[];if(g.length){let y=g[g.length-1],O=l?y.right-h.left:h.right-y.left;O>a&&(a=O,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+d.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Xt.RTL:Xt.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Pn){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Nh(e.firstChild)[0];n=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new K7(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Be.replace({widget:new hj(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return Be.set(e)}updateDeco(){let e=1,n=this.view.state.facet(Vg).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(SZ).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(gt.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(xZ))try{if(c(this.view,e.range,e))return!0}catch(u){ui(this.view.state,u,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=kZ(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;aPe(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Xt.LTR)}}function PPe(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function PZ(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=G7(n.focusNode,n.focusOffset),i=H7(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=Qt.get(i.node);if(!a||a instanceof oo&&a.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let l=Qt.get(r.node);!l||l instanceof oo&&l.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function CPe(t,e,n){let r=PZ(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,c=new as(l.mapPos(s),l.mapPos(o),s,o),u=[];for(let d=i.parentNode;;d=d.parentNode){let f=Qt.get(d);if(f instanceof pl)u.push({node:d,deco:f.mark});else{if(f instanceof Pn||d.nodeName=="DIV"&&d.parentNode==t.contentDOM)return{range:c,text:i,marks:u,line:d};if(d!=t.contentDOM)u.push({node:d,deco:new aO({inclusive:!0,attributes:mPe(d),tagName:d.tagName.toLowerCase()})});else return null}}}function jPe(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let EPe=class{constructor(){this.changes=[]}compareRange(e,n){fj(e,n,this.changes)}comparePoint(e,n){fj(e,n,this.changes)}};function TPe(t,e,n){let r=new EPe;return gt.compare(t,e,n,r),r.changes}function NPe(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function APe(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function RPe(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return Oe.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=pr(i.text,s,!1):a=pr(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let c=pr(i.text,o,!1);if(r(i.text.slice(c,o))!=l)break;o=c}for(;a<i.length;){let c=pr(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return Oe.range(o+i.from,a+i.from)}function MPe(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function IPe(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function C$(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function L5(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function q5(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Oj(t,e,n){let r,i,s,o,a=!1,l,c,u,d;for(let m=t.firstChild;m;m=m.nextSibling){let g=Nh(m);for(let y=0;y<g.length;y++){let O=g[y];i&&C$(i,O)&&(O=L5(q5(O,i.bottom),i.top));let b=MPe(e,O),x=IPe(n,O);if(b==0&&x==0)return m.nodeType==3?V5(m,e,n):Oj(m,e,n);if(!r||o>x||o==x&&s>b){r=m,i=O,s=b,o=x;let v=x?n<O.top?-1:1:b?e<O.left?-1:1:0;a=!v||(v>0?y<g.length-1:y>0)}b==0?n>O.bottom&&(!u||u.bottom<O.bottom)?(l=m,u=O):n<O.top&&(!d||d.top>O.top)&&(c=m,d=O):u&&C$(u,O)?u=q5(u,O.bottom):d&&C$(d,O)&&(d=L5(d,O.top))}}if(u&&u.bottom>=n?(r=l,i=u):d&&d.top<=n&&(r=c,i=d),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return V5(r,f,n);if(a&&r.contentEditable!="false")return Oj(r,f,n);let h=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:h}}function V5(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=vd(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let d=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&d<s){let f=e>=(u.left+u.right)/2,h=f;if((Me.chrome||Me.gecko)&&vd(t,a).getBoundingClientRect().left==u.right&&(h=!f),d<=0)return{node:t,offset:a+(h?1:0)};i=a+(h?1:0),s=d}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function CZ(t,e,n,r=-1){var i,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:u,y:d}=e,f=d-a;if(f<0)return 0;if(f>c)return t.state.doc.length;for(let v=t.viewState.heightOracle.textHeight/2,w=!1;l=t.elementAtHeight(f),l.type!=Yr.Text;)for(;f=r>0?l.bottom+v:l.top-v,!(f>=0&&f<=c);){if(w)return n?null:0;w=!0,r=-r}d=a+f;let h=l.from;if(h<t.viewport.from)return t.viewport.from==0?0:n?null:B5(t,o,l,u,d);if(h>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:B5(t,o,l,u,d);let m=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:m,y=g.elementFromPoint(u,d);y&&!t.contentDOM.contains(y)&&(y=null),y||(u=Math.max(o.left+1,Math.min(o.right-1,u)),y=g.elementFromPoint(u,d),y&&!t.contentDOM.contains(y)&&(y=null));let O,b=-1;if(y&&((i=t.docView.nearest(y))===null||i===void 0?void 0:i.isEditable)!=!1){if(m.caretPositionFromPoint){let v=m.caretPositionFromPoint(u,d);v&&({offsetNode:O,offset:b}=v)}else if(m.caretRangeFromPoint){let v=m.caretRangeFromPoint(u,d);v&&({startContainer:O,startOffset:b}=v,(!t.contentDOM.contains(O)||Me.safari&&DPe(O,b,u)||Me.chrome&&QPe(O,b,u))&&(O=void 0))}O&&(b=Math.min(sa(O),b))}if(!O||!t.docView.dom.contains(O)){let v=Pn.find(t.docView,h);if(!v)return f>l.top+l.height/2?l.to:l.from;({node:O,offset:b}=Oj(v.dom,u,d))}let x=t.docView.nearest(O);if(!x)return null;if(x.isWidget&&((s=x.dom)===null||s===void 0?void 0:s.nodeType)==1){let v=x.dom.getBoundingClientRect();return e.y<v.top||e.y<=v.bottom&&e.x<=(v.left+v.right)/2?x.posAtStart:x.posAtEnd}else return x.localPosFromDOM(O,b)+x.posAtStart}function B5(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+rj(o,s,t.state.tabSize)}function DPe(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return vd(t,r-1,r).getBoundingClientRect().left>n}function QPe(t,e,n){if(e!=0)return!1;for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=t.nodeType==1?t.getBoundingClientRect():vd(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function bj(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==Yr.Text))return r}return n}function FPe(t,e,n,r){let i=bj(t,e.head),s=!r||i.type!=Yr.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==Xt.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Oe.cursor(l,n?-1:1)}return Oe.cursor(n?i.to:i.from,n?-1:1)}function z5(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let c=_Pe(i,s,o,a,n),u=dZ;if(!c){if(i.number==(n?t.state.doc.lines:1))return a;u=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),c=t.visualLineSide(i,!n)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function LPe(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==Ht.Space&&(i=o),i==o}}function qPe(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return Oe.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i,e.assoc||-1),u=t.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let h=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-h.from))),a=(s<0?h.top:h.bottom)+u}let d=l.left+o,f=r??t.viewState.heightOracle.textHeight>>1;for(let h=0;;h+=10){let m=a+(f+h)*s,g=CZ(t,{x:d,y:m},!1,s);if(m<l.top||m>l.bottom||(s<0?g<i:g>i)){let y=t.docView.coordsForChar(g),O=!y||m<y.top?-1:1;return Oe.cursor(g,O,void 0,o)}}}function Jx(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||n||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function j$(t,e,n){let r=Jx(t.state.facet(MR).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:Oe.cursor(r,r<n.from?1:-1)}const Vm="￿";class VPe{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(dt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Vm}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==n)break;let a=Qt.get(i),l=Qt.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:dw(i))||dw(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let n=Qt.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(BPe(e,r.node,r.offset)?n:0))}}function BPe(t,e,n){for(;;){if(!e||n<sa(e))return!1;if(e==t)return!0;n=xd(e)+1,e=e.parentNode}}class W5{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class zPe{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=s||o?[]:ZPe(e),l=new VPe(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=XPe(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!oj(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!oj(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((Me.ios||Me.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let d=Math.min(l,c),f=Math.max(l,c),h=u.from-d,m=u.to-f;(h==0||h==1||d==0)&&(m==0||m==-1||f==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=Oe.single(c,l)}}}function jZ(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,c=null;(s===8||Me.android&&e.text.length<a-o)&&(l=i.to,c="end");let u=UPe(t.state.doc.sliceString(o,a,Vm),e.text,l-o,c);u&&(Me.chrome&&s==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==Vm+Vm&&u.toB--,n={from:o+u.from,to:o+u.toA,insert:_t.of(e.text.slice(u.from,u.toB).split(Vm))})}else r&&(!t.hasFocus&&t.state.facet(nc)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:(Me.mac||Me.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Oe.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:_t.of([" "])}):Me.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Oe.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:_t.of([" "])}),n)return IR(t,n,r,s);if(r&&!r.main.eq(i)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function IR(t,e,n,r=-1){if(Me.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(Me.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Uf(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Uf(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Uf(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=WPe(t,e,n));return t.state.facet(gZ).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function WPe(t,e,n){let r,i=t.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=s.from<e.from?i.sliceDoc(s.from,e.from):"",l=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=i.changes(e),l=n&&n.main.to<=a.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=t.state.sliceDoc(e.from,e.to),u,d=n&&PZ(t,n.main.head);if(d){let m=e.insert.length-(e.to-e.from);u={from:d.from,to:d.to-m}}else u=t.state.doc.lineAt(s.head);let f=s.to-e.to,h=s.to-s.from;r=i.changeByRange(m=>{if(m.from==s.from&&m.to==s.to)return{changes:a,range:l||m.map(a)};let g=m.to-f,y=g-c.length;if(m.to-m.from!=h||t.state.sliceDoc(y,g)!=c||m.to>=u.from&&m.from<=u.to)return{range:m};let O=i.changes({from:y,to:g,insert:e.insert}),b=m.to-s.to;return{changes:O,range:l?Oe.range(Math.max(0,l.anchor+b),Math.max(0,l.head+b)):m.map(O)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function UPe(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function ZPe(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new W5(n,r)),(i!=n||s!=r)&&e.push(new W5(i,s))),e}function XPe(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Oe.single(n+e,r+e):null}class YPe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Me.safari&&e.contentDOM.addEventListener("input",()=>null),Me.gecko&&dCe(e.contentDOM.ownerDocument)}handleEvent(e){!rCe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=GPe(e),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&TZ.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Me.android&&Me.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return Me.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=EZ.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||HPe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Uf(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Me.safari&&!Me.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function U5(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){ui(n.state,i)}}}function GPe(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec;if(i&&i.domEventHandlers)for(let s in i.domEventHandlers){let o=i.domEventHandlers[s];o&&n(s).handlers.push(U5(r.value,o))}if(i&&i.domEventObservers)for(let s in i.domEventObservers){let o=i.domEventObservers[s];o&&n(s).observers.push(U5(r.value,o))}}for(let r in ao)n(r).handlers.push(ao[r]);for(let r in Os)n(r).observers.push(Os[r]);return e}const EZ=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],HPe="dthko",TZ=[16,17,18,20,91,92,224,225],jb=6;function Eb(t){return Math.max(0,t)*.7+8}function KPe(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class JPe{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=lPe(e.contentDOM),this.atoms=e.state.facet(MR).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(dt.allowMultipleSelections)&&eCe(e,n),this.dragging=nCe(e,n)&&RZ(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&KPe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=kZ(this.view);e.clientX-l.left<=i+jb?n=-Eb(i-e.clientX):e.clientX+l.right>=o-jb&&(n=Eb(e.clientX-o)),e.clientY-l.top<=s+jb?r=-Eb(s-e.clientY):e.clientY+l.bottom>=a-jb&&(r=Eb(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=Jx(this.atoms,i.from,0);o!=i.from&&(s=Oe.cursor(o,-1))}else{let o=Jx(this.atoms,i.from,-1),a=Jx(this.atoms,i.to,1);(o!=i.from||a!=i.to)&&(s=Oe.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?Oe.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function eCe(t,e){let n=t.state.facet(fZ);return n.length?n[0](e):Me.mac?e.metaKey:e.ctrlKey}function tCe(t,e){let n=t.state.facet(hZ);return n.length?n[0](e):Me.mac?!e.altKey:!e.ctrlKey}function nCe(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=qg(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function rCe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Qt.get(n))&&r.ignoreEvent(e))return!1;return!0}const ao=Object.create(null),Os=Object.create(null),NZ=Me.ie&&Me.ie_version<15||Me.ios&&Me.webkit_version<604;function iCe(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),AZ(t,n.value)},50)}function LS(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function AZ(t,e){e=LS(t.state,NR,e);let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(xj!=null&&n.selection.ranges.every(l=>l.empty)&&xj==s.toString()){let l=-1;r=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let d=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:d},range:Oe.cursor(c.from+d.length)}})}else o?r=n.changeByRange(l=>{let c=s.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Oe.cursor(l.from+c.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Os.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};ao.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Os.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Os.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};ao.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(pZ))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=aCe(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new JPe(t,e,n,r)),r&&t.observer.ignore(()=>{Z7(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function Z5(t,e,n,r){if(r==1)return Oe.cursor(e,n);if(r==2)return RPe(t.state,e,n);{let i=Pn.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,Oe.range(o,a)}}let X5=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function sCe(t,e,n,r){let i=Pn.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&X5(n,r,o))return-1;let a=i.coordsAt(s,1);return a&&X5(n,r,a)?1:o&&o.bottom>=r?-1:1}function Y5(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:sCe(t,n,e.clientX,e.clientY)}}const oCe=Me.ie&&Me.ie_version<=11;let G5=null,H5=0,K5=0;function RZ(t){if(!oCe)return t.detail;let e=G5,n=K5;return G5=t,K5=Date.now(),H5=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(H5+1)%3:1}function aCe(t,e){let n=Y5(t,e),r=RZ(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=Y5(t,s),c,u=Z5(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){let d=Z5(t,n.pos,n.bias,r),f=Math.min(d.from,u.from),h=Math.max(d.to,u.to);u=f<u.from?Oe.range(f,h):Oe.range(h,f)}return o?i.replaceRange(i.main.extend(u.from,u.to)):a&&r==1&&i.ranges.length>1&&(c=lCe(i,l.pos))?c:a?i.addRange(u):Oe.create([u])}}}function lCe(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return Oe.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}ao.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=n.to||o<=n.from)&&(n=Oe.range(s,o))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",LS(t.state,AR,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};ao.dragend=t=>(t.inputState.draggedContent=null,!1);function J5(t,e,n,r){if(n=LS(t.state,NR,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&tCe(t,e)?{from:s.from,to:s.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}ao.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&J5(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return J5(t,e,r,!0),!0}return!1};ao.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=NZ?null:e.clipboardData;return n?(AZ(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(iCe(t),!1)};function cCe(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function uCe(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:LS(t,AR,e.join(t.lineBreak)),ranges:n,linewise:r}}let xj=null;ao.copy=ao.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=uCe(t.state);if(!n&&!i)return!1;xj=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=NZ?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(cCe(t,n),!1)};const MZ=da.define();function IZ(t,e){let n=[];for(let r of t.facet(yZ)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:MZ.of(!0)}):null}function DZ(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=IZ(t.state,e);n?t.dispatch(n):t.update([])}},10)}Os.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),DZ(t)};Os.blur=t=>{t.observer.clearSelectionRange(),DZ(t)};Os.compositionstart=Os.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Os.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Me.chrome&&Me.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Os.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};ao.beforeinput=(t,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),c=t.posAtDOM(a.endContainer,a.endOffset);return IR(t,{from:l,to:c,insert:t.state.toText(s)},null),!0}}let i;if(Me.chrome&&Me.android&&(i=EZ.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Me.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Me.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Os.compositionend(t,e),20),!1};const eL=new Set;function dCe(t){eL.has(t)||(eL.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const tL=["pre-wrap","normal","pre-line","break-spaces"];let Mh=!1;function nL(){Mh=!1}class fCe{constructor(e){this.lineWrapping=e,this.doc=_t.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return tL.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,o){let a=tL.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let u=o[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class hCe{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Lo{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Yr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Lc?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Lo(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Ut=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Ut||(Ut={}));const ev=.001;class Gr{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>ev&&(Mh=!0),this.height=e)}replace(e,n,r){return Gr.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:d}=i[a],f=s.lineAt(l,Ut.ByPosNoHeight,r.setDoc(n),0,0),h=f.to>=c?f:s.lineAt(c,Ut.ByPosNoHeight,r,0,0);for(d+=h.to-c,c=h.to;a>0&&f.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,Ut.ByPosNoHeight,r,0,0));u+=f.from-l,l=f.from;let m=DR.build(r.setDoc(o),e,u,d);s=pw(s,s.replace(l,c,m))}return s.updateHeight(r,0)}static empty(){return new ki(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new pCe(Gr.of(e.slice(0,n)),o,Gr.of(e.slice(r)))}}function pw(t,e){return t==e?t:(t.constructor!=e.constructor&&(Mh=!0),e)}Gr.prototype.size=1;class QZ extends Gr{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new Lo(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ki extends QZ{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new Lo(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof ki||i instanceof cr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof cr?i=new ki(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Gr.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class cr extends Gr{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),u=n.doc.lineAt(c),d=a+u.length*l,f=Math.max(r,e-d/2);return new Lo(u.from,u.length,f,d,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:u,length:d}=n.doc.line(s+c);return new Lo(u,d,r+a*c,a,0)}}lineAt(e,n,r,i,s){if(n==Ut.ByHeight)return this.blockAt(e,r,i,s);if(n==Ut.ByPosNoHeight){let{from:h,to:m}=r.doc.lineAt(e);return new Lo(h,m-h,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),c=r.doc.lineAt(e),u=a+c.length*l,d=c.number-o,f=i+a*d+l*(c.from-s-d);return new Lo(c.from,c.length,Math.max(i,Math.min(f,i+this.height-u)),u,0)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,s);for(let u=e,d=i;u<=n;){let f=r.doc.lineAt(u);if(u==e){let m=f.number-a;d+=l*m+c*(e-s-m)}let h=l+c*f.length;o(new Lo(f.from,f.length,d,h,0)),d+=h,u=f.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof cr?r[r.length-1]=new cr(s.length+i):r.push(null,new cr(i-1))}if(e>0){let s=r[0];s instanceof cr?r[0]=new cr(e+s.length):r.unshift(new cr(e-1),null)}return Gr.of(r)}decomposeLeft(e,n){n.push(new cr(e-1),null)}decomposeRight(e,n){n.push(null,new cr(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new cr(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let u=e.doc.lineAt(a).length;o.length&&o.push(null);let d=i.heights[i.index++];l==-1?l=d:Math.abs(d-l)>=ev&&(l=-2);let f=new ki(u,d);f.outdated=!1,o.push(f),a+=u+1}a<=s&&o.push(null,new cr(s-a).updateHeight(e,a));let c=Gr.of(o);return(l<0||Math.abs(c.height-this.height)>=ev||Math.abs(l-this.heightMetrics(e,n).perLine)>=ev)&&(Mh=!0),pw(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class pCe extends Gr{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==Ut.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=n==Ut.ByPosNoHeight?Ut.ByPosNoHeight:Ut.ByPos;return l?c.join(this.right.lineAt(a,u,r,o,a)):this.left.lineAt(a,u,r,i,s).join(c)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let c=this.lineAt(l,Ut.ByPos,r,i,s);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,s,o),c.to>=e&&c.from<=n&&o(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&rL(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),rL(s,a)}return Gr.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Gr.of(this.break?[e,null,n]:[e,n]):(this.left=pw(this.left,e),this.right=pw(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function rL(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof cr&&(r=t[e+1])instanceof cr&&t.splice(e-1,3,new cr(n.length+1+r.length))}const mCe=5;class DR{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ki?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ki(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new QZ(o,i,r)):(o||s||i>=mCe)&&this.addLineDeco(i,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ki(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new cr(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ki)return e;let n=new ki(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof ki)&&!this.isCovered?this.nodes.push(new ki(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof ki&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new DR(r,e);return gt.spans(n,r,i,s,0),s.finish(r)}}function gCe(t,e,n){let r=new yCe;return gt.compare(t,e,n,r,0),r.changes}class yCe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&fj(e,n,this.changes,5)}}function OCe(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,d=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&d.overflow!="visible"){let f=u.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=Math.min(c==t.parentNode?i.innerHeight:l,f.bottom)}c=d.position=="absolute"||d.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function bCe(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class E${constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,n){return Be.replace({widget:new xCe(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class xCe extends ha{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class iL{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=sL,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Xt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(RR).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new fCe(n),this.stateDeco=e.facet(Vg).filter(r=>typeof r!="function"),this.heightMap=Gr.empty().applyChanges(this.stateDeco,_t.empty,this.heightOracle.setDoc(e.doc),[new as(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Be.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new Tb(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?sL:new QR(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Bm(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Vg).filter(u=>typeof u!="function");let i=e.changedRanges,s=as.extendWithRanges(i,gCe(r,this.stateDeco,e?e.changes:Fn.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);nL(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||Mh)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(bZ)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Xt.RTL:Xt.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:v,scaleY:w}=U7(n,a);(v>.005&&Math.abs(this.scaleX-v)>.005||w>.005&&Math.abs(this.scaleY-w)>.005)&&(this.scaleX=v,this.scaleY=w,c|=8,o=l=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=f)&&(this.paddingTop=d,this.paddingBottom=f,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let h=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=Y7(e.scrollDOM);let m=(this.printing?bCe:OCe)(n,this.paddingTop),g=m.top-this.pixelViewport.top,y=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let O=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(O!=this.inView&&(this.inView=O,O&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let b=a.width;if((this.contentDOMWidth!=b||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let v=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(v)&&(o=!0),o||i.lineWrapping&&Math.abs(b-this.contentDOMWidth)>i.charWidth){let{lineHeight:w,charWidth:_,textHeight:$}=e.docView.measureTextSize();o=w>0&&i.refresh(s,w,_,$,b/_,v),o&&(e.docView.minWidth=0,c|=8)}g>0&&y>0?u=Math.max(g,y):g<0&&y<0&&(u=Math.min(g,y)),nL();for(let w of this.viewports){let _=w.from==this.viewport.from?v:e.docView.measureVisibleLineHeights(w);this.heightMap=(o?Gr.empty().applyChanges(this.stateDeco,_t.empty,this.heightOracle,[new as(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new hCe(w.from,_))}Mh&&(c|=2)}let x=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new Tb(i.lineAt(o-r*1e3,Ut.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,Ut.ByHeight,s,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(c,Ut.ByPos,s,0,0),f;n.y=="center"?f=(d.top+d.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?f=d.top:f=d.bottom-u,l=new Tb(i.lineAt(f-1e3/2,Ut.ByHeight,s,0,0).from,i.lineAt(f+u+1e3/2,Ut.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Tb(this.heightMap.lineAt(r,Ut.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Ut.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Ut.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,Ut.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new E$(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=Xt.LTR&&!r)return[];let a=[],l=(u,d,f,h)=>{if(d-u<s)return;let m=this.state.selection.main,g=[m.from];m.empty||g.push(m.to);for(let O of g)if(O>u&&O<d){l(u,O-10,f,h),l(O+10,d,f,h);return}let y=wCe(e,O=>O.from>=f.from&&O.to<=f.to&&Math.abs(O.from-u)<s&&Math.abs(O.to-d)<s&&!g.some(b=>O.from<b&&O.to>b));if(!y){if(d<f.to&&n&&r&&n.visibleRanges.some(x=>x.from<=d&&x.to>=d)){let x=n.moveToLineBoundary(Oe.cursor(d),!1,!0).head;x>u&&(d=x)}let O=this.gapSize(f,u,d,h),b=r||O<2e6?O:2e6;y=new E$(u,d,O,b)}a.push(y)},c=u=>{if(u.length<o||u.type!=Yr.Text)return;let d=vCe(u.from,u.to,this.stateDeco);if(d.total<o)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,h,m;if(r){let g=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,y,O;if(f!=null){let b=Ab(d,f),x=((this.visibleBottom-this.visibleTop)/2+g)/u.height;y=b-x,O=b+x}else y=(this.visibleTop-u.top-g)/u.height,O=(this.visibleBottom-u.top+g)/u.height;h=Nb(d,y),m=Nb(d,O)}else{let g=d.total*this.heightOracle.charWidth,y=i*this.heightOracle.charWidth,O=0;if(g>2e6)for(let _ of e)_.from>=u.from&&_.from<u.to&&_.size!=_.displaySize&&_.from*this.heightOracle.charWidth+O<this.pixelViewport.left&&(O=_.size-_.displaySize);let b=this.pixelViewport.left+O,x=this.pixelViewport.right+O,v,w;if(f!=null){let _=Ab(d,f),$=((x-b)/2+y)/g;v=_-$,w=_+$}else v=(b-y)/g,w=(x+y)/g;h=Nb(d,v),m=Nb(d,w)}h>u.from&&l(u.from,h,u,d),m<u.to&&l(m,u.to,u,d)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,n,r,i){let s=Ab(i,r)-Ab(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){E$.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Be.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];gt.spans(e,this.viewport.from,this.viewport.to,{span(i,s){n.push({from:i,to:s})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,s)=>i.from!=n[s].from||i.to!=n[s].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Bm(this.heightMap.lineAt(e,Ut.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||Bm(this.heightMap.lineAt(this.scaler.fromDOM(e),Ut.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Bm(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let Tb=class{constructor(e,n){this.from=e,this.to=n}};function vCe(t,e,n){let r=[],i=t,s=0;return gt.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function Nb({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function Ab(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function wCe(t,e){for(let n of t)if(e(n))return n}const sL={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class QR{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let c=n.lineAt(a,Ut.ByPos,e,0,0).top,u=n.lineAt(l,Ut.ByPos,e,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof QR?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function Bm(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Lo(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>Bm(i,e)):t._content)}const Rb=Re.define({combine:t=>t.join(" ")}),vj=Re.define({combine:t=>t.indexOf(!0)>-1}),wj=Qc.newName(),FZ=Qc.newName(),LZ=Qc.newName(),qZ={"&light":"."+FZ,"&dark":"."+LZ};function Sj(t,e,n){return new Qc(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const SCe=Sj("."+wj,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},qZ),_Ce={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},T$=Me.ie&&Me.ie_version<=11;class $Ce{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new cPe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(Me.ie&&Me.ie_version<=11||Me.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Me.chrome&&Me.chrome_version<126)&&(this.editContext=new PCe(e),e.state.facet(nc)&&(e.contentDOM.editContext=this.editContext.editContext)),T$&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(nc)?r.root.activeElement!=this.dom:!Kx(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Me.ie&&Me.ie_version<=11||Me.android&&Me.chrome)&&!r.state.selection.main.empty&&i.focusNode&&ug(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=qg(e.root);if(!n)return!1;let r=Me.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&kCe(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=Kx(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&dPe(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,_Ce),T$&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),T$&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Uf(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Kx(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new zPe(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=jZ(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=oL(n,e.previousSibling||e.target.previousSibling,-1),i=oL(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(nc)!=e.state.facet(nc)&&(e.view.contentDOM.editContext=e.state.facet(nc)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function oL(t,e,n){for(;e;){let r=Qt.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function aL(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return ug(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function kCe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return aL(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?aL(t,n):null}class PCe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let{anchor:i}=e.state.selection.main,s={from:this.toEditorPos(r.updateRangeStart),to:this.toEditorPos(r.updateRangeEnd),insert:_t.of(r.text.split(`
`))};s.from==this.from&&i<this.from?s.from=i:s.to==this.to&&i>this.to&&(s.to=i),!(s.from==s.to&&!s.insert.length)&&(this.pendingContextChange=s,e.state.readOnly||IR(e,s,Oe.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(Be.mark({attributes:{style:l}}).range(this.toEditorPos(s.rangeStart),this.toEditorPos(s.rangeEnd)))}}e.dispatch({effects:vZ.of(Be.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=qg(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(r)return;let u=c.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(c)){i=this.pendingContextChange=null,n+=u,this.to+=u;return}else i=null,this.revertPending(e.state);if(s+=n,o+=n,o<=this.from)this.from+=u,this.to+=u;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=u}n+=u}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange;!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Ne{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||uPe(e.parent)||document,this.viewState=new iL(e.state||dt.create(e)),e.scrollTo&&e.scrollTo.is(Cb)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Lm).map(i=>new P$(i));for(let i of this.plugins)i.update(this);this.observer=new $Ce(this),this.inputState=new YPe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new F5(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof En?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(MZ))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=IZ(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(u=null)):this.observer.clear(),s.facet(dt.phrases)!=this.state.facet(dt.phrases))return this.setState(s);i=hw.create(this,s,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(d&&(d=d.map(f.changes)),f.scrollIntoView){let{main:h}=f.state.selection;d=new Zf(h.empty?h:Oe.cursor(h.head,h.head>h.anchor?-1:1))}for(let h of f.effects)h.is(Cb)&&(d=h.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=mw.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(qm)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Rb)!=i.state.facet(Rb)&&(this.viewState.mustMeasureContent=!0),(n||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let f of this.state.facet(yj))try{f(i)}catch(h){ui(this.state,h,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!jZ(this,u)&&c.force&&Uf(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new iL(e),this.plugins=e.facet(Lm).map(r=>new P$(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new F5(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Lm),r=e.state.facet(Lm);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new P$(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){ui(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(Y7(r))s=-1,o=this.viewState.heightMap.height;else{let h=this.viewState.scrollAnchorAt(i);s=h.from,o=h.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(h=>{try{return h.read(this)}catch(m){return ui(this.state,m),lL}}),d=hw.create(this,this.state,[]),f=!1;d.flags|=l,n?n.flags|=l:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),f=this.docView.update(d),f&&this.docViewUpdate());for(let h=0;h<c.length;h++)if(u[h]!=lL)try{let m=c[h];m.write&&m.write(u[h],this)}catch(m){ui(this.state,m)}if(f&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let m=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(m>1||m<-1){i=i+m,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(yj))a(n)}get themeClasses(){return wj+" "+(this.state.facet(vj)?LZ:FZ)+" "+this.state.facet(Rb)}updateAttrs(){let e=cL(this,wZ,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(nc)?"true":"false",class:"cm-content",style:`${Me.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),cL(this,RR,n);let r=this.observer.ignore(()=>{let i=dj(this.contentDOM,this.contentAttrs,n),s=dj(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(Ne.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(qm);let e=this.state.facet(Ne.cspNonce);Qc.mount(this.root,this.styleModules.concat(SCe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return j$(this,e,z5(this,e,n,r))}moveByGroup(e,n){return j$(this,e,z5(this,e,n,r=>LPe(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return Oe.cursor(s.side(n,i)+e.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return FPe(this,e,n,r)}moveVertically(e,n,r){return j$(this,e,qPe(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),CZ(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[yc.find(s,e-i.from,-1,n)];return oO(r,o.dir==Xt.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(OZ)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>CCe)return uZ(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||cZ(s.isolates,r=Q5(this,e))))return s.order;r||(r=Q5(this,e));let i=SPe(e.text,n,r);return this.bidiCache.push(new mw(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Me.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Z7(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Cb.of(new Zf(typeof e=="number"?Oe.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Cb.of(new Zf(Oe.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return vn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return vn.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Qc.newName(),i=[Rb.of(r),qm.of(Sj(`.${r}`,e))];return n&&n.dark&&i.push(vj.of(!0)),i}static baseTheme(e){return iu.lowest(qm.of(Sj("."+wj,e,qZ)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Qt.get(r)||Qt.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}Ne.styleModule=qm;Ne.inputHandler=gZ;Ne.clipboardInputFilter=NR;Ne.clipboardOutputFilter=AR;Ne.scrollHandler=xZ;Ne.focusChangeEffect=yZ;Ne.perLineTextDirection=OZ;Ne.exceptionSink=mZ;Ne.updateListener=yj;Ne.editable=nc;Ne.mouseSelectionStyle=pZ;Ne.dragMovesSelection=hZ;Ne.clickAddsSelectionRange=fZ;Ne.decorations=Vg;Ne.outerDecorations=SZ;Ne.atomicRanges=MR;Ne.bidiIsolatedRanges=_Z;Ne.scrollMargins=$Z;Ne.darkTheme=vj;Ne.cspNonce=Re.define({combine:t=>t.length?t[0]:""});Ne.contentAttributes=RR;Ne.editorAttributes=wZ;Ne.lineWrapping=Ne.contentAttributes.of({class:"cm-lineWrapping"});Ne.announce=He.define();const CCe=4096,lL={};class mw{constructor(e,n,r,i,s,o){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Xt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new mw(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function cL(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&uj(o,n)}return n}const jCe=Me.mac?"mac":Me.windows?"win":Me.linux?"linux":"key";function ECe(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Mb(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const TCe=iu.default(Ne.domEventHandlers({keydown(t,e){return BZ(VZ(e.state),t,e,"editor")}})),cO=Re.define({enables:TCe}),uL=new WeakMap;function VZ(t){let e=t.facet(cO),n=uL.get(e);return n||uL.set(e,n=RCe(e.reduce((r,i)=>r.concat(i),[]))),n}function NCe(t,e,n){return BZ(VZ(t.state),e,t,n)}let rc=null;const ACe=4e3;function RCe(t,e=jCe){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,u)=>{var d,f;let h=n[o]||(n[o]=Object.create(null)),m=a.split(/ (?!$)/).map(O=>ECe(O,e));for(let O=1;O<m.length;O++){let b=m.slice(0,O).join(" ");i(b,!0),h[b]||(h[b]={preventDefault:!0,stopPropagation:!1,run:[x=>{let v=rc={view:x,prefix:b,scope:o};return setTimeout(()=>{rc==v&&(rc=null)},ACe),!0}]})}let g=m.join(" ");i(g,!1);let y=h[g]||(h[g]={preventDefault:!1,stopPropagation:!1,run:((f=(d=h._any)===null||d===void 0?void 0:d.run)===null||f===void 0?void 0:f.slice())||[]});l&&y.run.push(l),c&&(y.preventDefault=!0),u&&(y.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=o;for(let f in u)u[f].run.push(h=>d(h,_j))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let _j=null;function BZ(t,e,n,r){_j=e;let i=sPe(e),s=dr(i,0),o=ts(s)==i.length&&i!=" ",a="",l=!1,c=!1,u=!1;rc&&rc.view==n&&rc.scope==r&&(a=rc.prefix+" ",TZ.indexOf(e.keyCode)<0&&(c=!0,rc=null));let d=new Set,f=y=>{if(y){for(let O of y.run)if(!d.has(O)&&(d.add(O),O(n)))return y.stopPropagation&&(u=!0),!0;y.preventDefault&&(y.stopPropagation&&(u=!0),c=!0)}return!1},h=t[r],m,g;return h&&(f(h[a+Mb(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Me.windows&&e.ctrlKey&&e.altKey)&&(m=Fc[e.keyCode])&&m!=i?(f(h[a+Mb(m,e,!0)])||e.shiftKey&&(g=Lg[e.keyCode])!=i&&g!=m&&f(h[a+Mb(g,e,!1)]))&&(l=!0):o&&e.shiftKey&&f(h[a+Mb(i,e,!0)])&&(l=!0),!l&&f(h._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),_j=null,l}class uO{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=zZ(e);return[new uO(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return MCe(e,n,r)}}function zZ(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Xt.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function dL(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let s=t.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function MCe(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==Xt.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=zZ(t),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),d=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),f=a.right-(u?parseInt(u.paddingRight):0),h=bj(t,r),m=bj(t,i),g=h.type==Yr.Text?h:null,y=m.type==Yr.Text?m:null;if(g&&(t.lineWrapping||h.widgetLineBreaks)&&(g=dL(t,r,1,g)),y&&(t.lineWrapping||m.widgetLineBreaks)&&(y=dL(t,i,-1,y)),g&&y&&g.from==y.from&&g.to==y.to)return b(x(n.from,n.to,g));{let w=g?x(n.from,null,g):v(h,!1),_=y?x(null,n.to,y):v(m,!0),$=[];return(g||h).to<(y||m).from-(g&&y?1:0)||h.widgetLineBreaks>1&&w.bottom+t.defaultLineHeight/2<_.top?$.push(O(d,w.bottom,f,_.top)):w.bottom<_.top&&t.elementAtHeight((w.bottom+_.top)/2).type==Yr.Text&&(w.bottom=_.top=(w.bottom+_.top)/2),b(w).concat($).concat(b(_))}function O(w,_,$,k){return new uO(e,w-l.left,_-l.top-.01,$-w,k-_+.01)}function b({top:w,bottom:_,horizontal:$}){let k=[];for(let j=0;j<$.length;j+=2)k.push(O($[j],w,$[j+1],_));return k}function x(w,_,$){let k=1e9,j=-1e9,P=[];function R(C,T,E,I,M){let Q=t.coordsAtPos(C,C==$.to?-2:2),B=t.coordsAtPos(E,E==$.from?2:-2);!Q||!B||(k=Math.min(Q.top,B.top,k),j=Math.max(Q.bottom,B.bottom,j),M==Xt.LTR?P.push(s&&T?d:Q.left,s&&I?f:B.right):P.push(!s&&I?d:B.left,!s&&T?f:Q.right))}let N=w??$.from,A=_??$.to;for(let C of t.visibleRanges)if(C.to>N&&C.from<A)for(let T=Math.max(C.from,N),E=Math.min(C.to,A);;){let I=t.state.doc.lineAt(T);for(let M of t.bidiSpans(I)){let Q=M.from+I.from,B=M.to+I.from;if(Q>=E)break;B>T&&R(Math.max(Q,T),w==null&&Q<=N,Math.min(B,E),_==null&&B>=A,M.dir)}if(T=I.to+1,T>=E)break}return P.length==0&&R(N,w==null,A,_==null,t.textDirection),{top:k,bottom:j,horizontal:P}}function v(w,_){let $=a.top+(_?w.top:w.bottom);return{top:$,bottom:$,horizontal:[]}}}function ICe(t,e){return t.constructor==e.constructor&&t.eq(e)}class DCe{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(tv)!=e.state.facet(tv)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(tv);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!ICe(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const tv=Re.define();function WZ(t){return[vn.define(e=>new DCe(e,t)),tv.of(t)]}const UZ=!Me.ios,Bg=Re.define({combine(t){return fa(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function QCe(t={}){return[Bg.of(t),FCe,LCe,qCe,bZ.of(!0)]}function ZZ(t){return t.startState.facet(Bg)!=t.state.facet(Bg)}const FCe=WZ({above:!0,markers(t){let{state:e}=t,n=e.facet(Bg),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||UZ:n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:Oe.cursor(i.head,i.head>i.anchor?-1:1);for(let l of uO.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=ZZ(t);return n&&fL(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){fL(e.state,t)},class:"cm-cursorLayer"});function fL(t,e){e.style.animationDuration=t.facet(Bg).cursorBlinkRate+"ms"}const LCe=WZ({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:uO.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||ZZ(t)},class:"cm-selectionLayer"}),$j={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};UZ&&($j[".cm-line"].caretColor=$j[".cm-content"].caretColor="transparent !important");const qCe=iu.highest(Ne.theme($j)),XZ=He.define({map(t,e){return t==null?null:e.mapPos(t)}}),zm=rr.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(XZ)?r.value:n,t)}}),VCe=vn.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(zm);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(zm)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(zm),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(zm)!=t&&this.view.dispatch({effects:XZ.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function BCe(){return[zm,VCe]}function hL(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function zCe(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class WCe{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,c,u)=>i(u,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,u)=>{let d=r(a,l,c);d&&u(c,c+a[0].length,d)};else if(r)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new Dc,r=n.add.bind(n);for(let{from:i,to:s}of zCe(e,this.maxLength))hL(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(s.from,l.from),d=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){u=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){d=a;break}}let f=[],h,m=(g,y,O)=>f.push(O.range(g,y));if(l==c)for(this.regexp.lastIndex=u-l.from;(h=this.regexp.exec(l.text))&&h.index<d-l.from;)this.addMatch(h,e,h.index+l.from,m);else hL(e.state.doc,this.regexp,u,d,(g,y)=>this.addMatch(y,e,g,m));n=n.update({filterFrom:u,filterTo:d,filter:(g,y)=>g<u||y>d,add:f})}}return n}}const kj=/x/.unicode!=null?"gu":"g",UCe=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,kj),ZCe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let N$=null;function XCe(){var t;if(N$==null&&typeof document<"u"&&document.body){let e=document.body.style;N$=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return N$||!1}const nv=Re.define({combine(t){let e=fa(t,{render:null,specialChars:UCe,addSpecialChars:null});return(e.replaceTabs=!XCe())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,kj)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,kj)),e}});function YCe(t={}){return[nv.of(t),GCe()]}let pL=null;function GCe(){return pL||(pL=vn.fromClass(class{constructor(t){this.view=t,this.decorations=Be.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(nv)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new WCe({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=dr(e[0],0);if(s==9){let o=i.lineAt(r),a=n.state.tabSize,l=xp(o.text,a,r-o.from);return Be.replace({widget:new eje((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Be.replace({widget:new JCe(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(nv);t.startState.facet(nv)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const HCe="•";function KCe(t){return t>=32?HCe:t==10?"␤":String.fromCharCode(9216+t)}class JCe extends ha{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=KCe(this.code),r=e.state.phrase("Control character")+" "+(ZCe[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class eje extends ha{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function tje(){return rje}const nje=Be.line({class:"cm-activeLine"}),rje=vn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(nje.range(i.from)),e=i.from)}return Be.set(n)}},{decorations:t=>t.decorations});let ije=class extends ha{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),typeof this.content=="string"?n.setAttribute("aria-label","placeholder "+this.content):n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?Nh(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=oO(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}};function sje(t){return vn.fromClass(class{constructor(e){this.view=e,this.placeholder=t?Be.set([Be.widget({widget:new ije(t),side:1}).range(0)]):Be.none}get decorations(){return this.view.state.doc.length?Be.none:this.placeholder}},{decorations:e=>e.decorations})}const Pj=2e3;function oje(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>Pj||n.off>Pj||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let c=t.doc.line(l);c.length<=a&&s.push(Oe.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let c=t.doc.line(l),u=rj(c.text,o,t.tabSize,!0);if(u<0)s.push(Oe.cursor(c.to));else{let d=rj(c.text,a,t.tabSize);s.push(Oe.range(c.from+u,c.from+d))}}}return s}function aje(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function mL(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>Pj?-1:i==r.length?aje(t,e.clientX):xp(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function lje(t,e){let n=mL(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=mL(t,i);if(!a)return r;let l=oje(t.state,n,a);return l.length?o?Oe.create(l.concat(r.ranges)):Oe.create(l):r}}:null}function cje(t){let e=n=>n.altKey&&n.button==0;return Ne.mouseSelectionStyle.of((n,r)=>e(r)?lje(n,r):null)}const uje={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},dje={style:"cursor: crosshair"};function fje(t={}){let[e,n]=uje[t.key||"Alt"],r=vn.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,Ne.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?dje:null})]}const fm="-10000px";class YZ{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,n){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let c=s[l],u=-1;if(c){for(let d=0;d<this.tooltips.length;d++){let f=this.tooltips[d];f&&f.create==c.create&&(u=d)}if(u<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let d=o[l]=this.tooltipViews[u];a&&(a[l]=n[u]),d.update&&d.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function hje(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const A$=Re.define({combine:t=>{var e,n,r;return{position:Me.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||hje}}}),gL=new WeakMap,FR=vn.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(A$);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new YZ(t,LR,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(A$);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=fm,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(Me.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==fm&&i.style.left=="0px"){let s=i.getBoundingClientRect();r=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(r||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(e=i.width/this.parent.offsetWidth,n=i.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((i,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(A$).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,d=t.pos[a],f=t.size[a];if(!d||d.bottom<=Math.max(n.top,r.top)||d.top>=Math.min(n.bottom,r.bottom)||d.right<Math.max(n.left,r.left)-.1||d.left>Math.min(n.right,r.right)+.1){u.style.top=fm;continue}let h=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,m=h?7:0,g=f.right-f.left,y=(e=gL.get(c))!==null&&e!==void 0?e:f.bottom-f.top,O=c.offset||mje,b=this.view.textDirection==Xt.LTR,x=f.width>r.right-r.left?b?r.left:r.right-f.width:b?Math.max(r.left,Math.min(d.left-(h?14:0)+O.x,r.right-g)):Math.min(Math.max(r.left,d.left-g+(h?14:0)-O.x),r.right-g),v=this.above[a];!l.strictSide&&(v?d.top-(f.bottom-f.top)-O.y<r.top:d.bottom+(f.bottom-f.top)+O.y>r.bottom)&&v==r.bottom-d.bottom>d.top-r.top&&(v=this.above[a]=!v);let w=(v?d.top-r.top:r.bottom-d.bottom)-m;if(w<y&&c.resize!==!1){if(w<this.view.defaultLineHeight){u.style.top=fm;continue}gL.set(c,y),u.style.height=(y=w)/s+"px"}else u.style.height&&(u.style.height="");let _=v?d.top-y-m-O.y:d.bottom+m+O.y,$=x+g;if(c.overlap!==!0)for(let k of o)k.left<$&&k.right>x&&k.top<_+y&&k.bottom>_&&(_=v?k.top-y-2-m:k.bottom+m+2);if(this.position=="absolute"?(u.style.top=(_-t.parent.top)/s+"px",u.style.left=(x-t.parent.left)/i+"px"):(u.style.top=_/s+"px",u.style.left=x/i+"px"),h){let k=d.left+(b?O.x:-O.x)-(x+14-7);h.style.left=k/i+"px"}c.overlap!==!0&&o.push({left:x,top:_,right:$,bottom:_+y}),u.classList.toggle("cm-tooltip-above",v),u.classList.toggle("cm-tooltip-below",!v),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=fm}},{eventObservers:{scroll(){this.maybeMeasure()}}}),pje=Ne.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),mje={x:0,y:0},LR=Re.define({enables:[FR,pje]}),gw=Re.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class qS{static create(e){return new qS(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new YZ(e,gw,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const gje=LR.compute([gw],t=>{let e=t.facet(gw);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:qS.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class yje{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,s=1;if(r instanceof gc)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==Xt.RTL?-1:1;s=n.x<a.left?-c:c}let o=this.source(e,i,s);if(o!=null&&o.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>ui(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(FR),n=e?e.manager.tooltips.findIndex(r=>r.create==qS.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!Oje(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!bje(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ib=4;function Oje(t,e){let{left:n,right:r,top:i,bottom:s}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=n-Ib&&e.clientX<=r+Ib&&e.clientY>=i-Ib&&e.clientY<=s+Ib}function bje(t,e,n,r,i,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function xje(t,e={}){let n=He.define(),r=rr.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,hr.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}i=o}for(let o of s.effects)o.is(n)&&(i=o.value),o.is(vje)&&(i=[]);return i},provide:i=>gw.from(i)});return{active:r,extension:[r,vn.define(i=>new yje(i,t,r,n,e.hoverTime||300)),gje]}}function GZ(t,e){let n=t.plugin(FR);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const vje=He.define(),yL=Re.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function zg(t,e){let n=t.plugin(HZ),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const HZ=vn.fromClass(class{constructor(t){this.input=t.state.facet(Wg),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(yL);this.top=new Db(t,!0,e.topContainer),this.bottom=new Db(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(yL);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Db(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Db(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Wg);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(t.view),a.push(u)):(u=this.panels[c],u.update&&u.update(t)),i.push(u),(u.top?s:o).push(u)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Ne.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Db{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=OL(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=OL(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function OL(t){let e=t.nextSibling;return t.remove(),e}const Wg=Re.define({enables:HZ});class ml extends bd{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ml.prototype.elementClass="";ml.prototype.toDOM=void 0;ml.prototype.mapMode=hr.TrackBefore;ml.prototype.startSide=ml.prototype.endSide=-1;ml.prototype.point=!0;const rv=Re.define(),wje=Re.define(),Sje={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>gt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},fg=Re.define();function _je(t){return[KZ(),fg.of(Object.assign(Object.assign({},Sje),t))]}const bL=Re.define({combine:t=>t.some(e=>e)});function KZ(t){return[$je]}const $je=vn.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(fg).map(e=>new vL(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(bL),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(bL)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=gt.iter(this.view.state.facet(rv),this.view.viewport.from),r=[],i=this.gutters.map(s=>new kje(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Yr.Text&&o){Cj(n,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==Yr.Text){Cj(n,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(fg),n=t.state.facet(fg),r=t.docChanged||t.heightChanged||t.viewportChanged||!gt.eq(t.startState.facet(rv),t.state.facet(rv),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let o=e.indexOf(s);o<0?i.push(new vL(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Ne.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Xt.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function xL(t){return Array.isArray(t)?t:[t]}function Cj(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class kje{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=gt.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==i.elements.length){let a=new JZ(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];Cj(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let s of e.state.facet(wje)){let o=s(e,n.widget,n);o&&(i||(i=[])).push(o)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class vL{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=xL(n.markers(e)),n.initialSpacer&&(this.spacer=new JZ(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=xL(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!gt.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class JZ{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Pje(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let d=o;d<this.markers.length;d++)if(this.markers[d].compare(l)){a=d,c=!0;break}}else a=this.markers.length;for(;o<a;){let u=this.markers[o++];if(u.toDOM){u.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function Pje(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const Cje=Re.define(),jje=Re.define(),Tf=Re.define({combine(t){return fa(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],o=n[i];r[i]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return r}})}});class R$ extends ml{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function M$(t,e){return t.state.facet(Tf).formatNumber(e,t.state)}const Eje=fg.compute([Tf],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Cje)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new R$(M$(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(jje)){let s=i(e,n,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Tf)!=e.state.facet(Tf),initialSpacer(e){return new R$(M$(e,wL(e.state.doc.lines)))},updateSpacer(e,n){let r=M$(n.view,wL(n.view.state.doc.lines));return r==e.number?e:new R$(r)},domEventHandlers:t.facet(Tf).domEventHandlers}));function Tje(t={}){return[Tf.of(t),KZ(),Eje]}function wL(t){let e=9;for(;e<t;)e=e*10+9;return e}const Nje=new class extends ml{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Aje=rv.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Nje.range(i)))}return gt.of(e)});function Rje(){return Aje}const eX=1024;let Mje=0;class rs{constructor(e,n){this.from=e,this.to=n}}class tt{constructor(e={}){this.id=Mje++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Kr.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}tt.closedBy=new tt({deserialize:t=>t.split(" ")});tt.openedBy=new tt({deserialize:t=>t.split(" ")});tt.group=new tt({deserialize:t=>t.split(" ")});tt.isolate=new tt({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});tt.contextHash=new tt({perNode:!0});tt.lookAhead=new tt({perNode:!0});tt.mounted=new tt({perNode:!0});class Ug{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[tt.mounted.id]}}const Ije=Object.create(null);class Kr{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):Ije,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Kr(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(tt.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(tt.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}}Kr.none=new Kr("",Object.create(null),0,8);class qR{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);o&&(i||(i=Object.assign({},r.props)),i[o[0].id]=o[1])}n.push(i?new Kr(r.name,i,r.id,r.flags):r)}return new qR(n)}}const Qb=new WeakMap,SL=new WeakMap;var zt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(zt||(zt={}));class ln{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Ug.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new yw(this.topNode,e)}cursorAt(e,n=0,r=0){let i=Qb.get(this)||this.topNode,s=new yw(i);return s.moveTo(e,n),Qb.set(this,s._tree),s}get topNode(){return new Rr(this,0,0,null)}resolve(e,n=0){let r=Zg(Qb.get(this)||this.topNode,e,n,!1);return Qb.set(this,r),r}resolveInner(e,n=0){let r=Zg(SL.get(this)||this.topNode,e,n,!0);return SL.set(this,r),r}resolveStack(e,n=0){return Fje(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&zt.IncludeAnonymous)>0;for(let l=this.cursor(o|zt.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:zR(Kr.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new ln(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new ln(Kr.none,n,r,i)))}static build(e){return Lje(e)}}ln.empty=new ln(Kr.none,[],[],0);class VR{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new VR(this.buffer,this.index)}}class qc{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Kr.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(tX(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new qc(s,o,this.set)}}function tX(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Zg(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof Rr&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:zt.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof Rr&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}let nX=class{cursor(e=0){return new yw(this,e)}getChild(e,n=null,r=null){let i=_L(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return _L(this,e,n,r)}resolve(e,n=0){return Zg(this,e,n,!1)}resolveInner(e,n=0){return Zg(this,e,n,!0)}matchContext(e){return jj(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}};class Rr extends nX{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=n>0?a.length:-1;e!=c;e+=n){let u=a[e],d=l[e]+o.from;if(tX(i,r,d,d+u.length)){if(u instanceof qc){if(s&zt.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,n,r-d,i);if(f>-1)return new Bo(new Dje(o,u,e,d),null,f)}else if(s&zt.IncludeAnonymous||!u.type.isAnonymous||BR(u)){let f;if(!(s&zt.IgnoreMounts)&&(f=Ug.get(u))&&!f.overlay)return new Rr(f.tree,d,e,o);let h=new Rr(u,d,e,o);return s&zt.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(n<0?u.children.length-1:0,n,r,i)}}}if(s&zt.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&zt.IgnoreOverlays)&&(i=Ug.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new Rr(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function _L(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function jj(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class Dje{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Bo extends nX{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new Bo(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&zt.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new Bo(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Bo(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Bo(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new ln(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function rX(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let r=n instanceof Rr&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new Qje(i,n)}class Qje{constructor(e,n){this.heads=e,this.node=n}get next(){return rX(this.heads)}}function Fje(t,e,n){let r=t.resolveInner(e,n),i=null;for(let s=r instanceof Rr?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,n)),s=o}else{let o=Ug.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Rr(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Zg(a,e,n,!1))}}return i?rX(i):r}class yw{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Rr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Rr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&zt.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&zt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&zt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&zt.IncludeAnonymous||a instanceof qc||!a.type.isAnonymous||BR(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new Bo(this.buffer,n,this.stack[i]);return this.bufferNode=new Bo(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return jj(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return jj(this._tree,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function BR(t){return t.children.some(e=>e instanceof qc||!e.type.isAnonymous||BR(e))}function Lje(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=eX,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new VR(n,n.length):n,l=r.types,c=0,u=0;function d(w,_,$,k,j,P){let{id:R,start:N,end:A,size:C}=a,T=u,E=c;for(;C<0;)if(a.next(),C==-1){let Z=s[R];$.push(Z),k.push(N-w);return}else if(C==-3){c=R;return}else if(C==-4){u=R;return}else throw new RangeError(`Unrecognized record size: ${C}`);let I=l[R],M,Q,B=N-w;if(A-N<=i&&(Q=y(a.pos-_,j))){let Z=new Uint16Array(Q.size-Q.skip),W=a.pos-Q.size,oe=Z.length;for(;a.pos>W;)oe=O(Q.start,Z,oe);M=new qc(Z,A-Q.start,r),B=Q.start-w}else{let Z=a.pos-C;a.next();let W=[],oe=[],le=R>=o?R:-1,U=0,G=A;for(;a.pos>Z;)le>=0&&a.id==le&&a.size>=0?(a.end<=G-i&&(m(W,oe,N,U,a.end,G,le,T,E),U=W.length,G=a.end),a.next()):P>2500?f(N,Z,W,oe):d(N,Z,W,oe,le,P+1);if(le>=0&&U>0&&U<W.length&&m(W,oe,N,U,N,G,le,T,E),W.reverse(),oe.reverse(),le>-1&&U>0){let ie=h(I,E);M=zR(I,W,oe,0,W.length,0,A-N,ie,ie)}else M=g(I,W,oe,A-N,T-A,E)}$.push(M),k.push(B)}function f(w,_,$,k){let j=[],P=0,R=-1;for(;a.pos>_;){let{id:N,start:A,end:C,size:T}=a;if(T>4)a.next();else{if(R>-1&&A<R)break;R<0&&(R=C-i),j.push(N,A,C),P++,a.next()}}if(P){let N=new Uint16Array(P*4),A=j[j.length-2];for(let C=j.length-3,T=0;C>=0;C-=3)N[T++]=j[C],N[T++]=j[C+1]-A,N[T++]=j[C+2]-A,N[T++]=T;$.push(new qc(N,j[2]-A,r)),k.push(A-w)}}function h(w,_){return($,k,j)=>{let P=0,R=$.length-1,N,A;if(R>=0&&(N=$[R])instanceof ln){if(!R&&N.type==w&&N.length==j)return N;(A=N.prop(tt.lookAhead))&&(P=k[R]+N.length+A)}return g(w,$,k,j,P,_)}}function m(w,_,$,k,j,P,R,N,A){let C=[],T=[];for(;w.length>k;)C.push(w.pop()),T.push(_.pop()+$-j);w.push(g(r.types[R],C,T,P-j,N-P,A)),_.push(j-$)}function g(w,_,$,k,j,P,R){if(P){let N=[tt.contextHash,P];R=R?[N].concat(R):[N]}if(j>25){let N=[tt.lookAhead,j];R=R?[N].concat(R):[N]}return new ln(w,_,$,k,R)}function y(w,_){let $=a.fork(),k=0,j=0,P=0,R=$.end-i,N={size:0,start:0,skip:0};e:for(let A=$.pos-w;$.pos>A;){let C=$.size;if($.id==_&&C>=0){N.size=k,N.start=j,N.skip=P,P+=4,k+=4,$.next();continue}let T=$.pos-C;if(C<0||T<A||$.start<R)break;let E=$.id>=o?4:0,I=$.start;for($.next();$.pos>T;){if($.size<0)if($.size==-3)E+=4;else break e;else $.id>=o&&(E+=4);$.next()}j=I,k+=C,P+=E}return(_<0||k==w)&&(N.size=k,N.start=j,N.skip=P),N.size>4?N:void 0}function O(w,_,$){let{id:k,start:j,end:P,size:R}=a;if(a.next(),R>=0&&k<o){let N=$;if(R>4){let A=a.pos-(R-4);for(;a.pos>A;)$=O(w,_,$)}_[--$]=N,_[--$]=P-w,_[--$]=j-w,_[--$]=k}else R==-3?c=k:R==-4&&(u=k);return $}let b=[],x=[];for(;a.pos>0;)d(t.start||0,t.bufferStart||0,b,x,-1,0);let v=(e=t.length)!==null&&e!==void 0?e:b.length?x[0]+b[0].length:0;return new ln(l[t.topID],b.reverse(),x.reverse(),v)}const $L=new WeakMap;function iv(t,e){if(!t.isAnonymous||e instanceof qc||e.type!=t)return 1;let n=$L.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof ln)){n=1;break}n+=iv(t,r)}$L.set(e,n)}return n}function zR(t,e,n,r,i,s,o,a,l){let c=0;for(let m=r;m<i;m++)c+=iv(t,e[m]);let u=Math.ceil(c*1.5/8),d=[],f=[];function h(m,g,y,O,b){for(let x=y;x<O;){let v=x,w=g[x],_=iv(t,m[x]);for(x++;x<O;x++){let $=iv(t,m[x]);if(_+$>=u)break;_+=$}if(x==v+1){if(_>u){let $=m[v];h($.children,$.positions,0,$.children.length,g[v]+b);continue}d.push(m[v])}else{let $=g[x-1]+m[x-1].length-w;d.push(zR(t,m,g,v,x,w,$,null,l))}f.push(w+b-s)}}return h(e,n,r,i,0),(a||l)(d,f,o)}class iX{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof Bo?this.setBuffer(e.context.buffer,e.index,n):e instanceof Rr&&this.map.set(e.tree,n)}get(e){return e instanceof Bo?this.getBuffer(e.context.buffer,e.index):e instanceof Rr?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class rl{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new rl(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<n.length?n[a]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let f=o;if(l>=f.from||d<=f.to||c){let h=Math.max(f.from,l)-c,m=Math.min(f.to,d)-c;f=h>=m?null:new rl(h,m,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>d)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class sX{startParse(e,n,r){return typeof e=="string"&&(e=new qje(e)),r=r?r.length?r.map(i=>new rs(i.from,i.to)):[new rs(0,0)]:[new rs(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}}class qje{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function oX(t){return(e,n,r,i)=>new Bje(e,t,n,r,i)}class kL{constructor(e,n,r,i,s){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.from=s}}function PL(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class Vje{constructor(e,n,r,i,s,o,a){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const Ej=new tt({perNode:!0});class Bje{constructor(e,n,r,i,s){this.nest=n,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new ln(r.type,r.children,r.positions,r.length,r.propValues.concat([[Ej,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[tt.mounted.id]=new Ug(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new Uje(this.fragments),n=null,r=null,i=new yw(new Rr(this.baseTree,this.ranges[0].from,0,null),zt.IncludeAnonymous|zt.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(n){let c=n.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let d=u.from+c.pos,f=u.to+c.pos;d>=i.from&&f<=i.to&&!n.ranges.some(h=>h.from<f&&h.to>d)&&n.ranges.push({from:d,to:f})}}a=!1}else if(r&&(o=zje(r.ranges,i.from,i.to)))a=o!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||Wje(i);let c=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")n=new Vje(s.parser,s.overlay,c,this.inner.length,i.from,i.tree,n);else{let u=EL(this.ranges,s.overlay||(i.from<i.to?[new rs(i.from,i.to)]:[]));u.length&&PL(u),(u.length||!s.overlay)&&this.inner.push(new kL(s.parser,u.length?s.parser.startParse(this.input,TL(c,u),u):s.parser.startParse(""),s.overlay?s.overlay.map(d=>new rs(d.from-i.from,d.to-i.from)):null,i.tree,u.length?u[0].from:i.from)),s.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):a=!1}}else if(n&&(l=n.predicate(i))&&(l===!0&&(l=new rs(i.from,i.to)),l.from<l.to)){let c=n.ranges.length-1;c>=0&&n.ranges[c].to==l.from?n.ranges[c]={from:n.ranges[c].from,to:l.to}:n.ranges.push(l)}if(a&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let c=EL(this.ranges,n.ranges);c.length&&(PL(c),this.inner.splice(n.index,0,new kL(n.parser,n.parser.startParse(this.input,TL(n.mounts,c),c),n.ranges.map(u=>new rs(u.from-n.start,u.to-n.start)),n.target,c[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function zje(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function CL(t,e,n,r,i,s){if(e<n){let o=t.buffer[e+1];r.push(t.slice(e,n,o)),i.push(o-s)}}function Wje(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,s=i.children.indexOf(r),o=i.children[s],a=o.buffer,l=[s];function c(u,d,f,h,m,g){let y=n[g],O=[],b=[];CL(o,u,y,O,b,h);let x=a[y+1],v=a[y+2];l.push(O.length);let w=g?c(y+4,a[y+3],o.set.types[a[y]],x,v-x,g-1):e.toTree();return O.push(w),b.push(x-h),CL(o,a[y+3],d,O,b,h),new ln(f,O,b,m)}i.children[s]=c(0,a.length,Kr.none,0,o.length,n.length-1);for(let u of l){let d=t.tree.children[u],f=t.tree.positions[u];t.yield(new Rr(d,f+t.from,u,t._tree))}}class jL{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(zt.IncludeAnonymous|zt.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,zt.IgnoreOverlays|zt.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof ln)n=n.children[0];else break}return!1}}let Uje=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(Ej))!==null&&n!==void 0?n:r.to,this.inner=new jL(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(Ej))!==null&&e!==void 0?e:n.to,this.inner=new jL(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(tt.mounted);if(o&&o.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:s.from-l.offset,mount:o})}}}return i}};function EL(t,e){let n=null,r=e;for(let i=1,s=0;i<t.length;i++){let o=t[i-1].to,a=t[i].from;for(;s<r.length;s++){let l=r[s];if(l.from>=a)break;l.to<=o||(n||(r=n=e.slice()),l.from<o?(n[s]=new rs(l.from,o),l.to>a&&n.splice(s+1,0,new rs(a,l.to))):l.to>a?n[s--]=new rs(a,l.to):n.splice(s--,1))}}return r}function Zje(t,e,n,r){let i=0,s=0,o=!1,a=!1,l=-1e9,c=[];for(;;){let u=i==t.length?1e9:o?t[i].to:t[i].from,d=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let f=Math.max(l,n),h=Math.min(u,d,r);f<h&&c.push(new rs(f,h))}if(l=Math.min(u,d),l==1e9)break;u==l&&(o?(o=!1,i++):o=!0),d==l&&(a?(a=!1,s++):a=!0)}return c}function TL(t,e){let n=[];for(let{pos:r,mount:i,frag:s}of t){let o=r+(i.overlay?i.overlay[0].from:0),a=o+i.tree.length,l=Math.max(s.from,o),c=Math.min(s.to,a);if(i.overlay){let u=i.overlay.map(f=>new rs(f.from+r,f.to+r)),d=Zje(e,u,l,c);for(let f=0,h=l;;f++){let m=f==d.length,g=m?c:d[f].from;if(g>h&&n.push(new rl(h,g,i.tree,-o,s.from>=h||s.openStart,s.to<=g||s.openEnd)),m)break;h=d[f].to}}else n.push(new rl(l,c,i.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return n}let Xje=0;class Ji{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=Xje++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Ji&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let i=new Ji(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(e){let n=new Ow(e);return r=>r.modified.indexOf(n)>-1?r:Ow.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}}let Yje=0;class Ow{constructor(e){this.name=e,this.instances=[],this.id=Yje++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&Gje(n,a.modified));if(r)return r;let i=[],s=new Ji(e.name,i,e,n);for(let a of n)a.instances.push(s);let o=Hje(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(Ow.get(a,l));return s}}function Gje(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function Hje(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function vp(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let d=0;;){if(a=="..."&&d>0&&d+3==i.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+i);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),d+=f[0].length,d==i.length)break;let h=i[d++];if(d==i.length&&h=="!"){o=0;break}if(h!="/")throw new RangeError("Invalid path: "+i);a=i.slice(d)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new bw(r,o,l>0?s.slice(0,l):null);e[c]=u.sort(e[c])}}return aX.add(e)}const aX=new tt;class bw{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}bw.empty=new bw([],2,null);function lX(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let c=n[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:r}}function Kje(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function Jje(t,e,n,r=0,i=t.length){let s=new eEe(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class eEe{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(h=>!h.scope||h.scope(o)));let c=i,u=tEe(e)||bw.empty,d=Kje(s,u.tags);if(d&&(c&&(c+=" "),c+=d,u.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(n,a),c),u.opaque)return;let f=e.tree&&e.tree.prop(tt.mounted);if(f&&f.overlay){let h=e.node.enter(f.overlay[0].from+a,1),m=this.highlighters.filter(y=>!y.scope||y.scope(f.tree.type)),g=e.firstChild();for(let y=0,O=a;;y++){let b=y<f.overlay.length?f.overlay[y]:null,x=b?b.from+a:l,v=Math.max(n,O),w=Math.min(r,x);if(v<w&&g)for(;e.from<w&&(this.highlightRange(e,v,w,i,s),this.startSpan(Math.min(w,e.to),c),!(e.to>=x||!e.nextSibling())););if(!b||x>r)break;O=b.to+a,O>n&&(this.highlightRange(h.cursor(),Math.max(n,b.from+a),Math.min(r,O),"",m),this.startSpan(Math.min(r,O),c))}g&&e.parent()}else if(e.firstChild()){f&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function tEe(t){let e=t.type.prop(aX);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Te=Ji.define,Fb=Te(),Zl=Te(),NL=Te(Zl),AL=Te(Zl),Xl=Te(),Lb=Te(Xl),I$=Te(Xl),To=Te(),fu=Te(To),$o=Te(),ko=Te(),Tj=Te(),hm=Te(Tj),qb=Te(),H={comment:Fb,lineComment:Te(Fb),blockComment:Te(Fb),docComment:Te(Fb),name:Zl,variableName:Te(Zl),typeName:NL,tagName:Te(NL),propertyName:AL,attributeName:Te(AL),className:Te(Zl),labelName:Te(Zl),namespace:Te(Zl),macroName:Te(Zl),literal:Xl,string:Lb,docString:Te(Lb),character:Te(Lb),attributeValue:Te(Lb),number:I$,integer:Te(I$),float:Te(I$),bool:Te(Xl),regexp:Te(Xl),escape:Te(Xl),color:Te(Xl),url:Te(Xl),keyword:$o,self:Te($o),null:Te($o),atom:Te($o),unit:Te($o),modifier:Te($o),operatorKeyword:Te($o),controlKeyword:Te($o),definitionKeyword:Te($o),moduleKeyword:Te($o),operator:ko,derefOperator:Te(ko),arithmeticOperator:Te(ko),logicOperator:Te(ko),bitwiseOperator:Te(ko),compareOperator:Te(ko),updateOperator:Te(ko),definitionOperator:Te(ko),typeOperator:Te(ko),controlOperator:Te(ko),punctuation:Tj,separator:Te(Tj),bracket:hm,angleBracket:Te(hm),squareBracket:Te(hm),paren:Te(hm),brace:Te(hm),content:To,heading:fu,heading1:Te(fu),heading2:Te(fu),heading3:Te(fu),heading4:Te(fu),heading5:Te(fu),heading6:Te(fu),contentSeparator:Te(To),list:Te(To),quote:Te(To),emphasis:Te(To),strong:Te(To),link:Te(To),monospace:Te(To),strikethrough:Te(To),inserted:Te(),deleted:Te(),changed:Te(),invalid:Te(),meta:qb,documentMeta:Te(qb),annotation:Te(qb),processingInstruction:Te(qb),definition:Ji.defineModifier("definition"),constant:Ji.defineModifier("constant"),function:Ji.defineModifier("function"),standard:Ji.defineModifier("standard"),local:Ji.defineModifier("local"),special:Ji.defineModifier("special")};for(let t in H){let e=H[t];e instanceof Ji&&(e.name=t)}lX([{tag:H.link,class:"tok-link"},{tag:H.heading,class:"tok-heading"},{tag:H.emphasis,class:"tok-emphasis"},{tag:H.strong,class:"tok-strong"},{tag:H.keyword,class:"tok-keyword"},{tag:H.atom,class:"tok-atom"},{tag:H.bool,class:"tok-bool"},{tag:H.url,class:"tok-url"},{tag:H.labelName,class:"tok-labelName"},{tag:H.inserted,class:"tok-inserted"},{tag:H.deleted,class:"tok-deleted"},{tag:H.literal,class:"tok-literal"},{tag:H.string,class:"tok-string"},{tag:H.number,class:"tok-number"},{tag:[H.regexp,H.escape,H.special(H.string)],class:"tok-string2"},{tag:H.variableName,class:"tok-variableName"},{tag:H.local(H.variableName),class:"tok-variableName tok-local"},{tag:H.definition(H.variableName),class:"tok-variableName tok-definition"},{tag:H.special(H.variableName),class:"tok-variableName2"},{tag:H.definition(H.propertyName),class:"tok-propertyName tok-definition"},{tag:H.typeName,class:"tok-typeName"},{tag:H.namespace,class:"tok-namespace"},{tag:H.className,class:"tok-className"},{tag:H.macroName,class:"tok-macroName"},{tag:H.propertyName,class:"tok-propertyName"},{tag:H.operator,class:"tok-operator"},{tag:H.comment,class:"tok-comment"},{tag:H.meta,class:"tok-meta"},{tag:H.invalid,class:"tok-invalid"},{tag:H.punctuation,class:"tok-punctuation"}]);var D$;const Nf=new tt;function cX(t){return Re.define({combine:t?e=>e.concat(t):void 0})}const WR=new tt;class Hs{constructor(e,n,r=[],i=""){this.data=e,this.name=i,dt.prototype.hasOwnProperty("tree")||Object.defineProperty(dt.prototype,"tree",{get(){return cn(this)}}),this.parser=n,this.extension=[Bc.of(this),dt.languageData.of((s,o,a)=>{let l=RL(s,o,a),c=l.type.prop(Nf);if(!c)return[];let u=s.facet(c),d=l.type.prop(WR);if(d){let f=l.resolve(o-l.from,a);for(let h of d)if(h.test(f,s)){let m=s.facet(h.facet);return h.type=="replace"?m:m.concat(u)}}return u})].concat(r)}isActiveAt(e,n,r=-1){return RL(e,n,r).type.prop(Nf)==this.data}findRegions(e){let n=e.facet(Bc);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Nf)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(tt.mounted);if(a){if(a.tree.prop(Nf)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof ln&&i(c,s.positions[l]+o)}};return i(cn(e),0),r}get allowsNesting(){return!0}}Hs.setState=He.define();function RL(t,e,n){let r=t.facet(Bc),i=cn(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,zt.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Vc extends Hs{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=cX(e.languageData);return new Vc(n,e.parser.configure({props:[Nf.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Vc(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function cn(t){let e=t.field(Hs.state,!1);return e?e.tree:ln.empty}class nEe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let pm=null;class xw{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new xw(e,n,[],ln.empty,0,r,[],null)}startParse(){return this.parser.startParse(new nEe(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=ln.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(rl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(rl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=pm;pm=this;try{return e()}finally{pm=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=ML(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,f)=>l.push({fromA:c,toA:u,fromB:d,toB:f})),r=rl.applyChanges(r,l),i=ln.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&a.push({from:u,to:d})}}}return new xw(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=ML(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends sX{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=pm;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new ln(Kr.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return pm}}function ML(t,e,n){return rl.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Ih{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Ih(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=xw.create(e.facet(Bc).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Ih(r)}}Hs.state=rr.define({create:Ih.init,update(t,e){for(let n of e.effects)if(n.is(Hs.setState))return n.value;return e.startState.facet(Bc)!=e.state.facet(Bc)?Ih.init(e.state):t.apply(e)}});let uX=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(uX=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Q$=typeof navigator<"u"&&(!((D$=navigator.scheduling)===null||D$===void 0)&&D$.isInputPending)?()=>navigator.scheduling.isInputPending():null,rEe=vn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Hs.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Hs.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=uX(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Hs.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Q$?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>Q$&&Q$()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Hs.setState.of(new Ih(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>ui(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Bc=Re.define({combine(t){return t.length?t[0]:null},enables:t=>[Hs.state,rEe,Ne.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class dO{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const iEe=Re.define(),fO=Re.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function vw(t){let e=t.facet(fO);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Xg(t,e){let n="",r=t.tabSize,i=t.facet(fO)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function UR(t,e){t instanceof dt&&(t=new VS(t));for(let r of t.state.facet(iEe)){let i=r(t,e);if(i!==void 0)return i}let n=cn(t.state);return n.length>=e?sEe(t,n,e):null}class VS{constructor(e,n={}){this.state=e,this.options=n,this.unit=vw(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return xp(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const wp=new tt;function sEe(t,e,n){let r=e.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let o=i;o!=r.node;o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return dX(r,t,n)}function dX(t,e,n){for(let r=t;r;r=r.next){let i=aEe(r.node);if(i)return i(ZR.create(e,n,r))}return 0}function oEe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function aEe(t){let e=t.type.prop(wp);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(tt.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>hX(o,!0,1,void 0,s&&!oEe(o)?i.from:void 0)}return t.parent==null?lEe:null}function lEe(){return 0}class ZR extends VS{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new ZR(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(cEe(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return dX(this.context.next,this.base,this.pos)}}function cEe(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function uEe(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+c}}a=l.to}}function fX({closing:t,align:e=!0,units:n=1}){return r=>hX(r,e,n,t)}function hX(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=e?uEe(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const dEe=t=>t.baseIndent;function Xf({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const fEe=200;function hEe(){return dt.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+fEe)return t;let s=n.sliceString(i.from,r);if(!e.some(c=>c.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==a)continue;a=u.from;let d=UR(o,u.from);if(d==null)continue;let f=/^\s*/.exec(u.text)[0],h=Xg(o,d);f!=h&&l.push({from:u.from,to:u.from+f.length,insert:h})}return l.length?[t,{changes:l,sequential:!0}]:t})}const pEe=Re.define(),Sp=new tt;function XR(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function mEe(t,e,n){let r=cn(t);if(r.length<n)return null;let i=r.resolveStack(n,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=n||a.from>n)continue;if(s&&a.from<e)break;let l=a.type.prop(Sp);if(l&&(a.to<r.length-50||r.length==t.doc.length||!gEe(a))){let c=l(a,t);c&&c.from<=n&&c.from>=e&&c.to>n&&(s=c)}}return s}function gEe(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function ww(t,e,n){for(let r of t.facet(pEe)){let i=r(t,e,n);if(i)return i}return mEe(t,e,n)}function pX(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const BS=He.define({map:pX}),hO=He.define({map:pX});function mX(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const Sd=rr.define({create(){return Be.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(BS)&&!yEe(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(OX),i=r?Be.replace({widget:new _Ee(r(e.state,n.value))}):IL;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(hO)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(i,s)=>{i<r&&s>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return t},provide:t=>Ne.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(IL.range(r,i))}return Be.set(e,!0)}});function Sw(t,e,n){var r;let i=null;return(r=t.field(Sd,!1))===null||r===void 0||r.between(e,n,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function yEe(t,e,n){let r=!1;return t.between(e,e,(i,s)=>{i==e&&s==n&&(r=!0)}),r}function gX(t,e){return t.field(Sd,!1)?e:e.concat(He.appendConfig.of(bX()))}const OEe=t=>{for(let e of mX(t)){let n=ww(t.state,e.from,e.to);if(n)return t.dispatch({effects:gX(t.state,[BS.of(n),yX(t,n)])}),!0}return!1},bEe=t=>{if(!t.state.field(Sd,!1))return!1;let e=[];for(let n of mX(t)){let r=Sw(t.state,n.from,n.to);r&&e.push(hO.of(r),yX(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function yX(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Ne.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const xEe=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=ww(e,i.from,i.to);s&&n.push(BS.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:gX(t.state,n)}),!!n.length},vEe=t=>{let e=t.state.field(Sd,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(hO.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},wEe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:OEe},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:bEe},{key:"Ctrl-Alt-[",run:xEe},{key:"Ctrl-Alt-]",run:vEe}],SEe={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},OX=Re.define({combine(t){return fa(t,SEe)}});function bX(t){return[Sd,PEe]}function xX(t,e){let{state:n}=t,r=n.facet(OX),i=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=Sw(t.state,a.from,a.to);l&&t.dispatch({effects:hO.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const IL=Be.replace({widget:new class extends ha{toDOM(t){return xX(t,null)}}});class _Ee extends ha{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return xX(e,this.value)}}const $Ee={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class F$ extends ml{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function kEe(t={}){let e=Object.assign(Object.assign({},$Ee),t),n=new F$(e,!0),r=new F$(e,!1),i=vn.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Bc)!=o.state.facet(Bc)||o.startState.field(Sd,!1)!=o.state.field(Sd,!1)||cn(o.startState)!=cn(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new Dc;for(let l of o.viewportLineBlocks){let c=Sw(o.state,l.from,l.to)?r:ww(o.state,l.from,l.to)?n:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[i,_je({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||gt.empty},initialSpacer(){return new F$(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=Sw(o.state,a.from,a.to);if(c)return o.dispatch({effects:hO.of(c)}),!0;let u=ww(o.state,a.from,a.to);return u?(o.dispatch({effects:BS.of(u)}),!0):!1}})}),bX()]}const PEe=Ne.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class pO{constructor(e,n){this.specs=e;let r;function i(a){let l=Qc.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof Hs?a=>a.prop(Nf)==o.data:o?a=>a==o:void 0,this.style=lX(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Qc(r):null,this.themeType=n.themeType}static define(e,n){return new pO(e,n||{})}}const Nj=Re.define(),vX=Re.define({combine(t){return t.length?[t[0]]:null}});function L$(t){let e=t.facet(Nj);return e.length?e:t.facet(vX)}function wX(t,e){let n=[jEe],r;return t instanceof pO&&(t.module&&n.push(Ne.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(vX.of(t)):r?n.push(Nj.computeN([Ne.darkTheme],i=>i.facet(Ne.darkTheme)==(r=="dark")?[t]:[])):n.push(Nj.of(t)),n}class CEe{constructor(e){this.markCache=Object.create(null),this.tree=cn(e.state),this.decorations=this.buildDeco(e,L$(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=cn(e.state),r=L$(e.state),i=r!=L$(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return Be.none;let r=new Dc;for(let{from:i,to:s}of e.visibleRanges)Jje(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=Be.mark({class:l})))},i,s);return r.finish()}}const jEe=iu.high(vn.fromClass(CEe,{decorations:t=>t.decorations})),EEe=pO.define([{tag:H.meta,color:"#404740"},{tag:H.link,textDecoration:"underline"},{tag:H.heading,textDecoration:"underline",fontWeight:"bold"},{tag:H.emphasis,fontStyle:"italic"},{tag:H.strong,fontWeight:"bold"},{tag:H.strikethrough,textDecoration:"line-through"},{tag:H.keyword,color:"#708"},{tag:[H.atom,H.bool,H.url,H.contentSeparator,H.labelName],color:"#219"},{tag:[H.literal,H.inserted],color:"#164"},{tag:[H.string,H.deleted],color:"#a11"},{tag:[H.regexp,H.escape,H.special(H.string)],color:"#e40"},{tag:H.definition(H.variableName),color:"#00f"},{tag:H.local(H.variableName),color:"#30a"},{tag:[H.typeName,H.namespace],color:"#085"},{tag:H.className,color:"#167"},{tag:[H.special(H.variableName),H.macroName],color:"#256"},{tag:H.definition(H.propertyName),color:"#00c"},{tag:H.comment,color:"#940"},{tag:H.invalid,color:"#f00"}]),TEe=Ne.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),SX=1e4,_X="()[]{}",$X=Re.define({combine(t){return fa(t,{afterCursor:!0,brackets:_X,maxScanDistance:SX,renderMatch:REe})}}),NEe=Be.mark({class:"cm-matchingBracket"}),AEe=Be.mark({class:"cm-nonmatchingBracket"});function REe(t){let e=[],n=t.matched?NEe:AEe;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const MEe=rr.define({create(){return Be.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet($X);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=zo(e.state,i.head,-1,r)||i.head>0&&zo(e.state,i.head-1,1,r)||r.afterCursor&&(zo(e.state,i.head,1,r)||i.head<e.state.doc.length&&zo(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return Be.set(n,!0)},provide:t=>Ne.decorations.from(t)}),IEe=[MEe,TEe];function DEe(t={}){return[$X.of(t),IEe]}const kX=new tt;function Aj(t,e,n){let r=t.prop(e<0?tt.openedBy:tt.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function Rj(t){let e=t.type.prop(kX);return e?e(t.node):t}function zo(t,e,n,r={}){let i=r.maxScanDistance||SX,s=r.brackets||_X,o=cn(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let c=Aj(l.type,n,s);if(c&&l.from<l.to){let u=Rj(l);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return QEe(t,e,n,l,u,c,s)}}return FEe(t,e,n,o,a.type,i,s)}function QEe(t,e,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},c=0,u=a==null?void 0:a.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let d=Rj(u);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(Aj(u.type,n,o))c++;else if(Aj(u.type,-n,o)){if(c==0){let d=Rj(u);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function FEe(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),d=0;for(let f=0;!u.next().done&&f<=s;){let h=u.value;n<0&&(f+=h.length);let m=e+f*n;for(let g=n>0?0:h.length-1,y=n>0?h.length:-1;g!=y;g+=n){let O=o.indexOf(h[g]);if(!(O<0||r.resolveInner(m+g,1).type!=i))if(O%2==0==n>0)d++;else{if(d==1)return{start:c,end:{from:m+g,to:m+g+1},matched:O>>1==l>>1};d--}}n>0&&(f+=h.length)}return u.done?{start:c,matched:!1}:null}const LEe=Object.create(null),DL=[Kr.none],QL=[],FL=Object.create(null),qEe=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])qEe[t]=VEe(LEe,e);function q$(t,e){QL.indexOf(t)>-1||(QL.push(t),console.warn(e))}function VEe(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=t[c]||H[c];u?typeof u=="function"?l.length?l=l.map(u):q$(c,`Modifier ${c} used at start of tag`):l.length?q$(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:q$(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),s=FL[i];if(s)return s.id;let o=FL[i]=Kr.define({id:DL.length,name:r,props:[vp({[r]:n})]});return DL.push(o),o.id}Xt.RTL,Xt.LTR;const BEe=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=GR(t.state,n.from);return r.line?zEe(t):r.block?UEe(t):!1};function YR(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const zEe=YR(YEe,0),WEe=YR(PX,0),UEe=YR((t,e)=>PX(t,e,XEe(e)),0);function GR(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const mm=50;function ZEe(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-mm,r),o=t.sliceDoc(i,i+mm),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,d;i-r<=2*mm?u=d=t.sliceDoc(r,i):(u=t.sliceDoc(r,r+mm),d=t.sliceDoc(i-mm,i));let f=/^\s*/.exec(u)[0].length,h=/\s*$/.exec(d)[0].length,m=d.length-h-n.length;return u.slice(f,f+e.length)==e&&d.slice(m,m+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(u.charAt(f+e.length))?1:0},close:{pos:i-h-n.length,margin:/\s/.test(d.charAt(m-1))?1:0}}:null}function XEe(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function PX(t,e,n=e.selection.ranges){let r=n.map(s=>GR(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>ZEe(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:c,close:u}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:s}}return null}function YEe(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of n){let a=r.length,l=1e9,c=GR(e,s).line;if(c){for(let u=s;u<=o;){let d=e.doc.lineAt(u);if(d.from>i&&(s==o||o>d.from)){i=d.from;let f=/^\s*/.exec(d.text)[0].length,h=f==d.length,m=d.text.slice(f,f+c.length)==c?f:-1;f<d.text.length&&f<l&&(l=f),r.push({line:d,comment:m,token:c,indent:f,empty:h,single:!1})}u=d.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:u,single:d}of r)(d||!u)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let c=o.from+a,u=c+l.length;o.text[u-o.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const Mj=da.define(),GEe=da.define(),HEe=Re.define(),CX=Re.define({combine(t){return fa(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),jX=rr.define({create(){return Wo.empty},update(t,e){let n=e.state.facet(CX),r=e.annotation(Mj);if(r){let l=di.fromTransaction(e,r.selection),c=r.side,u=c==0?t.undone:t.done;return l?u=_w(u,u.length,n.minDepth,l):u=NX(u,e.startState.selection),new Wo(c==0?r.rest:u,c==0?u:r.rest)}let i=e.annotation(GEe);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(En.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=di.fromTransaction(e),o=e.annotation(En.time),a=e.annotation(En.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Wo(t.done.map(di.fromJSON),t.undone.map(di.fromJSON))}});function KEe(t={}){return[jX,CX.of(t),Ne.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?EX:e.inputType=="historyRedo"?Ij:null;return r?(e.preventDefault(),r(n)):!1}})]}function zS(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(jX,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const EX=zS(0,!1),Ij=zS(1,!1),JEe=zS(0,!0),eTe=zS(1,!0);class di{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new di(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new di(e.changes&&Fn.fromJSON(e.changes),[],e.mapped&&Ko.fromJSON(e.mapped),e.startSelection&&Oe.fromJSON(e.startSelection),e.selectionsAfter.map(Oe.fromJSON))}static fromTransaction(e,n){let r=is;for(let i of e.startState.facet(HEe)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new di(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,is)}static selection(e){return new di(void 0,is,void 0,void 0,e)}}function _w(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function tTe(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let c=n[l++],u=n[l++];a>=c&&o<=u&&(r=!0)}}),r}function nTe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function TX(t,e){return t.length?e.length?t.concat(e):t:e}const is=[],rTe=200;function NX(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-rTe));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),_w(t,t.length-1,1e9,n.setSelAfter(r)))}else return[di.selection([e])]}function iTe(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function V$(t,e){if(!t.length)return t;let n=t.length,r=is;for(;n;){let i=sTe(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[di.selection(r)]:is}function sTe(t,e,n){let r=TX(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):is,n);if(!t.changes)return di.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new di(i,He.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const oTe=/^(input\.type|delete)($|\.)/;class Wo{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Wo(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||oTe.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,tTe(a.changes,e.changes))||r=="input.type.compose")?o=_w(o,o.length-1,i.minDepth,new di(e.changes.compose(a.changes),TX(He.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,is)):o=_w(o,o.length,i.minDepth,e),new Wo(o,is,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:is;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&nTe(s[s.length-1],e)?this:new Wo(NX(this.done,e),this.undone,n,r)}addMapping(e){return new Wo(V$(this.done,e),V$(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||n.selection;if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:Mj.of({side:e,rest:iTe(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?is:i.slice(0,i.length-1);return s.mapped&&(a=V$(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:Mj.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Wo.empty=new Wo(is,is);const aTe=[{key:"Mod-z",run:EX,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Ij,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Ij,preventDefault:!0},{key:"Mod-u",run:JEe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:eTe,preventDefault:!0}];function _p(t,e){return Oe.create(t.ranges.map(e),t.mainIndex)}function pa(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ho({state:t,dispatch:e},n){let r=_p(t.selection,n);return r.eq(t.selection,!0)?!1:(e(pa(t,r)),!0)}function WS(t,e){return Oe.cursor(e?t.to:t.from)}function AX(t,e){return ho(t,n=>n.empty?t.moveByChar(n,e):WS(n,e))}function Ir(t){return t.textDirectionAt(t.state.selection.main.head)==Xt.LTR}const RX=t=>AX(t,!Ir(t)),MX=t=>AX(t,Ir(t));function IX(t,e){return ho(t,n=>n.empty?t.moveByGroup(n,e):WS(n,e))}const lTe=t=>IX(t,!Ir(t)),cTe=t=>IX(t,Ir(t));function uTe(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function US(t,e,n){let r=cn(t).resolveInner(e.head),i=n?tt.closedBy:tt.openedBy;for(let l=e.head;;){let c=n?r.childAfter(l):r.childBefore(l);if(!c)break;uTe(t,c,i)?r=c:l=n?c.to:c.from}let s=r.type.prop(i),o,a;return s&&(o=n?zo(t,r.from,1):zo(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,Oe.cursor(a,n?-1:1)}const dTe=t=>ho(t,e=>US(t.state,e,!Ir(t))),fTe=t=>ho(t,e=>US(t.state,e,Ir(t)));function DX(t,e){return ho(t,n=>{if(!n.empty)return WS(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const QX=t=>DX(t,!1),FX=t=>DX(t,!0);function LX(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(Ne.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function qX(t,e){let n=LX(t),{state:r}=t,i=_p(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):WS(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<c&&(s=Ne.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(pa(r,i),{effects:s}),!0}const LL=t=>qX(t,!1),Dj=t=>qX(t,!0);function su(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=Oe.cursor(r.from+s))}return i}const hTe=t=>ho(t,e=>su(t,e,!0)),pTe=t=>ho(t,e=>su(t,e,!1)),mTe=t=>ho(t,e=>su(t,e,!Ir(t))),gTe=t=>ho(t,e=>su(t,e,Ir(t))),yTe=t=>ho(t,e=>Oe.cursor(t.lineBlockAt(e.head).from,1)),OTe=t=>ho(t,e=>Oe.cursor(t.lineBlockAt(e.head).to,-1));function bTe(t,e,n){let r=!1,i=_p(t.selection,s=>{let o=zo(t,s.head,-1)||zo(t,s.head,1)||s.head>0&&zo(t,s.head-1,1)||s.head<t.doc.length&&zo(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return Oe.cursor(a)});return r?(e(pa(t,i)),!0):!1}const xTe=({state:t,dispatch:e})=>bTe(t,e);function Cs(t,e){let n=_p(t.state.selection,r=>{let i=e(r);return Oe.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(pa(t.state,n)),!0)}function VX(t,e){return Cs(t,n=>t.moveByChar(n,e))}const BX=t=>VX(t,!Ir(t)),zX=t=>VX(t,Ir(t));function WX(t,e){return Cs(t,n=>t.moveByGroup(n,e))}const vTe=t=>WX(t,!Ir(t)),wTe=t=>WX(t,Ir(t)),STe=t=>Cs(t,e=>US(t.state,e,!Ir(t))),_Te=t=>Cs(t,e=>US(t.state,e,Ir(t)));function UX(t,e){return Cs(t,n=>t.moveVertically(n,e))}const ZX=t=>UX(t,!1),XX=t=>UX(t,!0);function YX(t,e){return Cs(t,n=>t.moveVertically(n,e,LX(t).height))}const qL=t=>YX(t,!1),VL=t=>YX(t,!0),$Te=t=>Cs(t,e=>su(t,e,!0)),kTe=t=>Cs(t,e=>su(t,e,!1)),PTe=t=>Cs(t,e=>su(t,e,!Ir(t))),CTe=t=>Cs(t,e=>su(t,e,Ir(t))),jTe=t=>Cs(t,e=>Oe.cursor(t.lineBlockAt(e.head).from)),ETe=t=>Cs(t,e=>Oe.cursor(t.lineBlockAt(e.head).to)),BL=({state:t,dispatch:e})=>(e(pa(t,{anchor:0})),!0),zL=({state:t,dispatch:e})=>(e(pa(t,{anchor:t.doc.length})),!0),WL=({state:t,dispatch:e})=>(e(pa(t,{anchor:t.selection.main.anchor,head:0})),!0),UL=({state:t,dispatch:e})=>(e(pa(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),TTe=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),NTe=({state:t,dispatch:e})=>{let n=ZS(t).map(({from:r,to:i})=>Oe.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Oe.create(n),userEvent:"select"})),!0},ATe=({state:t,dispatch:e})=>{let n=_p(t.selection,r=>{let i=cn(t),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return Oe.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e(pa(t,n)),!0)},RTe=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Oe.create([n.main]):n.main.empty||(r=Oe.create([Oe.cursor(n.main.head)])),r?(e(pa(t,r)),!0):!1};function mO(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=Vb(t,l,!1)):l>o&&(n="delete.forward",l=Vb(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Vb(t,o,!1),a=Vb(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Oe.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Ne.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Vb(t,e,n){if(t instanceof Ne)for(let r of t.state.facet(Ne.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const GX=(t,e,n)=>mO(t,r=>{let i=r.from,{state:s}=t,o=s.doc.lineAt(i),a,l;if(n&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let c=xp(a,s.tabSize),u=c%vw(s)||vw(s);for(let d=0;d<u&&a[a.length-1-d]==" ";d++)i--;l=i}else l=pr(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=pr(o.text,l-o.from,!1,!1)+o.from);return l}),Qj=t=>GX(t,!1,!0),HX=t=>GX(t,!0,!1),KX=(t,e)=>mO(t,n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=pr(s.text,r-s.from,e)+s.from,c=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),u=o(c);if(a!=null&&u!=a)break;(c!=" "||r!=n.head)&&(a=u),r=l}return r}),JX=t=>KX(t,!1),MTe=t=>KX(t,!0),ITe=t=>mO(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),DTe=t=>mO(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),QTe=t=>mO(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),FTe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:_t.of(["",""])},range:Oe.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},LTe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:pr(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:pr(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:Oe.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function ZS(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function eY(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of ZS(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(Oe.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(Oe.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Oe.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const qTe=({state:t,dispatch:e})=>eY(t,e,!1),VTe=({state:t,dispatch:e})=>eY(t,e,!0);function tY(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of ZS(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const BTe=({state:t,dispatch:e})=>tY(t,e,!1),zTe=({state:t,dispatch:e})=>tY(t,e,!0),WTe=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(ZS(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=_p(e.selection,i=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,s)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function UTe(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=cn(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(tt.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const ZL=nY(!1),ZTe=nY(!0);function nY(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&UTe(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new VS(e,{simulateBreak:s,simulateDoubleBreak:!!l}),u=UR(c,s);for(u==null&&(u=xp(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let d=["",Xg(e,u)];return l&&d.push(Xg(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:_t.of(d)},range:Oe.cursor(s+1+d[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function HR(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:Oe.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const XTe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new VS(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),i=HR(t,(s,o,a)=>{let l=UR(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],u=Xg(t,l);(c!=u||a.from<s.from+c.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:u}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},rY=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(HR(t,(n,r)=>{r.push({from:n.from,insert:t.facet(fO)})}),{userEvent:"input.indent"})),!0),iY=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(HR(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=xp(i,t.tabSize),o=0,a=Xg(t,Math.max(0,s-vw(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),YTe=t=>(t.setTabFocusMode(),!0),GTe=[{key:"Ctrl-b",run:RX,shift:BX,preventDefault:!0},{key:"Ctrl-f",run:MX,shift:zX},{key:"Ctrl-p",run:QX,shift:ZX},{key:"Ctrl-n",run:FX,shift:XX},{key:"Ctrl-a",run:yTe,shift:jTe},{key:"Ctrl-e",run:OTe,shift:ETe},{key:"Ctrl-d",run:HX},{key:"Ctrl-h",run:Qj},{key:"Ctrl-k",run:ITe},{key:"Ctrl-Alt-h",run:JX},{key:"Ctrl-o",run:FTe},{key:"Ctrl-t",run:LTe},{key:"Ctrl-v",run:Dj}],HTe=[{key:"ArrowLeft",run:RX,shift:BX,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:lTe,shift:vTe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:mTe,shift:PTe,preventDefault:!0},{key:"ArrowRight",run:MX,shift:zX,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cTe,shift:wTe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:gTe,shift:CTe,preventDefault:!0},{key:"ArrowUp",run:QX,shift:ZX,preventDefault:!0},{mac:"Cmd-ArrowUp",run:BL,shift:WL},{mac:"Ctrl-ArrowUp",run:LL,shift:qL},{key:"ArrowDown",run:FX,shift:XX,preventDefault:!0},{mac:"Cmd-ArrowDown",run:zL,shift:UL},{mac:"Ctrl-ArrowDown",run:Dj,shift:VL},{key:"PageUp",run:LL,shift:qL},{key:"PageDown",run:Dj,shift:VL},{key:"Home",run:pTe,shift:kTe,preventDefault:!0},{key:"Mod-Home",run:BL,shift:WL},{key:"End",run:hTe,shift:$Te,preventDefault:!0},{key:"Mod-End",run:zL,shift:UL},{key:"Enter",run:ZL,shift:ZL},{key:"Mod-a",run:TTe},{key:"Backspace",run:Qj,shift:Qj},{key:"Delete",run:HX},{key:"Mod-Backspace",mac:"Alt-Backspace",run:JX},{key:"Mod-Delete",mac:"Alt-Delete",run:MTe},{mac:"Mod-Backspace",run:DTe},{mac:"Mod-Delete",run:QTe}].concat(GTe.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),KTe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:dTe,shift:STe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:fTe,shift:_Te},{key:"Alt-ArrowUp",run:qTe},{key:"Shift-Alt-ArrowUp",run:BTe},{key:"Alt-ArrowDown",run:VTe},{key:"Shift-Alt-ArrowDown",run:zTe},{key:"Escape",run:RTe},{key:"Mod-Enter",run:ZTe},{key:"Alt-l",mac:"Ctrl-l",run:NTe},{key:"Mod-i",run:ATe,preventDefault:!0},{key:"Mod-[",run:iY},{key:"Mod-]",run:rY},{key:"Mod-Alt-\\",run:XTe},{key:"Shift-Mod-k",run:WTe},{key:"Shift-Mod-\\",run:xTe},{key:"Mod-/",run:BEe},{key:"Alt-A",run:WEe},{key:"Ctrl-m",mac:"Shift-Alt-m",run:YTe}].concat(HTe),JTe={key:"Tab",run:rY,shift:iY};function Bt(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)sY(t,arguments[e]);return t}function sY(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)sY(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const XL=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Dh{constructor(e,n,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(XL(a)):XL,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return dr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=kR(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=ts(e);let i=this.normalize(n);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Dh.prototype[Symbol.iterator]=function(){return this});const oY={from:-1,to:-1,match:/.*/.exec("")},KR="gm"+(/x/.unicode==null?"":"u");class aY{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=oY,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new lY(e,n,r,i,s);this.re=new RegExp(n,KR+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=$w(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=$w(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const B$=new WeakMap;class Yf{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=B$.get(e);if(!i||i.from>=r||i.to<=n){let a=new Yf(n,e.sliceString(n,r));return B$.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:s,from:o}=i;return o>n&&(s=e.sliceString(n,o)+s,o=n),i.to<r&&(s+=e.sliceString(i.to,r)),B$.set(e,new Yf(o,s)),new Yf(n,s.slice(n-o,r-o))}}class lY{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=oY,this.matchPos=$w(e,i),this.re=new RegExp(n,KR+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Yf.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=$w(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Yf.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(aY.prototype[Symbol.iterator]=lY.prototype[Symbol.iterator]=function(){return this});function eNe(t){try{return new RegExp(t,KR),!0}catch{return!1}}function $w(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function Fj(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=Bt("input",{class:"cm-textfield",name:"line",value:e}),r=Bt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:kw.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},Bt("label",t.state.phrase("Go to line"),": ",n)," ",Bt("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,c,u,d]=s,f=u?+u.slice(1):0,h=c?+c:a.number;if(c&&d){let y=h/100;l&&(y=y*(l=="-"?-1:1)+a.number/o.doc.lines),h=Math.round(o.doc.lines*y)}else c&&l&&(h=h*(l=="-"?-1:1)+a.number);let m=o.doc.line(Math.max(1,Math.min(o.doc.lines,h))),g=Oe.cursor(m.from+Math.max(0,Math.min(f,m.length)));t.dispatch({effects:[kw.of(!1),Ne.scrollIntoView(g.from,{y:"center"})],selection:g}),t.focus()}return{dom:r}}const kw=He.define(),YL=rr.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(kw)&&(t=n.value);return t},provide:t=>Wg.from(t,e=>e?Fj:null)}),tNe=t=>{let e=zg(t,Fj);if(!e){let n=[kw.of(!0)];t.state.field(YL,!1)==null&&n.push(He.appendConfig.of([YL,nNe])),t.dispatch({effects:n}),e=zg(t,Fj)}return e&&e.dom.querySelector("input").select(),!0},nNe=Ne.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),rNe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},iNe=Re.define({combine(t){return fa(t,rNe,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function sNe(t){return[uNe,cNe]}const oNe=Be.mark({class:"cm-selectionMatch"}),aNe=Be.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function GL(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=Ht.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=Ht.Word)}function lNe(t,e,n,r){return t(e.sliceDoc(n,n+1))==Ht.Word&&t(e.sliceDoc(r-1,r))==Ht.Word}const cNe=vn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(iNe),{state:n}=t,r=n.selection;if(r.ranges.length>1)return Be.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return Be.none;let l=n.wordAt(i.head);if(!l)return Be.none;o=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Be.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(GL(o,n,i.from,i.to)&&lNe(o,n,i.from,i.to)))return Be.none}else if(s=n.sliceDoc(i.from,i.to),!s)return Be.none}let a=[];for(let l of t.visibleRanges){let c=new Dh(n.doc,s,l.from,l.to);for(;!c.next().done;){let{from:u,to:d}=c.value;if((!o||GL(o,n,u,d))&&(i.empty&&u<=i.from&&d>=i.to?a.push(aNe.range(u,d)):(u>=i.to||d<=i.from)&&a.push(oNe.range(u,d)),a.length>e.maxMatches))return Be.none}}return Be.set(a)}},{decorations:t=>t.decorations}),uNe=Ne.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),dNe=({state:t,dispatch:e})=>{let{selection:n}=t,r=Oe.create(n.ranges.map(i=>t.wordAt(i.head)||Oe.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function fNe(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new Dh(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new Dh(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const hNe=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return dNe({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=fNe(t,r);return i?(e(t.update({selection:t.selection.addRange(Oe.range(i.from,i.to),!1),effects:Ne.scrollIntoView(i.to)})),!0):!1},$p=Re.define({combine(t){return fa(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new $Ne(e),scrollToMatch:e=>Ne.scrollIntoView(e)})}});class cY{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||eNe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new yNe(this):new mNe(this)}getCursor(e,n=0,r){let i=e.doc?e:dt.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?wf(this,i,n,r):vf(this,i,n,r)}}class uY{constructor(e){this.spec=e}}function vf(t,e,n,r){return new Dh(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?pNe(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function pNe(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(Pw(i,n-s))!=Ht.Word||e(Cw(i,n-s))!=Ht.Word)&&(e(Cw(i,r-s))!=Ht.Word||e(Pw(i,r-s))!=Ht.Word))}class mNe extends uY{constructor(e){super(e)}nextMatch(e,n,r){let i=vf(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,n+this.spec.unquoted.length);i=vf(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),o=vf(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=vf(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=vf(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function wf(t,e,n,r){return new aY(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?gNe(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function Pw(t,e){return t.slice(pr(t,e,!1),e)}function Cw(t,e){return t.slice(e,pr(t,e))}function gNe(t){return(e,n,r)=>!r[0].length||(t(Pw(r.input,r.index))!=Ht.Word||t(Cw(r.input,r.index))!=Ht.Word)&&(t(Cw(r.input,r.index+r[0].length))!=Ht.Word||t(Pw(r.input,r.index+r[0].length))!=Ht.Word)}class yNe extends uY{nextMatch(e,n,r){let i=wf(this.spec,e,r,e.doc.length).next();return i.done&&(i=wf(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),o=wf(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:n)}matchAll(e,n){let r=wf(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=wf(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Yg=He.define(),JR=He.define(),vc=rr.define({create(t){return new z$(Lj(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Yg)?t=new z$(n.value.create(),t.panel):n.is(JR)&&(t=new z$(t.query,n.value?eM:null));return t},provide:t=>Wg.from(t,e=>e.panel)});class z${constructor(e,n){this.query=e,this.panel=n}}const ONe=Be.mark({class:"cm-searchMatch"}),bNe=Be.mark({class:"cm-searchMatch cm-searchMatch-selected"}),xNe=vn.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(vc))}update(t){let e=t.state.field(vc);(e!=t.startState.field(vc)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Be.none;let{view:n}=this,r=new Dc;for(let i=0,s=n.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;t.highlight(n.state,a,l,(c,u)=>{let d=n.state.selection.ranges.some(f=>f.from==c&&f.to==u);r.add(c,u,d?bNe:ONe)})}return r.finish()}},{decorations:t=>t.decorations});function gO(t){return e=>{let n=e.state.field(vc,!1);return n&&n.query.spec.valid?t(e,n):hY(e)}}const jw=gO((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=Oe.single(r.from,r.to),s=t.state.facet($p);return t.dispatch({selection:i,effects:[tM(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),fY(t),!0}),Ew=gO((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=Oe.single(i.from,i.to),o=t.state.facet($p);return t.dispatch({selection:s,effects:[tM(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),fY(t),!0}),vNe=gO((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:Oe.create(n.map(r=>Oe.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),wNe=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let a=new Dh(t.doc,t.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(Oe.range(a.value.from,a.value.to))}return e(t.update({selection:Oe.create(s,o),userEvent:"select.search.matches"})),!0},HL=gO((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o=[],a,l,c=[];if(s.from==r&&s.to==i&&(l=n.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(n,s.from,s.to),c.push(Ne.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),s){let u=o.length==0||o[0].from>=s.to?0:s.to-s.from-l.length;a=Oe.single(s.from-u,s.to-u),c.push(tM(t,s)),c.push(n.facet($p).scrollToMatch(a.main,t))}return t.dispatch({changes:o,selection:a,effects:c,userEvent:"input.replace"}),!0}),SNe=gO((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Ne.announce.of(r),userEvent:"input.replace.all"}),!0});function eM(t){return t.state.facet($p).createPanel(t)}function Lj(t,e){var n,r,i,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=t.facet($p);return new cY({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function dY(t){let e=zg(t,eM);return e&&e.dom.querySelector("[main-field]")}function fY(t){let e=dY(t);e&&e==t.root.activeElement&&e.select()}const hY=t=>{let e=t.state.field(vc,!1);if(e&&e.panel){let n=dY(t);if(n&&n!=t.root.activeElement){let r=Lj(t.state,e.query.spec);r.valid&&t.dispatch({effects:Yg.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[JR.of(!0),e?Yg.of(Lj(t.state,e.query.spec)):He.appendConfig.of(PNe)]});return!0},pY=t=>{let e=t.state.field(vc,!1);if(!e||!e.panel)return!1;let n=zg(t,eM);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:JR.of(!1)}),!0},_Ne=[{key:"Mod-f",run:hY,scope:"editor search-panel"},{key:"F3",run:jw,shift:Ew,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:jw,shift:Ew,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:pY,scope:"editor search-panel"},{key:"Mod-Shift-l",run:wNe},{key:"Mod-Alt-g",run:tNe},{key:"Mod-d",run:hNe,preventDefault:!0}];class $Ne{constructor(e){this.view=e;let n=this.query=e.state.field(vc).query.spec;this.commit=this.commit.bind(this),this.searchField=Bt("input",{value:n.search,placeholder:xi(e,"Find"),"aria-label":xi(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Bt("input",{value:n.replace,placeholder:xi(e,"Replace"),"aria-label":xi(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Bt("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=Bt("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=Bt("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,o){return Bt("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=Bt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>jw(e),[xi(e,"next")]),r("prev",()=>Ew(e),[xi(e,"previous")]),r("select",()=>vNe(e),[xi(e,"all")]),Bt("label",null,[this.caseField,xi(e,"match case")]),Bt("label",null,[this.reField,xi(e,"regexp")]),Bt("label",null,[this.wordField,xi(e,"by word")]),...e.state.readOnly?[]:[Bt("br"),this.replaceField,r("replace",()=>HL(e),[xi(e,"replace")]),r("replaceAll",()=>SNe(e),[xi(e,"replace all")])],Bt("button",{name:"close",onclick:()=>pY(e),"aria-label":xi(e,"close"),type:"button"},["×"])])}commit(){let e=new cY({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Yg.of(e)}))}keydown(e){NCe(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Ew:jw)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),HL(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(Yg)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet($p).top}}function xi(t,e){return t.state.phrase(e)}const Bb=30,zb=/[\s\.,:;?!]/;function tM(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-Bb),o=Math.min(i,n+Bb),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<Bb;l++)if(!zb.test(a[l+1])&&zb.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-Bb;l--)if(!zb.test(a[l-1])&&zb.test(a[l])){a=a.slice(0,l);break}}return Ne.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const kNe=Ne.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),PNe=[vc,iu.low(xNe),kNe];class mY{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=cn(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(yY(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function KL(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function CNe(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=KL(e)+KL(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function gY(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:CNe(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}function jNe(t,e){return n=>{for(let r=cn(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class JL{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function wc(t){return t.selection.main.from}function yY(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const nM=da.define();function ENe(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return Object.assign(Object.assign({},t.changeByRange(a=>{if(a!=i&&n!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:Oe.cursor(a.from+s+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const eq=new WeakMap;function TNe(t){if(!Array.isArray(t))return t;let e=eq.get(t);return e||eq.set(t,e=gY(t)),e}const Tw=He.define(),Gg=He.define();class NNe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=dr(e,n),i=ts(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(dr(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let b=dr(e,0),x=ts(b),v=x==e.length?0:-100;if(b!=n[0])if(b==r[0])v+=-200;else return null;return this.ret(v,[0,x])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let b=0,x=Math.min(e.length,200);b<x&&c<l;){let v=dr(e,b);(v==n[c]||v==r[c])&&(i[c++]=b),b+=ts(v)}if(c<l)return null}let u=0,d=0,f=!1,h=0,m=-1,g=-1,y=/[a-z]/.test(e),O=!0;for(let b=0,x=Math.min(e.length,200),v=0;b<x&&d<l;){let w=dr(e,b);a<0&&(u<l&&w==n[u]&&(s[u++]=b),h<l&&(w==n[h]||w==r[h]?(h==0&&(m=b),g=b+1,h++):h=0));let _,$=w<255?w>=48&&w<=57||w>=97&&w<=122?2:w>=65&&w<=90?1:0:(_=kR(w))!=_.toLowerCase()?1:_!=_.toUpperCase()?2:0;(!b||$==1&&y||v==0&&$!=0)&&(n[d]==w||r[d]==w&&(f=!0)?o[d++]=b:o.length&&(O=!1)),v=$,b+=ts(w)}return d==l&&o[0]==0&&O?this.result(-100+(f?-200:0),o,e):h==l&&m==0?this.ret(-200-e.length+(g==e.length?0:-100),[0,g]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):h==l?this.ret(-900-e.length,[m,g]):d==l?this.result(-100+(f?-200:0)+-700+(O?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],s=0;for(let o of n){let a=o+(this.astral?ts(dr(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class ANe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Yn=Re.define({combine(t){return fa(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:RNe,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>tq(e(r),n(r)),optionClass:(e,n)=>r=>tq(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function tq(t,e){return t?e?t+" "+e:t:e}function RNe(t,e,n,r,i,s){let o=t.textDirection==Xt.RTL,a=o,l=!1,c="top",u,d,f=e.left-i.left,h=i.right-e.right,m=r.right-r.left,g=r.bottom-r.top;if(a&&f<Math.min(m,h)?a=!1:!a&&h<Math.min(m,f)&&(a=!0),m<=(a?f:h))u=Math.max(i.top,Math.min(n.top,i.bottom-g))-e.top,d=Math.min(400,a?f:h);else{l=!0,d=Math.min(400,(o?e.right:i.right-e.left)-30);let b=i.bottom-e.bottom;b>=g||b>e.top?u=n.bottom-e.top:(c="bottom",u=e.bottom-n.top)}let y=(e.bottom-e.top)/s.offsetHeight,O=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${u/y}px; max-width: ${d/O}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function MNe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<s.length;){let u=s[c++],d=s[c++];u>l&&o.appendChild(document.createTextNode(a.slice(l,u)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(u,d))),f.className="cm-completionMatchedText",l=d}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function W$(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class INe{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:s,selected:o}=i.open,a=e.state.facet(Yn);this.optionContent=MNe(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=W$(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(n).open;for(let u=l.target,d;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(d=/-(\d+)$/.exec(u.id))&&+d[1]<c.length){this.applyCompletion(e,c[+d[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Yn).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Gg.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=W$(s.length,o,e.state.facet(Yn).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=W$(n.options.length,n.selected,this.view.state.facet(Yn).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>ui(this.view.state,o,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&QNe(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(Yn).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let f=typeof c=="string"?c:c.name;if(f!=s&&(o>r.from||r.from==0))if(s=f,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let h=i.appendChild(document.createElement("completion-section"));h.textContent=f}}const u=i.appendChild(document.createElement("li"));u.id=n+"-"+o,u.setAttribute("role","option");let d=this.optionClass(a);d&&(u.className=d);for(let f of this.optionContent){let h=f(a,this.view.state,this.view,l);h&&u.appendChild(h)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function DNe(t,e){return n=>new INe(n,t,e)}function QNe(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function nq(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function FNe(t,e){let n=[],r=null,i=c=>{n.push(c);let{section:u}=c.completion;if(u){r||(r=[]);let d=typeof u=="string"?u:u.name;r.some(f=>f.name==d)||r.push(typeof u=="string"?{name:d}:u)}},s=e.facet(Yn);for(let c of t)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let d of c.result.options)i(new JL(d,c.source,u?u(d):[],1e9-n.length));else{let d=e.sliceDoc(c.from,c.to),f,h=s.filterStrict?new ANe(d):new NNe(d);for(let m of c.result.options)if(f=h.match(m.label)){let g=m.displayLabel?u?u(m,f.matched):[]:f.matched;i(new JL(m,c.source,g,f.score+(m.boost||0)))}}}if(r){let c=Object.create(null),u=0,d=(f,h)=>{var m,g;return((m=f.rank)!==null&&m!==void 0?m:1e9)-((g=h.rank)!==null&&g!==void 0?g:1e9)||(f.name<h.name?-1:1)};for(let f of r.sort(d))u-=1e5,c[f.name]=u;for(let f of n){let{section:h}=f.completion;h&&(f.score+=c[typeof h=="string"?h:h.name])}}let o=[],a=null,l=s.compareCompletions;for(let c of n.sort((u,d)=>d.score-u.score||l(u.completion,d.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?o.push(c):nq(c.completion)>nq(a)&&(o[o.length-1]=c),a=c.completion}return o}class Af{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Af(this.options,rq(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s,o){if(i&&!o&&e.some(c=>c.state==1))return i.setDisabled();let a=FNe(e,n);if(!a.length)return i&&e.some(c=>c.state==1)?i.setDisabled():null;let l=n.facet(Yn).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let c=i.options[i.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==c){l=u;break}}return new Af(a,rq(r,l),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:WNe,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Af(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Af(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Nw{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new Nw(BNe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Yn),s=(r.override||n.languageDataAt("autocomplete",wc(n)).map(TNe)).map(l=>(this.active.find(u=>u.source==l)||new ji(l,this.active.some(u=>u.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,c)=>l==this.active[c])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(rM));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!LNe(s,this.active)||a?o=Af.build(s,n,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.state==1)&&(o=null),!o&&s.every(l=>l.state!=1)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new ji(l.source,0):l));for(let l of e.effects)l.is(bY)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new Nw(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?qNe:VNe}}function LNe(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const qNe={"aria-autocomplete":"list"},VNe={};function rq(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const BNe=[];function OY(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(nM);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class ji{constructor(e,n,r=-1){this.source=e,this.state=n,this.explicitPos=r}hasResult(){return!1}update(e,n){let r=OY(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new ji(i.source,0)),r&4&&i.state==0&&(i=new ji(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(Tw))i=new ji(i.source,1,s.value?wc(e.state):-1);else if(s.is(Gg))i=new ji(i.source,0);else if(s.is(rM))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,n){return this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ji(this.source,this.state,e.mapPos(this.explicitPos))}touches(e){return e.changes.touchesRange(wc(e.state))}}class Gf extends ji{constructor(e,n,r,i,s){super(e,2,n),this.result=r,this.from=i,this.to=s}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=wc(e.state);if((this.explicitPos<0?a<=s:a<this.from)||a>o||!i||n&2&&wc(e.startState)==this.from)return new ji(this.source,n&4?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return zNe(i.validFor,e.state,s,o)?new Gf(this.source,l,i,s,o):i.update&&(i=i.update(i,s,o,new mY(e.state,a,l>=0)))?new Gf(this.source,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:wc(e.state)):new ji(this.source,1,l)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Gf(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ji(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function zNe(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):yY(t,!0).test(i)}const rM=He.define({map(t,e){return t.map(n=>n.map(e))}}),bY=He.define(),ai=rr.define({create(){return Nw.start()},update(t,e){return t.update(e)},provide:t=>[LR.from(t,e=>e.tooltip),Ne.contentAttributes.from(t,e=>e.attrs)]});function iM(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(ai).active.find(i=>i.source==e.source);return r instanceof Gf?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},ENe(t.state,n,r.from,r.to)),{annotations:nM.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}const WNe=DNe(ai,iM);function Wb(t,e="option"){return n=>{let r=n.state.field(ai,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Yn).interactionDelay)return!1;let i=1,s;e=="page"&&(s=GZ(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:bY.of(a)}),!0}}const UNe=t=>{let e=t.state.field(ai,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Yn).interactionDelay?!1:iM(t,e.open.options[e.open.selected])},iq=t=>t.state.field(ai,!1)?(t.dispatch({effects:Tw.of(!0)}),!0):!1,ZNe=t=>{let e=t.state.field(ai,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Gg.of(null)}),!0)};class XNe{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const YNe=50,GNe=1e3,HNe=vn.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(ai).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(ai),n=t.state.facet(Yn);if(!t.selectionSet&&!t.docChanged&&t.startState.field(ai)==e)return;let r=t.transactions.some(s=>{let o=OY(s,n);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>YNe&&Date.now()-o.time>GNe){for(let a of o.context.abortListeners)try{a()}catch(l){ui(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(Tw)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.state==1&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(ai);for(let n of e.active)n.state==1&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Yn).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=wc(e),r=new mY(e,n,t.explicitPos==n,this.view),i=new XNe(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Gg.of(null)}),ui(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Yn).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Yn),r=this.view.state.field(ai);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=new Gf(s.active.source,s.active.explicitPos,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:wc(s.updates.length?s.updates[0].startState:this.view.state));for(let l of s.updates)a=a.update(l,n);if(a.hasResult()){e.push(a);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.state==1)if(s.done==null){let a=new ji(s.active.source,0);for(let l of s.updates)a=a.update(l,n);a.state!=1&&e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:rM.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(ai,!1);if(e&&e.tooltip&&this.view.state.facet(Yn).closeOnBlur){let n=e.open&&GZ(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Gg.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Tw.of(!1)}),20),this.composing=0}}}),KNe=typeof navigator=="object"&&/Win/.test(navigator.platform),JNe=iu.highest(Ne.domEventHandlers({keydown(t,e){let n=e.state.field(ai,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(KNe&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&iM(e,r),!1}})),xY=Ne.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class eAe{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class sM{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,hr.TrackDel),r=e.mapPos(this.to,1,hr.TrackDel);return n==null||r==null?null:new sM(this.field,n,r)}}class oM{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],s=e.doc.lineAt(n),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let d=0;d<u;d++)c+=e.facet(fO);i.push(n+c.length-u),l=c+l.slice(u)}r.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new sM(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let n=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,u=l.replace(/\\[{}]/g,d=>d[1]);for(let d=0;d<n.length;d++)(a!=null?n[d].seq==a:u&&n[d].name==u)&&(c=d);if(c<0){let d=0;for(;d<n.length&&(a==null||n[d].seq!=null&&n[d].seq<a);)d++;n.splice(d,0,{seq:a,name:u}),c=d;for(let f of i)f.field>=c&&f.field++}i.push(new eAe(c,r.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let u of i)u.line==r.length&&u.from>c&&(u.from--,u.to--);return l}),r.push(o)}return new oM(r,i)}}let tAe=Be.widget({widget:new class extends ha{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),nAe=Be.mark({class:"cm-snippetField"});class kp{constructor(e,n){this.ranges=e,this.active=n,this.deco=Be.set(e.map(r=>(r.from==r.to?tAe:nAe).range(r.from,r.to)))}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new kp(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const yO=He.define({map(t,e){return t&&t.map(e)}}),rAe=He.define(),Hg=rr.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(yO))return n.value;if(n.is(rAe)&&t)return new kp(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>Ne.decorations.from(t,e=>e?e.deco:Be.none)});function aM(t,e){return Oe.create(t.filter(n=>n.field==e).map(n=>Oe.range(n.from,n.to)))}function iAe(t){let e=oM.parse(t);return(n,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(n.state,i),l={changes:{from:i,to:s,insert:_t.of(o)},scrollIntoView:!0,annotations:r?[nM.of(r),En.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=aM(a,0)),a.some(c=>c.field>0)){let c=new kp(a,0),u=l.effects=[yO.of(c)];n.state.field(Hg,!1)===void 0&&u.push(He.appendConfig.of([Hg,cAe,uAe,xY]))}n.dispatch(n.state.update(l))}}function vY(t){return({state:e,dispatch:n})=>{let r=e.field(Hg,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,s=t>0&&!r.ranges.some(o=>o.field==i+t);return n(e.update({selection:aM(r.ranges,i),effects:yO.of(s?null:new kp(r.ranges,i)),scrollIntoView:!0})),!0}}const sAe=({state:t,dispatch:e})=>t.field(Hg,!1)?(e(t.update({effects:yO.of(null)})),!0):!1,oAe=vY(1),aAe=vY(-1),lAe=[{key:"Tab",run:oAe,shift:aAe},{key:"Escape",run:sAe}],sq=Re.define({combine(t){return t.length?t[0]:lAe}}),cAe=iu.highest(cO.compute([sq],t=>t.facet(sq)));function ti(t,e){return Object.assign(Object.assign({},e),{apply:iAe(t)})}const uAe=Ne.domEventHandlers({mousedown(t,e){let n=e.state.field(Hg,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:aM(n.ranges,i.field),effects:yO.of(n.ranges.some(s=>s.field>i.field)?new kp(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),Kg={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Wu=He.define({map(t,e){let n=e.mapPos(t,-1,hr.TrackAfter);return n??void 0}}),lM=new class extends bd{};lM.startSide=1;lM.endSide=-1;const wY=rr.define({create(){return gt.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(Wu)&&(t=t.update({add:[lM.range(n.value,n.value+1)]}));return t}});function dAe(){return[hAe,wY]}const U$="()[]{}<>";function SY(t){for(let e=0;e<U$.length;e+=2)if(U$.charCodeAt(e)==t)return U$.charAt(e+1);return kR(t<128?t:t+1)}function _Y(t,e){return t.languageDataAt("closeBrackets",e)[0]||Kg}const fAe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),hAe=Ne.inputHandler.of((t,e,n,r)=>{if((fAe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&ts(dr(r,0))==1||e!=i.from||n!=i.to)return!1;let s=gAe(t.state,r);return s?(t.dispatch(s),!0):!1}),pAe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=_Y(t,t.selection.main.head).brackets||Kg.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let a=yAe(t.doc,o.head);for(let l of r)if(l==a&&XS(t.doc,o.head)==SY(dr(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:Oe.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},mAe=[{key:"Backspace",run:pAe}];function gAe(t,e){let n=_Y(t,t.selection.main.head),r=n.brackets||Kg.brackets;for(let i of r){let s=SY(dr(i,0));if(e==i)return s==i?xAe(t,i,r.indexOf(i+i+i)>-1,n):OAe(t,i,s,n.before||Kg.before);if(e==s&&$Y(t,t.selection.main.from))return bAe(t,i,s)}return null}function $Y(t,e){let n=!1;return t.field(wY).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function XS(t,e){let n=t.sliceString(e,e+2);return n.slice(0,ts(dr(n,0)))}function yAe(t,e){let n=t.sliceString(e-2,e);return ts(dr(n,0))==n.length?n:n.slice(1)}function OAe(t,e,n,r){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:Wu.of(o.to+e.length),range:Oe.range(o.anchor+e.length,o.head+e.length)};let a=XS(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:Wu.of(o.head+e.length),range:Oe.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function bAe(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&XS(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:Oe.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function xAe(t,e,n,r){let i=r.stringPrefixes||Kg.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Wu.of(a.to+e.length),range:Oe.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=XS(t.doc,l),u;if(c==e){if(oq(t,l))return{changes:{insert:e+e,from:l},effects:Wu.of(l+e.length),range:Oe.cursor(l+e.length)};if($Y(t,l)){let f=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:Oe.cursor(l+f.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(u=aq(t,l-2*e.length,i))>-1&&oq(t,u))return{changes:{insert:e+e+e+e,from:l},effects:Wu.of(l+e.length),range:Oe.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=Ht.Word&&aq(t,l,i)>-1&&!vAe(t,l,e,i))return{changes:{insert:e+e,from:l},effects:Wu.of(l+e.length),range:Oe.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function oq(t,e){let n=cn(t).resolveInner(e+1);return n.parent&&n.from==e}function vAe(t,e,n,r){let i=cn(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>n.length+l;){if(t.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function aq(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=Ht.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=Ht.Word)return s}return-1}function wAe(t={}){return[JNe,ai,Yn.of(t),HNe,SAe,xY]}const kY=[{key:"Ctrl-Space",run:iq},{mac:"Alt-`",run:iq},{key:"Escape",run:ZNe},{key:"ArrowDown",run:Wb(!0)},{key:"ArrowUp",run:Wb(!1)},{key:"PageDown",run:Wb(!0,"page")},{key:"PageUp",run:Wb(!1,"page")},{key:"Enter",run:UNe}],SAe=iu.highest(cO.computeN([Yn],t=>t.facet(Yn).defaultKeymap?[kY]:[]));class _Ae{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Iu{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=e,s=r.facet(Jg).markerFilter;s&&(i=s(i,r));let o=Be.set(i.map(a=>a.from==a.to||a.from==a.to-1&&r.doc.lineAt(a.from).to==a.from?Be.widget({widget:new AAe(a),diagnostic:a}).range(a.from):Be.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a}).range(a.from,a.to)),!0);return new Iu(o,n,Qh(o))}}function Qh(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return r=new _Ae(i,s,o.diagnostic),!1}),r}function $Ae(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(Jg).hideOn(t,n,r);if(i!=null)return i;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(PY))||t.changes.touchesRange(s.from,Math.max(s.to,r)))}function kAe(t,e){return t.field(Ai,!1)?e:e.concat(He.appendConfig.of(IAe))}const PY=He.define(),cM=He.define(),CY=He.define(),Ai=rr.define({create(){return new Iu(Be.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);r=Qh(n,t.selected.diagnostic,s)||Qh(n,null,s)}!n.size&&i&&e.state.facet(Jg).autoPanel&&(i=null),t=new Iu(n,i,r)}for(let n of e.effects)if(n.is(PY)){let r=e.state.facet(Jg).autoPanel?n.value.length?ey.open:null:t.panel;t=Iu.init(n.value,r,e.state)}else n.is(cM)?t=new Iu(t.diagnostics,n.value?ey.open:null,t.selected):n.is(CY)&&(t=new Iu(t.diagnostics,t.panel,n.value));return t},provide:t=>[Wg.from(t,e=>e.panel),Ne.decorations.from(t,e=>e.diagnostics)]}),PAe=Be.mark({class:"cm-lintRange cm-lintRange-active"});function CAe(t,e,n){let{diagnostics:r}=t.state.field(Ai),i=[],s=2e8,o=0;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:u})=>{e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0))&&(i.push(u.diagnostic),s=Math.min(l,s),o=Math.max(c,o))});let a=t.state.facet(Jg).tooltipFilter;return a&&(i=a(i,t.state)),i.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:jAe(t,i)}}}:null}function jAe(t,e){return Bt("ul",{class:"cm-tooltip-lint"},e.map(n=>EY(t,n,!1)))}const EAe=t=>{let e=t.state.field(Ai,!1);(!e||!e.panel)&&t.dispatch({effects:kAe(t.state,[cM.of(!0)])});let n=zg(t,ey.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},lq=t=>{let e=t.state.field(Ai,!1);return!e||!e.panel?!1:(t.dispatch({effects:cM.of(!1)}),!0)},TAe=t=>{let e=t.state.field(Ai,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},NAe=[{key:"Mod-Shift-m",run:EAe,preventDefault:!0},{key:"F8",run:TAe}],Jg=Re.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},fa(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function jY(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function EY(t,e,n){var r;let i=n?jY(e.actions):[];return Bt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Bt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=f=>{if(f.preventDefault(),a)return;a=!0;let h=Qh(t.state.field(Ai).diagnostics,e);h&&s.apply(t,h.from,h.to)},{name:c}=s,u=i[o]?c.indexOf(i[o]):-1,d=u<0?c:[c.slice(0,u),Bt("u",c.slice(u,u+1)),c.slice(u+1)];return Bt("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[o]})"`}.`},d)}),e.source&&Bt("div",{class:"cm-diagnosticSource"},e.source))}class AAe extends ha{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Bt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class cq{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=EY(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class ey{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)lq(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=jY(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=Qh(this.view.state.field(Ai).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Bt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=Bt("div",{class:"cm-panel-lint"},this.list,Bt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>lq(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Ai).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Ai),r=0,i=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,a,{spec:l})=>{let c=-1,u;for(let d=r;d<this.items.length;d++)if(this.items[d].diagnostic==l.diagnostic){c=d;break}c<0?(u=new cq(this.view,l.diagnostic),this.items.splice(r,0,u),i=!0):(u=this.items[c],c>r&&(this.items.splice(r,c-r),i=!0)),n&&u.diagnostic==n.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),s=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new cq(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:a})=>{let l=a.height/this.list.offsetHeight;o.top<a.top?this.list.scrollTop-=(a.top-o.top)/l:o.bottom>a.bottom&&(this.list.scrollTop+=(o.bottom-a.bottom)/l)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Ai),r=Qh(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:CY.of(r)})}static open(e){return new ey(e)}}function RAe(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Ub(t){return RAe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const MAe=Ne.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Ub("#d11")},".cm-lintRange-warning":{backgroundImage:Ub("orange")},".cm-lintRange-info":{backgroundImage:Ub("#999")},".cm-lintRange-hint":{backgroundImage:Ub("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),IAe=[Ai,Ne.decorations.compute([Ai],t=>{let{selected:e,panel:n}=t.field(Ai);return!e||!n||e.from==e.to?Be.none:Be.set([PAe.range(e.from,e.to)])}),xje(CAe,{hideOn:$Ae}),MAe];var uq=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(mAe)),e.defaultKeymap!==!1&&(r=r.concat(KTe)),e.searchKeymap!==!1&&(r=r.concat(_Ne)),e.historyKeymap!==!1&&(r=r.concat(aTe)),e.foldKeymap!==!1&&(r=r.concat(wEe)),e.completionKeymap!==!1&&(r=r.concat(kY)),e.lintKeymap!==!1&&(r=r.concat(NAe));var i=[];return e.lineNumbers!==!1&&i.push(Tje()),e.highlightActiveLineGutter!==!1&&i.push(Rje()),e.highlightSpecialChars!==!1&&i.push(YCe()),e.history!==!1&&i.push(KEe()),e.foldGutter!==!1&&i.push(kEe()),e.drawSelection!==!1&&i.push(QCe()),e.dropCursor!==!1&&i.push(BCe()),e.allowMultipleSelections!==!1&&i.push(dt.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(hEe()),e.syntaxHighlighting!==!1&&i.push(wX(EEe,{fallback:!0})),e.bracketMatching!==!1&&i.push(DEe()),e.closeBrackets!==!1&&i.push(dAe()),e.autocompletion!==!1&&i.push(wAe()),e.rectangularSelection!==!1&&i.push(cje()),n!==!1&&i.push(fje()),e.highlightActiveLine!==!1&&i.push(tje()),e.highlightSelectionMatches!==!1&&i.push(sNe()),e.tabSize&&typeof e.tabSize=="number"&&i.push(fO.of(" ".repeat(e.tabSize))),i.concat([cO.of(r.flat())]).filter(Boolean)};const DAe="#e5c07b",dq="#e06c75",QAe="#56b6c2",FAe="#ffffff",sv="#abb2bf",qj="#7d8799",LAe="#61afef",qAe="#98c379",fq="#d19a66",VAe="#c678dd",BAe="#21252b",hq="#2c313a",pq="#282c34",Z$="#353a42",zAe="#3E4451",mq="#528bff",WAe=Ne.theme({"&":{color:sv,backgroundColor:pq},".cm-content":{caretColor:mq},".cm-cursor, .cm-dropCursor":{borderLeftColor:mq},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:zAe},".cm-panels":{backgroundColor:BAe,color:sv},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:pq,color:qj,border:"none"},".cm-activeLineGutter":{backgroundColor:hq},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Z$},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Z$,borderBottomColor:Z$},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:hq,color:sv}}},{dark:!0}),UAe=pO.define([{tag:H.keyword,color:VAe},{tag:[H.name,H.deleted,H.character,H.propertyName,H.macroName],color:dq},{tag:[H.function(H.variableName),H.labelName],color:LAe},{tag:[H.color,H.constant(H.name),H.standard(H.name)],color:fq},{tag:[H.definition(H.name),H.separator],color:sv},{tag:[H.typeName,H.className,H.number,H.changed,H.annotation,H.modifier,H.self,H.namespace],color:DAe},{tag:[H.operator,H.operatorKeyword,H.url,H.escape,H.regexp,H.link,H.special(H.string)],color:QAe},{tag:[H.meta,H.comment],color:qj},{tag:H.strong,fontWeight:"bold"},{tag:H.emphasis,fontStyle:"italic"},{tag:H.strikethrough,textDecoration:"line-through"},{tag:H.link,color:qj,textDecoration:"underline"},{tag:H.heading,fontWeight:"bold",color:dq},{tag:[H.atom,H.bool,H.special(H.variableName)],color:fq},{tag:[H.processingInstruction,H.string,H.inserted],color:qAe},{tag:H.invalid,color:FAe}]),ZAe=[WAe,wX(UAe)];var XAe=Ne.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),YAe=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:o="",basicSetup:a=!0}=e,l=[];switch(n&&l.unshift(cO.of([JTe])),a&&(typeof a=="boolean"?l.unshift(uq()):l.unshift(uq(a))),o&&l.unshift(sje(o)),s){case"light":l.push(XAe);break;case"dark":l.push(ZAe);break;case"none":break;default:l.push(s);break}return r===!1&&l.push(Ne.editable.of(!1)),i&&l.push(dt.readOnly.of(!0)),[...l]},GAe=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)}),gq=da.define(),HAe=[];function KAe(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:o,extensions:a=HAe,autoFocus:l,theme:c="light",height:u=null,minHeight:d=null,maxHeight:f=null,width:h=null,minWidth:m=null,maxWidth:g=null,placeholder:y="",editable:O=!0,readOnly:b=!1,indentWithTab:x=!0,basicSetup:v=!0,root:w,initialState:_}=t,[$,k]=S.useState(),[j,P]=S.useState(),[R,N]=S.useState(),A=Ne.theme({"&":{height:u,minHeight:d,maxHeight:f,width:h,minWidth:m,maxWidth:g},"& .cm-scroller":{height:"100% !important"}}),C=Ne.updateListener.of(I=>{if(I.docChanged&&typeof r=="function"&&!I.transactions.some(B=>B.annotation(gq))){var M=I.state.doc,Q=M.toString();r(Q,I)}i&&i(GAe(I))}),T=YAe({theme:c,editable:O,readOnly:b,placeholder:y,indentWithTab:x,basicSetup:v}),E=[C,A,...T];return o&&typeof o=="function"&&E.push(Ne.updateListener.of(o)),E=E.concat(a),S.useEffect(()=>{if($&&!R){var I={doc:e,selection:n,extensions:E},M=_?dt.fromJSON(_.json,I,_.fields):dt.create(I);if(N(M),!j){var Q=new Ne({state:M,parent:$,root:w});P(Q),s&&s(Q,M)}}return()=>{j&&(N(void 0),P(void 0))}},[$,R]),S.useEffect(()=>k(t.container),[t.container]),S.useEffect(()=>()=>{j&&(j.destroy(),P(void 0))},[j]),S.useEffect(()=>{l&&j&&j.focus()},[l,j]),S.useEffect(()=>{j&&j.dispatch({effects:He.reconfigure.of(E)})},[c,a,u,d,f,h,m,g,y,O,b,x,v,r,o]),S.useEffect(()=>{if(e!==void 0){var I=j?j.state.doc.toString():"";j&&e!==I&&j.dispatch({changes:{from:0,to:I.length,insert:e||""},annotations:[gq.of(!0)]})}},[e,j]),{state:R,setState:N,view:j,setView:P,container:$,setContainer:k}}var JAe=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],TY=S.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:s=[],onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:c,autoFocus:u,theme:d="light",height:f,minHeight:h,maxHeight:m,width:g,minWidth:y,maxWidth:O,basicSetup:b,placeholder:x,indentWithTab:v,editable:w,readOnly:_,root:$,initialState:k}=t,j=jU(t,JAe),P=S.useRef(null),{state:R,view:N,container:A}=KAe({container:P.current,root:$,value:r,autoFocus:u,theme:d,height:f,minHeight:h,maxHeight:m,width:g,minWidth:y,maxWidth:O,basicSetup:b,placeholder:x,indentWithTab:v,editable:w,readOnly:_,selection:i,onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:c,extensions:s,initialState:k});if(S.useImperativeHandle(e,()=>({editor:P.current,state:R,view:N}),[P,A,R,N]),typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var C=typeof d=="string"?"cm-theme-"+d:"cm-theme";return p.jsx("div",kh({ref:P,className:""+C+(n?" "+n:"")},j))});TY.displayName="CodeMirror";var yq={};class Aw{constructor(e,n,r,i,s,o,a,l,c,u=0,d){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=d}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new Aw(e,[],n,r,r,0,[],0,i?new Oq(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let d=l?this.stack[l-1]:0,f=this.bufferBase+this.buffer.length-d;if(i<s.minRepeatTerm||e&131072){let h=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,h,f+4,!0)}if(e&262144)this.state=this.stack[l];else{let h=this.stack[l-3];this.state=s.getGoto(h,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==r)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||n<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(n,r),n<=o.maxNode&&this.buffer.push(n,r,i,4)}}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new Aw(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new eRe(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let o=n[s+1];i.some((a,l)=>l&1&&a==o)||i.push(n[s],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new Oq(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Oq{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class eRe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Rw{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Rw(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Rw(this.stack,this.pos,this.index)}}function Wm(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class ov{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const bq=new ov;class tRe{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=bq,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=bq,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class Hf{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;NY(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}Hf.prototype.contextual=Hf.prototype.fallback=Hf.prototype.extend=!1;class Mw{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?Wm(e):e}token(e,n){let r=e.pos,i=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(NY(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}Mw.prototype.contextual=Hf.prototype.fallback=Hf.prototype.extend=!1;class yi{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function NY(t,e,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;a&t[o];){let c=t[o+1];for(let h=o+3;h<c;h+=2)if((t[h+1]&a)>0){let m=t[h];if(l.allows(m)&&(e.token.value==-1||e.token.value==m||nRe(m,e.token.value,i,s))){e.acceptToken(m);break}}let u=e.next,d=0,f=t[o+2];if(e.next<0&&f>d&&t[c+f*3-3]==65535){o=t[c+f*3-1];continue e}for(;d<f;){let h=d+f>>1,m=c+h+(h<<1),g=t[m],y=t[m+1]||65536;if(u<g)f=h;else if(u>=y)d=h+1;else{o=t[m+2],e.advance();continue e}}break}}function xq(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function nRe(t,e,n,r){let i=xq(n,r,e);return i<0||xq(n,r,t)<i}const vi=typeof process<"u"&&yq&&/\bparse\b/.test(yq.LOG);let X$=null;function vq(t,e,n){let r=t.cursor(zt.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class rRe{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?vq(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?vq(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof ln){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(tt.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class iRe{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new ov)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let u=s[c],d=this.tokens[c];if(!(r&&!u.fallback)&&((u.contextual||d.start!=e.pos||d.mask!=o||d.context!=a)&&(this.updateCachedToken(d,u,e),d.mask=o,d.context=a),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let f=n;if(d.extended>-1&&(n=this.addActions(e,d.extended,d.end,n)),n=this.addActions(e,d.value,d.end,n),!u.extend&&(r=d,n>f))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new ov,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new ov,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=Ia(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(Ia(a,c+2),n,r,i));break}a[c]==n&&(i=this.putAction(Ia(a,c+1),n,r,i))}return i}}class sRe{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new tRe(n,i),this.tokens=new iRe(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[Aw.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new rRe(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&aRe(i);if(o)return vi&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw vi&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return vi&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,o=vi?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let f=this.parser.nodeSet.types[d.type.id]==d.type?s.getGoto(e.state,d.type.id):-1;if(f>-1&&d.length&&(!c||(d.prop(tt.contextHash)||0)==u))return e.useNode(d,f),vi&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(d.type.id)})`),!0;if(!(d instanceof ln)||d.children.length==0||d.positions[0]>0)break;let h=d.children[0];if(h instanceof ln&&d.positions[0]==0)d=h;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),vi&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],d=l[c++],f=l[c++],h=c==l.length||!r,m=h?e:e.split(),g=this.tokens.mainToken;if(m.apply(u,d,g?g.start:m.pos,f),vi&&console.log(o+this.stackID(m)+` (via ${u&65536?`reduce of ${s.getName(u&65535)}`:"shift"} for ${s.getName(d)} @ ${i}${m==e?"":", split"})`),h)return!0;m.pos>i?n.push(m):r.push(m)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return wq(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],c=n[(o<<1)+1],u=vi?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),vi&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let d=a.split(),f=u;for(let h=0;d.forceReduce()&&h<10&&(vi&&console.log(f+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));h++)vi&&(f=this.stackID(d)+" -> ");for(let h of a.recoverByInsert(l))vi&&console.log(u+this.stackID(h)+" (via recover-insert)"),this.advanceFully(h,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),vi&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),wq(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),ln.build({buffer:Rw.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(X$||(X$=new WeakMap)).get(e);return n||X$.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function wq(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class oRe{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const Y$=t=>t;class AY{constructor(e){this.start=e.start,this.shift=e.shift||Y$,this.reduce=e.reduce||Y$,this.reuse=e.reuse||Y$,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class zc extends sX{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=tt[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)s(u,l,a[c++]);else{let d=a[c+-u];for(let f=-u;f>0;f--)s(a[c++],l,d);c++}}}this.nodeSet=new qR(n.map((a,l)=>Kr.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=eX;let o=Wm(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(Sq),this.states=Wm(e.states,Uint32Array),this.data=Wm(e.stateData),this.goto=Wm(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Hf(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new sRe(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let c=s+(o>>1);s<c;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=Ia(r,s+2)];else{if(r[s+1]==2)return Ia(r,s+2);break}if(o==n||o==0)return Ia(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Ia(this.data,s+2);else break;i=n(Ia(this.data,s+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Ia(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((s,o)=>o&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(zc.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=Sq(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new oRe(e,r,i)}static deserialize(e){return new zc(e)}}function Ia(t,e){return t[e]|t[e+1]<<16}function aRe(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function Sq(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const lRe=vp({String:H.string,Number:H.number,"True False":H.bool,PropertyName:H.propertyName,Null:H.null,",":H.separator,"[ ]":H.squareBracket,"{ }":H.brace}),cRe=zc.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[lRe],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),uRe=Vc.define({name:"json",parser:cRe.configure({props:[wp.add({Object:Xf({except:/^\s*\}/}),Array:Xf({except:/^\s*\]/})}),Sp.add({"Object Array":XR})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function dRe(){return new dO(uRe)}const fRe=54,hRe=1,pRe=55,mRe=2,gRe=56,yRe=3,_q=4,ORe=5,Iw=6,RY=7,MY=8,IY=9,DY=10,bRe=11,xRe=12,vRe=13,G$=57,wRe=14,$q=58,QY=20,SRe=22,FY=23,_Re=24,Vj=26,LY=27,$Re=28,kRe=31,PRe=34,CRe=36,jRe=37,ERe=0,TRe=1,NRe={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},ARe={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},kq={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function RRe(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function qY(t){return t==9||t==10||t==13||t==32}let Pq=null,Cq=null,jq=0;function Bj(t,e){let n=t.pos+e;if(jq==n&&Cq==t)return Pq;let r=t.peek(e);for(;qY(r);)r=t.peek(++e);let i="";for(;RRe(r);)i+=String.fromCharCode(r),r=t.peek(++e);return Cq=t,jq=n,Pq=i?i.toLowerCase():r==MRe||r==IRe?void 0:null}const VY=60,Dw=62,uM=47,MRe=63,IRe=33,DRe=45;function Eq(t,e){this.name=t,this.parent=e}const QRe=[Iw,DY,RY,MY,IY],FRe=new AY({start:null,shift(t,e,n,r){return QRe.indexOf(e)>-1?new Eq(Bj(r,1)||"",t):t},reduce(t,e){return e==QY&&t?t.parent:t},reuse(t,e,n,r){let i=e.type.id;return i==Iw||i==CRe?new Eq(Bj(r,1)||"",t):t},strict:!1}),LRe=new yi((t,e)=>{if(t.next!=VY){t.next<0&&e.context&&t.acceptToken(G$);return}t.advance();let n=t.next==uM;n&&t.advance();let r=Bj(t,0);if(r===void 0)return;if(!r)return t.acceptToken(n?wRe:Iw);let i=e.context?e.context.name:null;if(n){if(r==i)return t.acceptToken(bRe);if(i&&ARe[i])return t.acceptToken(G$,-2);if(e.dialectEnabled(ERe))return t.acceptToken(xRe);for(let s=e.context;s;s=s.parent)if(s.name==r)return;t.acceptToken(vRe)}else{if(r=="script")return t.acceptToken(RY);if(r=="style")return t.acceptToken(MY);if(r=="textarea")return t.acceptToken(IY);if(NRe.hasOwnProperty(r))return t.acceptToken(DY);i&&kq[i]&&kq[i][r]?t.acceptToken(G$,-1):t.acceptToken(Iw)}},{contextual:!0}),qRe=new yi(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken($q);break}if(t.next==DRe)e++;else if(t.next==Dw&&e>=2){n>=3&&t.acceptToken($q,-2);break}else e=0;t.advance()}});function VRe(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const BRe=new yi((t,e)=>{if(t.next==uM&&t.peek(1)==Dw){let n=e.dialectEnabled(TRe)||VRe(e.context);t.acceptToken(n?ORe:_q,2)}else t.next==Dw&&t.acceptToken(_q,1)});function dM(t,e,n){let r=2+t.length;return new yi(i=>{for(let s=0,o=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(e);break}if(s==0&&i.next==VY||s==1&&i.next==uM||s>=2&&s<r&&i.next==t.charCodeAt(s-2))s++,o++;else if((s==2||s==r)&&qY(i.next))o++;else if(s==r&&i.next==Dw){a>o?i.acceptToken(e,-o):i.acceptToken(n,-(o-2));break}else if((i.next==10||i.next==13)&&a){i.acceptToken(e,1);break}else s=o=0;i.advance()}})}const zRe=dM("script",fRe,hRe),WRe=dM("style",pRe,mRe),URe=dM("textarea",gRe,yRe),ZRe=vp({"Text RawText":H.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":H.angleBracket,TagName:H.tagName,"MismatchedCloseTag/TagName":[H.tagName,H.invalid],AttributeName:H.attributeName,"AttributeValue UnquotedAttributeValue":H.attributeValue,Is:H.definitionOperator,"EntityReference CharacterReference":H.character,Comment:H.blockComment,ProcessingInst:H.processingInstruction,DoctypeDecl:H.documentMeta}),XRe=zc.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:FRe,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[ZRe],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[zRe,WRe,URe,BRe,LRe,qRe,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function BY(t,e){let n=Object.create(null);for(let r of t.getChildren(FY)){let i=r.getChild(_Re),s=r.getChild(Vj)||r.getChild(LY);i&&(n[e.read(i.from,i.to)]=s?s.type.id==Vj?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return n}function Tq(t,e){let n=t.getChild(SRe);return n?e.read(n.from,n.to):" "}function H$(t,e,n){let r;for(let i of n)if(!i.attrs||i.attrs(r||(r=BY(t.node.parent.firstChild,e))))return{parser:i.parser};return null}function zY(t=[],e=[]){let n=[],r=[],i=[],s=[];for(let a of t)(a.tag=="script"?n:a.tag=="style"?r:a.tag=="textarea"?i:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return oX((a,l)=>{let c=a.type.id;if(c==$Re)return H$(a,l,n);if(c==kRe)return H$(a,l,r);if(c==PRe)return H$(a,l,i);if(c==QY&&s.length){let u=a.node,d=u.firstChild,f=d&&Tq(d,l),h;if(f){for(let m of s)if(m.tag==f&&(!m.attrs||m.attrs(h||(h=BY(d,l))))){let g=u.lastChild,y=g.type.id==jRe?g.from:u.to;if(y>d.to)return{parser:m.parser,overlay:[{from:d.to,to:y}]}}}}if(o&&c==FY){let u=a.node,d;if(d=u.firstChild){let f=o[l.read(d.from,d.to)];if(f)for(let h of f){if(h.tagName&&h.tagName!=Tq(u.parent,l))continue;let m=u.lastChild;if(m.type.id==Vj){let g=m.from+1,y=m.lastChild,O=m.to-(y&&y.isError?0:1);if(O>g)return{parser:h.parser,overlay:[{from:g,to:O}]}}else if(m.type.id==LY)return{parser:h.parser,overlay:[{from:m.from,to:m.to}]}}}}return null})}const YRe=99,Nq=1,GRe=100,HRe=101,Aq=2,WY=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],KRe=58,JRe=40,UY=95,eMe=91,av=45,tMe=46,nMe=35,rMe=37,iMe=38,sMe=92,oMe=10;function ty(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function ZY(t){return t>=48&&t<=57}const aMe=new yi((t,e)=>{for(let n=!1,r=0,i=0;;i++){let{next:s}=t;if(ty(s)||s==av||s==UY||n&&ZY(s))!n&&(s!=av||i>0)&&(n=!0),r===i&&s==av&&r++,t.advance();else if(s==sMe&&t.peek(1)!=oMe)t.advance(),t.next>-1&&t.advance(),n=!0;else{n&&t.acceptToken(s==JRe?GRe:r==2&&e.canShift(Aq)?Aq:HRe);break}}}),lMe=new yi(t=>{if(WY.includes(t.peek(-1))){let{next:e}=t;(ty(e)||e==UY||e==nMe||e==tMe||e==eMe||e==KRe&&ty(t.peek(1))||e==av||e==iMe)&&t.acceptToken(YRe)}}),cMe=new yi(t=>{if(!WY.includes(t.peek(-1))){let{next:e}=t;if(e==rMe&&(t.advance(),t.acceptToken(Nq)),ty(e)){do t.advance();while(ty(t.next)||ZY(t.next));t.acceptToken(Nq)}}}),uMe=vp({"AtKeyword import charset namespace keyframes media supports":H.definitionKeyword,"from to selector":H.keyword,NamespaceName:H.namespace,KeyframeName:H.labelName,KeyframeRangeName:H.operatorKeyword,TagName:H.tagName,ClassName:H.className,PseudoClassName:H.constant(H.className),IdName:H.labelName,"FeatureName PropertyName":H.propertyName,AttributeName:H.attributeName,NumberLiteral:H.number,KeywordQuery:H.keyword,UnaryQueryOp:H.operatorKeyword,"CallTag ValueName":H.atom,VariableName:H.variableName,Callee:H.operatorKeyword,Unit:H.unit,"UniversalSelector NestingSelector":H.definitionOperator,MatchOp:H.compareOperator,"ChildOp SiblingOp, LogicOp":H.logicOperator,BinOp:H.arithmeticOperator,Important:H.modifier,Comment:H.blockComment,ColorLiteral:H.color,"ParenthesizedContent StringLiteral":H.string,":":H.punctuation,"PseudoOp #":H.derefOperator,"; ,":H.separator,"( )":H.paren,"[ ]":H.squareBracket,"{ }":H.brace}),dMe={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},fMe={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},hMe={__proto__:null,not:132,only:132},pMe=zc.deserialize({version:14,states:":jQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO-kQdO,59}O-{Q[O'#E^O.YQWO,5;_O.YQWO,5;_POOO'#EV'#EVP.eO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO/[QXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/iQ`O1G/^O0SQXO1G/aO0jQXO1G/cO1QQXO1G/dO1hQWO,59|O1mQ[O'#DSO1tQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1{QpO,59]OOQS,59_,59_O${QdO,59aO2TQWO1G/mOOQS,59c,59cO2YQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2eQ[O,59jOOQS,59j,59jO2mQWO'#DjO2xQWO,5:VO2}QWO,5:]O&`Q[O,5:XO&`Q[O'#E_O3VQWO,5;`O3bQWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3sQWO1G0OO3xQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO4TQtO1G/iOOQO1G/i1G/iOOQO,5:x,5:xO4kQ[O,5:xOOQO-E8[-E8[O4xQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO5TQXO'#ErO5[QWO,59nO5aQtO'#EXO6XQdO'#EoO6cQWO,59ZO6hQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XOOQS1G/P1G/PO6pQWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6uQWO,5:yOOQO-E8]-E8]O7TQXO1G/xOOQS7+%j7+%jO7[QYO'#CsOOQO'#EQ'#EQO7gQ`O'#EPOOQO'#EP'#EPO7rQWO'#E`O7zQdO,5:jOOQS,5:j,5:jO8VQtO'#E]O${QdO'#E]O9WQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9kQpO<<HdO9sQWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9{QWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO:TQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3{QdO'#EaO7rQWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO:[QtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO;]QdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";o~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!X#rO!Y!Va#U!Va!S!Va~P${O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#xO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.pOp#zO|#{O~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/qOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/qOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/qO!S#|O~Oa#fP~P(aOa#cP~P${Oa$TOj#XO~O!Y$VO~Oa$WOh$XOo$XO~Op$ZO#X#]O~O]!`Xa!^X!b!^X~O]$[O~Oa$]O!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$bO~O!S$iO#X$dO#e$cO~Oj#XOt$kO!X$mO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$qO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$sOa#cX~P${Oa$uO~Oj#XOp$vO~Oa$wO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$yO~P.pOP#WOtgX!TgX~O#e$cOt!sX!T!sX~Ot${O!TwO~O!S%PO#X$dO#e$cO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$kO!X%SO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%TO~OtoOa#fa~Ot$sOa#ca~Oa%WO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#tkYOPdhotuvw!n#R#h#tkSOPdhotuvw!n#R#h#tQmTR!tnQ{VR!xqQ!x}Q#Z!XR#y!zq![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UU$f#m$h${R$z$eq!XZ]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#y!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ$}$gR%Z$|SgPwQ!phQ#s!nR$n#tZfPhw!n#ta!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$g#m$hR%X${V$e#m$h${Q!rjR#w!rQdOShPwU!ldh#tR#t!nQ$Q#SU$r$Q$x%UQ$x$[R%U$sQ#_!ZR$Y#_Q$t$QR%V$tQpUS!vp$pR$p#}Q$l#qR%R$lQ!ogS#u!o#vR#v!pQ#f!_R$`#fQ$h#mR%O$hQ$|$gR%Y$|_cOPdhw!n#t^UOPdhw!n#tQ!uoQ!}tQ#OuQ#PvQ#}#RR$a#hR$R#SQ!VZQ!d]Q#V!TQ#q!m[$P#S$Q$[$s$x%UQ$S#UQ$U#XS$j#q$lQ$o#{R%Q$kR$O#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$^#dR$_#e",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[uMe],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[lMe,cMe,aMe,1,2,3,4,new Mw("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:t=>dMe[t]||-1},{term:58,get:t=>fMe[t]||-1},{term:101,get:t=>hMe[t]||-1}],tokenPrec:1219});let K$=null;function J$(){if(!K$&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));K$=e.sort().map(r=>({type:"property",label:r}))}return K$||[]}const Rq=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),Mq=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),mMe=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),gMe=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),_a=/^(\w[\w-]*|-\w[\w-]*|)$/,yMe=/^-(-[\w-]*)?$/;function OMe(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const Iq=new iX,bMe=["Declaration"];function xMe(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function XY(t,e,n){if(e.to-e.from>4096){let r=Iq.get(e);if(r)return r;let i=[],s=new Set,o=e.cursor(zt.IncludeAnonymous);if(o.firstChild())do for(let a of XY(t,o.node,n))s.has(a.label)||(s.add(a.label),i.push(a));while(o.nextSibling());return Iq.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(s=>{var o;if(n(s)&&s.matchContext(bMe)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=t.sliceString(s.from,s.to);i.has(a)||(i.add(a),r.push({label:a,type:"variable"}))}}),r}}const vMe=t=>e=>{let{state:n,pos:r}=e,i=cn(n).resolveInner(r,-1),s=i.type.isError&&i.from==i.to-1&&n.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(s||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:J$(),validFor:_a};if(i.name=="ValueName")return{from:i.from,options:Mq,validFor:_a};if(i.name=="PseudoClassName")return{from:i.from,options:Rq,validFor:_a};if(t(i)||(e.explicit||s)&&OMe(i,n.doc))return{from:t(i)||s?i.from:r,options:XY(n.doc,xMe(i),t),validFor:yMe};if(i.name=="TagName"){for(let{parent:l}=i;l;l=l.parent)if(l.name=="Block")return{from:i.from,options:J$(),validFor:_a};return{from:i.from,options:mMe,validFor:_a}}if(i.name=="AtKeyword")return{from:i.from,options:gMe,validFor:_a};if(!e.explicit)return null;let o=i.resolve(r),a=o.childBefore(r);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:r,options:Rq,validFor:_a}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:r,options:Mq,validFor:_a}:o.name=="Block"||o.name=="Styles"?{from:r,options:J$(),validFor:_a}:null},wMe=vMe(t=>t.name=="VariableName"),Qw=Vc.define({name:"css",parser:pMe.configure({props:[wp.add({Declaration:Xf()}),Sp.add({"Block KeyframeList":XR})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function SMe(){return new dO(Qw,Qw.data.of({autocomplete:wMe}))}const _Me=312,$Me=313,Dq=1,kMe=2,PMe=3,CMe=4,jMe=314,EMe=316,TMe=317,NMe=5,AMe=6,RMe=0,zj=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],YY=125,MMe=59,Wj=47,IMe=42,DMe=43,QMe=45,FMe=60,LMe=44,qMe=63,VMe=46,BMe=91,zMe=new AY({start:!1,shift(t,e){return e==NMe||e==AMe||e==EMe?t:e==TMe},strict:!1}),WMe=new yi((t,e)=>{let{next:n}=t;(n==YY||n==-1||e.context)&&t.acceptToken(jMe)},{contextual:!0,fallback:!0}),UMe=new yi((t,e)=>{let{next:n}=t,r;zj.indexOf(n)>-1||n==Wj&&((r=t.peek(1))==Wj||r==IMe)||n!=YY&&n!=MMe&&n!=-1&&!e.context&&t.acceptToken(_Me)},{contextual:!0}),ZMe=new yi((t,e)=>{t.next==BMe&&!e.context&&t.acceptToken($Me)},{contextual:!0}),XMe=new yi((t,e)=>{let{next:n}=t;if(n==DMe||n==QMe){if(t.advance(),n==t.next){t.advance();let r=!e.context&&e.canShift(Dq);t.acceptToken(r?Dq:kMe)}}else n==qMe&&t.peek(1)==VMe&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(PMe))},{contextual:!0});function ek(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const YMe=new yi((t,e)=>{if(t.next!=FMe||!e.dialectEnabled(RMe)||(t.advance(),t.next==Wj))return;let n=0;for(;zj.indexOf(t.next)>-1;)t.advance(),n++;if(ek(t.next,!0)){for(t.advance(),n++;ek(t.next,!1);)t.advance(),n++;for(;zj.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==LMe)return;for(let r=0;;r++){if(r==7){if(!ek(t.next,!0))return;break}if(t.next!="extends".charCodeAt(r))break;t.advance(),n++}}t.acceptToken(CMe,-n)}),GMe=vp({"get set async static":H.modifier,"for while do if else switch try catch finally return throw break continue default case":H.controlKeyword,"in of await yield void typeof delete instanceof":H.operatorKeyword,"let var const using function class extends":H.definitionKeyword,"import export from":H.moduleKeyword,"with debugger as new":H.keyword,TemplateString:H.special(H.string),super:H.atom,BooleanLiteral:H.bool,this:H.self,null:H.null,Star:H.modifier,VariableName:H.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":H.function(H.variableName),VariableDefinition:H.definition(H.variableName),Label:H.labelName,PropertyName:H.propertyName,PrivatePropertyName:H.special(H.propertyName),"CallExpression/MemberExpression/PropertyName":H.function(H.propertyName),"FunctionDeclaration/VariableDefinition":H.function(H.definition(H.variableName)),"ClassDeclaration/VariableDefinition":H.definition(H.className),PropertyDefinition:H.definition(H.propertyName),PrivatePropertyDefinition:H.definition(H.special(H.propertyName)),UpdateOp:H.updateOperator,"LineComment Hashbang":H.lineComment,BlockComment:H.blockComment,Number:H.number,String:H.string,Escape:H.escape,ArithOp:H.arithmeticOperator,LogicOp:H.logicOperator,BitOp:H.bitwiseOperator,CompareOp:H.compareOperator,RegExp:H.regexp,Equals:H.definitionOperator,Arrow:H.function(H.punctuation),": Spread":H.punctuation,"( )":H.paren,"[ ]":H.squareBracket,"{ }":H.brace,"InterpolationStart InterpolationEnd":H.special(H.brace),".":H.derefOperator,", ;":H.separator,"@":H.meta,TypeName:H.typeName,TypeDefinition:H.definition(H.typeName),"type enum interface implements namespace module declare":H.definitionKeyword,"abstract global Privacy readonly override":H.modifier,"is keyof unique infer":H.operatorKeyword,JSXAttributeValue:H.attributeValue,JSXText:H.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":H.angleBracket,"JSXIdentifier JSXNameSpacedName":H.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":H.attributeName,"JSXBuiltin/JSXIdentifier":H.standard(H.tagName)}),HMe={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,extends:54,this:58,true:66,false:66,null:78,void:82,typeof:86,super:102,new:136,delete:148,yield:157,await:161,class:166,public:229,private:229,protected:229,readonly:231,instanceof:250,satisfies:253,in:254,const:256,import:290,keyof:345,unique:349,infer:355,is:391,abstract:411,implements:413,type:415,let:418,var:420,using:423,interface:429,enum:433,namespace:439,module:441,declare:445,global:449,for:468,of:477,while:480,with:484,do:488,if:492,else:494,switch:498,case:504,try:510,catch:514,finally:518,return:522,throw:526,break:530,continue:534,debugger:538},KMe={__proto__:null,async:123,get:125,set:127,declare:189,public:191,private:191,protected:191,static:193,abstract:195,override:197,readonly:203,accessor:205,new:395},JMe={__proto__:null,"<":187},eIe=zc.deserialize({version:14,states:"$CdQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D^O.QQlO'#DdO.bQlO'#DoO%[QlO'#DwO0fQlO'#EPOOQ!0Lf'#EX'#EXO1PQ`O'#EUOOQO'#Em'#EmOOQO'#Ih'#IhO1XQ`O'#GpO1dQ`O'#ElO1iQ`O'#ElO3hQ!0MxO'#JnO6[Q!0MxO'#JoO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#FzO9RQ`O'#FyOOQ!0Lf'#Jo'#JoOOQ!0Lb'#Jn'#JnO9WQ`O'#GtOOQ['#K['#K[O9cQ`O'#IUO9hQ!0LrO'#IVOOQ['#J['#J[OOQ['#IZ'#IZQ`QlOOQ`QlOOO9pQ!L^O'#DsO9wQlO'#D{O:OQlO'#D}O9^Q`O'#GpO:VQMhO'#CoO:eQ`O'#EkO:pQ`O'#EvO:uQMhO'#FdO;dQ`O'#GpOOQO'#K]'#K]O;iQ`O'#K]O;wQ`O'#GxO;wQ`O'#GyO;wQ`O'#G{O9^Q`O'#HOO<nQ`O'#HRO>VQ`O'#CeO>gQ`O'#H_O>oQ`O'#HeO>oQ`O'#HgO`QlO'#HiO>oQ`O'#HkO>oQ`O'#HnO>tQ`O'#HtO>yQ!0LsO'#HzO%[QlO'#H|O?UQ!0LsO'#IOO?aQ!0LsO'#IQO9hQ!0LrO'#ISO?lQ!0MxO'#CiO@nQpO'#DiQOQ`OOO%[QlO'#D}OAUQ`O'#EQO:VQMhO'#EkOAaQ`O'#EkOAlQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Dn'#DnOOQ!0Lb'#Jr'#JrO%[QlO'#JrOOQO'#Ju'#JuOOQO'#Id'#IdOBlQpO'#EdOOQ!0Lb'#Ec'#EcOOQ!0Lb'#Jy'#JyOChQ!0MSO'#EdOCrQpO'#ETOOQO'#Jt'#JtODWQpO'#JuOEeQpO'#ETOCrQpO'#EdPErO&2DjO'#CbPOOO)CDy)CDyOOOO'#I['#I[OE}O#tO,59UOOQ!0Lh,59U,59UOOOO'#I]'#I]OF]O&jO,59UOFkQ!L^O'#D`OOOO'#I_'#I_OFrO#@ItO,59xOOQ!0Lf,59x,59xOGQQlO'#I`OGeQ`O'#JpOIdQ!fO'#JpO+}QlO'#JpOIkQ`O,5:OOJRQ`O'#EmOJ`Q`O'#KPOJkQ`O'#KOOJkQ`O'#KOOJsQ`O,5;ZOJxQ`O'#J}OOQ!0Ln,5:Z,5:ZOKPQlO,5:ZOL}Q!0MxO,5:cOMnQ`O,5:kONXQ!0LrO'#J|ON`Q`O'#J{O9WQ`O'#J{ONtQ`O'#J{ON|Q`O,5;YO! RQ`O'#J{O!#WQ!fO'#JoOOQ!0Lh'#Ci'#CiO%[QlO'#EPO!#vQ!fO,5:pOOQS'#Jv'#JvOOQO-E<f-E<fO9^Q`O,5=[O!$^Q`O,5=[O!$cQlO,5;WO!&fQMhO'#EhO!(PQ`O,5;WO!(UQlO'#DvO!(`QpO,5;aO!(hQpO,5;aO%[QlO,5;aOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bOOQ['#FY'#FYO!(vQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#IlO!*yQ!0LrO,5<gO%[QlO,5;bO!&fQMhO,5;bO!+hQMhO,5;bO!-YQMhO'#EZO%[QlO,5;vOOQ!0Lf,5;z,5;zO!-aQ,UO'#FiO!.^Q,UO'#KTO!-xQ,UO'#KTO!.eQ,UO'#KTOOQO'#KT'#KTO!.yQ,UO,5<ROOOW,5<_,5<_O!/[QlO'#FuOOOW'#Ik'#IkO7VO7dO,5<PO!/cQ,UO'#FwOOQ!0Lf,5<P,5<PO!0SQ$IUO'#CvOOQ!0Lh'#Cz'#CzO!0gO#@ItO'#DOO!1TQMjO,5<dO!1[Q`O,5<fO!2wQ(CWO'#GVO!3UQ`O'#GWO!3ZQ`O'#GWO!4yQ(CWO'#G[O!6OQpO'#G`OOQO'#Gk'#GkO!+oQMhO'#GjOOQO'#Gm'#GmO!+oQMhO'#GlO!6qQ$IUO'#JhOOQ!0Lh'#Jh'#JhO!6{Q`O'#JgO!7ZQ`O'#JfO!7cQ`O'#CuOOQ!0Lh'#Cx'#CxO!7kQ`O'#CzOOQ!0Lh'#DS'#DSOOQ!0Lh'#DU'#DUO1SQ`O'#DWO!+oQMhO'#F}O!+oQMhO'#GPO!7pQ`O'#GRO!7uQ`O'#GSO!3ZQ`O'#GYO!+oQMhO'#G_O!7zQ`O'#EnO!8iQ`O,5<eOOQ!0Lb'#Cr'#CrO!8qQ`O'#EoO!9kQpO'#EpOOQ!0Lb'#J}'#J}O!9rQ!0LrO'#K^O9hQ!0LrO,5=`O`QlO,5>pOOQ['#Jd'#JdOOQ[,5>q,5>qOOQ[-E<X-E<XO!;qQ!0MxO,5:_O!9fQpO,5:]O!>[Q!0MxO,5:gO%[QlO,5:gO!@rQ!0MxO,5:iOOQO,5@w,5@wO!AcQMhO,5=[O!AqQ!0LrO'#JeO9RQ`O'#JeO!BSQ!0LrO,59ZO!B_QpO,59ZO!BgQMhO,59ZO:VQMhO,59ZO!BrQ`O,5;WO!BzQ`O'#H^O!C`Q`O'#KaO%[QlO,5;|O!9fQpO,5<OO!ChQ`O,5=wO!CmQ`O,5=wO!CrQ`O,5=wO9hQ!0LrO,5=wO;wQ`O,5=gOOQO'#Cv'#CvO!DQQpO,5=dO!DYQMhO,5=eO!DeQ`O,5=gO!DjQ!bO,5=jO!DrQ`O'#K]O>tQ`O'#HTO9^Q`O'#HVO!DwQ`O'#HVO:VQMhO'#HXO!D|Q`O'#HXOOQ[,5=m,5=mO!ERQ`O'#HYO!EdQ`O'#CoO!EiQ`O,59PO!EsQ`O,59PO!GxQlO,59POOQ[,59P,59PO!HYQ!0LrO,59PO%[QlO,59PO!JeQlO'#HaOOQ['#Hb'#HbOOQ['#Hc'#HcO`QlO,5=yO!J{Q`O,5=yO`QlO,5>PO`QlO,5>RO!KQQ`O,5>TO`QlO,5>VO!KVQ`O,5>YO!K[QlO,5>`OOQ[,5>f,5>fO%[QlO,5>fO9hQ!0LrO,5>hOOQ[,5>j,5>jO# fQ`O,5>jOOQ[,5>l,5>lO# fQ`O,5>lOOQ[,5>n,5>nO#!SQpO'#D[O%[QlO'#JrO#!uQpO'#JrO##PQpO'#DjO##bQpO'#DjO#%sQlO'#DjO#%zQ`O'#JqO#&SQ`O,5:TO#&XQ`O'#EqO#&gQ`O'#KQO#&oQ`O,5;[O#&tQpO'#DjO#'RQpO'#ESOOQ!0Lf,5:l,5:lO%[QlO,5:lO#'YQ`O,5:lO>tQ`O,5;VO!B_QpO,5;VO!BgQMhO,5;VO:VQMhO,5;VO#'bQ`O,5@^O#'gQ07dO,5:pOOQO-E<b-E<bO#(mQ!0MSO,5;OOCrQpO,5:oO#(wQpO,5:oOCrQpO,5;OO!BSQ!0LrO,5:oOOQ!0Lb'#Eg'#EgOOQO,5;O,5;OO%[QlO,5;OO#)UQ!0LrO,5;OO#)aQ!0LrO,5;OO!B_QpO,5:oOOQO,5;U,5;UO#)oQ!0LrO,5;OPOOO'#IY'#IYP#*TO&2DjO,58|POOO,58|,58|OOOO-E<Y-E<YOOQ!0Lh1G.p1G.pOOOO-E<Z-E<ZOOOO,59z,59zO#*`Q!bO,59zOOOO-E<]-E<]OOQ!0Lf1G/d1G/dO#*eQ!fO,5>zO+}QlO,5>zOOQO,5?Q,5?QO#*oQlO'#I`OOQO-E<^-E<^O#*|Q`O,5@[O#+UQ!fO,5@[O#+]Q`O,5@jOOQ!0Lf1G/j1G/jO%[QlO,5@kO#+eQ`O'#IfOOQO-E<d-E<dO#+]Q`O,5@jOOQ!0Lb1G0u1G0uOOQ!0Ln1G/u1G/uOOQ!0Ln1G0V1G0VO%[QlO,5@hO#+yQ!0LrO,5@hO#,[Q!0LrO,5@hO#,cQ`O,5@gO9WQ`O,5@gO#,kQ`O,5@gO#,yQ`O'#IiO#,cQ`O,5@gOOQ!0Lb1G0t1G0tO!(`QpO,5:rO!(kQpO,5:rOOQS,5:t,5:tO#-kQdO,5:tO#-sQMhO1G2vO9^Q`O1G2vOOQ!0Lf1G0r1G0rO#.RQ!0MxO1G0rO#/WQ!0MvO,5;SOOQ!0Lh'#GU'#GUO#/tQ!0MzO'#JhO!$cQlO1G0rO#2PQ!fO'#JsO%[QlO'#JsO#2ZQ`O,5:bOOQ!0Lh'#D['#D[OOQ!0Lf1G0{1G0{O%[QlO1G0{OOQ!0Lf1G1e1G1eO#2`Q`O1G0{O#4tQ!0MxO1G0|O#4{Q!0MxO1G0|O#7cQ!0MxO1G0|O#7jQ!0MxO1G0|O#:QQ!0MxO1G0|O#<hQ!0MxO1G0|O#<oQ!0MxO1G0|O#<vQ!0MxO1G0|O#?^Q!0MxO1G0|O#?eQ!0MxO1G0|O#ArQ?MtO'#CiO#CmQ?MtO1G1_O#CtQ?MtO'#JoO#DXQ!0MxO,5?WOOQ!0Lb-E<j-E<jO#FfQ!0MxO1G0|O#GcQ!0MzO1G0|OOQ!0Lf1G0|1G0|O#HfQMjO'#JxO#HpQ`O,5:uO#HuQ!0MxO1G1bO#IiQ,UO,5<VO#IqQ,UO,5<WO#IyQ,UO'#FnO#JbQ`O'#FmOOQO'#KU'#KUOOQO'#Ij'#IjO#JgQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#JxQ?MtO'#JnO#KSQ`O,5<aO!(vQlO,5<aOOOW-E<i-E<iOOQ!0Lf1G1k1G1kO#KXQpO'#KTOOQ!0Lf,5<c,5<cO#KaQpO,5<cO#KfQMhO'#DQOOOO'#I^'#I^O#KmO#@ItO,59jOOQ!0Lh,59j,59jO%[QlO1G2OO!7uQ`O'#InO#KxQ`O,5<xOOQ!0Lh,5<u,5<uO!+oQMhO'#IqO#LfQMjO,5=UO!+oQMhO'#IsO#MXQMjO,5=WO!&fQMhO,5=YOOQO1G2Q1G2QO#McQ!dO'#CrO#MvQ(CWO'#EoO#N{QpO'#G`O$ cQ!dO,5<qO$ jQ`O'#KXO9WQ`O'#KXO$ xQ`O,5<sO!+oQMhO,5<rO$ }Q`O'#GXO$!`Q`O,5<rO$!eQ!dO'#GUO$!rQ!dO'#KYO$!|Q`O'#KYO!&fQMhO'#KYO$#RQ`O,5<vO$#WQlO'#JrO$#bQpO'#GaO##bQpO'#GaO$#sQ`O'#GeO!3ZQ`O'#GhO$#xQ!0LrO'#IpO$$TQpO,5<zOOQ!0Lp,5<z,5<zO$$[QpO'#GaO$$iQpO'#GbO$$zQpO'#GbO$%PQMjO,5=UO$%aQMjO,5=WOOQ!0Lh,5=Z,5=ZO!+oQMhO,5@RO!+oQMhO,5@RO$%qQ`O'#IuO$%|Q`O,5@QO$&UQ`O,59aOOQ!0Lh,59f,59fO$&{Q$IYO,59rOOQ!0Lh'#Jl'#JlO$'nQMjO,5<iO$(aQMjO,5<kO@fQ`O,5<mOOQ!0Lh,5<n,5<nO$(kQ`O,5<tO$(pQMjO,5<yO$)QQ`O'#J{O!$cQlO1G2PO$)VQ`O1G2PO9WQ`O'#KOO9WQ`O'#EqO%[QlO'#EqO9WQ`O'#IwO$)[Q!0LrO,5@xOOQ[1G2z1G2zOOQ[1G4[1G4[OOQ!0Lf1G/y1G/yOOQ!0Lf1G/w1G/wO$+^Q!0MxO1G0ROOQ[1G2v1G2vO!&fQMhO1G2vO%[QlO1G2vO#-vQ`O1G2vO$-bQMhO'#EhOOQ!0Lb,5@P,5@PO$-lQ!0LrO,5@POOQ[1G.u1G.uO!BSQ!0LrO1G.uO!B_QpO1G.uO!BgQMhO1G.uO$-}Q`O1G0rO$.SQ`O'#CiO$._Q`O'#KbO$.gQ`O,5=xO$.lQ`O'#KbO$.qQ`O'#KbO$/PQ`O'#I}O$/_Q`O,5@{O$/gQ!fO1G1hOOQ!0Lf1G1j1G1jO9^Q`O1G3cO@fQ`O1G3cO$/nQ`O1G3cO$/sQ`O1G3cOOQ[1G3c1G3cO!DeQ`O1G3RO!&fQMhO1G3OO$/xQ`O1G3OOOQ[1G3P1G3PO!&fQMhO1G3PO$/}Q`O1G3PO$0VQpO'#G}OOQ[1G3R1G3RO!5yQpO'#IyO!DjQ!bO1G3UOOQ[1G3U1G3UOOQ[,5=o,5=oO$0_QMhO,5=qO9^Q`O,5=qO$#sQ`O,5=sO9RQ`O,5=sO!B_QpO,5=sO!BgQMhO,5=sO:VQMhO,5=sO$0mQ`O'#K`O$0xQ`O,5=tOOQ[1G.k1G.kO$0}Q!0LrO1G.kO@fQ`O1G.kO$1YQ`O1G.kO9hQ!0LrO1G.kO$3bQ!fO,5@}O$3oQ`O,5@}O9WQ`O,5@}O$3zQlO,5={O$4RQ`O,5={OOQ[1G3e1G3eO`QlO1G3eOOQ[1G3k1G3kOOQ[1G3m1G3mO>oQ`O1G3oO$4WQlO1G3qO$8[QlO'#HpOOQ[1G3t1G3tO$8iQ`O'#HvO>tQ`O'#HxOOQ[1G3z1G3zO$8qQlO1G3zO9hQ!0LrO1G4QOOQ[1G4S1G4SOOQ!0Lb'#G]'#G]O9hQ!0LrO1G4UO9hQ!0LrO1G4WO$<xQ`O,5@^O!(vQlO,5;]O9WQ`O,5;]O>tQ`O,5:UO!(vQlO,5:UO!B_QpO,5:UO$<}Q?MtO,5:UOOQO,5;],5;]O$=XQpO'#IaO$=oQ`O,5@]OOQ!0Lf1G/o1G/oO$=wQpO'#IgO$>RQ`O,5@lOOQ!0Lb1G0v1G0vO##bQpO,5:UOOQO'#Ic'#IcO$>ZQpO,5:nOOQ!0Ln,5:n,5:nO#']Q`O1G0WOOQ!0Lf1G0W1G0WO%[QlO1G0WOOQ!0Lf1G0q1G0qO>tQ`O1G0qO!B_QpO1G0qO!BgQMhO1G0qOOQ!0Lb1G5x1G5xO!BSQ!0LrO1G0ZOOQO1G0j1G0jO%[QlO1G0jO$>bQ!0LrO1G0jO$>mQ!0LrO1G0jO!B_QpO1G0ZOCrQpO1G0ZO$>{Q!0LrO1G0jOOQO1G0Z1G0ZO$?aQ!0MxO1G0jPOOO-E<W-E<WPOOO1G.h1G.hOOOO1G/f1G/fO$?kQ!bO,5<gO$?sQ!fO1G4fOOQO1G4l1G4lO%[QlO,5>zO$?}Q`O1G5vO$@VQ`O1G6UO$@_Q!fO1G6VO9WQ`O,5?QO$@iQ!0MxO1G6SO%[QlO1G6SO$@yQ!0LrO1G6SO$A[Q`O1G6RO$A[Q`O1G6RO9WQ`O1G6RO$AdQ`O,5?TO9WQ`O,5?TOOQO,5?T,5?TO$AxQ`O,5?TO$)QQ`O,5?TOOQO-E<g-E<gOOQS1G0^1G0^OOQS1G0`1G0`O#-nQ`O1G0`OOQ[7+(b7+(bO!&fQMhO7+(bO%[QlO7+(bO$BWQ`O7+(bO$BcQMhO7+(bO$BqQ!0MzO,5=UO$D|Q!0MzO,5=WO$GXQ!0MzO,5=UO$IjQ!0MzO,5=WO$K{Q!0MzO,59rO$NQQ!0MzO,5<iO%!]Q!0MzO,5<kO%$hQ!0MzO,5<yOOQ!0Lf7+&^7+&^O%&yQ!0MxO7+&^O%'mQlO'#IbO%'zQ`O,5@_O%(SQ!fO,5@_OOQ!0Lf1G/|1G/|O%(^Q`O7+&gOOQ!0Lf7+&g7+&gO%(cQ?MtO,5:cO%[QlO7+&yO%(mQ?MtO,5:_O%(zQ?MtO,5:gO%)UQ?MtO,5:iO%)`QMhO'#IeO%)jQ`O,5@dOOQ!0Lh1G0a1G0aOOQO1G1q1G1qOOQO1G1r1G1rO%)rQ!jO,5<YO!(vQlO,5<XOOQO-E<h-E<hOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%)}Q`O1G1{OOQ!0Lf1G1}1G1}OOOO,59l,59lO%*SQ!dO,59lOOOO-E<[-E<[OOQ!0Lh1G/U1G/UO%*ZQ!0MxO7+'jOOQ!0Lh,5?Y,5?YO%*}QMhO1G2dP%+UQ`O'#InPOQ!0Lh-E<l-E<lO%+rQMjO,5?]OOQ!0Lh-E<o-E<oO%,eQMjO,5?_OOQ!0Lh-E<q-E<qO%,oQ!dO1G2tO%,vQ!dO'#CrO%-^QMhO'#KOO$#WQlO'#JrOOQ!0Lh1G2]1G2]O%-eQ`O'#ImO%-yQ`O,5@sO%-yQ`O,5@sO%.RQ`O,5@sO%.^Q`O,5@sOOQO1G2_1G2_O%.lQMjO1G2^O!+oQMhO1G2^O%.|Q(CWO'#IoO%/ZQ`O,5@tO!&fQMhO,5@tO%/cQ!dO,5@tOOQ!0Lh1G2b1G2bO%1sQ!fO'#CiO%1}Q`O,5<}OOQ!0Lb,5<{,5<{O%2VQpO,5<{OOQ!0Lb,5<|,5<|OCcQ`O,5<{O%2bQpO,5<{OOQ!0Lb,5=P,5=PO$)QQ`O,5=SOOQO,5?[,5?[OOQO-E<n-E<nOOQ!0Lp1G2f1G2fO##bQpO,5<{O$#WQlO,5<}O%2pQ`O,5<|O%2{QpO,5<|O!+oQMhO'#IqO%3uQMjO1G2pO!+oQMhO'#IsO%4hQMjO1G2rO%4rQMjO1G5mO%4|QMjO1G5mOOQO,5?a,5?aOOQO-E<s-E<sOOQO1G.{1G.{O!9fQpO,59tO%[QlO,59tOOQ!0Lh,5<h,5<hO%5ZQ`O1G2XO!+oQMhO1G2`O%5`Q!0MxO7+'kOOQ!0Lf7+'k7+'kO!$cQlO7+'kO%6SQ`O,5;]OOQ!0Lb,5?c,5?cOOQ!0Lb-E<u-E<uO%6XQ!dO'#KZO#']Q`O7+(bO4UQ!fO7+(bO$BZQ`O7+(bO%6cQ!0MvO'#CiO%6vQ!0MvO,5=QO%7hQ`O,5=QOOQ!0Lb1G5k1G5kOOQ[7+$a7+$aO!BSQ!0LrO7+$aO!B_QpO7+$aO!$cQlO7+&^O%7mQ`O'#I|O%8UQ`O,5@|OOQO1G3d1G3dO9^Q`O,5@|O%8UQ`O,5@|O%8^Q`O,5@|OOQO,5?i,5?iOOQO-E<{-E<{OOQ!0Lf7+'S7+'SO%8cQ`O7+(}O9hQ!0LrO7+(}O9^Q`O7+(}O@fQ`O7+(}OOQ[7+(m7+(mO%8hQ!0MvO7+(jO!&fQMhO7+(jO!D`Q`O7+(kOOQ[7+(k7+(kO!&fQMhO7+(kO%8rQ`O'#K_O%8}Q`O,5=iOOQO,5?e,5?eOOQO-E<w-E<wOOQ[7+(p7+(pO%:aQpO'#HWOOQ[1G3]1G3]O!&fQMhO1G3]O%[QlO1G3]O%:hQ`O1G3]O%:sQMhO1G3]O9hQ!0LrO1G3_O$#sQ`O1G3_O9RQ`O1G3_O!B_QpO1G3_O!BgQMhO1G3_O%;RQ`O'#I{O%;gQ`O,5@zO%;oQpO,5@zOOQ!0Lb1G3`1G3`OOQ[7+$V7+$VO@fQ`O7+$VO9hQ!0LrO7+$VO%;zQ`O7+$VO%[QlO1G6iO%[QlO1G6jO%<PQ!0LrO1G6iO%<ZQlO1G3gO%<bQ`O1G3gO%<gQlO1G3gOOQ[7+)P7+)PO9hQ!0LrO7+)ZO`QlO7+)]OOQ['#Ke'#KeOOQ['#JO'#JOO%<nQlO,5>[OOQ[,5>[,5>[O%[QlO'#HqO%<{Q`O'#HsOOQ[,5>b,5>bO9WQ`O,5>bOOQ[,5>d,5>dOOQ[7+)f7+)fOOQ[7+)l7+)lOOQ[7+)p7+)pOOQ[7+)r7+)rO%=QQpO1G5xO%=lQ?MtO1G0wO%=vQ`O1G0wOOQO1G/p1G/pO%>RQ?MtO1G/pO>tQ`O1G/pO!(vQlO'#DjOOQO,5>{,5>{OOQO-E<_-E<_OOQO,5?R,5?ROOQO-E<e-E<eO!B_QpO1G/pOOQO-E<a-E<aOOQ!0Ln1G0Y1G0YOOQ!0Lf7+%r7+%rO#']Q`O7+%rOOQ!0Lf7+&]7+&]O>tQ`O7+&]O!B_QpO7+&]OOQO7+%u7+%uO$?aQ!0MxO7+&UOOQO7+&U7+&UO%[QlO7+&UO%>]Q!0LrO7+&UO!BSQ!0LrO7+%uO!B_QpO7+%uO%>hQ!0LrO7+&UO%>vQ!0MxO7++nO%[QlO7++nO%?WQ`O7++mO%?WQ`O7++mOOQO1G4o1G4oO9WQ`O1G4oO%?`Q`O1G4oOOQS7+%z7+%zO#']Q`O<<K|O4UQ!fO<<K|O%?nQ`O<<K|OOQ[<<K|<<K|O!&fQMhO<<K|O%[QlO<<K|O%?vQ`O<<K|O%@RQ!0MzO,5?]O%B^Q!0MzO,5?_O%DiQ!0MzO1G2^O%FzQ!0MzO1G2pO%IVQ!0MzO1G2rO%KbQ!fO,5>|O%[QlO,5>|OOQO-E<`-E<`O%KlQ`O1G5yOOQ!0Lf<<JR<<JRO%KtQ?MtO1G0rO%M{Q?MtO1G0|O%NSQ?MtO1G0|O&!TQ?MtO1G0|O&![Q?MtO1G0|O&$]Q?MtO1G0|O&&^Q?MtO1G0|O&&eQ?MtO1G0|O&&lQ?MtO1G0|O&(mQ?MtO1G0|O&(tQ?MtO1G0|O&({Q!0MxO<<JeO&*sQ?MtO1G0|O&+pQ?MvO1G0|O&,sQ?MvO'#JhO&.yQ?MtO1G1bO&/WQ?MtO1G0RO&/bQMjO,5?POOQO-E<c-E<cO!(vQlO'#FpOOQO'#KV'#KVOOQO1G1t1G1tO&/lQ`O1G1sO&/qQ?MtO,5?WOOOW7+'g7+'gOOOO1G/W1G/WO&/{Q!dO1G4tOOQ!0Lh7+(O7+(OP!&fQMhO,5?YO!+oQMhO7+(`O&0SQ`O,5?XO9WQ`O,5?XOOQO-E<k-E<kO&0bQ`O1G6_O&0bQ`O1G6_O&0jQ`O1G6_O&0uQMjO7+'xO&1VQ!dO,5?ZO&1aQ`O,5?ZO!&fQMhO,5?ZOOQO-E<m-E<mO&1fQ!dO1G6`O&1pQ`O1G6`O&1xQ`O1G2iO!&fQMhO1G2iOOQ!0Lb1G2g1G2gOOQ!0Lb1G2h1G2hO%2VQpO1G2gO!B_QpO1G2gOCcQ`O1G2gOOQ!0Lb1G2n1G2nO&1}QpO1G2gO&2]Q`O1G2iO$)QQ`O1G2hOCcQ`O1G2hO$#WQlO1G2iO&2eQ`O1G2hO&3XQMjO,5?]OOQ!0Lh-E<p-E<pO&3zQMjO,5?_OOQ!0Lh-E<r-E<rO!+oQMhO7++XOOQ!0Lh1G/`1G/`O&4UQ`O1G/`OOQ!0Lh7+'s7+'sO&4ZQMjO7+'zO&4kQ!0MxO<<KVOOQ!0Lf<<KV<<KVO&5_Q`O1G0wO!&fQMhO'#IvO&5dQ`O,5@uO&7fQ!fO<<K|O!&fQMhO1G2lOOQ[<<G{<<G{O!BSQ!0LrO<<G{O&7mQ!0MxO<<IxOOQ!0Lf<<Ix<<IxOOQO,5?h,5?hO&8aQ`O,5?hO&8fQ`O,5?hOOQO-E<z-E<zO&8tQ`O1G6hO&8tQ`O1G6hO9^Q`O1G6hO@fQ`O<<LiOOQ[<<Li<<LiO&8|Q`O<<LiO9hQ!0LrO<<LiOOQ[<<LU<<LUO%8hQ!0MvO<<LUOOQ[<<LV<<LVO!D`Q`O<<LVO&9RQpO'#IxO&9^Q`O,5@yO!(vQlO,5@yOOQ[1G3T1G3TOOQO'#Iz'#IzO9hQ!0LrO'#IzO&9fQpO,5=rOOQ[,5=r,5=rO&9mQpO'#EdO&9tQpO'#GcO&9yQ`O7+(wO&:OQ`O7+(wOOQ[7+(w7+(wO!&fQMhO7+(wO%[QlO7+(wO&:WQ`O7+(wOOQ[7+(y7+(yO9hQ!0LrO7+(yO$#sQ`O7+(yO9RQ`O7+(yO!B_QpO7+(yO&:cQ`O,5?gOOQO-E<y-E<yOOQO'#HZ'#HZO&:nQ`O1G6fO9hQ!0LrO<<GqOOQ[<<Gq<<GqO@fQ`O<<GqO&:vQ`O7+,TO&:{Q`O7+,UO%[QlO7+,TO%[QlO7+,UOOQ[7+)R7+)RO&;QQ`O7+)RO&;VQlO7+)RO&;^Q`O7+)ROOQ[<<Lu<<LuOOQ[<<Lw<<LwOOQ[-E<|-E<|OOQ[1G3v1G3vO&;cQ`O,5>]OOQ[,5>_,5>_O&;hQ`O1G3|O9WQ`O7+&cO!(vQlO7+&cOOQO7+%[7+%[O&;mQ?MtO1G6VO>tQ`O7+%[OOQ!0Lf<<I^<<I^OOQ!0Lf<<Iw<<IwO>tQ`O<<IwOOQO<<Ip<<IpO$?aQ!0MxO<<IpO%[QlO<<IpOOQO<<Ia<<IaO!BSQ!0LrO<<IaO&;wQ!0LrO<<IpO&<SQ!0MxO<= YO&<dQ`O<= XOOQO7+*Z7+*ZO9WQ`O7+*ZOOQ[ANAhANAhO&<lQ!fOANAhO!&fQMhOANAhO#']Q`OANAhO4UQ!fOANAhO&<sQ`OANAhO%[QlOANAhO&<{Q!0MzO7+'xO&?^Q!0MzO,5?]O&AiQ!0MzO,5?_O&CtQ!0MzO7+'zO&FVQ!fO1G4hO&FaQ?MtO7+&^O&HeQ?MvO,5=UO&JlQ?MvO,5=WO&J|Q?MvO,5=UO&K^Q?MvO,5=WO&KnQ?MvO,59rO&MtQ?MvO,5<iO' wQ?MvO,5<kO'$]Q?MvO,5<yO'&RQ?MtO7+'jO'&`Q?MtO7+'kO'&mQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*`7+*`O'&rQMjO<<KzOOQO1G4s1G4sO'&yQ`O1G4sO''UQ`O1G4sO''dQ`O7++yO''dQ`O7++yO!&fQMhO1G4uO''lQ!dO1G4uO''vQ`O7++zO'(OQ`O7+(TO'(ZQ!dO7+(TOOQ!0Lb7+(R7+(ROOQ!0Lb7+(S7+(SO!B_QpO7+(ROCcQ`O7+(RO'(eQ`O7+(TO!&fQMhO7+(TO$)QQ`O7+(SO'(jQ`O7+(TOCcQ`O7+(SO'(rQMjO<<NsOOQ!0Lh7+$z7+$zO'(|Q!dO,5?bOOQO-E<t-E<tO')WQ!0MvO7+(WOOQ[AN=gAN=gO9^Q`O1G5SOOQO1G5S1G5SO')hQ`O1G5SO')mQ`O7+,SO')mQ`O7+,SO9hQ!0LrOANBTO@fQ`OANBTOOQ[ANBTANBTOOQ[ANApANApOOQ[ANAqANAqO')uQ`O,5?dOOQO-E<v-E<vO'*QQ?MtO1G6eOOQO,5?f,5?fOOQO-E<x-E<xOOQ[1G3^1G3^O'*[Q`O,5<}OOQ[<<Lc<<LcO!&fQMhO<<LcO&9yQ`O<<LcO'*aQ`O<<LcO%[QlO<<LcOOQ[<<Le<<LeO9hQ!0LrO<<LeO$#sQ`O<<LeO9RQ`O<<LeO'*iQpO1G5RO'*tQ`O7+,QOOQ[AN=]AN=]O9hQ!0LrOAN=]OOQ[<= o<= oOOQ[<= p<= pO'*|Q`O<= oO'+RQ`O<= pOOQ[<<Lm<<LmO'+WQ`O<<LmO'+]QlO<<LmOOQ[1G3w1G3wO>tQ`O7+)hO'+dQ`O<<I}O'+oQ?MtO<<I}OOQO<<Hv<<HvOOQ!0LfAN?cAN?cOOQOAN?[AN?[O$?aQ!0MxOAN?[OOQOAN>{AN>{O%[QlOAN?[OOQO<<Mu<<MuOOQ[G27SG27SO!&fQMhOG27SO#']Q`OG27SO'+yQ!fOG27SO4UQ!fOG27SO',QQ`OG27SO',YQ?MtO<<JeO',gQ?MvO1G2^O'.]Q?MvO,5?]O'0`Q?MvO,5?_O'2cQ?MvO1G2pO'4fQ?MvO1G2rO'6iQ?MtO<<KVO'6vQ?MtO<<IxOOQO1G1v1G1vO!+oQMhOANAfOOQO7+*_7+*_O'7TQ`O7+*_O'7`Q`O<= eO'7hQ!dO7+*aOOQ!0Lb<<Ko<<KoO$)QQ`O<<KoOCcQ`O<<KoO'7rQ`O<<KoO!&fQMhO<<KoOOQ!0Lb<<Km<<KmO!B_QpO<<KmO'7}Q!dO<<KoOOQ!0Lb<<Kn<<KnO'8XQ`O<<KoO!&fQMhO<<KoO$)QQ`O<<KnOOQO7+*n7+*nO9^Q`O7+*nO'8^Q`O<= nOOQ[G27oG27oO9hQ!0LrOG27oO!(vQlO1G5OO'8fQ`O7+,PO'8nQ`O1G2iO&9yQ`OANA}OOQ[ANA}ANA}O!&fQMhOANA}O'8sQ`OANA}OOQ[ANBPANBPO9hQ!0LrOANBPO$#sQ`OANBPOOQO'#H['#H[OOQO7+*m7+*mOOQ[G22wG22wOOQ[ANEZANEZOOQ[ANE[ANE[OOQ[ANBXANBXO'8{Q`OANBXOOQ[<<MS<<MSO!(vQlOAN?iOOQOG24vG24vO$?aQ!0MxOG24vO#']Q`OLD,nOOQ[LD,nLD,nO!&fQMhOLD,nO'9QQ!fOLD,nO'9XQ?MvO7+'xO':}Q?MvO,5?]O'=QQ?MvO,5?_O'?TQ?MvO7+'zO'@yQMjOG27QOOQO<<My<<MyOOQ!0LbANAZANAZO$)QQ`OANAZOCcQ`OANAZO'AZQ!dOANAZOOQ!0LbANAXANAXO'AbQ`OANAZO!&fQMhOANAZO'AmQ!dOANAZOOQ!0LbANAYANAYOOQO<<NY<<NYOOQ[LD-ZLD-ZO'AwQ?MtO7+*jOOQO'#Gd'#GdOOQ[G27iG27iO&9yQ`OG27iO!&fQMhOG27iOOQ[G27kG27kO9hQ!0LrOG27kOOQ[G27sG27sO'BRQ?MtOG25TOOQOLD*bLD*bOOQ[!$(!Y!$(!YO#']Q`O!$(!YO!&fQMhO!$(!YO'B]Q!0MzOG27QOOQ!0LbG26uG26uO$)QQ`OG26uO'DnQ`OG26uOCcQ`OG26uO'DyQ!dOG26uO!&fQMhOG26uOOQ[LD-TLD-TO&9yQ`OLD-TOOQ[LD-VLD-VOOQ[!)9Et!)9EtO#']Q`O!)9EtOOQ!0LbLD,aLD,aO$)QQ`OLD,aOCcQ`OLD,aO'EQQ`OLD,aO'E]Q!dOLD,aOOQ[!$(!o!$(!oOOQ[!.K;`!.K;`O'EdQ?MvOG27QOOQ!0Lb!$( {!$( {O$)QQ`O!$( {OCcQ`O!$( {O'GYQ`O!$( {OOQ!0Lb!)9Eg!)9EgO$)QQ`O!)9EgOCcQ`O!)9EgOOQ!0Lb!.K;R!.K;RO$)QQ`O!.K;ROOQ!0Lb!4/0m!4/0mO!(vQlO'#DwO1PQ`O'#EUO'GeQ!fO'#JnO'GlQ!L^O'#DsO'GsQlO'#D{O'GzQ!fO'#CiO'JbQ!fO'#CiO!(vQlO'#D}O'JrQlO,5;WO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO'#IlO'LuQ`O,5<gO!(vQlO,5;bO'L}QMhO,5;bO'NhQMhO,5;bO!(vQlO,5;vO!&fQMhO'#GjO'L}QMhO'#GjO!&fQMhO'#GlO'L}QMhO'#GlO1SQ`O'#DWO1SQ`O'#DWO!&fQMhO'#F}O'L}QMhO'#F}O!&fQMhO'#GPO'L}QMhO'#GPO!&fQMhO'#G_O'L}QMhO'#G_O!(vQlO,5:gO'NoQpO'#D[O'NyQpO'#JrO!(vQlO,5@kO'JrQlO1G0rO( TQ?MtO'#CiO!(vQlO1G2OO!&fQMhO'#IqO'L}QMhO'#IqO!&fQMhO'#IsO'L}QMhO'#IsO( _Q!dO'#CrO!&fQMhO,5<rO'L}QMhO,5<rO'JrQlO1G2PO!(vQlO7+&yO!&fQMhO1G2^O'L}QMhO1G2^O!&fQMhO'#IqO'L}QMhO'#IqO!&fQMhO'#IsO'L}QMhO'#IsO!&fQMhO1G2`O'L}QMhO1G2`O'JrQlO7+'kO'JrQlO7+&^O!&fQMhOANAfO'L}QMhOANAfO( rQ`O'#ElO( wQ`O'#ElO(!PQ`O'#F[O(!UQ`O'#EvO(!ZQ`O'#KPO(!fQ`O'#J}O(!qQ`O,5;WO(!vQMjO,5<dO(!}Q`O'#GWO(#SQ`O'#GWO(#XQ`O,5<eO(#aQ`O,5;WO(#iQ?MtO1G1_O(#pQ`O,5<rO(#uQ`O,5<rO(#zQ`O,5<tO($PQ`O,5<tO($UQ`O1G2PO($ZQ`O1G0rO($`QMjO<<KzO($gQMjO<<KzO7eQMhO'#FzO9RQ`O'#FyOAaQ`O'#EkO!(vQlO,5;sO!3ZQ`O'#GWO!3ZQ`O'#GWO!3ZQ`O'#GYO!3ZQ`O'#GYO!+oQMhO7+(`O!+oQMhO7+(`O%,oQ!dO1G2tO%,oQ!dO1G2tO!&fQMhO,5=YO!&fQMhO,5=Y",stateData:"(%k~O'xOS'yOSTOS'zRQ~OPYOQYOSfOY!VOaqOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#t!PO$V|O%e}O%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO&S!WO&Y!XO&[!YO&^!ZO&`![O&c!]O&i!^O&o!_O&q!`O&s!aO&u!bO&w!cO(PSO(RTO(UUO(]VO(k[O(ziO~OWtO~P`OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(P!dO(RTO(UUO(]VO(k[O(ziO~Oa!wOp!nO!P!oO!_!yO!`!vO!a!vO!y;kO#Q!pO#R!pO#S!xO#T!pO#U!pO#X!zO#Y!zO(Q!lO(RTO(UUO(a!mO(k!sO~O'z!{O~OP]XR]X[]Xa]Xo]X}]X!P]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X'v]X(]]X(n]X(u]X(v]X~O!d%PX~P(qO_!}O(R#PO(S!}O(T#PO~O_#QO(T#PO(U#PO(V#QO~Ou#SO!R#TO(^#TO(_#VO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(P;oO(RTO(UUO(]VO(k[O(ziO~O!X#ZO!Y#WO!V(dP!V(rP~P+}O!Z#cO~P`OPYOQYOSfOd!jOe!iOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(RTO(UUO(]VO(k[O(ziO~Om#mO!X#iO!y]O#f#lO#g#iO(P;pO!h(oP~P.iO!i#oO(P#nO~O!u#sO!y]O%e#tO~O#h#uO~O!d#vO#h#uO~OP$[OR#zO[$cOo$aO}#yO!P#{O!Y$_O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO(]VO(n$YO(u#|O(v#}O~Oa(bX'v(bX's(bX!h(bX!V(bX![(bX%f(bX!d(bX~P1qO#P$dO#]$eO$P$eOP(cXR(cX[(cXo(cX}(cX!P(cX!Y(cX!i(cX!m(cX#O(cX#k(cX#l(cX#m(cX#n(cX#o(cX#p(cX#q(cX#r(cX#s(cX#u(cX#w(cX#y(cX#z(cX(](cX(n(cX(u(cX(v(cX![(cX%f(cX~Oa(cX'v(cX's(cX!V(cX!h(cXs(cX!d(cX~P4UO#]$eO~O$[$hO$^$gO$e$mO~OSfO![$nO$h$oO$j$qO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{%[O!P${O![$|O!f%aO!i$xO#g%bO$V%_O$r%]O$t%^O$w%`O(P$sO(RTO(UUO(]$uO(u$}O(v%POg(YP~O!i%cO~O!P%fO![%gO(P%eO~O!d%kO~Oa%lO'v%lO~O}%pO~P%[O(Q!lO~P%[O%k%tO~P%[Oh%VO!i%cO(P%eO(Q!lO~Oe%{O!i%cO(P%eO~O#s$RO~O}&QO![%}O!i&PO%g&TO(P%eO(Q!lO(RTO(UUO`)TP~O!u#sO~O%p&VO!P)PX![)PX(P)PX~O(P&WO~O!r&]O#t!PO%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO~Od&bOe&aO!u&_O%e&`O%x&^O~P;|Od&eOeyO![&dO!r&]O!uxO!y]O#t!PO%e}O%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO~Ob&hO#]&kO%g&fO(Q!lO~P=RO!i&lO!r&pO~O!i#oO~O![XO~Oa%lO't&xO'v%lO~Oa%lO't&{O'v%lO~Oa%lO't&}O'v%lO~O's]X!V]Xs]X!h]X&W]X![]X%f]X!d]X~P(qO!_'[O!`'TO!a'TO(Q!lO(RTO(UUO~Op'RO!P'QO!X'UO(a'PO!Z(eP!Z(tP~P@YOk'_O![']O(P%eO~Oe'dO!i%cO(P%eO~O}&QO!i&PO~Op!nO!P!oO!y;kO#Q!pO#R!pO#T!pO#U!pO(Q!lO(RTO(UUO(a!mO(k!sO~O!_'jO!`'iO!a'iO#S!pO#X'kO#Y'kO~PAtOa%lOh%VO!d#vO!i%cO'v%lO(n'mO~O!m'qO#]'oO~PCSOp!nO!P!oO(RTO(UUO(a!mO(k!sO~O![XOp(iX!P(iX!_(iX!`(iX!a(iX!y(iX#Q(iX#R(iX#S(iX#T(iX#U(iX#X(iX#Y(iX(Q(iX(R(iX(U(iX(a(iX(k(iX~O!`'iO!a'iO(Q!lO~PCrO'{'uO'|'uO'}'wO~O_!}O(R'yO(S!}O(T'yO~O_#QO(T'yO(U'yO(V#QO~Os'{O~P%[Ou#SO!R#TO(^#TO(_(OO~O!X(QO!V'SX!V'YX!Y'SX!Y'YX~P+}O!Y(SO!V(dX~OP$[OR#zO[$cOo$aO}#yO!P#{O!Y(SO!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO(]VO(n$YO(u#|O(v#}O~O!V(dX~PGmO!V(XO~O!V(qX!Y(qX!d(qX!h(qX(n(qX~O#](qX#h#aX!Z(qX~PIpO#](YO!V(sX!Y(sX~O!Y(ZO!V(rX~O!V(^O~O#]$eO~PIpO!Z(_O~P`OR#zO}#yO!P#{O!i#xO(]VOP!ka[!kao!ka!Y!ka!m!ka#O!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#q!ka#r!ka#s!ka#u!ka#w!ka#y!ka#z!ka(n!ka(u!ka(v!ka~Oa!ka'v!ka's!ka!V!ka!h!kas!ka![!ka%f!ka!d!ka~PKWO!h(`O~O!d#vO#](aO(n'mO!Y(pXa(pX'v(pX~O!h(pX~PMsO!P%fO![%gO!y]O#f(fO#g(eO(P%eO~O!Y(gO!h(oX~O!h(iO~O!P%fO![%gO#g(eO(P%eO~OP(cXR(cX[(cXo(cX}(cX!P(cX!Y(cX!i(cX!m(cX#O(cX#k(cX#l(cX#m(cX#n(cX#o(cX#p(cX#q(cX#r(cX#s(cX#u(cX#w(cX#y(cX#z(cX(](cX(n(cX(u(cX(v(cX~O!d#vO!h(cX~P! aOR(kO}(jO!i#xO#P$dO!y!xa!P!xa~O!u!xa%e!xa![!xa#f!xa#g!xa(P!xa~P!#bO!u(oO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(P!dO(RTO(UUO(]VO(k[O(ziO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<XO!P${O![$|O!f=jO!i$xO#g<_O$V%_O$r<ZO$t<]O$w%`O(P(sO(RTO(UUO(]$uO(u$}O(v%PO~O#h(uO~O!X(wO!h(gP~P%[O(a(yO(k[O~O!P({O!i#xO(a(yO(k[O~OP;jOQ;jOSfOd=fOe!iOmkOo;jOpkOqkOwkOy;jO{;jO!PWO!TkO!UkO![!eO!f;mO!iZO!l;jO!m;jO!n;jO!p;nO!r;qO!u!hO$V!kO(P)YO(RTO(UUO(]VO(k[O(z=dO~O!Y$_Oa$oa'v$oa's$oa!h$oa!V$oa![$oa%f$oa!d$oa~O#t)aO~P!&fOh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{%[O!P${O![$|O!f%aO!i$xO#g%bO$V%_O$r%]O$t%^O$w%`O(P(sO(RTO(UUO(]$uO(u$}O(v%PO~Og(lP~P!+oO})fO!d)eO![$]X$Y$]X$[$]X$^$]X$e$]X~O!d)eO![(wX$Y(wX$[(wX$^(wX$e(wX~O})fO~P!-xO})fO![(wX$Y(wX$[(wX$^(wX$e(wX~O![)hO$Y)lO$[)gO$^)gO$e)mO~O!X)pO~P!(vO$[$hO$^$gO$e)tO~Ok$xX}$xX#P$xX'u$xX(u$xX(v$xX~OgjXg$xXkjX!YjX#]jX~P!/nOu)vO(^)wO(_)yO~Ok*SO}){O'u)|O(u$}O(v%PO~Og)zO~P!0rOg*TO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<XO!P*VO![*WO!f=jO!i$xO#g<_O$V%_O$r<ZO$t<]O$w%`O(RTO(UUO(]$uO(u$}O(v%PO~O!X*ZO(P*UO!h({P~P!1aO#h*]O~O!i*^O~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<XO!P${O![$|O!f=jO!i$xO#g<_O$V%_O$r<ZO$t<]O$w%`O(P*`O(RTO(UUO(]$uO(u$}O(v%PO~O!X*cO!V(|P~P!3`Oo*oOp!nO!P*eO!_*mO!`*gO!a*gO!i*^O#X*nO%]*iO(Q!lO(RTO(UUO(a!mO~O!Z*lO~P!5TO#P$dOk([X}([X'u([X(u([X(v([X!Y([X#]([X~Og([X#}([X~P!6VOk*tO#]*sOg(ZX!Y(ZX~O!Y*uOg(YX~O(P&WOg(YP~Op*xO~O!i*}O~O(P(sO~Om+RO!P%fO!X#iO![%gO!y]O#f#lO#g#iO(P%eO!h(oP~O!d#vO#h+SO~O!P%fO!X+UO!Y(ZO![%gO(P%eO!V(rP~Op'XO!P+WO!X+VO(RTO(UUO(a(yO~O!Z(tP~P!9VO!Y+XOa)QX'v)QX~OP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO(]VO(n$YO(u#|O(v#}O~Oa!ga!Y!ga'v!ga's!ga!V!ga!h!gas!ga![!ga%f!ga!d!ga~P!9}OR#zO}#yO!P#{O!i#xO(]VOP!oa[!oao!oa!Y!oa!m!oa#O!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#q!oa#r!oa#s!oa#u!oa#w!oa#y!oa#z!oa(n!oa(u!oa(v!oa~Oa!oa'v!oa's!oa!V!oa!h!oas!oa![!oa%f!oa!d!oa~P!<eOR#zO}#yO!P#{O!i#xO(]VOP!qa[!qao!qa!Y!qa!m!qa#O!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#s!qa#u!qa#w!qa#y!qa#z!qa(n!qa(u!qa(v!qa~Oa!qa'v!qa's!qa!V!qa!h!qas!qa![!qa%f!qa!d!qa~P!>{Oh%VOk+bO![']O%f+aO~O!d+dOa(XX![(XX'v(XX!Y(XX~Oa%lO![XO'v%lO~Oh%VO!i%cO~Oh%VO!i%cO(P%eO~O!d#vO#h(uO~Ob+oO%g+pO(P+lO(RTO(UUO!Z)UP~O!Y+qO`)TX~O[+uO~O`+vO~O![%}O(P%eO(Q!lO`)TP~Oh%VO#]+{O~Oh%VOk,OO![$|O~O![,QO~O},SO![XO~O%k%tO~O!u,XO~Oe,^O~Ob,_O(P#nO(RTO(UUO!Z)SP~Oe%{O~O%g!QO(P&WO~P=RO[,dO`,cO~OPYOQYOSfOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO!fuO!iZO!lYO!mYO!nYO!pvO!uxO!y]O%e}O(RTO(UUO(]VO(k[O(ziO~O![!eO!r!gO$V!kO(P!dO~P!E{O`,cOa%lO'v%lO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!u!hO$V!kO(P!dO(RTO(UUO(]VO(k[O(ziO~Oa,iO!rwO#t!OO%i!OO%j!OO%k!OO~P!HeO!i&lO~O&Y,oO~O![,qO~O&k,sO&m,tOP&haQ&haS&haY&haa&had&hae&ham&hao&hap&haq&haw&hay&ha{&ha!P&ha!T&ha!U&ha![&ha!f&ha!i&ha!l&ha!m&ha!n&ha!p&ha!r&ha!u&ha!y&ha#t&ha$V&ha%e&ha%g&ha%i&ha%j&ha%k&ha%n&ha%p&ha%s&ha%t&ha%v&ha&S&ha&Y&ha&[&ha&^&ha&`&ha&c&ha&i&ha&o&ha&q&ha&s&ha&u&ha&w&ha's&ha(P&ha(R&ha(U&ha(]&ha(k&ha(z&ha!Z&ha&a&hab&ha&f&ha~O(P,yO~Oh!bX!Y!OX!Z!OX!d!OX!d!bX!i!bX#]!OX~O!Y!bX!Z!bX~P# kO!d-OO#],}Oh(fX!Y#eX!Z#eX!d(fX!i(fX~O!Y(fX!Z(fX~P#!^Oh%VO!d-QO!i%cO!Y!^X!Z!^X~Op!nO!P!oO(RTO(UUO(a!mO~OP;jOQ;jOSfOd=fOe!iOmkOo;jOpkOqkOwkOy;jO{;jO!PWO!TkO!UkO![!eO!f;mO!iZO!l;jO!m;jO!n;jO!p;nO!r;qO!u!hO$V!kO(RTO(UUO(]VO(k[O(z=dO~O(P<fO~P##sO!Y-UO!Z(eX~O!Z-WO~O!d-OO#],}O!Y#eX!Z#eX~O!Y-XO!Z(tX~O!Z-ZO~O!`-[O!a-[O(Q!lO~P##bO!Z-_O~P'_Ok-bO![']O~O!V-gO~Op!xa!_!xa!`!xa!a!xa#Q!xa#R!xa#S!xa#T!xa#U!xa#X!xa#Y!xa(Q!xa(R!xa(U!xa(a!xa(k!xa~P!#bO!m-lO#]-jO~PCSO!`-nO!a-nO(Q!lO~PCrOa%lO#]-jO'v%lO~Oa%lO!d#vO#]-jO'v%lO~Oa%lO!d#vO!m-lO#]-jO'v%lO(n'mO~O'{'uO'|'uO'}-sO~Os-tO~O!V'Sa!Y'Sa~P!9}O!X-xO!V'SX!Y'SX~P%[O!Y(SO!V(da~O!V(da~PGmO!Y(ZO!V(ra~O!P%fO!X-|O![%gO(P%eO!V'YX!Y'YX~O#].OO!Y(pa!h(paa(pa'v(pa~O!d#vO~P#+yO!Y(gO!h(oa~O!P%fO![%gO#g.SO(P%eO~Om.XO!P%fO!X.UO![%gO!y]O#f.WO#g.UO(P%eO!Y']X!h']X~OR.]O!i#xO~Oh%VOk.`O![']O%f._O~Oa#`i!Y#`i'v#`i's#`i!V#`i!h#`is#`i![#`i%f#`i!d#`i~P!9}Ok=pO}){O'u)|O(u$}O(v%PO~O#h#[aa#[a#]#[a'v#[a!Y#[a!h#[a![#[a!V#[a~P#.uO#h([XP([XR([X[([Xa([Xo([X!P([X!i([X!m([X#O([X#k([X#l([X#m([X#n([X#o([X#p([X#q([X#r([X#s([X#u([X#w([X#y([X#z([X'v([X(]([X(n([X!h([X!V([X's([Xs([X![([X%f([X!d([X~P!6VO!Y.mO!h(gX~P!9}O!h.pO~O!V.rO~OP$[OR#zO}#yO!P#{O!i#xO!m$[O(]VO[#jia#jio#ji!Y#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'v#ji(n#ji(u#ji(v#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#k#ji~P#2eO#k$OO~P#2eOP$[OR#zOo$aO}#yO!P#{O!i#xO!m$[O#k$OO#l$PO#m$PO#n$PO(]VO[#jia#ji!Y#ji#O#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'v#ji(n#ji(u#ji(v#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#o#ji~P#5SO#o$QO~P#5SOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO(]VOa#ji!Y#ji#w#ji#y#ji#z#ji'v#ji(n#ji(u#ji(v#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#u#ji~P#7qOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO(]VO(v#}Oa#ji!Y#ji#y#ji#z#ji'v#ji(n#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w$UO~P#:XO#w#ji~P#:XO#u$SO~P#7qOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO(]VO(u#|O(v#}Oa#ji!Y#ji#z#ji'v#ji(n#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#y#ji~P#<}O#y$WO~P#<}OP]XR]X[]Xo]X}]X!P]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X(]]X(n]X(u]X(v]X!Y]X!Z]X~O#}]X~P#?lOP$[OR#zO[<ROo<PO}#yO!P#{O!i#xO!m$[O#O;vO#k;sO#l;tO#m;tO#n;tO#o;uO#p;vO#q;vO#r<QO#s;vO#u;wO#w;yO#y;{O#z;|O(]VO(n$YO(u#|O(v#}O~O#}.tO~P#AyO#P$dO#]<SO$P<SO#}(cX!Z(cX~P! aOa'`a!Y'`a'v'`a's'`a!h'`a!V'`as'`a!['`a%f'`a!d'`a~P!9}O[#jia#jio#ji!Y#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'v#ji(n#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~OP$[OR#zO}#yO!P#{O!i#xO!m$[O#k$OO#l$PO#m$PO#n$PO(]VO(u#ji(v#ji~P#D{Ok=pO}){O'u)|O(u$}O(v%POP#jiR#ji!P#ji!i#ji!m#ji#k#ji#l#ji#m#ji#n#ji(]#ji~P#D{O!Y.xOg(lX~P!0rOg.zO~Oa$Oi!Y$Oi'v$Oi's$Oi!V$Oi!h$Ois$Oi![$Oi%f$Oi!d$Oi~P!9}O$[.{O$^.{O~O$[.|O$^.|O~O!d)eO#].}O![$bX$Y$bX$[$bX$^$bX$e$bX~O!X/OO~O![)hO$Y/QO$[)gO$^)gO$e/RO~O!Y;}O!Z(bX~P#AyO!Z/SO~O!d)eO$e(wX~O$e/UO~Os/VO~P!&fOu)vO(^)wO(_/YO~O!P/]O~O(u$}Ok%^a}%^a'u%^a(v%^a!Y%^a#]%^a~Og%^a#}%^a~P#K}O(v%POk%`a}%`a'u%`a(u%`a!Y%`a#]%`a~Og%`a#}%`a~P#LpO!YfX!dfX!hfX!h$xX(nfX~P!/nO!X/fO!Y(ZO(P/eO!V(rP!V(|P~P!1aOo*oO!_*mO!`*gO!a*gO!i*^O#X*nO%]*iO(Q!lO(RTO(UUO~Op<cO!P/gO!X+VO!Z*lO(a<bO!Z(tP~P#NZO!h/hO~P#.uO!Y/iO!d#vO(n'mO!h({X~O!h/nO~O!P%fO!X*ZO![%gO(P%eO!h({P~O#h/pO~O!V$xX!Y$xX!d%PX~P!/nO!Y/qO!V(|X~P#.uO!d/sO~O!V/uO~OmkO(P/vO~P.iOh%VOo/{O!d#vO!i%cO(n'mO~O!d+dO~Oa%lO!Y0PO'v%lO~O!Z0RO~P!5TO!`0SO!a0SO(Q!lO~P##bOp!nO!P0TO(RTO(UUO(a!mO~O#X0VO~Og%^a!Y%^a#]%^a#}%^a~P!0rOg%`a!Y%`a#]%`a#}%`a~P!0rO(P&WOg'iX!Y'iX~O!Y*uOg(Ya~Og0`O~OR0aO}0aO!P0bO#P$dOkza'uza(uza(vza!Yza#]za~Ogza#}za~P$&ZO}){O'u)|Ok$qa(u$qa(v$qa!Y$qa#]$qa~Og$qa#}$qa~P$'VO}){O'u)|Ok$sa(u$sa(v$sa!Y$sa#]$sa~Og$sa#}$sa~P$'xO#h0eO~Og%Ra!Y%Ra#]%Ra#}%Ra~P!0rO!d#vO~O#h0hO~O!Y+XOa)Qa'v)Qa~OR#zO}#yO!P#{O!i#xO(]VOP!oi[!oio!oi!Y!oi!m!oi#O!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#q!oi#r!oi#s!oi#u!oi#w!oi#y!oi#z!oi(n!oi(u!oi(v!oi~Oa!oi'v!oi's!oi!V!oi!h!ois!oi![!oi%f!oi!d!oi~P$)gOh%VOo%XOp$tOq$tOw%YOy%ZO{<XO!P${O![$|O!f=jO!i$xO#g<_O$V%_O$r<ZO$t<]O$w%`O(RTO(UUO(]$uO(u$}O(v%PO~Om0qO(P0pO~P$+}O!d+dOa(Xa![(Xa'v(Xa!Y(Xa~O#h0wO~O[]X!YfX!ZfX~O!Y0xO!Z)UX~O!Z0zO~O[0{O~Ob0}O(P+lO(RTO(UUO~O![%}O(P%eO`'qX!Y'qX~O!Y+qO`)Ta~O!h1QO~P!9}O[1TO~O`1UO~O#]1XO~Ok1[O![$|O~O(a(yO!Z)RP~Oh%VOk1eO![1bO%f1dO~O[1oO!Y1mO!Z)SX~O!Z1pO~O`1rOa%lO'v%lO~O(P#nO(RTO(UUO~O#P$dO#]$eO$P$eOP(cXR(cX[(cXo(cX}(cX!P(cX!Y(cX!i(cX!m(cX#O(cX#k(cX#l(cX#m(cX#n(cX#o(cX#p(cX#q(cX#r(cX#u(cX#w(cX#y(cX#z(cX(](cX(n(cX(u(cX(v(cX~O#s1uO&W1vOa(cX~P$1eO#]$eO#s1uO&W1vO~Oa1xO~P%[Oa1zO~O&a1}OP&_iQ&_iS&_iY&_ia&_id&_ie&_im&_io&_ip&_iq&_iw&_iy&_i{&_i!P&_i!T&_i!U&_i![&_i!f&_i!i&_i!l&_i!m&_i!n&_i!p&_i!r&_i!u&_i!y&_i#t&_i$V&_i%e&_i%g&_i%i&_i%j&_i%k&_i%n&_i%p&_i%s&_i%t&_i%v&_i&S&_i&Y&_i&[&_i&^&_i&`&_i&c&_i&i&_i&o&_i&q&_i&s&_i&u&_i&w&_i's&_i(P&_i(R&_i(U&_i(]&_i(k&_i(z&_i!Z&_ib&_i&f&_i~Ob2TO!Z2RO&f2SO~P`O![XO!i2VO~O&m,tOP&hiQ&hiS&hiY&hia&hid&hie&him&hio&hip&hiq&hiw&hiy&hi{&hi!P&hi!T&hi!U&hi![&hi!f&hi!i&hi!l&hi!m&hi!n&hi!p&hi!r&hi!u&hi!y&hi#t&hi$V&hi%e&hi%g&hi%i&hi%j&hi%k&hi%n&hi%p&hi%s&hi%t&hi%v&hi&S&hi&Y&hi&[&hi&^&hi&`&hi&c&hi&i&hi&o&hi&q&hi&s&hi&u&hi&w&hi's&hi(P&hi(R&hi(U&hi(]&hi(k&hi(z&hi!Z&hi&a&hib&hi&f&hi~O!V2]O~O!Y!^a!Z!^a~P#AyOp!nO!P!oO!X2cO(a!mO!Y'TX!Z'TX~P@YO!Y-UO!Z(ea~O!Y'ZX!Z'ZX~P!9VO!Y-XO!Z(ta~O!Z2jO~P'_Oa%lO#]2sO'v%lO~Oa%lO!d#vO#]2sO'v%lO~Oa%lO!d#vO!m2wO#]2sO'v%lO(n'mO~Oa%lO'v%lO~P!9}O!Y$_Os$oa~O!V'Si!Y'Si~P!9}O!Y(SO!V(di~O!Y(ZO!V(ri~O!V(si!Y(si~P!9}O!Y(pi!h(pia(pi'v(pi~P!9}O#]2yO!Y(pi!h(pia(pi'v(pi~O!Y(gO!h(oi~O!P%fO![%gO!y]O#f3OO#g2}O(P%eO~O!P%fO![%gO#g2}O(P%eO~Ok3VO![']O%f3UO~Oh%VOk3VO![']O%f3UO~O#h%^aP%^aR%^a[%^aa%^ao%^a!P%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'v%^a(]%^a(n%^a!h%^a!V%^a's%^as%^a![%^a%f%^a!d%^a~P#K}O#h%`aP%`aR%`a[%`aa%`ao%`a!P%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'v%`a(]%`a(n%`a!h%`a!V%`a's%`as%`a![%`a%f%`a!d%`a~P#LpO#h%^aP%^aR%^a[%^aa%^ao%^a!P%^a!Y%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'v%^a(]%^a(n%^a!h%^a!V%^a's%^a#]%^as%^a![%^a%f%^a!d%^a~P#.uO#h%`aP%`aR%`a[%`aa%`ao%`a!P%`a!Y%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'v%`a(]%`a(n%`a!h%`a!V%`a's%`a#]%`as%`a![%`a%f%`a!d%`a~P#.uO#hzaPza[zaazaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza'vza(]za(nza!hza!Vza'szasza![za%fza!dza~P$&ZO#h$qaP$qaR$qa[$qaa$qao$qa!P$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa'v$qa(]$qa(n$qa!h$qa!V$qa's$qas$qa![$qa%f$qa!d$qa~P$'VO#h$saP$saR$sa[$saa$sao$sa!P$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa'v$sa(]$sa(n$sa!h$sa!V$sa's$sas$sa![$sa%f$sa!d$sa~P$'xO#h%RaP%RaR%Ra[%Raa%Rao%Ra!P%Ra!Y%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra'v%Ra(]%Ra(n%Ra!h%Ra!V%Ra's%Ra#]%Ras%Ra![%Ra%f%Ra!d%Ra~P#.uOa#`q!Y#`q'v#`q's#`q!V#`q!h#`qs#`q![#`q%f#`q!d#`q~P!9}O!X3_O!Y'UX!h'UX~P%[O!Y.mO!h(ga~O!Y.mO!h(ga~P!9}O!V3bO~O#}!ka!Z!ka~PKWO#}!ga!Y!ga!Z!ga~P#AyO#}!oa!Z!oa~P!<eO#}!qa!Z!qa~P!>{Og'XX!Y'XX~P!+oO!Y.xOg(la~OSfO![3vO$c3wO~O!Z3{O~Os3|O~P#.uOa$lq!Y$lq'v$lq's$lq!V$lq!h$lqs$lq![$lq%f$lq!d$lq~P!9}O!V4OO~P!&fO!P4PO~O}){O'u)|O(v%POk'ea(u'ea!Y'ea#]'ea~Og'ea#}'ea~P%+ZO}){O'u)|Ok'ga(u'ga(v'ga!Y'ga#]'ga~Og'ga#}'ga~P%+|O(n$YO~P#.uO!VfX!V$xX!YfX!Y$xX!d%PX#]fX~P!/nO(P<lO~P!1aO!P%fO!X4SO![%gO(P%eO!Y'aX!h'aX~O!Y/iO!h({a~O!Y/iO!d#vO!h({a~O!Y/iO!d#vO(n'mO!h({a~Og$zi!Y$zi#]$zi#}$zi~P!0rO!X4[O!V'cX!Y'cX~P!3`O!Y/qO!V(|a~O!Y/qO!V(|a~P#.uOP]XR]X[]Xo]X}]X!P]X!V]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X(]]X(n]X(u]X(v]X~O!d%WX#s%WX~P%/mO!d#vO#s4aO~Oh%VO!d#vO!i%cO~Oh%VOo4fO!i%cO(n'mO~Oo4kO!d#vO(n'mO~Op!nO!P4lO(RTO(UUO(a!mO~O(u$}Ok%^i}%^i'u%^i(v%^i!Y%^i#]%^i~Og%^i#}%^i~P%3^O(v%POk%`i}%`i'u%`i(u%`i!Y%`i#]%`i~Og%`i#}%`i~P%4POg(Zi!Y(Zi~P!0rO#]4rOg(Zi!Y(Zi~P!0rO!h4uO~Oa$mq!Y$mq'v$mq's$mq!V$mq!h$mqs$mq![$mq%f$mq!d$mq~P!9}O!V4yO~O!Y4zO![(}X~P#.uOa$xX![$xX%Z]X'v$xX!Y$xX~P!/nO%Z4}OalXklX}lX![lX'ulX'vlX(ulX(vlX!YlX~O%Z4}O~Ob5TO%g5UO(P+lO(RTO(UUO!Y'pX!Z'pX~O!Y0xO!Z)Ua~O[5YO~O`5ZO~Oa%lO'v%lO~P#.uO!Y5cO#]5eO!Z)RX~O!Z5fO~Oo5lOp!nO!P*eO!_!yO!`!vO!a!vO!y;kO#Q!pO#R!pO#S!pO#T!pO#U!pO#X5kO#Y!zO(Q!lO(RTO(UUO(a!mO(k!sO~O!Z5jO~P%9SOk5qO![1bO%f5pO~Oh%VOk5qO![1bO%f5pO~Ob5xO(P#nO(RTO(UUO!Y'oX!Z'oX~O!Y1mO!Z)Sa~O(RTO(UUO(a5zO~O`6OO~O#s6RO&W6SO~PMsO!h6TO~P%[Oa6VO~Oa6VO~P%[Ob2TO!Z6[O&f2SO~P`O!d6^O~O!d6`Oh(fi!Y(fi!Z(fi!d(fi!i(fio(fi(n(fi~O!Y#ei!Z#ei~P#AyO#]6aO!Y#ei!Z#ei~O!Y!^i!Z!^i~P#AyOa%lO#]6jO'v%lO~Oa%lO!d#vO#]6jO'v%lO~O!Y(pq!h(pqa(pq'v(pq~P!9}O!Y(gO!h(oq~O!P%fO![%gO#g6qO(P%eO~O![']O%f6tO~Ok6xO![']O%f6tO~O#h'eaP'eaR'ea['eaa'eao'ea!P'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea'v'ea(]'ea(n'ea!h'ea!V'ea's'eas'ea!['ea%f'ea!d'ea~P%+ZO#h'gaP'gaR'ga['gaa'gao'ga!P'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga'v'ga(]'ga(n'ga!h'ga!V'ga's'gas'ga!['ga%f'ga!d'ga~P%+|O#h$ziP$ziR$zi[$zia$zio$zi!P$zi!Y$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi'v$zi(]$zi(n$zi!h$zi!V$zi's$zi#]$zis$zi![$zi%f$zi!d$zi~P#.uO#h%^iP%^iR%^i[%^ia%^io%^i!P%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i'v%^i(]%^i(n%^i!h%^i!V%^i's%^is%^i![%^i%f%^i!d%^i~P%3^O#h%`iP%`iR%`i[%`ia%`io%`i!P%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i'v%`i(]%`i(n%`i!h%`i!V%`i's%`is%`i![%`i%f%`i!d%`i~P%4PO!Y'Ua!h'Ua~P!9}O!Y.mO!h(gi~O#}#`i!Y#`i!Z#`i~P#AyOP$[OR#zO}#yO!P#{O!i#xO!m$[O(]VO[#jio#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(n#ji(u#ji(v#ji!Y#ji!Z#ji~O#k#ji~P%LRO#k;sO~P%LROP$[OR#zOo<PO}#yO!P#{O!i#xO!m$[O#k;sO#l;tO#m;tO#n;tO(]VO[#ji#O#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(n#ji(u#ji(v#ji!Y#ji!Z#ji~O#o#ji~P%NZO#o;uO~P%NZOP$[OR#zO[<ROo<PO}#yO!P#{O!i#xO!m$[O#O;vO#k;sO#l;tO#m;tO#n;tO#o;uO#p;vO#q;vO#r<QO#s;vO(]VO#w#ji#y#ji#z#ji#}#ji(n#ji(u#ji(v#ji!Y#ji!Z#ji~O#u#ji~P&!cOP$[OR#zO[<ROo<PO}#yO!P#{O!i#xO!m$[O#O;vO#k;sO#l;tO#m;tO#n;tO#o;uO#p;vO#q;vO#r<QO#s;vO#u;wO(]VO(v#}O#y#ji#z#ji#}#ji(n#ji(u#ji!Y#ji!Z#ji~O#w;yO~P&$dO#w#ji~P&$dO#u;wO~P&!cOP$[OR#zO[<ROo<PO}#yO!P#{O!i#xO!m$[O#O;vO#k;sO#l;tO#m;tO#n;tO#o;uO#p;vO#q;vO#r<QO#s;vO#u;wO#w;yO(]VO(u#|O(v#}O#z#ji#}#ji(n#ji!Y#ji!Z#ji~O#y#ji~P&&sO#y;{O~P&&sOa#{y!Y#{y'v#{y's#{y!V#{y!h#{ys#{y![#{y%f#{y!d#{y~P!9}O[#jio#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(n#ji!Y#ji!Z#ji~OP$[OR#zO}#yO!P#{O!i#xO!m$[O#k;sO#l;tO#m;tO#n;tO(]VO(u#ji(v#ji~P&)oOk=qO}){O'u)|O(u$}O(v%POP#jiR#ji!P#ji!i#ji!m#ji#k#ji#l#ji#m#ji#n#ji(]#ji~P&)oO#P$dOP([XR([X[([Xk([Xo([X}([X!P([X!i([X!m([X#O([X#k([X#l([X#m([X#n([X#o([X#p([X#q([X#r([X#s([X#u([X#w([X#y([X#z([X#}([X'u([X(]([X(n([X(u([X(v([X!Y([X!Z([X~O#}$Oi!Y$Oi!Z$Oi~P#AyO#}!oi!Z!oi~P$)gOg'Xa!Y'Xa~P!0rO!Z7[O~O!Y'`a!Z'`a~P#AyO!V7]O~P#.uO!d#vO(n'mO!Y'aa!h'aa~O!Y/iO!h({i~O!Y/iO!d#vO!h({i~Og$zq!Y$zq#]$zq#}$zq~P!0rO!V'ca!Y'ca~P#.uO!d7dO~O!Y/qO!V(|i~P#.uO!Y/qO!V(|i~O!V7gO~Oh%VOo7lO!i%cO(n'mO~O!d#vO#s7nO~Oo7qO!d#vO(n'mO~O}){O'u)|O(v%POk'fa(u'fa!Y'fa#]'fa~Og'fa#}'fa~P&2pO}){O'u)|Ok'ha(u'ha(v'ha!Y'ha#]'ha~Og'ha#}'ha~P&3cO!V7sO~Og$|q!Y$|q#]$|q#}$|q~P!0rOa$my!Y$my'v$my's$my!V$my!h$mys$my![$my%f$my!d$my~P!9}O!d6`O~O!Y4zO![(}a~O![']OP$SaR$Sa[$Sao$Sa}$Sa!P$Sa!Y$Sa!i$Sa!m$Sa#O$Sa#k$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#u$Sa#w$Sa#y$Sa#z$Sa(]$Sa(n$Sa(u$Sa(v$Sa~O%f6tO~P&5lOa#`y!Y#`y'v#`y's#`y!V#`y!h#`ys#`y![#`y%f#`y!d#`y~P!9}O[7xO~Ob7zO(P+lO(RTO(UUO~O!Y0xO!Z)Ui~O`8OO~O(a(yO!Y'lX!Z'lX~O!Y5cO!Z)Ra~O!Z8XO~P%9SO(k!sO~P$$iO#X8YO~O![1bO~O![1bO%f8[O~Ok8_O![1bO%f8[O~O[8dO!Y'oa!Z'oa~O!Y1mO!Z)Si~O!h8hO~O!h8iO~O!h8lO~O!h8lO~P%[Oa8nO~O!d8oO~O!h8pO~O!Y(si!Z(si~P#AyOa%lO#]8xO'v%lO~O!Y(py!h(pya(py'v(py~P!9}O!Y(gO!h(oy~O%f8{O~P&5lO![']O%f8{O~O#h$zqP$zqR$zq[$zqa$zqo$zq!P$zq!Y$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq'v$zq(]$zq(n$zq!h$zq!V$zq's$zq#]$zqs$zq![$zq%f$zq!d$zq~P#.uO#h'faP'faR'fa['faa'fao'fa!P'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa'v'fa(]'fa(n'fa!h'fa!V'fa's'fas'fa!['fa%f'fa!d'fa~P&2pO#h'haP'haR'ha['haa'hao'ha!P'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha'v'ha(]'ha(n'ha!h'ha!V'ha's'has'ha!['ha%f'ha!d'ha~P&3cO#h$|qP$|qR$|q[$|qa$|qo$|q!P$|q!Y$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q'v$|q(]$|q(n$|q!h$|q!V$|q's$|q#]$|qs$|q![$|q%f$|q!d$|q~P#.uO!Y'Ui!h'Ui~P!9}O#}#`q!Y#`q!Z#`q~P#AyO(u$}OP%^aR%^a[%^ao%^a!P%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a#}%^a(]%^a(n%^a!Y%^a!Z%^a~Ok%^a}%^a'u%^a(v%^a~P&FnO(v%POP%`aR%`a[%`ao%`a!P%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a#}%`a(]%`a(n%`a!Y%`a!Z%`a~Ok%`a}%`a'u%`a(u%`a~P&HuOk=qO}){O'u)|O(v%PO~P&FnOk=qO}){O'u)|O(u$}O~P&HuOR0aO}0aO!P0bO#P$dOPza[zakzaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza#}za'uza(]za(nza(uza(vza!Yza!Zza~O}){O'u)|OP$qaR$qa[$qak$qao$qa!P$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa#}$qa(]$qa(n$qa(u$qa(v$qa!Y$qa!Z$qa~O}){O'u)|OP$saR$sa[$sak$sao$sa!P$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa#}$sa(]$sa(n$sa(u$sa(v$sa!Y$sa!Z$sa~Ok=qO}){O'u)|O(u$}O(v%PO~OP%RaR%Ra[%Rao%Ra!P%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra#}%Ra(]%Ra(n%Ra!Y%Ra!Z%Ra~P'#zO#}$lq!Y$lq!Z$lq~P#AyO#}$mq!Y$mq!Z$mq~P#AyO!Z9YO~O#}9ZO~P!0rO!d#vO!Y'ai!h'ai~O!d#vO(n'mO!Y'ai!h'ai~O!Y/iO!h({q~O!V'ci!Y'ci~P#.uO!Y/qO!V(|q~Oo9bO!d#vO(n'mO~O[9dO!V9cO~P#.uO!V9cO~O!d#vO#s9jO~Og(Zy!Y(Zy~P!0rO!Y'ja!['ja~P#.uOa%Yq![%Yq'v%Yq!Y%Yq~P#.uO[9mO~O!Y0xO!Z)Uq~O#]9qO!Y'la!Z'la~O!Y5cO!Z)Ri~P#AyO!P9sO~O![1bO%f9vO~O(RTO(UUO(a9{O~O!Y1mO!Z)Sq~O!h:OO~O!h:PO~O!h:QO~O!h:QO~P%[O#]:TO!Y#ey!Z#ey~O!Y#ey!Z#ey~P#AyO%f:YO~P&5lO![']O%f:YO~O#}#{y!Y#{y!Z#{y~P#AyOP$ziR$zi[$zio$zi!P$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi#}$zi(]$zi(n$zi!Y$zi!Z$zi~P'#zO}){O'u)|O(v%POP'eaR'ea['eak'eao'ea!P'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea#}'ea(]'ea(n'ea(u'ea!Y'ea!Z'ea~O}){O'u)|OP'gaR'ga['gak'gao'ga!P'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga#}'ga(]'ga(n'ga(u'ga(v'ga!Y'ga!Z'ga~O(u$}OP%^iR%^i[%^ik%^io%^i}%^i!P%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i#}%^i'u%^i(]%^i(n%^i(v%^i!Y%^i!Z%^i~O(v%POP%`iR%`i[%`ik%`io%`i}%`i!P%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i#}%`i'u%`i(]%`i(n%`i(u%`i!Y%`i!Z%`i~O#}$my!Y$my!Z$my~P#AyO#}#`y!Y#`y!Z#`y~P#AyO!d#vO!Y'aq!h'aq~O!Y/iO!h({y~O!V'cq!Y'cq~P#.uOo:dO!d#vO(n'mO~O[:hO!V:gO~P#.uO!V:gO~O!Y0xO!Z)Uy~O!Y5cO!Z)Rq~O(P:nO~O![1bO%f:qO~O!h:tO~O%f:yO~P&5lOP$zqR$zq[$zqo$zq!P$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq#}$zq(]$zq(n$zq!Y$zq!Z$zq~P'#zO}){O'u)|O(v%POP'faR'fa['fak'fao'fa!P'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa#}'fa(]'fa(n'fa(u'fa!Y'fa!Z'fa~O}){O'u)|OP'haR'ha['hak'hao'ha!P'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha#}'ha(]'ha(n'ha(u'ha(v'ha!Y'ha!Z'ha~OP$|qR$|q[$|qo$|q!P$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q#}$|q(]$|q(n$|q!Y$|q!Z$|q~P'#zOg%b!Z!Y%b!Z#]%b!Z#}%b!Z~P!0rO!V:}O~P#.uOo;OO!d#vO(n'mO~O[;QO!V:}O~P#.uO!Y'lq!Z'lq~P#AyO!Y#e!Z!Z#e!Z~P#AyO#h%b!ZP%b!ZR%b!Z[%b!Za%b!Zo%b!Z!P%b!Z!Y%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z'v%b!Z(]%b!Z(n%b!Z!h%b!Z!V%b!Z's%b!Z#]%b!Zs%b!Z![%b!Z%f%b!Z!d%b!Z~P#.uOo;YO!d#vO(n'mO~O!V;ZO~P#.uOo;bO!d#vO(n'mO~O!V;cO~P#.uOP%b!ZR%b!Z[%b!Zo%b!Z!P%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z#}%b!Z(]%b!Z(n%b!Z!Y%b!Z!Z%b!Z~P'#zOo;fO!d#vO(n'mO~Os(bX~P1qO}%pO~P!(vO(Q!lO~P!(vO!VfX!YfX#]fX~P%/mOP]XR]X[]Xo]X}]X!P]X!Y]X!YfX!i]X!m]X#O]X#P]X#]]X#]fX#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X(]]X(n]X(u]X(v]X~O!dfX!h]X!hfX(nfX~P'HXOP;jOQ;jOSfOd=fOe!iOmkOo;jOpkOqkOwkOy;jO{;jO!PWO!TkO!UkO![XO!f;mO!iZO!l;jO!m;jO!n;jO!p;nO!r;qO!u!hO$V!kO(P)YO(RTO(UUO(]VO(k[O(z=dO~O!Y;}O!Z$oa~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<YO!P${O![$|O!f=kO!i$xO#g<`O$V%_O$r<[O$t<^O$w%`O(P(sO(RTO(UUO(]$uO(u$}O(v%PO~O#t)aO~P'L}Oo!bX(n!bX~P# kOo(fX(n(fX~P#!^O!Z]X!ZfX~P'HXO!VfX!V$xX!YfX!Y$xX#]fX~P!/nO#h;rO~O!d#vO#h;rO~O#]<SO~O#s;vO~O#]<dO!Y(sX!Z(sX~O#]<SO!Y(qX!Z(qX~O#h<eO~Og<gO~P!0rO#h<mO~O#h<nO~O!d#vO#h<oO~O!d#vO#h<eO~O#}<pO~P#AyO#h<qO~O#h<rO~O#h<wO~O#h<xO~O#h<yO~O#h<zO~O#}<{O~P!0rO#}<|O~P!0rO#P#Q#R#T#U#X#f#g#r(z$r$t$w%Z%e%f%g%n%p%s%t%v%x~'zT#l!U'x(Q#mp#k#no}'y$['y(P$^(a~",goto:"$6w)YPPPPPP)ZPP)^P)oP+P/RPPPP6XPP6oPP<g@VP@jP@jPPP@jPBnP@jP@jP@jPBrPBwPCfPH`PPPHdPPPPHdKgPPPKmL_PHdPHdPPNmHdPPPHdPHdP!!tHdP!&[!'a!'jP!(^!(b!(^!+oPPPPPPP!,`!'aPP!,p!.bP!1nHdHd!1s!5P!9m!9m!=lPPP!=tHdPPPPPPPPPPP!ATP!BbPPHd!CsPHdPHdHdHdHdHdPHd!EVP!HaP!KgP!Kk!Ku!Ky!KyP!H^P!K}!K}P# TP# XHdHd# _#$dBr@jP@jP@j@jP#%q@j@j#(P@j#*s@j#,{@j@j#-k#/{#/{#0Q#0Z#/{#0fP#/{P@j#1O@j#4u@j@j6XPPP#8rPPP#9]#9]P#9]P#9s#9]PP#9yP#9pP#9p#:^#9p#:x#;O#;R)^#;U)^P#;]#;]#;]P)^P)^P)^P)^PP)^P#;c#;fP#;f)^P#;jP#;mP)^P)^P)^P)^P)^P)^)^PP#;s#;y#<U#<[#<b#<h#<n#<|#=S#=^#=d#=n#=t#>U#>[#>|#?`#?f#?l#?z#@a#BQ#B`#Bg#C}#D]#Ey#FX#F_#Fe#Fk#Fu#F{#GR#G]#Go#GuPPPPPPPPPPP#G{PPPPPPP#Hp#Kw#Ma#Mh#MpPPP$%OP$%X$(Q$.k$.n$.q$/p$/s$/z$0SP$0Y$0]P$0y$0}$1u$3T$3Y$3pPP$3u$3{$4PP$4S$4W$4[$5W$5o$6W$6[$6_$6b$6h$6k$6o$6sR!|RoqOXst!Z#d%k&o&q&r&t,l,q1}2QY!vQ']-^1b5iQ%rvQ%zyQ&R|Q&g!VS'T!e-UQ'c!iS'i!r!yU*g$|*W*kQ+j%{Q+w&TQ,]&aQ-['[Q-f'dQ-n'jQ0S*mQ1l,^R<a;n%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z*e+S+W,i,l,q-b-j-x.O.m.t/g0T0b0h0w1e1u1v1x1z1}2Q2S2s2y3_4l5q6R6S6V6j8_8n8xS#q];k!r)[$Z$n'U)p,}-Q/O2c3v5e6a9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gU*z%[<X<YQ+o%}Q,_&dQ,f&lQ0n+bQ0r+dQ0}+pQ1t,dQ3R.`Q5T0xQ5x1mQ6v3VQ7z5UR9O6x'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=g!S!nQ!r!v!y!z$|'T'[']'i'j'k*g*k*m*n-U-[-^-n0S0V1b5i5k%S$ti#v$b$c$d$x${%O%Q%]%^%b)v*O*Q*S*V*]*c*s*t+a+d+{,O._.x/]/f/p/q/s0W0Y0e1X1[1d3U4P4Q4[4a4r4z4}5p6t7d7n8[8{9Z9d9j9v:Y:h:q:y;Q<Q<R<T<U<V<W<Z<[<]<^<_<`<h<i<j<k<m<n<q<r<s<t<u<v<w<x<{<|=d=l=m=p=qQ&U|Q'R!eS'X%g-XQ+o%}Q,_&dQ0d*}Q0}+pQ1S+vQ1s,cQ1t,dQ5T0xQ5^1UQ5x1mQ5{1oQ5|1rQ7z5UQ7}5ZQ8g6OQ9p8OQ9|8dR<c*WrnOXst!V!Z#d%k&f&o&q&r&t,l,q1}2QR,a&h&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=f=g[#]WZ#W#Z'U(Q!b%hm#h#i#l$x%c%f(Z(e(f(g*V*Z*^+U+V+X,h-O-|.S.T.U.W/f/i2V2}3O4S6`6qQ%uxQ%yyS&O|&TQ&[!TQ'`!hQ'b!iQ(n#sS+i%z%{Q+m%}Q,W&_Q,[&aS-e'c'dQ.b(oQ0v+jQ0|+pQ1O+qQ1R+uQ1g,XS1k,],^Q2o-fQ5S0xQ5W0{Q5]1TQ5w1lQ7y5UQ7|5YQ9l7xR:k9m!O$zi$d%O%Q%]%^%b*O*Q*]*s*t.x/p0W0Y0e4Q4r9Z=d=l=m!^%wy!i!u%y%z%{'S'b'c'd'h'r*f+i+j-R-e-f-m/y/|0v2h2o2v4d4e4h7k9fQ+c%uQ+|&XQ,P&YQ,Z&aQ.a(nQ1f,WU1j,[,],^Q3W.bQ5r1gS5v1k1lQ8c5w#d=h#v$b$c$x${)v*S*V*c+a+d+{,O._/]/f/q/s1X1[1d3U4P4[4a4z4}5p6t7d7n8[8{9d9j9v:Y:h:q:y;Q<T<V<Z<]<_<h<j<m<q<s<u<w<{=p=qo=i<Q<R<U<W<[<^<`<i<k<n<r<t<v<x<|W%Ti%V*u=dS&X!Q&fQ&Y!RQ&Z!SR+z&V%T%Si#v$b$c$d$x${%O%Q%]%^%b)v*O*Q*S*V*]*c*s*t+a+d+{,O._.x/]/f/p/q/s0W0Y0e1X1[1d3U4P4Q4[4a4r4z4}5p6t7d7n8[8{9Z9d9j9v:Y:h:q:y;Q<Q<R<T<U<V<W<Z<[<]<^<_<`<h<i<j<k<m<n<q<r<s<t<u<v<w<x<{<|=d=l=m=p=qT)w$u)xV*z%[<X<YW'X!e%g*W-XS(z#y#zQ+^%pQ+t&QS.Z(j(kQ1],QQ4s0aR8S5c'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=g$i$^c#Y#e%o%q%s(P(V(q(v)O)P)Q)R)S)T)U)V)W)X)Z)])_)d)n+_+s-S-q-v-{-}.l.o.s.u.v.w/Z0f2^2a2q2x3^3c3d3e3f3g3h3i3j3k3l3m3n3o3r3s3z4w5Q6c6i6n6}7O7X7Y8U8r8v9Q9W9X:V:m:u;l=ZT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gQ'V!eR2d-U!W!nQ!e!r!v!y!z$|'T'[']'i'j'k*W*g*k*m*n-U-[-^-n0S0V1b5i5kR1_,SnqOXst!Z#d%k&o&q&r&t,l,q1}2QQ&v!^Q's!xS(p#u;rQ+g%xQ,U&[Q,V&^Q-c'aQ-p'lS.k(u<eS0g+S<oQ0t+hQ1a,TQ2U,sQ2W,tQ2`-PQ2m-dQ2p-hS4x0h<yQ5O0uS5R0w<zQ6b2bQ6f2nQ6k2uQ7w5PQ8s6dQ8t6gQ8w6lR:S8p$d$]c#Y#e%q%s(P(V(q(v)O)P)Q)R)S)T)U)V)W)X)Z)])_)d)n+_+s-S-q-v-{-}.l.o.s.v.w/Z0f2^2a2q2x3^3c3d3e3f3g3h3i3j3k3l3m3n3o3r3s3z4w5Q6c6i6n6}7O7X7Y8U8r8v9Q9W9X:V:m:u;l=ZS(l#p'fQ(|#zS+]%o.uS.[(k(mR3P.]'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gS#q];kQ&q!XQ&r!YQ&t![Q&u!]R1|,oQ'^!hQ+`%uQ-a'`S.^(n+cQ2k-`W3T.a.b0m0oQ6e2lW6r3Q3S3W4|U8z6s6u6wU:X8|8}9PS:w:W:ZQ;U:xR;^;VU!wQ']-^T5g1b5i!Q_OXZ`st!V!Z#d#h%c%k&f&h&o&q&r&t(g,l,q.T1}2Q]!pQ!r']-^1b5iT#q];k%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z*e+S+W+b,i,l,q-b-j-x.O.`.m.t/g0T0b0h0w1e1u1v1x1z1}2Q2S2s2y3V3_4l5q6R6S6V6j6x8_8n8xS(z#y#zS.Z(j(k!s=Q$Z$n'U)p,}-Q/O2c3v5e6a9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gU$fd)[,fS(m#p'fU*r%R(t3qU0c*y.g7TQ4|0nQ6s3RQ8}6vR:Z9Om!tQ!r!v!y!z']'i'j'k-^-n1b5i5kQ'q!uS(c#g1wS-l'h'tQ/l*YQ/y*fQ2w-oQ4W/mQ4d/{Q4e/|Q4j0UQ7`4RS7k4f4hS7o4k4mQ9]7aQ9a7gQ9f7lQ9k7qS:c9b9cS:|:d:gS;X:};OS;a;Y;ZS;e;b;cR;h;fQ#wbQ'p!uS(b#g1wS(d#m+RQ+T%dQ+e%vQ+k%|U-k'h'q'tQ.P(cQ/k*YQ/z*fQ/}*hQ0s+fQ1h,YS2t-l-oQ2|.XS4V/l/mQ4`/wS4c/y0UQ4g0OQ5t1iQ6m2wQ7_4RQ7c4WU7j4d4j4mQ7m4iQ8a5uS9[7`7aQ9`7gQ9h7oQ9i7pQ9y8bQ:a9]S:b9a9cQ:j9kQ:s9zS:{:c:gS;W:|:}S;`;X;ZS;d;a;cQ;g;eQ;i;hQ=T=OQ=`=XR=a=YV!wQ']-^%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z*e+S+W+b,i,l,q-b-j-x.O.`.m.t/g0T0b0h0w1e1u1v1x1z1}2Q2S2s2y3V3_4l5q6R6S6V6j6x8_8n8xS#wz!j!r<}$Z$n'U)p,}-Q/O2c3v5e6a9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gR=T=f%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z*e+S+W+b,i,l,q-b-j-x.O.`.m.t/g0T0b0h0w1e1u1v1x1z1}2Q2S2s2y3V3_4l5q6R6S6V6j6x8_8n8xQ%dj!^%vy!i!u%y%z%{'S'b'c'd'h'r*f+i+j-R-e-f-m/y/|0v2h2o2v4d4e4h7k9fS%|z!jQ+f%wQ,Y&aW1i,Z,[,],^U5u1j1k1lS8b5v5wQ9z8c!r=O$Z$n'U)p,}-Q/O2c3v5e6a9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gQ=X=eR=Y=f%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(S(Y(a(u(w({)z*e+S+W+b,i,l,q-b-j-x.O.`.m.t/g0T0b0h0w1e1u1v1x1z1}2Q2S2s2y3V3_4l5q6R6S6V6j6x8_8n8xY#bWZ#W#Z(Q!b%hm#h#i#l$x%c%f(Z(e(f(g*V*Z*^+U+V+X,h-O-|.S.T.U.W/f/i2V2}3O4S6`6qQ,g&l!p=P$Z$n)p,}-Q/O2c3v5e6a9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gR=S'UU'Y!e%g*WR2f-X%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z*e+S+W,i,l,q-b-j-x.O.m.t/g0T0b0h0w1e1u1v1x1z1}2Q2S2s2y3_4l5q6R6S6V6j8_8n8x!r)[$Z$n'U)p,}-Q/O2c3v5e6a9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gQ,f&lQ0n+bQ3R.`Q6v3VR9O6x!b$Tc#Y%o(P(V(q(v)W)X)])d+s-q-v-{-}.l.o/Z0f2q2x3^3n4w5Q6i6n6}8v:V;l!P;x)Z)n-S.u2^2a3c3l3m3r3z6c7O7X7Y8U8r9Q9W9X:m:u=Z!f$Vc#Y%o(P(V(q(v)T)U)W)X)])d+s-q-v-{-}.l.o/Z0f2q2x3^3n4w5Q6i6n6}8v:V;l!T;z)Z)n-S.u2^2a3c3i3j3l3m3r3z6c7O7X7Y8U8r9Q9W9X:m:u=Z!^$Zc#Y%o(P(V(q(v)])d+s-q-v-{-}.l.o/Z0f2q2x3^3n4w5Q6i6n6}8v:V;lQ4Q/dz=g)Z)n-S.u2^2a3c3r3z6c7O7X7Y8U8r9Q9W9X:m:u=ZQ=l=nR=m=o'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gS$oh$pR3w.}'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t.}/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gT$kf$qQ$ifS)g$l)kR)s$qT$jf$qT)i$l)k'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t.}/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gT$oh$pQ$rhR)r$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z*e+S+W+b,i,l,q-b-j-x.O.`.m.t/g0T0b0h0w1e1u1v1x1z1}2Q2S2s2y3V3_4l5q6R6S6V6j6x8_8n8x!s=e$Z$n'U)p,}-Q/O2c3v5e6a9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=g#glOPXZst!Z!`!o#S#d#o#{$n%k&h&k&l&o&q&r&t&x'Q'_({)p*e+W+b,i,l,q-b.`/O/g0T0b1e1u1v1x1z1}2Q2S3V3v4l5q6R6S6V6x8_8n!O%Ri$d%O%Q%]%^%b*O*Q*]*s*t.x/p0W0Y0e4Q4r9Z=d=l=m#d(t#v$b$c$x${)v*S*V*c+a+d+{,O._/]/f/q/s1X1[1d3U4P4[4a4z4}5p6t7d7n8[8{9d9j9v:Y:h:q:y;Q<T<V<Z<]<_<h<j<m<q<s<u<w<{=p=qQ+O%`Q/[){o3q<Q<R<U<W<[<^<`<i<k<n<r<t<v<x<|!O$yi$d%O%Q%]%^%b*O*Q*]*s*t.x/p0W0Y0e4Q4r9Z=d=l=mQ*_$zU*h$|*W*kQ+P%aQ0O*i#d=V#v$b$c$x${)v*S*V*c+a+d+{,O._/]/f/q/s1X1[1d3U4P4[4a4z4}5p6t7d7n8[8{9d9j9v:Y:h:q:y;Q<T<V<Z<]<_<h<j<m<q<s<u<w<{=p=qn=W<Q<R<U<W<[<^<`<i<k<n<r<t<v<x<|Q=[=hQ=]=iQ=^=jR=_=k!O%Ri$d%O%Q%]%^%b*O*Q*]*s*t.x/p0W0Y0e4Q4r9Z=d=l=m#d(t#v$b$c$x${)v*S*V*c+a+d+{,O._/]/f/q/s1X1[1d3U4P4[4a4z4}5p6t7d7n8[8{9d9j9v:Y:h:q:y;Q<T<V<Z<]<_<h<j<m<q<s<u<w<{=p=qo3q<Q<R<U<W<[<^<`<i<k<n<r<t<v<x<|noOXst!Z#d%k&o&q&r&t,l,q1}2QS*b${*VQ,z&{Q,{&}R4Z/q%S%Si#v$b$c$d$x${%O%Q%]%^%b)v*O*Q*S*V*]*c*s*t+a+d+{,O._.x/]/f/p/q/s0W0Y0e1X1[1d3U4P4Q4[4a4r4z4}5p6t7d7n8[8{9Z9d9j9v:Y:h:q:y;Q<Q<R<T<U<V<W<Z<[<]<^<_<`<h<i<j<k<m<n<q<r<s<t<u<v<w<x<{<|=d=l=m=p=qQ+}&YQ1Z,PQ5a1YR8R5bV*j$|*W*kU*j$|*W*kT5h1b5iS/w*e/gQ4i0TT7p4l9sQ+e%vQ/}*hQ0s+fQ1h,YQ5t1iQ8a5uQ9y8bR:s9z!O%Oi$d%O%Q%]%^%b*O*Q*]*s*t.x/p0W0Y0e4Q4r9Z=d=l=mr*O$v)b*P*q+Q/o0[0]3t4X4v7^7r:`=U=b=cS0W*p0X#d<T#v$b$c$x${)v*S*V*c+a+d+{,O._/]/f/q/s1X1[1d3U4P4[4a4z4}5p6t7d7n8[8{9d9j9v:Y:h:q:y;Q<T<V<Z<]<_<h<j<m<q<s<u<w<{=p=qn<U<Q<R<U<W<[<^<`<i<k<n<r<t<v<x<|!b<h(r)`*X*a.c.f.j/W/d/t0l1W3Z3}4Y4^5`6y6|7e7h7t7v9_9g:e:i:z;P;[=n=o`<i3p7P7S7W9R:[:_;_S<s.e3[T<t7R9U!O%Qi$d%O%Q%]%^%b*O*Q*]*s*t.x/p0W0Y0e4Q4r9Z=d=l=mv*Q$v)b*R*p+Q/`/o0[0]3t4X4n4v7^7r:`=U=b=cS0Y*q0Z#d<V#v$b$c$x${)v*S*V*c+a+d+{,O._/]/f/q/s1X1[1d3U4P4[4a4z4}5p6t7d7n8[8{9d9j9v:Y:h:q:y;Q<T<V<Z<]<_<h<j<m<q<s<u<w<{=p=qn<W<Q<R<U<W<[<^<`<i<k<n<r<t<v<x<|!f<j(r)`*X*a.d.e.j/W/d/t0l1W3X3Z3}4Y4^5`6y6z6|7e7h7t7v9_9g:e:i:z;P;[=n=od<k3p7Q7R7W9R9S:[:]:_;_S<u.f3]T<v7S9VrnOXst!V!Z#d%k&f&o&q&r&t,l,q1}2QQ&c!UR,i&lrnOXst!V!Z#d%k&f&o&q&r&t,l,q1}2QR&c!UQ,R&ZR1V+zsnOXst!V!Z#d%k&f&o&q&r&t,l,q1}2QQ1c,WS5o1f1gU8Z5m5n5rS9u8]8^S:o9t9wQ;R:pR;];SQ&j!VR,b&fR5{1oR9|8dS&O|&TR1O+qQ&o!WR,l&pR,r&uT2O,q2QR,v&vQ,u&vR2X,vQ'v!{R-r'vSsOtQ#dXT%ns#dQ#OTR'x#OQ#RUR'z#RQ)x$uR/X)xQ#UVR'}#UQ#XWU(T#X(U-yQ(U#YR-y(VQ-V'VR2e-VQ.n(vS3`.n3aR3a.oQ-^']R2i-^Y!rQ']-^1b5iR'g!rQ.y)bR3u.yU#_W%f*VU([#_(]-zQ(]#`R-z(WQ-Y'YR2g-Yt`OXst!V!Z#d%k&f&h&o&q&r&t,l,q1}2QS#hZ%cU#r`#h.TR.T(gQ(h#jQ.Q(dW.Y(h.Q2z6oQ2z.RR6o2{Q)k$lR/P)kQ$phR)q$pQ$`cU)^$`-u<OQ-u;lR<O)nQ/j*YW4T/j4U7b9^U4U/k/l/mS7b4V4WR9^7c$])}$v(r)`)b*X*a*p*q*{*|+Q.e.f.h.i.j/W/`/b/d/o/t0[0]0l1W3X3Y3Z3p3t3}4X4Y4^4n4p4v5`6y6z6{6|7R7S7U7V7W7^7e7h7r7t7v9R9S9T9_9g:[:]:^:_:`:e:i:z;P;[;_=U=b=c=n=oQ/r*aU4]/r4_7fQ4_/tR7f4^S*k$|*WR0Q*kr*P$v)b*p*q+Q/o0[0]3t4X4v7^7r:`=U=b=c!b.c(r)`*X*a.e.f.j/W/d/t0l1W3Z3}4Y4^5`6y6|7e7h7t7v9_9g:e:i:z;P;[=n=oU/a*P.c7Pa7P3p7R7S7W9R:[:_;_Q0X*pQ3[.eU4o0X3[9UR9U7Rv*R$v)b*p*q+Q/`/o0[0]3t4X4n4v7^7r:`=U=b=c!f.d(r)`*X*a.e.f.j/W/d/t0l1W3X3Z3}4Y4^5`6y6z6|7e7h7t7v9_9g:e:i:z;P;[=n=oU/c*R.d7Qe7Q3p7R7S7W9R9S:[:]:_;_Q0Z*qQ3].fU4q0Z3]9VR9V7SQ*v%UR0_*vQ4{0lR7u4{Q+Y%iR0k+YQ5d1]S8T5d9rR9r8UQ,T&[R1`,TQ5i1bR8W5iQ1n,_S5y1n8eR8e5{Q0y+mW5V0y5X7{9nQ5X0|Q7{5WR9n7|Q+r&OR1P+rQ2Q,qR6Z2QYrOXst#dQ&s!ZQ+[%kQ,k&oQ,m&qQ,n&rQ,p&tQ1{,lS2O,q2QR6Y1}Q%mpQ&w!_Q&z!aQ&|!bQ'O!cQ'n!uQ+Z%jQ+g%xQ+y&UQ,a&jQ,x&yW-i'h'p'q'tQ-p'lQ0P*jQ0t+hS1q,b,eQ2Y,wQ2Z,zQ2[,{Q2p-hW2r-k-l-o-qQ5O0uQ5[1SQ5_1WQ5s1hQ5}1sQ6X1|U6h2q2t2wQ6k2uQ7w5PQ8P5^Q8Q5`Q8V5hQ8`5tQ8f5|S8u6i6mQ8w6lQ9o7}Q9x8aQ9}8gQ:U8vQ:l9pQ:r9yQ:v:VR;T:sQ%xyQ'a!iQ'l!uU+h%y%z%{Q-P'SU-d'b'c'dS-h'h'rQ/x*fS0u+i+jQ2b-RS2n-e-fQ2u-mS4b/y/|Q5P0vQ6d2hQ6g2oQ6l2vU7i4d4e4hQ9e7kR:f9fS$wi=dR*w%VU%Ui%V=dR0^*uQ$viS(r#v+dS)`$b$cQ)b$dQ*X$xS*a${*VQ*p%OQ*q%QQ*{%]Q*|%^Q+Q%bQ.e<TQ.f<VQ.h<ZQ.i<]Q.j<_Q/W)vQ/`*OQ/b*QQ/d*SQ/o*]S/t*c/fQ0[*sQ0]*tl0l+a,O._1[1d3U5p6t8[8{9v:Y:q:yQ1W+{Q3X<hQ3Y<jQ3Z<mS3p<Q<RQ3t.xS3}/]4PQ4X/pQ4Y/qQ4^/sQ4n0WQ4p0YQ4v0eQ5`1XQ6y<qQ6z<sQ6{<uQ6|<wQ7R<UQ7S<WQ7U<[Q7V<^Q7W<`Q7^4QQ7e4[Q7h4aQ7r4rQ7t4zQ7v4}Q9R<nQ9S<iQ9T<kQ9_7dQ9g7nQ:[<rQ:]<tQ:^<vQ:_<xQ:`9ZQ:e9dQ:i9jQ:z<{Q;P:hQ;[;QQ;_<|Q=U=dQ=b=lQ=c=mQ=n=pR=o=qQ*y%[Q.g<XR7T<YnpOXst!Z#d%k&o&q&r&t,l,q1}2QQ!fPS#fZ#oQ&y!`W'e!o*e0T4lQ'|#SQ(}#{Q)o$nS,e&h&kQ,j&lQ,w&xS,|'Q/gQ-`'_Q.q({Q/T)pQ0i+WQ0o+bQ1y,iQ2l-bQ3S.`Q3y/OQ4t0bQ5n1eQ6P1uQ6Q1vQ6U1xQ6W1zQ6]2SQ6w3VQ7Z3vQ8^5qQ8j6RQ8k6SQ8m6VQ9P6xQ9w8_R:R8n#[cOPXZst!Z!`!o#d#o#{%k&h&k&l&o&q&r&t&x'Q'_({*e+W+b,i,l,q-b.`/g0T0b1e1u1v1x1z1}2Q2S3V4l5q6R6S6V6x8_8nQ#YWQ#eYQ%ouQ%qvS%sw!gS(P#W(SQ(V#ZQ(q#uQ(v#xQ)O$OQ)P$PQ)Q$QQ)R$RQ)S$SQ)T$TQ)U$UQ)V$VQ)W$WQ)X$XQ)Z$ZQ)]$_Q)_$aQ)d$eW)n$n)p/O3vQ+_%rQ+s&PS-S'U2cQ-q'oS-v(Q-xQ-{(YQ-}(aQ.l(uQ.o(wQ.s;jQ.u;mQ.v;nQ.w;qQ/Z)zQ0f+SQ2^,}Q2a-QQ2q-jQ2x.OQ3^.mQ3c;rQ3d;sQ3e;tQ3f;uQ3g;vQ3h;wQ3i;xQ3j;yQ3k;zQ3l;{Q3m;|Q3n.tQ3o<PQ3r<SQ3s<aQ3z;}Q4w0hQ5Q0wQ6c<dQ6i2sQ6n2yQ6}3_Q7O<eQ7X<gQ7Y<oQ8U5eQ8r6aQ8v6jQ9Q<pQ9W<yQ9X<zQ:V8xQ:m9qQ:u:TQ;l#SR=Z=gR#[WR'W!el!tQ!r!v!y!z']'i'j'k-^-n1b5i5kS'S!e-UU*f$|*W*kS-R'T'[S/|*g*mQ0U*nQ2h-[Q4h0SR4m0VR(x#xQ!fQT-]']-^]!qQ!r']-^1b5iQ#p]R'f;kR)c$dY!uQ']-^1b5iQ'h!rS'r!v!yS't!z5kS-m'i'jQ-o'kR2v-nT#kZ%cS#jZ%cS%im,hU(d#h#i#lS.R(e(fQ.V(gQ0j+XQ2{.SU2|.T.U.WS6p2}3OR8y6qd#^W#W#Z%f(Q(Z*V+U-|/fr#gZm#h#i#l%c(e(f(g+X.S.T.U.W2}3O6qS*Y$x*^Q/m*ZQ1w,hQ2_-OQ4R/iQ6_2VQ7a4SQ8q6`T=R'U+VV#aW%f*VU#`W%f*VS(R#W(ZU(W#Z+U/fS-T'U+VT-w(Q-|V'Z!e%g*WQ$lfR)u$qT)j$l)kR3x.}T*[$x*^T*d${*VQ0m+aQ1Y,OQ3Q._Q5b1[Q5m1dQ6u3UQ8]5pQ8|6tQ9t8[Q:W8{Q:p9vQ:x:YQ;S:qR;V:ynqOXst!Z#d%k&o&q&r&t,l,q1}2QQ&i!VR,a&ftmOXst!U!V!Z#d%k&f&o&q&r&t,l,q1}2QR,h&lT%jm,hR1^,QR,`&dQ&S|R+x&TR+n%}T&m!W&pT&n!W&pT2P,q2Q",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:377,context:zMe,nodeProps:[["isolate",-8,5,6,14,34,36,48,50,52,""],["group",-26,9,17,19,65,204,208,212,213,215,218,221,231,233,239,241,243,245,248,254,260,262,264,266,268,270,271,"Statement",-34,13,14,29,32,33,39,48,51,52,54,59,67,69,73,77,79,81,82,107,108,117,118,135,138,140,141,142,143,144,146,147,166,167,169,"Expression",-23,28,30,34,38,40,42,171,173,175,176,178,179,180,182,183,184,186,187,188,198,200,202,203,"Type",-3,85,100,106,"ClassItem"],["openedBy",23,"<",35,"InterpolationStart",53,"[",57,"{",70,"(",159,"JSXStartCloseTag"],["closedBy",24,">",37,"InterpolationEnd",47,"]",58,"}",71,")",164,"JSXEndTag"]],propSources:[GMe],skippedNodes:[0,5,6,274],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(V!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(V!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(SpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(SpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Sp(V!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Sp(V!b'x0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(T#S$h&j'y0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Sp(V!b'y0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!m),Q(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(R':f$h&j(V!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(V!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(V!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(V!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(V!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Sp(V!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Sp(V!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(V!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(V!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(SpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(SpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Sp(V!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(k%1l(Sp(V!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Sp(V!b$[#t(P,2j(a$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Sp(V!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Sp(V!b#m(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(v+JY$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(U';W$h&j(SpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(SpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(SpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(SpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(SpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!i/.^$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!h!Lf$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Sp(V!b(Q%&f#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Sp(V!b#k(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Sp(V!bo+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Y+Jf$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Sp(V!b}.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!X!L^$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Sp(V!b#l(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Sp(V!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(V!b!U7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!U7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!U7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!U7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!U7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(V!b!U7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(V!b!U7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(V!b!U7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(V!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(V!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Sp!U7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Sp!U7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Sp!U7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Sp!U7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(SpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(SpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Sp(V!b!U7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Sp(V!b!U7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Sp(V!b!U7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Sp(V!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Sp(V!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Sp(V!b'z0/l!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Sp(V!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(V!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(V!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(SpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(SpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Sp(V!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Sp(V!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Sp(V!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!d$b$h&j#})Lv(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#O-<U(Sp(V!b(z7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Sp(V!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#o(Ch(Sp(V!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Sp(V!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#p(Ch(Sp(V!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#]*!Y$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#h(Cl$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#p(Ch$e#|$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#p(Ch$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#o(Ch$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#o(Ch$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(n(Ct$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!y$Ip$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!P0,v$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!V#)l$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Sp(V!b(]+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Sp(V!b(P,2j$^#t(a$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Sp(V!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X![#Hb(Sp(V!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(u+JY$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!Z(CdsBr$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!n7`$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Sp(V!b'x0/l$[#t(P,2j(a$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Sp(V!b'y0/l$[#t(P,2j(a$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[UMe,ZMe,XMe,YMe,2,3,4,5,6,7,8,9,10,11,12,13,14,WMe,new Mw("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOu~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(_~~",141,336),new Mw("j~RQYZXz{^~^O'|~~aP!P!Qd~iO'}~~",25,319)],topRules:{Script:[0,7],SingleExpression:[1,272],SingleClassItem:[2,273]},dialects:{jsx:0,ts:14980},dynamicPrecedences:{77:1,79:1,91:1,167:1,196:1},specialized:[{term:323,get:t=>HMe[t]||-1},{term:339,get:t=>KMe[t]||-1},{term:92,get:t=>JMe[t]||-1}],tokenPrec:15004}),GY=[ti("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),ti("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),ti("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),ti("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),ti("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),ti(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),ti("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),ti(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),ti(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),ti('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),ti('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],tIe=GY.concat([ti("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),ti("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),ti("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),Qq=new iX,HY=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function gm(t){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,t),!0}}const nIe=["FunctionDeclaration"],rIe={FunctionDeclaration:gm("function"),ClassDeclaration:gm("class"),ClassExpression:()=>!0,EnumDeclaration:gm("constant"),TypeAliasDeclaration:gm("type"),NamespaceDeclaration:gm("namespace"),VariableDefinition(t,e){t.matchContext(nIe)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function KY(t,e){let n=Qq.get(e);if(n)return n;let r=[],i=!0;function s(o,a){let l=t.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(zt.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let a=rIe[o.name];if(a&&a(o,s)||HY.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of KY(t,o.node))r.push(a);return!1}}),Qq.set(e,r),r}const Fq=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,JY=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function iIe(t){let e=cn(t.state).resolveInner(t.pos,-1);if(JY.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&Fq.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let i=e;i;i=i.parent)HY.has(i.name)&&(r=r.concat(KY(t.state.doc,i)));return{options:r,from:n?e.from:t.pos,validFor:Fq}}const Jo=Vc.define({name:"javascript",parser:eIe.configure({props:[wp.add({IfStatement:Xf({except:/^\s*({|else\b)/}),TryStatement:Xf({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:dEe,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:fX({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":Xf({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),Sp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":XR,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),eG={test:t=>/^JSX/.test(t.name),facet:cX({commentTokens:{block:{open:"{/*",close:"*/}"}}})},tG=Jo.configure({dialect:"ts"},"typescript"),nG=Jo.configure({dialect:"jsx",props:[WR.add(t=>t.isTop?[eG]:void 0)]}),rG=Jo.configure({dialect:"jsx ts",props:[WR.add(t=>t.isTop?[eG]:void 0)]},"typescript");let iG=t=>({label:t,type:"keyword"});const sG="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(iG),sIe=sG.concat(["declare","implements","private","protected","public"].map(iG));function oIe(t={}){let e=t.jsx?t.typescript?rG:nG:t.typescript?tG:Jo,n=t.typescript?tIe.concat(sIe):GY.concat(sG);return new dO(e,[Jo.data.of({autocomplete:jNe(JY,gY(n))}),Jo.data.of({autocomplete:iIe}),t.jsx?cIe:[]])}function aIe(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function Lq(t,e,n=t.length){for(let r=e==null?void 0:e.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,n));return""}const lIe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),cIe=Ne.inputHandler.of((t,e,n,r,i)=>{if((lIe?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||r!=">"&&r!="/"||!Jo.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var c;let{head:u}=l,d=cn(o).resolveInner(u-1,-1),f;if(d.name=="JSXStartTag"&&(d=d.parent),!(o.doc.sliceString(u-1,u)!=r||d.name=="JSXAttributeValue"&&d.to>u)){if(r==">"&&d.name=="JSXFragmentTag")return{range:l,changes:{from:u,insert:"</>"}};if(r=="/"&&d.name=="JSXStartCloseTag"){let h=d.parent,m=h.parent;if(m&&h.from==u-2&&((f=Lq(o.doc,m.firstChild,u))||((c=m.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let g=`${f}>`;return{range:Oe.cursor(u+g.length,-1),changes:{from:u,insert:g}}}}else if(r==">"){let h=aIe(d);if(h&&h.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(u,u+2))&&(f=Lq(o.doc,h,u)))return{range:l,changes:{from:u,insert:`</${f}>`}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),ym=["_blank","_self","_top","_parent"],tk=["ascii","utf-8","utf-16","latin1","latin1"],nk=["get","post","put","delete"],rk=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],wi=["true","false"],Ve={},uIe={a:{attrs:{href:null,ping:null,type:null,media:null,target:ym,hreflang:null}},abbr:Ve,address:Ve,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Ve,aside:Ve,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Ve,base:{attrs:{href:null,target:ym}},bdi:Ve,bdo:Ve,blockquote:{attrs:{cite:null}},body:Ve,br:Ve,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:rk,formmethod:nk,formnovalidate:["novalidate"],formtarget:ym,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Ve,center:Ve,cite:Ve,code:Ve,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Ve,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Ve,div:Ve,dl:Ve,dt:Ve,em:Ve,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Ve,figure:Ve,footer:Ve,form:{attrs:{action:null,name:null,"accept-charset":tk,autocomplete:["on","off"],enctype:rk,method:nk,novalidate:["novalidate"],target:ym}},h1:Ve,h2:Ve,h3:Ve,h4:Ve,h5:Ve,h6:Ve,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Ve,hgroup:Ve,hr:Ve,html:{attrs:{manifest:null}},i:Ve,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:rk,formmethod:nk,formnovalidate:["novalidate"],formtarget:ym,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Ve,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Ve,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Ve,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:tk,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Ve,noscript:Ve,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Ve,param:{attrs:{name:null,value:null}},pre:Ve,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Ve,rt:Ve,ruby:Ve,samp:Ve,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:tk}},section:Ve,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Ve,source:{attrs:{src:null,type:null,media:null}},span:Ve,strong:Ve,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Ve,summary:Ve,sup:Ve,table:Ve,tbody:Ve,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Ve,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Ve,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Ve,time:{attrs:{datetime:null}},title:Ve,tr:Ve,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Ve,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Ve},oG={accesskey:null,class:null,contenteditable:wi,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:wi,autocorrect:wi,autocapitalize:wi,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":wi,"aria-autocomplete":["inline","list","both","none"],"aria-busy":wi,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":wi,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":wi,"aria-hidden":wi,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":wi,"aria-multiselectable":wi,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":wi,"aria-relevant":null,"aria-required":wi,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},aG="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of aG)oG[t]=null;class Fw{constructor(e,n){this.tags=Object.assign(Object.assign({},uIe),e),this.globalAttrs=Object.assign(Object.assign({},oG),n),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Fw.default=new Fw;function Fh(t,e,n=t.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,n)):""}function Lh(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function lG(t,e,n){let r=n.tags[Fh(t,Lh(e))];return(r==null?void 0:r.children)||n.allTags}function fM(t,e){let n=[];for(let r=Lh(e);r&&!r.type.isTop;r=Lh(r.parent)){let i=Fh(t,r);if(i&&r.lastChild.name=="CloseTag")break;i&&n.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(i)}return n}const cG=/^[:\-\.\w\u00b7-\uffff]*$/;function qq(t,e,n,r,i){let s=/\s*>/.test(t.sliceDoc(i,i+5))?"":">",o=Lh(n,!0);return{from:r,to:i,options:lG(t.doc,o,e).map(a=>({label:a,type:"type"})).concat(fM(t.doc,n).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function Vq(t,e,n,r){let i=/\s*>/.test(t.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:fM(t.doc,e).map((s,o)=>({label:s,apply:s+i,type:"type",boost:99-o})),validFor:cG}}function dIe(t,e,n,r){let i=[],s=0;for(let o of lG(t.doc,n,e))i.push({label:"<"+o,type:"type"});for(let o of fM(t.doc,n))i.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function fIe(t,e,n,r,i){let s=Lh(n),o=s?e.tags[Fh(t.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:l.map(c=>({label:c,type:"property"})),validFor:cG}}function hIe(t,e,n,r,i){var s;let o=(s=n.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let c=t.sliceDoc(o.from,o.to),u=e.globalAttrs[c];if(!u){let d=Lh(n),f=d?e.tags[Fh(t.doc,d)]:null;u=(f==null?void 0:f.attrs)&&f.attrs[c]}if(u){let d=t.sliceDoc(r,i).toLowerCase(),f='"',h='"';/^['"]/.test(d)?(l=d[0]=='"'?/^[^"]*$/:/^[^']*$/,f="",h=t.sliceDoc(i,i+1)==d[0]?"":d[0],d=d.slice(1),r++):l=/^[^\s<>='"]*$/;for(let m of u)a.push({label:m,apply:f+m+h,type:"constant"})}}return{from:r,to:i,options:a,validFor:l}}function pIe(t,e){let{state:n,pos:r}=e,i=cn(n).resolveInner(r,-1),s=i.resolve(r);for(let o=r,a;s==i&&(a=i.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=i=a,o=l.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?Vq(n,i,i.from,r):qq(n,t,i,i.from,r):i.name=="StartTag"?qq(n,t,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?Vq(n,i,r,r):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?fIe(n,t,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?hIe(n,t,i,i.name=="Is"?r:i.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?dIe(n,t,i,r):null}function mIe(t){let{extraTags:e,extraGlobalAttributes:n}=t,r=n||e?new Fw(e,n):Fw.default;return i=>pIe(r,i)}const gIe=Jo.parser.configure({top:"SingleExpression"}),uG=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:tG.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:nG.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:rG.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:gIe},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:Jo.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:Qw.parser}],dG=[{name:"style",parser:Qw.parser.configure({top:"Styles"})}].concat(aG.map(t=>({name:t,parser:Jo.parser}))),fG=Vc.define({name:"html",parser:XRe.configure({props:[wp.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let r=t.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),Sp.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),kX.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),lv=fG.configure({wrap:zY(uG,dG)});function yIe(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=zY((t.nestedLanguages||[]).concat(uG),(t.nestedAttributes||[]).concat(dG)));let r=n?fG.configure({wrap:n,dialect:e}):e?lv.configure({dialect:e}):lv;return new dO(r,[lv.data.of({autocomplete:mIe(t)}),t.autoCloseTags!==!1?OIe:[],oIe().support,SMe().support])}const Bq=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),OIe=Ne.inputHandler.of((t,e,n,r,i)=>{if(t.composing||t.state.readOnly||e!=n||r!=">"&&r!="/"||!lv.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var c,u,d;let f=o.doc.sliceString(l.from-1,l.to)==r,{head:h}=l,m=cn(o).resolveInner(h,-1),g;if(f&&r==">"&&m.name=="EndTag"){let y=m.parent;if(((u=(c=y.parent)===null||c===void 0?void 0:c.lastChild)===null||u===void 0?void 0:u.name)!="CloseTag"&&(g=Fh(o.doc,y.parent,h))&&!Bq.has(g)){let O=h+(o.doc.sliceString(h,h+1)===">"?1:0),b=`</${g}>`;return{range:l,changes:{from:h,to:O,insert:b}}}}else if(f&&r=="/"&&m.name=="IncompleteCloseTag"){let y=m.parent;if(m.from==h-2&&((d=y.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(g=Fh(o.doc,y,h))&&!Bq.has(g)){let O=h+(o.doc.sliceString(h,h+1)===">"?1:0),b=`${g}>`;return{range:Oe.cursor(h+b.length,-1),changes:{from:h,to:O,insert:b}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),bIe=1,xIe=2,vIe=3,wIe=180,SIe=4,_Ie=181,$Ie=5,kIe=182;function PIe(t){return t>=65&&t<=90||t>=97&&t<=122}const CIe=new yi(t=>{let e=t.pos;for(;;){let{next:n}=t;if(n<0)break;if(n==123){let r=t.peek(1);if(r==123){if(t.pos>e)break;t.acceptToken(bIe,2);return}else if(r==37){if(t.pos>e)break;let i=2,s=2;for(;;){let o=t.peek(i);if(o==32||o==10)++i;else if(o==35)for(++i;;){let a=t.peek(i);if(a<0||a==10)break;i++}else if(o==45&&s==2)s=++i;else{let a=o==101&&t.peek(i+1)==110&&t.peek(i+2)==100;t.acceptToken(a?vIe:xIe,s);return}}}}if(t.advance(),n==10)break}t.pos>e&&t.acceptToken(wIe)});function hG(t,e,n){return new yi(r=>{let i=r.pos;for(;;){let{next:s}=r;if(s==123&&r.peek(1)==37){let o=2;for(;;o++){let l=r.peek(o);if(l!=32&&l!=10)break}let a="";for(;;o++){let l=r.peek(o);if(!PIe(l))break;a+=String.fromCharCode(l)}if(a==t){if(r.pos>i)break;r.acceptToken(n,2);break}}else if(s<0)break;if(r.advance(),s==10)break}r.pos>i&&r.acceptToken(e)})}const jIe=hG("endcomment",kIe,$Ie),EIe=hG("endraw",_Ie,SIe),TIe={__proto__:null,contains:32,or:36,and:36,true:50,false:50,empty:52,forloop:54,tablerowloop:56,continue:58,in:128,with:194,for:196,as:198,if:234,endif:238,unless:244,endunless:248,elsif:252,else:256,case:262,endcase:266,when:270,endfor:278,tablerow:284,endtablerow:288,break:292,cycle:298,echo:302,render:306,include:312,assign:316,capture:322,endcapture:326,increment:330,decrement:334},NIe={__proto__:null,if:82,endif:86,elsif:90,else:94,unless:100,endunless:104,case:110,endcase:114,when:118,for:126,endfor:136,tablerow:142,endtablerow:146,break:150,continue:154,cycle:158,comment:164,endcomment:170,raw:176,endraw:182,echo:186,render:190,include:202,assign:206,capture:212,endcapture:216,increment:220,decrement:224,liquid:228},AIe=zc.deserialize({version:14,states:"GYQYOPOOOOOP'#F{'#F{OeOXO'#CdOsQWO'#CfO!bQ`O'#DQO#{OPO'#DTO$ZOPO'#D^O$iOPO'#DcO$wOPO'#DkO%VOPO'#DsO%eOSO'#EOO%jOQO'#EUO%oOPO'#EhOOOP'#G`'#G`OOOP'#G]'#G]OOOP'#Fz'#FzQYOPOOOOOP-E9y-E9yOOQO'#Cg'#CgO&`QpO,59QO&gQpO'#G^OsQWO'#CsOOQO'#G^'#G^OOOP,59l,59lO)PQWO,59lOsQWO,59pOsQWO,59tO)WQWO,59vOsQWO,59yOsQWO,5:OOsQWO,5:SO!]QWO,5:WO!]QWO,5:`O)]QWO,5:dO)bQWO,5:fO)gQWO,5:hO)lQWO,5:kO)qQWO,5:qOsQWO,5:vOsQWO,5:xOsQWO,5;OOsQWO,5;QOsQWO,5;TOsQWO,5;XOsQWO,5;ZO+QQWO,5;]O+XOPO'#CdOOOP,59o,59oO#{OPO,59oO+gQ`O'#DWOOOP,59x,59xO$ZOPO,59xO+lQ`O'#DaOOOP,59},59}O$iOPO,59}O+qQ`O'#DfOOOP,5:V,5:VO$wOPO,5:VO+vQ`O'#DqOOOP,5:_,5:_O%VOPO,5:_O+{Q`O'#DvOOOS'#GQ'#GQO,QOSO'#ERO,YOSO,5:jOOOQ'#GR'#GRO,_OQO'#EXO,gOQO,5:pOOOP,5;S,5;SO%oOPO,5;SO,lQ`O'#EkOOOP-E9x-E9xO,qQ!bO,59SOsQWO,59VOsQWO,59VO,vQWO'#C|OOQO'#F|'#F|O,{QWO1G.lOOOP1G.l1G.lOsQWO,59VOsQWO,59ZO-TQpO,59_O-fQpO1G/WOOOP1G/W1G/WO-wQpO1G/[O.YQpO1G/`OOOP1G/b1G/bO.kQpO1G/eO.|QpO1G/jO/pQpO1G/nO/wQWO1G/rO/|QWO1G/zOOOP1G0O1G0OOOOP1G0Q1G0QO0RQWO1G0SOOOS1G0V1G0VOOOQ1G0]1G0]O0^QpO1G0bO0eQpO1G0dO1PQpO1G0jO1bQpO1G0lO1sQpO1G0oO2UQpO1G0sO2gQpO1G0uO2xQWO'#EsO3PQWO'#ExO3WQWO'#FRO3_QWO'#FYO3fQWO'#F^O3mQWO'#FqOOQO'#Ga'#GaOOQO'#GT'#GTO3tQWO1G0wOsQWO'#EtOsQWO'#EyOsQWO'#E}OOQO'#FP'#FPOsQWO'#FSOsQWO'#FWO!]QWO'#FZO!]QWO'#F_OOQO'#Fc'#FcOOQO'#Fe'#FeO3{QWO'#FfOsQWO'#FhOsQWO'#FjOsQWO'#FmOsQWO'#FoOsQWO'#FrOsQWO'#FvOsQWO'#FxOOOP1G0w1G0wOOOP1G/Z1G/ZO4QQWO,59rOOOP1G/d1G/dO4VQWO,59{OOOP1G/i1G/iO4[QWO,5:QOOOP1G/q1G/qO4aQWO,5:]OOOP1G/y1G/yO4fQWO,5:bOOOS-E:O-E:OOOOP1G0U1G0UO4kQ`O'#ESOOOQ-E:P-E:POOOP1G0[1G0[O4pQ`O'#EYOOOP1G0n1G0nO4uQWO,5;VOOQO1G.n1G.nOOQO1G.q1G.qO7ZQpO1G.qOOQO'#DO'#DOO7eQWO,59hOOQO-E9z-E9zOOOP7+$W7+$WO9_QpO1G.qO9iQpO1G.uOsQWO1G.yOOOP7+$r7+$rOOOP7+$v7+$vOOOP7+$z7+$zOOOP7+%P7+%POOOP7+%U7+%UOsQWO'#F}O<OQWO7+%YOOOP7+%Y7+%YOsQWO7+%^OsQWO7+%fO<WQWO'#GPO<]QWO7+%nOOOP7+%n7+%nO<eQWO7+%nO<jQWO7+%|OOOP7+%|7+%|O!]QWO'#E`OOQO'#GS'#GSO<rQWO7+&OOsQWO'#E`OOOP7+&O7+&OOOOP7+&U7+&UOOOP7+&W7+&WOOOP7+&Z7+&ZOOOP7+&_7+&_OOOP7+&a7+&aOOQO,5;_,5;_O2xQWO,5;_OOQO'#Ev'#EvOOQO,5;d,5;dO3PQWO,5;dOOQO'#E{'#E{OOQO,5;m,5;mO3WQWO,5;mOOQO'#FU'#FUOOQO,5;t,5;tO3_QWO,5;tOOQO'#F['#F[OOQO,5;x,5;xO3fQWO,5;xOOQO'#Fa'#FaOOQO,5<],5<]O3mQWO,5<]OOQO'#Ft'#FtOOQO-E:R-E:ROOOP7+&c7+&cO=QQpO,5;`O>kQpO,5;eO@UQpO,5;iOBRQpO,5;nOClQpO,5;rOE_QWO,5;uOEdQWO,5;yOEiQWO,5<QOG`QpO,5<SOIRQpO,5<UOKRQpO,5<XOMOQpO,5<ZON{QpO,5<^O!!fQpO,5<bO!$cQpO,5<dOOOP1G/^1G/^OOOP1G/g1G/gOOOP1G/l1G/lOOOP1G/w1G/wOOOP1G/|1G/|O!&`QWO,5:nO!&eQWO,5:tOOOP1G0q1G0qOsQWO1G/SO!&jQpO7+$eO!&{QpO,5<iOOQO-E9{-E9{OOOP<<Ht<<HtO!)^QpO<<HxO!)eQpO<<IQOOQO,5<k,5<kOOQO-E9}-E9}OOOP<<IY<<IYO!)lQWO<<IYOOOP<<Ih<<IhO!)tQWO,5:zOOQO-E:Q-E:QOOOP<<Ij<<IjO!)yQpO,5:zOOQO1G0y1G0yOOQO1G1O1G1OOOQO1G1X1G1XOOQO1G1`1G1`OOQO1G1d1G1dOOQO1G1w1G1wO!*hQWO1G1^OsQWO1G1aOsQWO1G1eO!,[QWO1G1lO!.OQWO1G1lO!.TQWO1G1nO!]QWO'#FlOOQO'#GU'#GUO!/wQWO1G1pOOOP1G0Y1G0YOOOP1G0`1G0`O!1kQpO7+$nOOQO<<HP<<HPOOQO'#Dp'#DpO!3nQWO'#DoOOQO'#GO'#GOO!5XQWOAN>dOOOPAN>dAN>dO!5aQWOAN>lOOOPAN>lAN>lO!5iQWOAN>tOOOPAN>tAN>tOsQWO1G0fO!]QWO1G0fO!5qQpO7+&{O!7QQpO7+'PO!8aQWO7+'WO!:TQWO,5<WOOQO-E:S-E:SOsQWO,5:ZOOQO-E9|-E9|OOOPG24OG24OOOOPG24WG24WOOOPG24`G24`O!:YQpO7+&QOOQO7+&Q7+&QO!:tQWO<<JgO!<UQWO<<JkO!=fQWO<<JrOsQWO1G1rO!?YQpO1G/uO!@|QpO7+'^",stateData:"!B|~O%OOSUOS~OPROQSO$zPO~O$zPOPWXQWX$yWX~OfeOifOjfOkfOlfOmfOnfOofO%RbO~OuhOvgOyiO}jO!PkO!SlO!XmO!]nO!aoO!ipO!mqO!orO!qsO!ttO!zuO#PvO#RwO#XxO#ZyO#^zO#b{O#d|O#f}O~OPROQSOR!RO$zPO~OPROQSOR!UO$zPO~OPROQSOR!XO$zPO~OPROQSOR![O$zPO~OPROQSOR!_O$zPO~O$|!`O~O${!cO~OPROQSOR!hO$zPO~O]!jO`!qOa!kOb!lOq!mO~OX!pO~P%}Od!rOX%QX]%QX`%QXa%QXb%QXq%QXh%QXv%QX!^%QX#T%QX#U%QXm%QX#i%QX#k%QX#n%QX#r%QX#t%QX#w%QX#{%QX$S%QX$W%QX$Z%QX$]%QX$_%QX$b%QX$d%QX$g%QX$k%QX$m%QX#p%QX#y%QX$i%QXe%QX%R%QX#V%QX$P%QX$U%QX~Ov!uO~PsOv!xO~Ov#OO~Ov#PO~On#QO~Ov#RO~Ov#SO~Om#nO#U#kO#i#eO#n#fO#r#gO#t#hO#w#iO#{#jO$S#lO$W#mO$Z#oO$]#pO$_#qO$b#rO$d#sO$g#tO$k#uO$m#vO~Ov#wO~P)vO$zPOPWXQWXRWX~O{#yO~O!U#{O~O!Z#}O~O!f$PO~O!k$RO~O$|!`OT!uX~OT$UO~O${!cOS!{X~OS$XO~O#`$ZO~O^$[O~O%R$_O~OX$bOq!mO~O]!jO`!qOa!kOb!lOh$eO~O]!jO`!qOa!kOb!lOv$fO~O]!jO`!qOa!kOb!lOv$gO~O]!jO`!qOa!kOb!lOv$hO~O]!jO`!qOa!kOb!lOv$iO~O]!jO`!qOa!kOb!lOv$jO~O]!jO`!qOa!kOb!lO!^$kO~Ov$mO~P/_O!b$nO~O!b$oO~Os$sOv$rO!^$pO~Ov$uO~P%}O]!jO`!qOa!kOb!lOv$zO!^$vO#T$yO#U$yO~O]!jO`!qOa!kOb!lOv${O~O]!jO`!qOa!kOb!lOv$|O~O]!jO`!qOa!kOb!lOv$}O~O]!jO`!qOa!kOb!lOv%OO~O]!jO`!qOa!kOb!lOv%PO~O#k%SO~P)vO#p%VO~P)vO#y%YO~P)vO$P%]O~P)vO$U%`O~P)vO$i%cO~P)vOv%eO~P)vOn%mO~Ov%uO~Ov%vO~Ov%wO~Ov%xO~Ov%yO~O!w%zO~O!}%{O~Ov%|O~Oa!kOX_i]_iq_ih_iv_i!^_i#T_i#U_im_i#i_i#k_i#n_i#r_i#t_i#w_i#{_i$S_i$W_i$Z_i$]_i$__i$b_i$d_i$g_i$k_i$m_i#p_i#y_i$i_ie_i%R_i#V_i$P_i$U_i~O`!qOb!lO~P4zOs%}OXpaqpavpampa#Upa#ipa#npa#rpa#tpa#wpa#{pa$Spa$Wpa$Zpa$]pa$_pa$bpa$dpa$gpa$kpa$mpa#kpa#ppa#ypa$Ppa$Upa$ipa~O`_ib_i~P4zO`!qOa!kOb!lOXci]ciqcihcivci!^ci#Tci#Ucimci#ici#kci#nci#rci#tci#wci#{ci$Sci$Wci$Zci$]ci$_ci$bci$dci$gci$kci$mci#pci#yci$icieci%Rci#Vci$Pci$Uci~Ov&RO!^$kO~On&UO~Ov&WO!^$pO~On&XO~Oq!mOv&YO~Ov&]O!^$vO#T$yO#U$yO~O]!jO`!qOa!kOb!lOm#ha#U#ha#i#ha#k#ha#n#ha#r#ha#t#ha#w#ha#{#ha$S#ha$W#ha$Z#ha$]#ha$_#ha$b#ha$d#ha$g#ha$k#ha$m#ha~O]!jO`!qOa!kOb!lOm#ma#U#ma#i#ma#n#ma#p#ma#r#ma#t#ma#w#ma#{#ma$S#ma$W#ma$Z#ma$]#ma$_#ma$b#ma$d#ma$g#ma$k#ma$m#ma~O]!jO`!qOa!kOb!lOm#qav#qa#U#qa#i#qa#n#qa#r#qa#t#qa#w#qa#{#qa$S#qa$W#qa$Z#qa$]#qa$_#qa$b#qa$d#qa$g#qa$k#qa$m#qa#k#qa#p#qa#y#qa$P#qa$U#qa$i#qa~O]!jO`!qOa!kOb!lOm#va#U#va#i#va#n#va#r#va#t#va#w#va#y#va#{#va$S#va$W#va$Z#va$]#va$_#va$b#va$d#va$g#va$k#va$m#va~Om#zav#za#U#za#i#za#n#za#r#za#t#za#w#za#{#za$S#za$W#za$Z#za$]#za$_#za$b#za$d#za$g#za$k#za$m#za#k#za#p#za#y#za$P#za$U#za$i#za~P/_O!b&fO~O!b&gO~Os&iO!^$pOm$Yav$Ya#U$Ya#i$Ya#n$Ya#r$Ya#t$Ya#w$Ya#{$Ya$S$Ya$W$Ya$Z$Ya$]$Ya$_$Ya$b$Ya$d$Ya$g$Ya$k$Ya$m$Ya#k$Ya#p$Ya#y$Ya$P$Ya$U$Ya$i$Ya~Om$[av$[a#U$[a#i$[a#n$[a#r$[a#t$[a#w$[a#{$[a$S$[a$W$[a$Z$[a$]$[a$_$[a$b$[a$d$[a$g$[a$k$[a$m$[a#k$[a#p$[a#y$[a$P$[a$U$[a$i$[a~P%}O]!jO`!qOa!kOb!lO!^&kOm$^av$^a#U$^a#i$^a#n$^a#r$^a#t$^a#w$^a#{$^a$S$^a$W$^a$Z$^a$]$^a$_$^a$b$^a$d$^a$g$^a$k$^a$m$^a#k$^a#p$^a#y$^a$P$^a$U$^a$i$^a~O]!jO`!qOa!kOb!lOm$aav$aa#U$aa#i$aa#n$aa#r$aa#t$aa#w$aa#{$aa$S$aa$W$aa$Z$aa$]$aa$_$aa$b$aa$d$aa$g$aa$k$aa$m$aa#k$aa#p$aa#y$aa$P$aa$U$aa$i$aa~O]!jO`!qOa!kOb!lOm$cav$ca#U$ca#i$ca#n$ca#r$ca#t$ca#w$ca#{$ca$S$ca$W$ca$Z$ca$]$ca$_$ca$b$ca$d$ca$g$ca$k$ca$m$ca#k$ca#p$ca#y$ca$P$ca$U$ca$i$ca~O]!jO`!qOa!kOb!lOm$fa#U$fa#i$fa#n$fa#r$fa#t$fa#w$fa#{$fa$S$fa$W$fa$Z$fa$]$fa$_$fa$b$fa$d$fa$g$fa$i$fa$k$fa$m$fa~O]!jO`!qOa!kOb!lOm$jav$ja#U$ja#i$ja#n$ja#r$ja#t$ja#w$ja#{$ja$S$ja$W$ja$Z$ja$]$ja$_$ja$b$ja$d$ja$g$ja$k$ja$m$ja#k$ja#p$ja#y$ja$P$ja$U$ja$i$ja~O]!jO`!qOa!kOb!lOm$lav$la#U$la#i$la#n$la#r$la#t$la#w$la#{$la$S$la$W$la$Z$la$]$la$_$la$b$la$d$la$g$la$k$la$m$la#k$la#p$la#y$la$P$la$U$la$i$la~Ov&nO~Ov&oO~O]!jO`!qOa!kOb!lOe&qO~O]!jO`!qOa!kOb!lOv$qa!^$qam$qa#U$qa#i$qa#n$qa#r$qa#t$qa#w$qa#{$qa$S$qa$W$qa$Z$qa$]$qa$_$qa$b$qa$d$qa$g$qa$k$qa$m$qa#k$qa#p$qa#y$qa$P$qa$U$qa$i$qa~O]!jO`!qOa!kOb!lO%R&rO~Ov&vO~P!({Ov&xO~P!({Ov&zO!^$pO~Os&{O~O]!jO`!qOa!kOb!lO#V&|Ov#Sa!^#Sa#T#Sa#U#Sa~O!^$kOm#ziv#zi#U#zi#i#zi#n#zi#r#zi#t#zi#w#zi#{#zi$S#zi$W#zi$Z#zi$]#zi$_#zi$b#zi$d#zi$g#zi$k#zi$m#zi#k#zi#p#zi#y#zi$P#zi$U#zi$i#zi~O!^$pOm$Yiv$Yi#U$Yi#i$Yi#n$Yi#r$Yi#t$Yi#w$Yi#{$Yi$S$Yi$W$Yi$Z$Yi$]$Yi$_$Yi$b$Yi$d$Yi$g$Yi$k$Yi$m$Yi#k$Yi#p$Yi#y$Yi$P$Yi$U$Yi$i$Yi~On'PO~Oq!mOm$[iv$[i#U$[i#i$[i#n$[i#r$[i#t$[i#w$[i#{$[i$S$[i$W$[i$Z$[i$]$[i$_$[i$b$[i$d$[i$g$[i$k$[i$m$[i#k$[i#p$[i#y$[i$P$[i$U$[i$i$[i~O!^&kOm$^iv$^i#U$^i#i$^i#n$^i#r$^i#t$^i#w$^i#{$^i$S$^i$W$^i$Z$^i$]$^i$_$^i$b$^i$d$^i$g$^i$k$^i$m$^i#k$^i#p$^i#y$^i$P$^i$U$^i$i$^i~O]!jO`!qOa!kOb!lOXpqqpqvpqmpq#Upq#ipq#npq#rpq#tpq#wpq#{pq$Spq$Wpq$Zpq$]pq$_pq$bpq$dpq$gpq$kpq$mpq#kpq#ppq#ypq$Ppq$Upq$ipq~Os'SOv!cX%R!cXm!cX#U!cX#i!cX#n!cX#r!cX#t!cX#w!cX#{!cX$P!cX$S!cX$W!cX$Z!cX$]!cX$_!cX$b!cX$d!cX$g!cX$k!cX$m!cX$U!cX~Ov'UO%R&rO~Ov'VO%R&rO~Ov'WO!^$pO~Om#}q#U#}q#i#}q#n#}q#r#}q#t#}q#w#}q#{#}q$P#}q$S#}q$W#}q$Z#}q$]#}q$_#}q$b#}q$d#}q$g#}q$k#}q$m#}q~P!({Om$Rq#U$Rq#i$Rq#n$Rq#r$Rq#t$Rq#w$Rq#{$Rq$S$Rq$U$Rq$W$Rq$Z$Rq$]$Rq$_$Rq$b$Rq$d$Rq$g$Rq$k$Rq$m$Rq~P!({O!^$pOm$Yqv$Yq#U$Yq#i$Yq#n$Yq#r$Yq#t$Yq#w$Yq#{$Yq$S$Yq$W$Yq$Z$Yq$]$Yq$_$Yq$b$Yq$d$Yq$g$Yq$k$Yq$m$Yq#k$Yq#p$Yq#y$Yq$P$Yq$U$Yq$i$Yq~Os'^O~O]!jO`!qOa!kOb!lOv#Sq!^#Sq#T#Sq#U#Sq~O%R&rOm#}y#U#}y#i#}y#n#}y#r#}y#t#}y#w#}y#{#}y$P#}y$S#}y$W#}y$Z#}y$]#}y$_#}y$b#}y$d#}y$g#}y$k#}y$m#}y~O%R&rOm$Ry#U$Ry#i$Ry#n$Ry#r$Ry#t$Ry#w$Ry#{$Ry$S$Ry$U$Ry$W$Ry$Z$Ry$]$Ry$_$Ry$b$Ry$d$Ry$g$Ry$k$Ry$m$Ry~O!^$pOm$Yyv$Yy#U$Yy#i$Yy#n$Yy#r$Yy#t$Yy#w$Yy#{$Yy$S$Yy$W$Yy$Z$Yy$]$Yy$_$Yy$b$Yy$d$Yy$g$Yy$k$Yy$m$Yy#k$Yy#p$Yy#y$Yy$P$Yy$U$Yy$i$Yy~O]!jO`!qOa!kOb!lOv!ci%R!cim!ci#U!ci#i!ci#n!ci#r!ci#t!ci#w!ci#{!ci$P!ci$S!ci$W!ci$Z!ci$]!ci$_!ci$b!ci$d!ci$g!ci$k!ci$m!ci$U!ci~O]!jO`!qOa!kOb!lOm$`qv$`q!^$`q#U$`q#i$`q#n$`q#r$`q#t$`q#w$`q#{$`q$S$`q$W$`q$Z$`q$]$`q$_$`q$b$`q$d$`q$g$`q$k$`q$m$`q#k$`q#p$`q#y$`q$P$`q$U$`q$i$`q~O",goto:"7V%UPPPPPPPP%VP%V%g&zPP&zPPP&zPPP&zPPPPPPPP'xP(QP(TPP(T(eP(uP(TP(TP(T({P)]P(T)cP)sP(TPP(T)yPP*Z*e*oP(T*uP+VP(TP(TP(TP(T+]P+m+pP(T+sP,T,WP(TP(TP,ZPPP(TP(TP(T,_P,oP(TP(TP(TP,u-VP-gP,u-mP-}P,uP,uP,u.TP.eP,uP,u.k.{P,u/RP/cP,uP,u,uP,uP,uP/i,uP,uP,u/mP/}P,uP,uP0T0s1Z1i1s2V2i2o2u2{3kPPPPPP3q4RP%V6um^OTUVWX[`!Q!T!W!Z!^!g!vdRehijlmnvwxyz{|!k!l!q!r#e#f#g#i#j#p#q#r#s#t#u#v$e$k$n$o$y%}&f&g&{'S'^Q!|oQ!}pQ%k#kQ%l#lQ&Z$vQ'Q&kR'Y&|!wfRehijlmnvwxyz{|!k!l!q!r#e#f#g#i#j#p#q#r#s#t#u#v$e$k$n$o$y%}&f&g&{'S'^]!nc!o#T$t%n&jR$`!mm]OTUVWX[`!Q!T!W!Z!^!gmTOTUVWX[`!Q!T!W!Z!^!gQ!PTR#x!QmUOTUVWX[`!Q!T!W!Z!^!gQ!SUR#z!TmVOTUVWX[`!Q!T!W!Z!^!gQ!VVR#|!WmWOTUVWX[`!Q!T!W!Z!^!ga&t&S&T&u&w&}'O'Z'[a&s&S&T&u&w&}'O'Z'[Q!YWR$O!ZmXOTUVWX[`!Q!T!W!Z!^!gQ!]XR$Q!^mYOTUVWX[`!Q!T!W!Z!^!gR!bYR$T!bmZOTUVWX[`!Q!T!W!Z!^!gR!eZR$W!eT$w#U$xm[OTUVWX[`!Q!T!W!Z!^!gQ!f[R$Y!gm#b}#[#]#^#_#`#a#d%R%U%X%[%_%bm#[}#[#]#^#_#`#a#d%R%U%X%[%_%bQ%Q#[R&_%Rm#]}#[#]#^#_#`#a#d%R%U%X%[%_%bQ%T#]R&`%Um#^}#[#]#^#_#`#a#d%R%U%X%[%_%bQ%W#^R&a%Xm#_}#[#]#^#_#`#a#d%R%U%X%[%_%bQ%Z#_R&b%[m#`}#[#]#^#_#`#a#d%R%U%X%[%_%bQ%^#`R&c%_T&l%o&mm#a}#[#]#^#_#`#a#d%R%U%X%[%_%bQ%a#aR&d%bQ`OQ!QTQ!TUQ!WVQ!ZWQ!^XQ!g[_!i`!Q!T!W!Z!^!gSQO`SaQ!Oi!OTUVWX[!Q!T!W!Z!^!gQ!ocU$a!o$t&jQ$t#TR&j%nQ$l!{S&Q$l&eR&e%jQ&u&SQ&w&TW'T&u&w'Z'[Q'Z&}R'['OQ$q#QW&V$q&h&y']Q&h%mQ&y&XR']'PQ!aYR$S!aQ!dZR$V!dQ$x#UR&[$xQ#d}Q%R#[Q%U#]Q%X#^Q%[#_Q%_#`Q%b#a_%d#d%R%U%X%[%_%bQ&m%oR'R&mm_OTUVWX[`!Q!T!W!Z!^!gQcRQ!seQ!thQ!viQ!wjQ!ylQ!zmQ!{nQ#TvQ#UwQ#VxQ#WyQ#XzQ#Y{Q#Z|Q$]!kQ$^!lQ$c!qQ$d!rQ%f#eQ%g#fQ%h#gQ%i#iQ%j#jQ%n#pQ%o#qQ%p#rQ%q#sQ%r#tQ%s#uQ%t#vQ&O$eQ&P$kQ&S$nQ&T$oQ&^$yQ&p%}Q&}&fQ'O&gQ'X&{Q'_'SR'`'^m#c}#[#]#^#_#`#a#d%R%U%X%[%_%b",nodeNames:"⚠ {{ {% {% {% {% InlineComment Template Text }} Interpolation VariableName MemberExpression . PropertyName BinaryExpression contains CompareOp LogicOp AssignmentExpression AssignOp ) ( RangeExpression .. BooleanLiteral empty forloop tablerowloop continue StringLiteral NumberLiteral Filter | FilterName : Tag TagName %} IfDirective Tag if EndTag endif Tag elsif Tag else UnlessDirective Tag unless EndTag endunless CaseDirective Tag case EndTag endcase Tag when , ForDirective Tag for in Parameter ParameterName EndTag endfor TableDirective Tag tablerow EndTag endtablerow Tag break Tag continue Tag cycle Comment Tag comment CommentText EndTag endcomment RawDirective Tag raw RawText EndTag endraw Tag echo Tag render RenderParameter with for as Tag include Tag assign CaptureDirective Tag capture EndTag endcapture Tag increment Tag decrement Tag liquid IfDirective Tag if EndTag endif UnlessDirective Tag unless EndTag endunless Tag elsif Tag else CaseDirective Tag case EndTag endcase Tag when ForDirective Tag EndTag endfor TableDirective Tag tablerow EndTag endtablerow Tag break Tag Tag cycle Tag echo Tag render RenderParameter Tag include Tag assign CaptureDirective Tag capture EndTag endcapture Tag increment Tag decrement",maxTerm:189,nodeProps:[["closedBy",1,"}}",-4,2,3,4,5,"%}",22,")"],["openedBy",9,"{{",21,"(",38,"{%"],["group",-12,11,12,15,19,23,25,26,27,28,29,30,31,"Expression"]],skippedNodes:[0,6],repeatNodeCount:11,tokenData:")l~RlXY!yYZ!y]^!ypq!yqr#[rs#gst$Xuv$pwx${xy%hyz%m{|%r|}'^}!O'c!O!P'o!Q![&{![!](P!^!_(U!_!`(^!`!a(U!c!}(f#R#S(f#T#o(f#p#q)[#q#r)a%W;'S(f;'S;:j)U<%lO(f~#OS%O~XY!yYZ!y]^!ypq!y~#_P!_!`#b~#gOa~~#jUOY#gZr#grs#|s;'S#g;'S;=`$R<%lO#g~$ROn~~$UP;=`<%l#g~$^SU~OY$XZ;'S$X;'S;=`$j<%lO$X~$mP;=`<%l$X~$sP#q#r$v~${Ov~~%OUOY${Zw${wx#|x;'S${;'S;=`%b<%lO${~%eP;=`<%l${~%mOf~~%rOe~P%uQ!O!P%{!Q![&{P&OP!Q![&RP&WRoP!Q![&R!g!h&a#X#Y&aP&dR{|&m}!O&m!Q![&sP&pP!Q![&sP&xPoP!Q![&sP'QSoP!O!P%{!Q![&{!g!h&a#X#Y&a~'cO!^~~'fRuv$p!O!P%{!Q![&{~'tQ]S!O!P'z!Q![&R~(POh~~(UOs~~(ZPa~!_!`#b~(cPd~!_!`#b_(oV^WuQ%RT!Q![(f!c!}(f#R#S(f#T#o(f%W;'S(f;'S;:j)U<%lO(f_)XP;=`<%l(f~)aOq~~)dP#q#r)g~)lOX~",tokenizers:[CIe,EIe,jIe,0,1,2,3],topRules:{Template:[0,7]},specialized:[{term:187,get:t=>TIe[t]||-1},{term:37,get:t=>NIe[t]||-1}],tokenPrec:0});function OO(t,e){return t.split(" ").map(n=>({label:n,type:e}))}const zq=OO("abs append at_least at_most capitalize ceil compact concat date default divided_by downcase escape escape_once first floor join last lstrip map minus modulo newline_to_br plus prepend remove remove_first replace replace_first reverse round rstrip size slice sort sort_natural split strip strip_html strip_newlines sum times truncate truncatewords uniq upcase url_decode url_encode where","function"),Wq=OO("cycle comment endcomment raw endraw echo increment decrement liquid if elsif else endif unless endunless case endcase for endfor tablerow endtablerow break continue assign capture endcapture render include","keyword"),Uq=OO("empty forloop tablerowloop in with as contains","keyword"),RIe=OO("first index index0 last length rindex","property"),MIe=OO("col col0 col_first col_last first index index0 last length rindex rindex0 row","property");function IIe(t){var e;let{state:n,pos:r}=t,i=cn(n).resolveInner(r,-1).enterUnfinishedNodesBefore(r),s=((e=i.childBefore(r))===null||e===void 0?void 0:e.name)||i.name;if(i.name=="FilterName")return{type:"filter",node:i};if(t.explicit&&s=="|")return{type:"filter"};if(i.name=="TagName")return{type:"tag",node:i};if(t.explicit&&s=="{%")return{type:"tag"};if(i.name=="PropertyName"&&i.parent.name=="MemberExpression")return{type:"property",node:i,target:i.parent};if(i.name=="."&&i.parent.name=="MemberExpression")return{type:"property",target:i.parent};if(i.name=="MemberExpression"&&s==".")return{type:"property",target:i};if(i.name=="VariableName")return{type:"expression",from:i.from};let o=t.matchBefore(/[\w\u00c0-\uffff]+$/);return o?{type:"expression",from:o.from}:t.explicit&&i.name!="CommentText"&&i.name!="StringLiteral"&&i.name!="NumberLiteral"&&i.name!="InlineComment"?{type:"expression"}:null}function DIe(t,e,n,r){let i=[];for(;;){let s=e.getChild("Expression");if(!s)return[];if(s.name=="forloop")return i.length?[]:RIe;if(s.name=="tablerowloop")return i.length?[]:MIe;if(s.name=="VariableName"){i.unshift(t.sliceDoc(s.from,s.to));break}else if(s.name=="MemberExpression"){let o=s.getChild("PropertyName");o&&i.unshift(t.sliceDoc(o.from,o.to)),e=s}else return[]}return r?r(i,t,n):[]}function QIe(t={}){let e=t.filters?t.filters.concat(zq):zq,n=t.tags?t.tags.concat(Wq):Wq,r=t.variables?t.variables.concat(Uq):Uq,{properties:i}=t;return s=>{var o;let a=IIe(s);if(!a)return null;let l=(o=a.from)!==null&&o!==void 0?o:a.node?a.node.from:s.pos,c;return a.type=="filter"?c=e:a.type=="tag"?c=n:a.type=="expression"?c=r:c=DIe(s.state,a.target,s,i),c.length?{options:c,from:l,validFor:/^[\w\u00c0-\uffff]*$/}:null}}const FIe=Ne.inputHandler.of((t,e,n,r)=>r!="%"||e!=n||t.state.doc.sliceString(e-1,n+1)!="{}"?!1:(t.dispatch(t.state.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:"%%"},range:Oe.cursor(i.from+1)})),{scrollIntoView:!0,userEvent:"input.type"}),!0));function ik(t){return e=>{let n=t.test(e.textAfter);return e.lineIndent(e.node.from)+(n?0:e.unit)}}const LIe=Vc.define({name:"liquid",parser:AIe.configure({props:[vp({"cycle comment endcomment raw endraw echo increment decrement liquid in with as":H.keyword,"empty forloop tablerowloop":H.atom,"if elsif else endif unless endunless case endcase for endfor tablerow endtablerow break continue":H.controlKeyword,"assign capture endcapture":H.definitionKeyword,contains:H.operatorKeyword,"render include":H.moduleKeyword,VariableName:H.variableName,TagName:H.tagName,FilterName:H.function(H.variableName),PropertyName:H.propertyName,CompareOp:H.compareOperator,AssignOp:H.definitionOperator,LogicOp:H.logicOperator,NumberLiteral:H.number,StringLiteral:H.string,BooleanLiteral:H.bool,InlineComment:H.lineComment,CommentText:H.blockComment,"{% %} {{ }}":H.brace,"( )":H.paren,".":H.derefOperator,", .. : |":H.punctuation}),wp.add({Tag:fX({closing:"%}"}),"UnlessDirective ForDirective TablerowDirective CaptureDirective":ik(/^\s*(\{%-?\s*)?end\w/),IfDirective:ik(/^\s*(\{%-?\s*)?(endif|else|elsif)\b/),CaseDirective:ik(/^\s*(\{%-?\s*)?(endcase|when)\b/)}),Sp.add({"UnlessDirective ForDirective TablerowDirective CaptureDirective IfDirective CaseDirective RawDirective Comment"(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="Tag"?null:{from:e.to,to:n.name=="EndTag"?n.from:t.to}}})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*{%-?\s*(?:end|elsif|else|when|)$/}}),Uj=yIe();function pG(t){return LIe.configure({wrap:oX(e=>e.type.isTop?{parser:t.parser,overlay:n=>n.name=="Text"||n.name=="RawText"}:null)},"liquid")}const qIe=pG(Uj.language);function VIe(t={}){let e=t.base||Uj,n=e.language==Uj.language?qIe:pG(e.language);return new dO(n,[e.support,n.data.of({autocomplete:QIe(t)}),e.language.data.of({closeBrackets:{brackets:["{"]}}),FIe])}function An(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=An(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var BIe={value:()=>{}};function YS(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new cv(n)}function cv(t){this._=t}function zIe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}cv.prototype=YS.prototype={constructor:cv,on:function(t,e){var n=this._,r=zIe(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=WIe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Zq(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Zq(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new cv(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function WIe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Zq(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=BIe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Zj="http://www.w3.org/1999/xhtml";const Xq={svg:"http://www.w3.org/2000/svg",xhtml:Zj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function GS(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Xq.hasOwnProperty(e)?{space:Xq[e],local:t}:t}function UIe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Zj&&e.documentElement.namespaceURI===Zj?e.createElement(t):e.createElementNS(n,t)}}function ZIe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function mG(t){var e=GS(t);return(e.local?ZIe:UIe)(e)}function XIe(){}function hM(t){return t==null?XIe:function(){return this.querySelector(t)}}function YIe(t){typeof t!="function"&&(t=hM(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=t.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new qi(r,this._parents)}function GIe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function HIe(){return[]}function gG(t){return t==null?HIe:function(){return this.querySelectorAll(t)}}function KIe(t){return function(){return GIe(t.apply(this,arguments))}}function JIe(t){typeof t=="function"?t=KIe(t):t=gG(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new qi(r,i)}function yG(t){return function(){return this.matches(t)}}function OG(t){return function(e){return e.matches(t)}}var e2e=Array.prototype.find;function t2e(t){return function(){return e2e.call(this.children,t)}}function n2e(){return this.firstElementChild}function r2e(t){return this.select(t==null?n2e:t2e(typeof t=="function"?t:OG(t)))}var i2e=Array.prototype.filter;function s2e(){return Array.from(this.children)}function o2e(t){return function(){return i2e.call(this.children,t)}}function a2e(t){return this.selectAll(t==null?s2e:o2e(typeof t=="function"?t:OG(t)))}function l2e(t){typeof t!="function"&&(t=yG(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new qi(r,this._parents)}function bG(t){return new Array(t.length)}function c2e(){return new qi(this._enter||this._groups.map(bG),this._parents)}function Lw(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Lw.prototype={constructor:Lw,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function u2e(t){return function(){return t}}function d2e(t,e,n,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new Lw(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function f2e(t,e,n,r,i,s,o){var a,l,c=new Map,u=e.length,d=s.length,f=new Array(u),h;for(a=0;a<u;++a)(l=e[a])&&(f[a]=h=o.call(l,l.__data__,a,e)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<d;++a)h=o.call(t,s[a],a,s)+"",(l=c.get(h))?(r[a]=l,l.__data__=s[a],c.delete(h)):n[a]=new Lw(t,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(f[a])===l&&(i[a]=l)}function h2e(t){return t.__data__}function p2e(t,e){if(!arguments.length)return Array.from(this,h2e);var n=e?f2e:d2e,r=this._parents,i=this._groups;typeof t!="function"&&(t=u2e(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],d=i[c],f=d.length,h=m2e(t.call(u,u&&u.__data__,c,r)),m=h.length,g=a[c]=new Array(m),y=o[c]=new Array(m),O=l[c]=new Array(f);n(u,d,g,y,O,h,e);for(var b=0,x=0,v,w;b<m;++b)if(v=g[b]){for(b>=x&&(x=b+1);!(w=y[x])&&++x<m;);v._next=w||null}}return o=new qi(o,r),o._enter=a,o._exit=l,o}function m2e(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function g2e(){return new qi(this._exit||this._groups.map(bG),this._parents)}function y2e(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function O2e(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],u=r[l],d=c.length,f=a[l]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;l<i;++l)a[l]=n[l];return new qi(a,this._parents)}function b2e(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function x2e(t){t||(t=v2e);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new qi(i,this._parents).order()}function v2e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function w2e(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function S2e(){return Array.from(this)}function _2e(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function $2e(){let t=0;for(const e of this)++t;return t}function k2e(){return!this.node()}function P2e(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function C2e(t){return function(){this.removeAttribute(t)}}function j2e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function E2e(t,e){return function(){this.setAttribute(t,e)}}function T2e(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function N2e(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function A2e(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function R2e(t,e){var n=GS(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?j2e:C2e:typeof e=="function"?n.local?A2e:N2e:n.local?T2e:E2e)(n,e))}function xG(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function M2e(t){return function(){this.style.removeProperty(t)}}function I2e(t,e,n){return function(){this.style.setProperty(t,e,n)}}function D2e(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Q2e(t,e,n){return arguments.length>1?this.each((e==null?M2e:typeof e=="function"?D2e:I2e)(t,e,n??"")):qh(this.node(),t)}function qh(t,e){return t.style.getPropertyValue(e)||xG(t).getComputedStyle(t,null).getPropertyValue(e)}function F2e(t){return function(){delete this[t]}}function L2e(t,e){return function(){this[t]=e}}function q2e(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function V2e(t,e){return arguments.length>1?this.each((e==null?F2e:typeof e=="function"?q2e:L2e)(t,e)):this.node()[t]}function vG(t){return t.trim().split(/^|\s+/)}function pM(t){return t.classList||new wG(t)}function wG(t){this._node=t,this._names=vG(t.getAttribute("class")||"")}wG.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function SG(t,e){for(var n=pM(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function _G(t,e){for(var n=pM(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function B2e(t){return function(){SG(this,t)}}function z2e(t){return function(){_G(this,t)}}function W2e(t,e){return function(){(e.apply(this,arguments)?SG:_G)(this,t)}}function U2e(t,e){var n=vG(t+"");if(arguments.length<2){for(var r=pM(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?W2e:e?B2e:z2e)(n,e))}function Z2e(){this.textContent=""}function X2e(t){return function(){this.textContent=t}}function Y2e(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function G2e(t){return arguments.length?this.each(t==null?Z2e:(typeof t=="function"?Y2e:X2e)(t)):this.node().textContent}function H2e(){this.innerHTML=""}function K2e(t){return function(){this.innerHTML=t}}function J2e(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function eDe(t){return arguments.length?this.each(t==null?H2e:(typeof t=="function"?J2e:K2e)(t)):this.node().innerHTML}function tDe(){this.nextSibling&&this.parentNode.appendChild(this)}function nDe(){return this.each(tDe)}function rDe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function iDe(){return this.each(rDe)}function sDe(t){var e=typeof t=="function"?t:mG(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function oDe(){return null}function aDe(t,e){var n=typeof t=="function"?t:mG(t),r=e==null?oDe:typeof e=="function"?e:hM(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function lDe(){var t=this.parentNode;t&&t.removeChild(this)}function cDe(){return this.each(lDe)}function uDe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function dDe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fDe(t){return this.select(t?dDe:uDe)}function hDe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function pDe(t){return function(e){t.call(this,e,this.__data__)}}function mDe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function gDe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function yDe(t,e,n){return function(){var r=this.__on,i,s=pDe(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function ODe(t,e,n){var r=mDe(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=e?yDe:gDe,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function $G(t,e,n){var r=xG(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function bDe(t,e){return function(){return $G(this,t,e)}}function xDe(t,e){return function(){return $G(this,t,e.apply(this,arguments))}}function vDe(t,e){return this.each((typeof e=="function"?xDe:bDe)(t,e))}function*wDe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var kG=[null];function qi(t,e){this._groups=t,this._parents=e}function bO(){return new qi([[document.documentElement]],kG)}function SDe(){return this}qi.prototype=bO.prototype={constructor:qi,select:YIe,selectAll:JIe,selectChild:r2e,selectChildren:a2e,filter:l2e,data:p2e,enter:c2e,exit:g2e,join:y2e,merge:O2e,selection:SDe,order:b2e,sort:x2e,call:w2e,nodes:S2e,node:_2e,size:$2e,empty:k2e,each:P2e,attr:R2e,style:Q2e,property:V2e,classed:U2e,text:G2e,html:eDe,raise:nDe,lower:iDe,append:sDe,insert:aDe,remove:cDe,clone:fDe,datum:hDe,on:ODe,dispatch:vDe,[Symbol.iterator]:wDe};function Ei(t){return typeof t=="string"?new qi([[document.querySelector(t)]],[document.documentElement]):new qi([[t]],kG)}function _De(t){let e;for(;e=t.sourceEvent;)t=e;return t}function zs(t,e){if(t=_De(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const $De={passive:!1},ny={capture:!0,passive:!1};function sk(t){t.stopImmediatePropagation()}function Kf(t){t.preventDefault(),t.stopImmediatePropagation()}function PG(t){var e=t.document.documentElement,n=Ei(t).on("dragstart.drag",Kf,ny);"onselectstart"in e?n.on("selectstart.drag",Kf,ny):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function CG(t,e){var n=t.document.documentElement,r=Ei(t).on("dragstart.drag",null);e&&(r.on("click.drag",Kf,ny),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Zb=t=>()=>t;function Xj(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Xj.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function kDe(t){return!t.ctrlKey&&!t.button}function PDe(){return this.parentNode}function CDe(t,e){return e??{x:t.x,y:t.y}}function jDe(){return navigator.maxTouchPoints||"ontouchstart"in this}function jG(){var t=kDe,e=PDe,n=CDe,r=jDe,i={},s=YS("start","drag","end"),o=0,a,l,c,u,d=0;function f(v){v.on("mousedown.drag",h).filter(r).on("touchstart.drag",y).on("touchmove.drag",O,$De).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(v,w){if(!(u||!t.call(this,v,w))){var _=x(this,e.call(this,v,w),v,w,"mouse");_&&(Ei(v.view).on("mousemove.drag",m,ny).on("mouseup.drag",g,ny),PG(v.view),sk(v),c=!1,a=v.clientX,l=v.clientY,_("start",v))}}function m(v){if(Kf(v),!c){var w=v.clientX-a,_=v.clientY-l;c=w*w+_*_>d}i.mouse("drag",v)}function g(v){Ei(v.view).on("mousemove.drag mouseup.drag",null),CG(v.view,c),Kf(v),i.mouse("end",v)}function y(v,w){if(t.call(this,v,w)){var _=v.changedTouches,$=e.call(this,v,w),k=_.length,j,P;for(j=0;j<k;++j)(P=x(this,$,v,w,_[j].identifier,_[j]))&&(sk(v),P("start",v,_[j]))}}function O(v){var w=v.changedTouches,_=w.length,$,k;for($=0;$<_;++$)(k=i[w[$].identifier])&&(Kf(v),k("drag",v,w[$]))}function b(v){var w=v.changedTouches,_=w.length,$,k;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),$=0;$<_;++$)(k=i[w[$].identifier])&&(sk(v),k("end",v,w[$]))}function x(v,w,_,$,k,j){var P=s.copy(),R=zs(j||_,w),N,A,C;if((C=n.call(v,new Xj("beforestart",{sourceEvent:_,target:f,identifier:k,active:o,x:R[0],y:R[1],dx:0,dy:0,dispatch:P}),$))!=null)return N=C.x-R[0]||0,A=C.y-R[1]||0,function T(E,I,M){var Q=R,B;switch(E){case"start":i[k]=T,B=o++;break;case"end":delete i[k],--o;case"drag":R=zs(M||I,w),B=o;break}P.call(E,v,new Xj(E,{sourceEvent:I,subject:C,target:f,identifier:k,active:B,x:R[0]+N,y:R[1]+A,dx:R[0]-Q[0],dy:R[1]-Q[1],dispatch:P}),$)}}return f.filter=function(v){return arguments.length?(t=typeof v=="function"?v:Zb(!!v),f):t},f.container=function(v){return arguments.length?(e=typeof v=="function"?v:Zb(v),f):e},f.subject=function(v){return arguments.length?(n=typeof v=="function"?v:Zb(v),f):n},f.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:Zb(!!v),f):r},f.on=function(){var v=s.on.apply(s,arguments);return v===s?f:v},f.clickDistance=function(v){return arguments.length?(d=(v=+v)*v,f):Math.sqrt(d)},f}function mM(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function EG(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xO(){}var ry=.7,qw=1/ry,Jf="\\s*([+-]?\\d+)\\s*",iy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EDe=/^#([0-9a-f]{3,8})$/,TDe=new RegExp(`^rgb\\(${Jf},${Jf},${Jf}\\)$`),NDe=new RegExp(`^rgb\\(${ea},${ea},${ea}\\)$`),ADe=new RegExp(`^rgba\\(${Jf},${Jf},${Jf},${iy}\\)$`),RDe=new RegExp(`^rgba\\(${ea},${ea},${ea},${iy}\\)$`),MDe=new RegExp(`^hsl\\(${iy},${ea},${ea}\\)$`),IDe=new RegExp(`^hsla\\(${iy},${ea},${ea},${iy}\\)$`),Yq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mM(xO,sy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Gq,formatHex:Gq,formatHex8:DDe,formatHsl:QDe,formatRgb:Hq,toString:Hq});function Gq(){return this.rgb().formatHex()}function DDe(){return this.rgb().formatHex8()}function QDe(){return TG(this).formatHsl()}function Hq(){return this.rgb().formatRgb()}function sy(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=EDe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Kq(e):n===3?new fi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Xb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Xb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=TDe.exec(t))?new fi(e[1],e[2],e[3],1):(e=NDe.exec(t))?new fi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ADe.exec(t))?Xb(e[1],e[2],e[3],e[4]):(e=RDe.exec(t))?Xb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=MDe.exec(t))?tV(e[1],e[2]/100,e[3]/100,1):(e=IDe.exec(t))?tV(e[1],e[2]/100,e[3]/100,e[4]):Yq.hasOwnProperty(t)?Kq(Yq[t]):t==="transparent"?new fi(NaN,NaN,NaN,0):null}function Kq(t){return new fi(t>>16&255,t>>8&255,t&255,1)}function Xb(t,e,n,r){return r<=0&&(t=e=n=NaN),new fi(t,e,n,r)}function FDe(t){return t instanceof xO||(t=sy(t)),t?(t=t.rgb(),new fi(t.r,t.g,t.b,t.opacity)):new fi}function Yj(t,e,n,r){return arguments.length===1?FDe(t):new fi(t,e,n,r??1)}function fi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}mM(fi,Yj,EG(xO,{brighter(t){return t=t==null?qw:Math.pow(qw,t),new fi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ry:Math.pow(ry,t),new fi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fi(fd(this.r),fd(this.g),fd(this.b),Vw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jq,formatHex:Jq,formatHex8:LDe,formatRgb:eV,toString:eV}));function Jq(){return`#${Uu(this.r)}${Uu(this.g)}${Uu(this.b)}`}function LDe(){return`#${Uu(this.r)}${Uu(this.g)}${Uu(this.b)}${Uu((isNaN(this.opacity)?1:this.opacity)*255)}`}function eV(){const t=Vw(this.opacity);return`${t===1?"rgb(":"rgba("}${fd(this.r)}, ${fd(this.g)}, ${fd(this.b)}${t===1?")":`, ${t})`}`}function Vw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function fd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Uu(t){return t=fd(t),(t<16?"0":"")+t.toString(16)}function tV(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xs(t,e,n,r)}function TG(t){if(t instanceof Xs)return new Xs(t.h,t.s,t.l,t.opacity);if(t instanceof xO||(t=sy(t)),!t)return new Xs;if(t instanceof Xs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Xs(o,a,l,t.opacity)}function qDe(t,e,n,r){return arguments.length===1?TG(t):new Xs(t,e,n,r??1)}function Xs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}mM(Xs,qDe,EG(xO,{brighter(t){return t=t==null?qw:Math.pow(qw,t),new Xs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ry:Math.pow(ry,t),new Xs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new fi(ok(t>=240?t-240:t+120,i,r),ok(t,i,r),ok(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xs(nV(this.h),Yb(this.s),Yb(this.l),Vw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Vw(this.opacity);return`${t===1?"hsl(":"hsla("}${nV(this.h)}, ${Yb(this.s)*100}%, ${Yb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function nV(t){return t=(t||0)%360,t<0?t+360:t}function Yb(t){return Math.max(0,Math.min(1,t||0))}function ok(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const NG=t=>()=>t;function VDe(t,e){return function(n){return t+n*e}}function BDe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function zDe(t){return(t=+t)==1?AG:function(e,n){return n-e?BDe(e,n,t):NG(isNaN(e)?n:e)}}function AG(t,e){var n=e-t;return n?VDe(t,n):NG(isNaN(t)?e:t)}const rV=function t(e){var n=zDe(e);function r(i,s){var o=n((i=Yj(i)).r,(s=Yj(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=AG(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Yl(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Gj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ak=new RegExp(Gj.source,"g");function WDe(t){return function(){return t}}function UDe(t){return function(e){return t(e)+""}}function ZDe(t,e){var n=Gj.lastIndex=ak.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Gj.exec(t))&&(i=ak.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Yl(r,i)})),n=ak.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?UDe(l[0].x):WDe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var iV=180/Math.PI,Hj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function RG(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*iV,skewX:Math.atan(l)*iV,scaleX:o,scaleY:a}}var Gb;function XDe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Hj:RG(e.a,e.b,e.c,e.d,e.e,e.f)}function YDe(t){return t==null||(Gb||(Gb=document.createElementNS("http://www.w3.org/2000/svg","g")),Gb.setAttribute("transform",t),!(t=Gb.transform.baseVal.consolidate()))?Hj:(t=t.matrix,RG(t.a,t.b,t.c,t.d,t.e,t.f))}function MG(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,d,f,h,m){if(c!==d||u!==f){var g=h.push("translate(",null,e,null,n);m.push({i:g-4,x:Yl(c,d)},{i:g-2,x:Yl(u,f)})}else(d||f)&&h.push("translate("+d+e+f+n)}function o(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Yl(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function a(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Yl(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,f,h,m){if(c!==d||u!==f){var g=h.push(i(h)+"scale(",null,",",null,")");m.push({i:g-4,x:Yl(c,d)},{i:g-2,x:Yl(u,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=t(c),u=t(u),s(c.translateX,c.translateY,u.translateX,u.translateY,d,f),o(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var m=-1,g=f.length,y;++m<g;)d[(y=f[m]).i]=y.x(h);return d.join("")}}}var GDe=MG(XDe,"px, ","px)","deg)"),HDe=MG(YDe,", ",")",")"),KDe=1e-12;function sV(t){return((t=Math.exp(t))+1/t)/2}function JDe(t){return((t=Math.exp(t))-1/t)/2}function eQe(t){return((t=Math.exp(2*t))-1)/(t+1)}const tQe=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],u=o[0],d=o[1],f=o[2],h=u-a,m=d-l,g=h*h+m*m,y,O;if(g<KDe)O=Math.log(f/c)/e,y=function($){return[a+$*h,l+$*m,c*Math.exp(e*$*O)]};else{var b=Math.sqrt(g),x=(f*f-c*c+r*g)/(2*c*n*b),v=(f*f-c*c-r*g)/(2*f*n*b),w=Math.log(Math.sqrt(x*x+1)-x),_=Math.log(Math.sqrt(v*v+1)-v);O=(_-w)/e,y=function($){var k=$*O,j=sV(w),P=c/(n*b)*(j*eQe(e*k+w)-JDe(w));return[a+P*h,l+P*m,c*j/sV(e*k+w)]}}return y.duration=O*1e3*e/Math.SQRT2,y}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);var Vh=0,Um=0,Om=0,IG=1e3,Bw,Zm,zw=0,_d=0,HS=0,oy=typeof performance=="object"&&performance.now?performance:Date,DG=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gM(){return _d||(DG(nQe),_d=oy.now()+HS)}function nQe(){_d=0}function Ww(){this._call=this._time=this._next=null}Ww.prototype=QG.prototype={constructor:Ww,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?gM():+n)+(e==null?0:+e),!this._next&&Zm!==this&&(Zm?Zm._next=this:Bw=this,Zm=this),this._call=t,this._time=n,Kj()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kj())}};function QG(t,e,n){var r=new Ww;return r.restart(t,e,n),r}function rQe(){gM(),++Vh;for(var t=Bw,e;t;)(e=_d-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Vh}function oV(){_d=(zw=oy.now())+HS,Vh=Um=0;try{rQe()}finally{Vh=0,sQe(),_d=0}}function iQe(){var t=oy.now(),e=t-zw;e>IG&&(HS-=e,zw=t)}function sQe(){for(var t,e=Bw,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Bw=n);Zm=t,Kj(r)}function Kj(t){if(!Vh){Um&&(Um=clearTimeout(Um));var e=t-_d;e>24?(t<1/0&&(Um=setTimeout(oV,t-oy.now()-HS)),Om&&(Om=clearInterval(Om))):(Om||(zw=oy.now(),Om=setInterval(iQe,IG)),Vh=1,DG(oV))}}function aV(t,e,n){var r=new Ww;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var oQe=YS("start","end","cancel","interrupt"),aQe=[],FG=0,lV=1,Jj=2,uv=3,cV=4,eE=5,dv=6;function KS(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;lQe(t,n,{name:e,index:r,group:i,on:oQe,tween:aQe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:FG})}function yM(t,e){var n=po(t,e);if(n.state>FG)throw new Error("too late; already scheduled");return n}function ma(t,e){var n=po(t,e);if(n.state>uv)throw new Error("too late; already running");return n}function po(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function lQe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=QG(s,0,n.time);function s(c){n.state=lV,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,f,h;if(n.state!==lV)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===uv)return aV(o);h.state===cV?(h.state=dv,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<e&&(h.state=dv,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(aV(function(){n.state===uv&&(n.state=cV,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Jj,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Jj){for(n.state=uv,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=eE,1),d=-1,f=i.length;++d<f;)i[d].call(t,u);n.state===eE&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=dv,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function fv(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Jj&&r.state<eE,r.state=dv,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function cQe(t){return this.each(function(){fv(this,t)})}function uQe(t,e){var n,r;return function(){var i=ma(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function dQe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=ma(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function fQe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=po(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?uQe:dQe)(n,t,e))}function OM(t,e,n){var r=t._id;return t.each(function(){var i=ma(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return po(i,r).value[e]}}function LG(t,e){var n;return(typeof e=="number"?Yl:e instanceof sy?rV:(n=sy(e))?(e=n,rV):ZDe)(t,e)}function hQe(t){return function(){this.removeAttribute(t)}}function pQe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mQe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function gQe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function yQe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function OQe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function bQe(t,e){var n=GS(t),r=n==="transform"?HDe:LG;return this.attrTween(t,typeof e=="function"?(n.local?OQe:yQe)(n,r,OM(this,"attr."+t,e)):e==null?(n.local?pQe:hQe)(n):(n.local?gQe:mQe)(n,r,e))}function xQe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function vQe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function wQe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&vQe(t,s)),n}return i._value=e,i}function SQe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&xQe(t,s)),n}return i._value=e,i}function _Qe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=GS(t);return this.tween(n,(r.local?wQe:SQe)(r,e))}function $Qe(t,e){return function(){yM(this,t).delay=+e.apply(this,arguments)}}function kQe(t,e){return e=+e,function(){yM(this,t).delay=e}}function PQe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$Qe:kQe)(e,t)):po(this.node(),e).delay}function CQe(t,e){return function(){ma(this,t).duration=+e.apply(this,arguments)}}function jQe(t,e){return e=+e,function(){ma(this,t).duration=e}}function EQe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?CQe:jQe)(e,t)):po(this.node(),e).duration}function TQe(t,e){if(typeof e!="function")throw new Error;return function(){ma(this,t).ease=e}}function NQe(t){var e=this._id;return arguments.length?this.each(TQe(e,t)):po(this.node(),e).ease}function AQe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ma(this,t).ease=n}}function RQe(t){if(typeof t!="function")throw new Error;return this.each(AQe(this._id,t))}function MQe(t){typeof t!="function"&&(t=yG(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new gl(r,this._parents,this._name,this._id)}function IQe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],u=l.length,d=o[a]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;a<r;++a)o[a]=e[a];return new gl(o,this._parents,this._name,this._id)}function DQe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function QQe(t,e,n){var r,i,s=DQe(e)?yM:ma;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function FQe(t,e){var n=this._id;return arguments.length<2?po(this.node(),n).on.on(t):this.each(QQe(n,t,e))}function LQe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function qQe(){return this.on("end.remove",LQe(this._id))}function VQe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=hM(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=t.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,KS(c[f],e,n,f,c,po(u,n)));return new gl(s,this._parents,e,n)}function BQe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=gG(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=t.call(u,u.__data__,d,l),h,m=po(u,n),g=0,y=f.length;g<y;++g)(h=f[g])&&KS(h,e,n,g,f,m);s.push(f),o.push(u)}return new gl(s,o,e,n)}var zQe=bO.prototype.constructor;function WQe(){return new zQe(this._groups,this._parents)}function UQe(t,e){var n,r,i;return function(){var s=qh(this,t),o=(this.style.removeProperty(t),qh(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function qG(t){return function(){this.style.removeProperty(t)}}function ZQe(t,e,n){var r,i=n+"",s;return function(){var o=qh(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function XQe(t,e,n){var r,i,s;return function(){var o=qh(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),qh(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function YQe(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=ma(this,t),c=l.on,u=l.value[s]==null?a||(a=qG(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),l.on=r}}function GQe(t,e,n){var r=(t+="")=="transform"?GDe:LG;return e==null?this.styleTween(t,UQe(t,r)).on("end.style."+t,qG(t)):typeof e=="function"?this.styleTween(t,XQe(t,r,OM(this,"style."+t,e))).each(YQe(this._id,t)):this.styleTween(t,ZQe(t,r,e),n).on("end.style."+t,null)}function HQe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function KQe(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&HQe(t,o,n)),r}return s._value=e,s}function JQe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,KQe(t,e,n??""))}function eFe(t){return function(){this.textContent=t}}function tFe(t){return function(){var e=t(this);this.textContent=e??""}}function nFe(t){return this.tween("text",typeof t=="function"?tFe(OM(this,"text",t)):eFe(t==null?"":t+""))}function rFe(t){return function(e){this.textContent=t.call(this,e)}}function iFe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&rFe(i)),e}return r._value=t,r}function sFe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,iFe(t))}function oFe(){for(var t=this._name,e=this._id,n=VG(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=po(l,e);KS(l,t,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new gl(r,this._parents,t,n)}function aFe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=ma(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var lFe=0;function gl(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function VG(){return++lFe}var $a=bO.prototype;gl.prototype={constructor:gl,select:VQe,selectAll:BQe,selectChild:$a.selectChild,selectChildren:$a.selectChildren,filter:MQe,merge:IQe,selection:WQe,transition:oFe,call:$a.call,nodes:$a.nodes,node:$a.node,size:$a.size,empty:$a.empty,each:$a.each,on:FQe,attr:bQe,attrTween:_Qe,style:GQe,styleTween:JQe,text:nFe,textTween:sFe,remove:qQe,tween:fQe,delay:PQe,duration:EQe,ease:NQe,easeVarying:RQe,end:aFe,[Symbol.iterator]:$a[Symbol.iterator]};function cFe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var uFe={time:null,delay:0,duration:250,ease:cFe};function dFe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function fFe(t){var e,n;t instanceof gl?(e=t._id,t=t._name):(e=VG(),(n=uFe).time=gM(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&KS(l,t,e,c,o,n||dFe(l,e));return new gl(r,this._parents,t,e)}bO.prototype.interrupt=cQe;bO.prototype.transition=fFe;const Hb=t=>()=>t;function hFe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ha(t,e,n){this.k=t,this.x=e,this.y=n}Ha.prototype={constructor:Ha,scale:function(t){return t===1?this:new Ha(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ha(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var JS=new Ha(1,0,0);BG.prototype=Ha.prototype;function BG(t){for(;!t.__zoom;)if(!(t=t.parentNode))return JS;return t.__zoom}function lk(t){t.stopImmediatePropagation()}function bm(t){t.preventDefault(),t.stopImmediatePropagation()}function pFe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function mFe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function uV(){return this.__zoom||JS}function gFe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function yFe(){return navigator.maxTouchPoints||"ontouchstart"in this}function OFe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function zG(){var t=pFe,e=mFe,n=OFe,r=gFe,i=yFe,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=tQe,c=YS("start","zoom","end"),u,d,f,h=500,m=150,g=0,y=10;function O(C){C.property("__zoom",uV).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",P).filter(i).on("touchstart.zoom",R).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}O.transform=function(C,T,E,I){var M=C.selection?C.selection():C;M.property("__zoom",uV),C!==M?w(C,T,E,I):M.interrupt().each(function(){_(this,arguments).event(I).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},O.scaleBy=function(C,T,E,I){O.scaleTo(C,function(){var M=this.__zoom.k,Q=typeof T=="function"?T.apply(this,arguments):T;return M*Q},E,I)},O.scaleTo=function(C,T,E,I){O.transform(C,function(){var M=e.apply(this,arguments),Q=this.__zoom,B=E==null?v(M):typeof E=="function"?E.apply(this,arguments):E,Z=Q.invert(B),W=typeof T=="function"?T.apply(this,arguments):T;return n(x(b(Q,W),B,Z),M,o)},E,I)},O.translateBy=function(C,T,E,I){O.transform(C,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof E=="function"?E.apply(this,arguments):E),e.apply(this,arguments),o)},null,I)},O.translateTo=function(C,T,E,I,M){O.transform(C,function(){var Q=e.apply(this,arguments),B=this.__zoom,Z=I==null?v(Q):typeof I=="function"?I.apply(this,arguments):I;return n(JS.translate(Z[0],Z[1]).scale(B.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof E=="function"?-E.apply(this,arguments):-E),Q,o)},I,M)};function b(C,T){return T=Math.max(s[0],Math.min(s[1],T)),T===C.k?C:new Ha(T,C.x,C.y)}function x(C,T,E){var I=T[0]-E[0]*C.k,M=T[1]-E[1]*C.k;return I===C.x&&M===C.y?C:new Ha(C.k,I,M)}function v(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function w(C,T,E,I){C.on("start.zoom",function(){_(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(I).end()}).tween("zoom",function(){var M=this,Q=arguments,B=_(M,Q).event(I),Z=e.apply(M,Q),W=E==null?v(Z):typeof E=="function"?E.apply(M,Q):E,oe=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),le=M.__zoom,U=typeof T=="function"?T.apply(M,Q):T,G=l(le.invert(W).concat(oe/le.k),U.invert(W).concat(oe/U.k));return function(ie){if(ie===1)ie=U;else{var Y=G(ie),L=oe/Y[2];ie=new Ha(L,W[0]-Y[0]*L,W[1]-Y[1]*L)}B.zoom(null,ie)}})}function _(C,T,E){return!E&&C.__zooming||new $(C,T)}function $(C,T){this.that=C,this.args=T,this.active=0,this.sourceEvent=null,this.extent=e.apply(C,T),this.taps=0}$.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,T){return this.mouse&&C!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var T=Ei(this.that).datum();c.call(C,this.that,new hFe(C,{sourceEvent:this.sourceEvent,target:O,type:C,transform:this.that.__zoom,dispatch:c}),T)}};function k(C,...T){if(!t.apply(this,arguments))return;var E=_(this,T).event(C),I=this.__zoom,M=Math.max(s[0],Math.min(s[1],I.k*Math.pow(2,r.apply(this,arguments)))),Q=zs(C);if(E.wheel)(E.mouse[0][0]!==Q[0]||E.mouse[0][1]!==Q[1])&&(E.mouse[1]=I.invert(E.mouse[0]=Q)),clearTimeout(E.wheel);else{if(I.k===M)return;E.mouse=[Q,I.invert(Q)],fv(this),E.start()}bm(C),E.wheel=setTimeout(B,m),E.zoom("mouse",n(x(b(I,M),E.mouse[0],E.mouse[1]),E.extent,o));function B(){E.wheel=null,E.end()}}function j(C,...T){if(f||!t.apply(this,arguments))return;var E=C.currentTarget,I=_(this,T,!0).event(C),M=Ei(C.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",oe,!0),Q=zs(C,E),B=C.clientX,Z=C.clientY;PG(C.view),lk(C),I.mouse=[Q,this.__zoom.invert(Q)],fv(this),I.start();function W(le){if(bm(le),!I.moved){var U=le.clientX-B,G=le.clientY-Z;I.moved=U*U+G*G>g}I.event(le).zoom("mouse",n(x(I.that.__zoom,I.mouse[0]=zs(le,E),I.mouse[1]),I.extent,o))}function oe(le){M.on("mousemove.zoom mouseup.zoom",null),CG(le.view,I.moved),bm(le),I.event(le).end()}}function P(C,...T){if(t.apply(this,arguments)){var E=this.__zoom,I=zs(C.changedTouches?C.changedTouches[0]:C,this),M=E.invert(I),Q=E.k*(C.shiftKey?.5:2),B=n(x(b(E,Q),I,M),e.apply(this,T),o);bm(C),a>0?Ei(this).transition().duration(a).call(w,B,I,C):Ei(this).call(O.transform,B,I,C)}}function R(C,...T){if(t.apply(this,arguments)){var E=C.touches,I=E.length,M=_(this,T,C.changedTouches.length===I).event(C),Q,B,Z,W;for(lk(C),B=0;B<I;++B)Z=E[B],W=zs(Z,this),W=[W,this.__zoom.invert(W),Z.identifier],M.touch0?!M.touch1&&M.touch0[2]!==W[2]&&(M.touch1=W,M.taps=0):(M.touch0=W,Q=!0,M.taps=1+!!u);u&&(u=clearTimeout(u)),Q&&(M.taps<2&&(d=W[0],u=setTimeout(function(){u=null},h)),fv(this),M.start())}}function N(C,...T){if(this.__zooming){var E=_(this,T).event(C),I=C.changedTouches,M=I.length,Q,B,Z,W;for(bm(C),Q=0;Q<M;++Q)B=I[Q],Z=zs(B,this),E.touch0&&E.touch0[2]===B.identifier?E.touch0[0]=Z:E.touch1&&E.touch1[2]===B.identifier&&(E.touch1[0]=Z);if(B=E.that.__zoom,E.touch1){var oe=E.touch0[0],le=E.touch0[1],U=E.touch1[0],G=E.touch1[1],ie=(ie=U[0]-oe[0])*ie+(ie=U[1]-oe[1])*ie,Y=(Y=G[0]-le[0])*Y+(Y=G[1]-le[1])*Y;B=b(B,Math.sqrt(ie/Y)),Z=[(oe[0]+U[0])/2,(oe[1]+U[1])/2],W=[(le[0]+G[0])/2,(le[1]+G[1])/2]}else if(E.touch0)Z=E.touch0[0],W=E.touch0[1];else return;E.zoom("touch",n(x(B,Z,W),E.extent,o))}}function A(C,...T){if(this.__zooming){var E=_(this,T).event(C),I=C.changedTouches,M=I.length,Q,B;for(lk(C),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),Q=0;Q<M;++Q)B=I[Q],E.touch0&&E.touch0[2]===B.identifier?delete E.touch0:E.touch1&&E.touch1[2]===B.identifier&&delete E.touch1;if(E.touch1&&!E.touch0&&(E.touch0=E.touch1,delete E.touch1),E.touch0)E.touch0[1]=this.__zoom.invert(E.touch0[0]);else if(E.end(),E.taps===2&&(B=zs(B,this),Math.hypot(d[0]-B[0],d[1]-B[1])<y)){var Z=Ei(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return O.wheelDelta=function(C){return arguments.length?(r=typeof C=="function"?C:Hb(+C),O):r},O.filter=function(C){return arguments.length?(t=typeof C=="function"?C:Hb(!!C),O):t},O.touchable=function(C){return arguments.length?(i=typeof C=="function"?C:Hb(!!C),O):i},O.extent=function(C){return arguments.length?(e=typeof C=="function"?C:Hb([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),O):e},O.scaleExtent=function(C){return arguments.length?(s[0]=+C[0],s[1]=+C[1],O):[s[0],s[1]]},O.translateExtent=function(C){return arguments.length?(o[0][0]=+C[0][0],o[1][0]=+C[1][0],o[0][1]=+C[0][1],o[1][1]=+C[1][1],O):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},O.constrain=function(C){return arguments.length?(n=C,O):n},O.duration=function(C){return arguments.length?(a=+C,O):a},O.interpolate=function(C){return arguments.length?(l=C,O):l},O.on=function(){var C=c.on.apply(c,arguments);return C===c?O:C},O.clickDistance=function(C){return arguments.length?(g=(C=+C)*C,O):Math.sqrt(g)},O.tapDistance=function(C){return arguments.length?(y=+C,O):y},O}const kl={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`},ay=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],WG=["Enter"," ","Escape"];var Bh;(function(t){t.Strict="strict",t.Loose="loose"})(Bh||(Bh={}));var hd;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(hd||(hd={}));var ly;(function(t){t.Partial="partial",t.Full="full"})(ly||(ly={}));const UG={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var ic;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ic||(ic={}));var Wc;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Wc||(Wc={}));var Le;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Le||(Le={}));const dV={[Le.Left]:Le.Right,[Le.Right]:Le.Left,[Le.Top]:Le.Bottom,[Le.Bottom]:Le.Top};function ZG(t){return t===null?null:t?"valid":"invalid"}const XG=t=>"id"in t&&"source"in t&&"target"in t,bFe=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),bM=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),vO=(t,e=[0,0])=>{const{width:n,height:r}=Pl(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},xFe=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):bM(i)?i:e.nodeLookup.get(i.id));const a=o?Uw(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return e1(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return t1(n)},wO=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=Uw(r);n=e1(n,i)}}),t1(n)},YG=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...SO(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const c of t.values()){const{measured:u,selectable:d=!0,hidden:f=!1}=c;if(o&&!d||f)continue;const h=u.width??c.width??c.initialWidth??null,m=u.height??c.height??c.initialHeight??null,g=cy(a,Wh(c)),y=(h??0)*(m??0),O=s&&g>0;(!c.internals.handleBounds||O||g>=y||c.dragging)&&l.push(c)}return l},vFe=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function tE(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function nE({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!1);const a=wO(t),l=xM(a,e,n,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await r.setViewport(l,{duration:o==null?void 0:o.duration}),Promise.resolve(!0)}function GG({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},u=o.origin??r;let d=i;if(o.extent==="parent"&&!o.expandParent)if(!a)s==null||s("005",kl.error005());else{const h=a.measured.width,m=a.measured.height;h&&m&&(d=[[l,c],[l+h,c+m]])}else a&&Uh(o.extent)&&(d=[[o.extent[0][0]+l,o.extent[0][1]+c],[o.extent[1][0]+l,o.extent[1][1]+c]]);const f=Uh(d)?$d(e,d,o.measured):e;return{position:{x:f.x-l+o.measured.width*u[0],y:f.y-c+o.measured.height*u[1]},positionAbsolute:f}}async function wFe({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(f=>f.id)),o=[];for(const f of n){if(f.deletable===!1)continue;const h=s.has(f.id),m=!h&&f.parentId&&o.find(g=>g.id===f.parentId);(h||m)&&o.push(f)}const a=new Set(e.map(f=>f.id)),l=r.filter(f=>f.deletable!==!1),u=vFe(o,l);for(const f of l)a.has(f.id)&&!u.find(m=>m.id===f.id)&&u.push(f);if(!i)return{edges:u,nodes:o};const d=await i({nodes:o,edges:u});return typeof d=="boolean"?d?{edges:u,nodes:o}:{edges:[],nodes:[]}:d}const zh=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),$d=(t={x:0,y:0},e,n)=>({x:zh(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:zh(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function HG(t,e,n){const{width:r,height:i}=Pl(n),{x:s,y:o}=n.internals.positionAbsolute;return $d(t,[[s,o],[s+r,o+i]],e)}const fV=(t,e,n)=>t<e?zh(Math.abs(t-e),1,e)/e:t>n?-zh(Math.abs(t-n),1,e)/e:0,KG=(t,e,n=15,r=40)=>{const i=fV(t.x,r,e.width-r)*n,s=fV(t.y,r,e.height-r)*n;return[i,s]},e1=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),rE=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),t1=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Wh=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=bM(t)?t.internals.positionAbsolute:vO(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},Uw=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=bM(t)?t.internals.positionAbsolute:vO(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},JG=(t,e)=>t1(e1(rE(t),rE(e))),cy=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},hV=t=>Ks(t.width)&&Ks(t.height)&&Ks(t.x)&&Ks(t.y),Ks=t=>!isNaN(t)&&isFinite(t),SFe=(t,e)=>{},n1=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),SO=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return s?n1(a,o):a},eH=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),xM=(t,e,n,r,i,s)=>{const o=e/(t.width*(1+s)),a=n/(t.height*(1+s)),l=Math.min(o,a),c=zh(l,r,i),u=t.x+t.width/2,d=t.y+t.height/2,f=e/2-u*c,h=n/2-d*c;return{x:f,y:h,zoom:c}},Zw=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Uh(t){return t!==void 0&&t!=="parent"}function Pl(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function tH(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function nH(t,e={width:0,height:0},n,r,i){let s=n;const o={...t};for(;s;){const a=r.get(s);if(s=a==null?void 0:a.parentId,a){const l=a.origin||i;o.x+=a.internals.positionAbsolute.x-(e.width??0)*l[0],o.y+=a.internals.positionAbsolute.y-(e.height??0)*l[1]}}return o}function hg(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r}){const{x:i,y:s}=il(t),o=SO({x:i,y:s},r),{x:a,y:l}=n?n1(o,e):o;return{xSnapped:a,ySnapped:l,...o}}const r1=t=>({width:t.offsetWidth,height:t.offsetHeight}),rH=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},_Fe=["INPUT","SELECT","TEXTAREA"];function iE(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return _Fe.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const iH=t=>"clientX"in t,il=(t,e)=>{var s,o;const n=iH(t),r=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,i=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},pV=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...r1(o)}})};function sH({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=t*.125+i*.375+o*.375+n*.125,c=e*.125+s*.375+a*.375+r*.125,u=Math.abs(l-t),d=Math.abs(c-e);return[l,c,u,d]}function Kb(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function mV({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Le.Left:return[e-Kb(e-r,s),n];case Le.Right:return[e+Kb(r-e,s),n];case Le.Top:return[e,n-Kb(n-i,s)];case Le.Bottom:return[e,n+Kb(i-n,s)]}}function oH({sourceX:t,sourceY:e,sourcePosition:n=Le.Bottom,targetX:r,targetY:i,targetPosition:s=Le.Top,curvature:o=.25}){const[a,l]=mV({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[c,u]=mV({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[d,f,h,m]=sH({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${e} C${a},${l} ${c},${u} ${r},${i}`,d,f,h,m]}function aH({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function $Fe({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||e.selected||t.selected,o=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(s?o:0)}function kFe({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=e1(Uw(t),Uw(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return cy(o,t1(s))>0}const PFe=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,CFe=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),lH=(t,e)=>{if(!t.source||!t.target)return e;let n;return XG(t)?n={...t}:n={...t,id:PFe(t)},CFe(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function cH({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,a]=aH({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,a]}const gV={[Le.Left]:{x:-1,y:0},[Le.Right]:{x:1,y:0},[Le.Top]:{x:0,y:-1},[Le.Bottom]:{x:0,y:1}},jFe=({source:t,sourcePosition:e=Le.Bottom,target:n})=>e===Le.Left||e===Le.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},yV=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function EFe({source:t,sourcePosition:e=Le.Bottom,target:n,targetPosition:r=Le.Top,center:i,offset:s}){const o=gV[e],a=gV[r],l={x:t.x+o.x*s,y:t.y+o.y*s},c={x:n.x+a.x*s,y:n.y+a.y*s},u=jFe({source:l,sourcePosition:e,target:c}),d=u.x!==0?"x":"y",f=u[d];let h=[],m,g;const y={x:0,y:0},O={x:0,y:0},[b,x,v,w]=aH({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[d]*a[d]===-1){m=i.x??b,g=i.y??x;const $=[{x:m,y:l.y},{x:m,y:c.y}],k=[{x:l.x,y:g},{x:c.x,y:g}];o[d]===f?h=d==="x"?$:k:h=d==="x"?k:$}else{const $=[{x:l.x,y:c.y}],k=[{x:c.x,y:l.y}];if(d==="x"?h=o.x===f?k:$:h=o.y===f?$:k,e===r){const A=Math.abs(t[d]-n[d]);if(A<=s){const C=Math.min(s-1,s-A);o[d]===f?y[d]=(l[d]>t[d]?-1:1)*C:O[d]=(c[d]>n[d]?-1:1)*C}}if(e!==r){const A=d==="x"?"y":"x",C=o[d]===a[A],T=l[A]>c[A],E=l[A]<c[A];(o[d]===1&&(!C&&T||C&&E)||o[d]!==1&&(!C&&E||C&&T))&&(h=d==="x"?$:k)}const j={x:l.x+y.x,y:l.y+y.y},P={x:c.x+O.x,y:c.y+O.y},R=Math.max(Math.abs(j.x-h[0].x),Math.abs(P.x-h[0].x)),N=Math.max(Math.abs(j.y-h[0].y),Math.abs(P.y-h[0].y));R>=N?(m=(j.x+P.x)/2,g=h[0].y):(m=h[0].x,g=(j.y+P.y)/2)}return[[t,{x:l.x+y.x,y:l.y+y.y},...h,{x:c.x+O.x,y:c.y+O.y},n],m,g,v,w]}function TFe(t,e,n,r){const i=Math.min(yV(t,e)/2,yV(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const c=t.x<n.x?-1:1,u=t.y<n.y?1:-1;return`L ${s+i*c},${o}Q ${s},${o} ${s},${o+i*u}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function sE({sourceX:t,sourceY:e,sourcePosition:n=Le.Bottom,targetX:r,targetY:i,targetPosition:s=Le.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20}){const[u,d,f,h,m]=EFe({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c});return[u.reduce((y,O,b)=>{let x="";return b>0&&b<u.length-1?x=TFe(u[b-1],O,u[b+1],o):x=`${b===0?"M":"L"}${O.x} ${O.y}`,y+=x,y},""),d,f,h,m]}function OV(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function NFe(t){var d;const{sourceNode:e,targetNode:n}=t;if(!OV(e)||!OV(n))return null;const r=e.internals.handleBounds||bV(e.handles),i=n.internals.handleBounds||bV(n.handles),s=xV((r==null?void 0:r.source)??[],t.sourceHandle),o=xV(t.connectionMode===Bh.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!s||!o)return(d=t.onError)==null||d.call(t,"008",kl.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(s==null?void 0:s.position)||Le.Bottom,l=(o==null?void 0:o.position)||Le.Top,c=uy(e,s,a),u=uy(n,o,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:l}}function bV(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function uy(t,e,n=Le.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:o,height:a}=e??Pl(t);if(r)return{x:i+o/2,y:s+a/2};switch((e==null?void 0:e.position)??n){case Le.Top:return{x:i+o/2,y:s};case Le.Right:return{x:i+o,y:s+a/2};case Le.Bottom:return{x:i+o/2,y:s+a};case Le.Left:return{x:i,y:s+a/2}}}function xV(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function oE(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function AFe(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=oE(l,e);s.has(c)||(o.push({id:c,color:l.color||n,...l}),s.add(c))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const vM={nodeOrigin:[0,0],nodeExtent:ay,elevateNodesOnSelect:!0,defaults:{}},RFe={...vM,checkEquality:!0};function wM(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function MFe(t,e,n){const r=wM(vM,n);for(const i of t.values())if(i.parentId)SM(i,t,e,r);else{const s=vO(i,r.nodeOrigin),o=Uh(i.extent)?i.extent:r.nodeExtent,a=$d(s,o,Pl(i));i.internals.positionAbsolute=a}}function aE(t,e,n,r){var a,l;const i=wM(RFe,r),s=new Map(e),o=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const c of t){let u=s.get(c.id);if(i.checkEquality&&c===(u==null?void 0:u.internals.userNode))e.set(c.id,u);else{const d=vO(c,i.nodeOrigin),f=Uh(c.extent)?c.extent:i.nodeExtent,h=$d(d,f,Pl(c));u={...i.defaults,...c,measured:{width:(a=c.measured)==null?void 0:a.width,height:(l=c.measured)==null?void 0:l.height},internals:{positionAbsolute:h,handleBounds:c.measured?u==null?void 0:u.internals.handleBounds:void 0,z:uH(c,o),userNode:c}},e.set(c.id,u)}c.parentId&&SM(u,e,n,r)}}function IFe(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function SM(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=wM(vM,r),a=t.parentId,l=e.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}IFe(t,n);const c=i?1e3:0,{x:u,y:d,z:f}=DFe(t,l,s,o,c),{positionAbsolute:h}=t.internals,m=u!==h.x||d!==h.y;(m||f!==t.internals.z)&&(t.internals={...t.internals,positionAbsolute:m?{x:u,y:d}:h,z:f})}function uH(t,e){return(Ks(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function DFe(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,a=Pl(t),l=vO(t,n),c=Uh(t.extent)?$d(l,t.extent,a):l;let u=$d({x:s+c.x,y:o+c.y},r,a);t.extent==="parent"&&(u=HG(u,a,e));const d=uH(t,i),f=e.internals.z??0;return{x:u.x,y:u.y,z:f>d?f:d}}function _M(t,e,n,r=[0,0]){var o;const i=[],s=new Map;for(const a of t){const l=e.get(a.parentId);if(!l)continue;const c=((o=s.get(a.parentId))==null?void 0:o.expandedRect)??Wh(l),u=JG(c,a.rect);s.set(a.parentId,{expandedRect:u,parent:l})}return s.size>0&&s.forEach(({expandedRect:a,parent:l},c)=>{var x;const u=l.internals.positionAbsolute,d=Pl(l),f=l.origin??r,h=a.x<u.x?Math.round(Math.abs(u.x-a.x)):0,m=a.y<u.y?Math.round(Math.abs(u.y-a.y)):0,g=Math.max(d.width,Math.round(a.width)),y=Math.max(d.height,Math.round(a.height)),O=(g-d.width)*f[0],b=(y-d.height)*f[1];(h>0||m>0||O||b)&&(i.push({id:c,type:"position",position:{x:l.position.x-h+O,y:l.position.y-m+b}}),(x=n.get(c))==null||x.forEach(v=>{t.some(w=>w.id===v.id)||i.push({id:v.id,type:"position",position:{x:v.position.x+h,y:v.position.y+m}})})),(d.width<a.width||d.height<a.height||h||m)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:g+(h?f[0]*h-O:0),height:y+(m?f[1]*m-b:0)}})}),i}function QFe(t,e,n,r,i,s){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(o),{m22:u}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const f of t.values()){const h=e.get(f.id);if(h)if(h.hidden)h.internals={...h.internals,handleBounds:void 0},a=!0;else{const m=r1(f.nodeElement),g=h.measured.width!==m.width||h.measured.height!==m.height;if(!!(m.width&&m.height&&(g||!h.internals.handleBounds||f.force))){const O=f.nodeElement.getBoundingClientRect(),b=Uh(h.extent)?h.extent:s;let{positionAbsolute:x}=h.internals;h.parentId&&h.extent==="parent"?x=HG(x,m,e.get(h.parentId)):b&&(x=$d(x,b,m)),h.measured=m,h.internals={...h.internals,positionAbsolute:x,handleBounds:{source:pV("source",f.nodeElement,O,u,h.id),target:pV("target",f.nodeElement,O,u,h.id)}},h.parentId&&SM(h,e,n,{nodeOrigin:i}),a=!0,g&&(l.push({id:h.id,type:"dimensions",dimensions:m}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:Wh(h,i)}))}}}if(d.length>0){const f=_M(d,e,n,i);l.push(...f)}return{changes:l,updatedInternals:a}}async function FFe({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function dH(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l=`${i}-source-${o}`,c=`${s}-target-${a}`,u=t.get(l)||new Map,d=t.get(c)||new Map,f={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a};e.set(r.id,r),t.set(l,u.set(`${s}-${a}`,f)),t.set(c,d.set(`${i}-${o}`,f))}}function fH(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:fH(n,e):!1}function vV(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function LFe(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!fH(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const a=t.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function ck({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var o,a,l;const i=[];for(const[c,u]of e){const d=(o=n.get(c))==null?void 0:o.internals.userNode;d&&i.push({...d,position:u.position,dragging:r})}if(!t)return[i[0],i];const s=(a=n.get(t))==null?void 0:a.internals.userNode;return[s?{...s,position:((l=e.get(t))==null?void 0:l.position)||s.position,dragging:r}:i[0],i]}function qFe({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,c={x:0,y:0},u=null,d=!1,f=null,h=!1;function m({noDragClassName:y,handleSelector:O,domNode:b,isSelectable:x,nodeId:v,nodeClickDistance:w=0}){f=Ei(b);function _({x:P,y:R},N){const{nodeLookup:A,nodeExtent:C,snapGrid:T,snapToGrid:E,nodeOrigin:I,onNodeDrag:M,onSelectionDrag:Q,onError:B,updateNodePositions:Z}=e();s={x:P,y:R};let W=!1,oe={x:0,y:0,x2:0,y2:0};if(a.size>1&&C){const le=wO(a);oe=rE(le)}for(const[le,U]of a){if(!A.has(le))continue;let G={x:P-U.distance.x,y:R-U.distance.y};E&&(G=n1(G,T));let ie=[[C[0][0],C[0][1]],[C[1][0],C[1][1]]];if(a.size>1&&C&&!U.extent){const{positionAbsolute:ae}=U.internals,q=ae.x-oe.x+C[0][0],te=ae.x+U.measured.width-oe.x2+C[1][0],re=ae.y-oe.y+C[0][1],ue=ae.y+U.measured.height-oe.y2+C[1][1];ie=[[q,re],[te,ue]]}const{position:Y,positionAbsolute:L}=GG({nodeId:le,nextPosition:G,nodeLookup:A,nodeExtent:ie,nodeOrigin:I,onError:B});W=W||U.position.x!==Y.x||U.position.y!==Y.y,U.position=Y,U.internals.positionAbsolute=L}if(W&&(Z(a,!0),N&&(r||M||!v&&Q))){const[le,U]=ck({nodeId:v,dragItems:a,nodeLookup:A});r==null||r(N,a,le,U),M==null||M(N,le,U),v||Q==null||Q(N,U)}}async function $(){if(!u)return;const{transform:P,panBy:R,autoPanSpeed:N}=e(),[A,C]=KG(c,u,N);(A!==0||C!==0)&&(s.x=(s.x??0)-A/P[2],s.y=(s.y??0)-C/P[2],await R({x:A,y:C})&&_(s,null)),o=requestAnimationFrame($)}function k(P){var W;const{nodeLookup:R,multiSelectionActive:N,nodesDraggable:A,transform:C,snapGrid:T,snapToGrid:E,selectNodesOnDrag:I,onNodeDragStart:M,onSelectionDragStart:Q,unselectNodesAndEdges:B}=e();d=!0,(!I||!x)&&!N&&v&&((W=R.get(v))!=null&&W.selected||B()),x&&I&&v&&(t==null||t(v));const Z=hg(P.sourceEvent,{transform:C,snapGrid:T,snapToGrid:E});if(s=Z,a=LFe(R,A,Z,v),a.size>0&&(n||M||!v&&Q)){const[oe,le]=ck({nodeId:v,dragItems:a,nodeLookup:R});n==null||n(P.sourceEvent,a,oe,le),M==null||M(P.sourceEvent,oe,le),v||Q==null||Q(P.sourceEvent,le)}}const j=jG().clickDistance(w).on("start",P=>{const{domNode:R,nodeDragThreshold:N,transform:A,snapGrid:C,snapToGrid:T}=e();h=!1,N===0&&k(P),s=hg(P.sourceEvent,{transform:A,snapGrid:C,snapToGrid:T}),u=(R==null?void 0:R.getBoundingClientRect())||null,c=il(P.sourceEvent,u)}).on("drag",P=>{const{autoPanOnNodeDrag:R,transform:N,snapGrid:A,snapToGrid:C,nodeDragThreshold:T,nodeLookup:E}=e(),I=hg(P.sourceEvent,{transform:N,snapGrid:A,snapToGrid:C});if((P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1||v&&!E.has(v))&&(h=!0),!h){if(!l&&R&&d&&(l=!0,$()),!d){const M=I.xSnapped-(s.x??0),Q=I.ySnapped-(s.y??0);Math.sqrt(M*M+Q*Q)>T&&k(P)}(s.x!==I.xSnapped||s.y!==I.ySnapped)&&a&&d&&(c=il(P.sourceEvent,u),_(I,P.sourceEvent))}}).on("end",P=>{if(!(!d||h)&&(l=!1,d=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:R,updateNodePositions:N,onNodeDragStop:A,onSelectionDragStop:C}=e();if(N(a,!1),i||A||!v&&C){const[T,E]=ck({nodeId:v,dragItems:a,nodeLookup:R,dragging:!1});i==null||i(P.sourceEvent,a,T,E),A==null||A(P.sourceEvent,T,E),v||C==null||C(P.sourceEvent,E)}}}).filter(P=>{const R=P.target;return!P.button&&(!y||!vV(R,`.${y}`,b))&&(!O||vV(R,O,b))});f.call(j)}function g(){f==null||f.on(".drag",null)}return{update:m,destroy:g}}function VFe(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())cy(i,Wh(s))>0&&r.push(s);return r}const BFe=250;function zFe(t,e,n,r){var a,l;let i=[],s=1/0;const o=VFe(t,n,e+BFe);for(const c of o){const u=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((l=c.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of u){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:f,y:h}=uy(c,d,d.position,!0),m=Math.sqrt(Math.pow(f-t.x,2)+Math.pow(h-t.y,2));m>e||(m<s?(i=[{...d,x:f,y:h}],s=m):m===s&&i.push({...d,x:f,y:h}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(u=>u.type===c)??i[0]}return i[0]}function hH(t,e,n,r,i,s=!1){var c,u,d;const o=r.get(t);if(!o)return null;const a=i==="strict"?(c=o.internals.handleBounds)==null?void 0:c[e]:[...((u=o.internals.handleBounds)==null?void 0:u.source)??[],...((d=o.internals.handleBounds)==null?void 0:d.target)??[]],l=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return l&&s?{...l,...uy(o,l,l.position,!0)}:l}function pH(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function WFe(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const mH=()=>!0;function UFe(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:d,panBy:f,cancelConnection:h,onConnectStart:m,onConnect:g,onConnectEnd:y,isValidConnection:O=mH,onReconnectEnd:b,updateConnection:x,getTransform:v,getFromHandle:w,autoPanSpeed:_}){const $=rH(t.target);let k=0,j;const{x:P,y:R}=il(t),N=$==null?void 0:$.elementFromPoint(P,R),A=pH(s,N),C=a==null?void 0:a.getBoundingClientRect();if(!C||!A)return;const T=hH(i,A,r,l,e);if(!T)return;let E=il(t,C),I=!1,M=null,Q=!1,B=null;function Z(){if(!u||!C)return;const[L,ae]=KG(E,C,_);f({x:L,y:ae}),k=requestAnimationFrame(Z)}const W={...T,nodeId:i,type:A,position:T.position},oe=l.get(i),U={inProgress:!0,isValid:null,from:uy(oe,W,Le.Left,!0),fromHandle:W,fromPosition:W.position,fromNode:oe,to:E,toHandle:null,toPosition:dV[W.position],toNode:null};x(U);let G=U;m==null||m(t,{nodeId:i,handleId:r,handleType:A});function ie(L){if(!w()||!W){Y(L);return}const ae=v();E=il(L,C),j=zFe(SO(E,ae,!1,[1,1]),n,l,W),I||(Z(),I=!0);const q=gH(L,{handle:j,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:O,doc:$,lib:c,flowId:d,nodeLookup:l});B=q.handleDomNode,M=q.connection,Q=WFe(!!j,q.isValid);const te={...G,isValid:Q,to:j&&Q?eH({x:j.x,y:j.y},ae):E,toHandle:q.toHandle,toPosition:Q&&q.toHandle?q.toHandle.position:dV[W.position],toNode:q.toHandle?l.get(q.toHandle.nodeId):null};Q&&j&&G.toHandle&&te.toHandle&&G.toHandle.type===te.toHandle.type&&G.toHandle.nodeId===te.toHandle.nodeId&&G.toHandle.id===te.toHandle.id&&G.to.x===te.to.x&&G.to.y===te.to.y||(x(te),G=te)}function Y(L){(j||B)&&M&&Q&&(g==null||g(M));const{inProgress:ae,...q}=G,te={...q,toPosition:G.toHandle?G.toPosition:null};y==null||y(L,te),s&&(b==null||b(L,te)),h(),cancelAnimationFrame(k),I=!1,Q=!1,M=null,B=null,$.removeEventListener("mousemove",ie),$.removeEventListener("mouseup",Y),$.removeEventListener("touchmove",ie),$.removeEventListener("touchend",Y)}$.addEventListener("mousemove",ie),$.addEventListener("mouseup",Y),$.addEventListener("touchmove",ie),$.addEventListener("touchend",Y)}function gH(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:c=mH,nodeLookup:u}){const d=s==="target",f=e?o.querySelector(`.${a}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:h,y:m}=il(t),g=o.elementFromPoint(h,m),y=g!=null&&g.classList.contains(`${a}-flow__handle`)?g:f,O={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const b=pH(void 0,y),x=y.getAttribute("data-nodeid"),v=y.getAttribute("data-handleid"),w=y.classList.contains("connectable"),_=y.classList.contains("connectableend");if(!x||!b)return O;const $={source:d?x:r,sourceHandle:d?v:i,target:d?r:x,targetHandle:d?i:v};O.connection=$;const j=w&&_&&(n===Bh.Strict?d&&b==="source"||!d&&b==="target":x!==r||v!==i);O.isValid=j&&c($),O.toHandle=hH(x,b,v,u,n,!1)}return O}const lE={onPointerDown:UFe,isValid:gH};function ZFe({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Ei(t);function s({translateExtent:a,width:l,height:c,zoomStep:u=10,pannable:d=!0,zoomable:f=!0,inversePan:h=!1}){const m=x=>{const v=n();if(x.sourceEvent.type!=="wheel"||!e)return;const w=-x.sourceEvent.deltaY*(x.sourceEvent.deltaMode===1?.05:x.sourceEvent.deltaMode?1:.002)*u,_=v[2]*Math.pow(2,w);e.scaleTo(_)};let g=[0,0];const y=x=>{(x.sourceEvent.type==="mousedown"||x.sourceEvent.type==="touchstart")&&(g=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY])},O=x=>{const v=n();if(x.sourceEvent.type!=="mousemove"&&x.sourceEvent.type!=="touchmove"||!e)return;const w=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY],_=[w[0]-g[0],w[1]-g[1]];g=w;const $=r()*Math.max(v[2],Math.log(v[2]))*(h?-1:1),k={x:v[0]-_[0]*$,y:v[1]-_[1]*$},j=[[0,0],[l,c]];e.setViewportConstrained({x:k.x,y:k.y,zoom:v[2]},j,a)},b=zG().on("start",y).on("zoom",d?O:null).on("zoom.wheel",f?m:null);i.call(b,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:zs}}const XFe=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,i1=t=>({x:t.x,y:t.y,zoom:t.k}),uk=({x:t,y:e,zoom:n})=>JS.translate(t,e).scale(n),Rf=(t,e)=>t.target.closest(`.${e}`),yH=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),dk=(t,e=0,n=()=>{})=>{const r=typeof e=="number"&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},OH=t=>{const e=t.ctrlKey&&Zw()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function YFe({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(Rf(u,e))return!1;u.preventDefault(),u.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(u.ctrlKey&&o){const y=zs(u),O=OH(u),b=d*Math.pow(2,O);r.scaleTo(n,b,y,u);return}const f=u.deltaMode===1?20:1;let h=i===hd.Vertical?0:u.deltaX*f,m=i===hd.Horizontal?0:u.deltaY*f;!Zw()&&u.shiftKey&&i!==hd.Vertical&&(h=u.deltaY*f,m=0),r.translateBy(n,-(h/d)*s,-(m/d)*s,{internal:!0});const g=i1(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,a==null||a(u,g)),t.isPanScrolling&&(l==null||l(u,g),t.panScrollTimeout=setTimeout(()=>{c==null||c(u,g),t.isPanScrolling=!1},150))}}function GFe({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||Rf(r,t))return null;r.preventDefault(),n.call(this,r,i)}}function HFe({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var s,o,a;if((s=r.sourceEvent)!=null&&s.internal)return;const i=i1(r.transform);t.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function KFe({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{var o,a;t.usedRightMouseButton=!!(n&&yH(e,t.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((a=s.sourceEvent)!=null&&a.internal)&&(i==null||i(s.sourceEvent,i1(s.transform)))}}function JFe({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,s&&yH(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&XFe(t.prevViewport,o.transform))){const l=i1(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,l)},n?150:0)}}}function e5e({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:c}){return u=>{var m;const d=t||e,f=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(Rf(u,`${c}-flow__node`)||Rf(u,`${c}-flow__edge`)))return!0;if(!r&&!d&&!i&&!s&&!n||o||Rf(u,a)&&u.type==="wheel"||Rf(u,l)&&(u.type!=="wheel"||i&&u.type==="wheel"&&!t)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&((m=u.touches)==null?void 0:m.length)>1)return u.preventDefault(),!1;if(!d&&!i&&!f&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&h}}function t5e({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),f=zG().clickDistance(!Ks(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),h=Ei(t).call(f);x({x:s.x,y:s.y,zoom:zh(s.zoom,e,n)},[[0,0],[d.width,d.height]],i);const m=h.on("wheel.zoom"),g=h.on("dblclick.zoom");f.wheelDelta(OH);function y(N,A){return h?new Promise(C=>{f==null||f.transform(dk(h,A==null?void 0:A.duration,()=>C(!0)),N)}):Promise.resolve(!1)}function O({noWheelClassName:N,noPanClassName:A,onPaneContextMenu:C,userSelectionActive:T,panOnScroll:E,panOnDrag:I,panOnScrollMode:M,panOnScrollSpeed:Q,preventScrolling:B,zoomOnPinch:Z,zoomOnScroll:W,zoomOnDoubleClick:oe,zoomActivationKeyPressed:le,lib:U,onTransformChange:G}){T&&!u.isZoomingOrPanning&&b();const Y=E&&!le&&!T?YFe({zoomPanValues:u,noWheelClassName:N,d3Selection:h,d3Zoom:f,panOnScrollMode:M,panOnScrollSpeed:Q,zoomOnPinch:Z,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:l}):GFe({noWheelClassName:N,preventScrolling:B,d3ZoomHandler:m});if(h.on("wheel.zoom",Y,{passive:!1}),!T){const ae=HFe({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:a});f.on("start",ae);const q=KFe({zoomPanValues:u,panOnDrag:I,onPaneContextMenu:!!C,onPanZoom:o,onTransformChange:G});f.on("zoom",q);const te=JFe({zoomPanValues:u,panOnDrag:I,panOnScroll:E,onPaneContextMenu:C,onPanZoomEnd:l,onDraggingChange:c});f.on("end",te)}const L=e5e({zoomActivationKeyPressed:le,panOnDrag:I,zoomOnScroll:W,panOnScroll:E,zoomOnDoubleClick:oe,zoomOnPinch:Z,userSelectionActive:T,noPanClassName:A,noWheelClassName:N,lib:U});f.filter(L),oe?h.on("dblclick.zoom",g):h.on("dblclick.zoom",null)}function b(){f.on("zoom",null)}async function x(N,A,C){const T=uk(N),E=f==null?void 0:f.constrain()(T,A,C);return E&&await y(E),new Promise(I=>I(E))}async function v(N,A){const C=uk(N);return await y(C,A),new Promise(T=>T(C))}function w(N){if(h){const A=uk(N),C=h.property("__zoom");(C.k!==N.zoom||C.x!==N.x||C.y!==N.y)&&(f==null||f.transform(h,A,null,{sync:!0}))}}function _(){const N=h?BG(h.node()):{x:0,y:0,k:1};return{x:N.x,y:N.y,zoom:N.k}}function $(N,A){return h?new Promise(C=>{f==null||f.scaleTo(dk(h,A==null?void 0:A.duration,()=>C(!0)),N)}):Promise.resolve(!1)}function k(N,A){return h?new Promise(C=>{f==null||f.scaleBy(dk(h,A==null?void 0:A.duration,()=>C(!0)),N)}):Promise.resolve(!1)}function j(N){f==null||f.scaleExtent(N)}function P(N){f==null||f.translateExtent(N)}function R(N){const A=!Ks(N)||N<0?0:N;f==null||f.clickDistance(A)}return{update:O,destroy:b,setViewport:v,setViewportConstrained:x,getViewport:_,scaleTo:$,scaleBy:k,setScaleExtent:j,setTranslateExtent:P,syncViewport:w,setClickDistance:R}}var pg;(function(t){t.Line="line",t.Handle="handle"})(pg||(pg={}));function n5e({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(l[0]=l[0]*-1),a&&s&&(l[1]=l[1]*-1),l}function r5e(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function Fl(t,e){return Math.max(0,e-t)}function Ll(t,e){return Math.max(0,t-e)}function Jb(t,e,n){return Math.max(0,e-t,t-n)}function wV(t,e){return t?!e:e}function i5e(t,e,n,r,i,s,o,a){let{affectsX:l,affectsY:c}=e;const{isHorizontal:u,isVertical:d}=e,f=u&&d,{xSnapped:h,ySnapped:m}=n,{minWidth:g,maxWidth:y,minHeight:O,maxHeight:b}=r,{x,y:v,width:w,height:_,aspectRatio:$}=t;let k=Math.floor(u?h-t.pointerX:0),j=Math.floor(d?m-t.pointerY:0);const P=w+(l?-k:k),R=_+(c?-j:j),N=-s[0]*w,A=-s[1]*_;let C=Jb(P,g,y),T=Jb(R,O,b);if(o){let M=0,Q=0;l&&k<0?M=Fl(x+k+N,o[0][0]):!l&&k>0&&(M=Ll(x+P+N,o[1][0])),c&&j<0?Q=Fl(v+j+A,o[0][1]):!c&&j>0&&(Q=Ll(v+R+A,o[1][1])),C=Math.max(C,M),T=Math.max(T,Q)}if(a){let M=0,Q=0;l&&k>0?M=Ll(x+k,a[0][0]):!l&&k<0&&(M=Fl(x+P,a[1][0])),c&&j>0?Q=Ll(v+j,a[0][1]):!c&&j<0&&(Q=Fl(v+R,a[1][1])),C=Math.max(C,M),T=Math.max(T,Q)}if(i){if(u){const M=Jb(P/$,O,b)*$;if(C=Math.max(C,M),o){let Q=0;!l&&!c||l&&!c&&f?Q=Ll(v+A+P/$,o[1][1])*$:Q=Fl(v+A+(l?k:-k)/$,o[0][1])*$,C=Math.max(C,Q)}if(a){let Q=0;!l&&!c||l&&!c&&f?Q=Fl(v+P/$,a[1][1])*$:Q=Ll(v+(l?k:-k)/$,a[0][1])*$,C=Math.max(C,Q)}}if(d){const M=Jb(R*$,g,y)/$;if(T=Math.max(T,M),o){let Q=0;!l&&!c||c&&!l&&f?Q=Ll(x+R*$+N,o[1][0])/$:Q=Fl(x+(c?j:-j)*$+N,o[0][0])/$,T=Math.max(T,Q)}if(a){let Q=0;!l&&!c||c&&!l&&f?Q=Fl(x+R*$,a[1][0])/$:Q=Ll(x+(c?j:-j)*$,a[0][0])/$,T=Math.max(T,Q)}}}j=j+(j<0?T:-T),k=k+(k<0?C:-C),i&&(f?P>R*$?j=(wV(l,c)?-k:k)/$:k=(wV(l,c)?-j:j)*$:u?(j=k/$,c=l):(k=j*$,l=c));const E=l?x+k:x,I=c?v+j:v;return{width:w+(l?-k:k),height:_+(c?-j:j),x:s[0]*k*(l?-1:1)+E,y:s[1]*j*(c?-1:1)+I}}const bH={width:0,height:0,x:0,y:0},s5e={...bH,pointerX:0,pointerY:0,aspectRatio:1};function o5e(t){return[[0,0],[t.measured.width,t.measured.height]]}function a5e(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,a=n[0]*s,l=n[1]*o;return[[r-a,i-l],[r+s-a,i+o-l]]}function l5e({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=Ei(t);function o({controlPosition:l,boundaries:c,keepAspectRatio:u,onResizeStart:d,onResize:f,onResizeEnd:h,shouldResize:m}){let g={...bH},y={...s5e};const O=r5e(l);let b,x=[],v,w,_;const $=jG().on("start",k=>{const{nodeLookup:j,transform:P,snapGrid:R,snapToGrid:N,nodeOrigin:A}=n();if(b=j.get(e),!b)return;const{xSnapped:C,ySnapped:T}=hg(k.sourceEvent,{transform:P,snapGrid:R,snapToGrid:N});g={width:b.measured.width??0,height:b.measured.height??0,x:b.position.x??0,y:b.position.y??0},y={...g,pointerX:C,pointerY:T,aspectRatio:g.width/g.height},v=void 0,b.parentId&&(b.extent==="parent"||b.expandParent)&&(v=j.get(b.parentId),w=v&&b.extent==="parent"?o5e(v):void 0),x=[],_=void 0;for(const[E,I]of j)if(I.parentId===e&&(x.push({id:E,position:{...I.position},extent:I.extent}),I.extent==="parent"||I.expandParent)){const M=a5e(I,b,I.origin??A);_?_=[[Math.min(M[0][0],_[0][0]),Math.min(M[0][1],_[0][1])],[Math.max(M[1][0],_[1][0]),Math.max(M[1][1],_[1][1])]]:_=M}d==null||d(k,{...g})}).on("drag",k=>{const{transform:j,snapGrid:P,snapToGrid:R,nodeOrigin:N}=n(),A=hg(k.sourceEvent,{transform:j,snapGrid:P,snapToGrid:R}),C=[];if(!b)return;const{x:T,y:E,width:I,height:M}=g,Q={},B=b.origin??N,{width:Z,height:W,x:oe,y:le}=i5e(y,O,A,c,u,B,w,_),U=Z!==I,G=W!==M,ie=oe!==T&&U,Y=le!==E&&G;if(!ie&&!Y&&!U&&!G)return;if((ie||Y||B[0]===1||B[1]===1)&&(Q.x=ie?oe:g.x,Q.y=Y?le:g.y,g.x=Q.x,g.y=Q.y,x.length>0)){const te=oe-T,re=le-E;for(const ue of x)ue.position={x:ue.position.x-te+B[0]*(Z-I),y:ue.position.y-re+B[1]*(W-M)},C.push(ue)}if((U||G)&&(Q.width=U?Z:g.width,Q.height=G?W:g.height,g.width=Q.width,g.height=Q.height),v&&b.expandParent){const te=B[0]*(Q.width??0);Q.x&&Q.x<te&&(g.x=te,y.x=y.x-(Q.x-te));const re=B[1]*(Q.height??0);Q.y&&Q.y<re&&(g.y=re,y.y=y.y-(Q.y-re))}const L=n5e({width:g.width,prevWidth:I,height:g.height,prevHeight:M,affectsX:O.affectsX,affectsY:O.affectsY}),ae={...g,direction:L};(m==null?void 0:m(k,ae))!==!1&&(f==null||f(k,ae),r(Q,C))}).on("end",k=>{h==null||h(k,{...g}),i==null||i()});s.call($)}function a(){s.on(".drag",null)}return{update:o,destroy:a}}var fk={exports:{}},hk={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SV;function c5e(){if(SV)return hk;SV=1;var t=MN(),e=cue();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return hk.useSyncExternalStoreWithSelector=function(c,u,d,f,h){var m=s(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=a(function(){function O(_){if(!b){if(b=!0,x=_,_=f(_),h!==void 0&&g.hasValue){var $=g.value;if(h($,_))return v=$}return v=_}if($=v,r(x,_))return $;var k=f(_);return h!==void 0&&h($,k)?$:(x=_,v=k)}var b=!1,x,v,w=d===void 0?null:d;return[function(){return O(u())},w===null?void 0:function(){return O(w())}]},[u,d,f,h]);var y=i(c,m[0],m[1]);return o(function(){g.hasValue=!0,g.value=y},[y]),l(y),y},hk}var _V;function u5e(){return _V||(_V=1,fk.exports=c5e()),fk.exports}var xH=u5e();const d5e=Z0(xH),$V=t=>{let e;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const h=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,h))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{n.clear()}},c=e=t(r,i,l);return l},f5e=t=>t?$V(t):$V,{useDebugValue:h5e}=ve,{useSyncExternalStoreWithSelector:p5e}=d5e,m5e=t=>t;function vH(t,e=m5e,n){const r=p5e(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return h5e(r),r}const kV=(t,e)=>{const n=f5e(t),r=(i,s=e)=>vH(n,i,s);return Object.assign(r,n),r},g5e=(t,e)=>t?kV(t,e):kV;function un(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const s1=S.createContext(null),y5e=s1.Provider,wH=kl.error001();function mt(t,e){const n=S.useContext(s1);if(n===null)throw new Error(wH);return vH(n,t,e)}function Jt(){const t=S.useContext(s1);if(t===null)throw new Error(wH);return S.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const PV={display:"none"},O5e={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},SH="react-flow__node-desc",_H="react-flow__edge-desc",b5e="react-flow__aria-live",x5e=t=>t.ariaLiveMessage;function v5e({rfId:t}){const e=mt(x5e);return p.jsx("div",{id:`${b5e}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:O5e,children:e})}function w5e({rfId:t,disableKeyboardA11y:e}){return p.jsxs(p.Fragment,{children:[p.jsxs("div",{id:`${SH}-${t}`,style:PV,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),p.jsx("div",{id:`${_H}-${t}`,style:PV,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&p.jsx(v5e,{rfId:t})]})}const S5e=t=>t.userSelectionActive?"none":"all";function dy({position:t="top-left",children:e,className:n,style:r,...i}){const s=mt(S5e),o=`${t}`.split("-");return p.jsx("div",{className:An(["react-flow__panel",n,...o]),style:{...r,pointerEvents:s},...i,children:e})}function _5e({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:p.jsx(dy,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:p.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const $5e=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},ex=t=>t.id;function k5e(t,e){return un(t.selectedNodes.map(ex),e.selectedNodes.map(ex))&&un(t.selectedEdges.map(ex),e.selectedEdges.map(ex))}function P5e({onSelectionChange:t}){const e=Jt(),{selectedNodes:n,selectedEdges:r}=mt($5e,k5e);return S.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const C5e=t=>!!t.onSelectionChangeHandlers;function j5e({onSelectionChange:t}){const e=mt(C5e);return t||e?p.jsx(P5e,{onSelectionChange:t}):null}const $H=[0,0],E5e={x:0,y:0,zoom:1},T5e=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],CV=[...T5e,"rfId"],N5e=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),jV={translateExtent:ay,nodeOrigin:$H,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function A5e(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=mt(N5e,un),u=Jt();S.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{d.current=jV,a()}),[]);const d=S.useRef(jV);return S.useEffect(()=>{for(const f of CV){const h=t[f],m=d.current[f];h!==m&&(typeof t[f]>"u"||(f==="nodes"?e(h):f==="edges"?n(h):f==="minZoom"?r(h):f==="maxZoom"?i(h):f==="translateExtent"?s(h):f==="nodeExtent"?o(h):f==="paneClickDistance"?c(h):f==="fitView"?u.setState({fitViewOnInit:h}):f==="fitViewOptions"?u.setState({fitViewOnInitOptions:h}):u.setState({[f]:h})))}d.current=t},CV.map(f=>t[f])),null}function EV(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function R5e(t){var r;const[e,n]=S.useState(t==="system"?null:t);return S.useEffect(()=>{if(t!=="system"){n(t);return}const i=EV(),s=()=>n(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[t]),e!==null?e:(r=EV())!=null&&r.matches?"dark":"light"}const TV=typeof document<"u"?document:null;function fy(t=null,e={target:TV,actInsideInputWithModifier:!0}){const[n,r]=S.useState(!1),i=S.useRef(!1),s=S.useRef(new Set([])),[o,a]=S.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(d=>typeof d=="string").map(d=>d.split("+")),u=c.reduce((d,f)=>d.concat(...f),[]);return[c,u]}return[[],[]]},[t]);return S.useEffect(()=>{const l=(e==null?void 0:e.target)||TV;if(t!==null){const c=f=>{if(i.current=f.ctrlKey||f.metaKey||f.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&iE(f))return!1;const m=AV(f.code,a);s.current.add(f[m]),NV(o,s.current,!1)&&(f.preventDefault(),r(!0))},u=f=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&iE(f))return!1;const m=AV(f.code,a);NV(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(f[m]),f.key==="Meta"&&s.current.clear(),i.current=!1},d=()=>{s.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",u),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",u),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[t,r]),n}function NV(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function AV(t,e){return e.includes(t)?"code":"key"}const M5e=()=>{const t=Jt();return S.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:s,domNode:o}=t.getState();if(!s||!o)return Promise.resolve(!1);const a=tE(n,e),{width:l,height:c}=r1(o);return nE({nodes:a,width:l,height:c,minZoom:r,maxZoom:i,panZoom:s},e)},setCenter:async(e,n,r)=>{const{width:i,height:s,maxZoom:o,panZoom:a}=t.getState(),l=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:o,c=i/2-e*l,u=s/2-n*l;return a?(await a.setViewport({x:c,y:u,zoom:l},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:a}=t.getState(),l=xM(e,r,i,s,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={snapToGrid:!0})=>{const{transform:r,snapGrid:i,domNode:s}=t.getState();if(!s)return e;const{x:o,y:a}=s.getBoundingClientRect(),l={x:e.x-o,y:e.y-a};return SO(l,r,n.snapToGrid,i)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=eH(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function kH(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...s};for(const l of o)I5e(l,a);n.push(a)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function I5e(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function PH(t,e){return kH(t,e)}function CH(t,e){return kH(t,e)}function wu(t,e){return{id:t,type:"select",selected:e}}function Mf(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(wu(s.id,o)))}return r}function RV({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(s=>[s.id,s]));for(const[s,o]of t.entries()){const a=e.get(o.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==o&&n.push({id:o.id,item:o,type:"replace"}),l===void 0&&n.push({item:o,type:"add",index:s})}for(const[s]of e)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function MV(t){return{id:t.id,type:"remove"}}const IV=t=>bFe(t),D5e=t=>XG(t);function jH(t){return S.forwardRef(t)}const Q5e=typeof window<"u"?S.useLayoutEffect:S.useEffect;function DV(t){const[e,n]=S.useState(!1),[r]=S.useState(()=>F5e(()=>n(!0)));return Q5e(()=>{if(!e){r.reset();return}const i=r.get();i.length&&(t(i),r.reset()),n(!1)},[e]),r}function F5e(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const EH=S.createContext(null);function L5e({children:t}){const e=Jt(),n=S.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:u,onNodesChange:d,nodeLookup:f}=e.getState();let h=l;for(const m of a)h=typeof m=="function"?m(h):m;u?c(h):d&&d(RV({items:h,lookup:f}))},[]),r=DV(n),i=S.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:u,onEdgesChange:d,edgeLookup:f}=e.getState();let h=l;for(const m of a)h=typeof m=="function"?m(h):m;u?c(h):d&&d(RV({items:h,lookup:f}))},[]),s=DV(i),o=S.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return p.jsx(EH.Provider,{value:o,children:t})}function q5e(){const t=S.useContext(EH);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const V5e=t=>!!t.panZoom;function Pp(){const t=M5e(),e=Jt(),n=q5e(),r=mt(V5e),i=S.useMemo(()=>{const s=d=>e.getState().nodeLookup.get(d),o=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{var O,b;const{nodeLookup:f,nodeOrigin:h}=e.getState(),m=IV(d)?d:f.get(d.id),g=m.parentId?nH(m.position,m.measured,m.parentId,f,h):m.position,y={id:m.id,position:g,width:((O=m.measured)==null?void 0:O.width)??m.width,height:((b=m.measured)==null?void 0:b.height)??m.height,data:m.data};return Wh(y)},c=(d,f,h={replace:!1})=>{o(m=>m.map(g=>{if(g.id===d){const y=typeof f=="function"?f(g):f;return h.replace&&IV(y)?y:{...g,...y}}return g}))},u=(d,f,h={replace:!1})=>{a(m=>m.map(g=>{if(g.id===d){const y=typeof f=="function"?f(g):f;return h.replace&&D5e(y)?y:{...g,...y}}return g}))};return{getNodes:()=>e.getState().nodes.map(d=>({...d})),getNode:d=>{var f;return(f=s(d))==null?void 0:f.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:d=[]}=e.getState();return d.map(f=>({...f}))},getEdge:d=>e.getState().edgeLookup.get(d),setNodes:o,setEdges:a,addNodes:d=>{const f=Array.isArray(d)?d:[d];n.nodeQueue.push(h=>[...h,...f])},addEdges:d=>{const f=Array.isArray(d)?d:[d];n.edgeQueue.push(h=>[...h,...f])},toObject:()=>{const{nodes:d=[],edges:f=[],transform:h}=e.getState(),[m,g,y]=h;return{nodes:d.map(O=>({...O})),edges:f.map(O=>({...O})),viewport:{x:m,y:g,zoom:y}}},deleteElements:async({nodes:d=[],edges:f=[]})=>{const{nodes:h,edges:m,onNodesDelete:g,onEdgesDelete:y,triggerNodeChanges:O,triggerEdgeChanges:b,onDelete:x,onBeforeDelete:v}=e.getState(),{nodes:w,edges:_}=await wFe({nodesToRemove:d,edgesToRemove:f,nodes:h,edges:m,onBeforeDelete:v}),$=_.length>0,k=w.length>0;if($){const j=_.map(MV);y==null||y(_),b(j)}if(k){const j=w.map(MV);g==null||g(w),O(j)}return(k||$)&&(x==null||x({nodes:w,edges:_})),{deletedNodes:w,deletedEdges:_}},getIntersectingNodes:(d,f=!0,h)=>{const m=hV(d),g=m?d:l(d),y=h!==void 0;return g?(h||e.getState().nodes).filter(O=>{const b=e.getState().nodeLookup.get(O.id);if(b&&!m&&(O.id===d.id||!b.internals.positionAbsolute))return!1;const x=Wh(y?O:b),v=cy(x,g);return f&&v>0||v>=g.width*g.height}):[]},isNodeIntersecting:(d,f,h=!0)=>{const g=hV(d)?d:l(d);if(!g)return!1;const y=cy(g,f);return h&&y>0||y>=g.width*g.height},updateNode:c,updateNodeData:(d,f,h={replace:!1})=>{c(d,m=>{const g=typeof f=="function"?f(m):f;return h.replace?{...m,data:g}:{...m,data:{...m.data,...g}}},h)},updateEdge:u,updateEdgeData:(d,f,h={replace:!1})=>{u(d,m=>{const g=typeof f=="function"?f(m):f;return h.replace?{...m,data:g}:{...m,data:{...m.data,...g}}},h)},getNodesBounds:d=>{const{nodeLookup:f,nodeOrigin:h}=e.getState();return xFe(d,{nodeLookup:f,nodeOrigin:h})},getHandleConnections:({type:d,id:f,nodeId:h})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${h}-${d}-${f??null}`))==null?void 0:m.values())??[])}}},[]);return S.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const QV=t=>t.selected,B5e={actInsideInputWithModifier:!1},z5e=typeof window<"u"?window:void 0;function W5e({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=Jt(),{deleteElements:r}=Pp(),i=fy(t,B5e),s=fy(e,{target:z5e});S.useEffect(()=>{if(i){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(QV),edges:o.filter(QV)}),n.setState({nodesSelectionActive:!1})}},[i]),S.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function U5e(t){const e=Jt();S.useEffect(()=>{const n=()=>{var i,s;if(!t.current)return!1;const r=r1(t.current);(r.height===0||r.width===0)&&((s=(i=e.getState()).onError)==null||s.call(i,"004",kl.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const o1={position:"absolute",width:"100%",height:"100%",top:0,left:0},Z5e=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function X5e({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=hd.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:u,maxZoom:d,zoomActivationKeyCode:f,preventScrolling:h=!0,children:m,noWheelClassName:g,noPanClassName:y,onViewportChange:O,isControlledViewport:b,paneClickDistance:x}){const v=Jt(),w=S.useRef(null),{userSelectionActive:_,lib:$}=mt(Z5e,un),k=fy(f),j=S.useRef();U5e(w);const P=S.useCallback(R=>{O==null||O({x:R[0],y:R[1],zoom:R[2]}),b||v.setState({transform:R})},[O,b]);return S.useEffect(()=>{if(w.current){j.current=t5e({domNode:w.current,minZoom:u,maxZoom:d,translateExtent:c,viewport:l,paneClickDistance:x,onDraggingChange:C=>v.setState({paneDragging:C}),onPanZoomStart:(C,T)=>{const{onViewportChangeStart:E,onMoveStart:I}=v.getState();I==null||I(C,T),E==null||E(T)},onPanZoom:(C,T)=>{const{onViewportChange:E,onMove:I}=v.getState();I==null||I(C,T),E==null||E(T)},onPanZoomEnd:(C,T)=>{const{onViewportChangeEnd:E,onMoveEnd:I}=v.getState();I==null||I(C,T),E==null||E(T)}});const{x:R,y:N,zoom:A}=j.current.getViewport();return v.setState({panZoom:j.current,transform:[R,N,A],domNode:w.current.closest(".react-flow")}),()=>{var C;(C=j.current)==null||C.destroy()}}},[]),S.useEffect(()=>{var R;(R=j.current)==null||R.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:k,preventScrolling:h,noPanClassName:y,userSelectionActive:_,noWheelClassName:g,lib:$,onTransformChange:P})},[t,e,n,r,i,s,o,a,k,h,y,_,g,$,P]),p.jsx("div",{className:"react-flow__renderer",ref:w,style:o1,children:m})}const Y5e=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function G5e(){const{userSelectionActive:t,userSelectionRect:e}=mt(Y5e,un);return t&&e?p.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const pk=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},H5e=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging});function K5e({isSelecting:t,selectionKeyPressed:e,selectionMode:n=ly.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:f,children:h}){const m=S.useRef(null),g=Jt(),y=S.useRef(0),O=S.useRef(0),b=S.useRef(),x=S.useRef(new Map),{userSelectionActive:v,elementsSelectable:w,dragging:_}=mt(H5e,un),$=w&&(t||v),k=S.useRef(!1),j=S.useRef(!1),P=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,O.current=0},R=M=>{if(k.current){k.current=!1;return}a==null||a(M),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},N=M=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){M.preventDefault();return}l==null||l(M)},A=c?M=>c(M):void 0,C=M=>{var le,U,G,ie;const{resetSelectedElements:Q,domNode:B,edgeLookup:Z}=g.getState();if(b.current=B==null?void 0:B.getBoundingClientRect(),!w||!t||M.button!==0||M.target!==m.current||!b.current)return;(U=(le=M.target)==null?void 0:le.setPointerCapture)==null||U.call(le,M.pointerId),j.current=!0,k.current=!1,x.current=new Map;for(const[Y,L]of Z)x.current.set(L.source,((G=x.current.get(L.source))==null?void 0:G.add(Y))||new Set([Y])),x.current.set(L.target,((ie=x.current.get(L.target))==null?void 0:ie.add(Y))||new Set([Y]));const{x:W,y:oe}=il(M.nativeEvent,b.current);Q(),g.setState({userSelectionRect:{width:0,height:0,startX:W,startY:oe,x:W,y:oe}}),s==null||s(M)},T=M=>{const{userSelectionRect:Q,edgeLookup:B,transform:Z,nodeLookup:W,triggerNodeChanges:oe,triggerEdgeChanges:le}=g.getState();if(!b.current||!Q)return;k.current=!0;const{x:U,y:G}=il(M.nativeEvent,b.current),{startX:ie,startY:Y}=Q,L={startX:ie,startY:Y,x:U<ie?U:ie,y:G<Y?G:Y,width:Math.abs(U-ie),height:Math.abs(G-Y)},ae=YG(W,L,Z,n===ly.Partial,!0),q=new Set,te=new Set;for(const re of ae){te.add(re.id);const ue=x.current.get(re.id);if(ue)for(const fe of ue)q.add(fe)}if(y.current!==te.size){y.current=te.size;const re=Mf(W,te,!0);oe(re)}if(O.current!==q.size){O.current=q.size;const re=Mf(B,q);le(re)}g.setState({userSelectionRect:L,userSelectionActive:!0,nodesSelectionActive:!1})},E=M=>{var B,Z;if(M.button!==0||!j.current)return;(Z=(B=M.target)==null?void 0:B.releasePointerCapture)==null||Z.call(B,M.pointerId);const{userSelectionRect:Q}=g.getState();!v&&Q&&M.target===m.current&&(R==null||R(M)),y.current>0&&g.setState({nodesSelectionActive:!0}),P(),o==null||o(M),(e||i)&&(k.current=!1),j.current=!1},I=r===!0||Array.isArray(r)&&r.includes(0);return p.jsxs("div",{className:An(["react-flow__pane",{draggable:I,dragging:_,selection:t}]),onClick:$?void 0:pk(R,m),onContextMenu:pk(N,m),onWheel:pk(A,m),onPointerEnter:$?void 0:u,onPointerDown:$?C:d,onPointerMove:$?T:d,onPointerUp:$?E:void 0,onPointerLeave:f,ref:m,style:o1,children:[h,p.jsx(G5e,{})]})}function cE({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:a,onError:l}=e.getState(),c=a.get(t);if(!c){l==null||l("012",kl.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):i([t])}function TH({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const a=Jt(),[l,c]=S.useState(!1),u=S.useRef();return S.useEffect(()=>{u.current=qFe({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{cE({id:d,store:a,nodeRef:t})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),S.useEffect(()=>{var d,f;if(e)(d=u.current)==null||d.destroy();else if(t.current)return(f=u.current)==null||f.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{var h;(h=u.current)==null||h.destroy()}},[n,r,e,s,t,i]),l}const J5e=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function NH(){const t=Jt();return S.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:u}=t.getState(),d=new Map,f=J5e(o),h=i?s[0]:5,m=i?s[1]:5,g=n.direction.x*h*n.factor,y=n.direction.y*m*n.factor;for(const[,O]of c){if(!f(O))continue;let b={x:O.internals.positionAbsolute.x+g,y:O.internals.positionAbsolute.y+y};i&&(b=n1(b,s));const{position:x,positionAbsolute:v}=GG({nodeId:O.id,nextPosition:b,nodeLookup:c,nodeExtent:r,nodeOrigin:u,onError:a});O.position=x,O.internals.positionAbsolute=v,d.set(O.id,O)}l(d)},[])}const $M=S.createContext(null),eLe=$M.Provider;$M.Consumer;const AH=()=>S.useContext($M),tLe=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),nLe=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:a,toHandle:l,isValid:c}=o,u=(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===e&&(a==null?void 0:a.type)===n,connectingTo:u,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:s===Bh.Strict?(a==null?void 0:a.type)!==n:t!==(a==null?void 0:a.nodeId)||e!==(a==null?void 0:a.id),connectionInProcess:!!a,valid:u&&c}};function rLe({type:t="source",position:e=Le.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:c,onMouseDown:u,onTouchStart:d,...f},h){var C,T;const m=o||null,g=t==="target",y=Jt(),O=AH(),{connectOnClick:b,noPanClassName:x,rfId:v}=mt(tLe,un),{connectingFrom:w,connectingTo:_,clickConnecting:$,isPossibleEndHandle:k,connectionInProcess:j,valid:P}=mt(nLe(O,m,t),un);O||(T=(C=y.getState()).onError)==null||T.call(C,"010",kl.error010());const R=E=>{const{defaultEdgeOptions:I,onConnect:M,hasDefaultEdges:Q}=y.getState(),B={...I,...E};if(Q){const{edges:Z,setEdges:W}=y.getState();W(lH(B,Z))}M==null||M(B),a==null||a(B)},N=E=>{if(!O)return;const I=iH(E.nativeEvent);if(i&&(I&&E.button===0||!I)){const M=y.getState();lE.onPointerDown(E.nativeEvent,{autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:g,handleId:m,nodeId:O,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:R,isValidConnection:n||M.isValidConnection,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed})}I?u==null||u(E):d==null||d(E)},A=E=>{const{onClickConnectStart:I,onClickConnectEnd:M,connectionClickStartHandle:Q,connectionMode:B,isValidConnection:Z,lib:W,rfId:oe,nodeLookup:le,connection:U}=y.getState();if(!O||!Q&&!i)return;if(!Q){I==null||I(E.nativeEvent,{nodeId:O,handleId:m,handleType:t}),y.setState({connectionClickStartHandle:{nodeId:O,type:t,id:m}});return}const G=rH(E.target),ie=n||Z,{connection:Y,isValid:L}=lE.isValid(E.nativeEvent,{handle:{nodeId:O,id:m,type:t},connectionMode:B,fromNodeId:Q.nodeId,fromHandleId:Q.id||null,fromType:Q.type,isValidConnection:ie,flowId:oe,doc:G,lib:W,nodeLookup:le});L&&Y&&R(Y);const ae=structuredClone(U);delete ae.inProgress,ae.toPosition=ae.toHandle?ae.toHandle.position:null,M==null||M(E,ae),y.setState({connectionClickStartHandle:null})};return p.jsx("div",{"data-handleid":m,"data-nodeid":O,"data-handlepos":e,"data-id":`${v}-${O}-${m}-${t}`,className:An(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",x,c,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:s,clickconnecting:$,connectingfrom:w,connectingto:_,valid:P,connectionindicator:r&&(!j||k)&&(j?s:i)}]),onMouseDown:N,onTouchStart:N,onClick:b?A:void 0,ref:h,...f,children:l})}const kd=S.memo(jH(rLe));function iLe({data:t,isConnectable:e,sourcePosition:n=Le.Bottom}){return p.jsxs(p.Fragment,{children:[t==null?void 0:t.label,p.jsx(kd,{type:"source",position:n,isConnectable:e})]})}function sLe({data:t,isConnectable:e,targetPosition:n=Le.Top,sourcePosition:r=Le.Bottom}){return p.jsxs(p.Fragment,{children:[p.jsx(kd,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,p.jsx(kd,{type:"source",position:r,isConnectable:e})]})}function oLe(){return null}function aLe({data:t,isConnectable:e,targetPosition:n=Le.Top}){return p.jsxs(p.Fragment,{children:[p.jsx(kd,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const Xw={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},FV={input:iLe,default:sLe,output:aLe,group:oLe};function lLe(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const cLe=t=>{const{width:e,height:n,x:r,y:i}=wO(t.nodeLookup,{filter:s=>!!s.selected});return{width:Ks(e)?e:null,height:Ks(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function uLe({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Jt(),{width:i,height:s,transformString:o,userSelectionActive:a}=mt(cLe,un),l=NH(),c=S.useRef(null);if(S.useEffect(()=>{var f;n||(f=c.current)==null||f.focus({preventScroll:!0})},[n]),TH({nodeRef:c}),a||!i||!s)return null;const u=t?f=>{const h=r.getState().nodes.filter(m=>m.selected);t(f,h)}:void 0,d=f=>{Object.prototype.hasOwnProperty.call(Xw,f.key)&&l({direction:Xw[f.key],factor:f.shiftKey?4:1})};return p.jsx("div",{className:An(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:p.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:s}})})}const LV=typeof window<"u"?window:void 0,dLe=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function RH({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:u,selectionMode:d,onSelectionStart:f,onSelectionEnd:h,multiSelectionKeyCode:m,panActivationKeyCode:g,zoomActivationKeyCode:y,elementsSelectable:O,zoomOnScroll:b,zoomOnPinch:x,panOnScroll:v,panOnScrollSpeed:w,panOnScrollMode:_,zoomOnDoubleClick:$,panOnDrag:k,defaultViewport:j,translateExtent:P,minZoom:R,maxZoom:N,preventScrolling:A,onSelectionContextMenu:C,noWheelClassName:T,noPanClassName:E,disableKeyboardA11y:I,onViewportChange:M,isControlledViewport:Q}){const{nodesSelectionActive:B,userSelectionActive:Z}=mt(dLe),W=fy(c,{target:LV}),oe=fy(g,{target:LV}),le=oe||k,U=oe||v,G=u&&le!==!0,ie=W||Z||G;return W5e({deleteKeyCode:l,multiSelectionKeyCode:m}),p.jsx(X5e,{onPaneContextMenu:s,elementsSelectable:O,zoomOnScroll:b,zoomOnPinch:x,panOnScroll:U,panOnScrollSpeed:w,panOnScrollMode:_,zoomOnDoubleClick:$,panOnDrag:!W&&le,defaultViewport:j,translateExtent:P,minZoom:R,maxZoom:N,zoomActivationKeyCode:y,preventScrolling:A,noWheelClassName:T,noPanClassName:E,onViewportChange:M,isControlledViewport:Q,paneClickDistance:a,children:p.jsxs(K5e,{onSelectionStart:f,onSelectionEnd:h,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:le,isSelecting:!!ie,selectionMode:d,selectionKeyPressed:W,selectionOnDrag:G,children:[t,B&&p.jsx(uLe,{onSelectionContextMenu:C,noPanClassName:E,disableKeyboardA11y:I})]})})}RH.displayName="FlowRenderer";const fLe=S.memo(RH),hLe=t=>e=>t?YG(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function pLe(t){return mt(S.useCallback(hLe(t),[t]),un)}const mLe=t=>t.updateNodeInternals;function gLe(){const t=mt(mLe),[e]=S.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return S.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function yLe({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=Jt(),s=S.useRef(null),o=S.useRef(null),a=S.useRef(t.sourcePosition),l=S.useRef(t.targetPosition),c=S.useRef(e),u=n&&!!t.internals.handleBounds;return S.useEffect(()=>{s.current&&!t.hidden&&(!u||o.current!==s.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(s.current),o.current=s.current)},[u,t.hidden]),S.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),S.useEffect(()=>{if(s.current){const d=c.current!==e,f=a.current!==t.sourcePosition,h=l.current!==t.targetPosition;(d||f||h)&&(c.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function OLe({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:u,resizeObserver:d,noDragClassName:f,noPanClassName:h,disableKeyboardA11y:m,rfId:g,nodeTypes:y,nodeExtent:O,nodeClickDistance:b,onError:x}){const{node:v,internals:w,isParent:_}=mt(Y=>{const L=Y.nodeLookup.get(t),ae=Y.parentLookup.has(t);return{node:L,internals:L.internals,isParent:ae}},un);let $=v.type||"default",k=(y==null?void 0:y[$])||FV[$];k===void 0&&(x==null||x("003",kl.error003($)),$="default",k=FV.default);const j=!!(v.draggable||a&&typeof v.draggable>"u"),P=!!(v.selectable||l&&typeof v.selectable>"u"),R=!!(v.connectable||c&&typeof v.connectable>"u"),N=!!(v.focusable||u&&typeof v.focusable>"u"),A=Jt(),C=tH(v),T=yLe({node:v,nodeType:$,hasDimensions:C,resizeObserver:d}),E=TH({nodeRef:T,disabled:v.hidden||!j,noDragClassName:f,handleSelector:v.dragHandle,nodeId:t,isSelectable:P,nodeClickDistance:b}),I=NH();if(v.hidden)return null;const M=Pl(v),Q=lLe(v),B=P||j||e||n||r||i,Z=n?Y=>n(Y,{...w.userNode}):void 0,W=r?Y=>r(Y,{...w.userNode}):void 0,oe=i?Y=>i(Y,{...w.userNode}):void 0,le=s?Y=>s(Y,{...w.userNode}):void 0,U=o?Y=>o(Y,{...w.userNode}):void 0,G=Y=>{const{selectNodesOnDrag:L,nodeDragThreshold:ae}=A.getState();P&&(!L||!j||ae>0)&&cE({id:t,store:A,nodeRef:T}),e&&e(Y,{...w.userNode})},ie=Y=>{if(!(iE(Y.nativeEvent)||m))if(WG.includes(Y.key)&&P){const L=Y.key==="Escape";cE({id:t,store:A,unselect:L,nodeRef:T})}else j&&v.selected&&Object.prototype.hasOwnProperty.call(Xw,Y.key)&&(A.setState({ariaLiveMessage:`Moved selected node ${Y.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~w.positionAbsolute.x}, y: ${~~w.positionAbsolute.y}`}),I({direction:Xw[Y.key],factor:Y.shiftKey?4:1}))};return p.jsx("div",{className:An(["react-flow__node",`react-flow__node-${$}`,{[h]:j},v.className,{selected:v.selected,selectable:P,parent:_,draggable:j,dragging:E}]),ref:T,style:{zIndex:w.z,transform:`translate(${w.positionAbsolute.x}px,${w.positionAbsolute.y}px)`,pointerEvents:B?"all":"none",visibility:C?"visible":"hidden",...v.style,...Q},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:Z,onMouseMove:W,onMouseLeave:oe,onContextMenu:le,onClick:G,onDoubleClick:U,onKeyDown:N?ie:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":m?void 0:`${SH}-${g}`,"aria-label":v.ariaLabel,children:p.jsx(eLe,{value:t,children:p.jsx(k,{id:t,data:v.data,type:$,positionAbsoluteX:w.positionAbsolute.x,positionAbsoluteY:w.positionAbsolute.y,selected:v.selected,selectable:P,draggable:j,deletable:v.deletable??!0,isConnectable:R,sourcePosition:v.sourcePosition,targetPosition:v.targetPosition,dragging:E,dragHandle:v.dragHandle,zIndex:w.z,parentId:v.parentId,...M})})})}const bLe=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function MH(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=mt(bLe,un),o=pLe(t.onlyRenderVisibleElements),a=gLe();return p.jsx("div",{className:"react-flow__nodes",style:o1,children:o.map(l=>p.jsx(OLe,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},l))})}MH.displayName="NodeRenderer";const xLe=S.memo(MH);function vLe(t){return mt(S.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&kFe({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),un)}const wLe=({color:t="none",strokeWidth:e=1})=>p.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),SLe=({color:t="none",strokeWidth:e=1})=>p.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),qV={[Wc.Arrow]:wLe,[Wc.ArrowClosed]:SLe};function _Le(t){const e=Jt();return S.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(qV,t)?qV[t]:((s=(i=e.getState()).onError)==null||s.call(i,"009",kl.error009(t)),null)},[t])}const $Le=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=_Le(e);return l?p.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:p.jsx(l,{color:n,strokeWidth:o})}):null},IH=({defaultColor:t,rfId:e})=>{const n=mt(s=>s.edges),r=mt(s=>s.defaultEdgeOptions),i=S.useMemo(()=>AFe(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?p.jsx("svg",{className:"react-flow__marker",children:p.jsx("defs",{children:i.map(s=>p.jsx($Le,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};IH.displayName="MarkerDefinitions";var kLe=S.memo(IH);function DH({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...u}){const[d,f]=S.useState({x:1,y:0,width:0,height:0}),h=An(["react-flow__edge-textwrapper",c]),m=S.useRef(null);return S.useEffect(()=>{if(m.current){const g=m.current.getBBox();f({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:p.jsxs("g",{transform:`translate(${t-d.width/2} ${e-d.height/2})`,className:h,visibility:d.width?"visible":"hidden",...u,children:[i&&p.jsx("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),p.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:m,style:r,children:n}),l]})}DH.displayName="EdgeText";const PLe=S.memo(DH);function a1({id:t,path:e,labelX:n,labelY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:f,className:h,interactionWidth:m=20}){return p.jsxs(p.Fragment,{children:[p.jsx("path",{id:t,style:u,d:e,fill:"none",className:An(["react-flow__edge-path",h]),markerEnd:d,markerStart:f}),m&&p.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),i&&Ks(n)&&Ks(r)?p.jsx(PLe,{x:n,y:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function VV({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Le.Left||t===Le.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function QH({sourceX:t,sourceY:e,sourcePosition:n=Le.Bottom,targetX:r,targetY:i,targetPosition:s=Le.Top}){const[o,a]=VV({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,c]=VV({pos:s,x1:r,y1:i,x2:t,y2:e}),[u,d,f,h]=sH({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${t},${e} C${o},${a} ${l},${c} ${r},${i}`,u,d,f,h]}function FH(t){return S.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Le.Bottom,targetPosition:a=Le.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,interactionWidth:O})=>{const[b,x,v]=QH({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a}),w=t.isInternal?void 0:e;return p.jsx(a1,{id:w,path:b,labelX:x,labelY:v,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,interactionWidth:O})})}const CLe=FH({isInternal:!1}),LH=FH({isInternal:!0});CLe.displayName="SimpleBezierEdge";LH.displayName="SimpleBezierEdgeInternal";function qH(t){return S.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,sourcePosition:h=Le.Bottom,targetPosition:m=Le.Top,markerEnd:g,markerStart:y,pathOptions:O,interactionWidth:b})=>{const[x,v,w]=sE({sourceX:n,sourceY:r,sourcePosition:h,targetX:i,targetY:s,targetPosition:m,borderRadius:O==null?void 0:O.borderRadius,offset:O==null?void 0:O.offset}),_=t.isInternal?void 0:e;return p.jsx(a1,{id:_,path:x,labelX:v,labelY:w,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:g,markerStart:y,interactionWidth:b})})}const VH=qH({isInternal:!1}),BH=qH({isInternal:!0});VH.displayName="SmoothStepEdge";BH.displayName="SmoothStepEdgeInternal";function zH(t){return S.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return p.jsx(VH,{...n,id:r,pathOptions:S.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const jLe=zH({isInternal:!1}),WH=zH({isInternal:!0});jLe.displayName="StepEdge";WH.displayName="StepEdgeInternal";function UH(t){return S.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:m,interactionWidth:g})=>{const[y,O,b]=cH({sourceX:n,sourceY:r,targetX:i,targetY:s}),x=t.isInternal?void 0:e;return p.jsx(a1,{id:x,path:y,labelX:O,labelY:b,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:m,interactionWidth:g})})}const ELe=UH({isInternal:!1}),ZH=UH({isInternal:!0});ELe.displayName="StraightEdge";ZH.displayName="StraightEdgeInternal";function XH(t){return S.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Le.Bottom,targetPosition:a=Le.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,pathOptions:O,interactionWidth:b})=>{const[x,v,w]=oH({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a,curvature:O==null?void 0:O.curvature}),_=t.isInternal?void 0:e;return p.jsx(a1,{id:_,path:x,labelX:v,labelY:w,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,interactionWidth:b})})}const TLe=XH({isInternal:!1}),YH=XH({isInternal:!0});TLe.displayName="BezierEdge";YH.displayName="BezierEdgeInternal";const BV={default:YH,straight:ZH,step:WH,smoothstep:BH,simplebezier:LH},zV={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},NLe=(t,e,n)=>n===Le.Left?t-e:n===Le.Right?t+e:t,ALe=(t,e,n)=>n===Le.Top?t-e:n===Le.Bottom?t+e:t,WV="react-flow__edgeupdater";function UV({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a}){return p.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:An([WV,`${WV}-${a}`]),cx:NLe(e,r,t),cy:ALe(n,r,t),r,stroke:"transparent",fill:"transparent"})}function RLe({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:u,onReconnectEnd:d,setReconnecting:f,setUpdateHover:h}){const m=Jt(),g=(v,w)=>{if(v.button!==0)return;const{autoPanOnConnect:_,domNode:$,isValidConnection:k,connectionMode:j,connectionRadius:P,lib:R,onConnectStart:N,onConnectEnd:A,cancelConnection:C,nodeLookup:T,rfId:E,panBy:I,updateConnection:M}=m.getState(),Q=w.type==="target";f(!0),u==null||u(v,n,w.type);const B=(W,oe)=>{f(!1),d==null||d(W,n,w.type,oe)},Z=W=>c==null?void 0:c(n,W);lE.onPointerDown(v.nativeEvent,{autoPanOnConnect:_,connectionMode:j,connectionRadius:P,domNode:$,handleId:w.id,nodeId:w.nodeId,nodeLookup:T,isTarget:Q,edgeUpdaterType:w.type,lib:R,flowId:E,cancelConnection:C,panBy:I,isValidConnection:k,onConnect:Z,onConnectStart:N,onConnectEnd:A,onReconnectEnd:B,updateConnection:M,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle})},y=v=>g(v,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),O=v=>g(v,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),b=()=>h(!0),x=()=>h(!1);return p.jsxs(p.Fragment,{children:[(t===!0||t==="source")&&p.jsx(UV,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:y,onMouseEnter:b,onMouseOut:x,type:"source"}),(t===!0||t==="target")&&p.jsx(UV,{position:l,centerX:s,centerY:o,radius:e,onMouseDown:O,onMouseEnter:b,onMouseOut:x,type:"target"})]})}function MLe({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:u,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,rfId:m,edgeTypes:g,noPanClassName:y,onError:O,disableKeyboardA11y:b}){let x=mt(te=>te.edgeLookup.get(t));const v=mt(te=>te.defaultEdgeOptions);x=v?{...v,...x}:x;let w=x.type||"default",_=(g==null?void 0:g[w])||BV[w];_===void 0&&(O==null||O("011",kl.error011(w)),w="default",_=BV.default);const $=!!(x.focusable||e&&typeof x.focusable>"u"),k=typeof d<"u"&&(x.reconnectable||n&&typeof x.reconnectable>"u"),j=!!(x.selectable||r&&typeof x.selectable>"u"),P=S.useRef(null),[R,N]=S.useState(!1),[A,C]=S.useState(!1),T=Jt(),{zIndex:E,sourceX:I,sourceY:M,targetX:Q,targetY:B,sourcePosition:Z,targetPosition:W}=mt(S.useCallback(te=>{const re=te.nodeLookup.get(x.source),ue=te.nodeLookup.get(x.target);if(!re||!ue)return{zIndex:x.zIndex,...zV};const fe=NFe({id:t,sourceNode:re,targetNode:ue,sourceHandle:x.sourceHandle||null,targetHandle:x.targetHandle||null,connectionMode:te.connectionMode,onError:O});return{zIndex:$Fe({selected:x.selected,zIndex:x.zIndex,sourceNode:re,targetNode:ue,elevateOnSelect:te.elevateEdgesOnSelect}),...fe||zV}},[x.source,x.target,x.sourceHandle,x.targetHandle,x.selected,x.zIndex]),un),oe=S.useMemo(()=>x.markerStart?`url('#${oE(x.markerStart,m)}')`:void 0,[x.markerStart,m]),le=S.useMemo(()=>x.markerEnd?`url('#${oE(x.markerEnd,m)}')`:void 0,[x.markerEnd,m]);if(x.hidden||I===null||M===null||Q===null||B===null)return null;const U=te=>{var Ee;const{addSelectedEdges:re,unselectNodesAndEdges:ue,multiSelectionActive:fe}=T.getState();j&&(T.setState({nodesSelectionActive:!1}),x.selected&&fe?(ue({nodes:[],edges:[x]}),(Ee=P.current)==null||Ee.blur()):re([t])),i&&i(te,x)},G=s?te=>{s(te,{...x})}:void 0,ie=o?te=>{o(te,{...x})}:void 0,Y=a?te=>{a(te,{...x})}:void 0,L=l?te=>{l(te,{...x})}:void 0,ae=c?te=>{c(te,{...x})}:void 0,q=te=>{var re;if(!b&&WG.includes(te.key)&&j){const{unselectNodesAndEdges:ue,addSelectedEdges:fe}=T.getState();te.key==="Escape"?((re=P.current)==null||re.blur(),ue({edges:[x]})):fe([t])}};return p.jsx("svg",{style:{zIndex:E},children:p.jsxs("g",{className:An(["react-flow__edge",`react-flow__edge-${w}`,x.className,y,{selected:x.selected,animated:x.animated,inactive:!j&&!i,updating:R,selectable:j}]),onClick:U,onDoubleClick:G,onContextMenu:ie,onMouseEnter:Y,onMouseMove:L,onMouseLeave:ae,onKeyDown:$?q:void 0,tabIndex:$?0:void 0,role:$?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":x.ariaLabel===null?void 0:x.ariaLabel||`Edge from ${x.source} to ${x.target}`,"aria-describedby":$?`${_H}-${m}`:void 0,ref:P,children:[!A&&p.jsx(_,{id:t,source:x.source,target:x.target,type:x.type,selected:x.selected,animated:x.animated,selectable:j,deletable:x.deletable??!0,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,sourceX:I,sourceY:M,targetX:Q,targetY:B,sourcePosition:Z,targetPosition:W,data:x.data,style:x.style,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerStart:oe,markerEnd:le,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth}),k&&p.jsx(RLe,{edge:x,isReconnectable:k,reconnectRadius:u,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,sourceX:I,sourceY:M,targetX:Q,targetY:B,sourcePosition:Z,targetPosition:W,setUpdateHover:N,setReconnecting:C})]})})}const ILe=t=>({width:t.width,height:t.height,edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function GH({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:d,onEdgeDoubleClick:f,onReconnectStart:h,onReconnectEnd:m,disableKeyboardA11y:g}){const{edgesFocusable:y,edgesReconnectable:O,elementsSelectable:b,onError:x}=mt(ILe,un),v=vLe(e);return p.jsxs("div",{className:"react-flow__edges",children:[p.jsx(kLe,{defaultColor:t,rfId:n}),v.map(w=>p.jsx(MLe,{id:w,edgesFocusable:y,edgesReconnectable:O,elementsSelectable:b,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:u,reconnectRadius:d,onDoubleClick:f,onReconnectStart:h,onReconnectEnd:m,rfId:n,onError:x,edgeTypes:r,disableKeyboardA11y:g},w))]})}GH.displayName="EdgeRenderer";const DLe=S.memo(GH),QLe=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function FLe({children:t}){const e=mt(QLe);return p.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function LLe(t){const e=Pp(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const qLe=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function VLe(t){const e=mt(qLe),n=Jt();return S.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function BLe(t){return t.connection.inProgress?{...t.connection,to:SO(t.connection.to,t.transform)}:{...t.connection}}function zLe(t){return BLe}function WLe(t){const e=zLe();return mt(e,un)}const ULe=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function ZLe({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:a,inProgress:l}=mt(ULe,un);return!(s&&i&&l)?null:p.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:p.jsx("g",{className:An(["react-flow__connection",ZG(a)]),children:p.jsx(HH,{style:e,type:n,CustomComponent:r,isValid:a})})})}const HH=({style:t,type:e=ic.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:a,fromPosition:l,to:c,toNode:u,toHandle:d,toPosition:f}=WLe();if(!i)return;if(n)return p.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:a,fromX:s.x,fromY:s.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:f,connectionStatus:ZG(r),toNode:u,toHandle:d});let h="";const m={sourceX:s.x,sourceY:s.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:f};switch(e){case ic.Bezier:[h]=oH(m);break;case ic.SimpleBezier:[h]=QH(m);break;case ic.Step:[h]=sE({...m,borderRadius:0});break;case ic.SmoothStep:[h]=sE(m);break;default:[h]=cH(m)}return p.jsx("path",{d:h,fill:"none",className:"react-flow__connection-path",style:t})};HH.displayName="ConnectionLine";const XLe={};function ZV(t=XLe){S.useRef(t),Jt(),S.useEffect(()=>{},[t])}function YLe(){Jt(),S.useRef(!1),S.useEffect(()=>{},[])}function KH({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:d,onSelectionStart:f,onSelectionEnd:h,connectionLineType:m,connectionLineStyle:g,connectionLineComponent:y,connectionLineContainerStyle:O,selectionKeyCode:b,selectionOnDrag:x,selectionMode:v,multiSelectionKeyCode:w,panActivationKeyCode:_,zoomActivationKeyCode:$,deleteKeyCode:k,onlyRenderVisibleElements:j,elementsSelectable:P,defaultViewport:R,translateExtent:N,minZoom:A,maxZoom:C,preventScrolling:T,defaultMarkerColor:E,zoomOnScroll:I,zoomOnPinch:M,panOnScroll:Q,panOnScrollSpeed:B,panOnScrollMode:Z,zoomOnDoubleClick:W,panOnDrag:oe,onPaneClick:le,onPaneMouseEnter:U,onPaneMouseMove:G,onPaneMouseLeave:ie,onPaneScroll:Y,onPaneContextMenu:L,paneClickDistance:ae,nodeClickDistance:q,onEdgeContextMenu:te,onEdgeMouseEnter:re,onEdgeMouseMove:ue,onEdgeMouseLeave:fe,reconnectRadius:Ee,onReconnect:pe,onReconnectStart:z,onReconnectEnd:ee,noDragClassName:K,noWheelClassName:me,noPanClassName:de,disableKeyboardA11y:ne,nodeExtent:ce,rfId:he,viewport:ge,onViewportChange:be}){return ZV(t),ZV(e),YLe(),LLe(n),VLe(ge),p.jsx(fLe,{onPaneClick:le,onPaneMouseEnter:U,onPaneMouseMove:G,onPaneMouseLeave:ie,onPaneContextMenu:L,onPaneScroll:Y,paneClickDistance:ae,deleteKeyCode:k,selectionKeyCode:b,selectionOnDrag:x,selectionMode:v,onSelectionStart:f,onSelectionEnd:h,multiSelectionKeyCode:w,panActivationKeyCode:_,zoomActivationKeyCode:$,elementsSelectable:P,zoomOnScroll:I,zoomOnPinch:M,zoomOnDoubleClick:W,panOnScroll:Q,panOnScrollSpeed:B,panOnScrollMode:Z,panOnDrag:oe,defaultViewport:R,translateExtent:N,minZoom:A,maxZoom:C,onSelectionContextMenu:d,preventScrolling:T,noDragClassName:K,noWheelClassName:me,noPanClassName:de,disableKeyboardA11y:ne,onViewportChange:be,isControlledViewport:!!ge,children:p.jsxs(FLe,{children:[p.jsx(DLe,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:pe,onReconnectStart:z,onReconnectEnd:ee,onlyRenderVisibleElements:j,onEdgeContextMenu:te,onEdgeMouseEnter:re,onEdgeMouseMove:ue,onEdgeMouseLeave:fe,reconnectRadius:Ee,defaultMarkerColor:E,noPanClassName:de,disableKeyboardA11y:ne,rfId:he}),p.jsx(ZLe,{style:g,type:m,component:y,containerStyle:O}),p.jsx("div",{className:"react-flow__edgelabel-renderer"}),p.jsx(xLe,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:q,onlyRenderVisibleElements:j,noPanClassName:de,noDragClassName:K,disableKeyboardA11y:ne,nodeExtent:ce,rfId:he}),p.jsx("div",{className:"react-flow__viewport-portal"})]})})}KH.displayName="GraphView";const GLe=S.memo(KH),XV=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:l}={})=>{const c=new Map,u=new Map,d=new Map,f=new Map,h=r??e??[],m=n??t??[],g=a??[0,0],y=l??ay;dH(d,f,h),aE(m,c,u,{nodeOrigin:g,nodeExtent:y,elevateNodesOnSelect:!1});let O=[0,0,1];if(o&&i&&s){const b=wO(c,{filter:_=>!!((_.width||_.initialWidth)&&(_.height||_.initialHeight))}),{x,y:v,zoom:w}=xM(b,i,s,.5,2,.1);O=[x,v,w]}return{rfId:"1",width:0,height:0,transform:O,nodes:m,nodeLookup:c,parentLookup:u,edges:h,edgeLookup:f,connectionLookup:d,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:ay,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Bh.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:g,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...UG},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:SFe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},HLe=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:l})=>g5e((c,u)=>({...XV({nodes:t,edges:e,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:l,defaultNodes:n,defaultEdges:r}),setNodes:d=>{const{nodeLookup:f,parentLookup:h,nodeOrigin:m,elevateNodesOnSelect:g}=u();aE(d,f,h,{nodeOrigin:m,nodeExtent:l,elevateNodesOnSelect:g,checkEquality:!0}),c({nodes:d})},setEdges:d=>{const{connectionLookup:f,edgeLookup:h}=u();dH(f,h,d),c({edges:d})},setDefaultNodesAndEdges:(d,f)=>{if(d){const{setNodes:h}=u();h(d),c({hasDefaultNodes:!0})}if(f){const{setEdges:h}=u();h(f),c({hasDefaultEdges:!0})}},updateNodeInternals:(d,f={triggerFitView:!0})=>{const{triggerNodeChanges:h,nodeLookup:m,parentLookup:g,fitViewOnInit:y,fitViewDone:O,fitViewOnInitOptions:b,domNode:x,nodeOrigin:v,nodeExtent:w,debug:_,fitViewSync:$}=u(),{changes:k,updatedInternals:j}=QFe(d,m,g,x,v,w);if(j){if(MFe(m,g,{nodeOrigin:v,nodeExtent:w}),f.triggerFitView){let P=O;!O&&y&&(P=$({...b,nodes:b==null?void 0:b.nodes})),c({fitViewDone:P})}else c({});(k==null?void 0:k.length)>0&&(_&&console.log("React Flow: trigger node changes",k),h==null||h(k))}},updateNodePositions:(d,f=!1)=>{const h=[],m=[];for(const[g,y]of d){const O={id:g,type:"position",position:y.position,dragging:f};y!=null&&y.expandParent&&(y!=null&&y.parentId)&&O.position&&(h.push({id:g,parentId:y.parentId,rect:{...y.internals.positionAbsolute,width:y.measured.width,height:y.measured.height}}),O.position.x=Math.max(0,O.position.x),O.position.y=Math.max(0,O.position.y)),m.push(O)}if(h.length>0){const{nodeLookup:g,parentLookup:y,nodeOrigin:O}=u(),b=_M(h,g,y,O);m.push(...b)}u().triggerNodeChanges(m)},triggerNodeChanges:d=>{const{onNodesChange:f,setNodes:h,nodes:m,hasDefaultNodes:g,debug:y}=u();if(d!=null&&d.length){if(g){const O=PH(d,m);h(O)}y&&console.log("React Flow: trigger node changes",d),f==null||f(d)}},triggerEdgeChanges:d=>{const{onEdgesChange:f,setEdges:h,edges:m,hasDefaultEdges:g,debug:y}=u();if(d!=null&&d.length){if(g){const O=CH(d,m);h(O)}y&&console.log("React Flow: trigger edge changes",d),f==null||f(d)}},addSelectedNodes:d=>{const{multiSelectionActive:f,edgeLookup:h,nodeLookup:m,triggerNodeChanges:g,triggerEdgeChanges:y}=u();if(f){const O=d.map(b=>wu(b,!0));g(O);return}g(Mf(m,new Set([...d]),!0)),y(Mf(h))},addSelectedEdges:d=>{const{multiSelectionActive:f,edgeLookup:h,nodeLookup:m,triggerNodeChanges:g,triggerEdgeChanges:y}=u();if(f){const O=d.map(b=>wu(b,!0));y(O);return}y(Mf(h,new Set([...d]))),g(Mf(m,new Set,!0))},unselectNodesAndEdges:({nodes:d,edges:f}={})=>{const{edges:h,nodes:m,nodeLookup:g,triggerNodeChanges:y,triggerEdgeChanges:O}=u(),b=d||m,x=f||h,v=b.map(_=>{const $=g.get(_.id);return $&&($.selected=!1),wu(_.id,!1)}),w=x.map(_=>wu(_.id,!1));y(v),O(w)},setMinZoom:d=>{const{panZoom:f,maxZoom:h}=u();f==null||f.setScaleExtent([d,h]),c({minZoom:d})},setMaxZoom:d=>{const{panZoom:f,minZoom:h}=u();f==null||f.setScaleExtent([h,d]),c({maxZoom:d})},setTranslateExtent:d=>{var f;(f=u().panZoom)==null||f.setTranslateExtent(d),c({translateExtent:d})},setPaneClickDistance:d=>{var f;(f=u().panZoom)==null||f.setClickDistance(d)},resetSelectedElements:()=>{const{edges:d,nodes:f,triggerNodeChanges:h,triggerEdgeChanges:m}=u(),g=f.reduce((O,b)=>b.selected?[...O,wu(b.id,!1)]:O,[]),y=d.reduce((O,b)=>b.selected?[...O,wu(b.id,!1)]:O,[]);h(g),m(y)},setNodeExtent:d=>{const{nodes:f,nodeLookup:h,parentLookup:m,nodeOrigin:g,elevateNodesOnSelect:y,nodeExtent:O}=u();d[0][0]===O[0][0]&&d[0][1]===O[0][1]&&d[1][0]===O[1][0]&&d[1][1]===O[1][1]||(aE(f,h,m,{nodeOrigin:g,nodeExtent:d,elevateNodesOnSelect:y,checkEquality:!1}),c({nodeExtent:d}))},panBy:d=>{const{transform:f,width:h,height:m,panZoom:g,translateExtent:y}=u();return FFe({delta:d,panZoom:g,transform:f,translateExtent:y,width:h,height:m})},fitView:d=>{const{panZoom:f,width:h,height:m,minZoom:g,maxZoom:y,nodeLookup:O}=u();if(!f)return Promise.resolve(!1);const b=tE(O,d);return nE({nodes:b,width:h,height:m,panZoom:f,minZoom:g,maxZoom:y},d)},fitViewSync:d=>{const{panZoom:f,width:h,height:m,minZoom:g,maxZoom:y,nodeLookup:O}=u();if(!f)return!1;const b=tE(O,d);return nE({nodes:b,width:h,height:m,panZoom:f,minZoom:g,maxZoom:y},d),b.size>0},cancelConnection:()=>{c({connection:{...UG}})},updateConnection:d=>{c({connection:d})},reset:()=>c({...XV()})}),Object.is);function kM({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:o,nodeOrigin:a,nodeExtent:l,children:c}){const[u]=S.useState(()=>HLe({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:a,nodeExtent:l}));return p.jsx(y5e,{value:u,children:p.jsx(L5e,{children:c})})}function KLe({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:a,nodeOrigin:l,nodeExtent:c}){return S.useContext(s1)?p.jsx(p.Fragment,{children:t}):p.jsx(kM,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:a,nodeOrigin:l,nodeExtent:c,children:t})}const JLe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function eqe({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:f,onConnect:h,onConnectStart:m,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:O,onNodeMouseEnter:b,onNodeMouseMove:x,onNodeMouseLeave:v,onNodeContextMenu:w,onNodeDoubleClick:_,onNodeDragStart:$,onNodeDrag:k,onNodeDragStop:j,onNodesDelete:P,onEdgesDelete:R,onDelete:N,onSelectionChange:A,onSelectionDragStart:C,onSelectionDrag:T,onSelectionDragStop:E,onSelectionContextMenu:I,onSelectionStart:M,onSelectionEnd:Q,onBeforeDelete:B,connectionMode:Z,connectionLineType:W=ic.Bezier,connectionLineStyle:oe,connectionLineComponent:le,connectionLineContainerStyle:U,deleteKeyCode:G="Backspace",selectionKeyCode:ie="Shift",selectionOnDrag:Y=!1,selectionMode:L=ly.Full,panActivationKeyCode:ae="Space",multiSelectionKeyCode:q=Zw()?"Meta":"Control",zoomActivationKeyCode:te=Zw()?"Meta":"Control",snapToGrid:re,snapGrid:ue,onlyRenderVisibleElements:fe=!1,selectNodesOnDrag:Ee,nodesDraggable:pe,nodesConnectable:z,nodesFocusable:ee,nodeOrigin:K=$H,edgesFocusable:me,edgesReconnectable:de,elementsSelectable:ne=!0,defaultViewport:ce=E5e,minZoom:he=.5,maxZoom:ge=2,translateExtent:be=ay,preventScrolling:$e=!0,nodeExtent:Ye,defaultMarkerColor:Tt="#b1b1b7",zoomOnScroll:Oi=!0,zoomOnPinch:Il=!0,panOnScroll:bi=!1,panOnScrollSpeed:wo=.5,panOnScrollMode:Qr=hd.Free,zoomOnDoubleClick:As=!0,panOnDrag:ab=!0,onPaneClick:rm,onPaneMouseEnter:lb,onPaneMouseMove:S_,onPaneMouseLeave:cb,onPaneScroll:__,onPaneContextMenu:So,paneClickDistance:ub=0,nodeClickDistance:ED=0,children:$_,onReconnect:k_,onReconnectStart:fn,onReconnectEnd:va,onEdgeContextMenu:wa,onEdgeDoubleClick:Dl,onEdgeMouseEnter:im,onEdgeMouseMove:db,onEdgeMouseLeave:fb,reconnectRadius:hb=10,onNodesChange:P_,onEdgesChange:C_,noDragClassName:j_="nodrag",noWheelClassName:E_="nowheel",noPanClassName:rt="nopan",fitView:ei,fitViewOptions:uu,connectOnClick:TD,attributionPosition:oce,proOptions:ace,defaultEdgeOptions:lce,elevateNodesOnSelect:cce,elevateEdgesOnSelect:uce,disableKeyboardA11y:ND=!1,autoPanOnConnect:dce,autoPanOnNodeDrag:fce,autoPanSpeed:hce,connectionRadius:pce,isValidConnection:mce,onError:gce,style:yce,id:AD,nodeDragThreshold:Oce,viewport:bce,onViewportChange:xce,width:vce,height:wce,colorMode:Sce="light",debug:_ce,...$ce},kce){const T_=AD||"1",Pce=R5e(Sce);return p.jsx("div",{...$ce,style:{...yce,...JLe},ref:kce,className:An(["react-flow",i,Pce]),"data-testid":"rf__wrapper",id:AD,children:p.jsxs(KLe,{nodes:t,edges:e,width:vce,height:wce,fitView:ei,nodeOrigin:K,nodeExtent:Ye,children:[p.jsx(GLe,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:b,onNodeMouseMove:x,onNodeMouseLeave:v,onNodeContextMenu:w,onNodeDoubleClick:_,nodeTypes:s,edgeTypes:o,connectionLineType:W,connectionLineStyle:oe,connectionLineComponent:le,connectionLineContainerStyle:U,selectionKeyCode:ie,selectionOnDrag:Y,selectionMode:L,deleteKeyCode:G,multiSelectionKeyCode:q,panActivationKeyCode:ae,zoomActivationKeyCode:te,onlyRenderVisibleElements:fe,defaultViewport:ce,translateExtent:be,minZoom:he,maxZoom:ge,preventScrolling:$e,zoomOnScroll:Oi,zoomOnPinch:Il,zoomOnDoubleClick:As,panOnScroll:bi,panOnScrollSpeed:wo,panOnScrollMode:Qr,panOnDrag:ab,onPaneClick:rm,onPaneMouseEnter:lb,onPaneMouseMove:S_,onPaneMouseLeave:cb,onPaneScroll:__,onPaneContextMenu:So,paneClickDistance:ub,nodeClickDistance:ED,onSelectionContextMenu:I,onSelectionStart:M,onSelectionEnd:Q,onReconnect:k_,onReconnectStart:fn,onReconnectEnd:va,onEdgeContextMenu:wa,onEdgeDoubleClick:Dl,onEdgeMouseEnter:im,onEdgeMouseMove:db,onEdgeMouseLeave:fb,reconnectRadius:hb,defaultMarkerColor:Tt,noDragClassName:j_,noWheelClassName:E_,noPanClassName:rt,rfId:T_,disableKeyboardA11y:ND,nodeExtent:Ye,viewport:bce,onViewportChange:xce}),p.jsx(A5e,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:m,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:O,nodesDraggable:pe,nodesConnectable:z,nodesFocusable:ee,edgesFocusable:me,edgesReconnectable:de,elementsSelectable:ne,elevateNodesOnSelect:cce,elevateEdgesOnSelect:uce,minZoom:he,maxZoom:ge,nodeExtent:Ye,onNodesChange:P_,onEdgesChange:C_,snapToGrid:re,snapGrid:ue,connectionMode:Z,translateExtent:be,connectOnClick:TD,defaultEdgeOptions:lce,fitView:ei,fitViewOptions:uu,onNodesDelete:P,onEdgesDelete:R,onDelete:N,onNodeDragStart:$,onNodeDrag:k,onNodeDragStop:j,onSelectionDrag:T,onSelectionDragStart:C,onSelectionDragStop:E,onMove:u,onMoveStart:d,onMoveEnd:f,noPanClassName:rt,nodeOrigin:K,rfId:T_,autoPanOnConnect:dce,autoPanOnNodeDrag:fce,autoPanSpeed:hce,onError:gce,connectionRadius:pce,isValidConnection:mce,selectNodesOnDrag:Ee,nodeDragThreshold:Oce,onBeforeDelete:B,paneClickDistance:ub,debug:_ce}),p.jsx(j5e,{onSelectionChange:A}),$_,p.jsx(_5e,{proOptions:ace,position:oce}),p.jsx(w5e,{rfId:T_,disableKeyboardA11y:ND})]})})}var JH=jH(eqe);const tqe=t=>({x:t.transform[0],y:t.transform[1],zoom:t.transform[2]});function nqe(){return mt(tqe,un)}function rqe(t){const[e,n]=S.useState(t),r=S.useCallback(i=>n(s=>PH(i,s)),[]);return[e,n,r]}function iqe(t){const[e,n]=S.useState(t),r=S.useCallback(i=>n(s=>CH(i,s)),[]);return[e,n,r]}function sqe({dimensions:t,lineWidth:e,variant:n,className:r}){return p.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:An(["react-flow__background-pattern",n,r])})}function oqe({radius:t,className:e}){return p.jsx("circle",{cx:t,cy:t,r:t,className:An(["react-flow__background-pattern","dots",e])})}var sl;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(sl||(sl={}));const aqe={[sl.Dots]:1,[sl.Lines]:1,[sl.Cross]:6},lqe=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function eK({id:t,variant:e=sl.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:a,style:l,className:c,patternClassName:u}){const d=S.useRef(null),{transform:f,patternId:h}=mt(lqe,un),m=r||aqe[e],g=e===sl.Dots,y=e===sl.Cross,O=Array.isArray(n)?n:[n,n],b=[O[0]*f[2]||1,O[1]*f[2]||1],x=m*f[2],v=Array.isArray(s)?s:[s,s],w=y?[x,x]:b,_=[v[0]*f[2]||1+w[0]/2,v[1]*f[2]||1+w[1]/2],$=`${h}${t||""}`;return p.jsxs("svg",{className:An(["react-flow__background",c]),style:{...l,...o1,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:d,"data-testid":"rf__background",children:[p.jsx("pattern",{id:$,x:f[0]%b[0],y:f[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`,children:g?p.jsx(oqe,{radius:x/2,className:u}):p.jsx(sqe,{dimensions:w,lineWidth:i,variant:e,className:u})}),p.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${$})`})]})}eK.displayName="Background";const YV=S.memo(eK);function cqe(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:p.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function uqe(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:p.jsx("path",{d:"M0 0h32v4.2H0z"})})}function dqe(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:p.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function fqe(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function hqe(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function tx({children:t,className:e,...n}){return p.jsx("button",{type:"button",className:An(["react-flow__controls-button",e]),...n,children:t})}const pqe=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function tK({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:c,children:u,position:d="bottom-left",orientation:f="vertical","aria-label":h="React Flow controls"}){const m=Jt(),{isInteractive:g,minZoomReached:y,maxZoomReached:O}=mt(pqe,un),{zoomIn:b,zoomOut:x,fitView:v}=Pp(),w=()=>{b(),s==null||s()},_=()=>{x(),o==null||o()},$=()=>{v(i),a==null||a()},k=()=>{m.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)},j=f==="horizontal"?"horizontal":"vertical";return p.jsxs(dy,{className:An(["react-flow__controls",j,c]),position:d,style:t,"data-testid":"rf__controls","aria-label":h,children:[e&&p.jsxs(p.Fragment,{children:[p.jsx(tx,{onClick:w,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:O,children:p.jsx(cqe,{})}),p.jsx(tx,{onClick:_,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y,children:p.jsx(uqe,{})})]}),n&&p.jsx(tx,{className:"react-flow__controls-fitview",onClick:$,title:"fit view","aria-label":"fit view",children:p.jsx(dqe,{})}),r&&p.jsx(tx,{className:"react-flow__controls-interactive",onClick:k,title:"toggle interactivity","aria-label":"toggle interactivity",children:g?p.jsx(hqe,{}):p.jsx(fqe,{})}),u]})}tK.displayName="Controls";S.memo(tK);function mqe({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:c,borderRadius:u,shapeRendering:d,selected:f,onClick:h}){const{background:m,backgroundColor:g}=s||{},y=o||m||g;return p.jsx("rect",{className:An(["react-flow__minimap-node",{selected:f},c]),x:e,y:n,rx:u,ry:u,width:r,height:i,style:{fill:y,stroke:a,strokeWidth:l},shapeRendering:d,onClick:h?O=>h(O,t):void 0})}const gqe=S.memo(mqe),yqe=t=>t.nodes.map(e=>e.id),mk=t=>t instanceof Function?t:()=>t;function Oqe({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=gqe,onClick:o}){const a=mt(yqe,un),l=mk(e),c=mk(t),u=mk(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return p.jsx(p.Fragment,{children:a.map(f=>p.jsx(xqe,{id:f,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:d},f))})}function bqe({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:a,onClick:l}){const{node:c,x:u,y:d,width:f,height:h}=mt(m=>{const g=m.nodeLookup.get(t),{x:y,y:O}=g.internals.positionAbsolute,{width:b,height:x}=Pl(g);return{node:g,x:y,y:O,width:b,height:x}},un);return!c||c.hidden||!tH(c)?null:p.jsx(a,{x:u,y:d,width:f,height:h,style:c.style,selected:!!c.selected,className:r(c),color:e(c),borderRadius:i,strokeColor:n(c),strokeWidth:s,shapeRendering:o,onClick:l,id:c.id})}const xqe=S.memo(bqe);var vqe=S.memo(Oqe);const wqe=200,Sqe=150,_qe=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?JG(wO(t.nodeLookup),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},$qe="react-flow__minimap-desc";function nK({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:u,maskStrokeWidth:d,position:f="bottom-right",onClick:h,onNodeClick:m,pannable:g=!1,zoomable:y=!1,ariaLabel:O="React Flow mini map",inversePan:b,zoomStep:x=10,offsetScale:v=5}){const w=Jt(),_=S.useRef(null),{boundingRect:$,viewBB:k,rfId:j,panZoom:P,translateExtent:R,flowWidth:N,flowHeight:A}=mt(_qe,un),C=(t==null?void 0:t.width)??wqe,T=(t==null?void 0:t.height)??Sqe,E=$.width/C,I=$.height/T,M=Math.max(E,I),Q=M*C,B=M*T,Z=v*M,W=$.x-(Q-$.width)/2-Z,oe=$.y-(B-$.height)/2-Z,le=Q+Z*2,U=B+Z*2,G=`${$qe}-${j}`,ie=S.useRef(0),Y=S.useRef();ie.current=M,S.useEffect(()=>{if(_.current&&P)return Y.current=ZFe({domNode:_.current,panZoom:P,getTransform:()=>w.getState().transform,getViewScale:()=>ie.current}),()=>{var q;(q=Y.current)==null||q.destroy()}},[P]),S.useEffect(()=>{var q;(q=Y.current)==null||q.update({translateExtent:R,width:N,height:A,inversePan:b,pannable:g,zoomStep:x,zoomable:y})},[g,y,b,x,R,N,A]);const L=h?q=>{var ue;const[te,re]=((ue=Y.current)==null?void 0:ue.pointer(q))||[0,0];h(q,{x:te,y:re})}:void 0,ae=m?S.useCallback((q,te)=>{const re=w.getState().nodeLookup.get(te);m(q,re)},[]):void 0;return p.jsx(dy,{position:f,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*M:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="string"?o:void 0},className:An(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:p.jsxs("svg",{width:C,height:T,viewBox:`${W} ${oe} ${le} ${U}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":G,ref:_,onClick:L,children:[O&&p.jsx("title",{id:G,children:O}),p.jsx(vqe,{onClick:ae,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),p.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-Z},${oe-Z}h${le+Z*2}v${U+Z*2}h${-le-Z*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}nK.displayName="MiniMap";const rK=S.memo(nK);function kqe({nodeId:t,position:e,variant:n=pg.Handle,className:r,style:i={},children:s,color:o,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:d=!1,shouldResize:f,onResizeStart:h,onResize:m,onResizeEnd:g}){const y=AH(),O=typeof t=="string"?t:y,b=Jt(),x=S.useRef(null),v=n===pg.Line?"right":"bottom-right",w=e??v,_=S.useRef(null);S.useEffect(()=>{if(!(!x.current||!O))return _.current||(_.current=l5e({domNode:x.current,nodeId:O,getStoreItems:()=>{const{nodeLookup:P,transform:R,snapGrid:N,snapToGrid:A,nodeOrigin:C}=b.getState();return{nodeLookup:P,transform:R,snapGrid:N,snapToGrid:A,nodeOrigin:C}},onChange:(P,R)=>{const{triggerNodeChanges:N,nodeLookup:A,parentLookup:C,nodeOrigin:T}=b.getState(),E=[],I={x:P.x,y:P.y},M=A.get(O);if(M&&M.expandParent&&M.parentId){const Q=M.origin??T,B=P.width??M.measured.width,Z=P.height??M.measured.height,W={id:M.id,parentId:M.parentId,rect:{width:B,height:Z,...nH({x:P.x??M.position.x,y:P.y??M.position.y},{width:B,height:Z},M.parentId,A,Q)}},oe=_M([W],A,C,T);E.push(...oe),I.x=P.x?Math.max(Q[0]*B,P.x):void 0,I.y=P.y?Math.max(Q[1]*Z,P.y):void 0}if(I.x!==void 0&&I.y!==void 0){const Q={id:O,type:"position",position:{...I}};E.push(Q)}if(P.width!==void 0&&P.height!==void 0){const Q={id:O,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:P.width,height:P.height}};E.push(Q)}for(const Q of R){const B={...Q,type:"position"};E.push(B)}N(E)},onEnd:()=>{const P={id:O,type:"dimensions",resizing:!1};b.getState().triggerNodeChanges([P])}})),_.current.update({controlPosition:w,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:u},keepAspectRatio:d,onResizeStart:h,onResize:m,onResizeEnd:g,shouldResize:f}),()=>{var P;(P=_.current)==null||P.destroy()}},[w,a,l,c,u,d,h,m,g,f]);const $=w.split("-"),k=n===pg.Line?"borderColor":"backgroundColor",j=o?{...i,[k]:o}:i;return p.jsx("div",{className:An(["react-flow__resize-control","nodrag",...$,n,r]),ref:x,style:j,children:s})}S.memo(kqe);function qr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Pqe=typeof Symbol=="function"&&Symbol.observable||"@@observable",GV=Pqe,gk=()=>Math.random().toString(36).substring(7).split("").join("."),Cqe={INIT:`@@redux/INIT${gk()}`,REPLACE:`@@redux/REPLACE${gk()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gk()}`},HV=Cqe;function jqe(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function iK(t,e,n){if(typeof t!="function")throw new Error(qr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(qr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(qr(1));return n(iK)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((y,O)=>{o.set(O,y)}))}function u(){if(l)throw new Error(qr(3));return i}function d(y){if(typeof y!="function")throw new Error(qr(4));if(l)throw new Error(qr(5));let O=!0;c();const b=a++;return o.set(b,y),function(){if(O){if(l)throw new Error(qr(6));O=!1,c(),o.delete(b),s=null}}}function f(y){if(!jqe(y))throw new Error(qr(7));if(typeof y.type>"u")throw new Error(qr(8));if(typeof y.type!="string")throw new Error(qr(17));if(l)throw new Error(qr(9));try{l=!0,i=r(i,y)}finally{l=!1}return(s=o).forEach(b=>{b()}),y}function h(y){if(typeof y!="function")throw new Error(qr(10));r=y,f({type:HV.REPLACE})}function m(){const y=d;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(qr(11));function b(){const v=O;v.next&&v.next(u())}return b(),{unsubscribe:y(b)}},[GV](){return this}}}return f({type:HV.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:h,[GV]:m}}function KV(t,e){return function(...n){return e(t.apply(this,n))}}function JV(t,e){if(typeof t=="function")return KV(t,e);if(typeof t!="object"||t===null)throw new Error(qr(16));const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=KV(i,e))}return n}function sK(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Eqe(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(qr(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=sK(...a)(i.dispatch),{...i,dispatch:s}}}var yk={exports:{}},Ok={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eB;function Tqe(){if(eB)return Ok;eB=1;var t=MN();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,a=t.useDebugValue;return Ok.useSyncExternalStoreWithSelector=function(l,c,u,d,f){var h=i(null);if(h.current===null){var m={hasValue:!1,value:null};h.current=m}else m=h.current;h=o(function(){function y(w){if(!O){if(O=!0,b=w,w=d(w),f!==void 0&&m.hasValue){var _=m.value;if(f(_,w))return x=_}return x=w}if(_=x,n(b,w))return _;var $=d(w);return f!==void 0&&f(_,$)?_:(b=w,x=$)}var O=!1,b,x,v=u===void 0?null:u;return[function(){return y(c())},v===null?void 0:function(){return y(v())}]},[c,u,d,f]);var g=r(l,h[0],h[1]);return s(function(){m.hasValue=!0,m.value=g},[g]),a(g),g},Ok}var tB;function Nqe(){return tB||(tB=1,yk.exports=Tqe()),yk.exports}Nqe();var kt="default"in nC?ve:nC,nB=Symbol.for("react-redux-context"),rB=typeof globalThis<"u"?globalThis:{};function Aqe(){if(!kt.createContext)return{};const t=rB[nB]??(rB[nB]=new Map);let e=t.get(kt.createContext);return e||(e=kt.createContext(null),t.set(kt.createContext,e)),e}var oK=Aqe(),Rqe=()=>{throw new Error("uSES not initialized!")},Mqe=Symbol.for("react.element"),Iqe=Symbol.for("react.portal"),Dqe=Symbol.for("react.fragment"),Qqe=Symbol.for("react.strict_mode"),Fqe=Symbol.for("react.profiler"),Lqe=Symbol.for("react.provider"),qqe=Symbol.for("react.context"),Vqe=Symbol.for("react.server_context"),aK=Symbol.for("react.forward_ref"),Bqe=Symbol.for("react.suspense"),zqe=Symbol.for("react.suspense_list"),PM=Symbol.for("react.memo"),Wqe=Symbol.for("react.lazy"),Uqe=aK,Zqe=PM;function Xqe(t){if(typeof t=="object"&&t!==null){const e=t.$$typeof;switch(e){case Mqe:{const n=t.type;switch(n){case Dqe:case Fqe:case Qqe:case Bqe:case zqe:return n;default:{const r=n&&n.$$typeof;switch(r){case Vqe:case qqe:case aK:case Wqe:case PM:case Lqe:return r;default:return e}}}}case Iqe:return e}}}function Yqe(t){return Xqe(t)===PM}function Gqe(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,c,u,d,f;function h(b,x){return l=b,c=x,u=t(l,c),d=e(r,c),f=n(u,d,c),a=!0,f}function m(){return u=t(l,c),e.dependsOnOwnProps&&(d=e(r,c)),f=n(u,d,c),f}function g(){return t.dependsOnOwnProps&&(u=t(l,c)),e.dependsOnOwnProps&&(d=e(r,c)),f=n(u,d,c),f}function y(){const b=t(l,c),x=!o(b,u);return u=b,x&&(f=n(u,d,c)),f}function O(b,x){const v=!s(x,c),w=!i(b,l,x,c);return l=b,c=x,v&&w?m():v?g():w?y():f}return function(x,v){return a?O(x,v):h(x,v)}}function Hqe(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=e(t,i),o=n(t,i),a=r(t,i);return Gqe(s,o,a,t,i)}function Kqe(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...s)=>e(i(...s)))}return n}function uE(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function iB(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function lK(t,e){return function(r,{displayName:i}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=t,s.dependsOnOwnProps=iB(t);let c=s(a,l);return typeof c=="function"&&(s.mapToProps=c,s.dependsOnOwnProps=iB(c),c=s(a,l)),c},s}}function CM(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function Jqe(t){return t&&typeof t=="object"?uE(e=>Kqe(t,e)):t?typeof t=="function"?lK(t):CM(t,"mapDispatchToProps"):uE(e=>({dispatch:e}))}function eVe(t){return t?typeof t=="function"?lK(t):CM(t,"mapStateToProps"):uE(()=>({}))}function tVe(t,e,n){return{...n,...t,...e}}function nVe(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,o;return function(l,c,u){const d=t(l,c,u);return s?i(d,o)||(o=d):(s=!0,o=d),o}}}function rVe(t){return t?typeof t=="function"?nVe(t):CM(t,"mergeProps"):()=>tVe}function iVe(t){t()}function sVe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){iVe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var sB={notify(){},get:()=>[]};function cK(t,e){let n,r=sB,i=0,s=!1;function o(g){u();const y=r.subscribe(g);let O=!1;return()=>{O||(O=!0,y(),d())}}function a(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return s}function u(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=sVe())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=sB)}function f(){s||(s=!0,u())}function h(){s&&(s=!1,d())}const m={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return m}var oVe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aVe=typeof navigator<"u"&&navigator.product==="ReactNative",Yw=oVe||aVe?kt.useLayoutEffect:kt.useEffect;function oB(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function bk(t,e){if(oB(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!oB(t[n[i]],e[n[i]]))return!1;return!0}var lVe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},cVe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},uVe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},uK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dVe={[Uqe]:uVe,[Zqe]:uK};function aB(t){return Yqe(t)?uK:dVe[t.$$typeof]||lVe}var fVe=Object.defineProperty,hVe=Object.getOwnPropertyNames,lB=Object.getOwnPropertySymbols,pVe=Object.getOwnPropertyDescriptor,mVe=Object.getPrototypeOf,cB=Object.prototype;function dE(t,e){if(typeof e!="string"){if(cB){const s=mVe(e);s&&s!==cB&&dE(t,s)}let n=hVe(e);lB&&(n=n.concat(lB(e)));const r=aB(t),i=aB(e);for(let s=0;s<n.length;++s){const o=n[s];if(!cVe[o]&&!(i&&i[o])&&!(r&&r[o])){const a=pVe(e,o);try{fVe(t,o,a)}catch{}}}}return t}var dK=Rqe,gVe=t=>{dK=t},yVe=[null,null];function OVe(t,e,n){Yw(()=>t(...e),n)}function bVe(t,e,n,r,i,s){t.current=r,n.current=!1,i.current&&(i.current=null,s())}function xVe(t,e,n,r,i,s,o,a,l,c,u){if(!t)return()=>{};let d=!1,f=null;const h=()=>{if(d||!a.current)return;const g=e.getState();let y,O;try{y=r(g,i.current)}catch(b){O=b,f=b}O||(f=null),y===s.current?o.current||c():(s.current=y,l.current=y,o.current=!0,u())};return n.onStateChange=h,n.trySubscribe(),h(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function vVe(t,e){return t===e}function wVe(t,e,n,{pure:r,areStatesEqual:i=vVe,areOwnPropsEqual:s=bk,areStatePropsEqual:o=bk,areMergedPropsEqual:a=bk,forwardRef:l=!1,context:c=oK}={}){const u=c,d=eVe(t),f=Jqe(e),h=rVe(n),m=!!t;return y=>{const O=y.displayName||y.name||"Component",b=`Connect(${O})`,x={shouldHandleStateChanges:m,displayName:b,wrappedComponentName:O,WrappedComponent:y,initMapStateToProps:d,initMapDispatchToProps:f,initMergeProps:h,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function v($){const[k,j,P]=kt.useMemo(()=>{const{reactReduxForwardedRef:te,...re}=$;return[$.context,te,re]},[$]),R=kt.useMemo(()=>{let te=u;return k!=null&&k.Consumer,te},[k,u]),N=kt.useContext(R),A=!!$.store&&!!$.store.getState&&!!$.store.dispatch,C=!!N&&!!N.store,T=A?$.store:N.store,E=C?N.getServerState:T.getState,I=kt.useMemo(()=>Hqe(T.dispatch,x),[T]),[M,Q]=kt.useMemo(()=>{if(!m)return yVe;const te=cK(T,A?void 0:N.subscription),re=te.notifyNestedSubs.bind(te);return[te,re]},[T,A,N]),B=kt.useMemo(()=>A?N:{...N,subscription:M},[A,N,M]),Z=kt.useRef(void 0),W=kt.useRef(P),oe=kt.useRef(void 0),le=kt.useRef(!1),U=kt.useRef(!1),G=kt.useRef(void 0);Yw(()=>(U.current=!0,()=>{U.current=!1}),[]);const ie=kt.useMemo(()=>()=>oe.current&&P===W.current?oe.current:I(T.getState(),P),[T,P]),Y=kt.useMemo(()=>re=>M?xVe(m,T,M,I,W,Z,le,U,oe,Q,re):()=>{},[M]);OVe(bVe,[W,Z,le,P,oe,Q]);let L;try{L=dK(Y,ie,E?()=>I(E(),P):ie)}catch(te){throw G.current&&(te.message+=`
The error may be correlated with this previous error:
${G.current.stack}

`),te}Yw(()=>{G.current=void 0,oe.current=void 0,Z.current=L});const ae=kt.useMemo(()=>kt.createElement(y,{...L,ref:j}),[j,y,L]);return kt.useMemo(()=>m?kt.createElement(R.Provider,{value:B},ae):ae,[R,ae,B])}const _=kt.memo(v);if(_.WrappedComponent=y,_.displayName=v.displayName=b,l){const k=kt.forwardRef(function(P,R){return kt.createElement(_,{...P,reactReduxForwardedRef:R})});return k.displayName=b,k.WrappedComponent=y,dE(k,y)}return dE(_,y)}}var fK=wVe;function SVe({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=kt.useMemo(()=>{const c=cK(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=kt.useMemo(()=>t.getState(),[t]);Yw(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||oK;return kt.createElement(l.Provider,{value:o},n)}var _Ve=SVe;gVe(S.useSyncExternalStore);function $Ve(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function hK(t,e){var n=S.useState(function(){return{inputs:e,result:t()}})[0],r=S.useRef(!0),i=S.useRef(n),s=r.current||!!(e&&i.current.inputs&&$Ve(e,i.current.inputs)),o=s?i.current:{inputs:e,result:t()};return S.useEffect(function(){r.current=!1,i.current=o},[o]),o.result}function kVe(t,e){return hK(function(){return t},e)}var yt=hK,ze=kVe,PVe="Invariant failed";function CVe(t,e){throw new Error(PVe)}var Js=function(e){var n=e.top,r=e.right,i=e.bottom,s=e.left,o=r-s,a=i-n,l={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return l},jM=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},uB=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},jVe=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},xk={top:0,right:0,bottom:0,left:0},EM=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?xk:r,s=e.border,o=s===void 0?xk:s,a=e.padding,l=a===void 0?xk:a,c=Js(jM(n,i)),u=Js(uB(n,o)),d=Js(uB(u,l));return{marginBox:c,borderBox:Js(n),paddingBox:u,contentBox:d,margin:i,border:o,padding:l}},Gi=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&CVe(),i},EVe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Gw=function(e,n){var r=e.borderBox,i=e.border,s=e.margin,o=e.padding,a=jVe(r,n);return EM({borderBox:a,border:i,margin:s,padding:o})},Hw=function(e,n){return n===void 0&&(n=EVe()),Gw(e,n)},pK=function(e,n){var r={top:Gi(n.marginTop),right:Gi(n.marginRight),bottom:Gi(n.marginBottom),left:Gi(n.marginLeft)},i={top:Gi(n.paddingTop),right:Gi(n.paddingRight),bottom:Gi(n.paddingBottom),left:Gi(n.paddingLeft)},s={top:Gi(n.borderTopWidth),right:Gi(n.borderRightWidth),bottom:Gi(n.borderBottomWidth),left:Gi(n.borderLeftWidth)};return EM({borderBox:e,margin:r,padding:i,border:s})},mK=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return pK(n,r)},dB=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function TVe(t,e){return!!(t===e||dB(t)&&dB(e))}function NVe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!TVe(t[n],e[n]))return!1;return!0}function Hn(t,e){e===void 0&&(e=NVe);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var hy=function(e){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function gK(t,e){}gK.bind(null,"warn");gK.bind(null,"error");function Sc(){}function AVe(t,e){return{...t,...e}}function ss(t,e,n){const r=e.map(i=>{const s=AVe(n,i.options);return t.addEventListener(i.eventName,i.fn,s),function(){t.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(s=>{s()})}}const RVe="Invariant failed";class Kw extends Error{}Kw.prototype.toString=function(){return this.message};function ke(t,e){throw new Kw(RVe)}class MVe extends ve.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Sc,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Kw&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ss(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof Kw){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const IVe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Jw=t=>t+1,DVe=t=>`
  You have lifted an item in position ${Jw(t.source.index)}
`,yK=(t,e)=>{const n=t.droppableId===e.droppableId,r=Jw(t.index),i=Jw(e.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},OK=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,QVe=t=>{const e=t.destination;if(e)return yK(t.source,e);const n=t.combine;return n?OK(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},fB=t=>`
  The item has returned to its starting position
  of ${Jw(t.index)}
`,FVe=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${fB(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${yK(t.source,e)}
    `:n?`
      You have dropped the item.
      ${OK(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${fB(t.source)}
  `},hv={dragHandleUsageInstructions:IVe,onDragStart:DVe,onDragUpdate:QVe,onDragEnd:FVe},er={x:0,y:0},mr=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Ri=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),_c=(t,e)=>t.x===e.x&&t.y===e.y,Cp=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Pd=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},py=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),hB=(t,e)=>Math.min(...e.map(n=>py(t,n))),bK=t=>e=>({x:t(e.x),y:t(e.y)});var LVe=(t,e)=>{const n=Js({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const _O=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),pB=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],qVe={top:0,right:0,bottom:0,left:0},VVe=(t,e)=>e?_O(t,e.scroll.diff.displacement):t,BVe=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,zVe=(t,e)=>e&&e.shouldClipSubject?LVe(e.pageMarginBox,t):Js(t);var Zh=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const i=VVe(t.marginBox,r),s=BVe(i,n,e),o=zVe(s,r);return{page:t,withPlaceholder:e,active:o}},TM=(t,e)=>{t.frame||ke();const n=t.frame,r=Ri(e,n.scroll.initial),i=Cp(r),s={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}},o=Zh({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s});return{...t,frame:s,subject:o}};const xK=Hn(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),vK=Hn(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),l1=Hn(t=>Object.values(t)),WVe=Hn(t=>Object.values(t));var jp=Hn((t,e)=>WVe(e).filter(r=>t===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function NM(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function c1(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var u1=Hn((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),UVe=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!NM(i))return null;function o(h){const m={type:"COMBINE",combine:{draggableId:h,droppableId:n.descriptor.id}};return{...i,at:m}}const a=i.displaced.all,l=a.length?a[0]:null;if(t)return l?o(l):null;const c=u1(e,r);if(!l){if(!c.length)return null;const h=c[c.length-1];return o(h.descriptor.id)}const u=c.findIndex(h=>h.descriptor.id===l);u===-1&&ke();const d=u-1;if(d<0)return null;const f=c[d];return o(f.descriptor.id)},Ep=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const wK={point:er,value:0},my={invisible:{},visible:{},all:[]},ZVe={displaced:my,displacedBy:wK,at:null};var ls=(t,e)=>n=>t<=n&&n<=e,SK=t=>{const e=ls(t.top,t.bottom),n=ls(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=e(r.top)||e(r.bottom),o=n(r.left)||n(r.right);if(s&&o)return!0;const l=r.top<t.top&&r.bottom>t.bottom,c=r.left<t.left&&r.right>t.right;return l&&c?!0:l&&o||c&&s}},XVe=t=>{const e=ls(t.top,t.bottom),n=ls(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const AM={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},_K={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var YVe=t=>e=>{const n=ls(e.top,e.bottom),r=ls(e.left,e.right);return i=>t===AM?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const GVe=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:er;return _O(t,n)},HVe=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,KVe=(t,e,n)=>n(e)(t),RM=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const s=r?GVe(t,e):t;return HVe(s,e,i)&&KVe(s,n,i)},JVe=t=>RM({...t,isVisibleThroughFrameFn:SK}),$K=t=>RM({...t,isVisibleThroughFrameFn:XVe}),eBe=t=>RM({...t,isVisibleThroughFrameFn:YVe(t.destination.axis)}),tBe=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:i}=e;if(r[t])return!1;const s=i[t];return s?s.shouldAnimate:!0};function nBe(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Js(jM(n,r))}function gy({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:i,last:s}){return t.reduce(function(a,l){const c=nBe(l,n),u=l.descriptor.id;if(a.all.push(u),!JVe({target:c,destination:e,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const f=tBe(u,s,i),h={draggableId:u,shouldAnimate:f};return a.visible[u]=h,a},{all:[],visible:{},invisible:{}})}function rBe(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function mB({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const i=rBe(t,{inHomeList:e});return{displaced:my,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function e0({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:i,last:s,index:o,forceShouldAnimate:a}){const l=Ep(t,n);if(o==null)return mB({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const c=e.find(m=>m.descriptor.index===o);if(!c)return mB({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const u=u1(t,e),d=e.indexOf(c),f=u.slice(d);return{displaced:gy({afterDragging:f,destination:n,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Uc(t,e){return!!e.effected[t]}var iBe=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const s=r.draggableId,a=n[s].descriptor.index;return Uc(s,i)?t?a:a-1:t?a+1:a},sBe=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,s=t?i+1:i-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=e?a:a+1;return s<o||s>l?null:s},oBe=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:i,insideDestination:s,previousImpact:o,viewport:a,afterCritical:l})=>{const c=o.at;if(c||ke(),c.type==="REORDER"){const d=sBe({isMovingForward:t,isInHomeList:e,location:c.destination,insideDestination:s});return d==null?null:e0({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:d})}const u=iBe({isMovingForward:t,destination:i,displaced:o.displaced,draggables:r,combine:c.combine,afterCritical:l});return u==null?null:e0({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:u})},aBe=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const i=!!(t.visible[n]||t.invisible[n]);return Uc(n,e)?i?er:Cp(r.point):i?r.point:er},lBe=({afterCritical:t,impact:e,draggables:n})=>{const r=c1(e);r||ke();const i=r.draggableId,s=n[i].page.borderBox.center,o=aBe({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return mr(s,o)};const kK=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,cBe=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,MM=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,gB=({axis:t,moveRelativeTo:e,isMoving:n})=>Pd(t.line,e.marginBox[t.end]+kK(t,n),MM(t,e.marginBox,n)),yB=({axis:t,moveRelativeTo:e,isMoving:n})=>Pd(t.line,e.marginBox[t.start]-cBe(t,n),MM(t,e.marginBox,n)),uBe=({axis:t,moveInto:e,isMoving:n})=>Pd(t.line,e.contentBox[t.start]+kK(t,n),MM(t,e.contentBox,n));var dBe=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:i})=>{const s=jp(r.descriptor.id,n),o=e.page,a=r.axis;if(!s.length)return uBe({axis:a,moveInto:r.page,isMoving:o});const{displaced:l,displacedBy:c}=t,u=l.all[0];if(u){const f=n[u];if(Uc(u,i))return yB({axis:a,moveRelativeTo:f.page,isMoving:o});const h=Gw(f.page,c.point);return yB({axis:a,moveRelativeTo:h,isMoving:o})}const d=s[s.length-1];if(d.descriptor.id===e.descriptor.id)return o.borderBox.center;if(Uc(d.descriptor.id,i)){const f=Gw(d.page,Cp(i.displacedBy.point));return gB({axis:a,moveRelativeTo:f,isMoving:o})}return gB({axis:a,moveRelativeTo:d.page,isMoving:o})},fE=(t,e)=>{const n=t.frame;return n?mr(e,n.scroll.diff.displacement):e};const fBe=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:i})=>{const s=e.page.borderBox.center,o=t.at;return!n||!o?s:o.type==="REORDER"?dBe({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i}):lBe({impact:t,draggables:r,afterCritical:i})};var d1=t=>{const e=fBe(t),n=t.droppable;return n?fE(n,e):e},PK=(t,e)=>{const n=Ri(e,t.scroll.initial),r=Cp(n);return{frame:Js({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function OB(t,e){return t.map(n=>e[n])}function hBe(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var pBe=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:i})=>{const s=PK(e,mr(e.scroll.current,i)),o=n.frame?TM(n,mr(n.frame.scroll.current,i)):n,a=t.displaced,l=gy({afterDragging:OB(a.all,r),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),c=gy({afterDragging:OB(a.all,r),destination:o,displacedBy:t.displacedBy,viewport:e.frame,last:a,forceShouldAnimate:!1}),u={},d={},f=[a,l,c];return a.all.forEach(m=>{const g=hBe(m,f);if(g){d[m]=g;return}u[m]=!0}),{...t,displaced:{all:a.all,invisible:u,visible:d}}},mBe=(t,e)=>mr(t.scroll.diff.displacement,e),IM=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=mBe(n,t),i=Ri(r,e.page.borderBox.center);return mr(e.client.borderBox.center,i)},CK=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const o=Ri(n,t.page.borderBox.center),l={target:_O(t.page.borderBox,o),destination:e,withDroppableDisplacement:i,viewport:r};return s?eBe(l):$K(l)},gBe=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:i,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const c=jp(n.descriptor.id,r),u=Ep(e,n),d=UVe({isMovingForward:t,draggable:e,destination:n,insideDestination:c,previousImpact:i})||oBe({isMovingForward:t,isInHomeList:u,draggable:e,draggables:r,destination:n,insideDestination:c,previousImpact:i,viewport:s,afterCritical:l});if(!d)return null;const f=d1({impact:d,draggable:e,droppable:n,draggables:r,afterCritical:l});if(CK({draggable:e,destination:n,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:IM({pageBorderBoxCenter:f,draggable:e,viewport:s}),impact:d,scrollJumpRequest:null};const m=Ri(f,o),g=pBe({impact:d,viewport:s,destination:n,draggables:r,maxScrollChange:m});return{clientSelection:a,impact:g,scrollJumpRequest:m}};const Lr=t=>{const e=t.subject.active;return e||ke(),e};var yBe=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:i})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,a=ls(s[o.start],s[o.end]),l=l1(r).filter(u=>u!==n).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>SK(i.frame)(Lr(u))).filter(u=>{const d=Lr(u);return t?s[o.crossAxisEnd]<d[o.crossAxisEnd]:d[o.crossAxisStart]<s[o.crossAxisStart]}).filter(u=>{const d=Lr(u),f=ls(d[o.start],d[o.end]);return a(d[o.start])||a(d[o.end])||f(s[o.start])||f(s[o.end])}).sort((u,d)=>{const f=Lr(u)[o.crossAxisStart],h=Lr(d)[o.crossAxisStart];return t?f-h:h-f}).filter((u,d,f)=>Lr(u)[o.crossAxisStart]===Lr(f[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(u=>ls(Lr(u)[o.start],Lr(u)[o.end])(e[o.line]));return c.length===1?c[0]:c.length>1?c.sort((u,d)=>Lr(u)[o.start]-Lr(d)[o.start])[0]:l.sort((u,d)=>{const f=hB(e,pB(Lr(u))),h=hB(e,pB(Lr(d)));return f!==h?f-h:Lr(u)[o.start]-Lr(d)[o.start]})[0]};const bB=(t,e)=>{const n=t.page.borderBox.center;return Uc(t.descriptor.id,e)?Ri(n,e.displacedBy.point):n},OBe=(t,e)=>{const n=t.page.borderBox;return Uc(t.descriptor.id,e)?_O(n,Cp(e.displacedBy.point)):n};var bBe=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>$K({target:OBe(o,i),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=py(t,fE(n,bB(o,i))),c=py(t,fE(n,bB(a,i)));return l<c?-1:c<l?1:o.descriptor.index-a.descriptor.index})[0]||null,$O=Hn(function(e,n){const r=n[e.line];return{value:r,point:Pd(e.line,r)}});const xBe=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return Pd(r.line,e[r.line]);const i=t.subject.page.contentBox[r.size],l=jp(t.descriptor.id,n).reduce((c,u)=>c+u.client.marginBox[r.size],0)+e[r.line]-i;return l<=0?null:Pd(r.line,l)},jK=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),EK=(t,e,n)=>{const r=t.frame;Ep(e,t)&&ke(),t.subject.withPlaceholder&&ke();const i=$O(t.axis,e.displaceBy).point,s=xBe(t,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const u=Zh({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return{...t,subject:u}}const a=s?mr(r.scroll.max,s):r.scroll.max,l=jK(r,a),c=Zh({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:l});return{...t,subject:c,frame:l}},vBe=t=>{const e=t.subject.withPlaceholder;e||ke();const n=t.frame;if(!n){const o=Zh({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:o}}const r=e.oldFrameMaxScroll;r||ke();const i=jK(n,r),s=Zh({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:s,frame:i}};var wBe=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:i,destination:s,viewport:o,afterCritical:a})=>{if(!e){if(n.length)return null;const d={displaced:my,displacedBy:wK,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},f=d1({impact:d,draggable:r,droppable:s,draggables:i,afterCritical:a}),h=Ep(r,s)?s:EK(s,r,i);return CK({draggable:r,destination:h,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const l=t[s.axis.line]<=e.page.borderBox.center[s.axis.line],c=(()=>{const d=e.descriptor.index;return e.descriptor.id===r.descriptor.id||l?d:d+1})(),u=$O(s.axis,r.displaceBy);return e0({draggable:r,insideDestination:n,destination:s,viewport:o,displacedBy:u,last:my,index:c})},SBe=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:i,droppables:s,viewport:o,afterCritical:a})=>{const l=yBe({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:s,viewport:o});if(!l)return null;const c=jp(l.descriptor.id,i),u=bBe({pageBorderBoxCenter:e,viewport:o,destination:l,insideDestination:c,afterCritical:a}),d=wBe({previousPageBorderBoxCenter:e,destination:l,draggable:n,draggables:i,moveRelativeTo:u,insideDestination:c,viewport:o,afterCritical:a});if(!d)return null;const f=d1({impact:d,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:IM({pageBorderBoxCenter:f,draggable:n,viewport:o}),impact:d,scrollJumpRequest:null}},Qi=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const _Be=(t,e)=>{const n=Qi(t);return n?e[n]:null};var $Be=({state:t,type:e})=>{const n=_Be(t.impact,t.dimensions.droppables),r=!!n,i=t.dimensions.droppables[t.critical.droppable.id],s=n||i,o=s.axis.direction,a=o==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||o==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(a&&!r)return null;const l=e==="MOVE_DOWN"||e==="MOVE_RIGHT",c=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,{draggables:d,droppables:f}=t.dimensions;return a?gBe({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:s,draggables:d,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):SBe({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:s,draggables:d,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function Su(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function TK(t){const e=ls(t.top,t.bottom),n=ls(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function kBe(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function PBe({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,i=n.map(s=>{const o=s.axis,a=Pd(s.axis.line,t.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:py(r,a)}}).sort((s,o)=>o.distance-s.distance);return i[0]?i[0].id:null}function CBe({pageBorderBox:t,draggable:e,droppables:n}){const r=l1(n).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!kBe(t,s))return!1;if(TK(s)(t.center))return!0;const o=i.axis,a=s.center[o.crossAxisLine],l=t[o.crossAxisStart],c=t[o.crossAxisEnd],u=ls(s[o.crossAxisStart],s[o.crossAxisEnd]),d=u(l),f=u(c);return!d&&!f?!0:d?l<a:c>a});return r.length?r.length===1?r[0].descriptor.id:PBe({pageBorderBox:t,draggable:e,candidates:r}):null}const NK=(t,e)=>Js(_O(t,e));var jBe=(t,e)=>{const n=t.frame;return n?NK(e,n.scroll.diff.value):e};function AK({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function EBe({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var TBe=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:i,viewport:s,afterCritical:o})=>{const a=n.axis,l=$O(n.axis,e.displaceBy),c=l.value,u=t[a.start],d=t[a.end],h=u1(e,r).find(g=>{const y=g.descriptor.id,O=g.page.borderBox.center[a.line],b=Uc(y,o),x=AK({displaced:i,id:y});return b?x?d<=O:u<O-c:x?d<=O+c:u<O})||null,m=EBe({draggable:e,closest:h,inHomeList:Ep(e,n)});return e0({draggable:e,insideDestination:r,destination:n,viewport:s,last:i,displacedBy:l,index:m})};const NBe=4;var ABe=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:i,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const o=r.axis,a=$O(r.axis,t.displaceBy),l=a.value,c=e[o.start],u=e[o.end],f=u1(t,i).find(m=>{const g=m.descriptor.id,y=m.page.borderBox,b=y[o.size]/NBe,x=Uc(g,s),v=AK({displaced:n.displaced,id:g});return x?v?u>y[o.start]+b&&u<y[o.end]-b:c>y[o.start]-l+b&&c<y[o.end]-l-b:v?u>y[o.start]+l+b&&u<y[o.end]+l-b:c>y[o.start]+b&&c<y[o.end]-b});return f?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:r.descriptor.id}}}:null},RK=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:i,viewport:s,afterCritical:o})=>{const a=NK(e.page.borderBox,t),l=CBe({pageBorderBox:a,draggable:e,droppables:r});if(!l)return ZVe;const c=r[l],u=jp(c.descriptor.id,n),d=jBe(c,a);return ABe({pageBorderBoxWithDroppableScroll:d,draggable:e,previousImpact:i,destination:c,insideDestination:u,afterCritical:o})||TBe({pageBorderBoxWithDroppableScroll:d,draggable:e,destination:c,insideDestination:u,last:i.displaced,viewport:s,afterCritical:o})},DM=(t,e)=>({...t,[e.descriptor.id]:e});const RBe=({previousImpact:t,impact:e,droppables:n})=>{const r=Qi(t),i=Qi(e);if(!r||r===i)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const o=vBe(s);return DM(n,o)};var MBe=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:i})=>{const s=RBe({previousImpact:r,impact:i,droppables:n}),o=Qi(i);if(!o)return s;const a=n[o];if(Ep(t,a)||a.subject.withPlaceholder)return s;const l=EK(a,t,e);return DM(s,l)},mg=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:i,scrollJumpRequest:s})=>{const o=r||t.viewport,a=n||t.dimensions,l=e||t.current.client.selection,c=Ri(l,t.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:mr(t.initial.client.borderBoxCenter,c)},d={selection:mr(u.selection,o.scroll.current),borderBoxCenter:mr(u.borderBoxCenter,o.scroll.current),offset:mr(u.offset,o.scroll.diff.value)},f={client:u,page:d};if(t.phase==="COLLECTING")return{...t,dimensions:a,viewport:o,current:f};const h=a.draggables[t.critical.draggable.id],m=i||RK({pageOffset:d.offset,draggable:h,draggables:a.draggables,droppables:a.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),g=MBe({draggable:h,impact:m,previousImpact:t.impact,draggables:a.draggables,droppables:a.droppables});return{...t,current:f,dimensions:{draggables:a.draggables,droppables:g},impact:m,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function IBe(t,e){return t.map(n=>e[n])}var MK=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:i})=>{const s=t.displaced,o=IBe(s.all,n),a=gy({afterDragging:o,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:s});return{...t,displaced:a}},IK=({impact:t,draggable:e,droppable:n,draggables:r,viewport:i,afterCritical:s})=>{const o=d1({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:s});return IM({pageBorderBoxCenter:o,draggable:e,viewport:i})},DK=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&ke();const r=t.impact,i=n||t.viewport,s=e||t.dimensions,{draggables:o,droppables:a}=s,l=o[t.critical.draggable.id],c=Qi(r);c||ke();const u=a[c],d=MK({impact:r,viewport:i,destination:u,draggables:o}),f=IK({impact:d,draggable:l,droppable:u,draggables:o,viewport:i,afterCritical:t.afterCritical});return mg({impact:d,clientSelection:f,state:t,dimensions:s,viewport:i})},DBe=t=>({index:t.index,droppableId:t.droppableId}),QK=({draggable:t,home:e,draggables:n,viewport:r})=>{const i=$O(e.axis,t.displaceBy),s=jp(e.descriptor.id,n),o=s.indexOf(t);o===-1&&ke();const a=s.slice(o+1),l=a.reduce((f,h)=>(f[h.descriptor.id]=!0,f),{}),c={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:gy({afterDragging:a,destination:e,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:DBe(t.descriptor)}},afterCritical:c}},QBe=(t,e)=>({draggables:t.draggables,droppables:DM(t.droppables,e)}),FBe=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=Gw(t.client,e),i=Hw(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:i}},LBe=t=>{const e=t.frame;return e||ke(),e},qBe=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(i=>{const s=i.descriptor.droppableId,o=e[s],l=LBe(o).scroll.diff.value,c=mr(r,l);return FBe({draggable:i,offset:c,initialWindowScroll:n.scroll.initial})})},VBe=({state:t,published:e})=>{const n=e.modified.map(O=>{const b=t.dimensions.droppables[O.droppableId];return TM(b,O.scroll)}),r={...t.dimensions.droppables,...xK(n)},i=vK(qBe({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),s={...t.dimensions.draggables,...i};e.removals.forEach(O=>{delete s[O]});const o={droppables:r,draggables:s},a=Qi(t.impact),l=a?o.droppables[a]:null,c=o.draggables[t.critical.draggable.id],u=o.droppables[t.critical.droppable.id],{impact:d,afterCritical:f}=QK({draggable:c,home:u,draggables:s,viewport:t.viewport}),h=l&&l.isCombineEnabled?t.impact:d,m=RK({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:h,viewport:t.viewport,afterCritical:f}),g={...t,phase:"DRAGGING",impact:m,onLiftImpact:d,dimensions:o,afterCritical:f,forceShouldAnimate:!1};return t.phase==="COLLECTING"?g:{...g,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const hE=t=>t.movementMode==="SNAP",vk=(t,e,n)=>{const r=QBe(t.dimensions,e);return!hE(t)||n?mg({state:t,dimensions:r}):DK({state:t,dimensions:r})};function wk(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const xB={phase:"IDLE",completed:null,shouldFlush:!1};var BBe=(t=xB,e)=>{if(e.type==="FLUSH")return{...xB,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&ke();const{critical:n,clientSelection:r,viewport:i,dimensions:s,movementMode:o}=e.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],c={selection:r,borderBoxCenter:a.client.borderBox.center,offset:er},u={client:c,page:{selection:mr(c.selection,i.scroll.initial),borderBoxCenter:mr(c.selection,i.scroll.initial),offset:mr(c.selection,i.scroll.diff.value)}},d=l1(s.droppables).every(g=>!g.isFixedOnPage),{impact:f,afterCritical:h}=QK({draggable:a,home:l,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:u,current:u,isWindowScrollAllowed:d,impact:f,afterCritical:h,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&ke(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||ke(),VBe({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Su(t)||ke();const{client:n}=e.payload;return _c(n,t.current.client.selection)?t:mg({state:t,clientSelection:n,impact:hE(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return wk(t);Su(t)||ke();const{id:n,newScroll:r}=e.payload,i=t.dimensions.droppables[n];if(!i)return t;const s=TM(i,r);return vk(t,s,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Su(t)||ke();const{id:n,isEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||ke(),i.isEnabled===r&&ke();const s={...i,isEnabled:r};return vk(t,s,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Su(t)||ke();const{id:n,isCombineEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||ke(),i.isCombineEnabled===r&&ke();const s={...i,isCombineEnabled:r};return vk(t,s,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Su(t)||ke(),t.isWindowScrollAllowed||ke();const n=e.payload.newScroll;if(_c(t.viewport.scroll.current,n))return wk(t);const r=PK(t.viewport,n);return hE(t)?DK({state:t,viewport:r}):mg({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Su(t))return t;const n=e.payload.maxScroll;if(_c(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&ke();const n=$Be({state:t,type:e.type});return n?mg({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&ke(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||ke(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function Ct(t,e){return t instanceof Object&&"type"in t&&t.type===e}const zBe=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),WBe=t=>({type:"LIFT",payload:t}),UBe=t=>({type:"INITIAL_PUBLISH",payload:t}),ZBe=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),XBe=()=>({type:"COLLECTION_STARTING",payload:null}),YBe=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),GBe=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),HBe=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),FK=t=>({type:"MOVE",payload:t}),KBe=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),JBe=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),e3e=()=>({type:"MOVE_UP",payload:null}),t3e=()=>({type:"MOVE_DOWN",payload:null}),n3e=()=>({type:"MOVE_RIGHT",payload:null}),r3e=()=>({type:"MOVE_LEFT",payload:null}),QM=()=>({type:"FLUSH",payload:null}),i3e=t=>({type:"DROP_ANIMATE",payload:t}),FM=t=>({type:"DROP_COMPLETE",payload:t}),LK=t=>({type:"DROP",payload:t}),s3e=t=>({type:"DROP_PENDING",payload:t}),qK=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var o3e=t=>({getState:e,dispatch:n})=>r=>i=>{if(!Ct(i,"LIFT")){r(i);return}const{id:s,clientSelection:o,movementMode:a}=i.payload,l=e();l.phase==="DROP_ANIMATING"&&n(FM({completed:l.completed})),e().phase!=="IDLE"&&ke(),n(QM()),n(zBe({draggableId:s,movementMode:a}));const u={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:d,dimensions:f,viewport:h}=t.startPublishing(u);n(UBe({critical:d,dimensions:f,clientSelection:o,movementMode:a,viewport:h}))},a3e=t=>()=>e=>n=>{Ct(n,"INITIAL_PUBLISH")&&t.dragging(),Ct(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(Ct(n,"FLUSH")||Ct(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const LM={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},yy={opacity:{drop:0,combining:.7},scale:{drop:.75}},VK={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},hu=`${VK.outOfTheWay}s ${LM.outOfTheWay}`,gg={fluid:`opacity ${hu}`,snap:`transform ${hu}, opacity ${hu}`,drop:t=>{const e=`${t}s ${LM.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${hu}`,placeholder:`height ${hu}, width ${hu}, margin ${hu}`},vB=t=>_c(t,er)?void 0:`translate(${t.x}px, ${t.y}px)`,pE={moveTo:vB,drop:(t,e)=>{const n=vB(t);if(n)return e?`${n} scale(${yy.scale.drop})`:n}},{minDropTime:mE,maxDropTime:BK}=VK,l3e=BK-mE,wB=1500,c3e=.6;var u3e=({current:t,destination:e,reason:n})=>{const r=py(t,e);if(r<=0)return mE;if(r>=wB)return BK;const i=r/wB,s=mE+l3e*i,o=n==="CANCEL"?s*c3e:s;return Number(o.toFixed(2))},d3e=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:s,droppables:o}=n,a=Qi(t),l=a?o[a]:null,c=o[e.descriptor.droppableId],u=IK({impact:t,draggable:e,draggables:s,afterCritical:i,droppable:l||c,viewport:r});return Ri(u,e.client.borderBox.center)},f3e=({draggables:t,reason:e,lastImpact:n,home:r,viewport:i,onLiftImpact:s})=>!n.at||e!=="DROP"?{impact:MK({draggables:t,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:my},didDropInsideDroppable:!0};const h3e=({getState:t,dispatch:e})=>n=>r=>{if(!Ct(r,"DROP")){n(r);return}const i=t(),s=r.payload.reason;if(i.phase==="COLLECTING"){e(s3e({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&ke(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||ke();const a=i.critical,l=i.dimensions,c=l.draggables[i.critical.draggable.id],{impact:u,didDropInsideDroppable:d}=f3e({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=d?NM(u):null,h=d?c1(u):null,m={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:m,reason:s,mode:i.movementMode,destination:f,combine:h},y=d3e({impact:u,draggable:c,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),O={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:u};if(!(!_c(i.current.client.offset,y)||!!g.combine)){e(FM({completed:O}));return}const x=u3e({current:i.current.client.offset,destination:y,reason:s});e(i3e({newHomeClientOffset:y,dropDuration:x,completed:O}))};var zK=()=>({x:window.pageXOffset,y:window.pageYOffset});function p3e(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function m3e({onWindowScroll:t}){function e(){t(zK())}const n=hy(e),r=p3e(n);let i=Sc;function s(){return i!==Sc}function o(){s()&&ke(),i=ss(window,[r])}function a(){s()||ke(),n.cancel(),i(),i=Sc}return{start:o,stop:a,isActive:s}}const g3e=t=>Ct(t,"DROP_COMPLETE")||Ct(t,"DROP_ANIMATE")||Ct(t,"FLUSH"),y3e=t=>{const e=m3e({onWindowScroll:n=>{t.dispatch(KBe({newScroll:n}))}});return n=>r=>{!e.isActive()&&Ct(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&g3e(r)&&e.stop(),n(r)}};var O3e=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=s=>{e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=()=>e,i},b3e=()=>{const t=[],e=i=>{const s=t.findIndex(a=>a.timerId===i);s===-1&&ke();const[o]=t.splice(s,1);o.callback()};return{add:i=>{const s=setTimeout(()=>e(s)),o={timerId:s,callback:i};t.push(o)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const x3e=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,v3e=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,w3e=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},xm=(t,e)=>{e()},nx=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function Sk(t,e,n,r){if(!t){n(r(e));return}const i=O3e(n);t(e,{announce:i}),i.wasCalled()||n(r(e))}var S3e=(t,e)=>{const n=b3e();let r=null;const i=(d,f)=>{r&&ke(),xm("onBeforeCapture",()=>{const h=t().onBeforeCapture;h&&h({draggableId:d,mode:f})})},s=(d,f)=>{r&&ke(),xm("onBeforeDragStart",()=>{const h=t().onBeforeDragStart;h&&h(nx(d,f))})},o=(d,f)=>{r&&ke();const h=nx(d,f);r={mode:f,lastCritical:d,lastLocation:h.source,lastCombine:null},n.add(()=>{xm("onDragStart",()=>Sk(t().onDragStart,h,e,hv.onDragStart))})},a=(d,f)=>{const h=NM(f),m=c1(f);r||ke();const g=!w3e(d,r.lastCritical);g&&(r.lastCritical=d);const y=!x3e(r.lastLocation,h);y&&(r.lastLocation=h);const O=!v3e(r.lastCombine,m);if(O&&(r.lastCombine=m),!g&&!y&&!O)return;const b={...nx(d,r.mode),combine:m,destination:h};n.add(()=>{xm("onDragUpdate",()=>Sk(t().onDragUpdate,b,e,hv.onDragUpdate))})},l=()=>{r||ke(),n.flush()},c=d=>{r||ke(),r=null,xm("onDragEnd",()=>Sk(t().onDragEnd,d,e,hv.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:l,drop:c,abort:()=>{if(!r)return;const d={...nx(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(d)}}},_3e=(t,e)=>{const n=S3e(t,e);return r=>i=>s=>{if(Ct(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(Ct(s,"INITIAL_PUBLISH")){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),i(s),n.start(a,s.payload.movementMode);return}if(Ct(s,"DROP_COMPLETE")){const a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),Ct(s,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const $3e=t=>e=>n=>{if(!Ct(n,"DROP_ANIMATION_FINISHED")){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&ke(),t.dispatch(FM({completed:r.completed}))},k3e=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return i=>s=>{if((Ct(s,"FLUSH")||Ct(s,"DROP_COMPLETE")||Ct(s,"DROP_ANIMATION_FINISHED"))&&r(),i(s),!Ct(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(qK())}};n=requestAnimationFrame(()=>{n=null,e=ss(window,[o])})}};var P3e=t=>()=>e=>n=>{(Ct(n,"DROP_COMPLETE")||Ct(n,"FLUSH")||Ct(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},C3e=t=>{let e=!1;return()=>n=>r=>{if(Ct(r,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(Ct(r,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(Ct(r,"DROP_COMPLETE")){e=!1;const i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const j3e=t=>Ct(t,"DROP_COMPLETE")||Ct(t,"DROP_ANIMATE")||Ct(t,"FLUSH");var E3e=t=>e=>n=>r=>{if(j3e(r)){t.stop(),n(r);return}if(Ct(r,"INITIAL_PUBLISH")){n(r);const i=e.getState();i.phase!=="DRAGGING"&&ke(),t.start(i);return}n(r),t.scroll(e.getState())};const T3e=t=>e=>n=>{if(e(n),!Ct(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(LK({reason:r.reason})))},N3e=sK;var A3e=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:i,autoScroller:s})=>iK(BBe,N3e(Eqe(a3e(n),P3e(t),o3e(t),h3e,$3e,k3e,T3e,E3e(s),y3e,C3e(e),_3e(r,i))));const _k=()=>({additions:{},removals:{},modified:{}});function R3e({registry:t,callbacks:e}){let n=_k(),r=null;const i=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:c,modified:u}=n,d=Object.keys(l).map(m=>t.draggable.getById(m).getDimension(er)).sort((m,g)=>m.descriptor.index-g.descriptor.index),f=Object.keys(u).map(m=>{const y=t.droppable.getById(m).callbacks.getScrollWhileDragging();return{droppableId:m,scroll:y}}),h={additions:d,removals:Object.keys(c),modified:f};n=_k(),e.publish(h)}))};return{add:l=>{const c=l.descriptor.id;n.additions[c]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],i()},remove:l=>{const c=l.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=_k())}}}var WK=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const i=Ri({x:e,y:t},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},UK=()=>{const t=document.documentElement;return t||ke(),t},ZK=()=>{const t=UK();return WK({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},M3e=()=>{const t=zK(),e=ZK(),n=t.y,r=t.x,i=UK(),s=i.clientWidth,o=i.clientHeight,a=r+s,l=n+o;return{frame:Js({top:n,left:r,right:a,bottom:l}),scroll:{initial:t,current:t,max:e,diff:{value:er,displacement:er}}}},I3e=({critical:t,scrollOptions:e,registry:n})=>{const r=M3e(),i=r.scroll.current,s=t.droppable,o=n.droppable.getAllByType(s.type).map(u=>u.callbacks.getDimensionAndWatchScroll(i,e)),a=n.draggable.getAllByType(t.draggable.type).map(u=>u.getDimension(i));return{dimensions:{draggables:vK(a),droppables:xK(o)},critical:t,viewport:r}};function SB(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var D3e=(t,e)=>{let n=null;const r=R3e({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(f,h)=>{t.droppable.exists(f)||ke(),n&&e.updateDroppableIsEnabled({id:f,isEnabled:h})},s=(f,h)=>{n&&(t.droppable.exists(f)||ke(),e.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:h}))},o=(f,h)=>{n&&(t.droppable.exists(f)||ke(),e.updateDroppableScroll({id:f,newScroll:h}))},a=(f,h)=>{n&&t.droppable.getById(f).callbacks.scroll(h)},l=()=>{if(!n)return;r.stop();const f=n.critical.droppable;t.droppable.getAllByType(f.type).forEach(h=>h.callbacks.dragStopped()),n.unsubscribe(),n=null},c=f=>{n||ke();const h=n.critical.draggable;f.type==="ADDITION"&&SB(t,h,f.value)&&r.add(f.value),f.type==="REMOVAL"&&SB(t,h,f.value)&&r.remove(f.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:f=>{n&&ke();const h=t.draggable.getById(f.draggableId),m=t.droppable.getById(h.descriptor.droppableId),g={draggable:h.descriptor,droppable:m.descriptor},y=t.subscribe(c);return n={critical:g,unsubscribe:y},I3e({critical:g,registry:t,scrollOptions:f.scrollOptions})},stopPublishing:l}},XK=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",Q3e=t=>{window.scrollBy(t.x,t.y)};const F3e=Hn(t=>l1(t).filter(e=>!(!e.isEnabled||!e.frame))),L3e=(t,e)=>F3e(e).find(r=>(r.frame||ke(),TK(r.frame.pageMarginBox)(t)))||null;var q3e=({center:t,destination:e,droppables:n})=>{if(e){const i=n[e];return i.frame?i:null}return L3e(t,n)};const Oy={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var V3e=(t,e,n=()=>Oy)=>{const r=n(),i=t[e.size]*r.startFromPercentage,s=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},YK=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},qM=1,B3e=(t,e,n=()=>Oy)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return qM;const s=1-YK({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),o=r.maxPixelScroll*r.ease(s);return Math.ceil(o)},z3e=(t,e,n)=>{const r=n(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,o=e,a=s,c=Date.now()-o;if(c>=s)return t;if(c<i)return qM;const u=YK({startOfRange:i,endOfRange:a,current:c}),d=t*r.ease(u);return Math.ceil(d)},_B=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=B3e(t,e,i);return s===0?0:r?Math.max(z3e(s,n,i),qM):s},$B=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=V3e(t,r,s);return e[r.end]<e[r.start]?_B({distanceToEdge:e[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*_B({distanceToEdge:e[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},W3e=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,i=e.width>t.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const U3e=bK(t=>t===0?0:t);var GK=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},a=$B({container:e,distanceToEdges:o,dragStartTime:t,axis:AM,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),l=$B({container:e,distanceToEdges:o,dragStartTime:t,axis:_K,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),c=U3e({x:l,y:a});if(_c(c,er))return null;const u=W3e({container:e,subject:n,proposedScroll:c});return u?_c(u,er)?null:u:null};const Z3e=bK(t=>t===0?0:t>0?1:-1),VM=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const i=mr(e,r),s={x:t(i.x,n.x),y:t(i.y,n.y)};return _c(s,er)?null:s}})(),HK=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=Z3e(n),s=VM({max:r,current:e,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},BM=(t,e)=>HK({current:t.scroll.current,max:t.scroll.max,change:e}),X3e=(t,e)=>{if(!BM(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return VM({current:r,max:n,change:e})},zM=(t,e)=>{const n=t.frame;return n?HK({current:n.scroll.current,max:n.scroll.max,change:e}):!1},Y3e=(t,e)=>{const n=t.frame;return!n||!zM(t,e)?null:VM({current:n.scroll.current,max:n.scroll.max,change:e})};var G3e=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=GK({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return o&&BM(t,o)?o:null},H3e=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=t.frame;if(!o)return null;const a=GK({dragStartTime:r,container:o.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return a&&zM(t,a)?a:null},kB=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:s})=>{const o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const d=t.viewport,f=G3e({dragStartTime:e,viewport:d,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(f){r(f);return}}const c=q3e({center:o,destination:Qi(t.impact),droppables:t.dimensions.droppables});if(!c)return;const u=H3e({dragStartTime:e,droppable:c,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});u&&i(c.descriptor.id,u)},K3e=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>Oy})=>{const r=hy(t),i=hy(e);let s=null;const o=c=>{s||ke();const{shouldUseTimeDampening:u,dragStartTime:d}=s;kB({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:d,shouldUseTimeDampening:u,getAutoScrollerOptions:n})};return{start:c=>{s&&ke();const u=Date.now();let d=!1;const f=()=>{d=!0};kB({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:n}),s={dragStartTime:u,shouldUseTimeDampening:d},d&&o(c)},stop:()=>{s&&(r.cancel(),i.cancel(),s=null)},scroll:o}},J3e=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(a,l)=>{const c=mr(a.current.client.selection,l);t({client:c})},i=(a,l)=>{if(!zM(a,l))return l;const c=Y3e(a,l);if(!c)return e(a.descriptor.id,l),null;const u=Ri(l,c);return e(a.descriptor.id,u),Ri(l,u)},s=(a,l,c)=>{if(!a||!BM(l,c))return c;const u=X3e(l,c);if(!u)return n(c),null;const d=Ri(c,u);return n(d),Ri(c,d)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=Qi(a.impact);c||ke();const u=i(a.dimensions.droppables[c],l);if(!u)return;const d=a.viewport,f=s(a.isWindowScrollAllowed,d,u);f&&r(a,f)}},e4e=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const i=K3e({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),s=J3e({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:i.start,stop:i.stop}};const Xh="data-rfd",Yh=(()=>{const t=`${Xh}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),gE=(()=>{const t=`${Xh}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),t4e=(()=>{const t=`${Xh}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),PB={contextId:`${Xh}-scroll-container-context-id`},n4e=t=>e=>`[${e}="${t}"]`,vm=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),r4e="pointer-events: none;";var i4e=t=>{const e=n4e(t),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Yh.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:r4e,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${gg.outOfTheWay};
    `;return{selector:e(gE.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:e(t4e.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:vm(o,"always"),resting:vm(o,"resting"),dragging:vm(o,"dragging"),dropAnimating:vm(o,"dropAnimating"),userCancel:vm(o,"userCancel")}};const Fi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,$k=()=>{const t=document.querySelector("head");return t||ke(),t},CB=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function s4e(t,e){const n=yt(()=>i4e(t),[t]),r=S.useRef(null),i=S.useRef(null),s=ze(Hn(d=>{const f=i.current;f||ke(),f.textContent=d}),[]),o=ze(d=>{const f=r.current;f||ke(),f.textContent=d},[]);Fi(()=>{!r.current&&!i.current||ke();const d=CB(e),f=CB(e);return r.current=d,i.current=f,d.setAttribute(`${Xh}-always`,t),f.setAttribute(`${Xh}-dynamic`,t),$k().appendChild(d),$k().appendChild(f),o(n.always),s(n.resting),()=>{const h=m=>{const g=m.current;g||ke(),$k().removeChild(g),m.current=null};h(r),h(i)}},[e,o,s,n.always,n.resting,t]);const a=ze(()=>s(n.dragging),[s,n.dragging]),l=ze(d=>{if(d==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),c=ze(()=>{i.current&&s(n.resting)},[s,n.resting]);return yt(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function KK(t,e){return Array.from(t.querySelectorAll(e))}var JK=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function f1(t){return t instanceof JK(t).HTMLElement}function o4e(t,e){const n=`[${Yh.contextId}="${t}"]`,r=KK(document,n);if(!r.length)return null;const i=r.find(s=>s.getAttribute(Yh.draggableId)===e);return!i||!f1(i)?null:i}function a4e(t){const e=S.useRef({}),n=S.useRef(null),r=S.useRef(null),i=S.useRef(!1),s=ze(function(f,h){const m={id:f,focus:h};return e.current[f]=m,function(){const y=e.current;y[f]!==m&&delete y[f]}},[]),o=ze(function(f){const h=o4e(t,f);h&&h!==document.activeElement&&h.focus()},[t]),a=ze(function(f,h){n.current===f&&(n.current=h)},[]),l=ze(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const f=n.current;f&&o(f)}))},[o]),c=ze(function(f){n.current=null;const h=document.activeElement;h&&h.getAttribute(Yh.draggableId)===f&&(n.current=f)},[]);return Fi(()=>(i.current=!0,function(){i.current=!1;const f=r.current;f&&cancelAnimationFrame(f)}),[]),yt(()=>({register:s,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,c,l,a])}function l4e(){const t={draggables:{},droppables:{}},e=[];function n(d){return e.push(d),function(){const h=e.indexOf(d);h!==-1&&e.splice(h,1)}}function r(d){e.length&&e.forEach(f=>f(d))}function i(d){return t.draggables[d]||null}function s(d){const f=i(d);return f||ke(),f}const o={register:d=>{t.draggables[d.descriptor.id]=d,r({type:"ADDITION",value:d})},update:(d,f)=>{const h=t.draggables[f.descriptor.id];h&&h.uniqueId===d.uniqueId&&(delete t.draggables[f.descriptor.id],t.draggables[d.descriptor.id]=d)},unregister:d=>{const f=d.descriptor.id,h=i(f);h&&d.uniqueId===h.uniqueId&&(delete t.draggables[f],t.droppables[d.descriptor.droppableId]&&r({type:"REMOVAL",value:d}))},getById:s,findById:i,exists:d=>!!i(d),getAllByType:d=>Object.values(t.draggables).filter(f=>f.descriptor.type===d)};function a(d){return t.droppables[d]||null}function l(d){const f=a(d);return f||ke(),f}const c={register:d=>{t.droppables[d.descriptor.id]=d},unregister:d=>{const f=a(d.descriptor.id);f&&d.uniqueId===f.uniqueId&&delete t.droppables[d.descriptor.id]},getById:l,findById:a,exists:d=>!!a(d),getAllByType:d=>Object.values(t.droppables).filter(f=>f.descriptor.type===d)};function u(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:c,subscribe:n,clean:u}}function c4e(){const t=yt(l4e,[]);return S.useEffect(()=>function(){t.clean()},[t]),t}var WM=ve.createContext(null),t0=()=>{const t=document.body;return t||ke(),t};const u4e={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},d4e=t=>`rfd-announcement-${t}`;function f4e(t){const e=yt(()=>d4e(t),[t]),n=S.useRef(null);return S.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),kh(s.style,u4e),t0().appendChild(s),function(){setTimeout(function(){const l=t0();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[e]),ze(i=>{const s=n.current;if(s){s.textContent=i;return}},[])}const h4e={separator:"::"};function UM(t,e=h4e){const n=ve.useId();return yt(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function p4e({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function m4e({contextId:t,text:e}){const n=UM("hidden-text",{separator:"-"}),r=yt(()=>p4e({contextId:t,uniqueId:n}),[n,t]);return S.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=e,s.style.display="none",t0().appendChild(s),function(){const a=t0();a.contains(s)&&a.removeChild(s)}},[r,e]),r}var h1=ve.createContext(null);function eJ(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),e}function g4e(){let t=null;function e(){return!!t}function n(o){return o===t}function r(o){t&&ke();const a={abandon:o};return t=a,a}function i(){t||ke(),t=null}function s(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:s}}function by(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const y4e=9,O4e=13,ZM=27,tJ=32,b4e=33,x4e=34,v4e=35,w4e=36,S4e=37,_4e=38,$4e=39,k4e=40,P4e={[O4e]:!0,[y4e]:!0};var nJ=t=>{P4e[t.keyCode]&&t.preventDefault()};const p1=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),rJ=0,jB=5;function C4e(t,e){return Math.abs(e.x-t.x)>=jB||Math.abs(e.y-t.y)>=jB}const EB={type:"IDLE"};function j4e({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:o,clientY:a}=i;if(s!==rJ)return;const l={x:o,y:a},c=n();if(c.type==="DRAGGING"){i.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&ke();const u=c.point;if(!C4e(u,l))return;i.preventDefault();const d=c.actions.fluidLift(l);r({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:i=>{const s=n();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){t();return}if(i.keyCode===ZM){i.preventDefault(),t();return}nJ(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=n();if(s.type==="IDLE"&&ke(),s.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:p1,fn:t}]}function E4e(t){const e=S.useRef(EB),n=S.useRef(Sc),r=yt(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==rJ||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const f=t.findClosestDraggableId(d);if(!f)return;const h=t.tryGetLock(f,o,{sourceEvent:d});if(!h)return;d.preventDefault();const m={x:d.clientX,y:d.clientY};n.current(),c(h,m)}}),[t]),i=yt(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const d=t.findClosestDraggableId(u);if(!d)return;const f=t.findOptionsForDraggable(d);f&&(f.shouldRespectForcePress||t.canGetLock(d)&&u.preventDefault())}}),[t]),s=ze(function(){const d={passive:!1,capture:!0};n.current=ss(window,[i,r],d)},[i,r]),o=ze(()=>{e.current.type!=="IDLE"&&(e.current=EB,n.current(),s())},[s]),a=ze(()=>{const u=e.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),l=ze(function(){const d={capture:!0,passive:!1},f=j4e({cancel:a,completed:o,getPhase:()=>e.current,setPhase:h=>{e.current=h}});n.current=ss(window,f,d)},[a,o]),c=ze(function(d,f){e.current.type!=="IDLE"&&ke(),e.current={type:"PENDING",point:f,actions:d},l()},[l]);Fi(function(){return s(),function(){n.current()}},[s])}function T4e(){}const N4e={[x4e]:!0,[b4e]:!0,[w4e]:!0,[v4e]:!0};function A4e(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===ZM){i.preventDefault(),n();return}if(i.keyCode===tJ){i.preventDefault(),r();return}if(i.keyCode===k4e){i.preventDefault(),t.moveDown();return}if(i.keyCode===_4e){i.preventDefault(),t.moveUp();return}if(i.keyCode===$4e){i.preventDefault(),t.moveRight();return}if(i.keyCode===S4e){i.preventDefault(),t.moveLeft();return}if(N4e[i.keyCode]){i.preventDefault();return}nJ(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:p1,fn:n}]}function R4e(t){const e=S.useRef(T4e),n=yt(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==tJ)return;const o=t.findClosestDraggableId(s);if(!o)return;const a=t.tryGetLock(o,u,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const c=a.snapLift();e.current();function u(){l||ke(),l=!1,e.current(),r()}e.current=ss(window,A4e(c,u),{capture:!0,passive:!1})}}),[t]),r=ze(function(){const s={passive:!1,capture:!0};e.current=ss(window,[n],s)},[n]);Fi(function(){return r(),function(){e.current()}},[r])}const kk={type:"IDLE"},M4e=120,I4e=.15;function D4e({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===ZM&&n.preventDefault(),t()}},{eventName:p1,fn:t}]}function Q4e({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:s,clientY:o}=r.touches[0],a={x:s,y:o};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&ke();const s=r.touches[0];if(!s||!(s.force>=I4e))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&t();return}if(a){if(i.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:p1,fn:t}]}function F4e(t){const e=S.useRef(kk),n=S.useRef(Sc),r=ze(function(){return e.current},[]),i=ze(function(h){e.current=h},[]),s=yt(()=>({eventName:"touchstart",fn:function(h){if(h.defaultPrevented)return;const m=t.findClosestDraggableId(h);if(!m)return;const g=t.tryGetLock(m,a,{sourceEvent:h});if(!g)return;const y=h.touches[0],{clientX:O,clientY:b}=y,x={x:O,y:b};n.current(),d(g,x)}}),[t]),o=ze(function(){const h={capture:!0,passive:!1};n.current=ss(window,[s],h)},[s]),a=ze(()=>{const f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(kk),n.current(),o())},[o,i]),l=ze(()=>{const f=e.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=ze(function(){const h={capture:!0,passive:!1},m={cancel:l,completed:a,getPhase:r},g=ss(window,Q4e(m),h),y=ss(window,D4e(m),h);n.current=function(){g(),y()}},[l,r,a]),u=ze(function(){const h=r();h.type!=="PENDING"&&ke();const m=h.actions.fluidLift(h.point);i({type:"DRAGGING",actions:m,hasMoved:!1})},[r,i]),d=ze(function(h,m){r().type!=="IDLE"&&ke();const g=setTimeout(u,M4e);i({type:"PENDING",point:m,actions:h,longPressTimerId:g}),c()},[c,r,i,u]);Fi(function(){return o(),function(){n.current();const m=r();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),i(kk))}},[r,o,i]),Fi(function(){return ss(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const L4e=["input","button","textarea","select","option","optgroup","video","audio"];function iJ(t,e){if(e==null)return!1;if(L4e.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:iJ(t,e.parentElement)}function q4e(t,e){const n=e.target;return f1(n)?iJ(t,n):!1}var V4e=t=>Js(t.getBoundingClientRect()).center;function B4e(t){return t instanceof JK(t).Element}const z4e=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function sJ(t,e){return t==null?null:t[z4e](e)?t:sJ(t.parentElement,e)}function W4e(t,e){return t.closest?t.closest(e):sJ(t,e)}function U4e(t){return`[${Yh.contextId}="${t}"]`}function Z4e(t,e){const n=e.target;if(!B4e(n))return null;const r=U4e(t),i=W4e(n,r);return!i||!f1(i)?null:i}function X4e(t,e){const n=Z4e(t,e);return n?n.getAttribute(Yh.draggableId):null}function Y4e(t,e){const n=`[${gE.contextId}="${t}"]`,i=KK(document,n).find(s=>s.getAttribute(gE.id)===e);return!i||!f1(i)?null:i}function G4e(t){t.preventDefault()}function rx({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function oJ({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!XK(e.getState(),r))}function H4e({lockAPI:t,contextId:e,store:n,registry:r,draggableId:i,forceSensorStop:s,sourceEvent:o}){if(!oJ({lockAPI:t,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),c=Y4e(e,l.descriptor.id);if(!c||o&&!l.options.canDragInteractiveElements&&q4e(c,o))return null;const u=t.claim(s||Sc);let d="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function h(){return t.isActive(u)}function m(w,_){rx({expected:w,phase:d,isLockActive:h,shouldWarn:!0})&&n.dispatch(_())}const g=m.bind(null,"DRAGGING");function y(w){function _(){t.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(_(),ke()),n.dispatch(WBe(w.liftActionArgs)),d="DRAGGING";function $(k,j={shouldBlockNextClick:!1}){if(w.cleanup(),j.shouldBlockNextClick){const P=ss(window,[{eventName:"click",fn:G4e,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}_(),n.dispatch(LK({reason:k}))}return{isActive:()=>rx({expected:"DRAGGING",phase:d,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:f,drop:k=>$("DROP",k),cancel:k=>$("CANCEL",k),...w.actions}}function O(w){const _=hy(k=>{g(()=>FK({client:k}))});return{...y({liftActionArgs:{id:i,clientSelection:w,movementMode:"FLUID"},cleanup:()=>_.cancel(),actions:{move:_}}),move:_}}function b(){const w={moveUp:()=>g(e3e),moveRight:()=>g(n3e),moveDown:()=>g(t3e),moveLeft:()=>g(r3e)};return y({liftActionArgs:{id:i,clientSelection:V4e(c),movementMode:"SNAP"},cleanup:Sc,actions:w})}function x(){rx({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!0})&&t.release()}return{isActive:()=>rx({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:O,snapLift:b,abort:x}}const K4e=[E4e,R4e,F4e];function J4e({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:i}){const s=[...i?K4e:[],...r||[]],o=S.useState(()=>g4e())[0],a=ze(function(y,O){by(y)&&!by(O)&&o.tryAbandon()},[o]);Fi(function(){let y=e.getState();return e.subscribe(()=>{const b=e.getState();a(y,b),y=b})},[o,e,a]),Fi(()=>o.tryAbandon,[o.tryAbandon]);const l=ze(g=>oJ({lockAPI:o,registry:n,store:e,draggableId:g}),[o,n,e]),c=ze((g,y,O)=>H4e({lockAPI:o,registry:n,contextId:t,store:e,draggableId:g,forceSensorStop:y||null,sourceEvent:O&&O.sourceEvent?O.sourceEvent:null}),[t,o,n,e]),u=ze(g=>X4e(t,g),[t]),d=ze(g=>{const y=n.draggable.findById(g);return y?y.options:null},[n.draggable]),f=ze(function(){o.isClaimed()&&(o.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(QM()))},[o,e]),h=ze(()=>o.isClaimed(),[o]),m=yt(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:d,tryReleaseLock:f,isLockClaimed:h}),[l,c,u,d,f,h]);for(let g=0;g<s.length;g++)s[g](m)}const eze=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};Xy.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),tze=t=>({...Oy,...t.autoScrollerOptions,durationDampening:{...Oy.durationDampening,...t.autoScrollerOptions}});function wm(t){return t.current||ke(),t.current}function nze(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:s}=t,o=S.useRef(null),a=eJ(t),l=ze(()=>eze(a.current),[a]),c=ze(()=>tze(a.current),[a]),u=f4e(e),d=m4e({contextId:e,text:s}),f=s4e(e,i),h=ze(P=>{wm(o).dispatch(P)},[]),m=yt(()=>JV({publishWhileDragging:ZBe,updateDroppableScroll:YBe,updateDroppableIsEnabled:GBe,updateDroppableIsCombineEnabled:HBe,collectionStarting:XBe},h),[h]),g=c4e(),y=yt(()=>D3e(g,m),[g,m]),O=yt(()=>e4e({scrollWindow:Q3e,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:c,...JV({move:FK},h)}),[y.scrollDroppable,h,c]),b=a4e(e),x=yt(()=>A3e({announce:u,autoScroller:O,dimensionMarshal:y,focusMarshal:b,getResponders:l,styleMarshal:f}),[u,O,y,b,l,f]);o.current=x;const v=ze(()=>{const P=wm(o);P.getState().phase!=="IDLE"&&P.dispatch(QM())},[]),w=ze(()=>{const P=wm(o).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),_=yt(()=>({isDragging:w,tryAbort:v}),[w,v]);n(_);const $=ze(P=>XK(wm(o).getState(),P),[]),k=ze(()=>Su(wm(o).getState()),[]),j=yt(()=>({marshal:y,focus:b,contextId:e,canLift:$,isMovementAllowed:k,dragHandleUsageInstructionsId:d,registry:g}),[e,y,d,b,$,k,g]);return J4e({contextId:e,store:x,registry:g,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),S.useEffect(()=>v,[v]),ve.createElement(h1.Provider,{value:j},ve.createElement(_Ve,{context:WM,store:x},t.children))}function rze(){return ve.useId()}function aJ(t){const e=rze(),n=t.dragHandleUsageInstructions||hv.dragHandleUsageInstructions;return ve.createElement(MVe,null,r=>ve.createElement(nze,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const TB={dragging:5e3,dropAnimating:4500},ize=(t,e)=>e?gg.drop(e.duration):t?gg.snap:gg.fluid,sze=(t,e)=>{if(t)return e?yy.opacity.drop:yy.opacity.combining},oze=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function aze(t){const n=t.dimension.client,{offset:r,combineWith:i,dropping:s}=t,o=!!i,a=oze(t),l=!!s,c=l?pE.drop(r,o):pE.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:ize(a,s),transform:c,opacity:sze(o,l),zIndex:l?TB.dropAnimating:TB.dragging,pointerEvents:"none"}}function lze(t){return{transform:pE.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function cze(t){return t.type==="DRAGGING"?aze(t):lze(t)}function uze(t,e,n=er){const r=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=pK(i,r),o=Hw(s,n),a={client:s,tagName:e.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:t,placeholder:a,displaceBy:l,client:s,page:o}}function dze(t){const e=UM("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=t,l=yt(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),c=ze(h=>{const m=i();return m||ke(),uze(n,m,h)},[n,i]),u=yt(()=>({uniqueId:e,descriptor:n,options:l,getDimension:c}),[n,c,l,e]),d=S.useRef(u),f=S.useRef(!0);Fi(()=>(r.draggable.register(d.current),()=>r.draggable.unregister(d.current)),[r.draggable]),Fi(()=>{if(f.current){f.current=!1;return}const h=d.current;d.current=u,r.draggable.update(u,h)},[u,r.draggable])}var XM=ve.createContext(null);function n0(t){const e=S.useContext(t);return e||ke(),e}function fze(t){t.preventDefault()}const hze=t=>{const e=S.useRef(null),n=ze((_=null)=>{e.current=_},[]),r=ze(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:o}=n0(h1),{type:a,droppableId:l}=n0(XM),c=yt(()=>({id:t.draggableId,index:t.index,type:a,droppableId:l}),[t.draggableId,t.index,a,l]),{children:u,draggableId:d,isEnabled:f,shouldRespectForcePress:h,canDragInteractiveElements:m,isClone:g,mapped:y,dropAnimationFinished:O}=t;if(!g){const _=yt(()=>({descriptor:c,registry:o,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:h,isEnabled:f}),[c,o,r,m,h,f]);dze(_)}const b=yt(()=>f?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:fze}:null,[i,s,d,f]),x=ze(_=>{y.type==="DRAGGING"&&y.dropping&&_.propertyName==="transform"&&Xy.flushSync(O)},[O,y]),v=yt(()=>{const _=cze(y),$=y.type==="DRAGGING"&&y.dropping?x:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":d,style:_,onTransitionEnd:$},dragHandleProps:b}},[i,b,d,y,x,n]),w=yt(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return ve.createElement(ve.Fragment,null,u(v,y.snapshot,w))};var lJ=(t,e)=>t===e,cJ=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const pze=t=>t.combine?t.combine.draggableId:null,mze=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function gze(){const t=Hn((i,s)=>({x:i,y:s})),e=Hn((i,s,o=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null})),n=Hn((i,s,o,a,l=null,c=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:s,offset:i,dimension:o,forceShouldAnimate:u,snapshot:e(s,a,l,c,null)}}));return(i,s)=>{if(by(i)){if(i.critical.draggable.id!==s.draggableId)return null;const o=i.current.client.offset,a=i.dimensions.draggables[s.draggableId],l=Qi(i.impact),c=mze(i.impact),u=i.forceShouldAnimate;return n(t(o.x,o.y),i.movementMode,a,s.isClone,l,c,u)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=i.dimensions.draggables[s.draggableId],c=o.result,u=c.mode,d=cJ(c),f=pze(c),m={duration:i.dropDuration,curve:LM.drop,moveTo:i.newHomeClientOffset,opacity:f?yy.opacity.drop:null,scale:f?yy.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:m,draggingOver:d,combineWith:f,mode:u,forceShouldAnimate:null,snapshot:e(u,a,d,f,m)}}}return null}}function uJ(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const yze={mapped:{type:"SECONDARY",offset:er,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:uJ(null)}};function Oze(){const t=Hn((o,a)=>({x:o,y:a})),e=Hn(uJ),n=Hn((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}})),r=o=>o?n(er,o,!0):null,i=(o,a,l,c)=>{const u=l.displaced.visible[o],d=!!(c.inVirtualList&&c.effected[o]),f=c1(l),h=f&&f.draggableId===o?a:null;if(!u){if(!d)return r(h);if(l.displaced.invisible[o])return null;const y=Cp(c.displacedBy.point),O=t(y.x,y.y);return n(O,h,!0)}if(d)return r(h);const m=l.displacedBy.point,g=t(m.x,m.y);return n(g,h,u.shouldAnimate)};return(o,a)=>{if(by(o))return o.critical.draggable.id===a.draggableId?null:i(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const bze=()=>{const t=gze(),e=Oze();return(r,i)=>t(r,i)||e(r,i)||yze},xze={dropAnimationFinished:qK},vze=fK(bze,xze,null,{context:WM,areStatePropsEqual:lJ})(hze);function dJ(t){return n0(XM).isUsingCloneFor===t.draggableId&&!t.isClone?null:ve.createElement(vze,t)}function fJ(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return ve.createElement(dJ,kh({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const hJ=t=>e=>t===e,wze=hJ("scroll"),Sze=hJ("auto"),NB=(t,e)=>e(t.overflowX)||e(t.overflowY),_ze=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return NB(n,wze)||NB(n,Sze)},$ze=()=>!1,pJ=t=>t==null?null:t===document.body?$ze()?t:null:t===document.documentElement?null:_ze(t)?t:pJ(t.parentElement);var yE=t=>({x:t.scrollLeft,y:t.scrollTop});const mJ=t=>t?window.getComputedStyle(t).position==="fixed"?!0:mJ(t.parentElement):!1;var kze=t=>{const e=pJ(t),n=mJ(t);return{closestScrollable:e,isFixedOnPage:n}},Pze=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:s,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:f,client:h}=a,m=WK({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:h,scrollSize:f,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:m,diff:{value:er,displacement:er}}}})(),c=i==="vertical"?AM:_K,u=Zh({page:o,withPlaceholder:null,axis:c,frame:l});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:e,client:s,page:o,frame:l,subject:u}};const Cze=(t,e)=>{const n=mK(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,i=n.paddingBox.left-e.scrollLeft,s=r+e.scrollHeight,o=i+e.scrollWidth,l=jM({top:r,right:o,bottom:s,left:i},n.border);return EM({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var jze=({ref:t,descriptor:e,env:n,windowScroll:r,direction:i,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const l=n.closestScrollable,c=Cze(t,l),u=Hw(c,r),d=(()=>{if(!l)return null;const h=mK(l),m={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:h,page:Hw(h,r),scroll:yE(l),scrollSize:m,shouldClipSubject:a}})();return Pze({descriptor:e,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:c,page:u,closest:d})};const Eze={passive:!1},Tze={passive:!0};var AB=t=>t.shouldPublishImmediately?Eze:Tze;const ix=t=>t&&t.env.closestScrollable||null;function Nze(t){const e=S.useRef(null),n=n0(h1),r=UM("droppable"),{registry:i,marshal:s}=n,o=eJ(t),a=yt(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),l=S.useRef(a),c=yt(()=>Hn((v,w)=>{e.current||ke();const _={x:v,y:w};s.updateDroppableScroll(a.id,_)}),[a.id,s]),u=ze(()=>{const v=e.current;return!v||!v.env.closestScrollable?er:yE(v.env.closestScrollable)},[]),d=ze(()=>{const v=u();c(v.x,v.y)},[u,c]),f=yt(()=>hy(d),[d]),h=ze(()=>{const v=e.current,w=ix(v);if(v&&w||ke(),v.scrollOptions.shouldPublishImmediately){d();return}f()},[f,d]),m=ze((v,w)=>{e.current&&ke();const _=o.current,$=_.getDroppableRef();$||ke();const k=kze($),j={ref:$,descriptor:a,env:k,scrollOptions:w};e.current=j;const P=jze({ref:$,descriptor:a,env:k,windowScroll:v,direction:_.direction,isDropDisabled:_.isDropDisabled,isCombineEnabled:_.isCombineEnabled,shouldClipSubject:!_.ignoreContainerClipping}),R=k.closestScrollable;return R&&(R.setAttribute(PB.contextId,n.contextId),R.addEventListener("scroll",h,AB(j.scrollOptions))),P},[n.contextId,a,h,o]),g=ze(()=>{const v=e.current,w=ix(v);return v&&w||ke(),yE(w)},[]),y=ze(()=>{const v=e.current;v||ke();const w=ix(v);e.current=null,w&&(f.cancel(),w.removeAttribute(PB.contextId),w.removeEventListener("scroll",h,AB(v.scrollOptions)))},[h,f]),O=ze(v=>{const w=e.current;w||ke();const _=ix(w);_||ke(),_.scrollTop+=v.y,_.scrollLeft+=v.x},[]),b=yt(()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:y,scroll:O}),[y,m,g,O]),x=yt(()=>({uniqueId:r,descriptor:a,callbacks:b}),[b,a,r]);Fi(()=>(l.current=x.descriptor,i.droppable.register(x),()=>{e.current&&y(),i.droppable.unregister(x)}),[b,a,y,x,s,i.droppable]),Fi(()=>{e.current&&s.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),Fi(()=>{e.current&&s.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function Pk(){}const RB={width:0,height:0,margin:qVe},Aze=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?RB:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},Rze=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=Aze({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?gg.placeholder:null}},Mze=t=>{const e=S.useRef(null),n=ze(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:s,contextId:o}=t,[a,l]=S.useState(t.animate==="open");S.useEffect(()=>a?r!=="open"?(n(),l(!1),Pk):e.current?Pk:(e.current=setTimeout(()=>{e.current=null,l(!1)}),n):Pk,[r,a,n]);const c=ze(d=>{d.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),u=Rze({isAnimatingOpenOnMount:a,animate:t.animate,placeholder:t.placeholder});return ve.createElement(t.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:c,ref:t.innerRef})};var Ize=ve.memo(Mze);class Dze extends ve.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const Qze=t=>{const e=S.useContext(h1);e||ke();const{contextId:n,isMovementAllowed:r}=e,i=S.useRef(null),s=S.useRef(null),{children:o,droppableId:a,type:l,mode:c,direction:u,ignoreContainerClipping:d,isDropDisabled:f,isCombineEnabled:h,snapshot:m,useClone:g,updateViewportMaxScroll:y,getContainerForClone:O}=t,b=ze(()=>i.current,[]),x=ze((R=null)=>{i.current=R},[]);ze(()=>s.current,[]);const v=ze((R=null)=>{s.current=R},[]),w=ze(()=>{r()&&y({maxScroll:ZK()})},[r,y]);Nze({droppableId:a,type:l,mode:c,direction:u,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:d,getDroppableRef:b});const _=yt(()=>ve.createElement(Dze,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:R,data:N,animate:A})=>ve.createElement(Ize,{placeholder:N,onClose:R,innerRef:v,animate:A,contextId:n,onTransitionEnd:w})),[n,w,t.placeholder,t.shouldAnimatePlaceholder,v]),$=yt(()=>({innerRef:x,placeholder:_,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,_,x]),k=g?g.dragging.draggableId:null,j=yt(()=>({droppableId:a,type:l,isUsingCloneFor:k}),[a,k,l]);function P(){if(!g)return null;const{dragging:R,render:N}=g,A=ve.createElement(dJ,{draggableId:R.draggableId,index:R.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(C,T)=>N(C,T,R));return kf.createPortal(A,O())}return ve.createElement(XM.Provider,{value:j},o($,m),P())};function Fze(){return document.body||ke(),document.body}const MB={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Fze},gJ=t=>{let e={...t},n;for(n in MB)t[n]===void 0&&(e={...e,[n]:MB[n]});return e},Ck=(t,e)=>t===e.droppable.type,IB=(t,e)=>e.draggables[t.draggable.id],Lze=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=Hn(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=Hn((s,o,a,l,c,u)=>{const d=c.descriptor.id;if(c.descriptor.droppableId===s){const m=u?{render:u,dragging:n(c.descriptor)}:null,g={isDraggingOver:a,draggingOverWith:a?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:m}}if(!o)return e;if(!l)return t;const h={isDraggingOver:a,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return(s,o)=>{const a=gJ(o),l=a.droppableId,c=a.type,u=!a.isDropDisabled,d=a.renderClone;if(by(s)){const f=s.critical;if(!Ck(c,f))return e;const h=IB(f,s.dimensions),m=Qi(s.impact)===l;return r(l,u,m,m,h,d)}if(s.phase==="DROP_ANIMATING"){const f=s.completed;if(!Ck(c,f.critical))return e;const h=IB(f.critical,s.dimensions);return r(l,u,cJ(f.result)===l,Qi(f.impact)===l,h,d)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const f=s.completed;if(!Ck(c,f.critical))return e;const h=Qi(f.impact)===l,m=!!(f.impact.at&&f.impact.at.type==="COMBINE"),g=f.critical.droppable.id===l;return h?m?t:e:g?t:e}return e}},qze={updateViewportMaxScroll:JBe},Vze=fK(Lze,qze,(t,e,n)=>({...gJ(n),...t,...e}),{context:WM,areStatePropsEqual:lJ})(Qze);var yJ=Vze;class OJ{constructor(e,n){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.setState=r=>{var i,s,o;const a=this.state;this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(a)(r):r(a),(o=(s=this.options)==null?void 0:s.onUpdate)==null||o.call(s),this._flush()},this._flush=()=>{if(this._batching)return;const r=++this._flushing;this.listeners.forEach(i=>{this._flushing===r&&i()})},this.batch=r=>{if(this._batching)return r();this._batching=!0,r(),this._batching=!1,this._flush()},this.state=e,this.options=n}}function m1(t,e){return typeof t=="function"?t(e):t}function Bze(t,e){return YM(e).reduce((r,i)=>{if(typeof r<"u")return r[i]},t)}function jk(t,e,n){const r=YM(e);function i(s){if(!r.length)return m1(n,s);const o=r.shift();if(typeof o=="string")return typeof s=="object"?{...s,[o]:i(s[o])}:{[o]:i()};if(Array.isArray(s)&&o!==void 0){const a=s.slice(0,o);return[...a.length?a:new Array(o),i(s[o]),...s.slice(o+1)]}return[...new Array(o),i()]}return i(t)}function zze(t,e){const n=YM(e);function r(i){if(!i)return;if(n.length===1){const o=n[0];if(Array.isArray(i)&&typeof o=="number")return i.filter((c,u)=>u!==o);const{[o]:a,...l}=i;return l}const s=n.shift();if(typeof s=="string"&&typeof i=="object")return{...i,[s]:r(i[s])};if(typeof s=="number"&&Array.isArray(i)){if(s>=i.length)return i;const o=i.slice(0,s);return[...o.length?o:new Array(s),r(i[s]),...i.slice(s+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(t)}const Wze=/^(\d*)$/gm,Uze=/\.(\d*)\./gm,Zze=/^(\d*)\./gm,Xze=/\.(\d*$)/gm,Yze=/\.{2,}/gm,OE="__int__",sx=`${OE}$1`;function YM(t){if(typeof t!="string")throw new Error("Path must be a string.");return t.replaceAll("[",".").replaceAll("]","").replace(Wze,sx).replace(Uze,`.${sx}.`).replace(Zze,`${sx}.`).replace(Xze,`.${sx}`).replace(Yze,".").split(".").map(e=>e.indexOf(OE)===0?parseInt(e.substring(OE.length),10):e)}function Gze(t){return!(Array.isArray(t)&&t.length===0)}function bE(t,e){const{asyncDebounceMs:n}=e,{onChangeAsync:r,onBlurAsync:i,onSubmitAsync:s,onBlurAsyncDebounceMs:o,onChangeAsyncDebounceMs:a,onSubmitAsyncDebounceMs:l}=e.validators||{},c=n??0,u={cause:"change",validate:r,debounceMs:a??c},d={cause:"blur",validate:i,debounceMs:o??c},f={cause:"submit",validate:s,debounceMs:l??c};switch(t){case"submit":return[u,d,f];case"server":return[];case"blur":return[d];case"change":default:return[u]}}function xE(t,e){const{onChange:n,onBlur:r,onSubmit:i}=e.validators||{},s={cause:"change",validate:n},o={cause:"blur",validate:r},a={cause:"submit",validate:i},l={cause:"server",validate:()=>{}};switch(t){case"submit":return[s,o,a,l];case"server":return[l];case"blur":return[o,l];case"change":default:return[s,l]}}function Ek(t){return{values:t.values??{},errors:t.errors??[],errorMap:t.errorMap??{},fieldMeta:t.fieldMeta??{},canSubmit:t.canSubmit??!0,isFieldsValid:t.isFieldsValid??!1,isFieldsValidating:t.isFieldsValidating??!1,isFormValid:t.isFormValid??!1,isFormValidating:t.isFormValidating??!1,isSubmitted:t.isSubmitted??!1,isSubmitting:t.isSubmitting??!1,isTouched:t.isTouched??!1,isPristine:t.isPristine??!0,isDirty:t.isDirty??!1,isValid:t.isValid??!1,isValidating:t.isValidating??!1,submissionAttempts:t.submissionAttempts??0,validationMetaMap:t.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}}}class Hze{constructor(e){var n;this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{const{onMount:r}=this.options.validators||{};if(!r)return;const i=this.runValidator({validate:r,value:{value:this.state.values,formApi:this},type:"validate"});i&&this.store.setState(s=>({...s,errorMap:{...s.errorMap,onMount:i}}))},this.update=r=>{if(!r)return;const i=this.options;this.options=r,this.store.batch(()=>{const s=r.defaultValues&&r.defaultValues!==i.defaultValues&&!this.state.isTouched,o=r.defaultState!==i.defaultState&&!this.state.isTouched;this.store.setState(()=>Ek(Object.assign({},this.state,o?r.defaultState:{},s?{values:r.defaultValues}:{})))})},this.reset=()=>{const{fieldMeta:r}=this.state,i=this.resetFieldMeta(r);this.store.setState(()=>{var s;return Ek({...this.options.defaultState,values:this.options.defaultValues??((s=this.options.defaultState)==null?void 0:s.values),fieldMeta:i})})},this.validateAllFields=async r=>{const i=[];return this.store.batch(()=>{Object.values(this.fieldInfo).forEach(o=>{if(!o.instance)return;const a=o.instance;i.push(Promise.resolve().then(()=>a.validate(r))),o.instance.state.meta.isTouched||o.instance.setMeta(l=>({...l,isTouched:!0}))})}),(await Promise.all(i)).flat()},this.validateSync=r=>{const i=xE(r,this.options);let s=!1;this.store.batch(()=>{for(const a of i){if(!a.validate)continue;const l=DB(this.runValidator({validate:a.validate,value:{value:this.state.values,formApi:this},type:"validate"})),c=ox(a.cause);this.state.errorMap[c]!==l&&this.store.setState(u=>({...u,errorMap:{...u.errorMap,[c]:l}})),l&&(s=!0)}});const o=ox("submit");return this.state.errorMap[o]&&r!=="submit"&&!s&&this.store.setState(a=>({...a,errorMap:{...a.errorMap,[o]:void 0}})),{hasErrored:s}},this.validateAsync=async r=>{const i=bE(r,this.options);this.state.isFormValidating||this.store.setState(a=>({...a,isFormValidating:!0}));const s=[];for(const a of i){if(!a.validate)continue;const l=ox(a.cause),c=this.state.validationMetaMap[l];c==null||c.lastAbortController.abort();const u=new AbortController;this.state.validationMetaMap[l]={lastAbortController:u},s.push(new Promise(async d=>{let f;try{f=await new Promise((m,g)=>{setTimeout(async()=>{if(u.signal.aborted)return m(void 0);try{m(await this.runValidator({validate:a.validate,value:{value:this.state.values,formApi:this,signal:u.signal},type:"validateAsync"}))}catch(y){g(y)}},a.debounceMs)})}catch(m){f=m}const h=DB(f);this.store.setState(m=>({...m,errorMap:{...m.errorMap,[ox(r)]:h}})),d(h)}))}let o=[];return s.length&&(o=await Promise.all(s)),this.store.setState(a=>({...a,isFormValidating:!1})),o.filter(Boolean)},this.validate=r=>{const{hasErrored:i}=this.validateSync(r);return i&&!this.options.asyncAlways?this.state.errors:this.validateAsync(r)},this.handleSubmit=async()=>{var r,i,s,o,a,l;if(this.store.setState(u=>({...u,isSubmitted:!1,submissionAttempts:u.submissionAttempts+1})),!this.state.canSubmit)return;this.store.setState(u=>({...u,isSubmitting:!0}));const c=()=>{this.store.setState(u=>({...u,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){c(),(i=(r=this.options).onSubmitInvalid)==null||i.call(r,{value:this.state.values,formApi:this});return}if(await this.validate("submit"),!this.state.isValid){c(),(o=(s=this.options).onSubmitInvalid)==null||o.call(s,{value:this.state.values,formApi:this});return}try{await((l=(a=this.options).onSubmit)==null?void 0:l.call(a,{value:this.state.values,formApi:this})),this.store.batch(()=>{this.store.setState(u=>({...u,isSubmitted:!0})),c()})}catch(u){throw c(),u}},this.getFieldValue=r=>Bze(this.state.values,r),this.getFieldMeta=r=>this.state.fieldMeta[r],this.getFieldInfo=r=>{var i;return(i=this.fieldInfo)[r]||(i[r]={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}})},this.setFieldMeta=(r,i)=>{this.store.setState(s=>({...s,fieldMeta:{...s.fieldMeta,[r]:m1(i,s.fieldMeta[r])}}))},this.resetFieldMeta=r=>Object.keys(r).reduce((i,s)=>{const o=s;return i[o]={isValidating:!1,isTouched:!1,isDirty:!1,isPristine:!0,touchedErrors:[],errors:[],errorMap:{}},i},{}),this.setFieldValue=(r,i,s)=>{const o=s==null?void 0:s.touch;this.store.batch(()=>{o&&this.setFieldMeta(r,a=>({...a,isTouched:!0,isDirty:!0})),this.store.setState(a=>({...a,values:jk(a.values,r,i)}))})},this.deleteField=r=>{this.store.setState(i=>{const s={...i};return s.values=zze(s.values,r),delete s.fieldMeta[r],s}),delete this.fieldInfo[r]},this.pushFieldValue=(r,i,s)=>this.setFieldValue(r,o=>[...Array.isArray(o)?o:[],i],s),this.insertFieldValue=(r,i,s,o)=>{this.setFieldValue(r,a=>a.map((l,c)=>c===i?s:l),o)},this.removeFieldValue=(r,i,s)=>{this.setFieldValue(r,o=>o.filter((a,l)=>l!==i),s)},this.swapFieldValues=(r,i,s)=>{this.setFieldValue(r,o=>{const a=o[i],l=o[s];return jk(jk(o,`${i}`,l),`${s}`,a)})},this.moveFieldValues=(r,i,s)=>{this.setFieldValue(r,o=>(o.splice(s,0,o.splice(i,1)[0]),o))},this.store=new OJ(Ek({...e==null?void 0:e.defaultState,values:(e==null?void 0:e.defaultValues)??((n=e==null?void 0:e.defaultState)==null?void 0:n.values),isFormValid:!0}),{onUpdate:()=>{var r,i;let{state:s}=this.store;const o=Object.values(s.fieldMeta),a=o.some(b=>b==null?void 0:b.isValidating),l=!o.some(b=>(b==null?void 0:b.errorMap)&&Gze(Object.values(b.errorMap).filter(Boolean))),c=o.some(b=>b==null?void 0:b.isTouched),u=o.some(b=>b==null?void 0:b.isDirty),d=!u,f=a||s.isFormValidating;s.errors=Object.values(s.errorMap).filter(b=>b!==void 0);const h=s.errors.length===0,m=l&&h,g=s.submissionAttempts===0&&!c||!f&&!s.isSubmitting&&m;s={...s,isFieldsValidating:a,isFieldsValid:l,isFormValid:h,isValid:m,canSubmit:g,isTouched:c,isPristine:d,isDirty:u},this.state=s,this.store.state=this.state;const y=((r=this.options.transform)==null?void 0:r.deps)??[];(y.length!==this.prevTransformArray.length||y.some((b,x)=>b!==this.prevTransformArray[x]))&&((i=this.options.transform)==null||i.fn(this),this.store.state=this.state,this.prevTransformArray=y)}}),this.state=this.store.state,this.update(e||{})}runValidator(e){const n=this.options.validatorAdapter;return n&&typeof e.validate!="function"?n()[e.type](e.value,e.validate):e.validate(e.value)}}function DB(t){if(t)return typeof t!="string"?"Invalid Form Values":t}function ox(t){switch(t){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}class Kze{constructor(e){this.options={},this.mount=()=>{const n=this.getInfo();n.instance=this;const r=this.form.store.subscribe(()=>{this.store.batch(()=>{const s=this.getValue(),o=this.getMeta();s!==this.state.value&&this.store.setState(a=>({...a,value:s})),o!==this.state.meta&&this.store.setState(a=>({...a,meta:o}))})});this.update(this.options);const{onMount:i}=this.options.validators||{};if(i){const s=this.runValidator({validate:i,value:{value:this.state.value,fieldApi:this},type:"validate"});s&&this.setMeta(o=>({...o,errorMap:{...o==null?void 0:o.errorMap,onMount:s}}))}return()=>{const s=this.options.preserveValue;r(),s||this.form.deleteField(this.name)}},this.update=n=>{var r;if(this.state.value===void 0){const i=(r=n.form.options.defaultValues)==null?void 0:r[n.name];n.defaultValue!==void 0?this.setValue(n.defaultValue):i!==void 0&&this.setValue(i)}this._getMeta()===void 0&&this.setMeta(this.state.meta),this.options=n},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(n,r)=>{this.form.setFieldValue(this.name,n,r),this.validate("change")},this._getMeta=()=>this.form.getFieldMeta(this.name),this.getMeta=()=>this._getMeta()??{isValidating:!1,isTouched:!1,isDirty:!1,isPristine:!0,touchedErrors:[],errors:[],errorMap:{},...this.options.defaultMeta},this.setMeta=n=>this.form.setFieldMeta(this.name,n),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=n=>this.form.pushFieldValue(this.name,n),this.insertValue=(n,r)=>this.form.insertFieldValue(this.name,n,r),this.removeValue=n=>this.form.removeFieldValue(this.name,n),this.swapValues=(n,r)=>this.form.swapFieldValues(this.name,n,r),this.getLinkedFields=n=>{const r=Object.values(this.form.fieldInfo),i=[];for(const s of r){if(!s.instance)continue;const{onChangeListenTo:o,onBlurListenTo:a}=s.instance.options.validators||{};n==="change"&&(o!=null&&o.includes(this.name))&&i.push(s.instance),n==="blur"&&(a!=null&&a.includes(this.name))&&i.push(s.instance)}return i},this.moveValue=(n,r)=>this.form.moveFieldValues(this.name,n,r),this.validateSync=n=>{const r=xE(n,this.options),s=this.getLinkedFields(n).reduce((l,c)=>{const u=xE(n,c.options);return u.forEach(d=>{d.field=c}),l.concat(u)},[]);let o=!1;this.form.store.batch(()=>{const l=(c,u)=>{const d=QB(c.runValidator({validate:u.validate,value:{value:c.getValue(),fieldApi:c},type:"validate"})),f=Sm(u.cause);c.state.meta.errorMap[f]!==d&&c.setMeta(h=>({...h,errorMap:{...h.errorMap,[Sm(u.cause)]:d}})),d&&(o=!0)};for(const c of r)c.validate&&l(this,c);for(const c of s)c.validate&&l(c.field,c)});const a=Sm("submit");return this.state.meta.errorMap[a]&&n!=="submit"&&!o&&this.setMeta(l=>({...l,errorMap:{...l.errorMap,[a]:void 0}})),{hasErrored:o}},this.validateAsync=async n=>{const r=bE(n,this.options),i=this.getLinkedFields(n),s=i.reduce((u,d)=>{const f=bE(n,d.options);return f.forEach(h=>{h.field=d}),u.concat(f)},[]);this.state.meta.isValidating||this.setMeta(u=>({...u,isValidating:!0}));for(const u of i)u.setMeta(d=>({...d,isValidating:!0}));const o=[],a=[],l=(u,d,f)=>{const h=Sm(d.cause),m=u.getInfo().validationMetaMap[h];m==null||m.lastAbortController.abort();const g=new AbortController;this.getInfo().validationMetaMap[h]={lastAbortController:g},f.push(new Promise(async y=>{let O;try{O=await new Promise((x,v)=>{setTimeout(async()=>{if(g.signal.aborted)return x(void 0);try{x(await this.runValidator({validate:d.validate,value:{value:u.getValue(),fieldApi:u,signal:g.signal},type:"validateAsync"}))}catch(w){v(w)}},d.debounceMs)})}catch(x){O=x}const b=QB(O);u.setMeta(x=>({...x,errorMap:{...x==null?void 0:x.errorMap,[Sm(n)]:b}})),y(b)}))};for(const u of r)u.validate&&l(this,u,o);for(const u of s)u.validate&&l(u.field,u,a);let c=[];(o.length||a.length)&&(c=await Promise.all(o),await Promise.all(a)),this.setMeta(u=>({...u,isValidating:!1}));for(const u of i)u.setMeta(d=>({...d,isValidating:!1}));return c.filter(Boolean)},this.validate=n=>{if(!this.state.meta.isTouched)return[];try{this.form.validate(n)}catch{}const{hasErrored:r}=this.validateSync(n);return r&&!this.options.asyncAlways?this.state.meta.errors:this.validateAsync(n)},this.handleChange=n=>{this.setValue(n,{touch:!0})},this.handleBlur=()=>{this.state.meta.isTouched||(this.setMeta(r=>({...r,isTouched:!0})),this.validate("change")),this.validate("blur")},this.form=e.form,this.name=e.name,e.defaultValue!==void 0&&this.form.setFieldValue(this.name,e.defaultValue),this.store=new OJ({value:this.getValue(),meta:this._getMeta()??{isValidating:!1,isTouched:!1,isDirty:!1,isPristine:!0,touchedErrors:[],errors:[],errorMap:{},...e.defaultMeta}},{onUpdate:()=>{const n=this.store.state;n.meta.errors=Object.values(n.meta.errorMap).filter(r=>r!==void 0),n.meta.touchedErrors=n.meta.isTouched?n.meta.errors:[],n.meta.isPristine=!n.meta.isDirty,this.prevState=n,this.state=n}}),this.state=this.store.state,this.prevState=this.state,this.options=e}runValidator(e){const n=[this.form.options.validatorAdapter,this.options.validatorAdapter];for(const r of n)if(r&&typeof e.validate!="function")return r()[e.type](e.value,e.validate);return e.validate(e.value)}}function QB(t){if(t)return typeof t!="string"?"Invalid Form Values":t}function Sm(t){switch(t){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}function vE(t,e=n=>n){return xH.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,Jze)}function Jze(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var Tk,FB;function eWe(){return FB||(FB=1,Tk=MN()),Tk}var r0=eWe();const i0=typeof window<"u"?r0.useLayoutEffect:r0.useEffect;function bJ(t){const[e]=r0.useState(()=>{const n=new Kze({...t,form:t.form,name:t.name});return n.Field=xJ,n});return i0(e.mount,[e]),i0(()=>{e.update(t)}),vE(e.store,t.mode==="array"?n=>[n.meta,Object.keys(n.value).length]:void 0),e}function xJ({children:t,...e}){const n=bJ(e);return p.jsx(p.Fragment,{children:m1(t,n)})}function tWe(t){const[e]=r0.useState(()=>{const n=new Hze(t);return n.Field=function(i){return p.jsx(xJ,{...i,form:n})},n.useField=r=>bJ({...r,form:n}),n.useStore=r=>vE(n.store,r),n.Subscribe=r=>m1(r.children,vE(n.store,r.selector)),n});return i0(e.mount,[]),e.useStore(n=>n.isSubmitting),i0(()=>{e.update(t)}),e}var nWe=Object.create,GM=Object.defineProperty,rWe=Object.getOwnPropertyDescriptor,HM=Object.getOwnPropertyNames,iWe=Object.getPrototypeOf,sWe=Object.prototype.hasOwnProperty,F=(t,e)=>function(){return t&&(e=(0,t[HM(t)[0]])(t=0)),e},X=(t,e)=>function(){return e||(0,t[HM(t)[0]])((e={exports:{}}).exports,e),e.exports},mo=(t,e)=>{for(var n in e)GM(t,n,{get:e[n],enumerable:!0})},oWe=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of HM(e))!sWe.call(t,i)&&i!==n&&GM(t,i,{get:()=>e[i],enumerable:!(r=rWe(e,i))||r.enumerable});return t},Ce=(t,e,n)=>(n=t!=null?nWe(iWe(t)):{},oWe(e||!t||!t.__esModule?GM(n,"default",{value:t,enumerable:!0}):n,t));function yg(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var vJ=F({"../node_modules/@mantine/hooks/esm/utils/random-id/random-id.mjs"(){"use client"}});function g1(t,e,n){const r=S.useRef();return S.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(c=>!!c&&!s.composedPath().includes(c))&&!a&&t()}else r.current&&!r.current.contains(o)&&t()};return wE.forEach(s=>document.addEventListener(s,i)),()=>{wE.forEach(s=>document.removeEventListener(s,i))}},[r,t,n]),r}var wE,aWe=F({"../node_modules/@mantine/hooks/esm/use-click-outside/use-click-outside.mjs"(){"use client";wE=["mousedown","touchstart"]}});function lWe(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function cWe(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function uWe(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=S.useState(n?e:cWe(t)),s=S.useRef();return S.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(t),i(s.current.matches),lWe(s.current,o=>i(o.matches))},[t]),r}var dWe=F({"../node_modules/@mantine/hooks/esm/use-media-query/use-media-query.mjs"(){"use client"}});function fWe(t,e){const n=S.useRef(!1);S.useEffect(()=>()=>{n.current=!1},[]),S.useEffect(()=>{if(n.current)return t();n.current=!0},e)}var hWe=F({"../node_modules/@mantine/hooks/esm/use-did-update/use-did-update.mjs"(){"use client"}});function pWe(t,e="body > :not(script)"){const n=yg(),r=Array.from(document.querySelectorAll(e)).map(i=>{var l;if((l=i==null?void 0:i.shadowRoot)!=null&&l.contains(t)||i.contains(t))return;const s=i.getAttribute("aria-hidden"),o=i.getAttribute("data-hidden"),a=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",n),s===null||s==="false"?i.setAttribute("aria-hidden","true"):!o&&!a&&i.setAttribute("data-hidden",s),{node:i,ariaHidden:o||null}});return()=>{r.forEach(i=>{!i||n!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}var mWe=F({"../node_modules/@mantine/hooks/esm/use-focus-trap/create-aria-hider.mjs"(){"use client";vJ()}});function gWe(t){return t.style.display==="none"}function yWe(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(gWe(n))return!1;n=n.parentNode}return!0}function wJ(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function SE(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(wJ(t));return(_J.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&yWe(t)}function SJ(t){const e=wJ(t);return(Number.isNaN(e)||e>=0)&&SE(t)}function OWe(t){return Array.from(t.querySelectorAll(KM)).filter(SJ)}var _J,KM,$J=F({"../node_modules/@mantine/hooks/esm/use-focus-trap/tabbable.mjs"(){"use client";_J=/input|select|textarea|button|object/,KM="a, input, select, textarea, button, object, [tabindex]"}});function bWe(t,e){const n=OWe(t);if(!n.length){e.preventDefault();return}const r=n[e.shiftKey?0:n.length-1],i=t.getRootNode();let s=r===i.activeElement||t===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(s=n.filter(u=>u.getAttribute("type")==="radio"&&u.getAttribute("name")===o.getAttribute("name")).includes(r)),!s)return;e.preventDefault();const l=n[e.shiftKey?n.length-1:0];l&&l.focus()}var xWe=F({"../node_modules/@mantine/hooks/esm/use-focus-trap/scope-tab.mjs"(){"use client";$J()}});function JM(t=!0){const e=S.useRef(),n=S.useRef(null),r=s=>{let o=s.querySelector("[data-autofocus]");if(!o){const a=Array.from(s.querySelectorAll(KM));o=a.find(SJ)||a.find(SE)||null,!o&&SE(s)&&(o=s)}o?o.focus({preventScroll:!0}):console.warn("[@mantine/hooks/use-focus-trap] Failed to find focusable element within provided node",s)},i=S.useCallback(s=>{if(t){if(s===null){n.current&&(n.current(),n.current=null);return}n.current=pWe(s),e.current!==s&&(s?(setTimeout(()=>{s.getRootNode()?r(s):console.warn("[@mantine/hooks/use-focus-trap] Ref node is not part of the dom",s)}),e.current=s):e.current=null)}},[t]);return S.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>r(e.current));const s=o=>{o.key==="Tab"&&e.current&&bWe(e.current,o)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s),n.current&&n.current()}},[t]),i}var vWe=F({"../node_modules/@mantine/hooks/esm/use-focus-trap/use-focus-trap.mjs"(){"use client";mWe(),xWe(),$J()}});function wWe(){const[,t]=S.useReducer(kJ,0);return t}var kJ,SWe=F({"../node_modules/@mantine/hooks/esm/use-force-update/use-force-update.mjs"(){"use client";kJ=t=>(t+1)%1e6}});function _We(t=[]){const[e,n]=S.useState(t);return[e,{setState:n,append:(...y)=>n(O=>[...O,...y]),prepend:(...y)=>n(O=>[...y,...O]),insert:(y,...O)=>n(b=>[...b.slice(0,y),...O,...b.slice(y)]),pop:()=>n(y=>{const O=[...y];return O.pop(),O}),shift:()=>n(y=>{const O=[...y];return O.shift(),O}),apply:y=>n(O=>O.map((b,x)=>y(b,x))),applyWhere:(y,O)=>n(b=>b.map((x,v)=>y(x,v)?O(x,v):x)),remove:(...y)=>n(O=>O.filter((b,x)=>!y.includes(x))),reorder:({from:y,to:O})=>n(b=>{const x=[...b],v=b[y];return x.splice(y,1),x.splice(O,0,v),x}),swap:({from:y,to:O})=>n(b=>{const x=[...b],v=x[y],w=x[O];return x.splice(O,1,v),x.splice(y,1,w),x}),setItem:(y,O)=>n(b=>{const x=[...b];return x[y]=O,x}),setItemProp:(y,O,b)=>n(x=>{const v=[...x];return v[y]={...v[y],[O]:b},v}),filter:y=>{n(O=>O.filter(y))}}]}var $We=F({"../node_modules/@mantine/hooks/esm/use-list-state/use-list-state.mjs"(){"use client"}});function LB(t,e,n){S.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}var kWe=F({"../node_modules/@mantine/hooks/esm/use-window-event/use-window-event.mjs"(){"use client"}});function PWe(t,e){return uWe("(prefers-reduced-motion: reduce)",t,e)}var CWe=F({"../node_modules/@mantine/hooks/esm/use-reduced-motion/use-reduced-motion.mjs"(){"use client";dWe()}});function y1(t=[!1,!0]){const[[e],n]=S.useReducer((r,i)=>{const s=i instanceof Function?i(r[0]):i,o=Math.abs(r.indexOf(s));return r.slice(o).concat(r.slice(0,o))},t);return[e,n]}var jWe=F({"../node_modules/@mantine/hooks/esm/use-toggle/use-toggle.mjs"(){"use client"}});function EWe(){const[t,e]=S.useState({width:0,height:0}),n=S.useCallback(()=>{e({width:window.innerWidth||0,height:window.innerHeight||0})},[]);return LB("resize",n,_E),LB("orientationchange",n,_E),S.useEffect(n,[]),t}var _E,TWe=F({"../node_modules/@mantine/hooks/esm/use-viewport-size/use-viewport-size.mjs"(){"use client";kWe(),_E={passive:!0}}});function NWe(t){const e=t.toLowerCase().split("+").map(s=>s.trim()),n={alt:e.includes("alt"),ctrl:e.includes("ctrl"),meta:e.includes("meta"),mod:e.includes("mod"),shift:e.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=e.find(s=>!r.includes(s));return{...n,key:i}}function AWe(t,e){const{alt:n,ctrl:r,meta:i,mod:s,shift:o,key:a}=t,{altKey:l,ctrlKey:c,metaKey:u,shiftKey:d,key:f}=e;if(n!==l)return!1;if(s){if(!c&&!u)return!1}else if(r!==c||i!==u)return!1;return o!==d?!1:!!(a&&(f.toLowerCase()===a.toLowerCase()||e.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function PJ(t){return e=>AWe(NWe(t),e)}function RWe(t){return e=>{const n="nativeEvent"in e?e.nativeEvent:e;t.forEach(([r,i,s={preventDefault:!0}])=>{PJ(r)(n)&&(s.preventDefault&&e.preventDefault(),i(n))})}}var CJ=F({"../node_modules/@mantine/hooks/esm/use-hotkeys/parse-hotkey.mjs"(){"use client"}});function MWe(t,e,n=!1){return t.target instanceof HTMLElement?(n||!t.target.isContentEditable)&&!e.includes(t.target.tagName):!0}function eI(t,e=["INPUT","TEXTAREA","SELECT"],n=!1){S.useEffect(()=>{const r=i=>{t.forEach(([s,o,a={preventDefault:!0}])=>{PJ(s)(i)&&MWe(i,e,n)&&(a.preventDefault&&i.preventDefault(),o(i))})};return document.documentElement.addEventListener("keydown",r),()=>document.documentElement.removeEventListener("keydown",r)},[t])}var IWe=F({"../node_modules/@mantine/hooks/esm/use-hotkeys/use-hotkeys.mjs"(){"use client";CJ()}});function Cl(t=!1,e){const{onOpen:n,onClose:r}={},[i,s]=S.useState(t),o=S.useCallback(()=>{s(c=>c||(n==null||n(),!0))},[n]),a=S.useCallback(()=>{s(c=>c&&(r==null||r(),!1))},[r]),l=S.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:l}]}var DWe=F({"../node_modules/@mantine/hooks/esm/use-disclosure/use-disclosure.mjs"(){"use client"}}),en=F({"../node_modules/@mantine/hooks/esm/index.mjs"(){vJ(),aWe(),hWe(),vWe(),SWe(),$We(),CWe(),jWe(),TWe(),IWe(),DWe(),CJ()}});function QWe(t){let e=t,n=!1;const r=new Set;return{getState(){return e},updateState(i){e=typeof i=="function"?i(e):i},setState(i){this.updateState(i),r.forEach(s=>s(e))},initialize(i){n||(e=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function FWe(t){return S.useSyncExternalStore(t.subscribe,()=>t.getState(),()=>t.getState())}var LWe=F({"../node_modules/@mantine/store/esm/store.mjs"(){"use client"}}),qWe=F({"../node_modules/@mantine/store/esm/index.mjs"(){LWe()}});function VWe(t,e,n){const r=[],i=[],s={};for(const o of t){const a=o.position||e;s[a]=s[a]||0,s[a]+=1,s[a]<=n?i.push(o):r.push(o)}return{notifications:i,queue:r}}function Tp(t,e){const n=t.getState(),r=e([...n.notifications,...n.queue]),i=VWe(r,n.defaultPosition,n.limit);t.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function BWe(t,e=Zc){const n=t.id||yg();return Tp(e,r=>t.id&&r.some(i=>i.id===t.id)?r:[...r,{...t,id:n}]),n}function jJ(t,e=Zc){return Tp(e,n=>n.filter(r=>{var i;return r.id===t?((i=r.onClose)==null||i.call(r,r),!1):!0})),t}function zWe(t,e=Zc){return Tp(e,n=>n.map(r=>r.id===t.id?{...r,...t}:r)),t.id}function WWe(t=Zc){Tp(t,()=>[])}function UWe(t=Zc){Tp(t,e=>e.slice(0,t.getState().limit))}var qB,Zc,EJ,Da,TJ=F({"../node_modules/@mantine/notifications/esm/notifications.store.mjs"(){"use client";en(),qWe(),qB=()=>QWe({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Zc=qB(),EJ=(t=Zc)=>FWe(t),Da={show:BWe,hide:jJ,update:zWe,clean:WWe,cleanQueue:UWe,updateState:Tp}}});function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(null,arguments)}var ZWe=F({"../node_modules/@babel/runtime/helpers/esm/extends.js"(){}});function NJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var AJ=F({"../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"(){}});function kE(t,e){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},kE(t,e)}var XWe=F({"../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js"(){}});function RJ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,kE(t,e)}var MJ=F({"../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"(){XWe()}}),YWe=X({"../node_modules/prop-types/node_modules/react-is/cjs/react-is.development.js"(t){(function(){var e=typeof Symbol=="function"&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,y=e?Symbol.for("react.block"):60121,O=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,x=e?Symbol.for("react.scope"):60119;function v(re){return typeof re=="string"||typeof re=="function"||re===i||re===u||re===o||re===s||re===f||re===h||typeof re=="object"&&re!==null&&(re.$$typeof===g||re.$$typeof===m||re.$$typeof===a||re.$$typeof===l||re.$$typeof===d||re.$$typeof===O||re.$$typeof===b||re.$$typeof===x||re.$$typeof===y)}function w(re){if(typeof re=="object"&&re!==null){var ue=re.$$typeof;switch(ue){case n:var fe=re.type;switch(fe){case c:case u:case i:case o:case s:case f:return fe;default:var Ee=fe&&fe.$$typeof;switch(Ee){case l:case d:case g:case m:case a:return Ee;default:return ue}}case r:return ue}}}var _=c,$=u,k=l,j=a,P=n,R=d,N=i,A=g,C=m,T=r,E=o,I=s,M=f,Q=!1;function B(re){return Q||(Q=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),Z(re)||w(re)===c}function Z(re){return w(re)===u}function W(re){return w(re)===l}function oe(re){return w(re)===a}function le(re){return typeof re=="object"&&re!==null&&re.$$typeof===n}function U(re){return w(re)===d}function G(re){return w(re)===i}function ie(re){return w(re)===g}function Y(re){return w(re)===m}function L(re){return w(re)===r}function ae(re){return w(re)===o}function q(re){return w(re)===s}function te(re){return w(re)===f}t.AsyncMode=_,t.ConcurrentMode=$,t.ContextConsumer=k,t.ContextProvider=j,t.Element=P,t.ForwardRef=R,t.Fragment=N,t.Lazy=A,t.Memo=C,t.Portal=T,t.Profiler=E,t.StrictMode=I,t.Suspense=M,t.isAsyncMode=B,t.isConcurrentMode=Z,t.isContextConsumer=W,t.isContextProvider=oe,t.isElement=le,t.isForwardRef=U,t.isFragment=G,t.isLazy=ie,t.isMemo=Y,t.isPortal=L,t.isProfiler=ae,t.isStrictMode=q,t.isSuspense=te,t.isValidElementType=v,t.typeOf=w})()}}),IJ=X({"../node_modules/prop-types/node_modules/react-is/index.js"(t,e){e.exports=YWe()}}),GWe=X({"../node_modules/object-assign/index.js"(t,e){var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function o(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var l={},c=0;c<10;c++)l["_"+String.fromCharCode(c)]=c;var u=Object.getOwnPropertyNames(l).map(function(f){return l[f]});if(u.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(f){d[f]=f}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}e.exports=o()?Object.assign:function(a,l){for(var c,u=s(a),d,f=1;f<arguments.length;f++){c=Object(arguments[f]);for(var h in c)r.call(c,h)&&(u[h]=c[h]);if(n){d=n(c);for(var m=0;m<d.length;m++)i.call(c,d[m])&&(u[d[m]]=c[d[m]])}}return u}}}),DJ=X({"../node_modules/prop-types/lib/ReactPropTypesSecret.js"(t,e){var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n}}),QJ=X({"../node_modules/prop-types/lib/has.js"(t,e){e.exports=Function.call.bind(Object.prototype.hasOwnProperty)}}),HWe=X({"../node_modules/prop-types/checkPropTypes.js"(t,e){var n=function(){};r=DJ(),i={},s=QJ(),n=function(a){var l="Warning: "+a;typeof console<"u"&&console.error(l);try{throw new Error(l)}catch{}};var r,i,s;function o(a,l,c,u,d){for(var f in a)if(s(a,f)){var h;try{if(typeof a[f]!="function"){var m=Error((u||"React class")+": "+c+" type `"+f+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[f]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw m.name="Invariant Violation",m}h=a[f](l,f,u,c,null,r)}catch(y){h=y}if(h&&!(h instanceof Error)&&n((u||"React class")+": type specification of "+c+" `"+f+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof h+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),h instanceof Error&&!(h.message in i)){i[h.message]=!0;var g=d?d():"";n("Failed "+c+" type: "+h.message+(g??""))}}}o.resetWarningCache=function(){i={}},e.exports=o}}),KWe=X({"../node_modules/prop-types/factoryWithTypeCheckers.js"(t,e){var n=IJ(),r=GWe(),i=DJ(),s=QJ(),o=HWe(),a=function(){};a=function(c){var u="Warning: "+c;typeof console<"u"&&console.error(u);try{throw new Error(u)}catch{}};function l(){return null}e.exports=function(c,u){var d=typeof Symbol=="function"&&Symbol.iterator,f="@@iterator";function h(W){var oe=W&&(d&&W[d]||W[f]);if(typeof oe=="function")return oe}var m="<<anonymous>>",g={array:x("array"),bigint:x("bigint"),bool:x("boolean"),func:x("function"),number:x("number"),object:x("object"),string:x("string"),symbol:x("symbol"),any:v(),arrayOf:w,element:_(),elementType:$(),instanceOf:k,node:N(),objectOf:P,oneOf:j,oneOfType:R,shape:C,exact:T};function y(W,oe){return W===oe?W!==0||1/W===1/oe:W!==W&&oe!==oe}function O(W,oe){this.message=W,this.data=oe&&typeof oe=="object"?oe:{},this.stack=""}O.prototype=Error.prototype;function b(W){var oe={},le=0;function U(ie,Y,L,ae,q,te,re){if(ae=ae||m,te=te||L,re!==i){if(u){var ue=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw ue.name="Invariant Violation",ue}else if(typeof console<"u"){var fe=ae+":"+L;!oe[fe]&&le<3&&(a("You are manually calling a React.PropTypes validation function for the `"+te+"` prop on `"+ae+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),oe[fe]=!0,le++)}}return Y[L]==null?ie?Y[L]===null?new O("The "+q+" `"+te+"` is marked as required "+("in `"+ae+"`, but its value is `null`.")):new O("The "+q+" `"+te+"` is marked as required in "+("`"+ae+"`, but its value is `undefined`.")):null:W(Y,L,ae,q,te)}var G=U.bind(null,!1);return G.isRequired=U.bind(null,!0),G}function x(W){function oe(le,U,G,ie,Y,L){var ae=le[U],q=M(ae);if(q!==W){var te=Q(ae);return new O("Invalid "+ie+" `"+Y+"` of type "+("`"+te+"` supplied to `"+G+"`, expected ")+("`"+W+"`."),{expectedType:W})}return null}return b(oe)}function v(){return b(l)}function w(W){function oe(le,U,G,ie,Y){if(typeof W!="function")return new O("Property `"+Y+"` of component `"+G+"` has invalid PropType notation inside arrayOf.");var L=le[U];if(!Array.isArray(L)){var ae=M(L);return new O("Invalid "+ie+" `"+Y+"` of type "+("`"+ae+"` supplied to `"+G+"`, expected an array."))}for(var q=0;q<L.length;q++){var te=W(L,q,G,ie,Y+"["+q+"]",i);if(te instanceof Error)return te}return null}return b(oe)}function _(){function W(oe,le,U,G,ie){var Y=oe[le];if(!c(Y)){var L=M(Y);return new O("Invalid "+G+" `"+ie+"` of type "+("`"+L+"` supplied to `"+U+"`, expected a single ReactElement."))}return null}return b(W)}function $(){function W(oe,le,U,G,ie){var Y=oe[le];if(!n.isValidElementType(Y)){var L=M(Y);return new O("Invalid "+G+" `"+ie+"` of type "+("`"+L+"` supplied to `"+U+"`, expected a single ReactElement type."))}return null}return b(W)}function k(W){function oe(le,U,G,ie,Y){if(!(le[U]instanceof W)){var L=W.name||m,ae=Z(le[U]);return new O("Invalid "+ie+" `"+Y+"` of type "+("`"+ae+"` supplied to `"+G+"`, expected ")+("instance of `"+L+"`."))}return null}return b(oe)}function j(W){if(!Array.isArray(W))return arguments.length>1?a("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):a("Invalid argument supplied to oneOf, expected an array."),l;function oe(le,U,G,ie,Y){for(var L=le[U],ae=0;ae<W.length;ae++)if(y(L,W[ae]))return null;var q=JSON.stringify(W,function(re,ue){var fe=Q(ue);return fe==="symbol"?String(ue):ue});return new O("Invalid "+ie+" `"+Y+"` of value `"+String(L)+"` "+("supplied to `"+G+"`, expected one of "+q+"."))}return b(oe)}function P(W){function oe(le,U,G,ie,Y){if(typeof W!="function")return new O("Property `"+Y+"` of component `"+G+"` has invalid PropType notation inside objectOf.");var L=le[U],ae=M(L);if(ae!=="object")return new O("Invalid "+ie+" `"+Y+"` of type "+("`"+ae+"` supplied to `"+G+"`, expected an object."));for(var q in L)if(s(L,q)){var te=W(L,q,G,ie,Y+"."+q,i);if(te instanceof Error)return te}return null}return b(oe)}function R(W){if(!Array.isArray(W))return a("Invalid argument supplied to oneOfType, expected an instance of array."),l;for(var oe=0;oe<W.length;oe++){var le=W[oe];if(typeof le!="function")return a("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+B(le)+" at index "+oe+"."),l}function U(G,ie,Y,L,ae){for(var q=[],te=0;te<W.length;te++){var re=W[te],ue=re(G,ie,Y,L,ae,i);if(ue==null)return null;ue.data&&s(ue.data,"expectedType")&&q.push(ue.data.expectedType)}var fe=q.length>0?", expected one of type ["+q.join(", ")+"]":"";return new O("Invalid "+L+" `"+ae+"` supplied to "+("`"+Y+"`"+fe+"."))}return b(U)}function N(){function W(oe,le,U,G,ie){return E(oe[le])?null:new O("Invalid "+G+" `"+ie+"` supplied to "+("`"+U+"`, expected a ReactNode."))}return b(W)}function A(W,oe,le,U,G){return new O((W||"React class")+": "+oe+" type `"+le+"."+U+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+G+"`.")}function C(W){function oe(le,U,G,ie,Y){var L=le[U],ae=M(L);if(ae!=="object")return new O("Invalid "+ie+" `"+Y+"` of type `"+ae+"` "+("supplied to `"+G+"`, expected `object`."));for(var q in W){var te=W[q];if(typeof te!="function")return A(G,ie,Y,q,Q(te));var re=te(L,q,G,ie,Y+"."+q,i);if(re)return re}return null}return b(oe)}function T(W){function oe(le,U,G,ie,Y){var L=le[U],ae=M(L);if(ae!=="object")return new O("Invalid "+ie+" `"+Y+"` of type `"+ae+"` "+("supplied to `"+G+"`, expected `object`."));var q=r({},le[U],W);for(var te in q){var re=W[te];if(s(W,te)&&typeof re!="function")return A(G,ie,Y,te,Q(re));if(!re)return new O("Invalid "+ie+" `"+Y+"` key `"+te+"` supplied to `"+G+"`.\nBad object: "+JSON.stringify(le[U],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(W),null,"  "));var ue=re(L,te,G,ie,Y+"."+te,i);if(ue)return ue}return null}return b(oe)}function E(W){switch(typeof W){case"number":case"string":case"undefined":return!0;case"boolean":return!W;case"object":if(Array.isArray(W))return W.every(E);if(W===null||c(W))return!0;var oe=h(W);if(oe){var le=oe.call(W),U;if(oe!==W.entries){for(;!(U=le.next()).done;)if(!E(U.value))return!1}else for(;!(U=le.next()).done;){var G=U.value;if(G&&!E(G[1]))return!1}}else return!1;return!0;default:return!1}}function I(W,oe){return W==="symbol"?!0:oe?oe["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&oe instanceof Symbol:!1}function M(W){var oe=typeof W;return Array.isArray(W)?"array":W instanceof RegExp?"object":I(oe,W)?"symbol":oe}function Q(W){if(typeof W>"u"||W===null)return""+W;var oe=M(W);if(oe==="object"){if(W instanceof Date)return"date";if(W instanceof RegExp)return"regexp"}return oe}function B(W){var oe=Q(W);switch(oe){case"array":case"object":return"an "+oe;case"boolean":case"date":case"regexp":return"a "+oe;default:return oe}}function Z(W){return!W.constructor||!W.constructor.name?m:W.constructor.name}return g.checkPropTypes=o,g.resetWarningCache=o.resetWarningCache,g.PropTypes=g,g}}}),tI=X({"../node_modules/prop-types/index.js"(t,e){n=IJ(),r=!0,e.exports=KWe()(n.isElement,r);var n,r}}),PE,JWe=F({"../node_modules/react-transition-group/esm/config.js"(){PE={disabled:!1}}}),Sn,FJ,e9e=F({"../node_modules/react-transition-group/esm/utils/PropTypes.js"(){Sn=Ce(tI()),FJ=Sn.default.oneOfType([Sn.default.number,Sn.default.shape({enter:Sn.default.number,exit:Sn.default.number,appear:Sn.default.number}).isRequired]),Sn.default.oneOfType([Sn.default.string,Sn.default.shape({enter:Sn.default.string,exit:Sn.default.string,active:Sn.default.string}),Sn.default.shape({enter:Sn.default.string,enterDone:Sn.default.string,enterActive:Sn.default.string,exit:Sn.default.string,exitDone:Sn.default.string,exitActive:Sn.default.string})])}}),xy,LJ=F({"../node_modules/react-transition-group/esm/TransitionGroupContext.js"(){xy=ve.createContext(null)}}),qJ,t9e=F({"../node_modules/react-transition-group/esm/utils/reflow.js"(){qJ=function(e){return e.scrollTop}}});function uf(){}var _n,df,ql,Vl,pu,ax,Po,VJ,n9e=F({"../node_modules/react-transition-group/esm/Transition.js"(){AJ(),MJ(),_n=Ce(tI()),JWe(),e9e(),LJ(),t9e(),df="unmounted",ql="exited",Vl="entering",pu="entered",ax="exiting",Po=function(t){RJ(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ql,s.appearStatus=Vl):l=pu:r.unmountOnExit||r.mountOnEnter?l=df:l=ql,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===df?{status:ql}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Vl&&o!==pu&&(s=Vl):(o===Vl||o===pu)&&(s=ax)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Vl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:kf.findDOMNode(this);o&&qJ(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ql&&this.setState({status:df})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[kf.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||PE.disabled){this.safeSetState({status:pu},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Vl},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:pu},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:kf.findDOMNode(this);if(!s||PE.disabled){this.safeSetState({status:ql},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ax},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ql},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:kf.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===df)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=NJ(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ve.createElement(xy.Provider,{value:null},typeof o=="function"?o(i,a):ve.cloneElement(ve.Children.only(o),a))},e}(ve.Component),Po.contextType=xy,Po.propTypes={nodeRef:_n.default.shape({current:typeof Element>"u"?_n.default.any:function(t,e,n,r,i,s){var o=t[e];return _n.default.instanceOf(o&&"ownerDocument"in o?o.ownerDocument.defaultView.Element:Element)(t,e,n,r,i,s)}}),children:_n.default.oneOfType([_n.default.func.isRequired,_n.default.element.isRequired]).isRequired,in:_n.default.bool,mountOnEnter:_n.default.bool,unmountOnExit:_n.default.bool,appear:_n.default.bool,enter:_n.default.bool,exit:_n.default.bool,timeout:function(e){var n=FJ;e.addEndListener||(n=n.isRequired);for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return n.apply(void 0,[e].concat(i))},addEndListener:_n.default.func,onEnter:_n.default.func,onEntering:_n.default.func,onEntered:_n.default.func,onExit:_n.default.func,onExiting:_n.default.func,onExited:_n.default.func},Po.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:uf,onEntering:uf,onEntered:uf,onExit:uf,onExiting:uf,onExited:uf},Po.UNMOUNTED=df,Po.EXITED=ql,Po.ENTERING=Vl,Po.ENTERED=pu,Po.EXITING=ax,VJ=Po}});function r9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i9e=F({"../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"(){}});function nI(t,e){var n=function(s){return e&&S.isValidElement(s)?e(s):s},r=Object.create(null);return t&&S.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function s9e(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Zu(t,e,n){return n[e]!=null?n[e]:t.props[e]}function o9e(t,e){return nI(t.children,function(n){return S.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Zu(n,"appear",t),enter:Zu(n,"enter",t),exit:Zu(n,"exit",t)})})}function a9e(t,e,n){var r=nI(t.children),i=s9e(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(S.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=S.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=S.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Zu(o,"exit",t),enter:Zu(o,"enter",t)}):!l&&a&&!u?i[s]=S.cloneElement(o,{in:!1}):l&&a&&S.isValidElement(c)&&(i[s]=S.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Zu(o,"exit",t),enter:Zu(o,"enter",t)}))}}),i}var l9e=F({"../node_modules/react-transition-group/esm/utils/ChildMapping.js"(){}}),mu,VB,BB,lx,_u,c9e=F({"../node_modules/react-transition-group/esm/TransitionGroup.js"(){AJ(),ZWe(),i9e(),MJ(),mu=Ce(tI()),LJ(),l9e(),VB=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},BB={component:"div",childFactory:function(e){return e}},lx=function(t){RJ(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(r9e(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?o9e(i,a):a9e(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=nI(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=$E({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=NJ(i,["component","childFactory"]),l=this.state.contextValue,c=VB(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?ve.createElement(xy.Provider,{value:l},c):ve.createElement(xy.Provider,{value:l},ve.createElement(s,a,c))},e}(ve.Component),lx.propTypes={component:mu.default.any,children:mu.default.node,appear:mu.default.bool,enter:mu.default.bool,exit:mu.default.bool,childFactory:mu.default.func},lx.defaultProps=BB,_u=lx}}),u9e=F({"../node_modules/react-transition-group/esm/index.js"(){c9e(),n9e()}});function d9e(t,e){return t.reduce((n,r)=>(n[r.position||e].push(r),n),rI.reduce((n,r)=>(n[r]=[],n),{}))}var rI,f9e=F({"../node_modules/@mantine/notifications/esm/get-grouped-notifications/get-grouped-notifications.mjs"(){"use client";rI=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"]}});function h9e({state:t,maxHeight:e,position:n,transitionDuration:r}){const[i,s]=n.split("-"),o=s==="center"?`${i}-center`:s,a={opacity:0,maxHeight:e,transform:CE[o],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:BJ[o]},c={opacity:0,maxHeight:0,transform:CE[o]};return{...a,...{entering:l,entered:l,exiting:c,exited:c}[t]}}var CE,BJ,p9e=F({"../node_modules/@mantine/notifications/esm/get-notification-state-styles.mjs"(){"use client";CE={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},BJ={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"}}});function m9e(t,e){return typeof e=="number"?e:e===!1||t===!1?!1:t}var g9e=F({"../node_modules/@mantine/notifications/esm/get-auto-close/get-auto-close.mjs"(){"use client"}}),jE,y9e=F({"../node_modules/@mantine/notifications/esm/NotificationContainer.mjs"(){"use client";g9e(),jE=S.forwardRef(({data:t,onHide:e,autoClose:n,...r},i)=>{const{autoClose:s,message:o,...a}=t,l=m9e(n,t.autoClose),c=S.useRef(),u=()=>window.clearTimeout(c.current),d=()=>{e(t.id),u()},f=()=>{typeof l=="number"&&(c.current=window.setTimeout(d,l))};return S.useEffect(()=>{var h;(h=t.onOpen)==null||h.call(t,t)},[]),S.useEffect(()=>(f(),u),[l]),p.jsx(VA,{...r,...a,onClose:d,ref:i,onMouseEnter:u,onMouseLeave:f,children:o})}),jE.displayName="@mantine/notifications/NotificationContainer"}}),EE,O9e=F({"../node_modules/@mantine/notifications/esm/Notifications.module.css.mjs"(){"use client";EE={root:"m_b37d9ac7",notification:"m_5ed0edd0"}}}),zB,WB,UB,No,b9e=F({"../node_modules/@mantine/notifications/esm/Notifications.mjs"(){"use client";u9e(),en(),f9e(),p9e(),y9e(),TJ(),O9e(),zB=VJ,WB={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:vl("overlay"),store:Zc,withinPortal:!0},UB=(t,{zIndex:e,containerWidth:n})=>({root:{"--notifications-z-index":e==null?void 0:e.toString(),"--notifications-container-width":ye(n)}}),No=Fe((t,e)=>{const n=je("Notifications",WB,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,position:c,autoClose:u,transitionDuration:d,containerWidth:f,notificationMaxHeight:h,limit:m,zIndex:g,store:y,portalProps:O,withinPortal:b,...x}=n,v=zi(),w=EJ(y),_=wWe(),$=PWe(),k=S.useRef({}),j=S.useRef(0),R=(v.respectReducedMotion?$:!1)?1:d,N=st({name:"Notifications",classes:EE,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:UB});S.useEffect(()=>{y==null||y.updateState(T=>({...T,limit:m||5,defaultPosition:c}))},[m,c]),fWe(()=>{w.notifications.length>j.current&&setTimeout(()=>_(),0),j.current=w.notifications.length},[w.notifications]);const A=d9e(w.notifications,c),C=rI.reduce((T,E)=>(T[E]=A[E].map(({style:I,...M})=>p.jsx(zB,{timeout:R,onEnter:()=>k.current[M.id].offsetHeight,nodeRef:{current:k.current[M.id]},children:Q=>p.jsx(jE,{ref:B=>{k.current[M.id]=B},data:M,onHide:B=>jJ(B,y),autoClose:u,...N("notification",{style:{...h9e({state:Q,position:E,transitionDuration:R,maxHeight:h}),...I}})})},M.id)),T),{});return p.jsxs(dp,{withinPortal:b,...O,children:[p.jsx(Ae,{...N("root"),"data-position":"top-center",ref:e,...x,children:p.jsx(_u,{children:C["top-center"]})}),p.jsx(Ae,{...N("root"),"data-position":"top-left",...x,children:p.jsx(_u,{children:C["top-left"]})}),p.jsx(Ae,{...N("root"),"data-position":"top-right",...x,children:p.jsx(_u,{children:C["top-right"]})}),p.jsx(Ae,{...N("root"),"data-position":"bottom-right",...x,children:p.jsx(_u,{children:C["bottom-right"]})}),p.jsx(Ae,{...N("root"),"data-position":"bottom-left",...x,children:p.jsx(_u,{children:C["bottom-left"]})}),p.jsx(Ae,{...N("root"),"data-position":"bottom-center",...x,children:p.jsx(_u,{children:C["bottom-center"]})})]})}),No.classes=EE,No.displayName="@mantine/notifications/Notifications",No.show=Da.show,No.hide=Da.hide,No.update=Da.update,No.clean=Da.clean,No.cleanQueue=Da.cleanQueue,No.updateState=Da.updateState}}),zJ=F({"../node_modules/@mantine/notifications/esm/index.mjs"(){TJ(),b9e()}}),WJ,x9e=F({"../node_modules/@tabler/icons-react/dist/esm/defaultAttributes.mjs"(){WJ={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}}}}),tn,dn=F({"../node_modules/@tabler/icons-react/dist/esm/createReactComponent.mjs"(){x9e(),tn=(t,e,n,r)=>{const i=S.forwardRef(({color:s="currentColor",size:o=24,stroke:a=2,title:l,className:c,children:u,...d},f)=>S.createElement("svg",{ref:f,...WJ[t],width:o,height:o,className:["tabler-icon",`tabler-icon-${e}`,c].join(" "),...t==="filled"?{fill:s}:{strokeWidth:a,stroke:s},...d},[l&&S.createElement("title",{key:"svg-title"},l),...r.map(([h,m])=>S.createElement(h,m)),...Array.isArray(u)?u:[u]]));return i.displayName=`${n}`,i}}}),kO,v9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconAlignJustified.mjs"(){dn(),kO=tn("outline","align-justified","IconAlignJustified",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l12 0",key:"svg-2"}]])}}),iI,w9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconBolt.mjs"(){dn(),iI=tn("outline","bolt","IconBolt",[["path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11",key:"svg-0"}]])}}),UJ,S9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconBox.mjs"(){dn(),UJ=tn("outline","box","IconBox",[["path",{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12l0 9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}]])}}),ZJ,_9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconBug.mjs"(){dn(),ZJ=tn("outline","bug","IconBug",[["path",{d:"M9 9v-1a3 3 0 0 1 6 0v1",key:"svg-0"}],["path",{d:"M8 9h8a6 6 0 0 1 1 3v3a5 5 0 0 1 -10 0v-3a6 6 0 0 1 1 -3",key:"svg-1"}],["path",{d:"M3 13l4 0",key:"svg-2"}],["path",{d:"M17 13l4 0",key:"svg-3"}],["path",{d:"M12 20l0 -6",key:"svg-4"}],["path",{d:"M4 19l3.35 -2",key:"svg-5"}],["path",{d:"M20 19l-3.35 -2",key:"svg-6"}],["path",{d:"M4 7l3.75 2.4",key:"svg-7"}],["path",{d:"M20 7l-3.75 2.4",key:"svg-8"}]])}}),sI,$9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconChevronDown.mjs"(){dn(),sI=tn("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]])}}),oI,k9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconChevronUp.mjs"(){dn(),oI=tn("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]])}}),PO,P9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconCirclesRelation.mjs"(){dn(),PO=tn("outline","circles-relation","IconCirclesRelation",[["path",{d:"M9.183 6.117a6 6 0 1 0 4.511 3.986",key:"svg-0"}],["path",{d:"M14.813 17.883a6 6 0 1 0 -4.496 -3.954",key:"svg-1"}]])}}),ou,C9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconDatabase.mjs"(){dn(),ou=tn("outline","database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]])}}),XJ,j9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconExternalLink.mjs"(){dn(),XJ=tn("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]])}}),aI,E9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconGripVertical.mjs"(){dn(),aI=tn("outline","grip-vertical","IconGripVertical",[["path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]])}}),YJ,T9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconHierarchy2.mjs"(){dn(),YJ=tn("outline","hierarchy-2","IconHierarchy2",[["path",{d:"M10 3h4v4h-4z",key:"svg-0"}],["path",{d:"M3 17h4v4h-4z",key:"svg-1"}],["path",{d:"M17 17h4v4h-4z",key:"svg-2"}],["path",{d:"M7 17l5 -4l5 4",key:"svg-3"}],["path",{d:"M12 7l0 6",key:"svg-4"}]])}}),GJ,N9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconHome.mjs"(){dn(),GJ=tn("outline","home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]])}}),HJ,A9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconInfoCircle.mjs"(){dn(),HJ=tn("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]])}}),KJ,R9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconKeyOff.mjs"(){dn(),KJ=tn("outline","key-off","IconKeyOff",[["path",{d:"M10.17 6.159l2.316 -2.316a2.877 2.877 0 0 1 4.069 0l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.33 2.33",key:"svg-0"}],["path",{d:"M14.931 14.948a2.863 2.863 0 0 1 -1.486 -.79l-.301 -.302l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.863 2.863 0 0 1 -.794 -1.504",key:"svg-1"}],["path",{d:"M15 9h.01",key:"svg-2"}],["path",{d:"M3 3l18 18",key:"svg-3"}]])}}),JJ,M9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconLockAccessOff.mjs"(){dn(),JJ=tn("outline","lock-access-off","IconLockAccessOff",[["path",{d:"M4 8v-2c0 -.554 .225 -1.055 .588 -1.417",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2c.55 0 1.05 -.222 1.41 -.582",key:"svg-3"}],["path",{d:"M15 11a1 1 0 0 1 1 1m-.29 3.704a1 1 0 0 1 -.71 .296h-6a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h2",key:"svg-4"}],["path",{d:"M10 11v-1m1.182 -2.826a2 2 0 0 1 2.818 1.826v1",key:"svg-5"}],["path",{d:"M3 3l18 18",key:"svg-6"}]])}}),lI,I9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconMinus.mjs"(){dn(),lI=tn("outline","minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]])}}),cI,D9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconPhoto.mjs"(){dn(),cI=tn("outline","photo","IconPhoto",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]])}}),CO,Q9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconPlus.mjs"(){dn(),CO=tn("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]])}}),Cd,F9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconSettings.mjs"(){dn(),Cd=tn("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]])}}),eee,L9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconTrash.mjs"(){dn(),eee=tn("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]])}}),tee,q9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconUser.mjs"(){dn(),tee=tn("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]])}}),O1,V9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconWorld.mjs"(){dn(),O1=tn("outline","world","IconWorld",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h16.8",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3a17 17 0 0 1 0 18",key:"svg-4"}]])}}),uI,B9e=F({"../node_modules/@tabler/icons-react/dist/esm/icons/IconBoltFilled.mjs"(){dn(),uI=tn("filled","bolt-filled","IconBoltFilled",[["path",{d:"M13 2l.018 .001l.016 .001l.083 .005l.011 .002h.011l.038 .009l.052 .008l.016 .006l.011 .001l.029 .011l.052 .014l.019 .009l.015 .004l.028 .014l.04 .017l.021 .012l.022 .01l.023 .015l.031 .017l.034 .024l.018 .011l.013 .012l.024 .017l.038 .034l.022 .017l.008 .01l.014 .012l.036 .041l.026 .027l.006 .009c.12 .147 .196 .322 .218 .513l.001 .012l.002 .041l.004 .064v6h5a1 1 0 0 1 .868 1.497l-.06 .091l-8 11c-.568 .783 -1.808 .38 -1.808 -.588v-6h-5a1 1 0 0 1 -.868 -1.497l.06 -.091l8 -11l.01 -.013l.018 -.024l.033 -.038l.018 -.022l.009 -.008l.013 -.014l.04 -.036l.028 -.026l.008 -.006a1 1 0 0 1 .402 -.199l.011 -.001l.027 -.005l.074 -.013l.011 -.001l.041 -.002z",key:"svg-0"}]])}}),Rn=F({"../node_modules/@tabler/icons-react/dist/esm/tabler-icons-react.mjs"(){v9e(),w9e(),S9e(),_9e(),$9e(),k9e(),P9e(),C9e(),j9e(),E9e(),T9e(),N9e(),A9e(),R9e(),M9e(),I9e(),D9e(),Q9e(),F9e(),L9e(),q9e(),V9e(),B9e()}});function ar(t,e,n){return Pve(t,(r,i)=>G0(e,r)?L9(e,r):i.json({success:!1,errors:[...Zy(e,r)]},400))}var z9e=F({"src/core/server/lib/tbValidator.ts"(){}}),Cn,If,nee=F({"src/core/errors.ts"(){Cn=class extends Error{constructor(e,n){super(e);J(this,"code",400);J(this,"name","Exception");J(this,"_context");n&&(this.code=n)}context(e){return this._context=e,this}toJSON(){return{error:this.message,type:this.name,context:this._context}}},If=class ree extends Error{constructor(e,n,r){super(e),this.details=n,this.type=r}static with(e,n,r){throw new ree(e,n,r)}toJSON(){return{type:this.type??"unknown",message:this.message,details:this.details}}}}});function Np(){try{return __isDev==="1"||__isDev===1}catch{return!1}}var iee=F({"src/core/env.ts"(){}}),dI,W9e=F({"src/core/config.ts"(){dI={server:{default_port:1337,assets_path:"/"},data:{default_primary_field:"id"}}}});function bs(t){return!t||t.length===0?t:t.charAt(0).toUpperCase()+t.slice(1)}function U9e(t,e=" "){return!t||t.length===0?t:t.split(e).map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(e)}function Z9e(t,e=!1){const i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"+(e?"!@#$%^&*()_+{}:\"<>?|[];',./`~":"");let s="";for(let o=0;o<t;o++)s+=i[Math.floor(Math.random()*i.length)];return s}function Gh(t){return!t||t.length===0?t:t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}function TE(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function X9e(t){return/^[a-z]+(_[a-z]+)*$/.test(t)?"snake_case":/^[A-Z][a-zA-Z]*$/.test(t)?"PascalCase":/^[a-z][a-zA-Z]*$/.test(t)?"camelCase":/^[a-z]+(-[a-z]+)*$/.test(t)?"kebab-case":/^[A-Z]+(_[A-Z]+)*$/.test(t)?"SCREAMING_SNAKE_CASE":"unknown"}function Y9e(t){switch(X9e(t)){case"snake_case":return Gh(t);case"PascalCase":return Nk(TE(t));case"camelCase":return bs(Nk(TE(t)));case"kebab-case":return Nk(t);case"SCREAMING_SNAKE_CASE":return Gh(t.toLowerCase());case"unknown":return t}}function Nk(t){return t.split("-").map(bs).join(" ")}function Ap(t,e=" "){return U9e(Gh(t),e)}function G9e(t,e){return e instanceof RegExp?e.test(t):typeof e=="string"&&e.startsWith("/")?new RegExp(e).test(t):typeof e=="string"?t.startsWith(e):!1}var see=F({"src/core/utils/strings.ts"(){}});function NE(t,e=[]){return t===null||typeof t!="object"?t:Array.isArray(t)?t.map(n=>NE(n,e)):Object.keys(t).reduce((n,r)=>{const i=e.includes(r)?r:TE(r);return n[i]=NE(t[r],e),n},{})}function oee(t,e){const n={};for(const r in t)e.some(s=>r.includes(s))||(typeof t[r]=="object"&&t[r]!==null&&!Array.isArray(t[r])?n[r]=oee(t[r],e):n[r]=t[r]);return n}function Yt(t,e){return Object.entries(t).reduce((n,[r,i])=>{const s=e(i,r);return typeof s<"u"&&(n[r]=s),n},{})}function ZB(t){return t&&typeof t=="object"&&!Array.isArray(t)}function aee(t,e=""){let n=[];for(const r in t){const i=e?`${e}.${r}`:r;n.push(i),typeof t[r]=="object"&&t[r]!==null&&(n=n.concat(aee(t[r],i)))}return n}function lee(t){let e=1;for(const n in t)if(typeof t[n]=="object"){const r=lee(t[n])+1;e=Math.max(r,e)}return e}function vy(t){return t&&Object.entries(t).reduce((e,[n,r])=>{if(r&&Array.isArray(r)&&r.some(i=>typeof i=="object")){const i=r.map(vy);i.length>0&&(e[n]=i)}else if(r&&typeof r=="object"&&!Array.isArray(r)){const i=vy(r);Object.keys(i).length>0&&(e[n]=i)}else r!==""&&r!==null&&r!==void 0&&(e[n]=r);return e},{})}var jO,fI=F({"src/core/utils/objects.ts"(){see(),jO=Yt}});function H9e(t){return new Qve.XMLParser().parse(t)}var cee=F({"src/core/utils/xml.ts"(){}}),uee,K9e=F({"src/core/clients/aws/AwsClient.ts"(){var t,e;fI(),cee(),uee=(e=class extends qve{constructor(r,i){super(r);Pe(this,t);Se(this,t,i??{responseType:"json"})}convertParams(r){switch(V(this,t).convertParams){case"pascalToKebab":return NE(r);default:return r}}getUrl(r="/",i={}){const s=new URL(r),o=this.convertParams(i);return Object.entries(o).forEach(([a,l])=>{s.searchParams.append(a,l)}),s.toString()}updateKeysRecursively(r,i){return r==null?r:Array.isArray(r)?r.map(s=>this.updateKeysRecursively(s,i)):typeof r=="object"?Object.keys(r).reduce((s,o)=>{let a=o;return o.indexOf(" ")===-1&&(a=o.charAt(0)[i]()+o.slice(1)),s[a]=this.updateKeysRecursively(r[o],i),s},{}):r}async fetchJson(r,i){const s=await this.fetch(r,i);if(V(this,t).responseType==="xml"){if(!s.ok){const l=await s.text();throw new Error(l)}const a=await s.text();return H9e(a)}if(!s.ok){const a=await s.json();throw new Error(a.message)}const o=await s.json();return V(this,t).responseKeysToUpper?this.updateKeysRecursively(o,"toUpperCase"):o}},t=new WeakMap,e)}}),AE,J9e=F({"src/core/template/SimpleRenderer.ts"(){nee(),AE=class{constructor(t={},e={}){J(this,"engine",new fR);this.variables=t,this.options=e}another(){return 1}static hasMarkup(t){let e="";if(Array.isArray(t)||typeof t=="object"){if(!["Array","Object"].includes(t.constructor.name))return!1;e=JSON.stringify(t)}else e=String(t);return["{{","{%","{#","{:"].some(i=>e.includes(i))}async render(t){try{if(typeof t=="string")return await this.renderString(t);if(Array.isArray(t))return await Promise.all(t.map(e=>this.render(e)));if(typeof t=="object")return await this.renderObject(t)}catch(e){if(e instanceof tu){const n={name:e.name,token:{kind:e.token.kind,input:e.token.input,begin:e.token.begin,end:e.token.end}};throw new If(e.message,n,"liquid")}throw e}throw new Error("Invalid template type")}async renderString(t){return this.engine.parseAndRender(t,this.variables,this.options)}async renderObject(t){const e={};for(const[n,r]of Object.entries(t)){let i=n;this.options.renderKeys&&(i=await this.renderString(n)),e[i]=await this.render(r)}return e}}}});function e6e(){return(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))!==-1?"Opera":navigator.userAgent.indexOf("Edg")!==-1?"Edge":navigator.userAgent.indexOf("Chrome")!==-1?"Chrome":navigator.userAgent.indexOf("Safari")!==-1?"Safari":navigator.userAgent.indexOf("Firefox")!==-1?"Firefox":navigator.userAgent.indexOf("MSIE")!==-1||document.documentMode?"IE":"unknown"}var t6e=F({"src/core/utils/browser.ts"(){}}),n6e=F({"src/core/utils/perf.ts"(){}});function r6e(t){return t?{...Object.fromEntries(t.entries())}:{}}function dee(t,e){const n=r6e(t),r={};for(const i of e)n[i]&&(r[i]=n[i]);return r}function b1(t,e){let n="";function r(i){return e!=null&&e.encode?encodeURIComponent(i):i}for(const i in t){let s=t[i];if(s!==void 0)if(Array.isArray(s))for(let o=0;o<s.length;o++)n.length>0&&(n+="&"),n+=`${r(i)}=${r(s[o])}`;else typeof s=="object"&&(s=JSON.stringify(s)),n.length>0&&(n+="&"),n+=`${r(i)}=${r(s)}`}return((e==null?void 0:e.prefix)||"")+n}function XB(t){function e(o){if(!o)return"";const a=decodeURIComponent(o);if(a==="false")return!1;if(a==="true")return!0;try{return JSON.parse(a)}catch{return+a*0===0?+a:a}}let n,r;const i={},s=t.split("&");for(;n=s.shift();)n=n.split("="),r=n.shift(),i[r]!==void 0?i[r]=[].concat(i[r],e(n.shift())):i[r]=e(n.shift());return i}var hI=F({"src/core/utils/reqres.ts"(){}});function i6e(t){const e=Ci(t);return pI(e,!1),e}function pI(t,e=!0){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){e?t[s0]=!0:delete t[s0];for(const n in t)typeof t[n]=="object"&&t[n]!==null&&pI(t[n],e)}}function tr(t,e,n){if(!(n!=null&&n.forceParse)&&typeof e=="object"&&s0 in e)return(n==null?void 0:n.useDefaults)===!1?e:cl(t,e);const r=(n==null?void 0:n.useDefaults)===!1?e:cl(t,e);if(ll(t,r))return(n==null?void 0:n.skipMark)!==!0&&pI(r,!0),r;if(n!=null&&n.onError)n.onError(vh(t,e));else throw new Rp(t,e)}function Ak(t,e){const n=cl(t,e);if(ll(t,n))return n;throw new Rp(t,e)}function EO(t){t.Set("StringEnum",(e,n)=>typeof n=="string"&&e.enum.includes(n))}var s0,Rp,jt,Uo,qo,Vi,s6e=F({"src/core/utils/typebox/index.ts"(){s0=Symbol("tb-parse-validation"),Rp=class extends Error{constructor(e,n,r){super(r??`Invalid: ${JSON.stringify(n)}`);J(this,"errors");this.schema=e,this.data=n,this.errors=[...vh(e,n)]}first(){return this.errors[0]}firstToString(){const e=this.first();return`${e.message} at "${e.path}"`}toJSON(){return{message:this.message,schema:this.schema,data:this.data,errors:this.errors}}},EO(Uy),jt=(t,e)=>D.Unsafe({[Xn]:"StringEnum",type:"string",enum:t,...e}),Uo=(t,e)=>D.Object({},{...e,additionalProperties:t}),qo=(t,e)=>D.Literal(t,{...e,default:t,const:t,readOnly:!0}),Vi=D.String({pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$",minLength:2,maxLength:150}),mue(t=>{var e,n;return(e=t==null?void 0:t.schema)!=null&&e.errorMessage?t.schema.errorMessage:((n=t==null?void 0:t.schema)==null?void 0:n[Xn])==="StringEnum"?`Expected: ${t.schema.enum.map(r=>`"${r}"`).join(", ")}`:yue(t)})}}),o6e=F({"src/core/utils/dates.ts"(){CC.extend(T1e)}});async function YB(t,e,n,r){if(!fee.includes(t))throw new Error(`Invalid hash algorithm: ${t}`);const i=new TextEncoder().encode((n??"")+e+(r??"")),s=await crypto.subtle.digest(t,i);return Array.from(new Uint8Array(s)).map(a=>a.toString(16).padStart(2,"0")).join("")}function a6e(t){const e=new Uint8Array(t);return crypto.getRandomValues(e),Array.from(e,n=>String.fromCharCode(33+n%94)).join("")}var fee,hee,l6e=F({"src/core/utils/crypto.ts"(){fee=["SHA-1","SHA-256","SHA-384","SHA-512"],hee={sha256:async(t,e,n)=>YB("SHA-256",t,e,n),sha1:async(t,e,n)=>YB("SHA-1",t,e,n)}}});function c6e(){return crypto.randomUUID()}var u6e=F({"src/core/utils/uuid.ts"(){}});function x1(t){return t.map(e=>Hh(e))}function d6e(t){return t.map(e=>X0(e))}function f6e(t){return r9(x1(t.allOf),t)}function h6e(t){return op(x1(t.anyOf),t)}function p6e(t){return op(x1(t.oneOf),t)}function m6e(t){return op(d6e(t.enum))}function g6e(t){return i9(x1(t.items),t)}function y6e(t){return s9(Hh(t.items),t)}function O6e(t){return X0(t.const,t)}function b6e(t){const e=globalThis.Object.getOwnPropertyNames(t.properties).reduce((n,r)=>({...n,[r]:t.required&&t.required.includes(r)?Hh(t.properties[r]):o9(Hh(t.properties[r]))}),{});return rC(e,t)}function Hh(t){return mee(t)?f6e(t):gee(t)?h6e(t):yee(t)?p6e(t):pee(t)?m6e(t):kee(t)?b6e(t):Oee(t)?g6e(t):bee(t)?y6e(t):xee(t)?O6e(t):vee(t)?GW(t):wee(t)?HW(t):See(t)?KW(t):_ee(t)?JW(t):$ee(t)?e9(t):t9(t||{})}var ka,GB,pee,mee,gee,yee,Oee,bee,xee,vee,wee,See,_ee,$ee,HB,kee,x6e=F({"src/core/utils/typebox/from-schema.ts"(){ka=(t,e)=>t===e,GB=t=>Qv(t)||a9(t)||l9(t),pee=t=>xt(t)&&si(t.enum)&&t.enum.every(e=>GB(e)),mee=t=>xt(t)&&si(t.allOf),gee=t=>xt(t)&&si(t.anyOf),yee=t=>xt(t)&&si(t.oneOf),Oee=t=>xt(t)&&ka(t.type,"array")&&si(t.items),bee=t=>xt(t)&&ka(t.type,"array")&&!si(t.items)&&xt(t.items),xee=t=>xt(t)&&xt(t.const),vee=t=>xt(t)&&ka(t.type,"string"),wee=t=>xt(t)&&ka(t.type,"number"),See=t=>xt(t)&&ka(t.type,"integer"),_ee=t=>xt(t)&&ka(t.type,"boolean"),$ee=t=>xt(t)&&ka(t.type,"null"),HB=t=>xt(t),kee=t=>xt(t)&&ka(t.type,"object")&&HB(t.properties)&&(t.required===void 0||si(t.required)&&t.required.every(e=>Qv(e)))}}),v6e=F({"src/core/utils/test.ts"(){}});function w6e(){var e,n,r,i;const t=globalThis;return((n=(e=t==null?void 0:t.process)==null?void 0:e.env)==null?void 0:n.NEXT_RUNTIME)==="nodejs"?"nextjs":((i=(r=t==null?void 0:t.process)==null?void 0:r.env)==null?void 0:i.NEXT_RUNTIME)==="edge"?"nextjs-edge":typeof window<"u"&&window.__NEXT_DATA__?"nextjs-client":gue()}function S6e(t){return w6e().startsWith("nextjs")&&(RE.redirects_non_fq=!1),RE[t]}var RE,_6e=F({"src/core/utils/runtime.ts"(){RE={redirects_non_fq:!0}}});function $6e(t,e,n){const r=Math.min(e,n),i=Math.max(e,n);return Math.max(r,Math.min(t,i))}var k6e=F({"src/core/utils/numbers.ts"(){}}),we=F({"src/core/utils/index.ts"(){t6e(),fI(),see(),n6e(),hI(),cee(),s6e(),o6e(),l6e(),u6e(),x6e(),v6e(),_6e(),k6e()}}),ME,P6e=F({"src/core/object/SchemaObject.ts"(){we(),ME=class{constructor(t,e,n){J(this,"_default");J(this,"_value");J(this,"_config");J(this,"_restriction_bypass",!1);this._schema=t,this.options=n,this._default=cl(t,{}),this._value=e?tr(t,Ci(e),{forceParse:this.isForceParse(),skipMark:this.isForceParse()}):this._default,this._config=Object.freeze(this._value)}isForceParse(){var t;return((t=this.options)==null?void 0:t.forceParse)??!0}default(){return this._default}async onBeforeUpdate(t,e){var n;return(n=this.options)!=null&&n.onBeforeUpdate?this.options.onBeforeUpdate(t,e):e}get(t){return t!=null&&t.stripMark?i6e(this._config):this._config}async set(t,e){var i,s;const n=tr(this._schema,Ci(t),{forceParse:!0,skipMark:this.isForceParse()}),r=await this.onBeforeUpdate(this._config,n);return this._value=r,this._config=Object.freeze(r),e!==!0&&await((s=(i=this.options)==null?void 0:i.onUpdate)==null?void 0:s.call(i,this._config)),this._config}bypass(){return this._restriction_bypass=!0,this}throwIfRestricted(t){var n;if(this._restriction_bypass){this._restriction_bypass=!1;return}const e=((n=this.options)==null?void 0:n.restrictPaths)??[];if(Array.isArray(e)&&e.length>0){for(const r of e)if(typeof t=="string"?t.startsWith(r):F_(t,r))throw new Error(`Path "${r}" is restricted`)}}async patch(t,e){var o;const n=Ci(this._config),r=t.length>0?Qm({},t,e):e;this.throwIfRestricted(r);const i=N9(n,r,(a,l)=>{if(Array.isArray(a)&&Array.isArray(l))return l});if((o=this.options)!=null&&o.overwritePaths){const l=aee(e).map(c=>t.length>0?t+"."+c:c).filter(c=>{var u,d;return(d=(u=this.options)==null?void 0:u.overwritePaths)==null?void 0:d.some(f=>typeof f=="string"?c===f:f.test(c))});if(l.length>0){const c=l.length>1?l.filter(u=>l.some(d=>d!==u&&d.startsWith(u))):l;for(const u of c)Qm(i,u,$g(r,u))}}const s=await this.set(i);return[r,s]}async overwrite(t,e){const n=Ci(this._config),r=t.length>0?Qm({},t,e):e;this.throwIfRestricted(r);const i=Qm(n,t,e),s=await this.set(i);return[r,s]}has(t){const e=t.split(".");if(e.length>1){const n=e.slice(0,-1).join(".");if(!F_(this._config,n))throw console.log("parent",n,JSON.stringify(this._config,null,2)),new Error(`Parent path "${n}" does not exist`)}return F_(this._config,t)}async remove(t){if(this.throwIfRestricted(t),!this.has(t))throw new Error(`Path "${t}" does not exist`);const e=Ci(this._config),n=$g(e,t),r=to(e,t),i=await this.set(r);return[n,i]}}}}),Zn,C6e=F({"src/core/security/Permission.ts"(){Zn=class{constructor(t){this.name=t,this.name=t}toJSON(){return{name:this.name}}}}});function Wl(t){return["string","number","boolean"].includes(typeof t)}function j6e(t){return[!0,!1,0,1].includes(t)}function Ms(t,e,n){return new Cee(t,e,n)}function Pee(t,e){const n=t.find(r=>r.key===e);if(!n)throw new Error(`Expression does not exist: "${e}"`);return n}function mI(t,e,n=[]){const r=e.map(l=>l.key),i=Object.keys(t),s=[IE],o={};if(i.some(l=>l.startsWith("$")&&!s.includes(l)))throw new Error(`Invalid key '${i}'. Keys must not start with '$'.`);if(n.length>0&&i.some(l=>s.includes(l)))throw new Error(`Operand ${IE} can only appear at the top level.`);function a(l,c,u=[]){if(Pee(e,l).valid(c)===!1)throw new Error(`Invalid value at "${[...u,l].join(".")}": ${c}`)}for(const[l,c]of Object.entries(t))if(l==="$or")o.$or=mI(c,e,[...n,l]);else if(Wl(c))a("$eq",c,n),o[l]={$eq:c};else if(typeof c=="object"){const u=Object.keys(c).filter(d=>!r.includes(d));if(u.length===0){o[l]={};for(const[d,f]of Object.entries(c))a(d,f,[...n,l]),o[l][d]=f}else throw new Error(`Invalid key(s) at "${l}": ${u.join(", ")}. Expected expressions.`)}return o}function KB(t,e,n){const r=n.convert?mI(t,e):t,i={$and:[],$or:[],keys:new Set},{$or:s,...o}=r;function a(l,c,u,d=[]){const f=Pee(e,l);if(!f)throw new Error(`Expression does not exist: "${l}"`);if(!f.valid(c))throw new Error(`Invalid expected value at "${[...d,l].join(".")}": ${c}`);return f.validate(c,u,n.exp_ctx)}for(const[l,c]of Object.entries(o))for(const[u,d]of Object.entries(c)){const f=n.value_is_kv?l:n.object[l];i.$and.push(a(u,d,f,[l])),i.keys.add(l)}for(const[l,c]of Object.entries(s??{})){const u=n.value_is_kv?l:n.object[l];for(const[d,f]of Object.entries(c))i.$or.push(a(d,f,u,[l])),i.keys.add(l)}return i}function E6e(t){const e={$and:void 0,$or:void 0};return e.$and=t.$and.every(n=>!!n),e.$or=t.$or.some(n=>!!n),!!e.$and||!!e.$or}function T6e(t){return{convert:e=>mI(e,t),build:(e,n)=>KB(e,t,n),validate:(e,n)=>{const r=KB(e,t,n);return E6e(r)}}}var Cee,IE,N6e=F({"src/core/object/query/query.ts"(){Cee=class{constructor(t,e,n){J(this,"expect");this.key=t,this.valid=e,this.validate=n}},IE="$or"}}),jee,A6e=F({"src/core/registry/Registry.ts"(){jee=class{constructor(t){J(this,"is_set",!1);J(this,"items",{});this.registerFn=t}set(t){if(this.is_set)throw new Error("Registry is already set");return this.items=t,this.is_set=!0,this}add(t,e){return this.items[t]=e,this}register(t,e){if(this.registerFn){const n=this.registerFn(e);return this.items[t]=n,this}return this.add(t,e)}get(t){return this.items[t]}has(t){return t in this.items}all(){return this.items}}}}),Mn=F({"src/core/index.ts"(){z9e(),nee(),iee(),W9e(),K9e(),J9e(),P6e(),C6e(),N6e(),A6e()}});function JB(t,e,n="info"){var r;(r=t.req.header("Accept"))!=null&&r.includes("text/html")&&O9(t,o0,JSON.stringify({type:n,message:e}),{path:"/"})}function R6e(t){const e=document.cookie.split("; ");for(const n of e){const[r,i]=n.split("=");if(r===t)try{return decodeURIComponent(i)}catch{return null}}return null}function M6e(t=!0){const e=R6e(o0);return e&&t&&(document.cookie=`${o0}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`),e?JSON.parse(e):void 0}var o0,Eee=F({"src/core/server/flash.ts"(){o0="__bknd_flash"}});function I6e(t,e){return{schema:t,preprocess:e}}var Rk,DE,QE,e3,Tee,gI=F({"src/auth/authenticate/Authenticator.ts"(){Mn(),Eee(),we(),Rk=60*60*24*7,DE=D.Partial(D.Object({path:D.String({default:"/"}),sameSite:jt(["strict","lax","none"],{default:"lax"}),secure:D.Boolean({default:!0}),httpOnly:D.Boolean({default:!0}),expires:D.Number({default:Rk}),renew:D.Boolean({default:!0}),pathSuccess:D.String({default:"/"}),pathLoggedOut:D.String({default:"/"})}),{default:{},additionalProperties:!1}),QE=D.Object({secret:D.String({default:""}),alg:D.Optional(jt(["HS256","HS384","HS512"],{default:"HS256"})),expires:D.Optional(D.Number()),issuer:D.Optional(D.String()),fields:D.Array(D.String(),{default:["id","email","role"]})},{default:{},additionalProperties:!1}),e3=D.Object({jwt:QE,cookie:DE}),Tee=class{constructor(t,e,n){J(this,"strategies");J(this,"config");J(this,"_claims");J(this,"userResolver");this.userResolver=e??(async(r,i,s,o)=>o),this.strategies=t,this.config=tr(e3,n??{})}async resolve(t,e,n,r){const i=await this.userResolver(t,e,n,r);if(i)return{user:i,token:await this.jwt(i)};throw new Error("User could not be resolved")}getStrategies(){return this.strategies}isUserLoggedIn(){return this._claims!==void 0}getUser(){if(!this._claims)return;const{iat:t,exp:e,iss:n,...r}=this._claims;return r}resetUser(){this._claims=void 0}strategy(t){try{return this.strategies[t]}catch{throw new Error(`Strategy "${String(t)}" not found`)}}async jwt(t){var i,s,o;const e=["password"];for(const a of e)if(a in t)throw new Error(`Property "${a}" is prohibited`);const n={...t,iat:Math.floor(Date.now()/1e3)};(i=this.config.jwt)!=null&&i.issuer&&(n.iss=this.config.jwt.issuer),(s=this.config.jwt)!=null&&s.expires&&(n.exp=Math.floor(Date.now()/1e3)+this.config.jwt.expires);const r=this.config.jwt.secret;if(!r||r.length===0)throw new Error("Cannot sign JWT without a secret");return fue(n,r,((o=this.config.jwt)==null?void 0:o.alg)??"HS256")}async verify(t){var e,n,r;try{const i=await hue(t,((e=this.config.jwt)==null?void 0:e.secret)??"",((n=this.config.jwt)==null?void 0:n.alg)??"HS256");if((r=this.config.jwt)!=null&&r.issuer&&i.iss!==this.config.jwt.issuer)throw new Cn("Invalid issuer",403);return this._claims=i,!0}catch{this.resetUser()}return!1}get cookieOptions(){const{expires:t=Rk,renew:e,...n}=this.config.cookie;return{...n,expires:new Date(Date.now()+t*1e3)}}async getAuthCookie(t){try{const e=this.config.jwt.secret,n=await y9(t,e,"auth");return typeof n!="string"?void 0:n}catch(e){e instanceof Error&&console.error("[Error:getAuthCookie]",e.message);return}}async requestCookieRefresh(t){if(this.config.cookie.renew){const e=await this.getAuthCookie(t);e&&await this.setAuthCookie(t,e)}}async setAuthCookie(t,e){const n=this.config.jwt.secret;await b9(t,"auth",e,n,this.cookieOptions)}async deleteAuthCookie(t){await jue(t,"auth",this.cookieOptions)}async logout(t){await this.getAuthCookie(t)&&(await this.deleteAuthCookie(t),await JB(t,"Signed out","info")),this.resetUser()}isJsonRequest(t){return t.req.header("Content-Type")==="application/json"}async getBody(t){return this.isJsonRequest(t)?await t.req.json():Object.fromEntries((await t.req.formData()).entries())}getSuccessPath(t){const e=(this.config.cookie.pathSuccess??"/").replace(/\/+$/,"/");return S6e("redirects_non_fq")?e:new URL(t.req.url).origin+e}async respond(t,e,n){if(this.isJsonRequest(t))return t.json(e);const r=this.getSuccessPath(t),i=n??t.req.header("Referer")??r;if("token"in e)return await this.setAuthCookie(t,e.token),t.redirect(r);let s="An error occured";return e instanceof Cn&&(s=e.message),await JB(t,s,"error"),t.redirect(i)}async resolveAuthFromRequest(t){let e;if(t.req.raw.headers.has("Authorization")?e=String(t.req.header("Authorization")).replace("Bearer ",""):e=await this.getAuthCookie(t),e)return await this.verify(e),this.getUser()}toJSON(t){return{...this.config,jwt:t?this.config.jwt:void 0,strategies:Yt(this.getStrategies(),e=>e.toJSON(t))}}}}}),Mk,yI,Nee=F({"src/data/connection/Connection.ts"(){Mk=Symbol.for("bknd:connection"),yI=class{constructor(t,e={},n=[]){J(this,"kysely");this.fn=e,this.plugins=n,this.kysely=t,this[Mk]=!0}static isConnection(t){return t?t[Mk]===!0:!1}getIntrospector(){return this.kysely.introspection}supportsBatching(){return!1}supportsIndices(){return!1}async ping(){return(await Ig`SELECT 1`.execute(this.kysely)).rows.length>0}async batch(t){throw new Error("Batching not supported")}async batchQuery(t){if(!this.supportsBatching()){const e=[];for(const n of t){const r=await n.execute();e.push(r)}return e}return await this.batch(t)}}}}),Aee,D6e=F({"src/data/connection/DummyConnection.ts"(){Nee(),Aee=class extends yI{constructor(){super(void 0)}}}}),kr,a0,t3,Ree=F({"src/core/events/Event.ts"(){var t;kr=(t=class{constructor(e){J(this,"_returning");J(this,"params");J(this,"returned",!1);this.params=e}validate(e){throw new t3(this,e)}clone(e){const n=new this.constructor(e);return n.returned=!0,n}},J(t,"slug","untitled-event"),t),a0=class extends Error{constructor(e,n){super(`Expected "${e}", got "${n}"`)}},t3=class extends Error{constructor(e,n){super(`Event "${e.constructor.slug}" returned without validation`),this.data=n}}}}),Mee,Q6e=F({"src/core/events/EventListener.ts"(){Mee=class{constructor(t,e,n="async"){J(this,"mode","async");J(this,"event");J(this,"handler");J(this,"once",!1);this.event=t,this.handler=e,this.mode=n}}}}),Mp,F6e=F({"src/core/events/EventManager.ts"(){Ree(),Q6e(),Mp=class{constructor(t,e){J(this,"events",[]);J(this,"listeners",[]);J(this,"enabled",!0);var n;this.options=e,t&&this.registerEvents(t),(n=e==null?void 0:e.listeners)==null||n.forEach(r=>this.addListener(r))}enable(){return this.enabled=!0,this}disable(){return this.enabled=!1,this}clearEvents(){return this.events=[],this}clearAll(){return this.clearEvents(),this.listeners=[],this}getListeners(){return[...this.listeners]}get Events(){return new Proxy(this,{get:(t,e)=>this.events.find(n=>n.slug===e)})}eventExists(t){var n;let e;return typeof t=="string"?e=t:e=((n=t.constructor)==null?void 0:n.slug)??t.slug,!!this.events.find(r=>e===r.slug)}throwIfEventNotRegistered(t){var e;if(!this.eventExists(t)){const n=((e=t.constructor)==null?void 0:e.slug)??t.slug??t;throw new Error(`Event "${n}" not registered`)}}registerEvent(t,e=!1){if(this.eventExists(t)){if(e)return this;throw new Error(`Event "${t.name}" already registered.`)}return this.events.push(t),this}registerEvents(t){return(typeof t=="object"?Object.values(t):t).forEach(n=>this.registerEvent(n,!0)),this}addListener(t){return this.throwIfEventNotRegistered(t.event),this.listeners.push(t),this}createEventListener(t,e,n="async"){const r=typeof t=="string"?this.events.find(o=>o.slug===t):t,i=typeof n=="string"?{mode:n}:n,s=new Mee(r,e,i.mode);i.once&&(s.once=!0),this.addListener(s)}onEvent(t,e,n){this.createEventListener(t,e,n)}on(t,e,n){this.createEventListener(t,e,n)}onAny(t,e){this.events.forEach(n=>this.onEvent(n,t,e))}executeAsyncs(t){var n;(((n=this.options)==null?void 0:n.asyncExecutor)??(r=>Promise.all(r)))(t.map(r=>r())).then(()=>{})}async emit(t){var s,o,a;const e=t.constructor.slug;if(!this.enabled)return console.log("EventManager disabled, not emitting",e),t;if(!this.eventExists(t))throw new Error(`Event "${e}" not registered`);const n=[],r=[];this.listeners=this.listeners.filter(l=>l.event.slug!==e?!0:(l.mode==="sync"?n.push(l):r.push(async()=>await l.handler(t,l.event.slug)),!l.once)),this.executeAsyncs(r);let i=t;for(const l of n)try{const c=await l.handler(i,l.event.slug);if(typeof c<"u"){const u=i.validate(c);if(u&&u.constructor.slug===e){if(!u.returned)throw new Error(`Returned event ${u.constructor.slug} must be marked as returned.`);i=u}}}catch(c){if(c instanceof a0)(o=(s=this.options)==null?void 0:s.onInvalidReturn)==null||o.call(s,i,c),console.warn(`Invalid return of event listener for "${e}": ${c.message}`);else if((a=this.options)!=null&&a.onError)this.options.onError(i,c);else throw c}return i}}}}),zd=F({"src/core/events/index.ts"(){Ree(),F6e()}}),Iee,Za,Dee,cs,Qee,Fee,go=F({"src/data/errors.ts"(){Mn(),Iee=class extends Cn{constructor(){super(...arguments);J(this,"name","UnableToConnectException");J(this,"code",500)}},Za=class extends Cn{constructor(){super(...arguments);J(this,"name","InvalidSearchParamsException");J(this,"code",422)}},Dee=class extends Cn{constructor(){super(...arguments);J(this,"name","TransformRetrieveFailedException");J(this,"code",422)}},cs=class FE extends Cn{constructor(){super(...arguments);J(this,"name","TransformPersistFailedException");J(this,"code",422)}static invalidType(r,i,s){const o=typeof s=="object"?JSON.stringify(s):s,a=`Property "${r}" must be of type "${i}", "${o}" of type "${typeof s}" given.`;return new FE(a)}static required(r){return new FE(`Property "${r}" is required`)}},Qee=class extends Cn{constructor(n,r,i){console.error("InvalidFieldConfigException",{given:r,error:i.firstToString()});super(`Invalid Field config given for field "${n.name}": ${i.firstToString()}`);J(this,"name","InvalidFieldConfigException");J(this,"code",400);this.given=r}},Fee=class extends Cn{constructor(n){var e=(...t)=>(super(...t),J(this,"name","EntityNotDefinedException"),J(this,"code",400),this);e(n?`Entity "${typeof n!="string"?n.name:n}" not defined`:"Cannot find an entity that is undefined")}}}}),n3,r3,i3,s3,o3,a3,Kh,l3,c3,u3,d3,v1,w1=F({"src/data/events/index.ts"(){var t,e,n,r,i,s,o,a,l,c;zd(),n3=(t=class extends kr{validate(u){const{entity:d}=this.params;if(!d.isValidData(u,"create"))throw new a0("EntityData","invalid");return this.clone({entity:d,data:u})}},J(t,"slug","mutator-insert-before"),t),r3=(e=class extends kr{},J(e,"slug","mutator-insert-after"),e),i3=(n=class extends kr{validate(u){const{entity:d,...f}=this.params;if(!d.isValidData(u,"update"))throw new a0("EntityData","invalid");return this.clone({...f,entity:d,data:u})}},J(n,"slug","mutator-update-before"),n),s3=(r=class extends kr{},J(r,"slug","mutator-update-after"),r),o3=(i=class extends kr{},J(i,"slug","mutator-delete-before"),i),a3=(s=class extends kr{},J(s,"slug","mutator-delete-after"),s),Kh={MutatorInsertBefore:n3,MutatorInsertAfter:r3,MutatorUpdateBefore:i3,MutatorUpdateAfter:s3,MutatorDeleteBefore:o3,MutatorDeleteAfter:a3},l3=(o=class extends kr{},J(o,"slug","repository-find-one-before"),o),c3=(a=class extends kr{},J(a,"slug","repository-find-one-after"),a),u3=(l=class extends kr{},J(l,"slug","repository-find-many-before"),J(l,"another","one"),l),d3=(c=class extends kr{},J(c,"slug","repository-find-many-after"),c),v1={RepositoryFindOneBefore:l3,RepositoryFindOneAfter:c3,RepositoryFindManyBefore:u3,RepositoryFindManyAfter:d3}}}),OI,bI=F({"src/data/relations/RelationAccessor.ts"(){OI=class{constructor(t){J(this,"_relations",[]);this._relations=t}get all(){return this._relations}relationsOf(t){return this._relations.filter(e=>e.visibleFrom("source")&&e.source.entity.name===t.name||e.visibleFrom("target")&&e.target.entity.name===t.name)}sourceRelationsOf(t){return this._relations.filter(e=>e.source.entity.name===t.name)}targetRelationsOf(t){return this._relations.filter(e=>e.visibleFrom("target")&&e.target.entity.name===t.name)}listableRelationsOf(t){return this.relationsOf(t).filter(e=>e.isListableFor(t))}relationOf(t,e){return this.relationsOf(t).find(n=>n.source.reference===e||n.target.reference===e)}hasRelations(t){return this.relationsOf(t).length>0}relatedEntitiesOf(t){return this.relationsOf(t).map(e=>e.other(t).entity)}relationReferencesOf(t){return this.relationsOf(t).map(e=>e.other(t).reference)}}}}),f3,h3,p3,cx,ux,Bi,Zi,yo=F({"src/data/fields/Field.ts"(){we(),go(),f3=["create","read","update","delete"],h3=["create","read","update","delete","form","table","submit"],p3=!1,cx=!0,ux=!1,Bi=D.Object({label:D.Optional(D.String()),description:D.Optional(D.String()),required:D.Optional(D.Boolean({default:p3})),fillable:D.Optional(D.Union([D.Boolean({title:"Boolean",default:cx}),D.Array(jt(f3),{title:"Context",uniqueItems:!0})],{default:cx})),hidden:D.Optional(D.Union([D.Boolean({title:"Boolean",default:ux}),D.Array(jt(h3),{title:"Context",uniqueItems:!0})],{default:ux})),virtual:D.Optional(D.Boolean()),default_value:D.Optional(D.Any())},{additionalProperties:!1}),Zi=class{constructor(t,e){J(this,"_required");J(this,"_type");J(this,"name");J(this,"type","field");J(this,"config");this.name=t,this._type,this._required;try{this.config=tr(this.getSchema(),e||{})}catch(n){throw n instanceof Rp?new Qee(this,e,n):n}}getType(){return this.type}useSchemaHelper(t,e){return[this.name,t,n=>e?e(n):n]}hasDefault(){return this.config.default_value!==void 0}getDefault(){var t;return(t=this.config)==null?void 0:t.default_value}isFillable(t){return Array.isArray(this.config.fillable)?t?this.config.fillable.includes(t):cx:!!this.config.fillable}isHidden(t){return Array.isArray(this.config.hidden)?t?this.config.hidden.includes(t):ux:this.config.hidden??!1}isRequired(){var t;return((t=this.config)==null?void 0:t.required)??!1}isVirtual(){return this.config.virtual??!1}getLabel(t){return this.config.label?this.config.label:(t==null?void 0:t.fallback)!==!1?Gh(this.name):void 0}getDescription(){return this.config.description}getValue(t,e){return t}getHtmlConfig(){return{element:"input",props:{type:"text"}}}isValid(t,e){return t?this.isFillable(e):!this.isRequired()}transformRetrieve(t){return t}async transformPersist(t,e,n){if(this.nullish(t)){if(this.isRequired()&&!this.hasDefault())throw cs.required(this.name);return this.getDefault()}return t}toSchemaWrapIfRequired(t){return this.isRequired()?t:D.Optional(t)}nullish(t){return t==null}toJsonSchema(){return this.toSchemaWrapIfRequired(D.Any())}toJSON(){return{type:this.type,config:this.config}}}}}),LE,xI,L6e=F({"src/data/fields/BooleanField.ts"(){we(),go(),yo(),LE=D.Composite([D.Object({default_value:D.Optional(D.Boolean({default:!1}))}),Bi]),xI=class extends Zi{constructor(){super(...arguments);J(this,"type","boolean")}getSchema(){return LE}getValue(e,n){switch(n){case"table":return e?"Yes":"No";default:return e}}schema(){return this.useSchemaHelper("boolean")}getHtmlConfig(){return{...super.getHtmlConfig(),element:"boolean"}}transformRetrieve(e){return typeof e>"u"||e===null?this.isRequired()?!1:this.hasDefault()?this.getDefault():null:typeof e=="string"?e==="1":!!e}async transformPersist(e,n,r){const i=await super.transformPersist(e,n,r);if(this.nullish(i))return this.isRequired()?!!this.config.default_value:void 0;if(typeof i=="number")return i!==0;if(typeof i!="boolean")throw cs.invalidType(this.name,"boolean",i);return i}toJsonSchema(){return this.toSchemaWrapIfRequired(D.Boolean({default:this.getDefault()}))}}}}),qE,l0,q6e=F({"src/data/fields/DateField.ts"(){we(),yo(),qE=D.Composite([D.Object({type:jt(["date","datetime","week"],{default:"date"}),timezone:D.Optional(D.String()),min_date:D.Optional(D.String()),max_date:D.Optional(D.String())}),Bi],{additionalProperties:!1}),l0=class extends Zi{constructor(){super(...arguments);J(this,"type","date")}getSchema(){return qE}schema(){const e=this.config.type==="datetime"?"datetime":"date";return this.useSchemaHelper(e)}getHtmlConfig(){const e=this.config.type==="datetime"?"datetime-local":this.config.type;return{...super.getHtmlConfig(),element:"date",props:{type:e}}}parseDateFromString(e){if(this.config.type==="week"&&e.includes("-W")){const[n,r]=e.split("-W").map(i=>Number.parseInt(i,10));return CC().year(n).week(r).toDate()}return new Date(e)}getValue(e,n){if(e===null||!e)return;const r=this.parseDateFromString(e);if(n==="submit")try{return r.toISOString()}catch{return}if(this.config.type==="week")try{return`${r.getFullYear()}-W${CC(r).week()}`}catch(i){console.warn("error - DateField.getValue:week",e,i);return}try{const s=new Date().getTimezoneOffset(),o=new Date(r.getTime()-s*6e4);return this.formatDate(o)}catch(i){console.warn("DateField.getValue:value",e),console.warn("DateField.getValue:e",i);return}}formatDate(e){switch(this.config.type){case"datetime":return e.toISOString().split(".")[0].replace("T"," ");default:return e.toISOString().split("T")[0]}}transformRetrieve(e){const n=super.transformRetrieve(e);if(n===null)return null;try{return new Date(n)}catch{return null}}async transformPersist(e,n,r){const i=await super.transformPersist(e,n,r);if(this.nullish(i))return i;switch(this.config.type){case"date":case"week":return new Date(i).toISOString().split("T")[0];default:return new Date(i).toISOString()}}toJsonSchema(){return this.toSchemaWrapIfRequired(D.String({default:this.getDefault()}))}}}}),VE,S1,V6e=F({"src/data/fields/EnumField.ts"(){we(),go(),yo(),VE=D.Composite([D.Object({default_value:D.Optional(D.String()),options:D.Optional(D.Union([D.Object({type:qo("strings"),values:D.Array(D.String())},{title:"Strings"}),D.Object({type:qo("objects"),values:D.Array(D.Object({label:D.String(),value:D.String()}))},{title:"Objects",additionalProperties:!1})]))}),Bi],{additionalProperties:!1}),S1=class extends Zi{constructor(e,n){super(e,n);J(this,"type","enum");if(this.config.default_value&&!this.isValidValue(this.config.default_value))throw new Error(`Default value "${this.config.default_value}" is not a valid option`)}getSchema(){return VE}schema(){return this.useSchemaHelper("text")}getOptions(){var n,r;const e=((n=this.config)==null?void 0:n.options)??{type:"strings",values:[]};return e.type==="strings"?(r=e.values)==null?void 0:r.map(i=>({label:i,value:i})):e==null?void 0:e.values}isValidValue(e){return this.getOptions().map(r=>r.value).includes(e)}getValue(e,n){var r;if(!this.isValidValue(e))return this.hasDefault()?this.getDefault():null;switch(n){case"table":return((r=this.getOptions().find(i=>i.value===e))==null?void 0:r.label)??e}return e}transformRetrieve(e){const n=super.transformRetrieve(e);return n===null&&this.hasDefault()?this.getDefault():this.isValidValue(n)?n:this.hasDefault()?this.getDefault():null}async transformPersist(e,n,r){const i=await super.transformPersist(e,n,r);if(this.nullish(i))return i;if(!this.isValidValue(i))throw new cs(`Field "${this.name}" must be one of the following values: ${this.getOptions().map(s=>s.value).join(", ")}`);return i}toJsonSchema(){var r,i;const n=((i=(((r=this.config)==null?void 0:r.options)??{type:"strings",values:[]}).values)==null?void 0:i.map(s=>typeof s=="string"?s:s.value))??[];return this.toSchemaWrapIfRequired(jt(n,{default:this.getDefault()}))}}}}),BE,_1,B6e=F({"src/data/fields/JsonField.ts"(){we(),go(),yo(),BE=D.Composite([Bi,D.Object({})]),_1=class extends Zi{constructor(){super(...arguments);J(this,"type","json")}getSchema(){return BE}schema(){return this.useSchemaHelper("text")}transformRetrieve(e){const n=super.transformRetrieve(e);return n===null&&this.hasDefault()?this.getDefault():this.isSerialized(n)?JSON.parse(n):n}isSerializable(e){try{const n=JSON.stringify(e);if(n===JSON.stringify(JSON.parse(n)))return!0}catch{}return!1}isSerialized(e){try{if(typeof e=="string")return e===JSON.stringify(JSON.parse(e))}catch{}return!1}getValue(e,n){switch(n){case"form":return e===null?"":JSON.stringify(e,null,2);case"table":return e===null?null:JSON.stringify(e);case"submit":return typeof e=="string"&&e.length===0?null:JSON.parse(e)}return e}async transformPersist(e,n,r){const i=await super.transformPersist(e,n,r);if(this.nullish(i))return i;if(!this.isSerializable(i))throw new cs(`Field "${this.name}" must be serializable to JSON.`);return this.isSerialized(i)?i:JSON.stringify(i)}}}}),zE,$1,z6e=F({"src/data/fields/JsonSchemaField.ts"(){we(),go(),yo(),zE=D.Composite([D.Object({schema:D.Object({},{default:{}}),ui_schema:D.Optional(D.Object({})),default_from_schema:D.Optional(D.Boolean())}),Bi],{additionalProperties:!1}),$1=class extends Zi{constructor(e,n){super(e,n);J(this,"type","jsonschema");J(this,"validator");this.validator=new E$e(this.getJsonSchema())}getSchema(){return zE}schema(){return this.useSchemaHelper("text")}getJsonSchema(){var e;return(e=this.config)==null?void 0:e.schema}getJsonUiSchema(){return this.config.ui_schema??{}}isValid(e,n="update"){return super.isValid(e,n)?!this.isRequired()&&(!e||typeof e!="object")?!0:this.validator.validate(e).valid:!1}getValue(e,n){switch(n){case"form":return e===null?"":e;case"table":return e===null?null:e}return e}transformRetrieve(e){const n=super.transformRetrieve(e);if(n===null){if(this.config.default_from_schema)try{return cl(Hh(this.getJsonSchema()),{})}catch{return null}else if(this.hasDefault())return this.getDefault()}return n}async transformPersist(e,n,r){const i=await super.transformPersist(e,n,r);if(this.nullish(i))return i;if(!this.isValid(i))throw new cs(this.name,i);return!i||typeof i!="object"?this.getDefault():JSON.stringify(i)}toJsonSchema(){const e=this.getJsonSchema()??{type:"object"};return this.toSchemaWrapIfRequired(Hh({default:this.getDefault(),...e}))}}}}),WE,k1,W6e=F({"src/data/fields/NumberField.ts"(){we(),go(),yo(),WE=D.Composite([D.Object({default_value:D.Optional(D.Number()),minimum:D.Optional(D.Number()),maximum:D.Optional(D.Number()),exclusiveMinimum:D.Optional(D.Number()),exclusiveMaximum:D.Optional(D.Number()),multipleOf:D.Optional(D.Number())}),Bi],{additionalProperties:!1}),k1=class extends Zi{constructor(){super(...arguments);J(this,"type","number")}getSchema(){return WE}getHtmlConfig(){return{element:"input",props:{type:"number",pattern:"d*",inputMode:"numeric"}}}schema(){return this.useSchemaHelper("integer")}getValue(e,n){if(typeof e>"u"||e===null)return null;switch(n){case"submit":return Number.parseInt(e)}return e}async transformPersist(e,n,r){const i=await super.transformPersist(e,n,r);if(!this.nullish(i)&&typeof i!="number")throw cs.invalidType(this.name,"number",i);if(this.config.maximum&&i>this.config.maximum)throw new cs(`Field "${this.name}" cannot be greater than ${this.config.maximum}`);if(this.config.minimum&&i<this.config.minimum)throw new cs(`Field "${this.name}" cannot be less than ${this.config.minimum}`);return i}toJsonSchema(){var e,n,r,i,s;return this.toSchemaWrapIfRequired(D.Number({default:this.getDefault(),minimum:(e=this.config)==null?void 0:e.minimum,maximum:(n=this.config)==null?void 0:n.maximum,exclusiveMinimum:(r=this.config)==null?void 0:r.exclusiveMinimum,exclusiveMaximum:(i=this.config)==null?void 0:i.exclusiveMaximum,multipleOf:(s=this.config)==null?void 0:s.multipleOf}))}}}}),Lee,Jh,m3=F({"src/data/fields/PrimaryField.ts"(){Mn(),we(),yo(),Lee=D.Composite([D.Omit(Bi,["required"]),D.Object({required:D.Optional(D.Literal(!1))})]),Jh=class extends Zi{constructor(e=dI.data.default_primary_field){super(e,{fillable:!1,required:!1});J(this,"type","primary")}isRequired(){return!1}getSchema(){return Bi}schema(){return this.useSchemaHelper("integer",e=>e.primaryKey().notNull().autoIncrement())}async transformPersist(e){throw new Error("This function should not be called")}toJsonSchema(){return this.toSchemaWrapIfRequired(D.Number({writeOnly:void 0}))}}}}),UE,P1,U6e=F({"src/data/fields/TextField.ts"(){we(),go(),yo(),UE=D.Composite([D.Object({default_value:D.Optional(D.String()),minLength:D.Optional(D.Number()),maxLength:D.Optional(D.Number()),pattern:D.Optional(D.String()),html_config:D.Optional(D.Object({element:D.Optional(D.String({default:"input"})),props:D.Optional(D.Object({},{additionalProperties:D.Union([D.String({title:"String"}),D.Number({title:"Number"})])}))}))}),Bi],{additionalProperties:!1}),P1=class extends Zi{constructor(){super(...arguments);J(this,"type","text")}getSchema(){return UE}schema(){return this.useSchemaHelper("text")}getHtmlConfig(){return this.config.html_config?this.config.html_config:super.getHtmlConfig()}transformRetrieve(e){const n=super.transformRetrieve(e);return this.config.maxLength?n.substring(0,this.config.maxLength):this.isRequired()?n?n.toString():"":n}async transformPersist(e,n,r){let i=await super.transformPersist(e,n,r);if(this.nullish(i))return i;if(i!==null&&typeof i!="string"&&(i=String(i)),this.config.maxLength&&(i==null?void 0:i.length)>this.config.maxLength)throw new cs(`Field "${this.name}" must be at most ${this.config.maxLength} character(s)`);if(this.config.minLength&&(i==null?void 0:i.length)<this.config.minLength)throw new cs(`Field "${this.name}" must be at least ${this.config.minLength} character(s)`);if(this.config.pattern&&i&&!new RegExp(this.config.pattern).test(i))throw new cs(`Field "${this.name}" must match the pattern ${this.config.pattern}`);return i}toJsonSchema(){var e,n,r;return this.toSchemaWrapIfRequired(D.String({default:this.getDefault(),minLength:(e=this.config)==null?void 0:e.minLength,maxLength:(n=this.config)==null?void 0:n.maxLength,pattern:(r=this.config)==null?void 0:r.pattern}))}}}}),g3,ZE,Z6e=F({"src/data/fields/VirtualField.ts"(){we(),yo(),g3=D.Composite([Bi,D.Object({})]),ZE=class extends Zi{constructor(e,n){super(e,{...n,fillable:!1,virtual:!0});J(this,"type","virtual")}getSchema(){return g3}schema(){}toJsonSchema(){return this.toSchemaWrapIfRequired(D.Any({default:this.getDefault(),readOnly:!0}))}}}}),vI,X6e=F({"src/data/fields/indices/EntityIndex.ts"(){yo(),vI=class{constructor(t,e,n=!1,r){var i;if(this.entity=t,this.fields=e,this.unique=n,this.name=r,e.length===0)throw new Error("Indices must contain at least one field");if(e.some(s=>!(s instanceof Zi)))throw new Error("All fields must be instances of Field");if(n&&!((i=e[0])==null?void 0:i.isRequired()))throw new Error(`Unique indices must have first field as required: ${e.map(o=>o.name).join(", ")}`);r||(this.name=[n?"idx_unique":"idx",t.name,...e.map(s=>s.name)].join("_"))}toJSON(){return{entity:this.entity.name,fields:this.fields.map(t=>t.name),unique:this.unique}}}}}),wI,Ip=F({"src/data/fields/index.ts"(){L6e(),q6e(),V6e(),B6e(),z6e(),W6e(),m3(),U6e(),yo(),m3(),Z6e(),X6e(),wI={primary:{schema:Lee,field:Jh},text:{schema:UE,field:P1},number:{schema:WE,field:k1},boolean:{schema:LE,field:xI},date:{schema:qE,field:l0},enum:{schema:VE,field:S1},json:{schema:BE,field:_1},jsonschema:{schema:zE,field:$1}}}}),qee,Vee=F({"src/data/schema/SchemaManager.ts"(){var t;Ip(),qee=(t=class{constructor(n){this.em=n}getIntrospector(){if(!this.em.connection.supportsIndices())throw new Error("Indices are not supported by the current connection");return this.em.connection.getIntrospector()}async introspect(){const n=await this.getIntrospector().getTables({withInternalKyselyTables:!1}),r=await this.getIntrospector().getIndices(),i=[];for(const s of n)t.EXCLUDE_TABLES.includes(s.name)||i.push({...s,indices:r.filter(o=>o.table===s.name)});return i}getIntrospectionFromEntity(n){const r=n.getFields(!1),i=this.em.getIndicesOf(n);return{name:n.name,isView:!1,columns:r.map(s=>({name:s.name,dataType:"TEXT",isNullable:!0,isAutoIncrementing:s instanceof Jh,hasDefaultValue:!1,comment:void 0})),indices:i.map(s=>({name:s.name,table:n.name,isUnique:s.unique,columns:s.fields.map(o=>({name:o.name,order:0}))}))}}async getDiff(){const n=await this.introspect(),r=this.em.entities.map(o=>this.getIntrospectionFromEntity(o)),i=[],s=o=>o.name;n.filter(o=>/bknd/.test(o.name)||o.isView?!1:!r.map(a=>a.name).includes(o.name)).forEach(o=>{i.push({name:o.name,isDrop:!0,isNew:!1,columns:{add:[],drop:[],change:[]},indices:{add:[],drop:[]}})});for(const o of r){const a=n.find(l=>l.name===o.name);if(!a)i.push({name:o.name,isNew:!0,columns:{add:o.columns.map(s),drop:[],change:[]},indices:{add:o.indices.map(s),drop:[]}});else{const l=o.columns.filter(m=>!a.columns.map(s).includes(m.name)),c=a.columns.filter(m=>!o.columns.map(s).includes(m.name)),u=[];for(const m of o.columns){const g=a.columns.find(O=>O.name===m.name),y=[];for(const[O,b]of Object.entries(m))g&&g[O]!==b&&y.push({attribute:O,prev:g[O],next:b});Object.keys(y).length>0&&u.push({name:m.name,changes:y})}const d=o.indices.filter(m=>!a.indices.map(g=>g.name).includes(m.name)),f=a.indices.filter(m=>!o.indices.map(g=>g.name).includes(m.name));[l,c,d,f].some(m=>m.length>0)&&i.push({name:o.name,isNew:!1,columns:{add:l.map(s),drop:c.map(s),change:[]},indices:{add:d.map(s),drop:f.map(s)}})}}return i}collectFieldSchemas(n,r){const i=[];if(r.length===0)return i;for(const s of r){const a=this.em.entity(n).getField(s).schema(this.em);Array.isArray(a)&&a.length===3&&i.push(a)}return i}async sync(n={force:!1,drop:!1}){const r=await this.getDiff(),i=[],s=this.em.connection.kysely.schema;for(const o of r){const a=[];let l=0;const c=this.collectFieldSchemas(o.name,o.columns.add),u=o.columns.drop,d=o.indices.drop;if(o.isDrop)l++,n.drop&&a.push(s.dropTable(o.name));else if(o.isNew){let f=s.createTable(o.name);for(const h of c)l++,f=f.addColumn(...h);a.push(f)}else{if(c.length>0)for(const f of c)l++,a.push(s.alterTable(o.name).addColumn(...f));if(n.drop&&u.length>0)for(const f of u)l++,a.push(s.alterTable(o.name).dropColumn(f))}for(const f of o.indices.add){const m=this.em.getIndicesOf(o.name).find(y=>y.name===f);let g=s.createIndex(f).on(o.name).columns(m.fields.map(y=>y.name));m.unique&&(g=g.unique()),a.push(g),l++}if(n.drop)for(const f of d)a.push(s.dropIndex(f)),l++;if(l!==0)for(const f of a){const{sql:h,parameters:m}=f.compile();if(i.push({sql:h,parameters:m}),n.force)try{await f.execute()}catch(g){throw new Error(`Failed to execute query: ${h}: ${g.message}`)}}}return i}},J(t,"EXCLUDE_TABLES",["libsql_wasm_func_table","sqlite_sequence","_cf_KV"]),t)}}),XE,Bee,$c,zee=F({"src/data/entities/Entity.ts"(){var t,e,n;Mn(),we(),Ip(),XE=D.Object({name:D.Optional(D.String()),name_singular:D.Optional(D.String()),description:D.Optional(D.String()),sort_field:D.Optional(D.String({default:dI.data.default_primary_field})),sort_dir:D.Optional(jt(["asc","desc"],{default:"asc"}))},{additionalProperties:!1}),Bee=["regular","system","generated"],$c=(n=class{constructor(i,s,o,a){Pe(this,t);Pe(this,e);J(this,"name");J(this,"fields");J(this,"config");J(this,"data");J(this,"type","regular");if(typeof i!="string"||i.length===0)throw new Error("Entity name must be a non-empty string");this.name=i,this.config=tr(XE,o||{});const l=(s==null?void 0:s.filter(c=>c instanceof Jh).length)??0;if(l>1)throw new Error(`Entity "${i}" has more than one primary field`);this.fields=l===1?[]:[new Jh],s&&s.forEach(c=>this.addField(c)),a&&(this.type=a)}static create(i){return new n(i.name,i.fields,i.config,i.type)}getType(){return this.type}getSelect(i,s){return this.getFields().filter(o=>!o.isHidden(s??"read")).map(o=>i?`${i}.${o.name} as ${o.name}`:o.name)}getDefaultSort(){return{by:this.config.sort_field??"id",dir:this.config.sort_dir??"asc"}}getAliasedSelectFrom(i,s,o){const a=s??this.name;return this.getFields().filter(l=>!l.isVirtual()&&!l.isHidden(o??"read")&&i.includes(l.name)).map(l=>a?`${a}.${l.name} as ${l.name}`:l.name)}getFillableFields(i,s){return this.getFields(s).filter(o=>o.isFillable(i))}getRequiredFields(){return this.getFields().filter(i=>i.isRequired())}getDefaultObject(){return this.getFields().reduce((i,s)=>(s.hasDefault()&&(i[s.name]=s.getDefault()),i),{})}getField(i){return this.fields.find(s=>s.name===i)}__replaceField(i,s){const o=this.fields.findIndex(a=>a.name===i);if(o===-1)throw new Error(`Field "${i}" not found on entity "${this.name}"`);this.fields[o]=s}getPrimaryField(){return this.fields[0]}id(){return this.getPrimaryField()}get label(){return this.config.name??Gh(this.name)}field(i){return this.getField(i)}getFields(i=!1){return i?this.fields:this.fields.filter(s=>!s.isVirtual())}addField(i){const s=this.getField(i.name);if(s){if(JSON.stringify(s)===JSON.stringify(i))return;throw new Error(`Field "${i.name}" already exists on entity "${this.name}"`)}this.fields.push(i)}__setData(i){this.data=i}isValidData(i,s,o){if(typeof i!="object"&&o!=null&&o.explain)throw new Error(`Entity "${this.name}" data must be an object`);const a=this.getFillableFields(s,!1);if((o==null?void 0:o.ignoreUnknown)!==!0){const l=a.map(d=>d.name),u=Object.keys(i).filter(d=>!l.includes(d));if(u.length>0&&o!=null&&o.explain)throw new Error(`Entity "${this.name}" data must only contain known keys, unknown: "${u}"`)}for(const l of a)if(!l.isValid(i[l.name],s)){if(console.log("Entity.isValidData:invalid",s,l.name,i[l.name]),o!=null&&o.explain)throw new Error(`Field "${l.name}" has invalid data: "${i[l.name]}"`);return!1}return!0}toSchema(i){let s;switch(i==null?void 0:i.context){case"create":case"update":s=this.getFillableFields(i.context);break;default:s=this.getFields(!0)}const o=Object.fromEntries(s.map(l=>[l.name,l])),a=D.Object(Yt(o,l=>{const c=l.isFillable(i==null?void 0:i.context);return{title:l.config.label,$comment:l.config.description,$field:l.type,readOnly:c?void 0:!0,...l.toJsonSchema()}}),{additionalProperties:!1});return i!=null&&i.clean?JSON.parse(JSON.stringify(a)):a}toJSON(){return{type:this.type,fields:Object.fromEntries(this.fields.map(i=>[i.name,i.toJSON()])),config:this.config}}},t=new WeakMap,e=new WeakMap,n)}}),jd,C1=F({"src/data/relations/EntityRelation.ts"(){var t;we(),Dp(),jd=(t=class{constructor(e,n,r={}){J(this,"config");J(this,"source");J(this,"target");J(this,"directions",["source","target"]);this.source=e,this.target=n;const i=this.constructor.schema;this.config=tr(i,r)}getReferenceQuery(e,n,r){return{}}helper(e){return new Zee(this,e)}other(e){const n=typeof e=="string"?e:e.name;if(this.source.entity.name===this.target.entity.name)return this.source.cardinality===1?this.target:this.source;if(this.source.entity.name===n)return this.target;if(this.target.entity.name===n)return this.source;throw new Error(`Entity "${n}" is not part of the relation "${this.source.entity.name} <-> ${this.target.entity.name}"`)}ref(e){return this.source.reference===e?this.source:this.target}otherRef(e){return this.source.reference===e?this.target:this.source}visibleFrom(e){return this.directions.includes(e)}hydrate(e,n,r){const i=typeof e=="string"?e:e.name,s=this.ref(i),o=r.hydrate(s.entity.name,n);if(s.cardinality===1){if(Array.isArray(o)&&o.length>1)throw new Error(`Failed to hydrate "${s.entity.name}" with value: ${JSON.stringify(n)} (cardinality: 1)`);return o[0]}if(!o)throw new Error(`Failed to hydrate "${s.entity.name}" with value: ${JSON.stringify(n)} (cardinality: -)`);return o}isListableFor(e){return this.target.entity.name===e.name}get required(){return!!this.config.required}async $set(e,n,r){throw new Error("$set is not allowed")}async $create(e,n,r){throw new Error("$create is not allowed")}async $attach(e,n,r){throw new Error("$attach is not allowed")}async $detach(e,n,r){throw new Error("$detach is not allowed")}getName(){return[this.type().replace(":",""),this.source.entity.name,this.target.entity.name,this.config.mappedBy,this.config.inversedBy].filter(Boolean).join("_")}toJSON(){return{type:this.type(),source:this.source.entity.name,target:this.target.entity.name,config:this.config}}},J(t,"schema",D.Object({mappedBy:D.Optional(D.String()),inversedBy:D.Optional(D.String()),required:D.Optional(D.Boolean())})),t)}}),Ed,j1=F({"src/data/relations/EntityRelationAnchor.ts"(){Ed=class{constructor(t,e,n){J(this,"entity");J(this,"cardinality");J(this,"reference");this.entity=t,this.cardinality=n,this.reference=e}toJSON(){return{entity:this.entity.name,cardinality:this.cardinality,name:this.reference}}}}}),y3,YE,Ti,SI=F({"src/data/relations/RelationField.ts"(){we(),Ip(),y3=["cascade","set null","set default","restrict","no action"],YE=D.Composite([Bi,D.Object({reference:D.String(),target:D.String(),target_field:D.Optional(D.String({default:"id"})),on_delete:D.Optional(jt(y3,{default:"set null"}))})]),Ti=class Wee extends Zi{constructor(){super(...arguments);J(this,"type","relation")}getSchema(){return YE}static create(n,r,i){const s=[r.reference??r.entity.name,r.entity.getPrimaryField().name].join("_");return new Wee(s,{...i,required:n.required,reference:r.reference,target:r.entity.name,target_field:r.entity.getPrimaryField().name})}reference(){return this.config.reference}target(){return this.config.target}targetField(){return this.config.target_field}schema(){return this.useSchemaHelper("integer",n=>n.references(`${this.config.target}.${this.config.target_field}`).onDelete(this.config.on_delete??"set null"))}transformRetrieve(n){return n}async transformPersist(n,r){throw new Error("This function should not be called")}toJsonSchema(){var n,r;return this.toSchemaWrapIfRequired(D.Number({$ref:`${(n=this.config)==null?void 0:n.target}#/properties/${(r=this.config)==null?void 0:r.target_field}`}))}}}}),Ar,TO=F({"src/data/relations/relation-types.ts"(){Ar={OneToOne:"1:1",ManyToOne:"n:1",ManyToMany:"m:n",Polymorphic:"poly"}}}),ep,Y6e=F({"src/data/relations/ManyToManyRelation.ts"(){var t;we(),NO(),Ip(),C1(),j1(),SI(),TO(),ep=(t=class extends jd{constructor(r,i,s,o){const a=(s==null?void 0:s.connectionTable)||t.defaultConnectionTable(r,i),l=new Ed(r,r.name),c=new Ed(i,i.name);super(l,c,s);J(this,"connectionEntity");J(this,"additionalFields",[]);J(this,"connectionTableMappedName");J(this,"em");this.connectionEntity=new $c(a,o,void 0,"generated"),this.connectionTableMappedName=(s==null?void 0:s.connectionTableMappedName)||a,this.additionalFields=o||[]}static defaultConnectionTable(r,i){return`${r.name}_${i.name}`}type(){return Ar.ManyToMany}isListableFor(){return!0}getField(r){const i=this.connectionEntity,s=i.fields.find(o=>o instanceof Ti&&o.target()===r.name);if(!s||!(s instanceof Ti))throw new Error(`Connection entity "${i.name}" does not have a relation to "${r.name}"`);return s}getQueryInfo(r){const i=this.other(r),s=this.connectionEntity,o=this.getField(r),a=this.getField(i.entity),l=[s.name,`${i.entity.name}.${i.entity.getPrimaryField().name}`,`${s.name}.${a.name}`],c=`${r.name}.${r.getPrimaryField().name}`,u=`${s.name}.${o.name}`,d=`${r.name}.${r.getPrimaryField().name}`;return{other:i,join:l,entityRef:c,otherRef:u,groupBy:d}}getReferenceQuery(r,i){return{where:{[`${this.connectionEntity.name}.${r.name}_${r.getPrimaryField().name}`]:i},join:[this.target.reference]}}buildJoin(r,i){const{other:s,join:o,entityRef:a,otherRef:l,groupBy:c}=this.getQueryInfo(r);return i.innerJoin(s.entity.name,a,l).innerJoin(...o).groupBy(c)}buildWith(r){if(!this.em)throw new Error("EntityManager not set, can't build");const i=this.em.connection.fn.jsonBuildObject;if(!i)throw new Error("Connection does not support jsonBuildObject");const s=5,{other:o,join:a,entityRef:l,otherRef:c}=this.getQueryInfo(r),u=this.connectionEntity.fields.filter(d=>!(d instanceof Ti||d instanceof Jh));return d=>d.selectFrom(o.entity.name).select(f=>{const h=o.entity.getSelect(o.entity.name);if(u.length>0){const m=this.connectionEntity.name;h.push(i(Object.fromEntries(u.map(g=>[g.name,f.ref(`${m}.${g.name}`)]))).as(this.connectionTableMappedName))}return h}).whereRef(l,"=",c).innerJoin(...a).limit(s)}initialize(r){this.em=r,this.connectionEntity.addField(Ti.create(this,this.source)),this.connectionEntity.addField(Ti.create(this,this.target));for(const i of this.additionalFields)this.source.entity.addField(new ZE(this.connectionTableMappedName)),this.target.entity.addField(new ZE(this.connectionTableMappedName));r.addEntity(this.connectionEntity)}getName(){return[super.getName(),[this.connectionEntity.name,this.connectionTableMappedName].filter(Boolean)].join("_")}},J(t,"schema",D.Composite([jd.schema,D.Object({connectionTable:D.Optional(D.String()),connectionTableMappedName:D.Optional(D.String())})],{additionalProperties:!1})),t)}}),Td,Uee=F({"src/data/relations/ManyToOneRelation.ts"(){var t;we(),we(),C1(),j1(),SI(),TO(),Td=(t=class extends jd{constructor(r,i,s={}){const o=s.mappedBy||i.name,a=s.inversedBy||r.name,l=typeof s.sourceCardinality=="number"&&s.sourceCardinality>0?s.sourceCardinality:void 0,c=new Ed(r,a,l),u=new Ed(i,o,1);super(c,u,s);J(this,"fieldConfig");this.fieldConfig=s.fieldConfig??{}}type(){return Ar.ManyToOne}initialize(r){const i=Gh(this.target.reference),s=Ti.create(this,this.target,{label:i,...this.fieldConfig});this.source.entity.field(s.name)||this.source.entity.addField(Ti.create(this,this.target,{label:i,...this.fieldConfig}))}getField(){const r=this.target.entity.getPrimaryField().name,i=this.source.entity.getField(`${this.target.reference}_${r}`);if(!(i instanceof Ti))throw new Error(`Field "${this.target.reference}_${r}" not found on entity "${this.source.entity.name}"`);return i}queryInfo(r,i){const s=this.source.reference===i?"source":"target",o=this[s],a=this[s==="source"?"target":"source"];let l,c,u;s==="source"?(l=this.source.reference,c=`${l}.${this.getField().name}`,u=`${r.name}.${o.entity.getPrimaryField().name}`):(l=this.target.reference,c=`${l}.${r.getPrimaryField().name}`,u=`${r.name}.${this.getField().name}`);const d=`${r.name}.${r.getPrimaryField().name}`;return{other:a,self:o,relationRef:l,entityRef:c,otherRef:u,groupBy:d}}getReferenceQuery(r,i,s){const o=this.source.reference===s?"source":"target",a=this[o],l=this[o==="source"?"target":"source"];return{where:{[`${l.reference}_${l.entity.getPrimaryField().name}`]:i},join:l.entity.name===a.entity.name?[]:[l.entity.name]}}buildJoin(r,i,s){const{self:o,entityRef:a,otherRef:l,groupBy:c}=this.queryInfo(r,s);return i.innerJoin(o.entity.name,a,l).groupBy(c)}buildWith(r,i){const{self:s,entityRef:o,otherRef:a,relationRef:l}=this.queryInfo(r,i);return c=>c.selectFrom(`${s.entity.name} as ${l}`).whereRef(o,"=",a).$if(s.cardinality===1,u=>u.limit(1))}async $set(r,i,s){if(typeof s!="object")throw new Error(`Invalid value for relation field "${i}" given, expected object.`);const o=this.source.entity,l=this.helper(o.name).getMutationInfo();if(!l.$set)throw new Error(`Cannot perform $set for relation "${i}"`);const c=l.local_field,u=this.getField(),d=s[Object.keys(s)[0]];if(!c||!(u instanceof Ti))throw new Error(`Cannot perform $set for relation "${i}"`);if(d===null&&!u.isRequired())return[c,null];if(!(await r.repository(u.target()).exists({[u.targetField()]:d})).exists){const h=u.targetField();throw new Error(`Cannot connect "${o.name}.${i}" to "${u.target()}.${h}" = "${d}": not found.`)}return[c,d]}},J(t,"DEFAULTS",{with_limit:5}),J(t,"schema",D.Composite([jd.schema,D.Object({sourceCardinality:D.Optional(D.Number()),with_limit:D.Optional(D.Number({default:t.DEFAULTS.with_limit})),fieldConfig:D.Optional(D.Object({label:D.String()}))})],{additionalProperties:!1})),t)}}),c0,G6e=F({"src/data/relations/OneToOneRelation.ts"(){Uee(),TO(),c0=class extends Td{constructor(t,e,n){const{mappedBy:r,inversedBy:i,required:s}=n||{};super(t,e,{mappedBy:r,inversedBy:i,sourceCardinality:1,required:s})}type(){return Ar.OneToOne}isListableFor(){return!1}async $set(t,e,n){throw new Error("$set is not allowed")}async $create(t,e,n){if(n===null||typeof n!="object")throw new Error(`Invalid value for relation field "${e}" given, expected object.`);const r=this.other(this.source.entity).entity,s=this.helper(this.source.entity.name).getMutationInfo(),o=s.primary,a=s.local_field;if(!s.$create||!o||!a)throw new Error(`Cannot perform $create for relation "${e}"`);try{const{data:l}=await t.mutator(r).insertOne(n),c=l[o];return[a,c]}catch{throw new Error(`Error performing $create on "${r.name}".`)}}}}}),wy,H6e=F({"src/data/relations/PolymorphicRelation.ts"(){var t;we(),Ip(),C1(),j1(),TO(),wy=(t=class extends jd{constructor(e,n,r={}){const i=r.mappedBy||n.name,s=r.inversedBy||e.name,o=typeof r.targetCardinality=="number"&&r.targetCardinality>0?r.targetCardinality:void 0,a=new Ed(e,s,1),l=new Ed(n,i,o);super(a,l,r),this.directions=["source"]}type(){return Ar.Polymorphic}queryInfo(e){const n=this.other(e),r=`${n.entity.name}.${this.getReferenceField().name}`,i=`${e.name}.${this.config.mappedBy}`,s=`${n.entity.name}.${this.config.mappedBy}`,o=`${e.name}.${e.getPrimaryField().name}`,a=`${n.entity.name}.${this.getEntityIdField().name}`,l=`${e.name}.${e.getPrimaryField().name}`;return{other:n,whereLhs:r,reference:i,reference_other:s,entityRef:o,otherRef:a,groupBy:l}}buildJoin(e,n){const{other:r,whereLhs:i,reference:s,entityRef:o,otherRef:a,groupBy:l}=this.queryInfo(e);return n.innerJoin(r.entity.name,c=>c.onRef(o,"=",a).on(i,"=",s)).groupBy(l)}getReferenceQuery(e,n){const r=this.queryInfo(e);return{where:{[this.getReferenceField().name]:r.reference_other,[this.getEntityIdField().name]:n}}}buildWith(e){const{other:n,whereLhs:r,reference:i,entityRef:s,otherRef:o}=this.queryInfo(e);return a=>a.selectFrom(n.entity.name).where(r,"=",i).whereRef(s,"=",o).$if(n.cardinality===1,l=>l.limit(1))}isListableFor(e){return this.source.entity.name===e.name&&this.target.cardinality!==1}getReferenceField(){return new P1("reference",{hidden:!0,fillable:["create"]})}getEntityIdField(){return new k1("entity_id",{hidden:!0,fillable:["create"]})}initialize(e){const n=this.getReferenceField(),r=this.getEntityIdField();this.target.entity.field(n.name)||this.target.entity.addField(n),this.target.entity.field(r.name)||this.target.entity.addField(r)}},J(t,"schema",D.Composite([jd.schema,D.Object({targetCardinality:D.Optional(D.Number())})],{additionalProperties:!1})),t)}}),GE,Zee,K6e=F({"src/data/relations/RelationHelper.ts"(){Dp(),GE=["$set","$create","$attach","$detach"],Zee=class{constructor(t,e){J(this,"relation");J(this,"access");J(this,"self");J(this,"other");if(this.relation=t,t.source.entity.name===e)this.access="source",this.self=t.source,this.other=t.target;else if(t.target.entity.name===e)this.access="target",this.self=t.target,this.other=t.source;else throw new Error(`Entity "${e}" is not part of the relation "${t.source.entity.name} <-> ${t.target.entity.name}"`)}getMutationInfo(){var r,i;const t={$set:!1,$create:!1,$attach:!1,$detach:!1};let e,n;switch(this.relation.type()){case Ar.ManyToOne:typeof this.self.cardinality>"u"&&this.other.cardinality===1&&(t.$set=!0,e=(r=this.relation.getField())==null?void 0:r.name,n=this.other.entity.getPrimaryField().name);break;case Ar.OneToOne:this.access==="source"&&(t.$create=!0,t.$set=!0,e=(i=this.relation.getField())==null?void 0:i.name,n=this.other.entity.getPrimaryField().name);break;case Ar.ManyToMany:this.access==="source"&&(t.$attach=!0,t.$detach=!0,n=this.other.entity.getPrimaryField().name);break}return{reference:this.other.reference,local_field:e,...t,primary:n,cardinality:this.other.cardinality,relation_type:this.relation.type()}}}}}),Xee,J6e=F({"src/data/relations/RelationMutator.ts"(){Dp(),Xee=class{constructor(t,e){this.entity=t,this.em=e}getRelationalKeys(){const t=[];return this.em.relationsOf(this.entity.name).map(e=>{const n=e.helper(this.entity.name).getMutationInfo();t.push(n.reference),n.local_field&&t.push(n.local_field)}),t}async persistRelationField(t,e,n){if(n===null&&!t.isRequired())return[e,n];if(typeof n=="object")throw console.log("value",n),new Error(`Invalid value for relation field "${e}" given, expected primitive.`);if(!(await this.em.repository(t.target()).exists({[t.targetField()]:n})).exists){const i=t.targetField();throw new Error(`Cannot connect "${this.entity.name}.${e}" to "${t.target()}.${i}" = "${n}": not found.`)}return[e,n]}async persistReference(t,e,n){if(typeof n!="object"||n===null||typeof n>"u")throw new Error(`Invalid value for relation "${e}" given, expected object to persist reference. Like '{$set: {id: 1}}'.`);const r=Object.keys(n)[0];if(!GE.includes(r))throw new Error(`Invalid operation "${r}" for relation "${e}". Allowed: ${GE.join(", ")}`);const i=n[r];return await t[r](this.em,e,i)}async persistRelation(t,e){const n=this.entity.getField(t);if(n instanceof Ti)return this.persistRelationField(n,t,e);const r=this.em.relationOf(this.entity.name,t);if(r)return this.persistReference(r,t,e);throw new Error(`Relation "${t}" failed to resolve on entity "${this.entity.name}": Unable to resolve relation origin.`)}}}}),HE,Yee,Dp=F({"src/data/relations/index.ts"(){Y6e(),Uee(),G6e(),H6e(),TO(),C1(),j1(),K6e(),J6e(),bI(),SI(),HE={[Ar.OneToOne]:{schema:c0.schema,cls:c0},[Ar.ManyToOne]:{schema:Td.schema,cls:Td},[Ar.ManyToMany]:{schema:ep.schema,cls:ep},[Ar.Polymorphic]:{schema:wy.schema,cls:wy}},Yee={relation:{schema:YE,field:Ti}}}}),Ik,O3,b3,Dk,x3,dx,v3,w3,sc,Gee,Hee=F({"src/data/server/data-query-impl.ts"(){we(),NO(),Ik=(t={})=>D.Transform(D.Union([D.Number(),D.String()],t)).Decode(e=>Number.parseInt(String(e))).Encode(String),O3=Ik({default:10}),b3=Ik({default:0}),Dk={by:"id",dir:"asc"},x3=D.Transform(D.Union([D.String(),D.Object({by:D.String(),dir:jt(["asc","desc"])})],{default:Dk})).Decode(t=>{if(typeof t=="string"){if(/^-?[a-zA-Z_][a-zA-Z0-9_.]*$/.test(t)){const e=t[0]==="-"?"desc":"asc";return{by:e==="desc"?t.slice(1):t,dir:e}}else if(/^{.*}$/.test(t))return JSON.parse(t);return Dk}return t}).Encode(t=>t),dx=D.Transform(D.Union([D.String(),D.Array(D.String())],{default:[]})).Decode(t=>Array.isArray(t)?t:t.includes(",")?t.split(","):[t]).Encode(t=>Array.isArray(t)?t:[t]),v3=D.Transform(D.Union([D.String(),D.Object({})],{default:{}})).Decode(t=>{const e=typeof t=="string"?JSON.parse(t):t;return Ka.convert(e)}).Encode(JSON.stringify),w3=t=>D.Transform(D.Union([dx,D.Record(D.String(),t)])).Decode(e=>{let n=typeof e=="string"?[e]:e;if(Array.isArray(e)){if(!e.every(r=>typeof r=="string"))throw new Error("Invalid 'with' schema");n=e.reduce((r,i)=>(r[i]={},r),{})}return n}).Encode(e=>e),sc=D.Recursive(t=>D.Partial(D.Object({limit:O3,offset:b3,sort:x3,select:dx,with:w3(t),join:dx,where:v3},{additionalProperties:!1})),{$id:"query-schema"}),Gee=Rhe(sc,{})}}),KE,tp,E1=F({"src/media/MediaField.ts"(){we(),xr(),KE=D.Composite([D.Object({entity:D.String(),min_items:D.Optional(D.Number()),max_items:D.Optional(D.Number()),mime_types:D.Optional(D.Array(D.String()))}),Bi]),tp=class extends Zi{constructor(e,n){super(e,{...n,fillable:["update"],virtual:!0});J(this,"type","media")}getSchema(){return KE}getMaxItems(){return this.config.max_items}getMinItems(){return this.config.min_items}schema(){}toJsonSchema(){var i,s;const e="../schema.json#/properties/media",n=(i=this.config)==null?void 0:i.min_items,r=(s=this.config)==null?void 0:s.max_items;return r===1?{$ref:e}:{type:"array",items:{$ref:e},minItems:n,maxItems:r}}}}}),u0,Kee,JE,d0,eT,Sy,f0,S3,Jee,Qp=F({"src/data/data-schema.ts"(){we(),xr(),E1(),u0={...wI,...Yee,media:{schema:KE,field:tp}},Kee=HE,JE=jO(u0,(t,e)=>D.Object({type:D.Const(e,{default:e,readOnly:!0}),config:D.Optional(t.schema)},{title:e})),d0=D.Union(Object.values(JE)),eT=Uo(d0),Sy=D.Object({type:D.Optional(D.String({enum:Bee,default:"regular",readOnly:!0})),config:D.Optional(XE),fields:D.Optional(eT)}),f0=Object.entries(HE).map(([t,e])=>D.Object({type:D.Const(t,{default:t,readOnly:!0}),source:D.String(),target:D.String(),config:D.Optional(e.schema)},{title:t})),S3=D.Object({entity:D.String(),fields:D.Array(D.String(),{minItems:1}),unique:D.Optional(D.Boolean({default:!1}))},{additionalProperties:!1}),Jee=D.Object({basepath:D.Optional(D.String({default:"/api/data"})),entities:D.Optional(Uo(Sy,{default:{}})),relations:D.Optional(Uo(D.Union(f0),{default:{}})),indices:D.Optional(Uo(S3,{default:{}}))},{additionalProperties:!1})}});function _I(t,e){const n=Yt(e.fields??{},(r,i)=>{const{type:s}=r;if(!(s in u0))throw new Error(`Field type "${s}" not found`);const{field:o}=u0[s];return new o(i,r.config)});return new $c(t,Object.values(n),e.config,e.type)}function ete(t,e){return new Kee[t.type].cls(e(t.source),e(t.target),t.config)}var eUe=F({"src/data/schema/constructor.ts"(){we(),xr(),Qp()}}),lr={};mo(lr,{databaseSync:()=>ste,entityCreate:()=>nte,entityDelete:()=>ite,entityRead:()=>tte,entityUpdate:()=>rte,rawMutate:()=>ate,rawQuery:()=>ote});var tte,nte,rte,ite,ste,ote,ate,tUe=F({"src/data/permissions/index.ts"(){Mn(),tte=new Zn("data.entity.read"),nte=new Zn("data.entity.create"),rte=new Zn("data.entity.update"),ite=new Zn("data.entity.delete"),ste=new Zn("data.database.sync"),ote=new Zn("data.raw.query"),ate=new Zn("data.raw.mutate")}}),xr=F({"src/data/index.ts"(){w1(),Ip(),NO(),Dp(),Vee(),kI(),Hee(),eUe(),tUe(),{...Kh,...v1}}}),lte,nUe=F({"src/data/entities/Mutator.ts"(){var t;zd(),xr(),go(),w1(),Dp(),lte=(t=class{constructor(n,r,i){J(this,"em");J(this,"entity");J(this,"emgr");J(this,"__unstable_disable_system_entity_creation",!0);this.em=n,this.entity=r,this.emgr=i??new Mp(Kh)}__unstable_toggleSystemEntityCreation(n){this.__unstable_disable_system_entity_creation=n}get conn(){return this.em.connection.kysely}async getValidatedData(n,r){const i=this.entity;if(!r)throw new Error("Context must be provided for validation");const s=Object.keys(n),o={},a=new Xee(i,this.em),l=a.getRelationalKeys();for(const c of s){if(l.includes(c)){const d=await a.persistRelation(c,n[c]);if(Array.isArray(d)){const[f,h]=d;o[f]=h}continue}const u=i.getField(c);if(!u)throw new Error(`Field "${c}" not found on entity "${i.name}". Fields: ${i.getFillableFields().map(d=>d.name).join(", ")}`);if(!u.isFillable(r))throw new Error(`Field "${c}" is not fillable on entity "${i.name}"`);o[c]=await u.transformPersist(n[c],this.em,r)}if(Object.keys(o).length===0)throw new Error(`No data left to update "${i.name}"`);return o}async many(n){const r=this.entity,{sql:i,parameters:s}=n.compile(),o=await n.execute(),a=this.em.hydrate(r.name,o);return{entity:r,sql:i,parameters:[...s],result:o,data:a}}async single(n){const{data:r,...i}=await this.many(n);return{...i,data:r[0]}}async insertOne(n){const r=this.entity;if(r.type==="system"&&this.__unstable_disable_system_entity_creation)throw new Error(`Creation of system entity "${r.name}" is disabled`);const i=await this.emgr.emit(new t.Events.MutatorInsertBefore({entity:r,data:n})),s=i.returned?i.params.data:n,o={...r.getDefaultObject(),...await this.getValidatedData(s,"create")},a=r.getRequiredFields();for(const u of a)if(typeof o[u.name]>"u"||o[u.name]===null)throw new Error(`Field "${u.name}" is required`);const l=this.conn.insertInto(r.name).values(o).returning(r.getSelect()),c=await this.single(l);return await this.emgr.emit(new t.Events.MutatorInsertAfter({entity:r,data:c.data})),c}async updateOne(n,r){const i=this.entity;if(!Number.isInteger(n))throw new Error("ID must be provided for update");const s=await this.emgr.emit(new t.Events.MutatorUpdateBefore({entity:i,entityId:n,data:r})),o=s.returned?s.params.data:r,a=await this.getValidatedData(o,"update"),l=this.conn.updateTable(i.name).set(a).where(i.id().name,"=",n).returning(i.getSelect()),c=await this.single(l);return await this.emgr.emit(new t.Events.MutatorUpdateAfter({entity:i,entityId:n,data:c.data})),c}async deleteOne(n){const r=this.entity;if(!Number.isInteger(n))throw new Error("ID must be provided for deletion");await this.emgr.emit(new t.Events.MutatorDeleteBefore({entity:r,entityId:n}));const i=this.conn.deleteFrom(r.name).where(r.id().name,"=",n).returning(r.getSelect()),s=await this.single(i);return await this.emgr.emit(new t.Events.MutatorDeleteAfter({entity:r,entityId:n,data:s.data})),s}getValidOptions(n){const r=this.entity,i={};if(n!=null&&n.where){const s=Ka.getPropertyNames(n.where).filter(o=>typeof r.getField(o)>"u");if(s.length>0)throw new Za(`Invalid where field(s): ${s.join(", ")}`);i.where=n.where}return i}appendWhere(n,r){const i=this.entity;if(i.name,r){const s=Ka.getPropertyNames(r).filter(o=>typeof i.getField(o)>"u");if(s.length>0)throw new Za(`Invalid where field(s): ${s.join(", ")}`);return Ka.addClause(n,r)}return n}async deleteWhere(n){const r=this.entity,i=this.appendWhere(this.conn.deleteFrom(r.name),n).returning(r.getSelect());return await this.many(i)}async updateWhere(n,r){const i=this.entity,s=await this.getValidatedData(n,"update"),o=this.appendWhere(this.conn.updateTable(i.name),r).set(s).returning(i.getSelect());return await this.many(o)}async insertMany(n){const r=this.entity;if(r.type==="system"&&this.__unstable_disable_system_entity_creation)throw new Error(`Creation of system entity "${r.name}" is disabled`);const i=[];for(const o of n){const a={...r.getDefaultObject(),...await this.getValidatedData(o,"create")},l=r.getRequiredFields();for(const c of l)if(typeof a[c.name]>"u"||a[c.name]===null)throw new Error(`Field "${c.name}" is required`);i.push(a)}const s=this.conn.insertInto(r.name).values(i).returning(r.getSelect());return await this.many(s)}},J(t,"Events",Kh),t)}}),tT,rUe=F({"src/data/entities/query/JoinBuilder.ts"(){Dp(),tT=class cte{static buildClause(e,n,r,i){const s=e.relationOf(r.name,i);if(!s)throw new Error(`Relation "${i}" not found`);return s.buildJoin(r,n,i)}static getJoinedEntityNames(e,n,r){return r.flatMap(i=>{const s=e.relationOf(n.name,i);if(!s)throw new Error(`Relation "${i}" not found`);const o=s.other(n);return s instanceof Td?[o.entity.name]:s instanceof ep?[o.entity.name,s.connectionEntity.name]:[]})}static addClause(e,n,r,i){if(i.length===0)return n;let s=n;for(const o of i)s=cte.buildClause(e,s,r,o);return s}}}}),ute,iUe=F({"src/data/entities/query/Repository.ts"(){var t;zd(),go(),w1(),Hee(),NO(),rUe(),ute=(t=class{constructor(n,r,i){J(this,"em");J(this,"entity");J(this,"emgr");this.em=n,this.entity=r,this.emgr=i??new Mp(Kh)}cloneFor(n){return new t(this.em,this.em.entity(n),this.emgr)}get conn(){return this.em.connection.kysely}getValidOptions(n){const r=this.entity,i={...Ci(Gee),sort:r.getDefaultSort(),select:r.getSelect()};if(!n)return i;if(n.sort){if(!i.select.includes(n.sort.by))throw new Za(`Invalid sort field "${n.sort.by}"`);if(!["asc","desc"].includes(n.sort.dir))throw new Za(`Invalid sort direction "${n.sort.dir}"`);i.sort=n.sort}if(n.select&&n.select.length>0){const s=n.select.filter(o=>!i.select.includes(o));if(s.length>0)throw new Za(`Invalid select field(s): ${s.join(", ")}`).context({entity:r.name,valid:i.select});i.select=n.select}if(n.with&&(nT.validateWiths(this.em,r.name,n.with),i.with=n.with),n.join&&n.join.length>0)for(const s of n.join){if(!this.em.relationOf(r.name,s))throw new Za(`JOIN: "${s}" is not a relation of "${r.name}"`);i.join.push(s)}if(n.where){const s=[r.name];i.join.length>0&&s.push(...tT.getJoinedEntityNames(this.em,r,i.join));const o=Ka.getPropertyNames(n.where).filter(a=>{if(a.includes(".")){const[l,c]=a.split(".");return s.includes(l)?!this.em.entity(l).getField(c):!0}return typeof r.getField(a)>"u"});if(o.length>0)throw new Za(`Invalid where field(s): ${o.join(", ")}`);i.where=n.where}return n.limit&&(i.limit=n.limit),n.offset&&(i.offset=n.offset),i}async performQuery(n){var c,u;const r=this.entity,i=n.compile(),s=performance.now(),o=(d="count")=>this.conn.fn.countAll().as(d),a=n.clearSelect().select(o()).clearLimit().clearOffset().clearGroupBy().clearOrderBy(),l=this.conn.selectFrom(r.name).select(o("total"));try{const[d,f,h]=await this.em.connection.batchQuery([a,l,n]),m=Number.parseFloat((performance.now()-s).toFixed(2)),g=this.em.hydrate(r.name,h);return{entity:r,sql:i.sql,parameters:[...i.parameters],result:h,data:g,meta:{total:((c=f[0])==null?void 0:c.total)??0,count:((u=d[0])==null?void 0:u.count)??0,items:h.length,time:m,query:{sql:i.sql,parameters:i.parameters}}}}catch(d){throw d instanceof Error&&console.error("[ERROR] Repository.performQuery",d.message),d}}async single(n,r){await this.emgr.emit(new t.Events.RepositoryFindOneBefore({entity:this.entity,options:r}));const{data:i,...s}=await this.performQuery(n);return await this.emgr.emit(new t.Events.RepositoryFindOneAfter({entity:this.entity,options:r,data:i[0]})),{...s,data:i[0]}}addOptionsToQueryBuilder(n,r,i){var f,h;const s=this.entity;let o=n??this.conn.selectFrom(s.name);const a=(i==null?void 0:i.validate)!==!1?this.getValidOptions(r):r;if(!a)return o;const l=(i==null?void 0:i.alias)??s.name,c=m=>`${l}.${m}`,u=(i==null?void 0:i.ignore)??[],d={limit:10,offset:0,...i==null?void 0:i.defaults};return!u.includes("select")&&a.select&&(o=o.select(s.getAliasedSelectFrom(a.select,l))),!u.includes("with")&&a.with&&(o=nT.addClause(this.em,o,s,a.with)),!u.includes("join")&&a.join&&(o=tT.addClause(this.em,o,s,a.join)),!u.includes("where")&&a.where&&(o=Ka.addClause(o,a.where)),u.includes("limit")||(o=o.limit(a.limit??d.limit)),u.includes("offset")||(o=o.offset(a.offset??d.offset)),u.includes("sort")||(o=o.orderBy(c(((f=a.sort)==null?void 0:f.by)??"id"),((h=a.sort)==null?void 0:h.dir)??"asc")),o}buildQuery(n,r=[]){const i=this.entity,s=this.getValidOptions(n);return{qb:this.addOptionsToQueryBuilder(void 0,s,{ignore:r,alias:i.name}),options:s}}async findId(n,r){const{qb:i,options:s}=this.buildQuery({...r,where:{[this.entity.getPrimaryField().name]:n},limit:1},["offset","sort"]);return this.single(i,s)}async findOne(n,r){const{qb:i,options:s}=this.buildQuery({...r,where:n,limit:1});return this.single(i,s)}async findMany(n){const{qb:r,options:i}=this.buildQuery(n);await this.emgr.emit(new t.Events.RepositoryFindManyBefore({entity:this.entity,options:i}));const s=await this.performQuery(r);return await this.emgr.emit(new t.Events.RepositoryFindManyAfter({entity:this.entity,options:i,data:s.data})),s}async findManyByReference(n,r,i){const s=this.entity,a=this.em.relations.listableRelationsOf(s).find(d=>d.ref(r).reference===r);if(!a)throw new Error(`Relation "${r}" not found or not listable on entity "${s.name}"`);const l=a.other(s).entity,c=a.getReferenceQuery(l,n,r);if(!("where"in c)||Object.keys(c.where).length===0)throw new Error(`Invalid reference query for "${r}" on entity "${l.name}"`);const u={...i,...c,where:{...c.where,...i==null?void 0:i.where}};return this.cloneFor(l).findMany(u)}async count(n){var c;const r=this.entity,i=this.getValidOptions({where:n}),s=this.conn.fn.count(Ig`*`).as("count");let o=this.conn.selectFrom(r.name).select(s);i.where&&(o=Ka.addClause(o,i.where));const a=o.compile(),l=await o.execute();return{sql:a.sql,parameters:[...a.parameters],result:l,count:((c=l[0])==null?void 0:c.count)??0}}async exists(n){const r=this.entity,i=this.getValidOptions({where:n}),s=this.conn.fn.count(Ig`*`).as("count");let o=this.conn.selectFrom(r.name).select(s);o=Ka.addClause(o,i.where),o=o.limit(1);const a=o.compile(),l=await o.execute();return{sql:a.sql,parameters:[...a.parameters],result:l,exists:l[0].count>0}}},J(t,"Events",v1),t)}});function Is(t){if(typeof t!="string")throw new Error(`Invalid key: ${t}`);return t}var _3,fx,Ka,sUe=F({"src/data/entities/query/WhereBuilder.ts"(){Mn(),_3=[Ms("$eq",t=>Wl(t),(t,e,n)=>n(Is(e),"=",t)),Ms("$ne",t=>Wl(t),(t,e,n)=>n(Is(e),"!=",t)),Ms("$gt",t=>Wl(t),(t,e,n)=>n(Is(e),">",t)),Ms("$gte",t=>Wl(t),(t,e,n)=>n(Is(e),">=",t)),Ms("$lt",t=>Wl(t),(t,e,n)=>n(Is(e),"<",t)),Ms("$lte",t=>Wl(t),(t,e,n)=>n(Is(e),"<=",t)),Ms("$isnull",t=>j6e(t),(t,e,n)=>n(Is(e),t?"is":"is not",null)),Ms("$in",t=>Array.isArray(t),(t,e,n)=>n(Is(e),"in",t)),Ms("$notin",t=>Array.isArray(t),(t,e,n)=>n(Is(e),"not in",t)),Ms("$between",t=>Array.isArray(t)&&t.length===2,(t,e,n)=>n.between(Is(e),t[0],t[1])),Ms("$like",t=>Wl(t),(t,e,n)=>n(Is(e),"like",String(t).replace(/\*/g,"%")))],fx=T6e(_3),Ka=class{static addClause(t,e){return Object.keys(e).length===0?t:t.where(n=>{const r=fx.build(e,{value_is_kv:!0,exp_ctx:n,convert:!0});return r.$or.length>0&&r.$and.length>0?n.and(r.$and).or(n.and(r.$or)):r.$or.length>0?n.or(r.$or):n.and(r.$and)})}static convert(t){return fx.convert(t)}static getPropertyNames(t){const{keys:e}=fx.build(t,{value_is_kv:!0,exp_ctx:()=>null,convert:!0});return Array.from(e)}}}}),nT,oUe=F({"src/data/entities/query/WithBuilder.ts"(){we(),go(),nT=class rT{static addClause(e,n,r,i){if(!i||!ZB(i))return console.warn(`'withs' undefined or invalid, given: ${JSON.stringify(i)}`),n;const s=e.connection.fn;let o=n;for(const[a,l]of Object.entries(i)){const c=e.relationOf(r.name,a);if(!c)throw new Error(`Relation "${r.name}<>${a}" not found`);const u=c.ref(a).cardinality,d=u===1?s.jsonObjectFrom:s.jsonArrayFrom;if(!d)throw new Error("Connection does not support jsonObjectFrom/jsonArrayFrom");const f=c.other(r);o=o.select(h=>{let m=c.buildWith(r,a)(h);return l&&(m=e.repo(f.entity).addOptionsToQueryBuilder(m,l,{ignore:["with","join",u===1?"limit":void 0].filter(Boolean)})),l.with&&(m=rT.addClause(e,m,f.entity,l.with)),d(m).as(f.reference)})}return o}static validateWiths(e,n,r){let i=0;if(!r||!ZB(r))return r&&console.warn(`'withs' invalid, given: ${JSON.stringify(r)}`),i;const s=[];for(const[o,a]of Object.entries(r)){if(!e.relationOf(n,o))throw new Za(`WITH: "${o}" is not a relation of "${n}"`);i++,"with"in a&&s.push(rT.validateWiths(e,o,a.with))}return s.length>0&&(i+=Math.max(...s)),i}}}}),NO=F({"src/data/entities/index.ts"(){zee(),fte(),nUe(),iUe(),sUe(),oUe()}}),dte,fte=F({"src/data/entities/EntityManager.ts"(){var t;zd(),Nee(),go(),w1(),bI(),Vee(),zee(),NO(),dte=(t=class{constructor(n,r,i=[],s=[],o){J(this,"connection");J(this,"_entities",[]);J(this,"_relations",[]);J(this,"_indices",[]);J(this,"_schema");J(this,"emgr");if(n.forEach(a=>this.addEntity(a)),i.forEach(a=>this.addRelation(a)),s.forEach(a=>this.addIndex(a)),!yI.isConnection(r))throw new Iee("");this.connection=r,this.emgr=o??new Mp,this.emgr.registerEvents(t.Events)}fork(){return new t(this._entities,this.connection,this._relations,this._indices)}get entities(){return this._entities}get relations(){return new OI(this._relations)}get indices(){return this._indices}async ping(){return(await Ig`SELECT 1`.execute(this.connection.kysely)).rows.length>0}addEntity(n){const r=this.entities.find(i=>i.name===n.name);if(r){if(JSON.stringify(r)===JSON.stringify(n))return;throw new Error(`Entity "${n.name}" already exists`)}this.entities.push(n)}__replaceEntity(n,r=n.name){const i=this._entities.findIndex(s=>s.name===r);if(i===-1)throw new Error(`Entity "${r}" not found and cannot be replaced`);this._entities[i]=n}entity(n,r){const i=this.entities.find(s=>n instanceof $c?s.name===n.name:s.name===n);if(!i){if(r===!0)return;throw new Fee(n instanceof $c?n.name:n)}return i}hasEntity(n){const r=typeof n=="string"?n:n.name;return this.entities.some(i=>i.name===r)}hasIndex(n){const r=typeof n=="string"?n:n.name;return this.indices.some(i=>i.name===r)}addRelation(n){if(!this.entity(n.source.entity.name)||!this.entity(n.target.entity.name))throw new Error("Relation source or target entity not found");if(this._relations.find(i=>{const s=i.source.entity.name===n.source.entity.name&&i.target.entity.name===n.target.entity.name,o=i.source.reference===n.source.reference&&i.target.reference===n.target.reference;return s&&o}))throw new Error(`Relation "${n.type}" between "${n.source.entity.name}" and "${n.target.entity.name}" already exists`);this._relations.push(n),n.initialize(this)}relationsOf(n){return this.relations.relationsOf(this.entity(n))}relationOf(n,r){return this.relations.relationOf(this.entity(n),r)}hasRelations(n){return this.relations.hasRelations(this.entity(n))}relatedEntitiesOf(n){return this.relations.relatedEntitiesOf(this.entity(n))}relationReferencesOf(n){return this.relations.relationReferencesOf(this.entity(n))}repository(n){return this.repo(n)}repo(n){return new ute(this,this.entity(n),this.emgr)}mutator(n){return new lte(this,this.entity(n),this.emgr)}addIndex(n,r=!1){if(this.indices.find(i=>i.name===n.name)){if(r)throw new Error(`Index "${n.name}" already exists`);return}this._indices.push(n)}getIndicesOf(n){const r=n instanceof $c?n:this.entity(n);return this.indices.filter(i=>i.entity.name===r.name)}schema(){return this._schema||(this._schema=new qee(this)),this._schema}hydrate(n,r){const i=this.entity(n),s=[];for(const o of r){for(let[a,l]of Object.entries(o)){const c=i.getField(a);if(!c||c.isVirtual()){const u=this.relationOf(n,a);if(u){if(!l)continue;l=u.hydrate(a,Array.isArray(l)?l:[l],this),o[a]=l;continue}else if(c!=null&&c.isVirtual())continue;throw new Error(`Field "${a}" not found on entity "${i.name}"`)}try{l===null&&c.hasDefault()&&(o[a]=c.getDefault()),o[a]=c.transformRetrieve(l)}catch(u){throw new Dee(`"${c.type}" field "${a}" on entity "${i.name}": ${u.message}`)}}s.push(o)}return s}toJSON(){return{entities:Object.fromEntries(this.entities.map(n=>[n.name,n.toJSON()])),relations:Object.fromEntries(this.relations.all.map(n=>[n.getName(),n.toJSON()])),indices:Object.fromEntries(this.indices.map(n=>[n.name,n.toJSON()]))}}},J(t,"Events",{...Kh,...v1}),t)}});function Xa(t){return new ga("text",t,!1)}function iT(t){return new ga("number",t,!1)}function sT(t){return new ga("date",{...t,type:"datetime"},!1)}function aUe(t){return new ga("boolean",t,!1)}function oT(t){var r;const n={options:{type:typeof((r=t==null?void 0:t.enum)==null?void 0:r[0])!="string"?"objects":"strings",values:(t==null?void 0:t.enum)??[]}};return new ga("enumm",n,!1)}function lUe(t){return new ga("json",t,!1)}function cUe(t){return new ga("jsonSchema",t,!1)}function uUe(t,e){if(e instanceof ga)return e.make(t);throw new Error("Invalid field")}function $I(t,e,n,r){const i=[];for(const[s,o]of Object.entries(e)){const a=o,l={entity:{name:t,fields:e},field_name:s,config:a.config,is_required:a.is_required};i.push(a.getField(l))}return new $c(t,i,n,r)}function dUe(t){return{manyToOne:(e,n)=>new Td(t,e,n),oneToOne:(e,n)=>new c0(t,e,n),manyToMany:(e,n,r)=>{const i=[];if(r){const s=r,o=[],a=(n==null?void 0:n.connectionTable)??ep.defaultConnectionTable(t,e);for(const[l,c]of Object.entries(r)){const u=c,d={entity:{name:a,fields:s},field_name:l,config:u.config,is_required:u.is_required};o.push(u.getField(d))}i.push(o)}return new ep(t,e,n,i)},polyToOne:(e,n)=>new wy(t,e,{...n,targetCardinality:1}),polyToMany:(e,n)=>new wy(t,e,n)}}function fUe(t){return{on:(e,n)=>{const r=e.map(i=>{const s=t.field(i);if(!s)throw new Error(`Field "${String(i)}" not found on entity "${t.name}"`);return s});return new vI(t,r,n)}}}function hte(t,e){const n=[],r=[],i=a=>new Proxy(dUe(a),{get(l,c){return(...u)=>(n.push(l[c](...u)),i(a))}}),s=a=>new Proxy(fUe(a),{get(l,c){return(...u)=>(r.push(l[c](...u)),s(a))}});e&&e({relation:i,index:s},t);const o=new pte(t,n,r);return{DB:o.__entities,entities:o.__entities,relations:n,indices:r,toJSON:()=>o.toJSON()}}var _m,ga,pte,kI=F({"src/data/prototype/index.ts"(){D6e(),fte(),E1(),xr(),_m={text:t=>new P1(t.field_name,{...t.config,required:t.is_required}),number:t=>new k1(t.field_name,{...t.config,required:t.is_required}),date:t=>new l0(t.field_name,{...t.config,required:t.is_required}),datetime:t=>new l0(t.field_name,{...t.config,required:t.is_required}),boolean:t=>new xI(t.field_name,{...t.config,required:t.is_required}),enumm:t=>new S1(t.field_name,{...t.config,required:t.is_required}),json:t=>new _1(t.field_name,{...t.config,required:t.is_required}),jsonSchema:t=>new $1(t.field_name,{...t.config,required:t.is_required}),media:t=>new tp(t.field_name,{...t.config,entity:t.entity.name,required:t.is_required}),medium:t=>new tp(t.field_name,{...t.config,entity:t.entity.name,required:t.is_required})},ga=class{constructor(t,e,n){this.type=t,this.config=e,this.is_required=n}required(){return this.is_required=!0,this}getField(t){if(!_m[this.type])throw new Error(`Unknown field type: ${this.type}`);try{return _m[this.type](t)}catch(e){throw new Error(`Faild to construct field "${this.type}": ${e}`)}}make(t){if(!_m[this.type])throw new Error(`Unknown field type: ${this.type}`);try{return _m[this.type]({entity:{name:"unknown",fields:{}},field_name:t,config:this.config,is_required:this.is_required})}catch(e){throw new Error(`Faild to construct field "${this.type}": ${e}`)}}},pte=class extends dte{constructor(t,e=[],n=[]){super(Object.values(t),new Aee,e,n),this.__entities=t}}}}),Fp,AO=F({"src/modules/Module.ts"(){var t;Mn(),xr(),xr(),Fp=(t=class{constructor(e,n){J(this,"_built",!1);J(this,"_schema");J(this,"_listener",()=>null);this._ctx=n,this._schema=new ME(this.getSchema(),e,{forceParse:this.useForceParse(),onUpdate:async r=>{await this._listener(r)},restrictPaths:this.getRestrictedPaths(),overwritePaths:this.getOverwritePaths(),onBeforeUpdate:this.onBeforeUpdate.bind(this)})}onBeforeUpdate(e,n){return n}setListener(e){return this._listener=e,this}useForceParse(){return!1}getRestrictedPaths(){}getOverwritePaths(){}get configDefault(){return this._schema.default()}get config(){return this._schema.get()}setContext(e){return this._ctx=e,this}schema(){return this._schema}onServerInit(e){}get ctx(){if(!this._ctx)throw new Error("Context not set");return this._ctx}async build(){throw new Error("Not implemented")}setBuilt(){this._built=!0,this._schema=new ME(this.getSchema(),this.toJSON(!0),{onUpdate:async e=>{await this._listener(e)},forceParse:this.useForceParse(),restrictPaths:this.getRestrictedPaths(),overwritePaths:this.getOverwritePaths(),onBeforeUpdate:this.onBeforeUpdate.bind(this)})}isBuilt(){return this._built}throwIfNotBuilt(){if(!this._built)throw new Error("Config not built: "+this.constructor.name)}toJSON(e){return this.config}ensureEntity(e){const n=this.ctx.em.entity(e.name,!0);if(!n){this.ctx.em.addEntity(e),this.ctx.flags.sync_required=!0;return}for(const r of e.fields){const i=n.field(r.name);i?this.setEntityFieldConfigs(r,i)>0&&(this.ctx.flags.sync_required=!0):(n.addField(r),this.ctx.flags.sync_required=!0)}this.ctx.em.__replaceEntity(new $c(n.name,n.fields,n.config,e.type))}ensureIndex(e){this.ctx.em.hasIndex(e)||(this.ctx.em.addIndex(e),this.ctx.flags.sync_required=!0)}ensureSchema(e){var n;return Object.values(e.entities??{}).forEach(this.ensureEntity.bind(this)),(n=e.indices)==null||n.forEach(this.ensureIndex.bind(this)),e}setEntityFieldConfigs(e,n,r=["hidden","fillable","required"]){let i=0;for(const s of r)QN(n.config[s],e.config[s])||(n.config[s]=e.config[s],i++);return i}replaceEntityField(e,n,r){const i=this.ctx.em.entity(e),s=typeof n=="string"?n:n.name,o=r instanceof ga?uUe(s,r):r;this.setEntityFieldConfigs(i.field(s),o),i.__replaceField(s,o)}},J(t,"ctx_flags",{sync_required:!1,ctx_reload_required:!1}),t)}});function aT(t){const e=t instanceof Request?t:t.req.raw;return new URL(e.url).pathname}function hUe(t,e){if(t.get("auth_skip"))return!0;const n=t.req.raw;if(!e)return!1;const r=aT(n),i=e.some(s=>G9e(r,s));return t.set("auth_skip",i),i}var mte,gte,pUe=F({"src/auth/middlewares.ts"(){we(),mte=t=>i5(async(e,n)=>{const r=e.get("app"),i=r==null?void 0:r.modules.ctx().guard,s=r==null?void 0:r.module.auth.authenticator;let o=hUe(e,t==null?void 0:t.skip)||!(r!=null&&r.module.auth.enabled);e.get("auth_registered")?(o=!0,console.warn(`auth middleware already registered for ${aT(e)}`)):(e.set("auth_registered",!0),o||e.get("auth_resolved")||(r!=null&&r.module.auth.enabled?(i==null||i.setUserContext(await(s==null?void 0:s.resolveAuthFromRequest(e))),e.set("auth_resolved",!0)):i==null||i.setUserContext(void 0))),await n(),o||s==null||s.requestCookieRefresh(e),i==null||i.setUserContext(void 0),s==null||s.resetUser(),e.set("auth_resolved",!1)}),gte=(t,e)=>i5(async(n,r)=>{var s,o;const i=n.get("app");if(!n.get("auth_registered")||!i){const a=`auth middleware not registered, cannot check permissions for ${aT(n)}`;if(i!=null&&i.module.auth.enabled)throw new Error(a);console.warn(a)}else if(!n.get("auth_skip")){const a=i.modules.ctx().guard,l=Array.isArray(t)?t:[t];if(e!=null&&e.onGranted||e!=null&&e.onDenied){let c;if(l.every(u=>a.granted(u))?c=await((s=e==null?void 0:e.onGranted)==null?void 0:s.call(e,n)):c=await((o=e==null?void 0:e.onDenied)==null?void 0:o.call(e,n)),c instanceof Response)return c}else l.some(c=>a.throwUnlessGranted(c))}await r()})}}),yte={};mo(yte,{auth:()=>mte,permission:()=>gte});var mUe=F({"src/modules/middlewares.ts"(){pUe()}}),T1,PI=F({"src/modules/Controller.ts"(){mUe(),T1=class Ote{constructor(){J(this,"middlewares",yte)}create(){return Ote.createServer()}static createServer(){return new Op}getController(){return this.create()}}}}),bte,gUe=F({"src/auth/api/AuthController.ts"(){Cte(),we(),xr(),PI(),bte=class extends T1{constructor(t){super(),this.auth=t}get guard(){return this.auth.ctx.guard}registerStrategyActions(t,e){var u;const n=(u=t.getActions)==null?void 0:u.call(t);if(!n)return;const{auth:r,permission:i}=this.middlewares,s=this.create().use(r()),o=t.getName(),{create:a,change:l}=n,c=this.auth.em;a&&(s.post("/create",i([CI.createUser,lr.entityCreate]),async d=>{var f;try{const h=await this.auth.authenticator.getBody(d),m=tr(a.schema,h,{skipMark:!0}),g=await((f=a.preprocess)==null?void 0:f.call(a,m))??m,y=c.mutator(this.auth.config.entity_name);y.__unstable_toggleSystemEntityCreation(!1);const{data:O}=await y.insertOne({...g,strategy:o});return y.__unstable_toggleSystemEntityCreation(!0),d.json({success:!0,action:"create",strategy:o,data:O})}catch(h){if(h instanceof Rp)return d.json({success:!1,errors:h.errors},400);throw h}}),s.get("create/schema.json",async d=>d.json(a.schema))),e.route(`/${o}/actions`,s)}getController(){const{auth:t}=this.middlewares,e=this.create(),n=this.auth.authenticator.getStrategies();for(const[r,i]of Object.entries(n))e.route(`/${r}`,i.getController(this.auth.authenticator)),this.registerStrategyActions(i,e);return e.get("/me",t(),async r=>this.auth.authenticator.isUserLoggedIn()?r.json({user:this.auth.authenticator.getUser()}):r.json({user:null},403)),e.get("/logout",t(),async r=>{if(await this.auth.authenticator.logout(r),this.auth.authenticator.isJsonRequest(r))return r.json({ok:!0});const i=r.req.header("referer");return i?r.redirect(i):r.redirect("/")}),e.get("/strategies",async r=>{const{strategies:i,basepath:s}=this.auth.toJSON(!1);return r.json({strategies:i,basepath:s})}),e}}}}),xte,yUe=F({"src/auth/authenticate/strategies/oauth/issuers/google.ts"(){xte={type:"oidc",client:{token_endpoint_auth_method:"client_secret_basic"},as:{issuer:"https://accounts.google.com"},profile:async t=>({...t,sub:t.sub,email:t.email})}}}),vte,OUe=F({"src/auth/authenticate/strategies/oauth/issuers/github.ts"(){vte={type:"oauth2",client:{token_endpoint_auth_method:"client_secret_basic"},as:{code_challenge_methods_supported:["S256"],issuer:"https://github.com",scopes_supported:["read:user","user:email"],scope_separator:" ",authorization_endpoint:"https://github.com/login/oauth/authorize",token_endpoint:"https://github.com/login/oauth/access_token",userinfo_endpoint:"https://api.github.com/user"},profile:async(t,e,n)=>{var r;console.log("github info",t,e,n);try{const s=await(await fetch("https://api.github.com/user/emails",{headers:{"User-Agent":"bknd",Accept:"application/json",Authorization:`Bearer ${n.access_token}`}})).json();console.log("data",s);const o=(r=s.find(a=>a.primary))==null?void 0:r.email;if(!o)throw new Error("No primary email found");return{...t,sub:String(t.id),email:o}}catch{throw new Error("Couldn't retrive github email")}}}}}),lT={};mo(lT,{github:()=>vte,google:()=>xte});var wte=F({"src/auth/authenticate/strategies/oauth/issuers/index.ts"(){yUe(),OUe()}}),$3,ff,h0,Ste=F({"src/auth/authenticate/strategies/oauth/OAuthStrategy.ts"(){Mn(),we(),wte(),$3=D.Object({name:jt(Object.keys(lT)),client:D.Object({client_id:D.String(),client_secret:D.String()},{additionalProperties:!1})},{title:"OAuth"}),ff=class extends Cn{constructor(e,n){super("OAuthCallbackException on "+n);J(this,"name","OAuthCallbackException");this.error=e,this.step=n}},h0=class{constructor(t){this._config=t}get config(){return this._config}getIssuerConfig(){return lT[this.config.name]}async getConfig(){const t=this.getIssuerConfig();if(t.type==="oidc"){const e=new URL(t.as.issuer),n=await tke(e);t.as=await nke(e,n)}return{...t,type:t.type,client:{...t.client,...this._config.client}}}async getCodeChallenge(t,e,n="S256"){var o;const r=(o=t.code_challenge_methods_supported)==null?void 0:o.includes(n);let i,s;return r&&(i=await rke(e),s=n),{challenge_supported:r,challenge:i,challenge_method:s}}async request(t){const{client:e,as:n}=await this.getConfig(),{challenge_supported:r,challenge:i,challenge_method:s}=await this.getCodeChallenge(n,t.state);if(!n.authorization_endpoint)throw new Error("authorization_endpoint is not provided");const o=t.scopes??n.scopes_supported;if(!Array.isArray(o)||o.length===0)throw new Error("No scopes provided");if(o.every(c=>{var u;return!((u=n.scopes_supported)!=null&&u.includes(c))}))throw new Error("Invalid scopes provided");const a=n.authorization_endpoint,l={client_id:e.client_id,redirect_uri:t.redirect_uri,response_type:"code",scope:o.join(n.scope_separator??" ")};return r?(l.code_challenge=i,l.code_challenge_method=s):l.nonce=t.state,{url:new URL(a)+"?"+new URLSearchParams(l).toString(),endpoint:a,params:l}}async oidc(t,e){const n=await this.getConfig(),{client:r,as:i,type:s}=n;console.log("callbackParams",t,e);const o=m5(i,r,t,BC);if(Ef(o))throw new ff(o,"validateAuthResponse");const a=await h5(i,r,o,e.redirect_uri,e.state),l=d5(a);if(l){for(const y of l);throw new ff(l,"www-authenticate")}const{challenge_supported:c,challenge:u}=await this.getCodeChallenge(i,e.state),f=await Nke(i,r,a,c?void 0:u);if(Ef(f))throw console.log("callback.error",f),new ff(f,"processAuthorizationCodeOpenIDResponse");const h=y7(f),m=await f5(i,r,f.access_token),g=await wke(i,r,h.sub,m);return await n.profile(g,n,h)}async oauth2(t,e){const n=await this.getConfig(),{client:r,type:i,as:s,profile:o}=n;console.log("config",{client:r,as:s,type:i}),console.log("callbackParams",t,e);const a=m5(s,r,t,BC);if(Ef(a))throw console.log("callback.error",a),new ff(a,"validateAuthResponse");console.log("callback.parameters",JSON.stringify(Object.fromEntries(a.entries()),null,2));const l=await h5(s,r,a,e.redirect_uri,e.state),c=d5(l);if(c){for(const m of c);throw new ff(c,"www-authenticate")}const u=l.clone();let d={};try{if(d=await Ake(s,r,l),Ef(d))throw console.log("error",d),new Error}catch{d=await u.json(),console.log("failed",d)}const f=await f5(s,r,d.access_token),h=await f.json();return console.log("res2",f,h),console.log("result",d),await n.profile(h,n,d)}async callback(t,e){const n=this.getIssuerConfig().type;switch(console.log("type",n),n){case"oidc":return await this.oidc(t,e);case"oauth2":return await this.oauth2(t,e);default:throw new Error("Unsupported type")}}getController(t){const e=new Op,n="secret",r="_challenge",i=async(o,a)=>{console.log("--- setting state",a),await b9(o,r,JSON.stringify(a),n,{secure:!0,httpOnly:!0,sameSite:"Lax",maxAge:60*5})},s=async o=>{if(o.req.header("X-State-Challenge"))return{state:o.req.header("X-State-Challenge"),action:o.req.header("X-State-Action"),mode:"token"};const a=await y9(o,n,r);try{return JSON.parse(a)}catch{throw new Error("Invalid state")}};return e.get("/callback",async o=>{const a=new URL(o.req.url),l=new URLSearchParams(a.search),c=await s(o);console.log("state",c);const u=c.mode==="cookie"?a.origin+a.pathname:a.origin+a.pathname.replace("/callback","/token"),d=await this.callback(l,{redirect_uri:u,state:c.state});try{const f=await t.resolve(c.action,this,d.sub,d);return console.log("******** RESOLVED ********",f),c.mode==="cookie"?await t.respond(o,f,c.redirect):o.json(f)}catch(f){if(c.mode==="cookie")return await t.respond(o,f,c.redirect);throw f}}),e.get("/token",async o=>{const a=new URL(o.req.url),l=new URLSearchParams(a.search);return o.json({code:l.get("code")??null})}),e.post("/:action",async o=>{const a=o.req.param("action");if(!["login","register"].includes(a))return o.notFound();const l=new URL(o.req.url),c=l.pathname.replace(`/${a}`,""),u=l.origin+c+"/callback",d=new URL(o.req.header("Referer")??"/"),f=o5(),h=await this.request({redirect_uri:u,state:f});return await i(o,{state:f,action:a,redirect:d.toString(),mode:"cookie"}),console.log("--redirecting to",h.url),o.redirect(h.url)}),e.get("/:action",async o=>{const a=o.req.param("action");if(!["login","register"].includes(a))return o.notFound();const l=new URL(o.req.url),c=l.pathname.replace(`/${a}`,""),u=l.origin+c+"/token",d=o5(),f=await this.request({redirect_uri:u,state:d});return Np()?o.json({url:f.url,redirect_uri:u,challenge:d,action:a,params:f.params}):o.json({url:f.url,challenge:d,action:a})}),e}getType(){return"oauth"}getMode(){return"external"}getName(){return this.config.name}getSchema(){return $3}toJSON(t){const e=t?this.config:oee(this.config,["secret","client_id"]);return{type:this.getType(),config:{type:this.getIssuerConfig().type,...e}}}}}}),hx,k3,cT,bUe=F({"src/auth/authenticate/strategies/oauth/CustomOAuthStrategy.ts"(){we(),Ste(),hx=D.String({pattern:"^(https?|wss?)://[^\\s/$.?#].[^\\s]*$"}),k3=D.Object({type:jt(["oidc","oauth2"],{default:"oidc"}),name:D.String(),client:D.Object({client_id:D.String(),client_secret:D.String(),token_endpoint_auth_method:jt(["client_secret_basic"])},{additionalProperties:!1}),as:D.Object({issuer:D.String(),code_challenge_methods_supported:D.Optional(jt(["S256"])),scopes_supported:D.Optional(D.Array(D.String())),scope_separator:D.Optional(D.String({default:" "})),authorization_endpoint:D.Optional(hx),token_endpoint:D.Optional(hx),userinfo_endpoint:D.Optional(hx)},{additionalProperties:!1})},{title:"Custom OAuth",additionalProperties:!1}),cT=class extends h0{getIssuerConfig(){return{...this.config,profile:async t=>t}}getSchema(){return k3}getType(){return"custom_oauth"}}}}),Qk,uT,xUe=F({"src/auth/authenticate/strategies/PasswordStrategy.ts"(){we(),we(),gI(),Qk=D.Object({hashing:jt(["plain","sha256"],{default:"sha256"})}),uT=class{constructor(t={}){J(this,"options");this.options=tr(Qk,t)}async hash(t){switch(this.options.hashing){case"sha256":return hee.sha256(t);default:return t}}async login(t){if(!("email"in t)||!("password"in t))throw new Error("Invalid input: Email and password must be provided");const e=await this.hash(t.password);return{...t,password:e}}async register(t){if(!t.email||!t.password)throw new Error("Invalid input: Email and password must be provided");return{...t,password:await this.hash(t.password)}}getController(t){return new Op().post("/login",async n=>{const r=await t.getBody(n);try{const i=await this.login(r),s=await t.resolve("login",this,i.password,i);return await t.respond(n,s)}catch(i){return await t.respond(n,i)}}).post("/register",async n=>{const r=await t.getBody(n),i=await this.register(r),s=await t.resolve("register",this,i.password,i);return await t.respond(n,s)})}getActions(){return{create:I6e(D.Object({email:D.String({pattern:"^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$"}),password:D.String({minLength:8})}),async({password:t,...e})=>({...e,strategy_value:await this.hash(t)}))}}getSchema(){return Qk}getType(){return"password"}getMode(){return"form"}getName(){return"password"}toJSON(t){return{type:this.getType(),config:t?this.options:void 0}}}}}),vUe=F({"src/auth/authenticate/strategies/index.ts"(){bUe(),xUe(),Ste(),wte()}}),P3,dT,C3,j3,E3,fT,hT,_te=F({"src/auth/auth-schema.ts"(){gI(),vUe(),we(),P3={password:{cls:uT,schema:uT.prototype.getSchema()},oauth:{cls:h0,schema:h0.prototype.getSchema()},custom_oauth:{cls:cT,schema:cT.prototype.getSchema()}},dT=P3,C3=jO(dT,(t,e)=>D.Object({type:D.Const(e,{default:e,readOnly:!0}),config:t.schema},{title:e,additionalProperties:!1})),j3=D.Union(Object.values(C3)),E3=D.Object({enabled:D.Optional(D.Boolean({default:!1}))}),fT=D.Object({permissions:D.Optional(D.Array(D.String())),is_default:D.Optional(D.Boolean()),implicit_allow:D.Optional(D.Boolean())},{additionalProperties:!1}),hT=D.Object({enabled:D.Boolean({default:!1}),basepath:D.String({default:"/api/auth"}),entity_name:D.String({default:"users"}),allow_register:D.Optional(D.Boolean({default:!0})),jwt:QE,cookie:DE,strategies:D.Optional(Uo(j3,{title:"Strategies",default:{password:{type:"password",config:{hashing:"sha256"}}}})),guard:D.Optional(E3),roles:D.Optional(Uo(fT,{default:{}}))},{title:"Authentication",additionalProperties:!1})}}),$te,wUe=F({"src/auth/AppAuth.ts"(){var t;Cte(),Mn(),we(),kI(),AO(),gUe(),_te(),$te=(t=class extends Fp{constructor(){super(...arguments);J(this,"_authenticator");J(this,"cache",{});J(this,"_controller")}async onBeforeUpdate(r,i){const s=hT.properties.jwt.properties.secret.default;return!r.enabled&&i.enabled&&i.jwt.secret===s&&(console.warn("No JWT secret provided, generating a random one"),i.jwt.secret=a6e(64)),i}get enabled(){return this.config.enabled}async build(){if(!this.enabled){this.setBuilt();return}const r=Yt(this.config.roles??{},(s,o)=>kte.create({name:o,...s}));this.ctx.guard.setRoles(Object.values(r)),this.ctx.guard.setConfig(this.config.guard??{});const i=Yt(this.config.strategies??{},(s,o)=>{try{return new dT[s.type].cls(s.config)}catch{throw new Error(`Could not build strategy ${String(o)} with config ${JSON.stringify(s.config)}`)}});this._authenticator=new Tee(i,this.resolveUser.bind(this),{jwt:this.config.jwt,cookie:this.config.cookie}),this.registerEntities(),super.setBuilt(),this._controller=new bte(this),this.ctx.server.route(this.config.basepath,this._controller.getController()),this.ctx.guard.registerPermissions(Object.values(CI))}get controller(){if(!this.isBuilt())throw new Error("Can't access controller, AppAuth not built yet");return this._controller}getSchema(){return hT}get authenticator(){return this.throwIfNotBuilt(),this._authenticator}get em(){return this.ctx.em}async resolveUser(r,i,s,o){if(!this.config.allow_register&&r==="register")throw new Cn("Registration is not allowed",403);const a=this.getUsersEntity().getFillableFields("create").map(c=>c.name),l=Object.fromEntries(Object.entries(o).filter(([c])=>a.includes(c)));switch(r){case"login":return this.login(i,s,l);case"register":return this.register(i,s,l)}}filterUserData(r){return R9(r,this.config.jwt.fields)}async login(r,i,s){if(!("email"in s))throw new Cn("Profile must have email");if(typeof i!="string"||i.length===0)throw new Cn("Identifier must be a string");const o=this.getUsersEntity();this.toggleStrategyValueVisibility(!0);const a=await this.em.repo(o).findOne({email:s.email});if(this.toggleStrategyValueVisibility(!1),!a.data)throw new Cn("User not found",404);if(a.data.strategy!==r.getName())throw new Cn("User registered with different strategy");if(a.data.strategy_value!==i)throw new Cn("Invalid credentials");return this.filterUserData(a.data)}async register(r,i,s){if(!("email"in s))throw new Cn("Profile must have an email");if(typeof i!="string"||i.length===0)throw new Cn("Identifier must be a string");const o=this.getUsersEntity(),{data:a}=await this.em.repo(o).findOne({email:s.email});if(a)throw new Cn("User already exists");const l={...s,strategy:r.getName(),strategy_value:i},c=this.em.mutator(o);c.__unstable_toggleSystemEntityCreation(!1),this.toggleStrategyValueVisibility(!0);const u=await c.insertOne(l);if(c.__unstable_toggleSystemEntityCreation(!0),this.toggleStrategyValueVisibility(!1),!u.data)throw new Error("Could not create user");return this.filterUserData(u.data)}toggleStrategyValueVisibility(r){const i=(s,o)=>{const a=this.getUsersEntity().field(s);if(o)a.config.hidden=!1,a.config.fillable=!0;else{const l=t.usersFields.strategy_value.config;a.config.hidden=l.hidden,a.config.fillable=l.fillable}};i("strategy_value",r),i("strategy",r)}getUsersEntity(r){const i=this.config.entity_name;return r||!this.em.hasEntity(i)?$I(i,t.usersFields,void 0,"system"):this.em.entity(i)}registerEntities(){const r=this.getUsersEntity(!0);this.ensureSchema(hte({[r.name]:r},({index:i},{users:s})=>{i(s).on(["email"],!0).on(["strategy"]).on(["strategy_value"])}));try{const i=Object.keys(this.config.roles??{});this.replaceEntityField(r,"role",oT({enum:i}))}catch{}try{const i=Object.keys(this.config.strategies??{});this.replaceEntityField(r,"strategy",oT({enum:i}))}catch{}}async createUser({email:r,password:i,...s}){if(!this.enabled)throw new Error("Cannot create user, auth not enabled");const o="password",l=await this.authenticator.strategy(o).hash(i),c=this.em.mutator(this.config.entity_name);c.__unstable_toggleSystemEntityCreation(!1);const{data:u}=await c.insertOne({...s,email:r,strategy:o,strategy_value:l});return c.__unstable_toggleSystemEntityCreation(!0),u}toJSON(r){return this.config.enabled?{...this.config,...this.authenticator.toJSON(r)}:this.configDefault}},J(t,"usersFields",{email:Xa().required(),strategy:Xa({fillable:["create"],hidden:["update","form"]}).required(),strategy_value:Xa({fillable:["create"],hidden:["read","table","update","form"]}).required(),role:Xa()}),t)}}),Fk,kte,SUe=F({"src/auth/authorize/Role.ts"(){Mn(),Fk=class{constructor(t,e){this.permission=t,this.config=e}},kte=class pT{constructor(e,n=[],r=!1,i=!1){this.name=e,this.permissions=n,this.is_default=r,this.implicit_allow=i}static createWithPermissionNames(e,n,r=!1,i=!1){return new pT(e,n.map(s=>new Fk(new Zn(s))),r,i)}static create(e){var n;return new pT(e.name,((n=e.permissions)==null?void 0:n.map(r=>new Fk(new Zn(r))))??[],e.is_default,e.implicit_allow)}}}}),CI={};mo(CI,{createUser:()=>Pte});var Pte,_Ue=F({"src/auth/auth-permissions.ts"(){Mn(),Pte=new Zn("auth.user.create")}}),Cte=F({"src/auth/index.ts"(){gI(),SUe(),_Ue()}}),Lk,jte,$Ue=F({"src/modules/migrations.ts"(){var t;Lk=[{version:1,up:async e=>e},{version:2,up:async(e,{db:n})=>e},{version:3,up:async e=>e},{version:4,up:async(e,{db:n})=>({...e,auth:{...e.auth,basepath:"/api/auth2"}})},{version:5,up:async(e,{db:n})=>{var i;const r=((i=e.server.cors)==null?void 0:i.allow_methods)??[];return Qm(e.server,"cors.allow_methods",[...new Set([...r,"PATCH"])]),e}},{version:6,up:async(e,{db:n})=>e},{version:7,up:async(e,{db:n})=>{const{expiresIn:r,...i}=e.auth.jwt;return{...e,auth:{...e.auth,jwt:i}}}}],(t=Lk[Lk.length-1])==null||t.version,jte="__bknd"}}),Ete,kUe=F({"src/modules/permissions/index.ts"(){Mn(),new Zn("system.access.admin"),Ete=new Zn("system.access.api"),new Zn("system.config.read"),new Zn("system.config.read.secrets"),new Zn("system.config.write"),new Zn("system.schema.read"),new Zn("system.build")}}),qk,T3,Tte,PUe=F({"src/modules/server/AppServer.ts"(){Mn(),we(),AO(),qk=["GET","POST","PATCH","PUT","DELETE"],T3=D.Object({admin:D.Object({basepath:D.Optional(D.String({default:"",pattern:"^(/.+)?$"})),color_scheme:D.Optional(jt(["dark","light"],{default:"light"})),logo_return_path:D.Optional(D.String({default:"/",description:"Path to return to after *clicking* the logo"}))},{default:{},additionalProperties:!1}),cors:D.Object({origin:D.String({default:"*"}),allow_methods:D.Array(jt(qk),{default:qk,uniqueItems:!0}),allow_headers:D.Array(D.String(),{default:["Content-Type","Content-Length","Authorization","Accept"]})},{default:{},additionalProperties:!1})},{additionalProperties:!1}),Tte=class extends Fp{getRestrictedPaths(){return[]}get client(){return this.ctx.server}getSchema(){return T3}async build(){this.client.use("*",Qke({origin:this.config.cors.origin,allowMethods:this.config.cors.allow_methods,allowHeaders:this.config.cors.allow_headers})),this.client.use("/",async(t,e)=>{await e(),(!t.finalized||t.res.status===404)&&new URL(t.req.url).pathname==="/"&&(t.res=void 0,t.res=Response.json({bknd:"hello world!"}))}),this.client.onError((t,e)=>(console.error(t),t instanceof Response?t:t instanceof Cn?(console.log("---is exception",t.code),e.json(t.toJSON(),t.code)):e.json({error:t.message},500))),this.setBuilt()}toJSON(t){return this.config}}}}),Nte,CUe=F({"src/data/api/DataController.ts"(){Mn(),we(),xr(),PI(),kUe(),Nte=class extends T1{constructor(t,e){super(),this.ctx=t,this.config=e}get em(){return this.ctx.em}get guard(){return this.ctx.guard}repoResult(t){let e={};if("meta"in t){const{query:r,...i}=t.meta;e=i,Np()&&(e.query=r)}const n={data:t.data,meta:e};return Object.fromEntries(Object.entries(n).filter(([r,i])=>typeof i<"u"&&i!==null))}mutatorResult(t){const e={data:t.data};return Object.fromEntries(Object.entries(e).filter(([n,r])=>r!==void 0))}entityExists(t){try{return!!this.em.entity(t)}catch{return!1}}getController(){const{permission:t,auth:e}=this.middlewares,n=this.create().use(e(),t(Ete)),r=this.em.entities.map(o=>o.name),i=D.Transform(D.String({pattern:"^[1-9][0-9]{0,}$"})).Decode(Number.parseInt).Encode(String);function s(o,a){const l=a;return l.description=o,l}return n.get("/",s("data info",o=>o.json(this.em.toJSON()))),n.get("/sync",t(lr.databaseSync),async o=>{const a=o.req.query("force")==="1",l=o.req.query("drop")==="1",c=await this.em.schema().introspect(),u=await this.em.schema().sync({force:a,drop:l});return o.json({tables:c.map(d=>d.name),changes:u})}),n.post("/:entity/fn/count",t(lr.entityRead),ar("param",D.Object({entity:D.String()})),async o=>{const{entity:a}=o.req.valid("param");if(!this.entityExists(a))return o.notFound();const l=o.req.json(),c=await this.em.repository(a).count(l);return o.json({entity:a,count:c.count})}).post("/:entity/fn/exists",t(lr.entityRead),ar("param",D.Object({entity:D.String()})),async o=>{const{entity:a}=o.req.valid("param");if(!this.entityExists(a))return o.notFound();const l=o.req.json(),c=await this.em.repository(a).exists(l);return o.json({entity:a,exists:c.exists})}),n.get("/schema.json",t(lr.entityRead),async o=>{const a=`${this.config.basepath}/schema.json`,l=Object.fromEntries(this.em.entities.map(c=>[c.name,{$ref:`${this.config.basepath}/schemas/${c.name}`}]));return o.json({$schema:"https://json-schema.org/draft/2020-12/schema",$id:a,properties:l})}).get("/schemas/:entity/:context?",t(lr.entityRead),ar("param",D.Object({entity:D.String(),context:D.Optional(jt(["create","update"]))})),async o=>{const{entity:a,context:l}=o.req.param();if(!this.entityExists(a))return console.log("not found",a,r),o.notFound();const c=this.em.entity(a),u=c.toSchema({context:l}),f=`${new URL(o.req.url).origin}${this.config.basepath}`,h=`${this.config.basepath}/schemas/${a}`;return o.json({$schema:`${f}/schema.json`,$id:h,title:c.label,$comment:c.config.description,...u})}).get("/:entity",t(lr.entityRead),ar("param",D.Object({entity:D.String()})),ar("query",sc),async o=>{const{entity:a}=o.req.param();if(!this.entityExists(a))return console.log("not found",a,r),o.notFound();const l=o.req.valid("query"),c=await this.em.repository(a).findMany(l);return o.json(this.repoResult(c),{status:c.data?200:404})}).get("/:entity/:id",t(lr.entityRead),ar("param",D.Object({entity:D.String(),id:i})),ar("query",sc),async o=>{const{entity:a,id:l}=o.req.param();if(!this.entityExists(a))return o.notFound();const c=o.req.valid("query"),u=await this.em.repository(a).findId(Number(l),c);return o.json(this.repoResult(u),{status:u.data?200:404})}).get("/:entity/:id/:reference",t(lr.entityRead),ar("param",D.Object({entity:D.String(),id:i,reference:D.String()})),ar("query",sc),async o=>{const{entity:a,id:l,reference:c}=o.req.param();if(!this.entityExists(a))return o.notFound();const u=o.req.valid("query"),d=await this.em.repository(a).findManyByReference(Number(l),c,u);return o.json(this.repoResult(d),{status:d.data?200:404})}).post("/:entity/query",t(lr.entityRead),ar("param",D.Object({entity:D.String()})),ar("json",sc),async o=>{const{entity:a}=o.req.param();if(!this.entityExists(a))return o.notFound();const l=await o.req.valid("json"),c=await this.em.repository(a).findMany(l);return o.json(this.repoResult(c),{status:c.data?200:404})}),n.post("/:entity",t(lr.entityCreate),ar("param",D.Object({entity:D.String()})),async o=>{const{entity:a}=o.req.param();if(!this.entityExists(a))return o.notFound();const l=await o.req.json(),c=await this.em.mutator(a).insertOne(l);return o.json(this.mutatorResult(c),201)}).patch("/:entity/:id",t(lr.entityUpdate),ar("param",D.Object({entity:D.String(),id:i})),async o=>{const{entity:a,id:l}=o.req.param();if(!this.entityExists(a))return o.notFound();const c=await o.req.json(),u=await this.em.mutator(a).updateOne(Number(l),c);return o.json(this.mutatorResult(u))}).delete("/:entity/:id",t(lr.entityDelete),ar("param",D.Object({entity:D.String(),id:i})),async o=>{this.guard.throwUnlessGranted(lr.entityDelete);const{entity:a,id:l}=o.req.param();if(!this.entityExists(a))return o.notFound();const c=await this.em.mutator(a).deleteOne(Number(l));return o.json(this.mutatorResult(c))}).delete("/:entity",t(lr.entityDelete),ar("param",D.Object({entity:D.String()})),ar("json",sc.properties.where),async o=>{const{entity:a}=o.req.param();if(!this.entityExists(a))return o.notFound();const l=o.req.valid("json"),c=await this.em.mutator(a).deleteWhere(l);return o.json(this.mutatorResult(c))}),n}}}}),Ate,jUe=F({"src/data/AppData.ts"(){we(),xr(),AO(),CUe(),Qp(),Ate=class extends Fp{async build(){const t=Yt(this.config.entities??{},(i,s)=>_I(s,i)),e=i=>{const s=typeof i=="string"?i:i.name,o=t[s];if(o)return o;throw new Error(`Entity "${s}" not found`)},n=Yt(this.config.relations??{},i=>ete(i,e)),r=Yt(this.config.indices??{},(i,s)=>{const o=e(i.entity),a=i.fields.map(l=>o.field(l));return new vI(o,a,i.unique,s)});for(const i of Object.values(t))this.ctx.em.addEntity(i);for(const i of Object.values(n))this.ctx.em.addRelation(i);for(const i of Object.values(r))this.ctx.em.addIndex(i);this.ctx.server.route(this.basepath,new Nte(this.ctx,this.config).getController()),this.ctx.guard.registerPermissions(Object.values(lr)),this.setBuilt()}getSchema(){return Jee}get em(){return this.throwIfNotBuilt(),this.ctx.em}get basepath(){return this.config.basepath??"/api/data"}getOverwritePaths(){return[/^entities\..*\.config$/,/^entities\..*\.fields\..*\.config$/]}toJSON(t){return{...this.config,...this.em.toJSON()}}}}});function Xm(t,e){const n=s=>{if(typeof s=="string")switch(t.type){case"object":case"array":return JSON.parse(s);case"number":return Number.parseInt(s);case"boolean":return s==="true"||s==="1"}return s},r=s=>typeof s=="string"?e?e(s):n(s):s,i=t.title??t.type?bs(t.type):"Raw";return D.Transform(D.Union([{title:i,...t},D.String({title:"Template"})])).Decode(r).Encode(s=>s)}var RO,N1=F({"src/flows/tasks/Task.tsx"(){var t;Mn(),we(),RO=(t=class{constructor(n,r){J(this,"name");J(this,"_params");if(typeof n!="string")throw new Error(`Task name must be a string, got ${typeof n}`);this.name=n;const i=this.constructor.schema;if(i===t.schema&&typeof r<"u"&&Object.keys(r).length>0)throw new Error(`Task "${n}" has no schema defined but params passed: ${JSON.stringify(r)}`);this._params=tr(i,r||{})}get params(){return this._params}clone(n,r){return new this.constructor(n,r)}static async resolveParams(n,r,i={}){const s={},o=new AE(i,{strictVariables:!0,renderKeys:!0});for(const[l,c]of Object.entries(r)){if(c&&AE.hasMarkup(c)){try{s[l]=await o.render(c)}catch(u){throw u instanceof If?u:new If("Failed to resolve param",{key:l,value:c,error:u.message},"resolve-params")}continue}s[l]=c}return L9(n,s)}async cloneWithResolvedParams(n){const r=Object.fromEntries(n.entries()),i=await t.resolveParams(this.constructor.schema,this._params,r);return this.clone(this.name,i)}async run(n=new Map){const r=new Date;let i,s,o,a;const l=performance.now();try{const c=await this.cloneWithResolvedParams(n);a=c.params,i=await c.execute(n),o=!0}catch(c){o=!1,c instanceof If?s=c.toJSON():s={type:"unknown",message:c.message}}return{start:r,output:i,error:s,success:o,params:a,time:performance.now()-l}}error(n,r){return new If(n,r,"runtime")}get label(){return this.name}toJSON(){return{type:this.type,params:this.params}}},J(t,"schema",D.Object({})),t)}}),px,A1,EUe=F({"src/flows/tasks/presets/FetchTask.ts"(){var t;we(),N1(),px=["GET","POST","PUT","PATCH","DELETE"],A1=(t=class extends RO{constructor(){super(...arguments);J(this,"type","fetch")}getBody(){const n=this.params.body;if(n){if(typeof n=="string")return n;if(typeof n=="object")return JSON.stringify(n);throw new Error(`Invalid body type: ${typeof n}`)}}async execute(){var o;if(!px.includes(this.params.method??"GET"))throw this.error("Invalid method",{given:this.params.method,valid:px});const n=this.getBody(),r=new Headers((o=this.params.headers)==null?void 0:o.map(a=>[a.key,a.value])),i=await fetch(this.params.url,{method:this.params.method??"GET",headers:r,body:n});if(!i.ok)throw this.error("Failed to fetch",{status:i.status,statusText:i.statusText});return await i.json()}},J(t,"schema",D.Object({url:D.String({pattern:"^(http|https)://"}),method:D.Optional(Xm(jt(px,{default:"GET"}))),headers:D.Optional(Xm(D.Array(D.Object({key:D.String(),value:D.String()})),JSON.parse)),body:D.Optional(Xm(D.String())),normal:D.Optional(Xm(D.Number(),Number.parseInt))})),t)}}),Rte,TUe=F({"src/flows/tasks/presets/LogTask.ts"(){var t;we(),N1(),Rte=(t=class extends RO{constructor(){super(...arguments);J(this,"type","log")}async execute(){return await new Promise(n=>setTimeout(n,this.params.delay)),console.log(`[DONE] LogTask: ${this.name}`),!0}},J(t,"schema",D.Object({delay:D.Number({default:10})})),t)}}),Mte,NUe=F({"src/flows/tasks/presets/RenderTask.ts"(){var t;we(),N1(),Mte=(t=class extends RO{constructor(){super(...arguments);J(this,"type","render")}async execute(){return this.params.render}},J(t,"schema",D.Object({render:D.String()})),t)}}),jI,pv,Ite=F({"src/flows/tasks/TaskConnection.ts"(){we(),jI=class{constructor(t,e,n,r){J(this,"source");J(this,"target");J(this,"config");J(this,"id");this.source=t,this.target=e,this.config=n??{},this.config.condition instanceof pv||(this.config.condition=pv.default()),this.id=r??c6e()}get condition(){return this.config.condition}get max_retries(){return this.config.max_retries??0}toJSON(){var t;return vy({source:this.source.name,target:this.target.name,config:{...this.config,condition:(t=this.config.condition)==null?void 0:t.toJSON()}})}},pv=class $u{constructor(e,n="",r=void 0){this.type=e,this.path=n,this.value=r}static default(){return $u.success()}static success(){return new $u("success")}static error(){return new $u("error")}static matches(e,n){if(typeof e!="string"||e.length===0)throw new Error("Invalid path");return new $u("matches",e,n)}isMet(e){switch(this.type){case"success":return e.success;case"error":return e.success===!1;case"matches":return $g(e.output,this.path)===this.value}}sameAs(e=$u.default()){return this.type===e.type&&this.path===e.path&&this.value===e.value}toJSON(){return{type:this.type,path:this.path.length===0?void 0:this.path,value:this.value}}static fromObject(e){return new $u(e.type,e.path,e.value)}}}}),mx,gx,Dte,AUe=F({"src/flows/flows/Execution.ts"(){var t,e,n;zd(),mx=(t=class extends kr{task(){return this.params.task}getState(){return this.succeeded()?"success":this.failed()?"failed":this.isStart()?"running":"idle"}isStart(){return this.params.end===void 0}isEnd(){return!this.isStart()}succeeded(){var r;return this.isEnd()&&((r=this.params.result)==null?void 0:r.success)}failed(){var r;return this.isEnd()&&!((r=this.params.result)!=null&&r.success)}},J(t,"slug","flow-execution-event"),t),gx=(e=class extends kr{},J(e,"slug","flow-execution-state"),e),Dte=(n=class{constructor(i){J(this,"flow");J(this,"started_at");J(this,"finished_at");J(this,"logs",[]);J(this,"inputs",new Map);J(this,"queue",[]);J(this,"emgr");this.flow=i,this.logs=[],this.queue=[this.flow.startTask],this.emgr=new Mp(n.Events)}subscribe(i){this.emgr.onAny(i)}async onDone(i,s){const o=new Date;if(this.logs.push({...s,task:i,end:o}),this.inputs.set(i.name,s),this.flow.respondingTask===i){this.queue=[];return}this.queue=this.queue.filter(l=>l!==i);const a=this.flow.task(i).getOutConnections(s).filter(l=>{var f;const c=l.target,u=this.logs.filter(h=>h.task===c&&h.success).length,d=((f=this.flow.task(c).getInConnections().find(h=>h.source===i))==null?void 0:f.max_retries)??0;if(u>d)throw new Error(`Task "${c.name}" reached max retries (${u}/${d})`);return this.flow.task(c).getInTasks(!0).every(h=>this.logs.some(m=>m.task===h&&m.end!==void 0))}).map(l=>l.target);this.queue.push(...a)}__getLastTaskLog(i){var s;for(let o=this.logs.length-1;o>=0;o--)if(((s=this.logs[o])==null?void 0:s.task)===i)return this.logs[o];return null}async run(){const i=this.queue;if(i.length===0)return;const s=i.map(async o=>{await this.emgr.emit(new mx({task:o}));const a=await o.run(this.inputs);return await this.emgr.emit(new mx({task:o,result:a,end:new Date})),await this.onDone(o,a),a});try{return await Promise.all(s),this.run()}catch(o){throw console.log("RuntimeExecutor: error",o),o}}async start(i){await this.emgr.emit(new gx({execution:this,state:"started"})),this.inputs.set("flow",{start:new Date,output:i,error:void 0,success:!0,params:i}),this.started_at=new Date,await this.run(),this.finished_at=new Date,await this.emgr.emit(new gx({execution:this,state:"ended"}))}finished(){return this.finished_at!==void 0}errorCount(){return this.logs.filter(i=>!i.success).length}hasErrors(){return this.errorCount()>0}getErrorLogs(){return this.logs.filter(i=>!i.success)}getErrors(){return this.getErrorLogs().map(i=>i.error)}getResponse(){let i=this.flow.respondingTask;i||(i=this.flow.tasks[this.flow.tasks.length-1]);const s=this.__getLastTaskLog(i);if(s)return s.output}},J(n,"Events",{ExecutionEvent:mx,ExecutionState:gx}),n)}}),Qte,RUe=F({"src/flows/flows/FlowTaskConnector.ts"(){Ite(),Qte=class Fte{constructor(e,n){J(this,"flow");J(this,"source");this.flow=e,this.source=n}task(e){return new Fte(this.flow,e)}asInputFor(e,n,r){const i=this.getDepth(),s=this.getOutConnections(),o=s.map(l=>l.condition),a=s.some(l=>this.task(l.target).getDepth()<=i);if(o.length>0&&a&&this.getOutConnections().some(l=>l.condition.sameAs(n)))throw new Error("Task cannot be connected to a deeper task with the same condition");this.flow.addConnection(new jI(this.source,e,{condition:n,max_retries:r}))}asOutputFor(e,n){this.task(e).asInputFor(this.source,n)}getNext(){return this.flow.connections.filter(e=>e.source===this.source).map(e=>e.target)}getDepth(){return this.flow.getSequence().findIndex(e=>e.includes(this.source))}getInConnections(e=!1){if(e){const n=this.getDepth();return this.getInConnections().filter(r=>r.target===this.source&&this.task(r.source).getDepth()<n)}return this.flow.connections.filter(n=>n.target===this.source)}getInTasks(e=!1){if(e){const n=this.getDepth();return this.getInConnections().map(r=>r.source).filter(r=>this.task(r).getDepth()<n)}return this.getInConnections().map(n=>n.source)}getOutConnections(e){return e?this.flow.connections.filter(n=>n.source===this.source&&n.condition.isMet(e)):this.flow.connections.filter(n=>n.source===this.source)}getOutTasks(e){return this.getOutConnections(e).map(n=>n.target)}}}}),Nd,R1=F({"src/flows/flows/triggers/Trigger.ts"(){var t;we(),Nd=(t=class{constructor(e){J(this,"executions",[]);J(this,"type","manual");J(this,"config");const n=this.constructor.schema;this.config=tr(n,e??{})}async register(e,...n){this.executions.push(await e.start())}toJSON(){return{type:this.type,config:this.config}}},J(t,"schema",D.Object({mode:jt(["sync","async"],{default:"async"})})),t)}}),M1,Lte=F({"src/flows/flows/Flow.ts"(){we(),Wd(),Ite(),AUe(),RUe(),R1(),M1=class qte{constructor(e,n,r,i){J(this,"name");J(this,"trigger");J(this,"tasks",[]);J(this,"connections",[]);J(this,"respondingTask");J(this,"startTask");J(this,"sequence");this.name=e,this.trigger=i??new Nd,n.map(s=>this.addTask(s)),this.connections=r||[],this.startTask=n[0],this.sequence=this.getSequence()}setStartTask(e){return this.startTask=e,this.sequence=this.getSequence(),this}getSequence(e=[]){if(e.length===0)return e.push([this.startTask]),this.getSequence(e);const n=e[e.length-1],r=[];return n==null||n.forEach(i=>{this.task(i).getOutTasks().forEach(o=>{e.some(a=>a.includes(o))||r.push(o)})}),r.length===0?e:(e.push(r),this.getSequence(e))}addTask(e){if(this.tasks.includes(e))throw new Error("Task already defined");if(this.tasks.some(n=>n.name===e.name))throw new Error(`Task with name "${e.name}" already defined. Use a unique name.`);return this.tasks.push(e),this}setRespondingTask(e){if(!this.tasks.includes(e))throw new Error(`Cannot set task "${e.name}" as responding, not registered.`);return this.respondingTask=e,this}addConnection(e){if(this.connections.some(r=>r.source===e.source&&r.target===e.target&&r.condition[0]===e.condition[0]&&r.condition[1]===e.condition[1]))throw new Error("Connection already defined");return this.connections.push(e),this}task(e){return new Qte(this,e)}createExecution(){return this.sequence=this.getSequence(),new Dte(this)}async start(e=void 0){const n=this.createExecution();return await n.start(e),n}toJSON(){var e,n;return{trigger:this.trigger.toJSON(),tasks:Object.fromEntries(this.tasks.map(r=>[r.name,r.toJSON()])),connections:Object.fromEntries(this.connections.map(r=>[r.id,r.toJSON()])),start_task:(e=this.startTask)==null?void 0:e.name,responding_task:(n=this.respondingTask)==null?void 0:n.name}}static fromObject(e,n,r){var l;const i=Yt(n.tasks??{},(c,u)=>{const d=r[c.type];if(!d)throw new Error(`Task ${u} not found in taskMap`);try{const f=d.cls;return new f(u,c.params)}catch(f){throw console.log("Error creating task",u,c.type,c,d),new Error(`Error creating task ${c.type}: ${f.message}`)}}),s=Yt(n.connections??{},(c,u)=>{const d=c.config.condition?pv.fromObject(c.config.condition):void 0;return new jI(i[c.source],i[c.target],{...c.config,condition:d},u)});let o;if(n.trigger){const c=(l=I1[n.trigger.type])==null?void 0:l.cls;c&&(o=new c(n.trigger.config))}const a=new qte(e,Object.values(i),Object.values(s),o);return a.startTask=n.start_task?i[n.start_task]:null,n.responding_task&&(a.respondingTask=i[n.responding_task]),a}}}}),Vte,MUe=F({"src/flows/tasks/presets/SubFlowTask.ts"(){var t;we(),Lte(),N1(),Vte=(t=class extends RO{constructor(){super(...arguments);J(this,"type","subflow")}async execute(){const n=this.params.flow;if(!(n instanceof M1))throw new Error("Invalid flow provided");if(this.params.loop){const i=Array.isArray(this.params.input)?this.params.input:[this.params.input],s=[];for(const o of i){const a=n.createExecution();await a.start(o),s.push(await a.getResponse())}return s}const r=n.createExecution();return await r.start(this.params.input),r.getResponse()}},J(t,"schema",D.Object({flow:D.Any(),input:D.Optional(Xm(D.Any(),JSON.parse)),loop:D.Optional(D.Boolean())})),t)}}),Bte,IUe=F({"src/flows/flows/triggers/EventTrigger.ts"(){var t;we(),R1(),Bte=(t=class extends Nd{constructor(){super(...arguments);J(this,"type","event")}async register(n,r){if(!r.eventExists(this.config.event))throw new Error(`Event ${this.config.event} is not registered.`);r.on(this.config.event,async i=>{console.log("event",i);const s=n.createExecution();this.executions.push(s);try{await s.start(i.params)}catch(o){console.error(o)}},this.config.mode)}},J(t,"schema",D.Composite([Nd.schema,D.Object({event:D.String()})])),t)}}),N3,EI,DUe=F({"src/flows/flows/triggers/HttpTrigger.ts"(){var t;we(),R1(),N3=["GET","POST","PUT","PATCH","DELETE"],EI=(t=class extends Nd{constructor(){super(...arguments);J(this,"type","http")}async register(n,r){const i=this.config.method.toLowerCase();r[i](this.config.path,async s=>{const o=s.req.raw,a=s[this.config.response_type],l=n.createExecution();if(this.executions.push(l),this.config.mode==="sync"){await l.start(o);const c=l.getResponse(),u=l.getErrors();return u.length>0?s.json({success:!1,errors:u}):a(c)}return l.start(o),s.json({success:!0})})}},J(t,"schema",D.Composite([Nd.schema,D.Object({path:D.String({pattern:"^/.*$"}),method:jt(N3,{default:"GET"}),response_type:jt(["json","text","html"],{default:"json"})})])),t)}}),I1,QUe=F({"src/flows/flows/triggers/index.ts"(){IUe(),DUe(),R1(),I1={manual:{cls:Nd},event:{cls:Bte},http:{cls:EI}}}}),TI,Wd=F({"src/flows/index.ts"(){EUe(),TUe(),NUe(),MUe(),Lte(),QUe(),TI={fetch:{cls:A1},log:{cls:Rte},render:{cls:Mte},subflow:{cls:Vte}}}}),mT,gT,Vk,A3,R3,yT,zte,NI=F({"src/flows/flows-schema.ts"(){we(),Wd(),mT={...TI},gT=I1,Vk=Yt(mT,(t,e)=>D.Object({type:qo(e),params:t.cls.schema},{title:String(e),additionalProperties:!1})),D.Union(Object.values(Vk)),A3=Yt(gT,(t,e)=>D.Object({type:qo(e),config:t.cls.schema},{title:String(e),additionalProperties:!1})),R3=D.Object({source:D.String(),target:D.String(),config:D.Object({condition:D.Optional(D.Union([D.Object({type:qo("success")},{additionalProperties:!1,title:"success"}),D.Object({type:qo("error")},{additionalProperties:!1,title:"error"}),D.Object({type:qo("matches"),path:D.String(),value:D.String()},{additionalProperties:!1,title:"matches"})])),max_retries:D.Optional(D.Number())},{default:{},additionalProperties:!1})}),yT=D.Object({trigger:D.Union(Object.values(A3)),tasks:D.Optional(Uo(D.Union(Object.values(Vk)))),connections:D.Optional(Uo(R3)),start_task:D.Optional(D.String()),responding_task:D.Optional(D.String())},{additionalProperties:!1}),zte=D.Object({basepath:D.String({default:"/api/flows"}),flows:Uo(yT,{default:{}})},{default:{},additionalProperties:!1})}}),AI,Wte=F({"src/flows/AppFlows.ts"(){we(),Wd(),AO(),NI(),AI=class extends Fp{constructor(){super(...arguments);J(this,"flows",{})}getSchema(){return zte}getFlowInfo(e){return{...e.toJSON(),tasks:e.tasks.length,connections:e.connections}}async build(){const e=Yt(this.config.flows,(r,i)=>M1.fromObject(i,r,mT));this.flows=e;const n=new Op;n.get("/",async r=>{const i=Yt(this.flows,s=>this.getFlowInfo(s));return r.json(i)}),n.get("/flow/:name",async r=>{var s;const i=r.req.param("name");return r.json((s=this.flows[i])==null?void 0:s.toJSON())}),n.get("/flow/:name/run",async r=>{const i=r.req.param("name"),s=this.flows[i],o=s.createExecution(),a=performance.now();await o.start();const l=performance.now()-a,c=o.getErrors();return r.json({success:c.length===0,time:l,errors:c,response:o.getResponse(),flow:this.getFlowInfo(s),logs:o.logs})}),this.ctx.server.route(this.config.basepath,n);for(const[r,i]of Object.entries(this.flows)){const s=i.trigger;switch(!0){case s instanceof EI:await s.register(i,this.ctx.server);break}}this.setBuilt()}toJSON(){return{...this.config,flows:Yt(this.flows,e=>e.toJSON())}}}}});function FUe(t){try{const e=t.split(".").pop();if(!e)return it.a();for(const[n,r]of Object.entries(Ute))if(r.includes(e))return`${n}/${e}`;return Zte.get(e)}catch{return it.a()}}var Ute,it,Zte,LUe=F({"src/media/storage/mime-types-tiny.ts"(){Ute={video:["mp4","webm"],audio:["ogg"],image:["jpeg","png","gif","webp","bmp","tiff"],text:["html","css","mdx","yaml","vcard","csv","vtt"],application:["zip","xml","toml","json","json5"],font:["woff","woff2","ttf","otf"]},it={vnd:"vnd.openxmlformats-officedocument",z:"application/x-7z-compressed",t:(t="plain")=>`text/${t}`,a:(t="octet-stream")=>`application/${t}`,i:t=>`image/${t}`,v:t=>`video/${t}`},Zte=new Map([["7z",it.z],["7zip",it.z],["ai",it.a("pdf")],["apk",it.a("vnd.android.package-archive")],["doc",it.a("msword")],["docx",`${it.vnd}.wordprocessingml.document`],["eps",it.a("postscript")],["epub",it.a("epub+zip")],["ini",it.t()],["jar",it.a("java-archive")],["jsonld",it.a("ld+json")],["jpg",it.i("jpeg")],["log",it.t()],["m3u",it.t()],["m3u8",it.a("vnd.apple.mpegurl")],["manifest",it.t("cache-manifest")],["md",it.t("markdown")],["mkv",it.v("x-matroska")],["mp3",it.a("mpeg")],["mobi",it.a("x-mobipocket-ebook")],["ppt",it.a("powerpoint")],["pptx",`${it.vnd}.presentationml.presentation`],["qt",it.v("quicktime")],["svg",it.i("svg+xml")],["tif",it.i("tiff")],["tsv",it.t("tab-separated-values")],["tgz",it.a("x-tar")],["txt",it.t()],["text",it.t()],["vcd",it.a("x-cdlink")],["vcs",it.t("x-vcalendar")],["wav",it.a("x-wav")],["webmanifest",it.a("manifest+json")],["xls",it.a("vnd.ms-excel")],["xlsx",`${it.vnd}.spreadsheetml.sheet`],["yml",it.t("yaml")]])}}),RI={};mo(RI,{FileAccessEvent:()=>DI,FileDeletedEvent:()=>II,FileUploadedEvent:()=>MI});var MI,II,DI,Xte=F({"src/media/storage/events/index.ts"(){var t,e,n;zd(),MI=(t=class extends kr{},J(t,"slug","file-uploaded"),t),II=(e=class extends kr{},J(e,"slug","file-deleted"),e),DI=(n=class extends kr{},J(n,"slug","file-access"),n)}}),mv,qUe=F({"src/media/storage/Storage.ts"(){var t,e;zd(),Xte(),mv=(e=class{constructor(r,i={},s){Pe(this,t);J(this,"emgr");J(this,"config");Se(this,t,r),this.config={...i,body_max_size:i.body_max_size??20*1024*1024},this.emgr=s??new Mp,this.emgr.registerEvents(e.Events)}getAdapter(){return V(this,t)}async objectMetadata(r){return await V(this,t).getObjectMeta(r)}getConfig(){return this.config}async uploadFile(r,i,s){const o=await V(this,t).putObject(i,r);console.log("result",o);let a;switch(typeof o){case"undefined":throw new Error("Failed to upload file");case"string":{const c=await V(this,t).getObjectMeta(i);if(!c)throw new Error("Failed to get object meta");a={name:i,meta:c,etag:o};break}case"object":a=o;break}const l={file:r,...a,state:{name:a.name,path:a.name}};return s||await this.emgr.emit(new MI(l)),l}async deleteFile(r){await V(this,t).deleteObject(r),await this.emgr.emit(new II({name:r}))}async fileExists(r){return await V(this,t).objectExists(r)}getController(){const r=new Op;return r.get("/files",async i=>{const s=await V(this,t).listObjects();return i.json(s)}),r.get("/file/:filename",async i=>{const{filename:s}=i.req.param();if(!s)throw new Error("No file name provided");return await this.emgr.emit(new DI({name:s})),await V(this,t).getObject(s,i.req.raw.headers)}),r.delete("/file/:filename",async i=>{const{filename:s}=i.req.param();if(!s)throw new Error("No file name provided");return await this.deleteFile(s),i.json({message:"File deleted"})}),r.post("/upload/:filename",$7({maxSize:this.config.body_max_size,onError:i=>i.text(`Payload exceeds ${this.config.body_max_size}`,413)}),async i=>{const{filename:s}=i.req.param();if(!s)throw new Error("No file name provided");const o=await this.getFileFromRequest(i);return i.json(await this.uploadFile(o,s))}),r}async getFileFromRequest(r){const i=r.req.header("Content-Type")??"application/octet-stream";console.log("content_type:body",i);const s=r.req.raw.body;if(!s)throw new Error("No body");let o;if(i!=null&&i.startsWith("multipart/form-data")){if(o=(await r.req.formData()).get("file"),typeof o>"u")throw new Error("No file given at form data 'file'")}else if(i!=null&&i.startsWith("application/octet-stream"))o=s;else throw new Error(`Unsupported content type: ${i}`);return o}},t=new WeakMap,J(e,"Events",RI),e)}}),Bk,gv,VUe=F({"src/media/storage/adapters/StorageCloudinaryAdapter.ts"(){we(),we(),Bk=D.Object({cloud_name:D.String(),api_key:D.String(),api_secret:D.String(),upload_preset:D.Optional(D.String())},{title:"Cloudinary"}),gv=class{constructor(t){J(this,"config");this.config=tr(Bk,t)}getSchema(){return Bk}getMimeType(t){switch(!0){case(t.format==="jpeg"||t.format==="jpg"):return"image/jpeg"}return`${t.resource_type}/${t.format}`}getName(){return"cloudinary"}getAuthorizationHeader(){return{Authorization:`Basic ${btoa(`${this.config.api_key}:${this.config.api_secret}`)}`}}async putObject(t,e){const n=t.replace(/\.[a-z0-9]{2,5}$/,""),r=new FormData;r.append("file",e),r.append("public_id",n),r.append("api_key",this.config.api_key),this.config.upload_preset&&r.append("upload_preset",this.config.upload_preset);const i=await fetch(`https://api.cloudinary.com/v1_1/${this.config.cloud_name}/auto/upload`,{method:"POST",headers:{Accept:"application/json"},body:r});if(!i.ok)return;const s=await i.json();return{name:s.public_id+"."+s.format,etag:s.etag,meta:{type:this.getMimeType(s),size:s.bytes}}}async listObjects(t){const e=await fetch(`https://api.cloudinary.com/v1_1/${this.config.cloud_name}/resources/search`,{method:"GET",headers:{Accept:"application/json",...this.getAuthorizationHeader()}});if(!e.ok)throw new Error("Failed to list objects");return(await e.json()).resources.map(r=>({key:r.public_id,last_modified:new Date(r.uploaded_at),size:r.bytes}))}async headObject(t){const e=this.getObjectUrl(t);return await fetch(e,{method:"GET",headers:{Range:"bytes=0-1"}})}async objectExists(t){return(await this.headObject(t)).ok}async getObjectMeta(t){var n;const e=await this.headObject(t);if(e.ok){const r=e.headers.get("content-type"),i=Number((n=e.headers.get("content-range"))==null?void 0:n.split("/")[1]);return{type:r,size:i}}throw new Error("Cannot get object meta")}guessType(t){const e={image:["jpg","jpeg","png","gif","webp","svg"],video:["mp4","webm","ogg"]},n=t.split(".").pop();return Object.keys(e).find(r=>e[r].includes(n))}getObjectUrl(t){const e=this.guessType(t)??"image";return`https://res.cloudinary.com/${this.config.cloud_name}/${e}/upload/${t}`}async getObject(t,e){const n=await fetch(this.getObjectUrl(t),{method:"GET",headers:dee(e,["range"])});return new Response(n.body,{status:n.status,statusText:n.statusText,headers:n.headers})}async deleteObject(t){const e=this.guessType(t)??"image",n=new FormData;n.append("public_ids[]",t),await fetch(`https://res.cloudinary.com/${this.config.cloud_name}/${e}/upload/`,{method:"DELETE",body:n})}toJSON(t){return{type:"cloudinary",config:t?this.config:{cloud_name:this.config.cloud_name}}}}}}),zk,yv,BUe=F({"src/media/storage/adapters/StorageS3Adapter.ts"(){var t,e;Mn(),we(),zk=D.Object({access_key:D.String(),secret_access_key:D.String(),url:D.String({pattern:"^https?://(?:.*)?[^/.]+$",description:"URL to S3 compatible endpoint without trailing slash",examples:["https://{account_id}.r2.cloudflarestorage.com/{bucket}","https://{bucket}.s3.{region}.amazonaws.com"]})},{title:"S3"}),yv=(e=class extends uee{constructor(r){super({accessKeyId:r.access_key,secretAccessKey:r.secret_access_key,retries:Np()?0:10},{convertParams:"pascalToKebab",responseType:"xml"});Pe(this,t);Se(this,t,tr(zk,r))}getName(){return"s3"}getSchema(){return zk}getUrl(r="",i={}){let s=this.getObjectUrl("").slice(0,-1);return r.length>0&&(s+=`/${r}`),super.getUrl(s,i)}getObjectUrl(r){return`${V(this,t).url}/${r}`}async listObjects(r=""){const i={ListType:2,Prefix:r},s=this.getUrl("",i),o=await this.fetchJson(s,{method:"GET"}),{Contents:a}=o.ListBucketResult,l=a?Array.isArray(a)?a:[a]:[];return ns(l,(u,d)=>{d.Key&&d.LastModified&&d.Size&&u.push({key:d.Key,last_modified:d.LastModified,size:d.Size})},[])}async putObject(r,i,s={}){const o=this.getUrl(r,{}),a=await this.fetch(o,{method:"PUT",body:i});if(a.ok)return String(a.headers.get("etag"))}async headObject(r,i={}){const s=this.getUrl(r,{});return await this.fetch(s,{method:"HEAD",headers:{Range:"bytes=0-1"}})}async getObjectMeta(r){var a;const i=await this.headObject(r),s=String(i.headers.get("content-type")),o=Number(String((a=i.headers.get("content-range"))==null?void 0:a.split("/")[1]));return{type:s,size:o}}async objectExists(r,i={}){return(await this.headObject(r)).ok}async getObject(r,i){const s=this.getUrl(r),o=await this.fetch(s,{method:"GET",headers:dee(i,["range"])});return new Response(o.body,{status:o.status,statusText:o.statusText,headers:o.headers})}async deleteObject(r,i={}){const s=this.getUrl(r,i);await this.fetch(s,{method:"DELETE"})}toJSON(r){return{type:this.getName(),config:r?V(this,t):void 0}}},t=new WeakMap,e)}});function zUe(t){if(!t.includes("."))return;const e=t.split(".");return e[e.length-1]}function WUe(t,e=16){const n=typeof t=="string"?t:t.name;if(typeof n!="string")throw console.error("Couldn't extract filename from",t),new Error("Invalid file name");return[Z9e(e),zUe(n)].filter(Boolean).join(".")}var UUe=F({"src/media/utils/index.ts"(){we()}}),Yte,Gte,D1=F({"src/media/index.ts"(){Mn(),qUe(),VUe(),BUe(),Xte(),UUe(),Yte=new jee(t=>({cls:t,schema:t.prototype.getSchema()})).register("s3",yv).register("cloudinary",gv),Gte={s3:{cls:yv,schema:yv.prototype.getSchema()},cloudinary:{cls:gv,schema:gv.prototype.getSchema()}}}}),M3,Hte,ZUe=F({"src/media/api/MediaController.ts"(){Mn(),we(),D1(),PI(),E1(),M3=D.Transform(D.String()).Decode(t=>t==="1").Encode(t=>t?"1":"0"),Hte=class extends T1{constructor(t){super(),this.media=t}getStorageAdapter(){return this.getStorage().getAdapter()}getStorage(){return this.media.storage}getController(){const{auth:t}=this.middlewares,e=this.create().use(t());e.get("/files",async r=>{const i=await this.getStorageAdapter().listObjects();return r.json(i)}),e.get("/file/:filename",async r=>{const{filename:i}=r.req.param();if(!i)throw new Error("No file name provided");return await this.getStorage().emgr.emit(new RI.FileAccessEvent({name:i})),await this.getStorageAdapter().getObject(i,r.req.raw.headers)}),e.delete("/file/:filename",async r=>{const{filename:i}=r.req.param();if(!i)throw new Error("No file name provided");return await this.getStorage().deleteFile(i),r.json({message:"File deleted"})});const n=$7({maxSize:this.getStorage().getConfig().body_max_size,onError:r=>r.text(`Payload exceeds ${this.getStorage().getConfig().body_max_size}`,413)});return e.post("/upload/:filename",n,async r=>{const{filename:i}=r.req.param();if(!i)throw new Error("No file name provided");const s=await this.getStorage().getFileFromRequest(r);return console.log("----file",s),r.json(await this.getStorage().uploadFile(s,i))}),e.post("/entity/:entity/:id/:field",ar("query",D.Object({overwrite:D.Optional(M3)})),n,async r=>{const i=r.req.param("entity"),s=r.req.param("field"),o=Number.parseInt(r.req.param("id"));console.log("params",{entity_name:i,field_name:s,entity_id:o});const a=this.media.em.entity(i);if(!a)return r.json({error:`Entity "${i}" not found`},404);const l=a.field(s);if(!l||!(l instanceof tp))return r.json({error:`Invalid field "${s}"`},400);const c=this.media.getMediaEntity().name,u=`${i}.${s}`,d={scope:s,reference:u,entity_id:o},f=l.getMaxItems(),h=[];if(f){const{overwrite:v}=r.req.valid("query"),{count:w}=await this.media.em.repository(c).count(d);if(w>=f){if(!v)return r.json({error:`Max items (${f}) reached`},400);if(w>f)return r.json({error:`Max items (${f}) exceeded already with ${w} items.`},400);const _=await this.media.em.repo(c).findMany({select:["path"],where:d,sort:{by:"id",dir:"asc"},limit:w-f+1});_.data&&_.data.length>0&&_.data.map($=>h.push($.path))}}const{exists:m}=await this.media.em.repository(a).exists({id:o});if(!m)return r.json({error:`Entity "${i}" with ID "${o}" doesn't exist found`},404);const g=await this.getStorage().getFileFromRequest(r),y=WUe(g),O=await this.getStorage().uploadFile(g,y,!0),b=this.media.em.mutator(c);b.__unstable_toggleSystemEntityCreation(!1);const x=await b.insertOne({...this.media.uploadedEventDataToMediaPayload(O),...d});if(b.__unstable_toggleSystemEntityCreation(!0),h.length>0)for(const v of h)await this.getStorage().deleteFile(v);return r.json({ok:!0,result:x.data,...O})}),e}}}}),Kte,XUe=F({"src/modules/registries.ts"(){D1(),Kte={media:Yte}}});function Jte(){const t=jO(QI.all(),(n,r)=>D.Object({type:qo(r),config:n.schema},{title:r,additionalProperties:!1})),e=D.Union(Object.values(t));return D.Object({enabled:D.Boolean({default:!1}),basepath:D.String({default:"/api/media"}),entity_name:D.String({default:"media"}),storage:D.Object({body_max_size:D.Optional(D.Number({description:"Max size of the body in bytes. Leave blank for unlimited."}))},{default:{}}),adapter:D.Optional(e)},{additionalProperties:!1})}var QI,YUe=F({"src/media/media-schema.ts"(){we(),D1(),XUe(),{...Gte},QI=Kte.media,Jte()}}),ene,GUe=F({"src/media/AppMedia.ts"(){var t;D1(),AO(),kI(),ZUe(),YUe(),ene=(t=class extends Fp{constructor(){super(...arguments);J(this,"_storage")}async build(){if(!this.config.enabled){this.setBuilt();return}if(!this.config.adapter){console.info("No storage adapter provided, skip building media.");return}let r;try{const{type:i,config:s}=this.config.adapter;r=new(QI.get(i)).cls(s),this._storage=new mv(r,this.config.storage,this.ctx.emgr),this.setBuilt(),this.setupListeners(),this.ctx.server.route(this.basepath,new Hte(this).getController());const o=this.getMediaEntity(!0);this.ensureSchema(hte({[o.name]:o},({index:a},{media:l})=>{a(l).on(["path"],!0).on(["reference"])})),this.setBuilt()}catch(i){throw console.error(i),new Error(`Could not build adapter with config ${JSON.stringify(this.config.adapter)}`)}}getSchema(){return Jte()}get basepath(){return this.config.basepath}get storage(){return this.throwIfNotBuilt(),this._storage}uploadedEventDataToMediaPayload(r){return{path:r.name,mime_type:r.meta.type,size:r.meta.size,etag:r.etag,modified_at:new Date}}getMediaEntity(r){const i=this.config.entity_name;return r||!this.em.hasEntity(i)?$I(i,t.mediaFields,void 0,"system"):this.em.entity(i)}get em(){return this.ctx.em}setupListeners(){const{emgr:r,em:i}=this.ctx,s=this.getMediaEntity().name;r.onEvent(mv.Events.FileUploadedEvent,async o=>{const a=i.mutator(s);a.__unstable_toggleSystemEntityCreation(!1),await a.insertOne(this.uploadedEventDataToMediaPayload(o.params)),a.__unstable_toggleSystemEntityCreation(!0),console.log("App:storage:file uploaded",o)},"sync"),r.onEvent(mv.Events.FileDeletedEvent,async o=>{const{data:a}=await i.repo(s).findOne({path:o.params.name});a&&(console.log("item.data",a),await i.mutator(s).deleteOne(a.id)),console.log("App:storage:file deleted",o)},"sync")}getOverwritePaths(){return[/^\.?adapter$/]}toJSON(r){return!this.isBuilt()||!this.config.enabled?this.configDefault:{...this.config,adapter:this.storage.getAdapter().toJSON(r)}}},J(t,"mediaFields",{path:Xa().required(),folder:aUe({default_value:!1,hidden:!0,fillable:["create"]}),mime_type:Xa(),size:iT(),scope:Xa({hidden:!0,fillable:["create"]}),etag:Xa(),modified_at:sT(),reference:Xa(),entity_id:iT(),metadata:lUe()}),t)}});function tne(){return{type:"object",...Yt(FI,e=>e.prototype.getSchema())}}function HUe(){return Yt(FI,e=>cl(e.prototype.getSchema(),{}))}var FI,I3,KUe=F({"src/modules/ModuleManager.ts"(){we(),xr(),$Ue(),PUe(),wUe(),jUe(),Wte(),GUe(),FI={server:Tte,data:Ate,auth:$te,media:ene,flows:AI},I3=D.Union([tne(),D.Array(D.Object({t:jt(["a","r","e"]),p:D.Array(D.Union([D.String(),D.Number()])),o:D.Optional(D.Any()),n:D.Optional(D.Any())}))]),$I(jte,{version:iT().required(),type:oT({enum:["config","diff","backup"]}).required(),json:cUe({schema:I3}).required(),created_at:sT(),updated_at:sT()})}});function JUe(t,e,n){const r=n??e,i=["raw","body","ok","status","res","data","toJSON"];return new Proxy(r,{get(s,o,a){return o==="raw"||o==="res"?t:o==="body"?e:o==="data"?n:o==="ok"?t.ok:o==="status"?t.status:o==="toJSON"?()=>s:Reflect.get(s,o,a)},has(s,o){return i.includes(o)?!0:Reflect.has(s,o)},ownKeys(s){return Array.from(new Set([...Reflect.ownKeys(s),...i]))},getOwnPropertyDescriptor(s,o){return i.includes(o)?{configurable:!0,enumerable:!0,value:Reflect.get({raw:t,body:e,ok:t.ok,status:t.status},o)}:Reflect.getOwnPropertyDescriptor(s,o)}})}var MO,D3,Q1=F({"src/modules/ModuleApi.ts"(){var t;iee(),hI(),MO=class{constructor(e={}){J(this,"fetcher");this._options=e}getDefaultOptions(){return{}}get options(){return{host:"http://localhost",token:void 0,...this.getDefaultOptions(),...this._options}}key(){return this.options.basepath??""}getUrl(e){const n=this.options.basepath??"";return this.options.host+(n+"/"+e).replace(/\/{2,}/g,"/").replace(/\/$/,"")}request(e,n,r){const i=(r==null?void 0:r.method)??"GET",s=Array.isArray(e)?e.join("/"):e;let o=this.getUrl(s);n instanceof URLSearchParams?o+="?"+n.toString():typeof n=="object"&&Object.keys(n).length>0&&(o+="?"+b1(n));const a=new Headers(this.options.headers??{});for(const[u,d]of Object.entries((r==null?void 0:r.headers)??{}))a.set(u,d);a.set("Accept","application/json"),this.options.token&&this.options.token_transport==="header"&&a.set("Authorization",`Bearer ${this.options.token}`);let l=r==null?void 0:r.body;if(r&&"body"in r&&["POST","PATCH","PUT"].includes(i)){const u=a.get("Content-Type")??void 0;(!u||u.startsWith("application/json"))&&(l=JSON.stringify(r.body),a.set("Content-Type","application/json"))}const c=new Request(o,{...r,method:i,body:l,headers:a});return new D3(c,{fetcher:this.fetcher})}get(e,n,r){return this.request(e,n,{...r,method:"GET"})}post(e,n,r){return this.request(e,void 0,{...r,body:n,method:"POST"})}patch(e,n,r){return this.request(e,void 0,{...r,body:n,method:"PATCH"})}put(e,n,r){return this.request(e,void 0,{...r,body:n,method:"PUT"})}delete(e,n){return this.request(e,void 0,{...n,method:"DELETE"})}},D3=(t=Symbol.toStringTag,class{constructor(e,n){J(this,t);this.request=e,this.options=n}async execute(){var o;Np()&&await new Promise(a=>setTimeout(a,200));const n=await(((o=this.options)==null?void 0:o.fetcher)??fetch)(this.request);let r,i;const s=n.headers.get("Content-Type")??"";return s.startsWith("application/json")?(r=await n.json(),typeof r=="object"&&(i="data"in r?r.data:r)):s.startsWith("text")&&(r=await n.text()),JUe(n,r,i)}then(e,n){return this.execute().then(e,n)}catch(e){return this.then(void 0,e)}finally(e){return this.then(n=>(e==null||e(),n),n=>{throw e==null||e(),n})}path(){return new URL(this.request.url).pathname}key(e){const n=new URL(this.request.url);return(e==null?void 0:e.search)!==!1?this.path()+n.search:this.path()}keyArray(e){const n=new URL(this.request.url),r=this.path().split("/");return((e==null?void 0:e.search)!==!1?[...r,n.searchParams.toString()]:r).filter(Boolean)}})}}),nne,e8e=F({"src/auth/api/AuthApi.ts"(){Q1(),nne=class extends MO{getDefaultOptions(){return{basepath:"/api/auth"}}async login(t,e){var r,i;const n=await this.post([t,"login"],e);return n.ok&&n.body.token&&await((i=(r=this.options).onTokenUpdate)==null?void 0:i.call(r,n.body.token)),n}async register(t,e){var r,i;const n=await this.post([t,"register"],e);return n.ok&&n.body.token&&await((i=(r=this.options).onTokenUpdate)==null?void 0:i.call(r,n.body.token)),n}async actionSchema(t,e){return this.get([t,"actions",e,"schema.json"])}async action(t,e,n){return this.post([t,"actions",e],n)}async loginWithPassword(t){return this.login("password",t)}async registerWithPassword(t){return this.register("password",t)}me(){return this.get(["me"])}strategies(){return this.get(["strategies"])}async logout(){}}}}),t8e=F({"src/modules/index.ts"(){Q1()}}),rne,n8e=F({"src/data/api/DataApi.ts"(){t8e(),rne=class extends MO{getDefaultOptions(){return{basepath:"/api/data",queryLengthLimit:1e3,defaultQuery:{limit:10}}}readOne(t,e,n={}){return this.get([t,e],n)}readMany(t,e={}){const n=e??this.options.defaultQuery,r=this.get([t],n);return r.request.url.length<=this.options.queryLengthLimit?r:this.post([t,"query"],n)}readManyByReference(t,e,n,r={}){return this.get([t,e,n],r??this.options.defaultQuery)}createOne(t,e){return this.post([t],e)}updateOne(t,e,n){return this.patch([t,e],n)}deleteOne(t,e){return this.delete([t,e])}count(t,e={}){return this.post([t,"fn","count"],e)}}}}),ine,r8e=F({"src/media/api/MediaApi.ts"(){Q1(),ine=class extends MO{getDefaultOptions(){return{basepath:"/api/media"}}getFiles(){return this.get(["files"])}getFile(t){return this.get(["file",t])}getFileUploadUrl(t){return this.getUrl(`/upload/${t.path}`)}getEntityUploadUrl(t,e,n){return this.getUrl(`/entity/${t}/${e}/${n}`)}getUploadHeaders(){return new Headers({Authorization:`Bearer ${this.options.token}`})}uploadFile(t){const e=new FormData;return e.append("file",t),this.post(["upload"],e)}deleteFile(t){return this.delete(["file",t])}}}}),sne,i8e=F({"src/modules/SystemApi.ts"(){Q1(),sne=class extends MO{getDefaultOptions(){return{basepath:"/api/system"}}readConfig(){return this.get("config")}readSchema(t){return this.get("schema",{config:t!=null&&t.config?1:0,secrets:t!=null&&t.secrets?1:0})}setConfig(t,e,n){return this.post(["config","set",t].join("/")+`?force=${n?1:0}`,e)}addConfig(t,e,n){return this.post(["config","add",t,e],n)}patchConfig(t,e,n){return this.patch(["config","patch",t,e],n)}overwriteConfig(t,e,n){return this.put(["config","overwrite",t,e],n)}removeConfig(t,e){return this.delete(["config","remove",t,e])}}}});function s8e(t,e){if(!t)return null;for(const n of t.split("; ")){const[r,i]=n.split("=");if(r===e&&i)return decodeURIComponent(i)}return null}var OT,o8e=F({"src/Api.ts"(){e8e(),n8e(),r8e(),i8e(),OT=class{constructor(t){J(this,"token");J(this,"user");J(this,"verified",!1);J(this,"token_transport","header");J(this,"system");J(this,"data");J(this,"auth");J(this,"media");this.options=t,t.user?(this.user=t.user,this.token_transport="none",this.verified=!0):t.token?(this.token_transport="header",this.updateToken(t.token)):this.extractToken(),this.buildApis()}get baseUrl(){return this.options.host}get tokenKey(){return this.options.key??"auth"}extractToken(){var t;if(this.options.headers){const e=s8e(this.options.headers.get("cookie"),"auth");if(e){this.updateToken(e),this.token_transport="cookie",this.verified=!0;return}const n=(t=this.options.headers.get("authorization"))==null?void 0:t.replace("Bearer ","");if(n){this.token_transport="header",this.updateToken(n);return}}else if(this.options.localStorage){const e=localStorage.getItem(this.tokenKey);e&&(this.token_transport="header",this.updateToken(e))}}updateToken(t,e){if(this.token=t,t?this.user=to(uue(t).payload,["iat","iss","exp"]):this.user=void 0,this.options.localStorage){const n=this.tokenKey;t?localStorage.setItem(n,t):localStorage.removeItem(n)}e&&this.buildApis()}markAuthVerified(t){return this.verified=t,this}getAuthState(){return{token:this.token,user:this.user,verified:this.verified}}async getVerifiedAuthState(){return await this.verifyAuth(),this.getAuthState()}async verifyAuth(){if(!this.token){this.markAuthVerified(!1);return}try{const t=await this.auth.me();if(!t.ok||!t.body.user)throw new Error;this.markAuthVerified(!0)}catch{this.markAuthVerified(!1),this.updateToken(void 0)}}getUser(){return this.user||null}buildApis(){const t={host:this.options.host,token:this.token,headers:this.options.headers,token_transport:this.token_transport};this.system=new sne(t),this.data=new rne(t),this.auth=new nne({...t,onTokenUpdate:e=>this.updateToken(e,!0)}),this.media=new ine(t)}}}});function one(){return typeof window<"u"&&window.__BKND__?window.__BKND__:{logout_route:"/api/auth/logout"}}var yx,ane,oa,Q3,a8e=F({"src/ui/client/ClientProvider.tsx"(){o8e(),yx=S.createContext({baseUrl:void 0}),ane=({children:t,baseUrl:e,user:n})=>{const r=one(),i=Q3();let s=e??i??"";try{e||(i?(s=i,console.warn("wrapped many times, take from context",s)):typeof window<"u"&&(s=window.location.origin,console.log("setting from window",s)))}catch(a){console.error("error .....",a)}console.log("api init",{host:s,user:n??r.user});const o=new OT({host:s,user:n??r.user});return p.jsx(yx.Provider,{value:{baseUrl:o.baseUrl,api:o},children:t})},oa=t=>{const e=S.useContext(yx);return!(e!=null&&e.api)||t&&t.length>0&&t!==e.baseUrl?new OT({host:t??""}):e.api},Q3=()=>S.useContext(yx).baseUrl}}),IO,F1,l8e=F({"src/ui/client/api/use-api.ts"(){Dr(),IO=(t,e)=>{const n=oa(),r=t(n),i=(e==null?void 0:e.refine)??(l=>l),s=()=>r.execute().then(i),o=r.key();return{...YW((e==null?void 0:e.enabled)===!1?null:o,s,e),promise:r,key:o,api:n}},F1=t=>{const e=due().mutate,n=oa();return async r=>{let i="";return typeof r=="string"?i=r:typeof r=="function"&&(i=r(n).key()),t!=null&&t.exact?e(i):e(s=>typeof s=="string"&&s.startsWith(i))}}}});function bT(t,e,n,r){var i,s;return"/"+[...((s=(i=t.options)==null?void 0:i.basepath)==null?void 0:s.split("/"))??[],e,...n?[n]:[]].filter(Boolean).join("/")+(r?"?"+b1(r):"")}async function F3(t,e,n,r){function i(o,a){return typeof o<"u"&&typeof a<"u"&&"id"in o&&o.id===n?{...o,...a}:o}const s=bT(t,e);return n9(o=>typeof o=="string"&&o.startsWith(s),async o=>{if(!(typeof o>"u"))return Array.isArray(o)?o.map(a=>i(a,r)):i(o,r)},{revalidate:!1})}var $m,xT,Ad,LI,lne=F({"src/ui/client/api/use-entity.ts"(){fI(),hI(),Dr(),$m=class extends Error{constructor(t,e){let n=e;"error"in t&&(n=t.error,e&&(n=`${e}: ${n}`)),super(n??"UseEntityApiError"),this.response=t}},xT=(t,e)=>{const n=oa().data;return{create:async r=>{const i=await n.createOne(t,r);if(!i.ok)throw new $m(i,`Failed to create entity "${t}"`);return i},read:async(r={})=>{const i=e?await n.readOne(t,e,r):await n.readMany(t,r);if(!i.ok)throw new $m(i,`Failed to read entity "${t}"`);return i},update:async(r,i=e)=>{if(!i)throw new Error("id is required");const s=await n.updateOne(t,i,r);if(!s.ok)throw new $m(s,`Failed to update entity "${t}"`);return s},_delete:async(r=e)=>{if(!r)throw new Error("id is required");const i=await n.deleteOne(t,r);if(!i.ok)throw new $m(i,`Failed to delete entity "${t}"`);return i}}},Ad=(t,e,n,r)=>{const i=oa().data,s=bT(i,t,e,n),{read:o,...a}=xT(t,e),l=()=>o(n),c=YW((r==null?void 0:r.enabled)===!1?null:s,l,{revalidateOnFocus:!1,keepPreviousData:!0,...r}),u=async()=>{const f=bT(i,t);return n9(h=>typeof h=="string"&&h.startsWith(f),void 0,{revalidate:!0})},d=jO(a,f=>async(...h)=>{const m=await f(...h);return(r==null?void 0:r.revalidateOnMutate)!==!1&&await u(),m});return{...c,...d,mutate:u,mutateRaw:c.mutate,api:i,key:s}},LI=(t,e,n)=>{const{data:r,...i}=Ad(t,e,void 0,{...n,enabled:!1});return{...i,mutate:e?o=>F3(i.api,t,e,o):(o,a)=>F3(i.api,t,o,a)}}}}),qI,c8e=F({"src/ui/client/schema/auth/use-auth.ts"(){Dr(),qI=t=>{const e=oa(t==null?void 0:t.baseUrl),n=F1(),r=e.getAuthState(),[i,s]=S.useState(r),o=(r==null?void 0:r.verified)??!1;function a(){s(e.getAuthState())}async function l(h){const m=await e.auth.loginWithPassword(h);return a(),m.data}async function c(h){const m=await e.auth.registerWithPassword(h);return a(),m.data}function u(h){e.updateToken(h),a()}async function d(){await e.updateToken(void 0),s(void 0),n()}async function f(){await e.verifyAuth(),a()}return{data:i,user:i==null?void 0:i.user,token:i==null?void 0:i.token,verified:o,login:l,register:c,logout:d,setToken:u,verify:f}}}}),Dr=F({"src/ui/client/index.ts"(){a8e(),l8e(),lne(),c8e()}});function u8e(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=vT(e))&&(r&&(r+=" "),r+=n);return r}function d8e(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=cne(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=une(l,n);return i(l,u),u}return function(){return s(u8e.apply(null,arguments))}}var Ox,L3,Wk,Uk,q3,V3,bx,Zk,B3,z3,W3,Xk,U3,Z3,cne,X3,une,vT,qt,Yk,Y3,G3,H3,K3,J3,e4,t4,Co,Pa,gu,xx,hf,n4,et,Ca,r4,i4,s4,o4,a4,l4,pf,yu,c4,Gk,u4,d4,f4,Ie,vt=F({"../node_modules/tailwind-merge/dist/bundle-mjs.mjs"(){Ox="-",L3=t=>{const e=V3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ox);return a[0]===""&&a.length!==1&&a.shift(),Wk(a,e)||q3(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Wk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Wk(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Ox);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Uk=/^\[(.+)\]$/,q3=t=>{if(Uk.test(t)){const e=Uk.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},V3=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return z3(Object.entries(t.classGroups),n).forEach(([s,o])=>{bx(o,r,s,e)}),r},bx=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Zk(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(B3(i)){bx(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{bx(o,Zk(e,s),n,r)})})},Zk=(t,e)=>{let n=t;return e.split(Ox).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},B3=t=>t.isThemeGetter,z3=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,W3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Xk="!",U3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let y=0;y<a.length;y++){let O=a[y];if(c===0){if(O===i&&(r||a.slice(y,y+s)===e)){l.push(a.slice(u,y)),u=y+s;continue}if(O==="/"){d=y;continue}}O==="["?c++:O==="]"&&c--}const f=l.length===0?a:a.substring(u),h=f.startsWith(Xk),m=h?f.substring(1):f,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},Z3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},cne=t=>({cache:W3(t.cacheSize),parseClassName:U3(t),...L3(t)}),X3=/\s+/,une=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(X3);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(c);let m=!!h,g=r(m?f.substring(0,h):f);if(!g){if(!m){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}m=!1}const y=Z3(u).join(":"),O=d?y+Xk:y,b=O+g;if(s.includes(b))continue;s.push(b);const x=i(g,m);for(let v=0;v<x.length;++v){const w=x[v];s.push(O+w)}a=c+(a.length>0?" "+a:a)}return a},vT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=vT(t[r]))&&(n&&(n+=" "),n+=e);return n},qt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Yk=/^\[(?:([a-z-]+):)?(.+)\]$/i,Y3=/^\d+\/\d+$/,G3=new Set(["px","full","screen"]),H3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,J3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,e4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,t4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Co=t=>gu(t)||G3.has(t)||Y3.test(t),Pa=t=>yu(t,"length",c4),gu=t=>!!t&&!Number.isNaN(Number(t)),xx=t=>yu(t,"number",gu),hf=t=>!!t&&Number.isInteger(Number(t)),n4=t=>t.endsWith("%")&&gu(t.slice(0,-1)),et=t=>Yk.test(t),Ca=t=>H3.test(t),r4=new Set(["length","size","percentage"]),i4=t=>yu(t,r4,Gk),s4=t=>yu(t,"position",Gk),o4=new Set(["image","url"]),a4=t=>yu(t,o4,d4),l4=t=>yu(t,"",u4),pf=()=>!0,yu=(t,e,n)=>{const r=Yk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},c4=t=>K3.test(t)&&!J3.test(t),Gk=()=>!1,u4=t=>e4.test(t),d4=t=>t4.test(t),f4=()=>{const t=qt("colors"),e=qt("spacing"),n=qt("blur"),r=qt("brightness"),i=qt("borderColor"),s=qt("borderRadius"),o=qt("borderSpacing"),a=qt("borderWidth"),l=qt("contrast"),c=qt("grayscale"),u=qt("hueRotate"),d=qt("invert"),f=qt("gap"),h=qt("gradientColorStops"),m=qt("gradientColorStopPositions"),g=qt("inset"),y=qt("margin"),O=qt("opacity"),b=qt("padding"),x=qt("saturate"),v=qt("scale"),w=qt("sepia"),_=qt("skew"),$=qt("space"),k=qt("translate"),j=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",et,e],N=()=>[et,e],A=()=>["",Co,Pa],C=()=>["auto",gu,et],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",et],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[gu,et];return{cacheSize:500,separator:":",theme:{colors:[pf],spacing:[Co,Pa],blur:["none","",Ca,et],brightness:Z(),borderColor:[t],borderRadius:["none","","full",Ca,et],borderSpacing:N(),borderWidth:A(),contrast:Z(),grayscale:Q(),hueRotate:Z(),invert:Q(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[n4,Pa],inset:R(),margin:R(),opacity:Z(),padding:N(),saturate:Z(),scale:Z(),sepia:Q(),skew:Z(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",et]}],container:["container"],columns:[{columns:[Ca]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),et]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hf,et]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",et]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",hf,et]}],"grid-cols":[{"grid-cols":[pf]}],"col-start-end":[{col:["auto",{span:["full",hf,et]},et]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[pf]}],"row-start-end":[{row:["auto",{span:[hf,et]},et]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",et]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",et,e]}],"min-w":[{"min-w":[et,e,"min","max","fit"]}],"max-w":[{"max-w":[et,e,"none","full","min","max","fit","prose",{screen:[Ca]},Ca]}],h:[{h:[et,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[et,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[et,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[et,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ca,Pa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xx]}],"font-family":[{font:[pf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",et]}],"line-clamp":[{"line-clamp":["none",gu,xx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Co,et]}],"list-image":[{"list-image":["none",et]}],"list-style-type":[{list:["none","disc","decimal",et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Co,Pa]}],"underline-offset":[{"underline-offset":["auto",Co,et]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),s4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",i4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},a4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[...E(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:E()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...E()]}],"outline-offset":[{"outline-offset":[Co,et]}],"outline-w":[{outline:[Co,Pa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[Co,Pa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ca,l4]}],"shadow-color":[{shadow:[pf]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ca,et]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",et]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",et]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[hf,et]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",et]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",et]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",et]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Co,Pa,xx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ie=d8e(f4)}});function f8e(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var h8e=F({"../node_modules/regexparam/dist/index.mjs"(){}}),h4,p4,m4,g4,wT,dne=F({"../node_modules/wouter/esm/react-deps.js"(){h4=S.useInsertionEffect,p4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m4=p4?S.useLayoutEffect:S.useEffect,g4=h4||m4,wT=t=>{const e=S.useRef([t,(...n)=>e[0](...n)]).current;return g4(()=>{e[0]=t}),e[1]}}}),y4,vx,wx,O4,Hk,b4,Kk,x4,fne,Jk,v4,w4,hne,eP,p8e=F({"../node_modules/wouter/esm/use-browser-location.js"(){if(dne(),y4="popstate",vx="pushState",wx="replaceState",O4="hashchange",Hk=[y4,vx,wx,O4],b4=t=>{for(const e of Hk)addEventListener(e,t);return()=>{for(const e of Hk)removeEventListener(e,t)}},Kk=(t,e)=>pue.useSyncExternalStore(b4,t,e),x4=()=>location.search,fne=({ssrSearch:t=""}={})=>Kk(x4,()=>t),Jk=()=>location.pathname,v4=({ssrPath:t}={})=>Kk(Jk,t?()=>t:Jk),w4=(t,{replace:e=!1,state:n=null}={})=>history[e?wx:vx](n,"",t),hne=(t={})=>[v4(t),w4],eP=Symbol.for("wouter_v3"),typeof history<"u"&&typeof window[eP]>"u"){for(const t of[vx,wx]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,eP,{value:!0})}}}),S4,tP,_4,$4,k4,Sx,P4,nP,rP,Ma,iP,sP,ST,km,xs,pne,oP,_T,aP,C4,Ze,DO,lP,aa,wn=F({"../node_modules/wouter/esm/index.js"(){h8e(),p8e(),dne(),S4=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",tP=(t="")=>t==="/"?"":t,_4=(t,e)=>t[0]==="~"?t.slice(1):tP(e)+t,$4=(t="",e)=>S4(Sx(tP(t)),Sx(e)),k4=t=>t[0]==="?"?t.slice(1):t,Sx=t=>{try{return decodeURI(t)}catch{return t}},P4=t=>Sx(k4(t)),nP={hook:hne,searchHook:fne,parser:f8e,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},rP=S.createContext(nP),Ma=()=>S.useContext(rP),iP={},sP=S.createContext(iP),ST=()=>S.useContext(sP),km=t=>{const[e,n]=t.hook(t);return[$4(t.base,e),wT((r,i)=>n(_4(r,t.base),i))]},xs=()=>km(Ma()),pne=()=>{const t=Ma();return P4(t.searchHook(t))},oP=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((d,f)=>[d,l[f]])):o.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[a]:[]]:[!1,null]},_T=({children:t,...e})=>{var u,d;const n=Ma(),r=e.hook?nP:n;let i=r;const[s,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((d=e.hook)==null?void 0:d.hrefs);let a=S.useRef({}),l=a.current,c=l;for(let f in r){const h=f==="base"?r[f]+(e[f]||""):e[f]||r[f];l===c&&h!==c[f]&&(a.current=c={...c}),c[f]=h,h!==r[f]&&(i=c)}return S.createElement(rP.Provider,{value:i,children:t})},aP=({children:t,component:e},n)=>e?S.createElement(e,{params:n}):typeof t=="function"?t(n):t,C4=t=>{let e=S.useRef(iP),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Ze=({path:t,nest:e,match:n,...r})=>{const i=Ma(),[s]=km(i),[o,a,l]=n??oP(i.parser,t,s,e),c=C4({...ST(),...a});if(!o)return null;const u=l?S.createElement(_T,{base:l},aP(r,c)):aP(r,c);return S.createElement(sP.Provider,{value:c,children:u})},DO=S.forwardRef((t,e)=>{const n=Ma(),[r,i]=km(n),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:u,replace:d,state:f,...h}=t,m=wT(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(a==null||a(y),y.defaultPrevented||(y.preventDefault(),i(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&S.isValidElement(c)?S.cloneElement(c,{onClick:m,href:g}):S.createElement("a",{...h,onClick:m,href:g,className:u!=null&&u.call?u(r===o):u,children:c,ref:e})}),lP=t=>Array.isArray(t)?t.flatMap(e=>lP(e&&e.type===S.Fragment?e.props.children:e)):[t],aa=({children:t,location:e})=>{const n=Ma(),[r]=km(n);for(const i of lP(t)){let s=0;if(S.isValidElement(i)&&(s=oP(n.parser,i.props.path,e||r,i.props.nest))[0])return S.cloneElement(i,{match:s})}return null}}}),Wt,Xi=F({"src/ui/hooks/use-event.ts"(){Wt=t=>{const e=S.useRef([t,(...n)=>e[0](...n)]).current;return S.useInsertionEffect(()=>{e[0]=t}),e[1]}}});function jn({className:t,native:e,onClick:n,...r}){const i=Ma(),[s,o]=mne(i);function a(h,m){if(h.startsWith(m)){const g=h.replace(m,"");return g.length===0||g[0]==="/"}return!1}const l=r.href??r.to,c=i.hrefs(l[0]==="~"?l.slice(1):i.base+l,i).replace("//","/"),u=$T(s,i.base).replace("//","/"),d=c.replace(i.base,"").length<=1?c===u:a(u,c);if(e)return p.jsx("a",{className:`${d?"active ":""}${t}`,...r});const f=h=>{};return p.jsx(DO,{className:`${d?"active ":""}${t}`,...r,onClick:f})}var j4,$T,E4,mne,Oo=F({"src/ui/components/wouter/Link.tsx"(){wn(),Xi(),j4=(t="",e="")=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",$T=(t,e="")=>t[0]==="~"?t.slice(1):e+t,E4=t=>{try{return decodeURI(t)}catch{return t}},mne=t=>{const[e,n]=t.hook(t);return[E4(j4(t.base,e)),Wt((r,i)=>n($T(r,t.base),i))]}}}),T4,N4,A4,cP,Ue,gne,wt=F({"src/ui/components/buttons/Button.tsx"(){vt(),Oo(),T4={small:"px-2 py-1.5 rounded-md gap-1 text-sm",default:"px-3 py-2.5 rounded-md gap-1.5",large:"px-4 py-3 rounded-md gap-2.5 text-lg"},N4={small:12,default:16,large:20},A4={default:"bg-primary/5 hover:bg-primary/10 link text-primary/70",primary:"bg-primary hover:bg-primary/80 link text-background",ghost:"bg-transparent hover:bg-primary/5 link text-primary/70",outline:"border border-primary/70 bg-transparent hover:bg-primary/5 link text-primary/70",red:"dark:bg-red-950 dark:hover:bg-red-900 bg-red-100 hover:bg-red-200 link text-primary/70",subtlered:"dark:text-red-950 text-red-700 dark:hover:bg-red-900 bg-transparent hover:bg-red-50 link"},cP=({children:t,size:e,variant:n,IconLeft:r,IconRight:i,iconSize:s=N4[e??"default"],iconProps:o,labelClassName:a,...l})=>({...l,className:Ie("flex flex-row flex-nowrap items-center font-semibold disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed",T4[e??"default"],A4[n??"default"],l.className),children:p.jsxs(p.Fragment,{children:[r&&p.jsx(r,{size:s,...o}),t&&p.jsx("span",{className:Ie("leading-none",a),children:t}),i&&p.jsx(i,{size:s,...o})]})}),Ue=S.forwardRef((t,e)=>p.jsx("button",{type:"button",ref:e,...cP(t)})),gne=S.forwardRef((t,e)=>p.jsx(jn,{ref:e,href:"#",...cP(t)}))}}),Pm,R4,M4,I4,D4,Ja,QO=F({"src/ui/components/display/Alert.tsx"(){vt(),Pm=({visible:t=!0,title:e,message:n,className:r,children:i,...s})=>t?p.jsxs("div",{...s,className:Ie("flex flex-row items-center dark:bg-amber-300/20 bg-amber-200 p-4",r),children:[e&&p.jsxs("b",{className:"mr-2",children:[e,":"]}),n||i]}):null,R4=({className:t,...e})=>p.jsx(Pm,{...e,className:Ie("dark:bg-amber-300/20 bg-amber-200",t)}),M4=({className:t,...e})=>p.jsx(Pm,{...e,className:Ie("dark:bg-red-950 bg-red-100",t)}),I4=({className:t,...e})=>p.jsx(Pm,{...e,className:Ie("dark:bg-green-950 bg-green-100",t)}),D4=({className:t,...e})=>p.jsx(Pm,{...e,className:Ie("dark:bg-blue-950 bg-blue-100",t)}),Ja={Warning:R4,Exception:M4,Success:I4,Info:D4}}});function m8e({api:t,setSchema:e,reloadSchema:n}){async function r(i,s,o,a){const l={id:"schema-"+[i,s,a].join("-"),position:"top-right",autoClose:3e3};return o.success===!0?(console.log("update config",i,s,a,o.body),o.body.success&&e(c=>c&&{...c,config:{...c.config,[s]:o.config}}),Da.show({...l,title:`Config updated: ${bs(s)}`,color:"blue",message:`Operation ${i.toUpperCase()} at ${s}${a?"."+a:""}`})):Da.show({...l,title:`Config Update failed: ${bs(s)}${a?"."+a:""}`,color:"red",withCloseButton:!0,autoClose:!1,message:o.error??"Failed to complete config update"}),o.success}return{reload:n,set:async(i,s,o)=>{const a=await t.system.setConfig(i,s,o);return await r("set",i,a)},patch:async(i,s,o)=>{const a=await t.system.patchConfig(i,s,o);return await r("patch",i,a,s)},overwrite:async(i,s,o)=>{const a=await t.system.overwriteConfig(i,s,o);return await r("overwrite",i,a,s)},add:async(i,s,o)=>{const a=await t.system.addConfig(i,s,o);return await r("add",i,a,s)},remove:async(i,s)=>{const o=await t.system.removeConfig(i,s);return await r("remove",i,o,s)}}}var g8e=F({"src/ui/client/schema/actions.ts"(){zJ(),we()}}),yne,y8e=F({"src/ui/client/utils/AppReduced.ts"(){xr(),bI(),Wd(),yne=class{constructor(t){J(this,"_entities",[]);J(this,"_relations",[]);J(this,"_flows",[]);this.appJson=t,this._entities=Object.entries(this.appJson.data.entities??{}).map(([e,n])=>_I(e,n)),this._relations=Object.entries(this.appJson.data.relations??{}).map(([,e])=>ete(e,this.entity.bind(this)));for(const[e,n]of Object.entries(this.appJson.flows.flows??{})){const r=M1.fromObject(e,n,TI);this._flows.push(r)}}get entities(){return this._entities}entity(t){const e=typeof t=="string"?t:t.name,n=this._entities.find(r=>r.name===e);if(!n)throw new Error(`Entity "${e}" not found`);return n}get relations(){return new OI(this._relations)}get flows(){return this._flows}get config(){return this.appJson}getAdminConfig(){return this.appJson.server.admin}getSettingsPath(t=[]){const{basepath:e}=this.getAdminConfig();return[`~/${e}/settings`.replace(/\/+/g,"/"),...t].join("/")}getAbsolutePath(t){const{basepath:e}=this.getAdminConfig();return(t?`~/${e}/${t}`:`~/${e}`).replace(/\/+/g,"/")}getAuthConfig(){return this.appJson.auth}}}});function O8e({includeSecrets:t=!1,adminOverride:e,children:n,fallback:r=null}){const[i,s]=S.useState(t),[o,a]=S.useState(),[l,c]=S.useState(!1),[u,d]=S.useState(),f=S.useRef(),[h,m]=S.useState(0),g=oa();async function y(){await O(t,!0)}async function O(_=!1,$){if(i&&!$)return;const k=await g.system.readSchema({config:!0,secrets:_});if(k.ok)u&&d(!1);else{if(f.current)return;f.current=!0,d(!0)}const j=k.ok?k.body:{version:0,schema:tne(),config:HUe(),permissions:[]};e&&(j.config.server.admin={...j.config.server.admin,...e}),S.startTransition(()=>{a(j),s(_),c(!0),m(P=>P+1)})}async function b(){i||await O(!0)}if(S.useEffect(()=>{o!=null&&o.schema||O(t)},[]),!l||!o)return r;const x=new yne(o==null?void 0:o.config),v=m8e({api:g,setSchema:a,reloadSchema:y}),w=i&&!u;return p.jsx(VI.Provider,{value:{...o,actions:v,requireSecrets:b,app:x,adminOverride:e,hasSecrets:w},children:n},h)}function nt({withSecrets:t}={}){const e=S.useContext(VI);return t&&e.requireSecrets(),e}var VI,ya=F({"src/ui/client/BkndProvider.tsx"(){KUe(),Dr(),g8e(),y8e(),VI=S.createContext(void 0)}}),Gt=F({"src/ui/client/bknd.ts"(){ya()}});function BI({scale:t=.2,fill:e,theme:n="light"}){var a;const r=nt(),i=n??((a=r==null?void 0:r.app)==null?void 0:a.getAdminConfig().color_scheme)??"light",s=e||(i==="light"?"black":"white"),o={width:Math.round(578*t),height:Math.round(188*t)};return p.jsx("div",{style:o,children:p.jsxs("svg",{width:o.width,height:o.height,viewBox:"0 0 578 188",fill:s,xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.5 34C37.0817 34 33.5 37.5817 33.5 42V146C33.5 150.418 37.0817 154 41.5 154H158.5C162.918 154 166.5 150.418 166.5 146V42C166.5 37.5817 162.918 34 158.5 34H41.5ZM123.434 113.942C124.126 111.752 124.5 109.42 124.5 107C124.5 94.2975 114.203 84 101.5 84C99.1907 84 96.9608 84.3403 94.8579 84.9736L87.2208 65.1172C90.9181 63.4922 93.5 59.7976 93.5 55.5C93.5 49.701 88.799 45 83 45C77.201 45 72.5 49.701 72.5 55.5C72.5 61.299 77.201 66 83 66C83.4453 66 83.8841 65.9723 84.3148 65.9185L92.0483 86.0256C87.1368 88.2423 83.1434 92.1335 80.7957 96.9714L65.4253 91.1648C65.4746 90.7835 65.5 90.3947 65.5 90C65.5 85.0294 61.4706 81 56.5 81C51.5294 81 47.5 85.0294 47.5 90C47.5 94.9706 51.5294 99 56.5 99C60.0181 99 63.0648 96.9814 64.5449 94.0392L79.6655 99.7514C78.9094 102.03 78.5 104.467 78.5 107C78.5 110.387 79.2321 113.603 80.5466 116.498L69.0273 123.731C67.1012 121.449 64.2199 120 61 120C55.201 120 50.5 124.701 50.5 130.5C50.5 136.299 55.201 141 61 141C66.799 141 71.5 136.299 71.5 130.5C71.5 128.997 71.1844 127.569 70.6158 126.276L81.9667 119.149C86.0275 125.664 93.2574 130 101.5 130C110.722 130 118.677 124.572 122.343 116.737L132.747 120.899C132.585 121.573 132.5 122.276 132.5 123C132.5 127.971 136.529 132 141.5 132C146.471 132 150.5 127.971 150.5 123C150.5 118.029 146.471 114 141.5 114C138.32 114 135.525 115.649 133.925 118.139L123.434 113.942Z"}),p.jsx("path",{d:"M243.9 151.5C240.4 151.5 237 151 233.7 150C230.4 149 227.4 147.65 224.7 145.95C222 144.15 219.75 142.15 217.95 139.95C216.15 137.65 215 135.3 214.5 132.9L219.3 131.1L218.25 149.7H198.15V39H219.45V89.25L215.4 87.6C216 85.2 217.15 82.9 218.85 80.7C220.55 78.4 222.7 76.4 225.3 74.7C227.9 72.9 230.75 71.5 233.85 70.5C236.95 69.5 240.15 69 243.45 69C250.35 69 256.5 70.8 261.9 74.4C267.3 77.9 271.55 82.75 274.65 88.95C277.85 95.15 279.45 102.25 279.45 110.25C279.45 118.25 277.9 125.35 274.8 131.55C271.7 137.75 267.45 142.65 262.05 146.25C256.75 149.75 250.7 151.5 243.9 151.5ZM238.8 133.35C242.8 133.35 246.25 132.4 249.15 130.5C252.15 128.5 254.5 125.8 256.2 122.4C257.9 118.9 258.75 114.85 258.75 110.25C258.75 105.75 257.9 101.75 256.2 98.25C254.6 94.75 252.3 92.05 249.3 90.15C246.3 88.25 242.8 87.3 238.8 87.3C234.8 87.3 231.3 88.25 228.3 90.15C225.3 92.05 222.95 94.75 221.25 98.25C219.55 101.75 218.7 105.75 218.7 110.25C218.7 114.85 219.55 118.9 221.25 122.4C222.95 125.8 225.3 128.5 228.3 130.5C231.3 132.4 234.8 133.35 238.8 133.35ZM308.312 126.15L302.012 108.6L339.512 70.65H367.562L308.312 126.15ZM288.062 150V39H309.362V150H288.062ZM341.762 150L313.262 114.15L328.262 102.15L367.412 150H341.762ZM371.675 150V70.65H392.075L392.675 86.85L388.475 88.65C389.575 85.05 391.525 81.8 394.325 78.9C397.225 75.9 400.675 73.5 404.675 71.7C408.675 69.9 412.875 69 417.275 69C423.275 69 428.275 70.2 432.275 72.6C436.375 75 439.425 78.65 441.425 83.55C443.525 88.35 444.575 94.3 444.575 101.4V150H423.275V103.05C423.275 99.45 422.775 96.45 421.775 94.05C420.775 91.65 419.225 89.9 417.125 88.8C415.125 87.6 412.625 87.1 409.625 87.3C407.225 87.3 404.975 87.7 402.875 88.5C400.875 89.2 399.125 90.25 397.625 91.65C396.225 93.05 395.075 94.65 394.175 96.45C393.375 98.25 392.975 100.2 392.975 102.3V150H382.475C380.175 150 378.125 150 376.325 150C374.525 150 372.975 150 371.675 150ZM488.536 151.5C481.636 151.5 475.436 149.75 469.936 146.25C464.436 142.65 460.086 137.8 456.886 131.7C453.786 125.5 452.236 118.35 452.236 110.25C452.236 102.35 453.786 95.3 456.886 89.1C460.086 82.9 464.386 78 469.786 74.4C475.286 70.8 481.536 69 488.536 69C492.236 69 495.786 69.6 499.186 70.8C502.686 71.9 505.786 73.45 508.486 75.45C511.286 77.45 513.536 79.7 515.236 82.2C516.936 84.6 517.886 87.15 518.086 89.85L512.686 90.75V39H533.986V150H513.886L512.986 131.7L517.186 132.15C516.986 134.65 516.086 137.05 514.486 139.35C512.886 141.65 510.736 143.75 508.036 145.65C505.436 147.45 502.436 148.9 499.036 150C495.736 151 492.236 151.5 488.536 151.5ZM493.336 133.8C497.336 133.8 500.836 132.8 503.836 130.8C506.836 128.8 509.186 126.05 510.886 122.55C512.586 119.05 513.436 114.95 513.436 110.25C513.436 105.65 512.586 101.6 510.886 98.1C509.186 94.5 506.836 91.75 503.836 89.85C500.836 87.85 497.336 86.85 493.336 86.85C489.336 86.85 485.836 87.85 482.836 89.85C479.936 91.75 477.636 94.5 475.936 98.1C474.336 101.6 473.536 105.65 473.536 110.25C473.536 114.95 474.336 119.05 475.936 122.55C477.636 126.05 479.936 128.8 482.836 130.8C485.836 132.8 489.336 133.8 493.336 133.8Z"})]})})}var zI=F({"src/ui/components/display/Logo.tsx"(){Gt()}});function b8e(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function One(...t){return e=>t.forEach(n=>b8e(n,e))}function ku(...t){return S.useCallback(One(...t),t)}var WI=F({"../node_modules/@radix-ui/react-compose-refs/dist/index.mjs"(){}});function x8e(t){return S.isValidElement(t)&&t.type===bne}function v8e(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function w8e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var kT,_x,bne,S8e=F({"../node_modules/@radix-ui/react-slot/dist/index.mjs"(){WI(),kT=S.forwardRef((t,e)=>{const{children:n,...r}=t,i=S.Children.toArray(n),s=i.find(x8e);if(s){const o=s.props.children,a=i.map(l=>l===s?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:l);return p.jsx(_x,{...r,ref:e,children:S.isValidElement(o)?S.cloneElement(o,void 0,a):null})}return p.jsx(_x,{...r,ref:e,children:n})}),kT.displayName="Slot",_x=S.forwardRef((t,e)=>{const{children:n,...r}=t;if(S.isValidElement(n)){const i=w8e(n);return S.cloneElement(n,{...v8e(r,n.props),ref:e?One(e,i):i})}return S.Children.count(n)>1?S.Children.only(null):null}),_x.displayName="SlotClone",bne=({children:t})=>p.jsx(p.Fragment,{children:t})}}),Q4,Sf,_8e=F({"../node_modules/@radix-ui/react-primitive/dist/index.mjs"(){S8e(),Q4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Sf=Q4.reduce((t,e)=>{const n=S.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?kT:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{})}}),p0,xne=F({"../node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs"(){p0=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{}}});function $8e(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}function k8e(t){const[e,n]=S.useState(),r=S.useRef({}),i=S.useRef(t),s=S.useRef("none"),o=t?"mounted":"unmounted",[a,l]=$8e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=$x(r.current);s.current=a==="mounted"?c:"none"},[a]),p0(()=>{const c=r.current,u=i.current;if(u!==t){const f=s.current,h=$x(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),p0(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=h=>{const g=$x(r.current).includes(h.animationName);if(h.target===e&&g&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=h=>{h.target===e&&(s.current=$x(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function $x(t){return(t==null?void 0:t.animationName)||"none"}function P8e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Df,C8e=F({"../node_modules/@radix-ui/react-presence/dist/index.mjs"(){"use client";WI(),xne(),Df=t=>{const{present:e,children:n}=t,r=k8e(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=ku(r.ref,P8e(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null},Df.displayName="Presence"}});function j8e(t,e=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];const c=d=>{var O;const{scope:f,children:h,...m}=d,g=((O=f==null?void 0:f[t])==null?void 0:O[l])||a,y=S.useMemo(()=>m,Object.values(m));return p.jsx(g.Provider,{value:y,children:h})};c.displayName=s+"Provider";function u(d,f){var g;const h=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,m=S.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,E8e(i,...e)]}function E8e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var T8e=F({"../node_modules/@radix-ui/react-context/dist/index.mjs"(){}});function Du(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var N8e=F({"../node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs"(){}});function A8e(t){const e=S.useContext(vne);return t||e||"ltr"}var vne,R8e=F({"../node_modules/@radix-ui/react-direction/dist/index.mjs"(){vne=S.createContext(void 0)}});function M8e(t,[e,n]){return Math.min(n,Math.max(e,t))}var I8e=F({"../node_modules/@radix-ui/number/dist/index.mjs"(){}});function Ou(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var D8e=F({"../node_modules/@radix-ui/primitive/dist/index.mjs"(){}});function Q8e(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}function kx(t){return t?parseInt(t,10):0}function wne(t,e){const n=t/e;return isNaN(n)?0:n}function m0(t){const e=wne(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function F8e(t,e,n,r="ltr"){const i=m0(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return Sne([l,c],d)(t)}function F4(t,e,n="ltr"){const r=m0(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=M8e(t,l);return Sne([0,o],[0,a])(c)}function Sne(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function L4(t,e){return t>0&&t<e}function Px(t,e){const n=Du(t),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function mf(t,e){const n=Du(e);p0(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function L8e(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=S.Children.only(r);return S.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var Cx,uP,q8e,q4,Si,dP,fP,hP,Ds,pP,V4,B4,mP,jx,z4,W4,U4,gP,yP,Cm,OP,Z4,Ex,X4,Y4,G4,UI,ZI,_y,$y,_ne=F({"../node_modules/@radix-ui/react-scroll-area/dist/index.mjs"(){"use client";_8e(),C8e(),T8e(),WI(),N8e(),R8e(),xne(),I8e(),D8e(),Cx="ScrollArea",[uP,q8e]=j8e(Cx),[q4,Si]=uP(Cx),dP=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=S.useState(null),[c,u]=S.useState(null),[d,f]=S.useState(null),[h,m]=S.useState(null),[g,y]=S.useState(null),[O,b]=S.useState(0),[x,v]=S.useState(0),[w,_]=S.useState(!1),[$,k]=S.useState(!1),j=ku(e,R=>l(R)),P=A8e(i);return p.jsx(q4,{scope:n,type:r,dir:P,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:w,onScrollbarXEnabledChange:_,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:$,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:v,children:p.jsx(Sf.div,{dir:P,...o,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":O+"px","--radix-scroll-area-corner-height":x+"px",...t.style}})})}),dP.displayName=Cx,fP="ScrollAreaViewport",hP=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:s,...o}=t,a=Si(fP,n),l=S.useRef(null),c=ku(e,l,a.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),p.jsx(Sf.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:L8e({asChild:i,children:r},u=>p.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})}),hP.displayName=fP,Ds="ScrollAreaScrollbar",pP=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Si(Ds,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return S.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?p.jsx(V4,{...r,ref:e,forceMount:n}):i.type==="scroll"?p.jsx(B4,{...r,ref:e,forceMount:n}):i.type==="auto"?p.jsx(mP,{...r,ref:e,forceMount:n}):i.type==="always"?p.jsx(jx,{...r,ref:e}):null}),pP.displayName=Ds,V4=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Si(Ds,t.__scopeScrollArea),[s,o]=S.useState(!1);return S.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(Df,{present:n||s,children:p.jsx(mP,{"data-state":s?"visible":"hidden",...r,ref:e})})}),B4=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Si(Ds,t.__scopeScrollArea),s=t.orientation==="horizontal",o=Px(()=>l("SCROLL_END"),100),[a,l]=Q8e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),S.useEffect(()=>{const c=i.viewport,u=s?"scrollLeft":"scrollTop";if(c){let d=c[u];const f=()=>{const h=c[u];d!==h&&(l("SCROLL"),o()),d=h};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,s,l,o]),p.jsx(Df,{present:n||a!=="hidden",children:p.jsx(jx,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ou(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ou(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),mP=S.forwardRef((t,e)=>{const n=Si(Ds,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=S.useState(!1),a=t.orientation==="horizontal",l=Px(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return mf(n.viewport,l),mf(n.content,l),p.jsx(Df,{present:r||s,children:p.jsx(jx,{"data-state":s?"visible":"hidden",...i,ref:e})})}),jx=S.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Si(Ds,t.__scopeScrollArea),s=S.useRef(null),o=S.useRef(0),[a,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=wne(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function d(f,h){return F8e(f,o.current,a,h)}return n==="horizontal"?p.jsx(z4,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollLeft,h=F4(f,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=d(f,i.dir))}}):n==="vertical"?p.jsx(W4,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollTop,h=F4(f,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=d(f))}}):null}),z4=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Si(Ds,t.__scopeScrollArea),[o,a]=S.useState(),l=S.useRef(null),c=ku(e,l,s.onScrollbarXChange);return S.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(yP,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":m0(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(s.viewport){const f=s.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),L4(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:kx(o.paddingLeft),paddingEnd:kx(o.paddingRight)}})}})}),W4=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Si(Ds,t.__scopeScrollArea),[o,a]=S.useState(),l=S.useRef(null),c=ku(e,l,s.onScrollbarYChange);return S.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(yP,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":m0(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(s.viewport){const f=s.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),L4(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:kx(o.paddingTop),paddingEnd:kx(o.paddingBottom)}})}})}),[U4,gP]=uP(Ds),yP=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...f}=t,h=Si(Ds,n),[m,g]=S.useState(null),y=ku(e,j=>g(j)),O=S.useRef(null),b=S.useRef(""),x=h.viewport,v=r.content-r.viewport,w=Du(u),_=Du(l),$=Px(d,10);function k(j){if(O.current){const P=j.clientX-O.current.left,R=j.clientY-O.current.top;c({x:P,y:R})}}return S.useEffect(()=>{const j=P=>{const R=P.target;(m==null?void 0:m.contains(R))&&w(P,v)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[x,m,v,w]),S.useEffect(_,[r,_]),mf(m,$),mf(h.content,$),p.jsx(U4,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:Du(s),onThumbPointerUp:Du(o),onThumbPositionChange:_,onThumbPointerDown:Du(a),children:p.jsx(Sf.div,{...f,ref:y,style:{position:"absolute",...f.style},onPointerDown:Ou(t.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),O.current=m.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),k(j))}),onPointerMove:Ou(t.onPointerMove,k),onPointerUp:Ou(t.onPointerUp,j=>{const P=j.target;P.hasPointerCapture(j.pointerId)&&P.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=b.current,h.viewport&&(h.viewport.style.scrollBehavior=""),O.current=null})})})}),Cm="ScrollAreaThumb",OP=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=gP(Cm,t.__scopeScrollArea);return p.jsx(Df,{present:n||i.hasThumb,children:p.jsx(Z4,{ref:e,...r})})}),Z4=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=Si(Cm,n),o=gP(Cm,n),{onThumbPositionChange:a}=o,l=ku(e,d=>o.onThumbChange(d)),c=S.useRef(),u=Px(()=>{c.current&&(c.current(),c.current=void 0)},100);return S.useEffect(()=>{const d=s.viewport;if(d){const f=()=>{if(u(),!c.current){const h=G4(d,a);c.current=h,a()}};return a(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[s.viewport,u,a]),p.jsx(Sf.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ou(t.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),m=d.clientX-h.left,g=d.clientY-h.top;o.onThumbPointerDown({x:m,y:g})}),onPointerUp:Ou(t.onPointerUp,o.onThumbPointerUp)})}),OP.displayName=Cm,Ex="ScrollAreaCorner",X4=S.forwardRef((t,e)=>{const n=Si(Ex,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(Y4,{...t,ref:e}):null}),X4.displayName=Ex,Y4=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Si(Ex,n),[s,o]=S.useState(0),[a,l]=S.useState(0),c=!!(s&&a);return mf(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),mf(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?p.jsx(Sf.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null}),G4=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)},UI=dP,ZI=hP,_y=pP,$y=OP}}),H4,lt,Lt=F({"src/ui/components/buttons/IconButton.tsx"(){vt(),wt(),H4={xs:{className:"p-0.5",size:13},sm:{className:"p-0.5",size:15},md:{className:"p-1",size:18},lg:{className:"p-1.5",size:22}},lt=S.forwardRef(({Icon:t,size:e,variant:n="ghost",onClick:r,disabled:i,iconProps:s,...o},a)=>{const l=H4[e??"md"];return p.jsx(Ue,{ref:a,variant:n,iconSize:l.size,iconProps:s,IconLeft:t,className:Ie(l.className,o.className),onClick:r,disabled:i})})}});function V8e({children:t}){const{width:e}=EWe(),[n,r]=Cl(e>768);return p.jsx(XI.Provider,{value:{sidebar:{open:n,handler:r}},children:t})}function $ne(){return S.useContext(XI)}var XI,kne=F({"src/ui/layouts/AppShell/use-appshell.tsx"(){en(),XI=S.createContext(void 0)}}),B8e=F({"../node_modules/react-icons/lib/iconsManifest.mjs"(){}}),PT,CT,Pne=F({"../node_modules/react-icons/lib/iconContext.mjs"(){PT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},CT=ve.createContext&&ve.createContext(PT)}});function z8e(t,e){if(t==null)return{};var n=W8e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g0(){return g0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g0.apply(this,arguments)}function K4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K4(Object(n),!0).forEach(function(r){U8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U8e(t,e,n){return e=Z8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z8e(t){var e=X8e(t,"string");return typeof e=="symbol"?e:e+""}function X8e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cne(t){return t&&t.map((e,n)=>ve.createElement(e.tag,y0({key:n},e.attr),Cne(e.child)))}function Ke(t){return e=>ve.createElement(Y8e,g0({attr:y0({},t.attr)},e),Cne(t.child))}function Y8e(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=z8e(t,jne),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ve.createElement("svg",g0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:y0(y0({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ve.createElement("title",null,s),t.children)};return CT!==void 0?ve.createElement(CT.Consumer,null,n=>e(n)):e(PT)}var jne,G8e=F({"../node_modules/react-icons/lib/iconBase.mjs"(){Pne(),jne=["attr","size","title"]}}),H8e=F({"../node_modules/react-icons/lib/index.mjs"(){B8e(),G8e(),Pne()}});function Ene(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z"},child:[]}]})(t)}function Tne(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.333 2c1.96 0 3.56 1.537 3.662 3.472l.005 .195v12.666c0 1.96 -1.537 3.56 -3.472 3.662l-.195 .005h-12.666a3.667 3.667 0 0 1 -3.662 -3.472l-.005 -.195v-12.666c0 -1.96 1.537 -3.56 3.472 -3.662l.195 -.005h12.666zm-2.626 7.293a1 1 0 0 0 -1.414 0l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l2 2l.094 .083a1 1 0 0 0 1.32 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"},child:[]}]})(t)}function YI(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M18 13l-6 6"},child:[]},{tag:"path",attr:{d:"M6 13l6 6"},child:[]}]})(t)}function GI(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l14 0"},child:[]},{tag:"path",attr:{d:"M5 12l6 6"},child:[]},{tag:"path",attr:{d:"M5 12l6 -6"},child:[]}]})(t)}function HI(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M18 11l-6 -6"},child:[]},{tag:"path",attr:{d:"M6 11l6 -6"},child:[]}]})(t)}function K8e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5"},child:[]},{tag:"path",attr:{d:"M12 12l8 -4.5"},child:[]},{tag:"path",attr:{d:"M12 12l0 9"},child:[]},{tag:"path",attr:{d:"M12 12l-8 -4.5"},child:[]}]})(t)}function J8e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 4a2 2 0 0 0 -2 2v3a2 3 0 0 1 -2 3a2 3 0 0 1 2 3v3a2 2 0 0 0 2 2"},child:[]},{tag:"path",attr:{d:"M17 4a2 2 0 0 1 2 2v3a2 3 0 0 0 2 3a2 3 0 0 0 -2 3v3a2 2 0 0 1 -2 2"},child:[]}]})(t)}function Nne(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z"},child:[]},{tag:"path",attr:{d:"M16 3v4"},child:[]},{tag:"path",attr:{d:"M8 3v4"},child:[]},{tag:"path",attr:{d:"M4 11h16"},child:[]},{tag:"path",attr:{d:"M11 15h1"},child:[]},{tag:"path",attr:{d:"M12 15v3"},child:[]}]})(t)}function e7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 9l6 6l6 -6"},child:[]}]})(t)}function Ane(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 6l-6 6l6 6"},child:[]}]})(t)}function Rne(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 6l6 6l-6 6"},child:[]}]})(t)}function Mne(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 7l-5 5l5 5"},child:[]},{tag:"path",attr:{d:"M17 7l-5 5l5 5"},child:[]}]})(t)}function Ine(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7l5 5l-5 5"},child:[]},{tag:"path",attr:{d:"M13 7l5 5l-5 5"},child:[]}]})(t)}function KI(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.183 6.117a6 6 0 1 0 4.511 3.986"},child:[]},{tag:"path",attr:{d:"M14.813 17.883a6 6 0 1 0 -4.496 -3.954"},child:[]}]})(t)}function t7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 12h6"},child:[]},{tag:"path",attr:{d:"M12 9v6"},child:[]},{tag:"path",attr:{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2"},child:[]},{tag:"path",attr:{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2"},child:[]}]})(t)}function n7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"},child:[]},{tag:"path",attr:{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"},child:[]}]})(t)}function Dne(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3"},child:[]},{tag:"path",attr:{d:"M4 6v6c0 1.657 3.582 3 8 3c1.075 0 2.1 -.08 3.037 -.224"},child:[]},{tag:"path",attr:{d:"M20 12v-6"},child:[]},{tag:"path",attr:{d:"M4 12v6c0 1.657 3.582 3 8 3c.166 0 .331 -.002 .495 -.006"},child:[]},{tag:"path",attr:{d:"M16 19h6"},child:[]},{tag:"path",attr:{d:"M19 16v6"},child:[]}]})(t)}function r7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0"},child:[]},{tag:"path",attr:{d:"M4 6v6a8 3 0 0 0 16 0v-6"},child:[]},{tag:"path",attr:{d:"M4 12v6a8 3 0 0 0 16 0v-6"},child:[]}]})(t)}function i7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.831 20.413l-5.375 -6.91c-.608 -.783 -.608 -2.223 0 -3l5.375 -6.911a1.457 1.457 0 0 1 2.338 0l5.375 6.91c.608 .783 .608 2.223 0 3l-5.375 6.911a1.457 1.457 0 0 1 -2.338 0z"},child:[]}]})(t)}function s7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function jl(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function o7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"},child:[]},{tag:"path",attr:{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6"},child:[]}]})(t)}function a7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18.9 7a8 8 0 0 1 1.1 5v1a6 6 0 0 0 .8 3"},child:[]},{tag:"path",attr:{d:"M8 11a4 4 0 0 1 8 0v1a10 10 0 0 0 2 6"},child:[]},{tag:"path",attr:{d:"M12 11v2a14 14 0 0 0 2.5 8"},child:[]},{tag:"path",attr:{d:"M8 15a18 18 0 0 0 1.8 6"},child:[]},{tag:"path",attr:{d:"M4.9 19a22 22 0 0 1 -.9 -7v-1a8 8 0 0 1 12 -6.95"},child:[]}]})(t)}function l7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function c7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 3h4v4h-4z"},child:[]},{tag:"path",attr:{d:"M3 17h4v4h-4z"},child:[]},{tag:"path",attr:{d:"M17 17h4v4h-4z"},child:[]},{tag:"path",attr:{d:"M7 17l5 -4l5 4"},child:[]},{tag:"path",attr:{d:"M12 7l0 6"},child:[]}]})(t)}function u7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 9h.01"},child:[]},{tag:"path",attr:{d:"M11 12h1v4h1"},child:[]}]})(t)}function d7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16.555 3.843l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.643 2.643a2.877 2.877 0 0 1 -4.069 0l-.301 -.301l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.877 2.877 0 0 1 0 -4.069l2.643 -2.643a2.877 2.877 0 0 1 4.069 0z"},child:[]},{tag:"path",attr:{d:"M15 9h.01"},child:[]}]})(t)}function f7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 8v-2a2 2 0 0 1 2 -2h2"},child:[]},{tag:"path",attr:{d:"M4 16v2a2 2 0 0 0 2 2h2"},child:[]},{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v2"},child:[]},{tag:"path",attr:{d:"M16 20h2a2 2 0 0 0 2 -2v-2"},child:[]}]})(t)}function h7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 6l16 0"},child:[]},{tag:"path",attr:{d:"M4 12l16 0"},child:[]},{tag:"path",attr:{d:"M4 18l16 0"},child:[]}]})(t)}function p7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(t)}function m7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 10l2 -2v8"},child:[]},{tag:"path",attr:{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3"},child:[]},{tag:"path",attr:{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5"},child:[]}]})(t)}function FO(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 8h.01"},child:[]},{tag:"path",attr:{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"},child:[]},{tag:"path",attr:{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"},child:[]},{tag:"path",attr:{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"},child:[]}]})(t)}function JI(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(t)}function g7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"},child:[]},{tag:"path",attr:{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"},child:[]}]})(t)}function L1(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9l4 -4l4 4"},child:[]},{tag:"path",attr:{d:"M16 15l-4 4l-4 -4"},child:[]}]})(t)}function LO(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"},child:[]},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]}]})(t)}function jT(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M15 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M6 15v-1a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v1"},child:[]},{tag:"path",attr:{d:"M12 9l0 3"},child:[]}]})(t)}function Qne(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"},child:[]}]})(t)}function J4(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15h16"},child:[]},{tag:"path",attr:{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"},child:[]},{tag:"path",attr:{d:"M4 20h12"},child:[]}]})(t)}function y7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M2 6m0 6a6 6 0 0 1 6 -6h8a6 6 0 0 1 6 6v0a6 6 0 0 1 -6 6h-8a6 6 0 0 1 -6 -6z"},child:[]}]})(t)}function Fne(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7l16 0"},child:[]},{tag:"path",attr:{d:"M10 11l0 6"},child:[]},{tag:"path",attr:{d:"M14 11l0 6"},child:[]},{tag:"path",attr:{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"},child:[]},{tag:"path",attr:{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"},child:[]}]})(t)}function O7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"},child:[]},{tag:"path",attr:{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"},child:[]}]})(t)}function b7e(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 4c-2.5 5 -2.5 10 0 16m14 -16c2.5 5 2.5 10 0 16m-10 -11h1c1 0 1 1 2.016 3.527c.984 2.473 .984 3.473 1.984 3.473h1"},child:[]},{tag:"path",attr:{d:"M8 16c1.5 0 3 -2 4 -3.5s2.5 -3.5 4 -3.5"},child:[]}]})(t)}function e2(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6l-12 12"},child:[]},{tag:"path",attr:{d:"M6 6l12 12"},child:[]}]})(t)}var St=F({"../node_modules/react-icons/tb/index.mjs"(){H8e()}});function x7e(){const{config:t,schema:e,actions:n}=nt(),r=t.server.admin.color_scheme??"light",i={theme:{set:async o=>await n.patch("server","admin",{color_scheme:o}),toggle:async()=>await n.patch("server","admin",{color_scheme:r==="light"?"dark":"light"})}};return{$system:{},config:t.server,schema:e.server,theme:r,actions:i}}function t2(){const t=x7e();return{theme:t.theme,set:t.actions.theme.set,toggle:()=>t.actions.theme.toggle()}}var n2=F({"src/ui/client/schema/system/use-bknd-system.ts"(){Gt()}});function vr({children:t,defaultOpen:e=!1,openEvent:n="onClick",position:r="bottom-start",dropdownWrapperProps:i,items:s,title:o,hideOnEmpty:a=!0,onClickItem:l,renderItem:c,itemsClassName:u,className:d}){const[f,h]=S.useState(e),[m,g]=S.useState(r),y=g1(()=>h(!1)),O=s.filter(Boolean),[b,x]=S.useState(0),v=Wt((N=50)=>setTimeout(()=>h(A=>!A),typeof N=="number"?N:0)),w=n==="onClick"?v:void 0,_=Wt(N=>{var E;if(n!=="onContextMenu")return;if(N.preventDefault(),f){v(0),setTimeout(()=>{g(r),x(0)},10);return}const A=N.clientX-N.currentTarget.getBoundingClientRect().left,{left:C=0,right:T=0}=((E=y.current)==null?void 0:E.getBoundingClientRect())??{};if(C>0&&T>0){const I=$6e(A,C,T);A<(C+T)/2?(g("bottom-start"),x(I)):(g("bottom-end"),x(T-I))}else g(r),x(0);v()}),$=4,k={"bottom-start":{top:"100%",left:b,marginTop:$},"bottom-end":{right:b,top:"100%",marginTop:$},"top-start":{bottom:"100%",marginBottom:$},"top-end":{bottom:"100%",right:b,marginBottom:$}}[m],j=Wt(N=>{N.onClick&&N.onClick(),l&&l(N),v(50)});if(O.length===0&&a)return null;const P=O.some(N=>"icon"in N&&N.icon),R=c||((N,{key:A,onClick:C})=>typeof N=="function"?p.jsx(S.Fragment,{children:N()},A):p.jsxs("button",{type:"button",disabled:N.disabled,className:Ie("flex flex-row flex-nowrap text-nowrap items-center outline-none cursor-pointer px-2.5 rounded-md link leading-none h-8",u,N.disabled?"opacity-50 cursor-not-allowed":"hover:bg-primary/10",N.destructive&&"text-red-500 hover:bg-red-600 hover:text-white"),onClick:C,children:[P&&p.jsx("div",{className:"size-[16px] text-left mr-1.5 opacity-80",children:N.icon&&p.jsx(N.icon,{className:"size-[16px]"})}),p.jsx("div",{className:"flex flex-grow truncate text-nowrap",children:N.label})]},A));return p.jsxs("div",{role:"dropdown",className:Ie("relative flex",d),ref:y,onContextMenu:_,children:[S.cloneElement(t,{onClick:w}),f&&p.jsxs("div",{...i,className:Ie("absolute z-30 flex flex-col bg-background border border-muted px-1 py-1 rounded-lg shadow-lg min-w-full",i==null?void 0:i.className),style:k,children:[o&&p.jsx("div",{className:"text-sm font-bold px-2.5 mb-1 mt-1 opacity-50",children:o}),O.map((N,A)=>R(N,{key:A,onClick:()=>j(N)}))]})]})}var Jr=F({"src/ui/components/overlay/Dropdown.tsx"(){en(),we(),vt(),Xi()}});function v7e(t,e){const n=b1(e,{encode:!1});return`${t}?${n}`}function Sr(){const[t,e]=xs(),n=Ma(),{app:r}=nt(),i=r.getAdminConfig().basepath;return[(s,o)=>{(l=>{l()})(()=>{if(o){if("reload"in o){window.location.href=s;return}else if("target"in o){const c=window.location.origin+i+n.base+s;window.open(c,o.target);return}}const l=o!=null&&o.absolute?`~/${i}${s}`.replace(/\/+/g,"/"):s;e(o!=null&&o.query?v7e(l,o==null?void 0:o.query):l,{replace:o==null?void 0:o.replace,state:o==null?void 0:o.state})})},t]}function w7e(t="/",e){const{app:n}=nt();n.getAdminConfig().basepath;const[r]=Sr(),i=document.referrer,s=window.history.length,o=i.length===0,a=o&&s>1||!!o;function l(){o&&s>2?window.history.back():typeof t=="string"?r(t):typeof t=="function"&&t()}return{same:o,canGoBack:a,goBack:l}}var Je,_r=F({"src/ui/lib/routes.ts"(){we(),wn(),ya(),Je={data:{root:()=>"/data",entity:{list:t=>`/entity/${t}`,create:t=>`/entity/${t}/create`,edit:(t,e)=>`/entity/${t}/edit/${e}`},schema:{root:()=>"/schema",entity:t=>`/schema/entity/${t}`}},auth:{root:()=>"/auth",users:{list:()=>"/users",edit:t=>`/users/edit/${t}`},roles:{list:()=>"/roles",edit:t=>`/roles/edit/${t}`},settings:()=>"/settings",strategies:()=>"/strategies"},flows:{root:()=>"/flows",flows:{list:()=>"/",edit:t=>`/flow/${t}`}},settings:{root:()=>"/settings",path:t=>`/settings/${t.join("/")}`}}}});function S7e(){const[t,e]=xs(),n=[{label:"Data",href:"/data",Icon:r7e},{label:"Auth",href:"/auth",Icon:a7e},{label:"Media",href:"/media",Icon:FO},{label:"Flows",href:"/flows",Icon:c7e}],r=n.find(o=>o.exact?t===o.href:t.startsWith(o.href)),i=Wt(o=>{e(o.href)}),s=(o,{key:a,onClick:l})=>p.jsx(pd,{onClick:l,as:"button",className:"rounded-md",children:p.jsxs("div",{"data-active":(r==null?void 0:r.label)===o.label,className:"flex flex-row items-center gap-2.5 data-[active=true]:opacity-50",children:[p.jsx(o.Icon,{size:18}),p.jsx("span",{className:"text-lg",children:o.label})]})},a);return p.jsxs(p.Fragment,{children:[p.jsx("nav",{className:"hidden md:flex flex-row gap-2.5 pl-0 p-2.5 items-center",children:n.map(o=>p.jsx(_l,{label:o.tooltip,disabled:typeof o.tooltip>"u",position:"bottom",children:p.jsx("div",{children:p.jsx(pd,{as:jn,href:o.href,Icon:o.Icon,disabled:o.disabled,children:o.label})})},o.label))}),p.jsx("nav",{className:"flex md:hidden flex-row items-center",children:r&&p.jsx(vr,{items:n,onClickItem:i,renderItem:s,children:p.jsx(pd,{as:"button",Icon:r.Icon,className:"active pl-6 pr-3.5",children:p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx("span",{className:"text-lg",children:r.label}),p.jsx(L1,{size:18,className:"opacity-70"})]})})})})]})}function _7e(){const{sidebar:t}=$ne();return p.jsx(lt,{size:"lg",Icon:t.open?e2:h7e,onClick:t.handler.toggle})}function Lne({hasSidebar:t=!0}){const{app:e}=nt(),{logo_return_path:n="/",color_scheme:r="light"}=e.getAdminConfig();return p.jsxs("header",{"data-shell":"header",className:"flex flex-row w-full h-16 gap-2.5 border-muted border-b justify-start bg-muted/10",children:[p.jsx(jn,{href:n,native:n!=="/",className:"max-h-full flex hover:bg-primary/5 link p-2.5 w-[134px] outline-none",children:p.jsx(BI,{theme:r})}),p.jsx(S7e,{}),p.jsx("div",{className:"flex flex-grow"}),p.jsxs("div",{className:"flex md:hidden flex-row items-center pr-2 gap-2",children:[p.jsx(_7e,{}),p.jsx(ez,{})]}),p.jsx("div",{className:"hidden lg:flex flex-row items-center px-4 gap-2",children:p.jsx(ez,{})})]})}function ez(){var l;const{adminOverride:t,config:e}=nt(),n=qI(),[r]=Sr(),{logout_route:i}=one();async function s(){await n.logout(),r(i,{reload:!0})}async function o(){r("/auth/login")}const a=[{label:"Settings",onClick:()=>r("/settings"),icon:Cd}];return e.auth.enabled&&(n.user?a.push({label:`Logout ${n.user.email}`,onClick:s,icon:KJ}):a.push({label:"Login",onClick:o,icon:tee})),t||a.push(()=>p.jsx($7e,{})),p.jsx(p.Fragment,{children:p.jsx(vr,{items:a,position:"bottom-end",children:n.user?p.jsx(Ue,{className:"rounded-full w-12 h-12 justify-center p-0 text-lg",children:(l=n.user.email[0])==null?void 0:l.toUpperCase()}):p.jsx(Ue,{className:"rounded-full w-12 h-12 justify-center p-0",IconLeft:O7e})})})}function $7e(){const{theme:t,toggle:e}=t2();return p.jsx("div",{className:"flex flex-col items-center mt-1 pt-1 border-t border-primary/5",children:p.jsx(Fd,{className:"w-full",data:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],value:t,onChange:e,size:"xs"})})}var k7e=F({"src/ui/layouts/AppShell/Header.tsx"(){Rn(),St(),Dr(),Gt(),n2(),wt(),Lt(),zI(),Jr(),Oo(),Xi(),kne(),_r(),wn(),Et()}}),Ym={};mo(Ym,{Content:()=>i2,Header:()=>Lne,Main:()=>qO,NavLink:()=>pd,Root:()=>r2,Scrollable:()=>nn,SectionHeader:()=>In,SectionHeaderAccordionItem:()=>np,SectionHeaderLink:()=>ET,SectionHeaderTabs:()=>q1,SectionHeaderTitle:()=>s2,Sidebar:()=>Lp,SidebarLink:()=>li});function r2({children:t}){return p.jsx(V8e,{children:p.jsx("div",{"data-shell":"root",className:"flex flex-1 flex-col select-none h-dvh",children:t})})}function i2({children:t,center:e}){return p.jsx("main",{"data-shell":"content",className:Ie("flex flex-1 flex-row w-dvw h-full",e&&"justify-center items-center"),children:t})}function qO({children:t}){return p.jsx("div",{"data-shell":"main",className:"flex flex-col flex-grow w-1",children:t})}function Lp({children:t}){var i,s,o;const e=$ne();g1((s=(i=e.sidebar)==null?void 0:i.handler)==null?void 0:s.close);const n=Wt(a=>{var l;a.preventDefault(),a.stopPropagation(),(l=e==null?void 0:e.sidebar)==null||l.handler.close()}),r=Wt(()=>{var a,l;(a=e==null?void 0:e.sidebar)!=null&&a.open&&((l=e==null?void 0:e.sidebar)==null||l.handler.close())});return eI([["Escape",r]]),e?p.jsxs(p.Fragment,{children:[p.jsx("aside",{"data-shell":"sidebar",className:"hidden md:flex flex-col basis-[350px] flex-shrink-0 flex-grow-0 h-full border-muted border-r bg-muted/10",children:t}),p.jsx("div",{"data-open":(o=e==null?void 0:e.sidebar)==null?void 0:o.open,className:"absolute w-full md:hidden data-[open=true]:translate-x-0 translate-x-[-100%] transition-transform z-10 backdrop-blur-sm",onClick:n,children:p.jsx("aside",{"data-shell":"sidebar",className:"flex-col w-[350px] flex-shrink-0 flex-grow-0 h-full border-muted border-r bg-background",children:t})})]}):(console.warn("AppShell.Sidebar: missing AppShellContext"),null)}function s2({children:t,className:e,...n}){return p.jsx("h2",{...n,className:Ie("text-lg dark:font-bold font-semibold select-text",e),children:t})}function In({children:t,right:e,className:n,scrollable:r,sticky:i}={}){return p.jsxs("div",{className:Ie("flex flex-row h-14 flex-shrink-0 py-2 pl-5 pr-3 border-muted border-b items-center justify-between bg-muted/10",i&&"sticky top-0 bottom-10 z-10",n),children:[p.jsx("div",{className:Ie("",r&&"overflow-x-scroll overflow-y-visible app-scrollbar"),children:typeof t=="string"?p.jsx(s2,{children:t}):t}),e&&!r&&p.jsx("div",{className:"flex flex-row gap-2.5",children:e}),e&&r&&p.jsxs("div",{className:"flex flex-row sticky z-10 right-0 h-full",children:[p.jsx("div",{className:"h-full w-5 bg-gradient-to-l from-background"}),p.jsx("div",{className:"flex flex-row gap-2.5 bg-background",children:e})]})]})}function nn({children:t,initialOffset:e=64}){const n=S.useRef(null),[r,i]=S.useState(e);function s(){n.current&&i(n.current.offsetTop)}return S.useEffect(s,[]),typeof window<"u"&&window.addEventListener("resize",M9(s,500)),p.jsxs(UI,{style:{height:`calc(100dvh - ${r}px`},ref:n,children:[p.jsx(ZI,{className:"w-full h-full ",children:t}),p.jsx(_y,{forceMount:!0,className:"flex select-none touch-none bg-transparent w-0.5",orientation:"vertical",children:p.jsx($y,{className:"flex-1 bg-primary/50"})}),p.jsx(_y,{forceMount:!0,className:"flex select-none touch-none bg-muted flex-col h-0.5",orientation:"horizontal",children:p.jsx($y,{className:"flex-1 bg-primary/50 "})})]})}var pd,li,ET,q1,np,Et=F({"src/ui/layouts/AppShell/AppShell.tsx"(){en(),_ne(),Rn(),vt(),Lt(),kne(),Xi(),k7e(),pd=({children:t,as:e,className:n,Icon:r,disabled:i,...s})=>{const o=e||"a";return p.jsxs(o,{...s,className:Ie("px-6 py-2 [&.active]:bg-muted [&.active]:hover:bg-primary/15 hover:bg-primary/5 flex flex-row items-center rounded-full gap-2.5 link",i&&"opacity-50 cursor-not-allowed",n),children:[r&&p.jsx(r,{size:18}),typeof t=="string"?p.jsx("span",{className:"text-lg",children:t}):t]})},li=({children:t,as:e,className:n,disabled:r=!1,...i})=>{const s=e||"a";return p.jsx(s,{...i,className:Ie("flex flex-row px-4 py-2.5 items-center gap-2",!r&&"cursor-pointer rounded-md [&.active]:bg-primary/10 [&.active]:hover:bg-primary/15 [&.active]:font-medium hover:bg-primary/5 focus:bg-primary/5 link",r&&"opacity-50 cursor-not-allowed pointer-events-none",n),children:t})},ET=({children:t,as:e,className:n,disabled:r=!1,active:i=!1,badge:s,...o})=>{const a=e||"a";return p.jsxs(a,{...o,className:Ie("hover:bg-primary/5 flex flex-row items-center justify-center gap-2.5 px-5 h-12 leading-none font-medium text-primary/80 rounded-tr-lg rounded-tl-lg",i?"bg-background hover:bg-background text-primary border border-muted border-b-0":"link",s&&"pr-4",n),children:[t,s?p.jsx("span",{className:"px-3 py-1 rounded-full font-mono bg-primary/5 text-sm leading-none",children:s}):null]})},q1=({title:t,items:e})=>p.jsx(In,{className:"mt-10 border-t pl-3 pb-0 items-end",children:p.jsxs("div",{className:"flex flex-row items-center gap-6 -mb-px",children:[t&&p.jsx(s2,{className:"pl-2 hidden md:block",children:t}),p.jsx("div",{className:"flex flex-row items-center gap-3",children:e==null?void 0:e.map(({label:n,...r},i)=>p.jsx(ET,{...r,children:n},i))})]})}),np=({title:t,open:e,toggle:n,ActiveIcon:r=oI,children:i,renderHeaderRight:s})=>p.jsxs("div",{style:{minHeight:49},className:Ie("flex flex-col flex-animate overflow-hidden",e?"flex-open border-b border-b-muted":"flex-initial cursor-pointer hover:bg-primary/5"),children:[p.jsxs("div",{className:Ie("flex flex-row bg-muted/10 border-muted border-b h-14 py-4 pr-4 pl-2 items-center gap-2"),onClick:n,children:[p.jsx(lt,{Icon:e?r:sI,disabled:e}),p.jsx("h2",{className:"text-lg dark:font-bold font-semibold select-text",children:t}),p.jsx("div",{className:"flex flex-grow"}),s==null?void 0:s({open:e})]}),p.jsx("div",{className:Ie("overflow-y-scroll transition-all",e?" flex-grow":"h-0 opacity-0"),children:i})]})}});function P7e(t){const[e,n]=S.useState(t());return[e,()=>n(i=>!i),n]}function ky(t,e){return e===void 0&&(e=!1),!t||e?`"${t}"`:t}function qne(t){let{field:e,value:n,data:r,lastElement:i,openBracket:s,closeBracket:o,level:a,style:l,shouldExpandNode:c,clickToExpandNode:u,outerRef:d}=t;const f=S.useRef(!1),[h,m,g]=P7e(()=>c(a,n,e)),y=S.useRef(null);S.useEffect(()=>{f.current?g(c(a,n,e)):f.current=!0},[c]);const O=h?l.collapseIcon:l.expandIcon,b=h?"collapse JSON":"expand JSON",x=S.useId(),v=a+1,w=r.length-1,_=k=>{if(k.key==="ArrowRight"||k.key==="ArrowLeft")k.preventDefault(),g(k.key==="ArrowRight");else if(k.key==="ArrowUp"||k.key==="ArrowDown"){k.preventDefault();const j=k.key==="ArrowUp"?-1:1;if(!d.current)return;const P=d.current.querySelectorAll("[role=button]");let R=-1;for(let A=0;A<P.length;A++)if(P[A].tabIndex===0){R=A;break}if(R<0)return;const N=(R+j+P.length)%P.length;P[R].tabIndex=-1,P[N].tabIndex=0,P[N].focus()}},$=()=>{var k;m();const j=y.current;if(!j)return;const P=(k=d.current)===null||k===void 0?void 0:k.querySelector('[role=button][tabindex="0"]');P&&(P.tabIndex=-1),j.tabIndex=0,j.focus()};return S.createElement("div",{className:l.basicChildStyle,role:"treeitem","aria-expanded":h,"aria-selected":void 0},S.createElement("span",{className:O,onClick:$,onKeyDown:_,role:"button","aria-label":b,"aria-expanded":h,"aria-controls":h?x:void 0,ref:y,tabIndex:a===0?0:-1}),(e||e==="")&&(u?S.createElement("span",{className:l.clickableLabel,onClick:$,onKeyDown:_},ky(e,l.quotesForFieldNames),":"):S.createElement("span",{className:l.label},ky(e,l.quotesForFieldNames),":")),S.createElement("span",{className:l.punctuation},s),h?S.createElement("ul",{id:x,role:"group"},r.map((k,j)=>S.createElement(Bne,{key:k[0]||j,field:k[0],value:k[1],style:l,lastElement:j===w,level:v,shouldExpandNode:c,clickToExpandNode:u,outerRef:d}))):S.createElement("span",{className:l.collapsedContent,onClick:$,onKeyDown:_}),S.createElement("span",{className:l.punctuation},o),!i&&S.createElement("span",{className:l.punctuation},","))}function Vne(t){let{field:e,openBracket:n,closeBracket:r,lastElement:i,style:s}=t;return S.createElement("div",{className:s.basicChildStyle,role:"treeitem","aria-selected":void 0},(e||e==="")&&S.createElement("span",{className:s.label},ky(e,s.quotesForFieldNames),":"),S.createElement("span",{className:s.punctuation},n),S.createElement("span",{className:s.punctuation},r),!i&&S.createElement("span",{className:s.punctuation},","))}function C7e(t){let{field:e,value:n,style:r,lastElement:i,shouldExpandNode:s,clickToExpandNode:o,level:a,outerRef:l}=t;return Object.keys(n).length===0?Vne({field:e,openBracket:"{",closeBracket:"}",lastElement:i,style:r}):qne({field:e,value:n,lastElement:i||!1,level:a,openBracket:"{",closeBracket:"}",style:r,shouldExpandNode:s,clickToExpandNode:o,data:Object.keys(n).map(c=>[c,n[c]]),outerRef:l})}function j7e(t){let{field:e,value:n,style:r,lastElement:i,level:s,shouldExpandNode:o,clickToExpandNode:a,outerRef:l}=t;return n.length===0?Vne({field:e,openBracket:"[",closeBracket:"]",lastElement:i,style:r}):qne({field:e,value:n,lastElement:i||!1,level:s,openBracket:"[",closeBracket:"]",style:r,shouldExpandNode:o,clickToExpandNode:a,data:n.map(c=>[void 0,c]),outerRef:l})}function E7e(t){let{field:e,value:n,style:r,lastElement:i}=t,s,o=r.otherValue;return n===null?(s="null",o=r.nullValue):n===void 0?(s="undefined",o=r.undefinedValue):Zne(n)?(s=ky(n,!r.noQuotesForStringValues),o=r.stringValue):zne(n)?(s=n?"true":"false",o=r.booleanValue):Wne(n)?(s=n.toString(),o=r.numberValue):Une(n)?(s=`${n.toString()}n`,o=r.numberValue):o2(n)?s=n.toISOString():s=n.toString(),S.createElement("div",{className:r.basicChildStyle,role:"treeitem","aria-selected":void 0},(e||e==="")&&S.createElement("span",{className:r.label},ky(e,r.quotesForFieldNames),":"),S.createElement("span",{className:o},s),!i&&S.createElement("span",{className:r.punctuation},","))}function Bne(t){const e=t.value;return Xne(e)?S.createElement(j7e,Object.assign({},t)):Yne(e)&&!o2(e)?S.createElement(C7e,Object.assign({},t)):S.createElement(E7e,Object.assign({},t))}var zne,Wne,Une,o2,Zne,Xne,Yne,Nt,tz,nz,Gne,T7e=F({"../node_modules/react-json-view-lite/dist/index.modern.js"(){zne=t=>typeof t=="boolean"||t instanceof Boolean,Wne=t=>typeof t=="number"||t instanceof Number,Une=t=>typeof t=="bigint"||t instanceof BigInt,o2=t=>!!t&&t instanceof Date,Zne=t=>typeof t=="string"||t instanceof String,Xne=t=>Array.isArray(t),Yne=t=>t instanceof Object&&t!==null,Nt={"container-base":"_GzYRV","punctuation-base":"_3eOF8",pointer:"_1MFti","expander-base":"_f10Tu _1MFti","expand-icon":"_1UmXx","collapse-icon":"_1LId0","collapsed-content-base":"_1pNG9 _1MFti","container-light":"_2IvMF _GzYRV","basic-element-style":"_2bkNM","label-light":"_1MGIk","clickable-label-light":"_2YKJg _1MGIk _1MFti","punctuation-light":"_3uHL6 _3eOF8","value-null-light":"_2T6PJ","value-undefined-light":"_1Gho6","value-string-light":"_vGjyY","value-number-light":"_1bQdo","value-boolean-light":"_3zQKs","value-other-light":"_1xvuR","collapse-icon-light":"_oLqym _f10Tu _1MFti _1LId0","expand-icon-light":"_2AXVT _f10Tu _1MFti _1UmXx","collapsed-content-light":"_2KJWg _1pNG9 _1MFti","container-dark":"_11RoI _GzYRV","expand-icon-dark":"_17H2C _f10Tu _1MFti _1UmXx","collapse-icon-dark":"_3QHg2 _f10Tu _1MFti _1LId0","collapsed-content-dark":"_3fDAz _1pNG9 _1MFti","label-dark":"_2bSDX","clickable-label-dark":"_1RQEj _2bSDX _1MFti","punctuation-dark":"_gsbQL _3eOF8","value-null-dark":"_LaAZe","value-undefined-dark":"_GTKgm","value-string-dark":"_Chy1W","value-number-dark":"_2bveF","value-boolean-dark":"_2vRm-","value-other-dark":"_1prJR"},tz={container:Nt["container-light"],basicChildStyle:Nt["basic-element-style"],label:Nt["label-light"],clickableLabel:Nt["clickable-label-light"],nullValue:Nt["value-null-light"],undefinedValue:Nt["value-undefined-light"],stringValue:Nt["value-string-light"],booleanValue:Nt["value-boolean-light"],numberValue:Nt["value-number-light"],otherValue:Nt["value-other-light"],punctuation:Nt["punctuation-light"],collapseIcon:Nt["collapse-icon-light"],expandIcon:Nt["expand-icon-light"],collapsedContent:Nt["collapsed-content-light"],noQuotesForStringValues:!1,quotesForFieldNames:!1},Nt["container-dark"],Nt["basic-element-style"],Nt["label-dark"],Nt["clickable-label-dark"],Nt["value-null-dark"],Nt["value-undefined-dark"],Nt["value-string-dark"],Nt["value-boolean-dark"],Nt["value-number-dark"],Nt["value-other-dark"],Nt["punctuation-dark"],Nt["collapse-icon-dark"],Nt["expand-icon-dark"],Nt["collapsed-content-dark"],nz=()=>!0,Gne=t=>{let{data:e,style:n=tz,shouldExpandNode:r=nz,clickToExpandNode:i=!1,...s}=t;const o=S.useRef(null);return S.createElement("div",Object.assign({"aria-label":"JSON view"},s,{className:n.container,ref:o,role:"tree"}),S.createElement(Bne,{value:e,style:n,lastElement:!0,level:0,shouldExpandNode:r,clickToExpandNode:i,outerRef:o}))}}}),lo,El=F({"src/ui/components/code/JsonViewer.tsx"(){St(),T7e(),vt(),Lt(),lo=({json:t,title:e,expand:n=0,showSize:r=!1,showCopy:i=!1,className:s})=>{const o=r?JSON.stringify(t).length:void 0,a=o||e||i;function l(){var c;(c=navigator.clipboard)==null||c.writeText(JSON.stringify(t,null,2))}return p.jsxs("div",{className:Ie("bg-primary/5 py-3 relative overflow-hidden",s),children:[a&&p.jsxs("div",{className:"absolute right-4 top-4 font-mono text-zinc-400 flex flex-row gap-2 items-center",children:[(e||o)&&p.jsxs("div",{className:"flex flex-row",children:[e&&p.jsx("span",{children:e})," ",o&&p.jsxs("span",{children:["(",o," Bytes)"]})]}),i&&p.jsx("div",{children:p.jsx(lt,{Icon:n7e,onClick:l})})]}),p.jsx(Gne,{data:t,shouldExpandNode:c=>c<n,style:{basicChildStyle:"pl-5 ml-1 border-l border-muted hover:border-primary/20",container:"ml-[-10px]",label:"text-primary/90 font-bold font-mono mr-2",stringValue:"text-emerald-500 font-mono select-text",numberValue:"text-sky-400 font-mono",nullValue:"text-zinc-400 font-mono",undefinedValue:"text-zinc-400 font-mono",otherValue:"text-zinc-400 font-mono",booleanValue:"text-orange-400 font-mono",punctuation:"text-zinc-400 font-bold font-mono m-0.5",collapsedContent:"text-zinc-400 font-mono after:content-['...']",collapseIcon:"text-zinc-400 font-mono font-bold text-lg after:content-['▾'] mr-1.5",expandIcon:"text-zinc-400 font-mono font-bold text-lg after:content-['▸'] mr-1.5",noQuotesForStringValues:!1}})]})}}});function Qn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(b0&&(t instanceof Blob||t instanceof FileList))&&(n||hn(t)))if(e=n?[]:{},!n&&!Jne(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Qn(t[r]));else return t;return e}function V1(t){const e=ve.useRef(t);e.current=t,ve.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function N7e(t){const e=VO(),{control:n=e.control,disabled:r,name:i,exact:s}=t,[o,a]=ve.useState(n._formState),l=ve.useRef(!0),c=ve.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=ve.useRef(i);return u.current=i,V1({disabled:r,next:d=>l.current&&d2(u.current,d.name,s)&&u2(d,c.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),ve.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),c2(o,n,c.current,!1)}function A7e(t){const e=VO(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t,a=ve.useRef(r);a.current=r,V1({disabled:s,subject:n._subjects.values,next:u=>{d2(a.current,u.name,o)&&c(Qn(f2(a.current,n._names,u.values||n._formValues,!1,i)))}});const[l,c]=ve.useState(n._getWatch(r,i));return ve.useEffect(()=>n._removeUnmounted()),l}function Ud(t){const e=VO(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=l2(i._names.array,n),a=A7e({control:i,name:n,defaultValue:_e(i._formValues,n,_e(i._defaultValues,n,t.defaultValue)),exact:!0}),l=N7e({control:i,name:n,exact:!0}),c=ve.useRef(i.register(n,{...t.rules,value:a,...Pi(t.disabled)?{disabled:t.disabled}:{}}));return ve.useEffect(()=>{const u=i._options.shouldUnregister||s,d=(f,h)=>{const m=_e(i._fields,f);m&&m._f&&(m._f.mount=h)};if(d(n,!0),u){const f=Qn(_e(i._options.defaultValues,n));bt(i._defaultValues,n,f),It(_e(i._formValues,n))&&bt(i._formValues,n,f)}return()=>{(o?u&&!i._state.action:u)?i.unregister(n):d(n,!1)}},[n,i,o,s]),ve.useEffect(()=>{_e(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:_e(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...Pi(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:ve.useCallback(u=>c.current.onChange({target:{value:a2(u),name:n},type:Py.CHANGE}),[n]),onBlur:ve.useCallback(()=>c.current.onBlur({target:{value:_e(i._formValues,n),name:n},type:Py.BLUR}),[n,i]),ref:ve.useCallback(u=>{const d=_e(i._fields,n);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:f=>u.setCustomValidity(f),reportValidity:()=>u.reportValidity()})},[i._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_e(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!_e(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!_e(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!_e(l.validatingFields,n)},error:{enumerable:!0,get:()=>_e(l.errors,n)}})}}function rz(t,e,n="validate"){if(bg(t)||Array.isArray(t)&&t.every(bg)||Pi(t)&&!t)return{type:n,message:bg(t)?t:"",ref:e}}function bP(t,e,n){return[...t.slice(0,e),...Wr(n),...t.slice(e)]}function R7e(t,e){let n=0;const r=[...t];for(const i of e)r.splice(i-n,1),n++;return Ff(r).length?r:[]}function M7e(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=It(t)?r++:t[e[r++]];return t}function I7e(t){for(const e in t)if(t.hasOwnProperty(e)&&!It(t[e]))return!1;return!0}function kn(t,e){const n=Array.isArray(e)?e:x0(e)?[e]:TT(e),r=n.length===1?t:M7e(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(hn(r)&&Pr(r)||Array.isArray(r)&&I7e(r))&&kn(t,n.slice(0,-1)),t}function Hne(t){const e=VO(),{control:n=e.control,name:r,keyName:i="id",shouldUnregister:s}=t,[o,a]=ve.useState(n._getFieldArray(r)),l=ve.useRef(n._getFieldArray(r).map(Aa)),c=ve.useRef(o),u=ve.useRef(r),d=ve.useRef(!1);u.current=r,c.current=o,n._names.array.add(r),t.rules&&n.register(r,t.rules),V1({next:({values:w,name:_})=>{if(_===u.current||!_){const $=_e(w,u.current);Array.isArray($)&&(a($),l.current=$.map(Aa))}},subject:n._subjects.array});const f=ve.useCallback(w=>{d.current=!0,n._updateFieldArray(r,w)},[n,r]),h=(w,_)=>{const $=Wr(Qn(w)),k=xv(n._getFieldArray(r),$);n._names.focus=Ov(r,k.length-1,_),l.current=xv(l.current,$.map(Aa)),f(k),a(k),n._updateFieldArray(r,k,xv,{argA:vv(w)})},m=(w,_)=>{const $=Wr(Qn(w)),k=Sv(n._getFieldArray(r),$);n._names.focus=Ov(r,0,_),l.current=Sv(l.current,$.map(Aa)),f(k),a(k),n._updateFieldArray(r,k,Sv,{argA:vv(w)})},g=w=>{const _=_v(n._getFieldArray(r),w);l.current=_v(l.current,w),f(_),a(_),n._updateFieldArray(r,_,_v,{argA:w})},y=(w,_,$)=>{const k=Wr(Qn(_)),j=bP(n._getFieldArray(r),w,k);n._names.focus=Ov(r,w,$),l.current=bP(l.current,w,k.map(Aa)),f(j),a(j),n._updateFieldArray(r,j,bP,{argA:w,argB:vv(_)})},O=(w,_)=>{const $=n._getFieldArray(r);$v($,w,_),$v(l.current,w,_),f($),a($),n._updateFieldArray(r,$,$v,{argA:w,argB:_},!1)},b=(w,_)=>{const $=n._getFieldArray(r);wv($,w,_),wv(l.current,w,_),f($),a($),n._updateFieldArray(r,$,wv,{argA:w,argB:_},!1)},x=(w,_)=>{const $=Qn(_),k=MT(n._getFieldArray(r),w,$);l.current=[...k].map((j,P)=>!j||P===w?Aa():l.current[P]),f(k),a([...k]),n._updateFieldArray(r,k,MT,{argA:w,argB:$},!0,!1)},v=w=>{const _=Wr(Qn(w));l.current=_.map(Aa),f([..._]),a([..._]),n._updateFieldArray(r,[..._],$=>$,{},!0,!1)};return ve.useEffect(()=>{if(n._state.action=!1,v0(r,n._names)&&n._subjects.state.next({...n._formState}),d.current&&(!eh(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(w=>{const _=_e(w.errors,r),$=_e(n._formState.errors,r);($?!_&&$.type||_&&($.type!==_.type||$.message!==_.message):_&&_.type)&&(_?bt(n._formState.errors,r,_):kn(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const w=_e(n._fields,r);w&&w._f&&!(eh(n._options.reValidateMode).isOnSubmit&&eh(n._options.mode).isOnSubmit)&&S0(w,n._formValues,n._options.criteriaMode===_i.all,n._options.shouldUseNativeValidation,!0).then(_=>!Pr(_)&&n._subjects.state.next({errors:h2(n._formState.errors,_,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&md(n._fields,(w,_)=>{if(n._names.focus&&_.startsWith(n._names.focus)&&w.focus)return w.focus(),1}),n._names.focus="",n._updateValid(),d.current=!1},[o,r,n]),ve.useEffect(()=>(!_e(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||s)&&n.unregister(r)}),[r,n,i,s]),{swap:ve.useCallback(O,[f,r,n]),move:ve.useCallback(b,[f,r,n]),prepend:ve.useCallback(m,[f,r,n]),append:ve.useCallback(h,[f,r,n]),remove:ve.useCallback(g,[f,r,n]),insert:ve.useCallback(y,[f,r,n]),update:ve.useCallback(x,[f,r,n]),replace:ve.useCallback(v,[f,r,n]),fields:ve.useMemo(()=>o.map((w,_)=>({...w,[i]:l.current[_]||Aa()})),[o,i])}}function oc(t,e){if(_0(t)||_0(e))return t===e;if(Oc(t)&&Oc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Oc(s)&&Oc(o)||hn(s)&&hn(o)||Array.isArray(s)&&Array.isArray(o)?!oc(s,o):s!==o)return!1}}return!0}function O0(t,e={}){const n=Array.isArray(t);if(hn(t)||n)for(const r in t)Array.isArray(t[r])||hn(t[r])&&!m2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},O0(t[r],e[r])):$r(t[r])||(e[r]=!0);return e}function Kne(t,e,n){const r=Array.isArray(t);if(hn(t)||r)for(const i in t)Array.isArray(t[i])||hn(t[i])&&!m2(t[i])?It(e)||_0(n[i])?n[i]=Array.isArray(t[i])?O0(t[i],[]):{...O0(t[i])}:Kne(t[i],$r(e)?{}:e[i],n[i]):n[i]=!oc(t[i],e[i]);return n}function xP(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return w0(e)?e.files:bv(e)?RT(t.refs).value:p2(e)?[...e.selectedOptions].map(({value:n})=>n):Qf(e)?AT(t.refs).value:g2(It(e.value)?t.ref.value:e.value,t)}function iz(t,e,n){const r=_e(t,n);if(r||x0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=_e(e,s),a=_e(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}function D7e(t={}){let e={...ore,...t},n={submitCount:0,isDirty:!1,isLoading:Zo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=hn(e.defaultValues)||hn(e.values)?Qn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Qn(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:kv(),array:kv(),state:kv()},f=eh(e.mode),h=eh(e.reValidateMode),m=e.criteriaMode===_i.all,g=z=>ee=>{clearTimeout(c),c=setTimeout(z,ee)},y=async z=>{if(!t.disabled&&(u.isValid||z)){const ee=e.resolver?Pr((await k()).errors):await P(r,!0);ee!==n.isValid&&d.state.next({isValid:ee})}},O=(z,ee)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((z||Array.from(a.mount)).forEach(K=>{K&&(ee?bt(n.validatingFields,K,ee):kn(n.validatingFields,K))}),d.state.next({validatingFields:n.validatingFields,isValidating:!Pr(n.validatingFields)}))},b=(z,ee=[],K,me,de=!0,ne=!0)=>{if(me&&K&&!t.disabled){if(o.action=!0,ne&&Array.isArray(_e(r,z))){const ce=K(_e(r,z),me.argA,me.argB);de&&bt(r,z,ce)}if(ne&&Array.isArray(_e(n.errors,z))){const ce=K(_e(n.errors,z),me.argA,me.argB);de&&bt(n.errors,z,ce),sre(n.errors,z)}if(u.touchedFields&&ne&&Array.isArray(_e(n.touchedFields,z))){const ce=K(_e(n.touchedFields,z),me.argA,me.argB);de&&bt(n.touchedFields,z,ce)}u.dirtyFields&&(n.dirtyFields=_f(i,s)),d.state.next({name:z,isDirty:N(z,ee),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else bt(s,z,ee)},x=(z,ee)=>{bt(n.errors,z,ee),d.state.next({errors:n.errors})},v=z=>{n.errors=z,d.state.next({errors:n.errors,isValid:!1})},w=(z,ee,K,me)=>{const de=_e(r,z);if(de){const ne=_e(s,z,It(K)?_e(i,z):K);It(ne)||me&&me.defaultChecked||ee?bt(s,z,ee?ne:xP(de._f)):T(z,ne),o.mount&&y()}},_=(z,ee,K,me,de)=>{let ne=!1,ce=!1;const he={name:z};if(!t.disabled){const ge=!!(_e(r,z)&&_e(r,z)._f&&_e(r,z)._f.disabled);if(!K||me){u.isDirty&&(ce=n.isDirty,n.isDirty=he.isDirty=N(),ne=ce!==he.isDirty);const be=ge||oc(_e(i,z),ee);ce=!!(!ge&&_e(n.dirtyFields,z)),be||ge?kn(n.dirtyFields,z):bt(n.dirtyFields,z,!0),he.dirtyFields=n.dirtyFields,ne=ne||u.dirtyFields&&ce!==!be}if(K){const be=_e(n.touchedFields,z);be||(bt(n.touchedFields,z,K),he.touchedFields=n.touchedFields,ne=ne||u.touchedFields&&be!==K)}ne&&de&&d.state.next(he)}return ne?he:{}},$=(z,ee,K,me)=>{const de=_e(n.errors,z),ne=u.isValid&&Pi(ee)&&n.isValid!==ee;if(t.delayError&&K?(l=g(()=>x(z,K)),l(t.delayError)):(clearTimeout(c),l=null,K?bt(n.errors,z,K):kn(n.errors,z)),(K?!oc(de,K):de)||!Pr(me)||ne){const ce={...me,...ne&&Pi(ee)?{isValid:ee}:{},errors:n.errors,name:z};n={...n,...ce},d.state.next(ce)}},k=async z=>{O(z,!0);const ee=await e.resolver(s,e.context,tre(z||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return O(z),ee},j=async z=>{const{errors:ee}=await k(z);if(z)for(const K of z){const me=_e(ee,K);me?bt(n.errors,K,me):kn(n.errors,K)}else n.errors=ee;return ee},P=async(z,ee,K={valid:!0})=>{for(const me in z){const de=z[me];if(de){const{_f:ne,...ce}=de;if(ne){const he=a.array.has(ne.name),ge=de._f&&nre(de._f);ge&&u.validatingFields&&O([me],!0);const be=await S0(de,s,m,e.shouldUseNativeValidation&&!ee,he);if(ge&&u.validatingFields&&O([me]),be[ne.name]&&(K.valid=!1,ee))break;!ee&&(_e(be,ne.name)?he?h2(n.errors,be,ne.name):bt(n.errors,ne.name,be[ne.name]):kn(n.errors,ne.name))}!Pr(ce)&&await P(ce,ee,K)}}return K.valid},R=()=>{for(const z of a.unMount){const ee=_e(r,z);ee&&(ee._f.refs?ee._f.refs.every(K=>!Pv(K)):!Pv(ee._f.ref))&&G(z)}a.unMount=new Set},N=(z,ee)=>!t.disabled&&(z&&ee&&bt(s,z,ee),!oc(Z(),i)),A=(z,ee,K)=>f2(z,a,{...o.mount?s:It(ee)?i:Fs(z)?{[z]:ee}:ee},K,ee),C=z=>Ff(_e(o.mount?s:i,z,t.shouldUnregister?_e(i,z,[]):[])),T=(z,ee,K={})=>{const me=_e(r,z);let de=ee;if(me){const ne=me._f;ne&&(!ne.disabled&&bt(s,z,g2(ee,ne)),de=Og(ne.ref)&&$r(ee)?"":ee,p2(ne.ref)?[...ne.ref.options].forEach(ce=>ce.selected=de.includes(ce.value)):ne.refs?Qf(ne.ref)?ne.refs.length>1?ne.refs.forEach(ce=>(!ce.defaultChecked||!ce.disabled)&&(ce.checked=Array.isArray(de)?!!de.find(he=>he===ce.value):de===ce.value)):ne.refs[0]&&(ne.refs[0].checked=!!de):ne.refs.forEach(ce=>ce.checked=ce.value===de):w0(ne.ref)?ne.ref.value="":(ne.ref.value=de,ne.ref.type||d.values.next({name:z,values:{...s}})))}(K.shouldDirty||K.shouldTouch)&&_(z,de,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&B(z)},E=(z,ee,K)=>{for(const me in ee){const de=ee[me],ne=`${z}.${me}`,ce=_e(r,ne);(a.array.has(z)||hn(de)||ce&&!ce._f)&&!Oc(de)?E(ne,de,K):T(ne,de,K)}},I=(z,ee,K={})=>{const me=_e(r,z),de=a.array.has(z),ne=Qn(ee);bt(s,z,ne),de?(d.array.next({name:z,values:{...s}}),(u.isDirty||u.dirtyFields)&&K.shouldDirty&&d.state.next({name:z,dirtyFields:_f(i,s),isDirty:N(z,ne)})):me&&!me._f&&!$r(ne)?E(z,ne,K):T(z,ne,K),v0(z,a)&&d.state.next({...n}),d.values.next({name:o.mount?z:void 0,values:{...s}})},M=async z=>{o.mount=!0;const ee=z.target;let K=ee.name,me=!0;const de=_e(r,K),ne=()=>ee.type?xP(de._f):a2(z),ce=he=>{me=Number.isNaN(he)||Oc(he)&&isNaN(he.getTime())||oc(he,_e(s,K,he))};if(de){let he,ge;const be=ne(),$e=z.type===Py.BLUR||z.type===Py.FOCUS_OUT,Ye=!rre(de._f)&&!e.resolver&&!_e(n.errors,K)&&!de._f.deps||ire($e,_e(n.touchedFields,K),n.isSubmitted,h,f),Tt=v0(K,a,$e);bt(s,K,be),$e?(de._f.onBlur&&de._f.onBlur(z),l&&l(0)):de._f.onChange&&de._f.onChange(z);const Oi=_(K,be,$e,!1),Il=!Pr(Oi)||Tt;if(!$e&&d.values.next({name:K,type:z.type,values:{...s}}),Ye)return u.isValid&&(t.mode==="onBlur"?$e&&y():y()),Il&&d.state.next({name:K,...Tt?{}:Oi});if(!$e&&Tt&&d.state.next({...n}),e.resolver){const{errors:bi}=await k([K]);if(ce(be),me){const wo=iz(n.errors,r,K),Qr=iz(bi,r,wo.name||K);he=Qr.error,K=Qr.name,ge=Pr(bi)}}else O([K],!0),he=(await S0(de,s,m,e.shouldUseNativeValidation))[K],O([K]),ce(be),me&&(he?ge=!1:u.isValid&&(ge=await P(r,!0)));me&&(de._f.deps&&B(de._f.deps),$(K,ge,he,Oi))}},Q=(z,ee)=>{if(_e(n.errors,ee)&&z.focus)return z.focus(),1},B=async(z,ee={})=>{let K,me;const de=Wr(z);if(e.resolver){const ne=await j(It(z)?z:de);K=Pr(ne),me=z?!de.some(ce=>_e(ne,ce)):K}else z?(me=(await Promise.all(de.map(async ne=>{const ce=_e(r,ne);return await P(ce&&ce._f?{[ne]:ce}:ce)}))).every(Boolean),!(!me&&!n.isValid)&&y()):me=K=await P(r);return d.state.next({...!Fs(z)||u.isValid&&K!==n.isValid?{}:{name:z},...e.resolver||!z?{isValid:K}:{},errors:n.errors}),ee.shouldFocus&&!me&&md(r,Q,z?de:a.mount),me},Z=z=>{const ee={...o.mount?s:i};return It(z)?ee:Fs(z)?_e(ee,z):z.map(K=>_e(ee,K))},W=(z,ee)=>({invalid:!!_e((ee||n).errors,z),isDirty:!!_e((ee||n).dirtyFields,z),error:_e((ee||n).errors,z),isValidating:!!_e(n.validatingFields,z),isTouched:!!_e((ee||n).touchedFields,z)}),oe=z=>{z&&Wr(z).forEach(ee=>kn(n.errors,ee)),d.state.next({errors:z?n.errors:{}})},le=(z,ee,K)=>{const me=(_e(r,z,{_f:{}})._f||{}).ref,de=_e(n.errors,z)||{},{ref:ne,message:ce,type:he,...ge}=de;bt(n.errors,z,{...ge,...ee,ref:me}),d.state.next({name:z,errors:n.errors,isValid:!1}),K&&K.shouldFocus&&me&&me.focus&&me.focus()},U=(z,ee)=>Zo(z)?d.values.subscribe({next:K=>z(A(void 0,ee),K)}):A(z,ee,!0),G=(z,ee={})=>{for(const K of z?Wr(z):a.mount)a.mount.delete(K),a.array.delete(K),ee.keepValue||(kn(r,K),kn(s,K)),!ee.keepError&&kn(n.errors,K),!ee.keepDirty&&kn(n.dirtyFields,K),!ee.keepTouched&&kn(n.touchedFields,K),!ee.keepIsValidating&&kn(n.validatingFields,K),!e.shouldUnregister&&!ee.keepDefaultValue&&kn(i,K);d.values.next({values:{...s}}),d.state.next({...n,...ee.keepDirty?{isDirty:N()}:{}}),!ee.keepIsValid&&y()},ie=({disabled:z,name:ee,field:K,fields:me,value:de})=>{if(Pi(z)&&o.mount||z){const ne=z?void 0:It(de)?xP(K?K._f:_e(me,ee)._f):de;bt(s,ee,ne),_(ee,ne,!1,!1,!0)}},Y=(z,ee={})=>{let K=_e(r,z);const me=Pi(ee.disabled)||Pi(t.disabled);return bt(r,z,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:z}},name:z,mount:!0,...ee}}),a.mount.add(z),K?ie({field:K,disabled:Pi(ee.disabled)?ee.disabled:t.disabled,name:z,value:ee.value}):w(z,!0,ee.value),{...me?{disabled:ee.disabled||t.disabled}:{},...e.progressive?{required:!!ee.required,min:$f(ee.min),max:$f(ee.max),minLength:$f(ee.minLength),maxLength:$f(ee.maxLength),pattern:$f(ee.pattern)}:{},name:z,onChange:M,onBlur:M,ref:de=>{if(de){Y(z,ee),K=_e(r,z);const ne=It(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,ce=ere(ne),he=K._f.refs||[];if(ce?he.find(ge=>ge===ne):ne===K._f.ref)return;bt(r,z,{_f:{...K._f,...ce?{refs:[...he.filter(Pv),ne,...Array.isArray(_e(i,z))?[{}]:[]],ref:{type:ne.type,name:z}}:{ref:ne}}}),w(z,!1,void 0,ne)}else K=_e(r,z,{}),K._f&&(K._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(l2(a.array,z)&&o.action)&&a.unMount.add(z)}}},L=()=>e.shouldFocusError&&md(r,Q,a.mount),ae=z=>{Pi(z)&&(d.state.next({disabled:z}),md(r,(ee,K)=>{const me=_e(r,K);me&&(ee.disabled=me._f.disabled||z,Array.isArray(me._f.refs)&&me._f.refs.forEach(de=>{de.disabled=me._f.disabled||z}))},0,!1))},q=(z,ee)=>async K=>{let me;K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let de=Qn(s);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:ne,values:ce}=await k();n.errors=ne,de=ce}else await P(r);if(kn(n.errors,"root"),Pr(n.errors)){d.state.next({errors:{}});try{await z(de,K)}catch(ne){me=ne}}else ee&&await ee({...n.errors},K),L(),setTimeout(L);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pr(n.errors)&&!me,submitCount:n.submitCount+1,errors:n.errors}),me)throw me},te=(z,ee={})=>{_e(r,z)&&(It(ee.defaultValue)?I(z,Qn(_e(i,z))):(I(z,ee.defaultValue),bt(i,z,Qn(ee.defaultValue))),ee.keepTouched||kn(n.touchedFields,z),ee.keepDirty||(kn(n.dirtyFields,z),n.isDirty=ee.defaultValue?N(z,Qn(_e(i,z))):N()),ee.keepError||(kn(n.errors,z),u.isValid&&y()),d.state.next({...n}))},re=(z,ee={})=>{const K=z?Qn(z):i,me=Qn(K),de=Pr(z),ne=de?i:me;if(ee.keepDefaultValues||(i=K),!ee.keepValues){if(ee.keepDirtyValues){const ce=new Set([...a.mount,...Object.keys(_f(i,s))]);for(const he of Array.from(ce))_e(n.dirtyFields,he)?bt(ne,he,_e(s,he)):I(he,_e(ne,he))}else{if(b0&&It(z))for(const ce of a.mount){const he=_e(r,ce);if(he&&he._f){const ge=Array.isArray(he._f.refs)?he._f.refs[0]:he._f.ref;if(Og(ge)){const be=ge.closest("form");if(be){be.reset();break}}}}r={}}s=t.shouldUnregister?ee.keepDefaultValues?Qn(i):{}:Qn(ne),d.array.next({values:{...ne}}),d.values.next({values:{...ne}})}a={mount:ee.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:ee.keepSubmitCount?n.submitCount:0,isDirty:de?!1:ee.keepDirty?n.isDirty:!!(ee.keepDefaultValues&&!oc(z,i)),isSubmitted:ee.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:de?{}:ee.keepDirtyValues?ee.keepDefaultValues&&s?_f(i,s):n.dirtyFields:ee.keepDefaultValues&&z?_f(i,z):ee.keepDirty?n.dirtyFields:{},touchedFields:ee.keepTouched?n.touchedFields:{},errors:ee.keepErrors?n.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ue=(z,ee)=>re(Zo(z)?z(s):z,ee);return{control:{register:Y,unregister:G,getFieldState:W,handleSubmit:q,setError:le,_executeSchema:k,_getWatch:A,_getDirty:N,_updateValid:y,_removeUnmounted:R,_updateFieldArray:b,_updateDisabledField:ie,_getFieldArray:C,_reset:re,_resetDefaultValues:()=>Zo(e.defaultValues)&&e.defaultValues().then(z=>{ue(z,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:z=>{n={...n,...z}},_disableForm:ae,_subjects:d,_proxyFormState:u,_setErrors:v,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(z){o=z},get _defaultValues(){return i},get _names(){return a},set _names(z){a=z},get _formState(){return n},set _formState(z){n=z},get _options(){return e},set _options(z){e={...e,...z}}},trigger:B,register:Y,handleSubmit:q,watch:U,setValue:I,getValues:Z,reset:ue,resetField:te,clearErrors:oe,unregister:G,setError:le,setFocus:(z,ee={})=>{const K=_e(r,z),me=K&&K._f;if(me){const de=me.refs?me.refs[0]:me.ref;de.focus&&(de.focus(),ee.shouldSelect&&de.select())}},getFieldState:W}}function js(t={}){const e=ve.useRef(),n=ve.useRef(),[r,i]=ve.useState({isDirty:!1,isValidating:!1,isLoading:Zo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Zo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...D7e(t),formState:r});const s=e.current.control;return s._options=t,V1({subject:s._subjects.state,next:o=>{u2(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),ve.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ve.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),ve.useEffect(()=>{t.values&&!oc(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),ve.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),ve.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ve.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),ve.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=c2(r,s),e.current}var Qf,Oc,$r,vP,hn,a2,sz,l2,Jne,b0,Ff,It,_e,Pi,x0,TT,bt,Py,_i,jo,oz,VO,c2,Pr,u2,Wr,d2,Fs,f2,NT,Aa,Ov,eh,v0,md,h2,w0,Zo,Og,bg,bv,jm,wP,SP,AT,_P,RT,bu,S0,xv,vv,wv,Sv,_v,$v,MT,kv,_0,p2,ere,Pv,m2,_f,g2,tre,$f,$P,nre,rre,ire,sre,ore,ir=F({"../node_modules/react-hook-form/dist/index.esm.mjs"(){Qf=t=>t.type==="checkbox",Oc=t=>t instanceof Date,$r=t=>t==null,vP=t=>typeof t=="object",hn=t=>!$r(t)&&!Array.isArray(t)&&vP(t)&&!Oc(t),a2=t=>hn(t)&&t.target?Qf(t.target)?t.target.checked:t.target.value:t,sz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,l2=(t,e)=>t.has(sz(e)),Jne=t=>{const e=t.constructor&&t.constructor.prototype;return hn(e)&&e.hasOwnProperty("isPrototypeOf")},b0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u",Ff=t=>Array.isArray(t)?t.filter(Boolean):[],It=t=>t===void 0,_e=(t,e,n)=>{if(!e||!hn(t))return n;const r=Ff(e.split(/[,[\].]+?/)).reduce((i,s)=>$r(i)?i:i[s],t);return It(r)||r===t?It(t[e])?n:t[e]:r},Pi=t=>typeof t=="boolean",x0=t=>/^\w*$/.test(t),TT=t=>Ff(t.replace(/["|']|\]/g,"").split(/\.|\[/)),bt=(t,e,n)=>{let r=-1;const i=x0(e)?[e]:TT(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=hn(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t},Py={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_i={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},jo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},oz=ve.createContext(null),VO=()=>ve.useContext(oz),c2=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==_i.all&&(e._proxyFormState[o]=!r||_i.all),n&&(n[o]=!0),t[o]}});return i},Pr=t=>hn(t)&&!Object.keys(t).length,u2=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Pr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||_i.all))},Wr=t=>Array.isArray(t)?t:[t],d2=(t,e,n)=>!t||!e||t===e||Wr(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Fs=t=>typeof t=="string",f2=(t,e,n,r,i)=>Fs(t)?(r&&e.watch.add(t),_e(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),_e(n,s))):(r&&(e.watchAll=!0),n),NT=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Aa=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(Math.random()*16+t)%16|0;return(e=="x"?n:n&3|8).toString(16)})},Ov=(t,e,n={})=>n.shouldFocus||It(n.shouldFocus)?n.focusName||`${t}.${It(n.focusIndex)?e:n.focusIndex}.`:"",eh=t=>({isOnSubmit:!t||t===_i.onSubmit,isOnBlur:t===_i.onBlur,isOnChange:t===_i.onChange,isOnAll:t===_i.all,isOnTouch:t===_i.onTouched}),v0=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),md=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=_e(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(md(a,e))break}else if(hn(a)&&md(a,e))break}}},h2=(t,e,n)=>{const r=Wr(_e(t,n));return bt(r,"root",e[n]),bt(t,n,r),t},w0=t=>t.type==="file",Zo=t=>typeof t=="function",Og=t=>{if(!b0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},bg=t=>Fs(t),bv=t=>t.type==="radio",jm=t=>t instanceof RegExp,wP={value:!1,isValid:!1},SP={value:!0,isValid:!0},AT=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!It(t[0].attributes.value)?It(t[0].value)||t[0].value===""?SP:{value:t[0].value,isValid:!0}:SP:wP}return wP},_P={isValid:!1,value:null},RT=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,_P):_P,bu=t=>hn(t)&&!jm(t)?t:{value:t,message:""},S0=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:f,validate:h,name:m,valueAsNumber:g,mount:y,disabled:O}=t._f,b=_e(e,m);if(!y||O)return{};const x=o?o[0]:s,v=N=>{r&&x.reportValidity&&(x.setCustomValidity(Pi(N)?"":N||""),x.reportValidity())},w={},_=bv(s),$=Qf(s),k=_||$,j=(g||w0(s))&&It(s.value)&&It(b)||Og(s)&&s.value===""||b===""||Array.isArray(b)&&!b.length,P=NT.bind(null,m,n,w),R=(N,A,C,T=jo.maxLength,E=jo.minLength)=>{const I=N?A:C;w[m]={type:N?T:E,message:I,ref:s,...P(N?T:E,I)}};if(i?!Array.isArray(b)||!b.length:a&&(!k&&(j||$r(b))||Pi(b)&&!b||$&&!AT(o).isValid||_&&!RT(o).isValid)){const{value:N,message:A}=bg(a)?{value:!!a,message:a}:bu(a);if(N&&(w[m]={type:jo.required,message:A,ref:x,...P(jo.required,A)},!n))return v(A),w}if(!j&&(!$r(u)||!$r(d))){let N,A;const C=bu(d),T=bu(u);if(!$r(b)&&!isNaN(b)){const E=s.valueAsNumber||b&&+b;$r(C.value)||(N=E>C.value),$r(T.value)||(A=E<T.value)}else{const E=s.valueAsDate||new Date(b),I=B=>new Date(new Date().toDateString()+" "+B),M=s.type=="time",Q=s.type=="week";Fs(C.value)&&b&&(N=M?I(b)>I(C.value):Q?b>C.value:E>new Date(C.value)),Fs(T.value)&&b&&(A=M?I(b)<I(T.value):Q?b<T.value:E<new Date(T.value))}if((N||A)&&(R(!!N,C.message,T.message,jo.max,jo.min),!n))return v(w[m].message),w}if((l||c)&&!j&&(Fs(b)||i&&Array.isArray(b))){const N=bu(l),A=bu(c),C=!$r(N.value)&&b.length>+N.value,T=!$r(A.value)&&b.length<+A.value;if((C||T)&&(R(C,N.message,A.message),!n))return v(w[m].message),w}if(f&&!j&&Fs(b)){const{value:N,message:A}=bu(f);if(jm(N)&&!b.match(N)&&(w[m]={type:jo.pattern,message:A,ref:s,...P(jo.pattern,A)},!n))return v(A),w}if(h){if(Zo(h)){const N=await h(b,e),A=rz(N,x);if(A&&(w[m]={...A,...P(jo.validate,A.message)},!n))return v(A.message),w}else if(hn(h)){let N={};for(const A in h){if(!Pr(N)&&!n)break;const C=rz(await h[A](b,e),x,A);C&&(N={...C,...P(A,C.message)},v(C.message),n&&(w[m]=N))}if(!Pr(N)&&(w[m]={ref:x,...N},!n))return w}}return v(!0),w},xv=(t,e)=>[...t,...Wr(e)],vv=t=>Array.isArray(t)?t.map(()=>{}):void 0,wv=(t,e,n)=>Array.isArray(t)?(It(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(e,1)[0]),t):[],Sv=(t,e)=>[...Wr(e),...Wr(t)],_v=(t,e)=>It(e)?[]:R7e(t,Wr(e).sort((n,r)=>n-r)),$v=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]},MT=(t,e,n)=>(t[e]=n,t),kv=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},_0=t=>$r(t)||!vP(t),p2=t=>t.type==="select-multiple",ere=t=>bv(t)||Qf(t),Pv=t=>Og(t)&&t.isConnected,m2=t=>{for(const e in t)if(Zo(t[e]))return!0;return!1},_f=(t,e)=>Kne(t,e,O0(e)),g2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>It(t)?t:e?t===""?NaN:t&&+t:n&&Fs(t)?new Date(t):r?r(t):t,tre=(t,e,n,r)=>{const i={};for(const s of t){const o=_e(e,s);o&&bt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},$f=t=>It(t)?t:jm(t)?t.source:hn(t)?jm(t.value)?t.value.source:t.value:t,$P="AsyncFunction",nre=t=>(!t||!t.validate)&&!!(Zo(t.validate)&&t.validate.constructor.name===$P||hn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===$P)),rre=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),ire=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,sre=(t,e)=>!Ff(_e(t,e)).length&&kn(t,e),ore={mode:_i.onSubmit,reValidateMode:_i.onChange,shouldFocusError:!0}}}),kP,IT,are,az,Q7e=F({"../node_modules/@hookform/resolvers/dist/resolvers.mjs"(){ir(),kP=(t,e,n)=>{if(t&&"reportValidity"in t){const r=_e(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},IT=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?kP(r.ref,n,t):r.refs&&r.refs.forEach(i=>kP(i,n,t))}},are=(t,e)=>{e.shouldUseNativeValidation&&IT(t,e);const n={};for(const r in t){const i=_e(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(az(e.names||Object.keys(t),r)){const o=Object.assign({},_e(n,r));bt(o,"root",s),bt(n,r,o)}else bt(n,r,s)}return n},az=(t,e)=>t.some(n=>n.startsWith(e+"."))}}),lz,Yi,bo=F({"../node_modules/@hookform/resolvers/typebox/dist/typebox.mjs"(){Q7e(),ir(),lz=function(t,e){for(var n={};t.length;){var r=t[0],i=r.type,s=r.message,o=r.path.substring(1).replace(/\//g,".");if(n[o]||(n[o]={message:s,type:""+i}),e){var a=n[o].types,l=a&&a[""+i];n[o]=NT(o,e,n,""+i,l?[].concat(l,r.message):r.message)}t.shift()}return n},Yi=function(t){return function(e,n,r){try{var i=Array.from(t instanceof k7?t.Errors(e):Zy(t,e));return r.shouldUseNativeValidation&&IT({},r),Promise.resolve(i.length?{values:{},errors:are(lz(i,!r.shouldUseNativeValidation&&r.criteriaMode==="all"),r)}:{errors:{},values:e})}catch(s){return Promise.reject(s)}}}}});function ol({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){var d;const{field:{value:a,onChange:l,...c},fieldState:u}=Ud({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i});return p.jsx(Wa,{value:a,onChange:async f=>{await l({...new Event("change",{bubbles:!0,cancelable:!0}),target:{value:f,name:c.name}}),s==null||s(f)},error:(d=u.error)==null?void 0:d.message,...c,...o})}var qp=F({"src/ui/components/form/hook-form-mantine/MantineSelect.tsx"(){ir()}});function Ft(t){return typeof File<"u"&&t instanceof File||typeof Date<"u"&&t instanceof Date?!1:typeof t=="object"&&t!==null&&!Array.isArray(t)}var Oa=F({"../node_modules/@rjsf/utils/lib/isObject.js"(){}});function F7e(t){return t.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),Ft(t.additionalItems)}var L7e=F({"../node_modules/@rjsf/utils/lib/allowAdditionalItems.js"(){Oa()}});function cz(t){if(t==="")return;if(t===null)return null;if(/\.$/.test(t)||/\.0$/.test(t)||/\.\d*0$/.test(t))return t;const e=Number(t);return typeof e=="number"&&!Number.isNaN(e)?e:t}var q7e=F({"../node_modules/@rjsf/utils/lib/asNumber.js"(){}}),Vp,$0,Bp,Xr,rp,lre,BO,cre,os,Cy,ure,al,dre,xg,gr,mn,fre,jy,zn,y2,hre,B1,th,pre,rn=F({"../node_modules/@rjsf/utils/lib/constants.js"(){Vp="__additional_property",$0="additionalProperties",Bp="allOf",Xr="anyOf",rp="const",lre="default",BO="dependencies",cre="enum",os="__errors",Cy="$id",ure="if",al="items",dre="_$junk_option_schema_id$_",xg="$name",gr="oneOf",mn="properties",fre="required",jy="submitButtonOptions",zn="$ref",y2="__rjsf_additionalProperties",hre="ui:field",B1="ui:widget",th="ui:options",pre="ui:globalOptions"}});function ft(t={},e={}){return Object.keys(t).filter(n=>n.indexOf("ui:")===0).reduce((n,r)=>{const i=t[r];return r===B1&&Ft(i)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),n):r===th&&Ft(i)?{...n,...i}:{...n,[r.substring(3)]:i}},{...e})}var zp=F({"../node_modules/@rjsf/utils/lib/getUiOptions.js"(){rn(),Oa()}});function mre(t,e={},n){if(!t.additionalProperties)return!1;const{expandable:r=!0}=ft(e);return r===!1?r:t.maxProperties!==void 0&&n?Object.keys(n).length<t.maxProperties:!0}var V7e=F({"../node_modules/@rjsf/utils/lib/canExpand.js"(){zp()}}),gre=X({"../node_modules/lodash/_freeGlobal.js"(t,e){var n=typeof global=="object"&&global&&global.Object===Object&&global;e.exports=n}}),ba=X({"../node_modules/lodash/_root.js"(t,e){var n=gre(),r=typeof self=="object"&&self&&self.Object===Object&&self,i=n||r||Function("return this")();e.exports=i}}),Wp=X({"../node_modules/lodash/_Symbol.js"(t,e){var n=ba(),r=n.Symbol;e.exports=r}}),B7e=X({"../node_modules/lodash/_getRawTag.js"(t,e){var n=Wp(),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,o=n?n.toStringTag:void 0;function a(l){var c=i.call(l,o),u=l[o];try{l[o]=void 0;var d=!0}catch{}var f=s.call(l);return d&&(c?l[o]=u:delete l[o]),f}e.exports=a}}),z7e=X({"../node_modules/lodash/_objectToString.js"(t,e){var n=Object.prototype,r=n.toString;function i(s){return r.call(s)}e.exports=i}}),Tl=X({"../node_modules/lodash/_baseGetTag.js"(t,e){var n=Wp(),r=B7e(),i=z7e(),s="[object Null]",o="[object Undefined]",a=n?n.toStringTag:void 0;function l(c){return c==null?c===void 0?o:s:a&&a in Object(c)?r(c):i(c)}e.exports=l}}),yre=X({"../node_modules/lodash/_overArg.js"(t,e){function n(r,i){return function(s){return r(i(s))}}e.exports=n}}),z1=X({"../node_modules/lodash/_getPrototype.js"(t,e){var n=yre(),r=n(Object.getPrototypeOf,Object);e.exports=r}}),Es=X({"../node_modules/lodash/isObjectLike.js"(t,e){function n(r){return r!=null&&typeof r=="object"}e.exports=n}}),au=X({"../node_modules/lodash/isPlainObject.js"(t,e){var n=Tl(),r=z1(),i=Es(),s="[object Object]",o=Function.prototype,a=Object.prototype,l=o.toString,c=a.hasOwnProperty,u=l.call(Object);function d(f){if(!i(f)||n(f)!=s)return!1;var h=r(f);if(h===null)return!0;var m=c.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&l.call(m)==u}e.exports=d}}),W7e=F({"../node_modules/@rjsf/utils/lib/createErrorHandler.js"(){Ce(au()),rn()}}),U7e=X({"../node_modules/lodash/_listCacheClear.js"(t,e){function n(){this.__data__=[],this.size=0}e.exports=n}}),Up=X({"../node_modules/lodash/eq.js"(t,e){function n(r,i){return r===i||r!==r&&i!==i}e.exports=n}}),W1=X({"../node_modules/lodash/_assocIndexOf.js"(t,e){var n=Up();function r(i,s){for(var o=i.length;o--;)if(n(i[o][0],s))return o;return-1}e.exports=r}}),Z7e=X({"../node_modules/lodash/_listCacheDelete.js"(t,e){var n=W1(),r=Array.prototype,i=r.splice;function s(o){var a=this.__data__,l=n(a,o);if(l<0)return!1;var c=a.length-1;return l==c?a.pop():i.call(a,l,1),--this.size,!0}e.exports=s}}),X7e=X({"../node_modules/lodash/_listCacheGet.js"(t,e){var n=W1();function r(i){var s=this.__data__,o=n(s,i);return o<0?void 0:s[o][1]}e.exports=r}}),Y7e=X({"../node_modules/lodash/_listCacheHas.js"(t,e){var n=W1();function r(i){return n(this.__data__,i)>-1}e.exports=r}}),G7e=X({"../node_modules/lodash/_listCacheSet.js"(t,e){var n=W1();function r(i,s){var o=this.__data__,a=n(o,i);return a<0?(++this.size,o.push([i,s])):o[a][1]=s,this}e.exports=r}}),U1=X({"../node_modules/lodash/_ListCache.js"(t,e){var n=U7e(),r=Z7e(),i=X7e(),s=Y7e(),o=G7e();function a(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var d=l[c];this.set(d[0],d[1])}}a.prototype.clear=n,a.prototype.delete=r,a.prototype.get=i,a.prototype.has=s,a.prototype.set=o,e.exports=a}}),H7e=X({"../node_modules/lodash/_stackClear.js"(t,e){var n=U1();function r(){this.__data__=new n,this.size=0}e.exports=r}}),K7e=X({"../node_modules/lodash/_stackDelete.js"(t,e){function n(r){var i=this.__data__,s=i.delete(r);return this.size=i.size,s}e.exports=n}}),J7e=X({"../node_modules/lodash/_stackGet.js"(t,e){function n(r){return this.__data__.get(r)}e.exports=n}}),eZe=X({"../node_modules/lodash/_stackHas.js"(t,e){function n(r){return this.__data__.has(r)}e.exports=n}}),Un=X({"../node_modules/lodash/isObject.js"(t,e){function n(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}e.exports=n}}),Z1=X({"../node_modules/lodash/isFunction.js"(t,e){var n=Tl(),r=Un(),i="[object AsyncFunction]",s="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function l(c){if(!r(c))return!1;var u=n(c);return u==s||u==o||u==i||u==a}e.exports=l}}),tZe=X({"../node_modules/lodash/_coreJsData.js"(t,e){var n=ba(),r=n["__core-js_shared__"];e.exports=r}}),nZe=X({"../node_modules/lodash/_isMasked.js"(t,e){var n=tZe(),r=function(){var s=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function i(s){return!!r&&r in s}e.exports=i}}),Ore=X({"../node_modules/lodash/_toSource.js"(t,e){var n=Function.prototype,r=n.toString;function i(s){if(s!=null){try{return r.call(s)}catch{}try{return s+""}catch{}}return""}e.exports=i}}),rZe=X({"../node_modules/lodash/_baseIsNative.js"(t,e){var n=Z1(),r=nZe(),i=Un(),s=Ore(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,f=RegExp("^"+u.call(d).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!i(m)||r(m))return!1;var g=n(m)?f:a;return g.test(s(m))}e.exports=h}}),iZe=X({"../node_modules/lodash/_getValue.js"(t,e){function n(r,i){return r==null?void 0:r[i]}e.exports=n}}),Zd=X({"../node_modules/lodash/_getNative.js"(t,e){var n=rZe(),r=iZe();function i(s,o){var a=r(s,o);return n(a)?a:void 0}e.exports=i}}),O2=X({"../node_modules/lodash/_Map.js"(t,e){var n=Zd(),r=ba(),i=n(r,"Map");e.exports=i}}),X1=X({"../node_modules/lodash/_nativeCreate.js"(t,e){var n=Zd(),r=n(Object,"create");e.exports=r}}),sZe=X({"../node_modules/lodash/_hashClear.js"(t,e){var n=X1();function r(){this.__data__=n?n(null):{},this.size=0}e.exports=r}}),oZe=X({"../node_modules/lodash/_hashDelete.js"(t,e){function n(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}e.exports=n}}),aZe=X({"../node_modules/lodash/_hashGet.js"(t,e){var n=X1(),r="__lodash_hash_undefined__",i=Object.prototype,s=i.hasOwnProperty;function o(a){var l=this.__data__;if(n){var c=l[a];return c===r?void 0:c}return s.call(l,a)?l[a]:void 0}e.exports=o}}),lZe=X({"../node_modules/lodash/_hashHas.js"(t,e){var n=X1(),r=Object.prototype,i=r.hasOwnProperty;function s(o){var a=this.__data__;return n?a[o]!==void 0:i.call(a,o)}e.exports=s}}),cZe=X({"../node_modules/lodash/_hashSet.js"(t,e){var n=X1(),r="__lodash_hash_undefined__";function i(s,o){var a=this.__data__;return this.size+=this.has(s)?0:1,a[s]=n&&o===void 0?r:o,this}e.exports=i}}),uZe=X({"../node_modules/lodash/_Hash.js"(t,e){var n=sZe(),r=oZe(),i=aZe(),s=lZe(),o=cZe();function a(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var d=l[c];this.set(d[0],d[1])}}a.prototype.clear=n,a.prototype.delete=r,a.prototype.get=i,a.prototype.has=s,a.prototype.set=o,e.exports=a}}),dZe=X({"../node_modules/lodash/_mapCacheClear.js"(t,e){var n=uZe(),r=U1(),i=O2();function s(){this.size=0,this.__data__={hash:new n,map:new(i||r),string:new n}}e.exports=s}}),fZe=X({"../node_modules/lodash/_isKeyable.js"(t,e){function n(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}e.exports=n}}),Y1=X({"../node_modules/lodash/_getMapData.js"(t,e){var n=fZe();function r(i,s){var o=i.__data__;return n(s)?o[typeof s=="string"?"string":"hash"]:o.map}e.exports=r}}),hZe=X({"../node_modules/lodash/_mapCacheDelete.js"(t,e){var n=Y1();function r(i){var s=n(this,i).delete(i);return this.size-=s?1:0,s}e.exports=r}}),pZe=X({"../node_modules/lodash/_mapCacheGet.js"(t,e){var n=Y1();function r(i){return n(this,i).get(i)}e.exports=r}}),mZe=X({"../node_modules/lodash/_mapCacheHas.js"(t,e){var n=Y1();function r(i){return n(this,i).has(i)}e.exports=r}}),gZe=X({"../node_modules/lodash/_mapCacheSet.js"(t,e){var n=Y1();function r(i,s){var o=n(this,i),a=o.size;return o.set(i,s),this.size+=o.size==a?0:1,this}e.exports=r}}),b2=X({"../node_modules/lodash/_MapCache.js"(t,e){var n=dZe(),r=hZe(),i=pZe(),s=mZe(),o=gZe();function a(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var d=l[c];this.set(d[0],d[1])}}a.prototype.clear=n,a.prototype.delete=r,a.prototype.get=i,a.prototype.has=s,a.prototype.set=o,e.exports=a}}),yZe=X({"../node_modules/lodash/_stackSet.js"(t,e){var n=U1(),r=O2(),i=b2(),s=200;function o(a,l){var c=this.__data__;if(c instanceof n){var u=c.__data__;if(!r||u.length<s-1)return u.push([a,l]),this.size=++c.size,this;c=this.__data__=new i(u)}return c.set(a,l),this.size=c.size,this}e.exports=o}}),G1=X({"../node_modules/lodash/_Stack.js"(t,e){var n=U1(),r=H7e(),i=K7e(),s=J7e(),o=eZe(),a=yZe();function l(c){var u=this.__data__=new n(c);this.size=u.size}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,e.exports=l}}),OZe=X({"../node_modules/lodash/_setCacheAdd.js"(t,e){var n="__lodash_hash_undefined__";function r(i){return this.__data__.set(i,n),this}e.exports=r}}),bZe=X({"../node_modules/lodash/_setCacheHas.js"(t,e){function n(r){return this.__data__.has(r)}e.exports=n}}),H1=X({"../node_modules/lodash/_SetCache.js"(t,e){var n=b2(),r=OZe(),i=bZe();function s(o){var a=-1,l=o==null?0:o.length;for(this.__data__=new n;++a<l;)this.add(o[a])}s.prototype.add=s.prototype.push=r,s.prototype.has=i,e.exports=s}}),xZe=X({"../node_modules/lodash/_arraySome.js"(t,e){function n(r,i){for(var s=-1,o=r==null?0:r.length;++s<o;)if(i(r[s],s,r))return!0;return!1}e.exports=n}}),K1=X({"../node_modules/lodash/_cacheHas.js"(t,e){function n(r,i){return r.has(i)}e.exports=n}}),bre=X({"../node_modules/lodash/_equalArrays.js"(t,e){var n=H1(),r=xZe(),i=K1(),s=1,o=2;function a(l,c,u,d,f,h){var m=u&s,g=l.length,y=c.length;if(g!=y&&!(m&&y>g))return!1;var O=h.get(l),b=h.get(c);if(O&&b)return O==c&&b==l;var x=-1,v=!0,w=u&o?new n:void 0;for(h.set(l,c),h.set(c,l);++x<g;){var _=l[x],$=c[x];if(d)var k=m?d($,_,x,c,l,h):d(_,$,x,l,c,h);if(k!==void 0){if(k)continue;v=!1;break}if(w){if(!r(c,function(j,P){if(!i(w,P)&&(_===j||f(_,j,u,d,h)))return w.push(P)})){v=!1;break}}else if(!(_===$||f(_,$,u,d,h))){v=!1;break}}return h.delete(l),h.delete(c),v}e.exports=a}}),xre=X({"../node_modules/lodash/_Uint8Array.js"(t,e){var n=ba(),r=n.Uint8Array;e.exports=r}}),vZe=X({"../node_modules/lodash/_mapToArray.js"(t,e){function n(r){var i=-1,s=Array(r.size);return r.forEach(function(o,a){s[++i]=[a,o]}),s}e.exports=n}}),x2=X({"../node_modules/lodash/_setToArray.js"(t,e){function n(r){var i=-1,s=Array(r.size);return r.forEach(function(o){s[++i]=o}),s}e.exports=n}}),wZe=X({"../node_modules/lodash/_equalByTag.js"(t,e){var n=Wp(),r=xre(),i=Up(),s=bre(),o=vZe(),a=x2(),l=1,c=2,u="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Map]",m="[object Number]",g="[object RegExp]",y="[object Set]",O="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",v="[object DataView]",w=n?n.prototype:void 0,_=w?w.valueOf:void 0;function $(k,j,P,R,N,A,C){switch(P){case v:if(k.byteLength!=j.byteLength||k.byteOffset!=j.byteOffset)return!1;k=k.buffer,j=j.buffer;case x:return!(k.byteLength!=j.byteLength||!A(new r(k),new r(j)));case u:case d:case m:return i(+k,+j);case f:return k.name==j.name&&k.message==j.message;case g:case O:return k==j+"";case h:var T=o;case y:var E=R&l;if(T||(T=a),k.size!=j.size&&!E)return!1;var I=C.get(k);if(I)return I==j;R|=c,C.set(k,j);var M=s(T(k),T(j),R,N,A,C);return C.delete(k),M;case b:if(_)return _.call(k)==_.call(j)}return!1}e.exports=$}}),v2=X({"../node_modules/lodash/_arrayPush.js"(t,e){function n(r,i){for(var s=-1,o=i.length,a=r.length;++s<o;)r[a+s]=i[s];return r}e.exports=n}}),sr=X({"../node_modules/lodash/isArray.js"(t,e){var n=Array.isArray;e.exports=n}}),vre=X({"../node_modules/lodash/_baseGetAllKeys.js"(t,e){var n=v2(),r=sr();function i(s,o,a){var l=o(s);return r(s)?l:n(l,a(s))}e.exports=i}}),SZe=X({"../node_modules/lodash/_arrayFilter.js"(t,e){function n(r,i){for(var s=-1,o=r==null?0:r.length,a=0,l=[];++s<o;){var c=r[s];i(c,s,r)&&(l[a++]=c)}return l}e.exports=n}}),wre=X({"../node_modules/lodash/stubArray.js"(t,e){function n(){return[]}e.exports=n}}),w2=X({"../node_modules/lodash/_getSymbols.js"(t,e){var n=SZe(),r=wre(),i=Object.prototype,s=i.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(l){return l==null?[]:(l=Object(l),n(o(l),function(c){return s.call(l,c)}))}:r;e.exports=a}}),Sre=X({"../node_modules/lodash/_baseTimes.js"(t,e){function n(r,i){for(var s=-1,o=Array(r);++s<r;)o[s]=i(s);return o}e.exports=n}}),_Ze=X({"../node_modules/lodash/_baseIsArguments.js"(t,e){var n=Tl(),r=Es(),i="[object Arguments]";function s(o){return r(o)&&n(o)==i}e.exports=s}}),zO=X({"../node_modules/lodash/isArguments.js"(t,e){var n=_Ze(),r=Es(),i=Object.prototype,s=i.hasOwnProperty,o=i.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(l){return r(l)&&s.call(l,"callee")&&!o.call(l,"callee")};e.exports=a}}),$Ze=X({"../node_modules/lodash/stubFalse.js"(t,e){function n(){return!1}e.exports=n}}),Zp=X({"../node_modules/lodash/isBuffer.js"(t,e){var n=ba(),r=$Ze(),i=typeof t=="object"&&t&&!t.nodeType&&t,s=i&&typeof e=="object"&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;e.exports=c}}),J1=X({"../node_modules/lodash/_isIndex.js"(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function i(s,o){var a=typeof s;return o=o??n,!!o&&(a=="number"||a!="symbol"&&r.test(s))&&s>-1&&s%1==0&&s<o}e.exports=i}}),S2=X({"../node_modules/lodash/isLength.js"(t,e){var n=9007199254740991;function r(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=n}e.exports=r}}),kZe=X({"../node_modules/lodash/_baseIsTypedArray.js"(t,e){var n=Tl(),r=S2(),i=Es(),s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",y="[object String]",O="[object WeakMap]",b="[object ArrayBuffer]",x="[object DataView]",v="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",$="[object Int16Array]",k="[object Int32Array]",j="[object Uint8Array]",P="[object Uint8ClampedArray]",R="[object Uint16Array]",N="[object Uint32Array]",A={};A[v]=A[w]=A[_]=A[$]=A[k]=A[j]=A[P]=A[R]=A[N]=!0,A[s]=A[o]=A[b]=A[a]=A[x]=A[l]=A[c]=A[u]=A[d]=A[f]=A[h]=A[m]=A[g]=A[y]=A[O]=!1;function C(T){return i(T)&&r(T.length)&&!!A[n(T)]}e.exports=C}}),Xd=X({"../node_modules/lodash/_baseUnary.js"(t,e){function n(r){return function(i){return r(i)}}e.exports=n}}),_2=X({"../node_modules/lodash/_nodeUtil.js"(t,e){var n=gre(),r=typeof t=="object"&&t&&!t.nodeType&&t,i=r&&typeof e=="object"&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}}),WO=X({"../node_modules/lodash/isTypedArray.js"(t,e){var n=kZe(),r=Xd(),i=_2(),s=i&&i.isTypedArray,o=s?r(s):n;e.exports=o}}),_re=X({"../node_modules/lodash/_arrayLikeKeys.js"(t,e){var n=Sre(),r=zO(),i=sr(),s=Zp(),o=J1(),a=WO(),l=Object.prototype,c=l.hasOwnProperty;function u(d,f){var h=i(d),m=!h&&r(d),g=!h&&!m&&s(d),y=!h&&!m&&!g&&a(d),O=h||m||g||y,b=O?n(d.length,String):[],x=b.length;for(var v in d)(f||c.call(d,v))&&!(O&&(v=="length"||g&&(v=="offset"||v=="parent")||y&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||o(v,x)))&&b.push(v);return b}e.exports=u}}),e_=X({"../node_modules/lodash/_isPrototype.js"(t,e){var n=Object.prototype;function r(i){var s=i&&i.constructor,o=typeof s=="function"&&s.prototype||n;return i===o}e.exports=r}}),PZe=X({"../node_modules/lodash/_nativeKeys.js"(t,e){var n=yre(),r=n(Object.keys,Object);e.exports=r}}),$re=X({"../node_modules/lodash/_baseKeys.js"(t,e){var n=e_(),r=PZe(),i=Object.prototype,s=i.hasOwnProperty;function o(a){if(!n(a))return r(a);var l=[];for(var c in Object(a))s.call(a,c)&&c!="constructor"&&l.push(c);return l}e.exports=o}}),Yd=X({"../node_modules/lodash/isArrayLike.js"(t,e){var n=Z1(),r=S2();function i(s){return s!=null&&r(s.length)&&!n(s)}e.exports=i}}),UO=X({"../node_modules/lodash/keys.js"(t,e){var n=_re(),r=$re(),i=Yd();function s(o){return i(o)?n(o):r(o)}e.exports=s}}),kre=X({"../node_modules/lodash/_getAllKeys.js"(t,e){var n=vre(),r=w2(),i=UO();function s(o){return n(o,i,r)}e.exports=s}}),CZe=X({"../node_modules/lodash/_equalObjects.js"(t,e){var n=kre(),r=1,i=Object.prototype,s=i.hasOwnProperty;function o(a,l,c,u,d,f){var h=c&r,m=n(a),g=m.length,y=n(l),O=y.length;if(g!=O&&!h)return!1;for(var b=g;b--;){var x=m[b];if(!(h?x in l:s.call(l,x)))return!1}var v=f.get(a),w=f.get(l);if(v&&w)return v==l&&w==a;var _=!0;f.set(a,l),f.set(l,a);for(var $=h;++b<g;){x=m[b];var k=a[x],j=l[x];if(u)var P=h?u(j,k,x,l,a,f):u(k,j,x,a,l,f);if(!(P===void 0?k===j||d(k,j,c,u,f):P)){_=!1;break}$||($=x=="constructor")}if(_&&!$){var R=a.constructor,N=l.constructor;R!=N&&"constructor"in a&&"constructor"in l&&!(typeof R=="function"&&R instanceof R&&typeof N=="function"&&N instanceof N)&&(_=!1)}return f.delete(a),f.delete(l),_}e.exports=o}}),jZe=X({"../node_modules/lodash/_DataView.js"(t,e){var n=Zd(),r=ba(),i=n(r,"DataView");e.exports=i}}),EZe=X({"../node_modules/lodash/_Promise.js"(t,e){var n=Zd(),r=ba(),i=n(r,"Promise");e.exports=i}}),Pre=X({"../node_modules/lodash/_Set.js"(t,e){var n=Zd(),r=ba(),i=n(r,"Set");e.exports=i}}),TZe=X({"../node_modules/lodash/_WeakMap.js"(t,e){var n=Zd(),r=ba(),i=n(r,"WeakMap");e.exports=i}}),ZO=X({"../node_modules/lodash/_getTag.js"(t,e){var n=jZe(),r=O2(),i=EZe(),s=Pre(),o=TZe(),a=Tl(),l=Ore(),c="[object Map]",u="[object Object]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",m="[object DataView]",g=l(n),y=l(r),O=l(i),b=l(s),x=l(o),v=a;(n&&v(new n(new ArrayBuffer(1)))!=m||r&&v(new r)!=c||i&&v(i.resolve())!=d||s&&v(new s)!=f||o&&v(new o)!=h)&&(v=function(w){var _=a(w),$=_==u?w.constructor:void 0,k=$?l($):"";if(k)switch(k){case g:return m;case y:return c;case O:return d;case b:return f;case x:return h}return _}),e.exports=v}}),NZe=X({"../node_modules/lodash/_baseIsEqualDeep.js"(t,e){var n=G1(),r=bre(),i=wZe(),s=CZe(),o=ZO(),a=sr(),l=Zp(),c=WO(),u=1,d="[object Arguments]",f="[object Array]",h="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function y(O,b,x,v,w,_){var $=a(O),k=a(b),j=$?f:o(O),P=k?f:o(b);j=j==d?h:j,P=P==d?h:P;var R=j==h,N=P==h,A=j==P;if(A&&l(O)){if(!l(b))return!1;$=!0,R=!1}if(A&&!R)return _||(_=new n),$||c(O)?r(O,b,x,v,w,_):i(O,b,j,x,v,w,_);if(!(x&u)){var C=R&&g.call(O,"__wrapped__"),T=N&&g.call(b,"__wrapped__");if(C||T){var E=C?O.value():O,I=T?b.value():b;return _||(_=new n),w(E,I,x,v,_)}}return A?(_||(_=new n),s(O,b,x,v,w,_)):!1}e.exports=y}}),t_=X({"../node_modules/lodash/_baseIsEqual.js"(t,e){var n=NZe(),r=Es();function i(s,o,a,l,c){return s===o?!0:s==null||o==null||!r(s)&&!r(o)?s!==s&&o!==o:n(s,o,a,l,i,c)}e.exports=i}}),AZe=X({"../node_modules/lodash/isEqualWith.js"(t,e){var n=t_();function r(i,s,o){o=typeof o=="function"?o:void 0;var a=o?o(i,s):void 0;return a===void 0?n(i,s,void 0,o):!!a}e.exports=r}});function Er(t,e){return(0,Cre.default)(t,e,(n,r)=>{if(typeof n=="function"&&typeof r=="function")return!0})}var Cre,$2=F({"../node_modules/@rjsf/utils/lib/deepEquals.js"(){Cre=Ce(AZe())}}),Xp=X({"../node_modules/lodash/isSymbol.js"(t,e){var n=Tl(),r=Es(),i="[object Symbol]";function s(o){return typeof o=="symbol"||r(o)&&n(o)==i}e.exports=s}}),k2=X({"../node_modules/lodash/_isKey.js"(t,e){var n=sr(),r=Xp(),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function o(a,l){if(n(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||r(a)?!0:s.test(a)||!i.test(a)||l!=null&&a in Object(l)}e.exports=o}}),RZe=X({"../node_modules/lodash/memoize.js"(t,e){var n=b2(),r="Expected a function";function i(s,o){if(typeof s!="function"||o!=null&&typeof o!="function")throw new TypeError(r);var a=function(){var l=arguments,c=o?o.apply(this,l):l[0],u=a.cache;if(u.has(c))return u.get(c);var d=s.apply(this,l);return a.cache=u.set(c,d)||u,d};return a.cache=new(i.Cache||n),a}i.Cache=n,e.exports=i}}),MZe=X({"../node_modules/lodash/_memoizeCapped.js"(t,e){var n=RZe(),r=500;function i(s){var o=n(s,function(l){return a.size===r&&a.clear(),l}),a=o.cache;return o}e.exports=i}}),jre=X({"../node_modules/lodash/_stringToPath.js"(t,e){var n=MZe(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=n(function(o){var a=[];return o.charCodeAt(0)===46&&a.push(""),o.replace(r,function(l,c,u,d){a.push(u?d.replace(i,"$1"):c||l)}),a});e.exports=s}}),Nl=X({"../node_modules/lodash/_arrayMap.js"(t,e){function n(r,i){for(var s=-1,o=r==null?0:r.length,a=Array(o);++s<o;)a[s]=i(r[s],s,r);return a}e.exports=n}}),IZe=X({"../node_modules/lodash/_baseToString.js"(t,e){var n=Wp(),r=Nl(),i=sr(),s=Xp(),o=n?n.prototype:void 0,a=o?o.toString:void 0;function l(c){if(typeof c=="string")return c;if(i(c))return r(c,l)+"";if(s(c))return a?a.call(c):"";var u=c+"";return u=="0"&&1/c==-1/0?"-0":u}e.exports=l}}),Ere=X({"../node_modules/lodash/toString.js"(t,e){var n=IZe();function r(i){return i==null?"":n(i)}e.exports=r}}),Yp=X({"../node_modules/lodash/_castPath.js"(t,e){var n=sr(),r=k2(),i=jre(),s=Ere();function o(a,l){return n(a)?a:r(a,l)?[a]:i(s(a))}e.exports=o}}),Gd=X({"../node_modules/lodash/_toKey.js"(t,e){var n=Xp();function r(i){if(typeof i=="string"||n(i))return i;var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}e.exports=r}}),XO=X({"../node_modules/lodash/_baseGet.js"(t,e){var n=Yp(),r=Gd();function i(s,o){o=n(o,s);for(var a=0,l=o.length;s!=null&&a<l;)s=s[r(o[a++])];return a&&a==l?s:void 0}e.exports=i}}),or=X({"../node_modules/lodash/get.js"(t,e){var n=XO();function r(i,s,o){var a=i==null?void 0:n(i,s);return a===void 0?o:a}e.exports=r}}),YO=X({"../node_modules/lodash/isEmpty.js"(t,e){var n=$re(),r=ZO(),i=zO(),s=sr(),o=Yd(),a=Zp(),l=e_(),c=WO(),u="[object Map]",d="[object Set]",f=Object.prototype,h=f.hasOwnProperty;function m(g){if(g==null)return!0;if(o(g)&&(s(g)||typeof g=="string"||typeof g.splice=="function"||a(g)||c(g)||i(g)))return!g.length;var y=r(g);if(y==u||y==d)return!g.size;if(l(g))return!n(g).length;for(var O in g)if(h.call(g,O))return!1;return!0}e.exports=m}}),DZe=X({"../node_modules/jsonpointer/jsonpointer.js"(t){var e=/~/,n=/~[01]/g;function r(u){switch(u){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+u)}function i(u){return e.test(u)?u.replace(n,r):u}function s(u,d,f){for(var h,m,g=1,y=d.length;g<y;){if(d[g]==="constructor"||d[g]==="prototype"||d[g]==="__proto__")return u;if(h=i(d[g++]),m=y>g,typeof u[h]>"u"&&(Array.isArray(u)&&h==="-"&&(h=u.length),m&&(d[g]!==""&&d[g]<1/0||d[g]==="-"?u[h]=[]:u[h]={})),!m)break;u=u[h]}var O=u[h];return f===void 0?delete u[h]:u[h]=f,O}function o(u){if(typeof u=="string"){if(u=u.split("/"),u[0]==="")return u;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(u)){for(const d of u)if(typeof d!="string"&&typeof d!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return u}throw new Error("Invalid JSON pointer.")}function a(u,d){if(typeof u!="object")throw new Error("Invalid input object.");d=o(d);var f=d.length;if(f===1)return u;for(var h=1;h<f;){if(u=u[i(d[h++])],f===h)return u;if(typeof u!="object"||u===null)return}}function l(u,d,f){if(typeof u!="object")throw new Error("Invalid input object.");if(d=o(d),d.length===0)throw new Error("Invalid JSON pointer for set.");return s(u,d,f)}function c(u){var d=o(u);return{get:function(f){return a(f,d)},set:function(f,h){return l(f,d,h)}}}t.get=a,t.set=l,t.compile=c}}),P2=X({"../node_modules/lodash/_arrayEach.js"(t,e){function n(r,i){for(var s=-1,o=r==null?0:r.length;++s<o&&i(r[s],s,r)!==!1;);return r}e.exports=n}}),Tre=X({"../node_modules/lodash/_defineProperty.js"(t,e){var n=Zd(),r=function(){try{var i=n(Object,"defineProperty");return i({},"",{}),i}catch{}}();e.exports=r}}),C2=X({"../node_modules/lodash/_baseAssignValue.js"(t,e){var n=Tre();function r(i,s,o){s=="__proto__"&&n?n(i,s,{configurable:!0,enumerable:!0,value:o,writable:!0}):i[s]=o}e.exports=r}}),j2=X({"../node_modules/lodash/_assignValue.js"(t,e){var n=C2(),r=Up(),i=Object.prototype,s=i.hasOwnProperty;function o(a,l,c){var u=a[l];(!(s.call(a,l)&&r(u,c))||c===void 0&&!(l in a))&&n(a,l,c)}e.exports=o}}),Gp=X({"../node_modules/lodash/_copyObject.js"(t,e){var n=j2(),r=C2();function i(s,o,a,l){var c=!a;a||(a={});for(var u=-1,d=o.length;++u<d;){var f=o[u],h=l?l(a[f],s[f],f,a,s):void 0;h===void 0&&(h=s[f]),c?r(a,f,h):n(a,f,h)}return a}e.exports=i}}),QZe=X({"../node_modules/lodash/_baseAssign.js"(t,e){var n=Gp(),r=UO();function i(s,o){return s&&n(o,r(o),s)}e.exports=i}}),FZe=X({"../node_modules/lodash/_nativeKeysIn.js"(t,e){function n(r){var i=[];if(r!=null)for(var s in Object(r))i.push(s);return i}e.exports=n}}),LZe=X({"../node_modules/lodash/_baseKeysIn.js"(t,e){var n=Un(),r=e_(),i=FZe(),s=Object.prototype,o=s.hasOwnProperty;function a(l){if(!n(l))return i(l);var c=r(l),u=[];for(var d in l)d=="constructor"&&(c||!o.call(l,d))||u.push(d);return u}e.exports=a}}),Hp=X({"../node_modules/lodash/keysIn.js"(t,e){var n=_re(),r=LZe(),i=Yd();function s(o){return i(o)?n(o,!0):r(o)}e.exports=s}}),qZe=X({"../node_modules/lodash/_baseAssignIn.js"(t,e){var n=Gp(),r=Hp();function i(s,o){return s&&n(o,r(o),s)}e.exports=i}}),Nre=X({"../node_modules/lodash/_cloneBuffer.js"(t,e){var n=ba(),r=typeof t=="object"&&t&&!t.nodeType&&t,i=r&&typeof e=="object"&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,f=a?a(d):new c.constructor(d);return c.copy(f),f}e.exports=l}}),n_=X({"../node_modules/lodash/_copyArray.js"(t,e){function n(r,i){var s=-1,o=r.length;for(i||(i=Array(o));++s<o;)i[s]=r[s];return i}e.exports=n}}),VZe=X({"../node_modules/lodash/_copySymbols.js"(t,e){var n=Gp(),r=w2();function i(s,o){return n(s,r(s),o)}e.exports=i}}),Are=X({"../node_modules/lodash/_getSymbolsIn.js"(t,e){var n=v2(),r=z1(),i=w2(),s=wre(),o=Object.getOwnPropertySymbols,a=o?function(l){for(var c=[];l;)n(c,i(l)),l=r(l);return c}:s;e.exports=a}}),BZe=X({"../node_modules/lodash/_copySymbolsIn.js"(t,e){var n=Gp(),r=Are();function i(s,o){return n(s,r(s),o)}e.exports=i}}),Rre=X({"../node_modules/lodash/_getAllKeysIn.js"(t,e){var n=vre(),r=Are(),i=Hp();function s(o){return n(o,i,r)}e.exports=s}}),zZe=X({"../node_modules/lodash/_initCloneArray.js"(t,e){var n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=s.length,a=new s.constructor(o);return o&&typeof s[0]=="string"&&r.call(s,"index")&&(a.index=s.index,a.input=s.input),a}e.exports=i}}),E2=X({"../node_modules/lodash/_cloneArrayBuffer.js"(t,e){var n=xre();function r(i){var s=new i.constructor(i.byteLength);return new n(s).set(new n(i)),s}e.exports=r}}),WZe=X({"../node_modules/lodash/_cloneDataView.js"(t,e){var n=E2();function r(i,s){var o=s?n(i.buffer):i.buffer;return new i.constructor(o,i.byteOffset,i.byteLength)}e.exports=r}}),UZe=X({"../node_modules/lodash/_cloneRegExp.js"(t,e){var n=/\w*$/;function r(i){var s=new i.constructor(i.source,n.exec(i));return s.lastIndex=i.lastIndex,s}e.exports=r}}),ZZe=X({"../node_modules/lodash/_cloneSymbol.js"(t,e){var n=Wp(),r=n?n.prototype:void 0,i=r?r.valueOf:void 0;function s(o){return i?Object(i.call(o)):{}}e.exports=s}}),Mre=X({"../node_modules/lodash/_cloneTypedArray.js"(t,e){var n=E2();function r(i,s){var o=s?n(i.buffer):i.buffer;return new i.constructor(o,i.byteOffset,i.length)}e.exports=r}}),XZe=X({"../node_modules/lodash/_initCloneByTag.js"(t,e){var n=E2(),r=WZe(),i=UZe(),s=ZZe(),o=Mre(),a="[object Boolean]",l="[object Date]",c="[object Map]",u="[object Number]",d="[object RegExp]",f="[object Set]",h="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",y="[object DataView]",O="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",v="[object Int16Array]",w="[object Int32Array]",_="[object Uint8Array]",$="[object Uint8ClampedArray]",k="[object Uint16Array]",j="[object Uint32Array]";function P(R,N,A){var C=R.constructor;switch(N){case g:return n(R);case a:case l:return new C(+R);case y:return r(R,A);case O:case b:case x:case v:case w:case _:case $:case k:case j:return o(R,A);case c:return new C;case u:case h:return new C(R);case d:return i(R);case f:return new C;case m:return s(R)}}e.exports=P}}),Ire=X({"../node_modules/lodash/_baseCreate.js"(t,e){var n=Un(),r=Object.create,i=function(){function s(){}return function(o){if(!n(o))return{};if(r)return r(o);s.prototype=o;var a=new s;return s.prototype=void 0,a}}();e.exports=i}}),Dre=X({"../node_modules/lodash/_initCloneObject.js"(t,e){var n=Ire(),r=z1(),i=e_();function s(o){return typeof o.constructor=="function"&&!i(o)?n(r(o)):{}}e.exports=s}}),YZe=X({"../node_modules/lodash/_baseIsMap.js"(t,e){var n=ZO(),r=Es(),i="[object Map]";function s(o){return r(o)&&n(o)==i}e.exports=s}}),GZe=X({"../node_modules/lodash/isMap.js"(t,e){var n=YZe(),r=Xd(),i=_2(),s=i&&i.isMap,o=s?r(s):n;e.exports=o}}),HZe=X({"../node_modules/lodash/_baseIsSet.js"(t,e){var n=ZO(),r=Es(),i="[object Set]";function s(o){return r(o)&&n(o)==i}e.exports=s}}),KZe=X({"../node_modules/lodash/isSet.js"(t,e){var n=HZe(),r=Xd(),i=_2(),s=i&&i.isSet,o=s?r(s):n;e.exports=o}}),Qre=X({"../node_modules/lodash/_baseClone.js"(t,e){var n=G1(),r=P2(),i=j2(),s=QZe(),o=qZe(),a=Nre(),l=n_(),c=VZe(),u=BZe(),d=kre(),f=Rre(),h=ZO(),m=zZe(),g=XZe(),y=Dre(),O=sr(),b=Zp(),x=GZe(),v=Un(),w=KZe(),_=UO(),$=Hp(),k=1,j=2,P=4,R="[object Arguments]",N="[object Array]",A="[object Boolean]",C="[object Date]",T="[object Error]",E="[object Function]",I="[object GeneratorFunction]",M="[object Map]",Q="[object Number]",B="[object Object]",Z="[object RegExp]",W="[object Set]",oe="[object String]",le="[object Symbol]",U="[object WeakMap]",G="[object ArrayBuffer]",ie="[object DataView]",Y="[object Float32Array]",L="[object Float64Array]",ae="[object Int8Array]",q="[object Int16Array]",te="[object Int32Array]",re="[object Uint8Array]",ue="[object Uint8ClampedArray]",fe="[object Uint16Array]",Ee="[object Uint32Array]",pe={};pe[R]=pe[N]=pe[G]=pe[ie]=pe[A]=pe[C]=pe[Y]=pe[L]=pe[ae]=pe[q]=pe[te]=pe[M]=pe[Q]=pe[B]=pe[Z]=pe[W]=pe[oe]=pe[le]=pe[re]=pe[ue]=pe[fe]=pe[Ee]=!0,pe[T]=pe[E]=pe[U]=!1;function z(ee,K,me,de,ne,ce){var he,ge=K&k,be=K&j,$e=K&P;if(me&&(he=ne?me(ee,de,ne,ce):me(ee)),he!==void 0)return he;if(!v(ee))return ee;var Ye=O(ee);if(Ye){if(he=m(ee),!ge)return l(ee,he)}else{var Tt=h(ee),Oi=Tt==E||Tt==I;if(b(ee))return a(ee,ge);if(Tt==B||Tt==R||Oi&&!ne){if(he=be||Oi?{}:y(ee),!ge)return be?u(ee,o(he,ee)):c(ee,s(he,ee))}else{if(!pe[Tt])return ne?ee:{};he=g(ee,Tt,ge)}}ce||(ce=new n);var Il=ce.get(ee);if(Il)return Il;ce.set(ee,he),w(ee)?ee.forEach(function(Qr){he.add(z(Qr,K,me,Qr,ee,ce))}):x(ee)&&ee.forEach(function(Qr,As){he.set(As,z(Qr,K,me,As,ee,ce))});var bi=$e?be?f:d:be?$:_,wo=Ye?void 0:bi(ee);return r(wo||ee,function(Qr,As){wo&&(As=Qr,Qr=ee[As]),i(he,As,z(Qr,K,me,As,ee,ce))}),he}e.exports=z}}),Fre=X({"../node_modules/lodash/last.js"(t,e){function n(r){var i=r==null?0:r.length;return i?r[i-1]:void 0}e.exports=n}}),JZe=X({"../node_modules/lodash/_baseSlice.js"(t,e){function n(r,i,s){var o=-1,a=r.length;i<0&&(i=-i>a?0:a+i),s=s>a?a:s,s<0&&(s+=a),a=i>s?0:s-i>>>0,i>>>=0;for(var l=Array(a);++o<a;)l[o]=r[o+i];return l}e.exports=n}}),eXe=X({"../node_modules/lodash/_parent.js"(t,e){var n=XO(),r=JZe();function i(s,o){return o.length<2?s:n(s,r(o,0,-1))}e.exports=i}}),Lre=X({"../node_modules/lodash/_baseUnset.js"(t,e){var n=Yp(),r=Fre(),i=eXe(),s=Gd();function o(a,l){return l=n(l,a),a=i(a,l),a==null||delete a[s(r(l))]}e.exports=o}}),tXe=X({"../node_modules/lodash/_customOmitClone.js"(t,e){var n=au();function r(i){return n(i)?void 0:i}e.exports=r}}),nXe=X({"../node_modules/lodash/_isFlattenable.js"(t,e){var n=Wp(),r=zO(),i=sr(),s=n?n.isConcatSpreadable:void 0;function o(a){return i(a)||r(a)||!!(s&&a&&a[s])}e.exports=o}}),r_=X({"../node_modules/lodash/_baseFlatten.js"(t,e){var n=v2(),r=nXe();function i(s,o,a,l,c){var u=-1,d=s.length;for(a||(a=r),c||(c=[]);++u<d;){var f=s[u];o>0&&a(f)?o>1?i(f,o-1,a,l,c):n(c,f):l||(c[c.length]=f)}return c}e.exports=i}}),T2=X({"../node_modules/lodash/flatten.js"(t,e){var n=r_();function r(i){var s=i==null?0:i.length;return s?n(i,1):[]}e.exports=r}}),qre=X({"../node_modules/lodash/_apply.js"(t,e){function n(r,i,s){switch(s.length){case 0:return r.call(i);case 1:return r.call(i,s[0]);case 2:return r.call(i,s[0],s[1]);case 3:return r.call(i,s[0],s[1],s[2])}return r.apply(i,s)}e.exports=n}}),Vre=X({"../node_modules/lodash/_overRest.js"(t,e){var n=qre(),r=Math.max;function i(s,o,a){return o=r(o===void 0?s.length-1:o,0),function(){for(var l=arguments,c=-1,u=r(l.length-o,0),d=Array(u);++c<u;)d[c]=l[o+c];c=-1;for(var f=Array(o+1);++c<o;)f[c]=l[c];return f[o]=a(d),n(s,this,f)}}e.exports=i}}),rXe=X({"../node_modules/lodash/constant.js"(t,e){function n(r){return function(){return r}}e.exports=n}}),GO=X({"../node_modules/lodash/identity.js"(t,e){function n(r){return r}e.exports=n}}),iXe=X({"../node_modules/lodash/_baseSetToString.js"(t,e){var n=rXe(),r=Tre(),i=GO(),s=r?function(o,a){return r(o,"toString",{configurable:!0,enumerable:!1,value:n(a),writable:!0})}:i;e.exports=s}}),sXe=X({"../node_modules/lodash/_shortOut.js"(t,e){var n=800,r=16,i=Date.now;function s(o){var a=0,l=0;return function(){var c=i(),u=r-(c-l);if(l=c,u>0){if(++a>=n)return arguments[0]}else a=0;return o.apply(void 0,arguments)}}e.exports=s}}),Bre=X({"../node_modules/lodash/_setToString.js"(t,e){var n=iXe(),r=sXe(),i=r(n);e.exports=i}}),zre=X({"../node_modules/lodash/_flatRest.js"(t,e){var n=T2(),r=Vre(),i=Bre();function s(o){return i(r(o,void 0,n),o+"")}e.exports=s}}),N2=X({"../node_modules/lodash/omit.js"(t,e){var n=Nl(),r=Qre(),i=Lre(),s=Yp(),o=Gp(),a=tXe(),l=zre(),c=Rre(),u=1,d=2,f=4,h=l(function(m,g){var y={};if(m==null)return y;var O=!1;g=n(g,function(x){return x=s(x,m),O||(O=x.length>1),x}),o(m,c(m),y),O&&(y=r(y,u|d|f,a));for(var b=g.length;b--;)i(y,g[b]);return y});e.exports=h}});function A2(t,e){const n=e[t];return[(0,Xre.default)(e,[t]),n]}function Wre(t,e={},n=[]){const r=t||"";let i;if(r.startsWith("#"))i=decodeURIComponent(r.substring(1));else throw new Error(`Could not find a definition for ${t}.`);const s=Zre.default.get(e,i);if(s===void 0)throw new Error(`Could not find a definition for ${t}.`);const o=s[zn];if(o){if(n.includes(o)){if(n.length===1)throw new Error(`Definition for ${t} is a circular reference`);const[u,...d]=n,f=[...d,r,u].join(" -> ");throw new Error(`Definition for ${u} contains a circular reference through ${f}`)}const[a,l]=A2(zn,s),c=Wre(l,e,[...n,r]);return Object.keys(a).length>0?{...a,...c}:c}return s}function Ure(t,e={}){return Wre(t,e,[])}var Zre,Xre,R2=F({"../node_modules/@rjsf/utils/lib/findSchemaDefinition.js"(){Zre=Ce(DZe()),Xre=Ce(N2()),rn()}}),oXe=X({"../node_modules/lodash/_baseHas.js"(t,e){var n=Object.prototype,r=n.hasOwnProperty;function i(s,o){return s!=null&&r.call(s,o)}e.exports=i}}),Yre=X({"../node_modules/lodash/_hasPath.js"(t,e){var n=Yp(),r=zO(),i=sr(),s=J1(),o=S2(),a=Gd();function l(c,u,d){u=n(u,c);for(var f=-1,h=u.length,m=!1;++f<h;){var g=a(u[f]);if(!(m=c!=null&&d(c,g)))break;c=c[g]}return m||++f!=h?m:(h=c==null?0:c.length,!!h&&o(h)&&s(g,h)&&(i(c)||r(c)))}e.exports=l}}),i_=X({"../node_modules/lodash/has.js"(t,e){var n=oXe(),r=Yre();function i(s,o){return s!=null&&r(s,o,n)}e.exports=i}}),Gre=X({"../node_modules/lodash/isNumber.js"(t,e){var n=Tl(),r=Es(),i="[object Number]";function s(o){return typeof o=="number"||r(o)&&n(o)==i}e.exports=s}}),M2=X({"../node_modules/lodash/isString.js"(t,e){var n=Tl(),r=sr(),i=Es(),s="[object String]";function o(a){return typeof a=="string"||!r(a)&&i(a)&&n(a)==s}e.exports=o}}),aXe=X({"../node_modules/lodash/_arrayReduce.js"(t,e){function n(r,i,s,o){var a=-1,l=r==null?0:r.length;for(o&&l&&(s=r[++a]);++a<l;)s=i(s,r[a],a,r);return s}e.exports=n}}),lXe=X({"../node_modules/lodash/_createBaseFor.js"(t,e){function n(r){return function(i,s,o){for(var a=-1,l=Object(i),c=o(i),u=c.length;u--;){var d=c[r?u:++a];if(s(l[d],d,l)===!1)break}return i}}e.exports=n}}),Hre=X({"../node_modules/lodash/_baseFor.js"(t,e){var n=lXe(),r=n();e.exports=r}}),Kre=X({"../node_modules/lodash/_baseForOwn.js"(t,e){var n=Hre(),r=UO();function i(s,o){return s&&n(s,o,r)}e.exports=i}}),cXe=X({"../node_modules/lodash/_createBaseEach.js"(t,e){var n=Yd();function r(i,s){return function(o,a){if(o==null)return o;if(!n(o))return i(o,a);for(var l=o.length,c=s?l:-1,u=Object(o);(s?c--:++c<l)&&a(u[c],c,u)!==!1;);return o}}e.exports=r}}),I2=X({"../node_modules/lodash/_baseEach.js"(t,e){var n=Kre(),r=cXe(),i=r(n);e.exports=i}}),uXe=X({"../node_modules/lodash/_baseIsMatch.js"(t,e){var n=G1(),r=t_(),i=1,s=2;function o(a,l,c,u){var d=c.length,f=d,h=!u;if(a==null)return!f;for(a=Object(a);d--;){var m=c[d];if(h&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++d<f;){m=c[d];var g=m[0],y=a[g],O=m[1];if(h&&m[2]){if(y===void 0&&!(g in a))return!1}else{var b=new n;if(u)var x=u(y,O,g,a,l,b);if(!(x===void 0?r(O,y,i|s,u,b):x))return!1}}return!0}e.exports=o}}),Jre=X({"../node_modules/lodash/_isStrictComparable.js"(t,e){var n=Un();function r(i){return i===i&&!n(i)}e.exports=r}}),dXe=X({"../node_modules/lodash/_getMatchData.js"(t,e){var n=Jre(),r=UO();function i(s){for(var o=r(s),a=o.length;a--;){var l=o[a],c=s[l];o[a]=[l,c,n(c)]}return o}e.exports=i}}),eie=X({"../node_modules/lodash/_matchesStrictComparable.js"(t,e){function n(r,i){return function(s){return s==null?!1:s[r]===i&&(i!==void 0||r in Object(s))}}e.exports=n}}),fXe=X({"../node_modules/lodash/_baseMatches.js"(t,e){var n=uXe(),r=dXe(),i=eie();function s(o){var a=r(o);return a.length==1&&a[0][2]?i(a[0][0],a[0][1]):function(l){return l===o||n(l,o,a)}}e.exports=s}}),hXe=X({"../node_modules/lodash/_baseHasIn.js"(t,e){function n(r,i){return r!=null&&i in Object(r)}e.exports=n}}),tie=X({"../node_modules/lodash/hasIn.js"(t,e){var n=hXe(),r=Yre();function i(s,o){return s!=null&&r(s,o,n)}e.exports=i}}),pXe=X({"../node_modules/lodash/_baseMatchesProperty.js"(t,e){var n=t_(),r=or(),i=tie(),s=k2(),o=Jre(),a=eie(),l=Gd(),c=1,u=2;function d(f,h){return s(f)&&o(h)?a(l(f),h):function(m){var g=r(m,f);return g===void 0&&g===h?i(m,f):n(h,g,c|u)}}e.exports=d}}),mXe=X({"../node_modules/lodash/_baseProperty.js"(t,e){function n(r){return function(i){return i==null?void 0:i[r]}}e.exports=n}}),gXe=X({"../node_modules/lodash/_basePropertyDeep.js"(t,e){var n=XO();function r(i){return function(s){return n(s,i)}}e.exports=r}}),yXe=X({"../node_modules/lodash/property.js"(t,e){var n=mXe(),r=gXe(),i=k2(),s=Gd();function o(a){return i(a)?n(s(a)):r(a)}e.exports=o}}),D2=X({"../node_modules/lodash/_baseIteratee.js"(t,e){var n=fXe(),r=pXe(),i=GO(),s=sr(),o=yXe();function a(l){return typeof l=="function"?l:l==null?i:typeof l=="object"?s(l)?r(l[0],l[1]):n(l):o(l)}e.exports=a}}),OXe=X({"../node_modules/lodash/_baseReduce.js"(t,e){function n(r,i,s,o,a){return a(r,function(l,c,u){s=o?(o=!1,l):i(s,l,c,u)}),s}e.exports=n}}),bXe=X({"../node_modules/lodash/reduce.js"(t,e){var n=aXe(),r=I2(),i=D2(),s=OXe(),o=sr();function a(l,c,u){var d=o(l)?n:s,f=arguments.length<3;return d(l,i(c,4),u,f,r)}e.exports=a}}),nie=X({"../node_modules/lodash/_castFunction.js"(t,e){var n=GO();function r(i){return typeof i=="function"?i:n}e.exports=r}}),xXe=X({"../node_modules/lodash/_trimmedEndIndex.js"(t,e){var n=/\s/;function r(i){for(var s=i.length;s--&&n.test(i.charAt(s)););return s}e.exports=r}}),vXe=X({"../node_modules/lodash/_baseTrim.js"(t,e){var n=xXe(),r=/^\s+/;function i(s){return s&&s.slice(0,n(s)+1).replace(r,"")}e.exports=i}}),wXe=X({"../node_modules/lodash/toNumber.js"(t,e){var n=vXe(),r=Un(),i=Xp(),s=NaN,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function u(d){if(typeof d=="number")return d;if(i(d))return s;if(r(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=r(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=n(d);var h=a.test(d);return h||l.test(d)?c(d.slice(2),h?2:8):o.test(d)?s:+d}e.exports=u}}),SXe=X({"../node_modules/lodash/toFinite.js"(t,e){var n=wXe(),r=1/0,i=17976931348623157e292;function s(o){if(!o)return o===0?o:0;if(o=n(o),o===r||o===-1/0){var a=o<0?-1:1;return a*i}return o===o?o:0}e.exports=s}}),_Xe=X({"../node_modules/lodash/toInteger.js"(t,e){var n=SXe();function r(i){var s=n(i),o=s%1;return s===s?o?s-o:s:0}e.exports=r}}),rie=X({"../node_modules/lodash/times.js"(t,e){var n=Sre(),r=nie(),i=_Xe(),s=9007199254740991,o=4294967295,a=Math.min;function l(c,u){if(c=i(c),c<1||c>s)return[];var d=o,f=a(c,o);u=r(u),c-=o;for(var h=n(f,u);++d<c;)u(d);return h}e.exports=l}});function iie(t,e,n){var r;if(t&&n){const i=(0,DT.default)(t,n);if(i===void 0)return;for(let s=0;s<e.length;s++){const o=e[s],a=(0,DT.default)(o,[mn,n],{});if(!(a.type==="object"||a.type==="array")&&(a.const===i||!((r=a.enum)===null||r===void 0)&&r.includes(i)))return s}}}var DT,Q2=F({"../node_modules/@rjsf/utils/lib/getOptionMatchingSimpleDiscriminator.js"(){DT=Ce(or()),rn()}});function sie(t,e,n,r,i){if(e===void 0)return 0;const s=iie(e,n,i);if((0,aie.default)(s))return s;for(let o=0;o<n.length;o++){const a=n[o];if(i&&(0,oie.default)(a,[mn,i])){const l=(0,QT.default)(e,i),c=(0,QT.default)(a,[mn,i],{});if(t.isValid(c,l,r))return o}else if(a[mn]){const l={anyOf:Object.keys(a[mn]).map(u=>({required:[u]}))};let c;if(a.anyOf){const{...u}=a;u.allOf?u.allOf=u.allOf.slice():u.allOf=[],u.allOf.push(l),c=u}else c=Object.assign({},a,l);if(delete c.required,t.isValid(c,e,r))return o}else if(t.isValid(a,e,r))return o}return 0}var QT,oie,aie,lie=F({"../node_modules/@rjsf/utils/lib/schema/getMatchingOption.js"(){QT=Ce(or()),oie=Ce(i_()),aie=Ce(Gre()),rn(),Q2()}});function F2(t,e,n,r,i){return sie(t,e,n,r,i)}var L2=F({"../node_modules/@rjsf/utils/lib/schema/getFirstMatchingOption.js"(){lie()}}),Al=X({"../node_modules/lodash/isEqual.js"(t,e){var n=t_();function r(i,s){return n(i,s)}e.exports=r}}),q2=X({"../node_modules/lodash/_baseSet.js"(t,e){var n=j2(),r=Yp(),i=J1(),s=Un(),o=Gd();function a(l,c,u,d){if(!s(l))return l;c=r(c,l);for(var f=-1,h=c.length,m=h-1,g=l;g!=null&&++f<h;){var y=o(c[f]),O=u;if(y==="__proto__"||y==="constructor"||y==="prototype")return l;if(f!=m){var b=g[y];O=d?d(b,y,g):void 0,O===void 0&&(O=s(b)?b:i(c[f+1])?[]:{})}n(g,y,O),g=g[y]}return l}e.exports=a}}),Kp=X({"../node_modules/lodash/set.js"(t,e){var n=q2();function r(i,s,o){return i==null?i:n(i,s,o)}e.exports=r}}),$Xe=X({"../node_modules/lodash/transform.js"(t,e){var n=P2(),r=Ire(),i=Kre(),s=D2(),o=z1(),a=sr(),l=Zp(),c=Z1(),u=Un(),d=WO();function f(h,m,g){var y=a(h),O=y||l(h)||d(h);if(m=s(m,4),g==null){var b=h&&h.constructor;O?g=y?new b:[]:u(h)?g=c(b)?r(o(h)):{}:g={}}return(O?n:i)(h,function(x,v,w){return m(g,x,v,w)}),g}e.exports=f}}),cie=X({"../node_modules/lodash/_assignMergeValue.js"(t,e){var n=C2(),r=Up();function i(s,o,a){(a!==void 0&&!r(s[o],a)||a===void 0&&!(o in s))&&n(s,o,a)}e.exports=i}}),s_=X({"../node_modules/lodash/isArrayLikeObject.js"(t,e){var n=Yd(),r=Es();function i(s){return r(s)&&n(s)}e.exports=i}}),uie=X({"../node_modules/lodash/_safeGet.js"(t,e){function n(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}e.exports=n}}),kXe=X({"../node_modules/lodash/toPlainObject.js"(t,e){var n=Gp(),r=Hp();function i(s){return n(s,r(s))}e.exports=i}}),PXe=X({"../node_modules/lodash/_baseMergeDeep.js"(t,e){var n=cie(),r=Nre(),i=Mre(),s=n_(),o=Dre(),a=zO(),l=sr(),c=s_(),u=Zp(),d=Z1(),f=Un(),h=au(),m=WO(),g=uie(),y=kXe();function O(b,x,v,w,_,$,k){var j=g(b,v),P=g(x,v),R=k.get(P);if(R){n(b,v,R);return}var N=$?$(j,P,v+"",b,x,k):void 0,A=N===void 0;if(A){var C=l(P),T=!C&&u(P),E=!C&&!T&&m(P);N=P,C||T||E?l(j)?N=j:c(j)?N=s(j):T?(A=!1,N=r(P,!0)):E?(A=!1,N=i(P,!0)):N=[]:h(P)||a(P)?(N=j,a(j)?N=y(j):(!f(j)||d(j))&&(N=o(P))):A=!1}A&&(k.set(P,N),_(N,P,w,$,k),k.delete(P)),n(b,v,N)}e.exports=O}}),V2=X({"../node_modules/lodash/_baseMerge.js"(t,e){var n=G1(),r=cie(),i=Hre(),s=PXe(),o=Un(),a=Hp(),l=uie();function c(u,d,f,h,m){u!==d&&i(d,function(g,y){if(m||(m=new n),o(g))s(u,d,y,f,c,h,m);else{var O=h?h(l(u,y),g,y+"",u,d,m):void 0;O===void 0&&(O=g),r(u,y,O)}},a)}e.exports=c}}),lu=X({"../node_modules/lodash/_baseRest.js"(t,e){var n=GO(),r=Vre(),i=Bre();function s(o,a){return i(r(o,a,n),o+"")}e.exports=s}}),B2=X({"../node_modules/lodash/_isIterateeCall.js"(t,e){var n=Up(),r=Yd(),i=J1(),s=Un();function o(a,l,c){if(!s(c))return!1;var u=typeof l;return(u=="number"?r(c)&&i(l,c.length):u=="string"&&l in c)?n(c[l],a):!1}e.exports=o}}),die=X({"../node_modules/lodash/_createAssigner.js"(t,e){var n=lu(),r=B2();function i(s){return n(function(o,a){var l=-1,c=a.length,u=c>1?a[c-1]:void 0,d=c>2?a[2]:void 0;for(u=s.length>3&&typeof u=="function"?(c--,u):void 0,d&&r(a[0],a[1],d)&&(u=c<3?void 0:u,c=1),o=Object(o);++l<c;){var f=a[l];f&&s(o,f,l,u)}return o})}e.exports=i}}),CXe=X({"../node_modules/lodash/merge.js"(t,e){var n=V2(),r=die(),i=r(function(s,o,a){n(s,o,a)});e.exports=i}}),z2=X({"../node_modules/lodash/flattenDeep.js"(t,e){var n=r_(),r=1/0;function i(s){var o=s==null?0:s.length;return o?n(s,r):[]}e.exports=i}}),jXe=X({"../node_modules/lodash/_baseFindIndex.js"(t,e){function n(r,i,s,o){for(var a=r.length,l=s+(o?1:-1);o?l--:++l<a;)if(i(r[l],l,r))return l;return-1}e.exports=n}}),EXe=X({"../node_modules/lodash/_baseIsNaN.js"(t,e){function n(r){return r!==r}e.exports=n}}),TXe=X({"../node_modules/lodash/_strictIndexOf.js"(t,e){function n(r,i,s){for(var o=s-1,a=r.length;++o<a;)if(r[o]===i)return o;return-1}e.exports=n}}),fie=X({"../node_modules/lodash/_baseIndexOf.js"(t,e){var n=jXe(),r=EXe(),i=TXe();function s(o,a,l){return a===a?i(o,a,l):n(o,r,l)}e.exports=s}}),W2=X({"../node_modules/lodash/_arrayIncludes.js"(t,e){var n=fie();function r(i,s){var o=i==null?0:i.length;return!!o&&n(i,s,0)>-1}e.exports=r}}),U2=X({"../node_modules/lodash/_arrayIncludesWith.js"(t,e){function n(r,i,s){for(var o=-1,a=r==null?0:r.length;++o<a;)if(s(i,r[o]))return!0;return!1}e.exports=n}}),NXe=X({"../node_modules/lodash/noop.js"(t,e){function n(){}e.exports=n}}),AXe=X({"../node_modules/lodash/_createSet.js"(t,e){var n=Pre(),r=NXe(),i=x2(),s=1/0,o=n&&1/i(new n([,-0]))[1]==s?function(a){return new n(a)}:r;e.exports=o}}),Z2=X({"../node_modules/lodash/_baseUniq.js"(t,e){var n=H1(),r=W2(),i=U2(),s=K1(),o=AXe(),a=x2(),l=200;function c(u,d,f){var h=-1,m=r,g=u.length,y=!0,O=[],b=O;if(f)y=!1,m=i;else if(g>=l){var x=d?null:o(u);if(x)return a(x);y=!1,m=s,b=new n}else b=d?[]:O;e:for(;++h<g;){var v=u[h],w=d?d(v):v;if(v=f||v!==0?v:0,y&&w===w){for(var _=b.length;_--;)if(b[_]===w)continue e;d&&b.push(w),O.push(v)}else m(b,w,f)||(b!==O&&b.push(w),O.push(v))}return O}e.exports=c}}),o_=X({"../node_modules/lodash/uniq.js"(t,e){var n=Z2();function r(i){return i&&i.length?n(i):[]}e.exports=r}}),X2=X({"../node_modules/lodash/cloneDeep.js"(t,e){var n=Qre(),r=1,i=4;function s(o){return n(o,r|i)}e.exports=s}}),RXe=X({"../node_modules/lodash/_baseMap.js"(t,e){var n=I2(),r=Yd();function i(s,o){var a=-1,l=r(s)?Array(s.length):[];return n(s,function(c,u,d){l[++a]=o(c,u,d)}),l}e.exports=i}}),MXe=X({"../node_modules/lodash/_baseSortBy.js"(t,e){function n(r,i){var s=r.length;for(r.sort(i);s--;)r[s]=r[s].value;return r}e.exports=n}}),IXe=X({"../node_modules/lodash/_compareAscending.js"(t,e){var n=Xp();function r(i,s){if(i!==s){var o=i!==void 0,a=i===null,l=i===i,c=n(i),u=s!==void 0,d=s===null,f=s===s,h=n(s);if(!d&&!h&&!c&&i>s||c&&u&&f&&!d&&!h||a&&u&&f||!o&&f||!l)return 1;if(!a&&!c&&!h&&i<s||h&&o&&l&&!a&&!c||d&&o&&l||!u&&l||!f)return-1}return 0}e.exports=r}}),DXe=X({"../node_modules/lodash/_compareMultiple.js"(t,e){var n=IXe();function r(i,s,o){for(var a=-1,l=i.criteria,c=s.criteria,u=l.length,d=o.length;++a<u;){var f=n(l[a],c[a]);if(f){if(a>=d)return f;var h=o[a];return f*(h=="desc"?-1:1)}}return i.index-s.index}e.exports=r}}),QXe=X({"../node_modules/lodash/_baseOrderBy.js"(t,e){var n=Nl(),r=XO(),i=D2(),s=RXe(),o=MXe(),a=Xd(),l=DXe(),c=GO(),u=sr();function d(f,h,m){h.length?h=n(h,function(O){return u(O)?function(b){return r(b,O.length===1?O[0]:O)}:O}):h=[c];var g=-1;h=n(h,a(i));var y=s(f,function(O,b,x){var v=n(h,function(w){return w(O)});return{criteria:v,index:++g,value:O}});return o(y,function(O,b){return l(O,b,m)})}e.exports=d}}),hie=X({"../node_modules/lodash/sortBy.js"(t,e){var n=r_(),r=QXe(),i=lu(),s=B2(),o=i(function(a,l){if(a==null)return[];var c=l.length;return c>1&&s(a,l[0],l[1])?l=[]:c>2&&s(l[0],l[1],l[2])&&(l=[l[0]]),r(a,n(l,1),[])});e.exports=o}}),Y2=X({"../node_modules/lodash/uniqWith.js"(t,e){var n=Z2();function r(i,s){return s=typeof s=="function"?s:void 0,i&&i.length?n(i,void 0,s):[]}e.exports=r}}),FXe=X({"../node_modules/lodash/defaults.js"(t,e){var n=lu(),r=Up(),i=B2(),s=Hp(),o=Object.prototype,a=o.hasOwnProperty,l=n(function(c,u){c=Object(c);var d=-1,f=u.length,h=f>2?u[2]:void 0;for(h&&i(u[0],u[1],h)&&(f=1);++d<f;)for(var m=u[d],g=s(m),y=-1,O=g.length;++y<O;){var b=g[y],x=c[b];(x===void 0||r(x,o[b])&&!a.call(c,b))&&(c[b]=m[b])}return c});e.exports=l}}),pie=X({"../node_modules/lodash/_baseIntersection.js"(t,e){var n=H1(),r=W2(),i=U2(),s=Nl(),o=Xd(),a=K1(),l=Math.min;function c(u,d,f){for(var h=f?i:r,m=u[0].length,g=u.length,y=g,O=Array(g),b=1/0,x=[];y--;){var v=u[y];y&&d&&(v=s(v,o(d))),b=l(v.length,b),O[y]=!f&&(d||m>=120&&v.length>=120)?new n(y&&v):void 0}v=u[0];var w=-1,_=O[0];e:for(;++w<m&&x.length<b;){var $=v[w],k=d?d($):$;if($=f||$!==0?$:0,!(_?a(_,k):h(x,k,f))){for(y=g;--y;){var j=O[y];if(!(j?a(j,k):h(u[y],k,f)))continue e}_&&_.push(k),x.push($)}}return x}e.exports=c}}),mie=X({"../node_modules/lodash/_castArrayLikeObject.js"(t,e){var n=s_();function r(i){return n(i)?i:[]}e.exports=r}}),gie=X({"../node_modules/lodash/intersectionWith.js"(t,e){var n=Nl(),r=pie(),i=lu(),s=mie(),o=Fre(),a=i(function(l){var c=o(l),u=n(l,s);return c=typeof c=="function"?c:void 0,c&&u.pop(),u.length&&u[0]===l[0]?r(u,void 0,c):[]});e.exports=a}}),LXe=X({"../node_modules/lodash/isBoolean.js"(t,e){var n=Tl(),r=Es(),i="[object Boolean]";function s(o){return o===!0||o===!1||r(o)&&n(o)==i}e.exports=s}}),G2=X({"../node_modules/json-schema-compare/src/index.js"(t,e){var n=Al(),r=hie(),i=o_(),s=Y2(),o=FXe(),a=gie(),l=au(),c=LXe(),u=T=>Array.isArray(T)?T:[T],d=T=>T===void 0,f=T=>l(T)||Array.isArray(T)?Object.keys(T):[],h=(T,E)=>T.hasOwnProperty(E),m=T=>r(i(T)),g=T=>d(T)||Array.isArray(T)&&T.length===0,y=(T,E,I,M)=>E&&h(E,I)&&T&&h(T,I)&&M(T[I],E[I]),O=(T,E)=>d(T)&&E===0||d(E)&&T===0||n(T,E),b=(T,E)=>d(T)&&E===!1||d(E)&&T===!1||n(T,E),x=T=>d(T)||n(T,{})||T===!0,v=T=>d(T)||n(T,{}),w=T=>d(T)||l(T)||T===!0||T===!1;function _(T,E){return g(T)&&g(E)?!0:n(m(T),m(E))}function $(T,E){return T=u(T),E=u(E),n(m(T),m(E))}function k(T,E,I,M){var Q=i(f(T).concat(f(E)));return v(T)&&v(E)?!0:v(T)&&f(E).length||v(E)&&f(T).length?!1:Q.every(function(B){var Z=T[B],W=E[B];return Array.isArray(Z)&&Array.isArray(W)?n(m(T),m(E)):Array.isArray(Z)&&!Array.isArray(W)||Array.isArray(W)&&!Array.isArray(Z)?!1:y(T,E,B,M)})}function j(T,E,I,M){return l(T)&&l(E)?M(T,E):Array.isArray(T)&&Array.isArray(E)?k(T,E,I,M):n(T,E)}function P(T,E,I,M){var Q=s(T,M),B=s(E,M),Z=a(Q,B,M);return Z.length===Math.max(Q.length,B.length)}var R={title:n,uniqueItems:b,minLength:O,minItems:O,minProperties:O,required:_,enum:_,type:$,items:j,anyOf:P,allOf:P,oneOf:P,properties:k,patternProperties:k,dependencies:k},N=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],A=["additionalProperties","additionalItems","contains","propertyNames","not"];function C(T,E,I){if(I=o(I,{ignore:[]}),x(T)&&x(E))return!0;if(!w(T)||!w(E))throw new Error("Either of the values are not a JSON schema.");if(T===E)return!0;if(c(T)&&c(E))return T===E;if(T===void 0&&E===!1||E===void 0&&T===!1||d(T)&&!d(E)||!d(T)&&d(E))return!1;var M=i(Object.keys(T).concat(Object.keys(E)));if(I.ignore.length&&(M=M.filter(B=>I.ignore.indexOf(B)===-1)),!M.length)return!0;function Q(B,Z){return C(B,Z,I)}return M.every(function(B){var Z=T[B],W=E[B];if(A.indexOf(B)!==-1)return C(Z,W,I);var oe=R[B];if(oe||(oe=n),n(Z,W))return!0;if(N.indexOf(B)===-1&&(!h(T,B)&&h(E,B)||h(T,B)&&!h(E,B)))return Z===W;var le=oe(Z,W,B,Q);if(!c(le))throw new Error("Comparer must return true or false");return le})}e.exports=C}}),H2=X({"../node_modules/validate.io-array/lib/index.js"(t,e){function n(r){return Object.prototype.toString.call(r)==="[object Array]"}e.exports=Array.isArray||n}}),qXe=X({"../node_modules/validate.io-number/lib/index.js"(t,e){function n(r){return(typeof r=="number"||Object.prototype.toString.call(r)==="[object Number]")&&r.valueOf()===r.valueOf()}e.exports=n}}),VXe=X({"../node_modules/validate.io-integer/lib/index.js"(t,e){var n=qXe();function r(i){return n(i)&&i%1===0}e.exports=r}}),yie=X({"../node_modules/validate.io-integer-array/lib/index.js"(t,e){var n=H2(),r=VXe();function i(s){var o;if(!n(s)||(o=s.length,!o))return!1;for(var a=0;a<o;a++)if(!r(s[a]))return!1;return!0}e.exports=i}}),Oie=X({"../node_modules/validate.io-function/lib/index.js"(t,e){function n(r){return typeof r=="function"}e.exports=n}}),BXe=X({"../node_modules/compute-gcd/lib/index.js"(t,e){var n=H2(),r=yie(),i=Oie(),s=Math.pow(2,31)-1;function o(c,u){var d=1,f;if(c===0)return u;if(u===0)return c;for(;c%2===0&&u%2===0;)c=c/2,u=u/2,d=d*2;for(;c%2===0;)c=c/2;for(;u;){for(;u%2===0;)u=u/2;c>u&&(f=u,u=c,c=f),u=u-c}return d*c}function a(c,u){var d=0,f;if(c===0)return u;if(u===0)return c;for(;!(c&1)&&!(u&1);)c>>>=1,u>>>=1,d++;for(;!(c&1);)c>>>=1;for(;u;){for(;!(u&1);)u>>>=1;c>u&&(f=u,u=c,c=f),u=u-c}return c<<d}function l(){var c=arguments.length,u,d,f,h,m,g,y;for(u=new Array(c),y=0;y<c;y++)u[y]=arguments[y];if(r(u)){if(c===2)return m=u[0],g=u[1],m<0&&(m=-m),g<0&&(g=-g),m<=s&&g<=s?a(m,g):o(m,g);f=u}else if(n(u[0]))if(c>1){if(f=u[0],d=u[1],!i(d))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+d+"`.")}else f=u[0];else throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+u[0]+"`.");if(h=f.length,h<2)return null;if(d){for(m=new Array(h),y=0;y<h;y++)m[y]=d(f[y],y);f=m}if(c<3&&!r(f))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+f+"`.");for(y=0;y<h;y++)m=f[y],m<0&&(f[y]=-m);for(m=f[0],y=1;y<h;y++)g=f[y],g<=s&&m<=s?m=a(m,g):m=o(m,g);return m}e.exports=l}}),zXe=X({"../node_modules/compute-lcm/lib/index.js"(t,e){var n=BXe(),r=H2(),i=yie(),s=Oie();function o(){var a=arguments.length,l,c,u,d,f,h,m;for(l=new Array(a),m=0;m<a;m++)l[m]=arguments[m];if(i(l)){if(a===2)return f=l[0],h=l[1],f<0&&(f=-f),h<0&&(h=-h),f===0||h===0?0:f/n(f,h)*h;u=l}else if(r(l[0]))if(a>1){if(u=l[0],c=l[1],!s(c))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+c+"`.")}else u=l[0];else throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+l[0]+"`.");if(d=u.length,d<2)return null;if(c){for(f=new Array(d),m=0;m<d;m++)f[m]=c(u[m],m);u=f}if(a<3&&!i(u))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+u+"`.");for(m=0;m<d;m++)f=u[m],f<0&&(u[m]=-f);for(f=u[0],m=1;m<d;m++){if(h=u[m],f===0||h===0)return 0;f=f/n(f,h)*h}return f}e.exports=o}}),WXe=X({"../node_modules/lodash/_customDefaultsMerge.js"(t,e){var n=V2(),r=Un();function i(s,o,a,l,c,u){return r(s)&&r(o)&&(u.set(o,s),n(s,o,void 0,i,u),u.delete(o)),s}e.exports=i}}),UXe=X({"../node_modules/lodash/mergeWith.js"(t,e){var n=V2(),r=die(),i=r(function(s,o,a,l){n(s,o,a,l)});e.exports=i}}),ZXe=X({"../node_modules/lodash/defaultsDeep.js"(t,e){var n=qre(),r=lu(),i=WXe(),s=UXe(),o=r(function(a){return a.push(void 0,i),n(s,void 0,a)});e.exports=o}}),XXe=X({"../node_modules/lodash/intersection.js"(t,e){var n=Nl(),r=pie(),i=lu(),s=mie(),o=i(function(a){var l=n(a,s);return l.length&&l[0]===a[0]?r(l):[]});e.exports=o}}),YXe=X({"../node_modules/lodash/_baseIndexOfWith.js"(t,e){function n(r,i,s,o){for(var a=s-1,l=r.length;++a<l;)if(o(r[a],i))return a;return-1}e.exports=n}}),GXe=X({"../node_modules/lodash/_basePullAll.js"(t,e){var n=Nl(),r=fie(),i=YXe(),s=Xd(),o=n_(),a=Array.prototype,l=a.splice;function c(u,d,f,h){var m=h?i:r,g=-1,y=d.length,O=u;for(u===d&&(d=o(d)),f&&(O=n(u,s(f)));++g<y;)for(var b=0,x=d[g],v=f?f(x):x;(b=m(O,v,b,h))>-1;)O!==u&&l.call(O,b,1),l.call(u,b,1);return u}e.exports=c}}),HXe=X({"../node_modules/lodash/pullAll.js"(t,e){var n=GXe();function r(i,s){return i&&i.length&&s&&s.length?n(i,s):i}e.exports=r}}),a_=X({"../node_modules/lodash/forEach.js"(t,e){var n=P2(),r=I2(),i=nie(),s=sr();function o(a,l){var c=s(a)?n:r;return c(a,i(l))}e.exports=o}}),KXe=X({"../node_modules/lodash/_baseDifference.js"(t,e){var n=H1(),r=W2(),i=U2(),s=Nl(),o=Xd(),a=K1(),l=200;function c(u,d,f,h){var m=-1,g=r,y=!0,O=u.length,b=[],x=d.length;if(!O)return b;f&&(d=s(d,o(f))),h?(g=i,y=!1):d.length>=l&&(g=a,y=!1,d=new n(d));e:for(;++m<O;){var v=u[m],w=f==null?v:f(v);if(v=h||v!==0?v:0,y&&w===w){for(var _=x;_--;)if(d[_]===w)continue e;b.push(v)}else g(d,w,h)||b.push(v)}return b}e.exports=c}}),JXe=X({"../node_modules/lodash/without.js"(t,e){var n=KXe(),r=lu(),i=s_(),s=r(function(o,a){return i(o)?n(o,a):[]});e.exports=s}}),bie=X({"../node_modules/json-schema-merge-allof/src/common.js"(t,e){var n=T2(),r=z2(),i=au(),s=o_(),o=Y2(),a=JXe();function l(O){for(const b in O)d(O,b)&&g(O[b])&&delete O[b];return O}var c=O=>s(r(O.map(f))),u=(O,b)=>O.map(x=>x&&x[b]),d=(O,b)=>Object.prototype.hasOwnProperty.call(O,b),f=O=>i(O)||Array.isArray(O)?Object.keys(O):[],h=O=>O!==void 0,m=O=>i(O)||O===!0||O===!1,g=O=>!f(O).length&&O!==!1&&O!==!0,y=(O,...b)=>a.apply(null,[O].concat(n(b)));e.exports={allUniqueKeys:c,deleteUndefinedProps:l,getValues:u,has:d,isEmptySchema:g,isSchema:m,keys:f,notUndefined:h,uniqWith:o,withoutArr:y}}}),eYe=X({"../node_modules/json-schema-merge-allof/src/complex-resolvers/properties.js"(t,e){var n=G2(),r=a_(),{allUniqueKeys:i,deleteUndefinedProps:s,getValues:o,keys:a,notUndefined:l,uniqWith:c,withoutArr:u}=bie();function d(h){r(h,function(m,g){m===!1&&delete h[g]})}function f(h,m){return i(h).reduce(function(y,O){const b=o(h,O),x=c(b.filter(l),n);return y[O]=m(x,O),y},{})}e.exports={keywords:["properties","patternProperties","additionalProperties"],resolver(h,m,g,y){y.ignoreAdditionalProperties||(h.forEach(function(b){const x=h.filter($=>$!==b),v=a(b.properties),_=a(b.patternProperties).map($=>new RegExp($));x.forEach(function($){const k=a($.properties),j=k.filter(R=>_.some(N=>N.test(R)));u(k,v,j).forEach(function(R){$.properties[R]=g.properties([$.properties[R],b.additionalProperties],R)})})}),h.forEach(function(b){const x=h.filter(w=>w!==b),v=a(b.patternProperties);b.additionalProperties===!1&&x.forEach(function(w){const _=a(w.patternProperties);u(_,v).forEach(k=>delete w.patternProperties[k])})}));const O={additionalProperties:g.additionalProperties(h.map(b=>b.additionalProperties)),patternProperties:f(h.map(b=>b.patternProperties),g.patternProperties),properties:f(h.map(b=>b.properties),g.properties)};return O.additionalProperties===!1&&d(O.properties),s(O)}}}}),tYe=X({"../node_modules/json-schema-merge-allof/src/complex-resolvers/items.js"(t,e){var n=G2(),r=a_(),{allUniqueKeys:i,deleteUndefinedProps:s,has:o,isSchema:a,notUndefined:l,uniqWith:c}=bie();function u(m){r(m,function(g,y){g===!1&&m.splice(y,1)})}function d(m,g){return m.map(function(y){if(y)if(Array.isArray(y.items)){const O=y.items[g];if(a(O))return O;if(o(y,"additionalItems"))return y.additionalItems}else return y.items})}function f(m){return m.map(function(g){if(g)return Array.isArray(g.items)?g.additionalItems:g.items})}function h(m,g,y){return i(y).reduce(function(b,x){const v=d(m,x),w=c(v.filter(l),n);return b[x]=g(w,x),b},[])}e.exports={keywords:["items","additionalItems"],resolver(m,g,y){const O=m.map(w=>w.items),b=O.filter(l),x={};b.every(a)?x.items=y.items(O):x.items=h(m,y.items,O);let v;return b.every(Array.isArray)?v=m.map(w=>w.additionalItems):b.some(Array.isArray)&&(v=f(m)),v&&(x.additionalItems=y.additionalItems(v)),x.additionalItems===!1&&Array.isArray(x.items)&&u(x.items),s(x)}}}}),nYe=X({"../node_modules/json-schema-merge-allof/src/index.js"(t,e){var n=X2(),r=G2(),i=zXe(),s=ZXe(),o=T2(),a=z2(),l=XXe(),c=gie(),u=Al(),d=au(),f=HXe(),h=hie(),m=o_(),g=Y2(),y=eYe(),O=tYe(),b=(q,te)=>q.indexOf(te)!==-1,x=q=>d(q)||q===!0||q===!1,v=q=>q===!1,w=q=>q===!0,_=(q,te,re)=>re(q),$=q=>h(m(a(q))),k=q=>q!==void 0,j=q=>m(a(q.map(B))),P=q=>q[0],R=q=>$(q),N=q=>Math.max.apply(Math,q),A=q=>Math.min.apply(Math,q),C=q=>q.some(w),T=q=>g(o(q),u);function E(q){return function(te,re){return r({[q]:te},{[q]:re})}}function I(q){let{allOf:te=[],...re}=q;return re=d(q)?re:q,[re,...te.map(I)]}function M(q,te){return q.map(re=>re&&re[te])}function Q(q,te){return q.map(function(re,ue){try{return te(re,ue)}catch{return}}).filter(k)}function B(q){return d(q)||Array.isArray(q)?Object.keys(q):[]}function Z(q,te){if(te=te||[],!q.length)return te;const re=q.slice(0).shift(),ue=q.slice(1);return te.length?Z(ue,o(te.map(fe=>re.map(Ee=>[Ee].concat(fe))))):Z(ue,re.map(fe=>fe))}function W(q,te){let re;try{re=q.map(function(ue){return JSON.stringify(ue,null,2)}).join(`
`)}catch{re=q.join(", ")}throw new Error('Could not resolve values for path:"'+te.join(".")+`". They are probably incompatible. Values: 
`+re)}function oe(q,te,re,ue,fe,Ee){if(q.length){const pe=fe.complexResolvers[te];if(!pe||!pe.resolver)throw new Error("No resolver found for "+te);const z=re.map(de=>q.reduce((ne,ce)=>(de[ce]!==void 0&&(ne[ce]=de[ce]),ne),{})),ee=g(z,r),K=pe.keywords.reduce((de,ne)=>({...de,[ne]:(ce,he=[])=>ue(ce,null,Ee.concat(ne,he))}),{}),me=pe.resolver(ee,Ee.concat(te),K,fe);return d(me)||W(ee,Ee.concat(te)),me}}function le(q){return{required:q}}var U=["properties","patternProperties","definitions","dependencies"],G=["anyOf","oneOf"],ie=["additionalProperties","additionalItems","contains","propertyNames","not","items"],Y={type(q){if(q.some(Array.isArray)){const te=q.map(function(ue){return Array.isArray(ue)?ue:[ue]}),re=l.apply(null,te);if(re.length===1)return re[0];if(re.length>1)return m(re)}},dependencies(q,te,re){return j(q).reduce(function(fe,Ee){const pe=M(q,Ee);let z=g(pe.filter(k),u);const ee=z.filter(Array.isArray);if(ee.length){if(ee.length===z.length)fe[Ee]=$(z);else{const K=z.filter(x),me=ee.map(le);fe[Ee]=re(K.concat(me),Ee)}return fe}return z=g(z,r),fe[Ee]=re(z,Ee),fe},{})},oneOf(q,te,re){const ue=Z(n(q)),fe=Q(ue,re),Ee=g(fe,r);if(Ee.length)return Ee},not(q){return{anyOf:q}},pattern(q){return q.map(te=>"(?="+te+")").join("")},multipleOf(q){let te=q.slice(0),re=1;for(;te.some(ue=>!Number.isInteger(ue));)te=te.map(ue=>ue*10),re=re*10;return i(te)/re},enum(q){const te=c.apply(null,q.concat(u));if(te.length)return h(te)}};Y.$id=P,Y.$ref=P,Y.$schema=P,Y.additionalItems=_,Y.additionalProperties=_,Y.anyOf=Y.oneOf,Y.contains=_,Y.default=P,Y.definitions=Y.dependencies,Y.description=P,Y.examples=T,Y.exclusiveMaximum=A,Y.exclusiveMinimum=N,Y.items=O,Y.maximum=A,Y.maxItems=A,Y.maxLength=A,Y.maxProperties=A,Y.minimum=N,Y.minItems=N,Y.minLength=N,Y.minProperties=N,Y.properties=y,Y.propertyNames=_,Y.required=R,Y.title=P,Y.uniqueItems=C;var L={properties:y,items:O};function ae(q,te,re){te=s(te,{ignoreAdditionalProperties:!1,resolvers:Y,complexResolvers:L,deep:!0});const ue=Object.entries(te.complexResolvers);function fe(z,ee,K){z=n(z.filter(k)),K=K||[];const me=d(ee)?ee:{};if(!z.length)return;if(z.some(v))return!1;if(z.every(w))return!0;z=z.filter(d);const de=j(z);if(te.deep&&b(de,"allOf"))return ae({allOf:z},te);const ne=ue.map(([ce,he])=>de.filter(ge=>he.keywords.includes(ge)));return ne.forEach(ce=>f(de,ce)),de.forEach(function(ce){const he=M(z,ce),ge=g(he.filter(k),E(ce));if(ge.length===1&&b(G,ce))me[ce]=ge[0].map(be=>fe([be],be));else if(ge.length===1&&!b(U,ce)&&!b(ie,ce))me[ce]=ge[0];else{const be=te.resolvers[ce]||te.resolvers.defaultResolver;if(!be)throw new Error("No resolver found for key "+ce+". You can provide a resolver for this keyword in the options, or provide a default resolver.");const $e=(Ye,Tt=[])=>fe(Ye,null,K.concat(ce,Tt));me[ce]=be(ge,K.concat(ce),$e,te),me[ce]===void 0?W(ge,K.concat(ce)):me[ce]===void 0&&delete me[ce]}}),ue.reduce((ce,[he,ge],be)=>({...ce,...oe(ne[be],he,z,fe,te,K)}),me)}const Ee=a(I(q));return fe(Ee)}ae.options={resolvers:Y},e.exports=ae}});function Rd(t){let e;const n=(0,xie.default)(t,"discriminator.propertyName",void 0);return(0,vie.default)(n)?e=n:n!==void 0&&console.warn(`Expecting discriminator to be a string, got "${typeof n}" instead`),e}var xie,vie,HO=F({"../node_modules/@rjsf/utils/lib/getDiscriminatorFieldFromSchema.js"(){xie=Ce(or()),vie=Ce(M2())}});function Ey(t){return Array.isArray(t)?"array":typeof t=="string"?"string":t==null?"null":typeof t=="boolean"?"boolean":isNaN(t)?typeof t=="object"?"object":"string":"number"}var l_=F({"../node_modules/@rjsf/utils/lib/guessType.js"(){}}),rYe=X({"../node_modules/lodash/union.js"(t,e){var n=r_(),r=lu(),i=Z2(),s=s_(),o=r(function(a){return i(n(a,1,s,!0))});e.exports=o}});function Xc(t){let{type:e}=t;return!e&&t.const?Ey(t.const):!e&&t.enum?"string":!e&&(t.properties||t.additionalProperties)?"object":(Array.isArray(e)&&(e.length===2&&e.includes("null")?e=e.find(n=>n!=="null"):e=e[0]),e)}var Jp=F({"../node_modules/@rjsf/utils/lib/getSchemaType.js"(){l_()}});function la(t,e){const n=Object.assign({},t);return Object.keys(e).reduce((r,i)=>{const s=t?t[i]:{},o=e[i];return t&&i in t&&Ft(o)?r[i]=la(s,o):t&&e&&(Xc(t)==="object"||Xc(e)==="object")&&i===fre&&Array.isArray(s)&&Array.isArray(o)?r[i]=(0,wie.default)(s,o):r[i]=o,r},n)}var wie,K2=F({"../node_modules/@rjsf/utils/lib/mergeSchemas.js"(){wie=Ce(rYe()),rn(),Jp(),Oa()}});function Mi(t,e,n={},r,i){return Xo(t,e,n,r,void 0,void 0,i)[0]}function iYe(t,e,n,r,i,s,o){const{if:a,then:l,else:c,...u}=e,d=t.isValid(a,s||{},n);let f=[u],h=[];if(r)l&&typeof l!="boolean"&&(h=h.concat(Xo(t,l,n,s,r,i,o))),c&&typeof c!="boolean"&&(h=h.concat(Xo(t,c,n,s,r,i,o)));else{const m=d?l:c;m&&typeof m!="boolean"&&(h=h.concat(Xo(t,m,n,s,r,i,o)))}return h.length&&(f=h.map(m=>la(u,m))),f.flatMap(m=>Xo(t,m,n,s,r,i,o))}function Sie(t){return t.reduce((n,r)=>r.length>1?r.flatMap(i=>(0,jie.default)(n.length,s=>[...n[s]].concat(i))):(n.forEach(i=>i.push(r[0])),n),[[]])}function sYe(t,e,n,r,i,s,o){const a=_ie(t,e,n,r,i,s);if(a.length>1||a[0]!==e)return a;if(BO in e)return $ie(t,e,n,r,i,s).flatMap(c=>Xo(t,c,n,s,r,i,o));if(Bp in e&&Array.isArray(e.allOf)){const l=e.allOf.map(u=>Xo(t,u,n,s,r,i,o));return Sie(l).map(u=>({...e,allOf:u}))}return[e]}function _ie(t,e,n,r,i,s,o){const a=Ty(e,n,i);return a!==e?Xo(t,a,n,s,r,i,o):[e]}function Ty(t,e,n){if(!Ft(t))return t;let r=t;if(zn in r){const{$ref:i,...s}=r;if(n.includes(i))return r;n.push(i),r={...Ure(i,e),...s}}if(mn in r){const i=[],s=(0,Eie.default)(r[mn],(o,a,l)=>{const c=[...n];o[l]=Ty(a,e,c),i.push(c)},{});(0,Tie.default)(n,(0,Aie.default)((0,Nie.default)(i))),r={...r,[mn]:s}}return al in r&&!Array.isArray(r.items)&&typeof r.items!="boolean"&&(r={...r,items:Ty(r.items,e,n)}),(0,Pie.default)(t,r)?t:r}function oYe(t,e,n,r){const i={...e,properties:{...e.properties}},s=r&&Ft(r)?r:{};return Object.keys(s).forEach(o=>{if(o in i.properties)return;let a={};typeof i.additionalProperties!="boolean"?zn in i.additionalProperties?a=Mi(t,{$ref:(0,vg.default)(i.additionalProperties,[zn])},n,s):"type"in i.additionalProperties?a={...i.additionalProperties}:Xr in i.additionalProperties||gr in i.additionalProperties?a={type:"object",...i.additionalProperties}:a={type:Ey((0,vg.default)(s,[o]))}:a={type:Ey((0,vg.default)(s,[o]))},i.properties[o]=a,(0,Cie.default)(i.properties,[o,Vp],!0)}),i}function Xo(t,e,n,r,i=!1,s=[],o){return Ft(e)?sYe(t,e,n,i,s,r).flatMap(l=>{var c;let u=l;if(ure in u)return iYe(t,u,n,i,s,r,o);if(Bp in u){if(i){const{allOf:f,...h}=u;return[...f,h]}try{const f=[],h=[];(c=u.allOf)===null||c===void 0||c.forEach(m=>{typeof m=="object"&&m.contains?f.push(m):h.push(m)}),f.length&&(u={...u,allOf:h}),u=o?o(u):(0,Rie.default)(u,{deep:!1}),f.length&&(u.allOf=f)}catch(f){console.warn(`could not merge subschemas in allOf:
`,f);const{allOf:h,...m}=u;return m}}return $0 in u&&u.additionalProperties!==!1?oYe(t,u,n,r):u}):[{}]}function aYe(t,e,n,r,i){let s;const{oneOf:o,anyOf:a,...l}=e;if(Array.isArray(o)?s=o:Array.isArray(a)&&(s=a),s){const c=i===void 0&&r?{}:i,u=Rd(e);s=s.map(f=>Ty(f,n,[]));const d=F2(t,c,s,n,u);if(r)return s.map(f=>la(l,f));e=la(l,s[d])}return[e]}function $ie(t,e,n,r,i,s,o){const{dependencies:a,...l}=e;return aYe(t,l,n,r,s).flatMap(u=>kie(t,a,u,n,r,i,s,o))}function kie(t,e,n,r,i,s,o,a){let l=[n];for(const c in e){if(!i&&(0,vg.default)(o,[c])===void 0||n.properties&&!(c in n.properties))continue;const[u,d]=A2(c,e);return Array.isArray(d)?l[0]=lYe(n,d):Ft(d)&&(l=cYe(t,n,r,c,d,i,s,o,a)),l.flatMap(f=>kie(t,u,f,r,i,s,o,a))}return l}function lYe(t,e){if(!e)return t;const n=Array.isArray(t.required)?Array.from(new Set([...t.required,...e])):e;return{...t,required:n}}function cYe(t,e,n,r,i,s,o,a,l){return Xo(t,i,n,a,s,o,l).flatMap(u=>{const{oneOf:d,...f}=u;if(e=la(e,f),d===void 0)return e;const h=d.map(g=>typeof g=="boolean"||!(zn in g)?[g]:_ie(t,g,n,s,o,a));return Sie(h).flatMap(g=>uYe(t,e,n,r,g,s,o,a,l))})}function uYe(t,e,n,r,i,s,o,a,l){const c=i.filter(u=>{if(typeof u=="boolean"||!u||!u.properties)return!1;const{[r]:d}=u.properties;if(d){const f={type:"object",properties:{[r]:d}};return t.isValid(f,a,n)||s}return!1});return!s&&c.length!==1?(console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[e]):c.flatMap(u=>{const d=u,[f]=A2(r,d.properties),h={...d,properties:f};return Xo(t,h,n,a,s,o,l).map(g=>la(e,g))})}var vg,Pie,Cie,jie,Eie,Tie,Nie,Aie,Rie,Rl=F({"../node_modules/@rjsf/utils/lib/schema/retrieveSchema.js"(){vg=Ce(or()),Pie=Ce(Al()),Cie=Ce(Kp()),jie=Ce(rie()),Eie=Ce($Xe()),Tie=Ce(CXe()),Nie=Ce(z2()),Aie=Ce(o_()),Rie=Ce(nYe()),rn(),R2(),HO(),l_(),Oa(),K2(),L2()}});function FT(t,e,n,r){let i=0;return n&&((0,qT.default)(n.properties)?i+=(0,Die.default)(n.properties,(s,o,a)=>{const l=(0,LT.default)(r,a);if(typeof o=="boolean")return s;if((0,Gm.default)(o,zn)){const c=Mi(t,o,e,l);return s+FT(t,e,c,l||{})}if(((0,Gm.default)(o,gr)||(0,Gm.default)(o,Xr))&&l){const c=(0,Gm.default)(o,gr)?gr:Xr,u=Rd(o);return s+Ny(t,e,l,(0,LT.default)(o,c),-1,u)}if(o.type==="object")return(0,qT.default)(l)&&(s+=1),s+FT(t,e,o,l);if(o.type===Ey(l)){let c=s+1;return o.default?c+=l===o.default?1:-1:o.const&&(c+=l===o.const?1:-1),c}return s},0):(0,Iie.default)(n.type)&&n.type===Ey(r)&&(i+=1)),i}function Ny(t,e,n,r,i=-1,s){const o=r.map(d=>Ty(d,e,[])),a=iie(n,r,s);if((0,Mie.default)(a))return a;const l=o.reduce((d,f,h)=>(F2(t,n,[Fie,f],e,s)===1&&d.push(h),d),[]);if(l.length===1)return l[0];l.length||(0,Qie.default)(o.length,d=>l.push(d));const c=new Set,{bestIndex:u}=l.reduce((d,f)=>{const{bestScore:h}=d,m=o[f],g=FT(t,e,m,n);return c.add(g),g>h?{bestIndex:f,bestScore:g}:d},{bestIndex:i,bestScore:0});return c.size===1&&i>=0?i:u}var LT,Gm,Mie,qT,Iie,Die,Qie,Fie,J2=F({"../node_modules/@rjsf/utils/lib/schema/getClosestMatchingOption.js"(){LT=Ce(or()),Gm=Ce(i_()),Mie=Ce(Gre()),qT=Ce(Un()),Iie=Ce(M2()),Die=Ce(bXe()),Qie=Ce(rie()),L2(),Rl(),rn(),l_(),HO(),Q2(),Fie={type:"object",$id:dre,properties:{__not_really_there__:{type:"number"}}}}});function VT(t){return Array.isArray(t.items)&&t.items.length>0&&t.items.every(e=>Ft(e))}var Lie=F({"../node_modules/@rjsf/utils/lib/isFixedItems.js"(){Oa()}});function k0(t,e,n=!1,r=!1){if(Array.isArray(e)){const i=Array.isArray(t)?t:[],s=e.map((o,a)=>i[a]?k0(i[a],o,n,r):o);return n&&s.length<i.length&&s.push(...i.slice(s.length)),s}if(Ft(e)){const i=Object.assign({},t);return Object.keys(e).reduce((s,o)=>(s[o]=k0(t?(0,BT.default)(t,o):{},(0,BT.default)(e,o),n,r),s),i)}return r&&e===void 0?t:e}var BT,qie=F({"../node_modules/@rjsf/utils/lib/mergeDefaultsWithFormData.js"(){BT=Ce(or()),Oa()}});function kc(t,e,n=!1){return Object.keys(e).reduce((r,i)=>{const s=t?t[i]:{},o=e[i];if(t&&i in t&&Ft(o))r[i]=kc(s,o,n);else if(n&&Array.isArray(s)&&Array.isArray(o)){let a=o;n==="preventDuplicates"&&(a=o.reduce((l,c)=>(s.includes(c)||l.push(c),l),[])),r[i]=s.concat(a)}else r[i]=o;return r},Object.assign({},t))}var c_=F({"../node_modules/@rjsf/utils/lib/mergeObjects.js"(){Oa()}});function Vie(t){return Array.isArray(t.enum)&&t.enum.length===1||rp in t}var eD=F({"../node_modules/@rjsf/utils/lib/isConstant.js"(){rn()}});function Bie(t,e,n={}){const r=Mi(t,e,n,void 0),i=r.oneOf||r.anyOf;return Array.isArray(r.enum)?!0:Array.isArray(i)?i.every(s=>typeof s!="boolean"&&Vie(s)):!1}var zie=F({"../node_modules/@rjsf/utils/lib/schema/isSelect.js"(){eD(),Rl()}});function tD(t,e,n){return!e.uniqueItems||!e.items||typeof e.items=="boolean"?!1:Bie(t,e.items,n)}var nD=F({"../node_modules/@rjsf/utils/lib/schema/isMultiSelect.js"(){zie()}});function PP(t,e=ip.Ignore,n=-1){if(n>=0){if(Array.isArray(t.items)&&n<t.items.length){const r=t.items[n];if(typeof r!="boolean")return r}}else if(t.items&&!Array.isArray(t.items)&&typeof t.items!="boolean")return t.items;return e!==ip.Ignore&&Ft(t.additionalItems)?t.additionalItems:{}}function uz(t,e,n,r,i,s=[],o={},a=!1){const{emptyObjectFields:l="populateAllDefaults"}=o;if(r||a)t[e]=n;else if(l!=="skipDefaults")if(Ft(n)){const c=i===void 0?s.includes(e):i;l==="skipEmptyDefaults"?(0,Ay.default)(n)||(t[e]=n):(!(0,Ay.default)(n)||s.includes(e))&&(c||l!=="populateRequiredDefaults")&&(t[e]=n)}else n!==void 0&&(l==="populateAllDefaults"||l==="skipEmptyDefaults"||s.includes(e))&&(t[e]=n)}function Pc(t,e,n={}){const{parentDefaults:r,rawFormData:i,rootSchema:s={},includeUndefinedValues:o=!1,_recurseList:a=[],experimental_defaultFormStateBehavior:l=void 0,experimental_customMergeAllOf:c=void 0,required:u}=n,d=Ft(i)?i:{},f=Ft(e)?e:{};let h=r,m=null,g=a;if(Vie(f))h=f.const;else if(Ft(h)&&Ft(f.default))h=kc(h,f.default);else if(lre in f)h=f.default;else if(zn in f){const O=f[zn];a.includes(O)||(g=a.concat(O),m=Ure(O,s))}else if(BO in f){const O={...dz(t,f,n,h),...d};m=$ie(t,f,s,!1,[],O,c)[0]}else if(VT(f))h=f.items.map((O,b)=>Pc(t,O,{rootSchema:s,includeUndefinedValues:o,_recurseList:a,experimental_defaultFormStateBehavior:l,parentDefaults:Array.isArray(r)?r[b]:void 0,rawFormData:d,required:u}));else if(gr in f){const{oneOf:O,...b}=f;if(O.length===0)return;const x=Rd(f);m=O[Ny(t,s,(0,Ay.default)(d)?void 0:d,O,0,x)],m=la(b,m)}else if(Xr in f){const{anyOf:O,...b}=f;if(O.length===0)return;const x=Rd(f);m=O[Ny(t,s,(0,Ay.default)(d)?void 0:d,O,0,x)],m=la(b,m)}if(m)return Pc(t,m,{rootSchema:s,includeUndefinedValues:o,_recurseList:g,experimental_defaultFormStateBehavior:l,parentDefaults:h,rawFormData:d,required:u});h===void 0&&(h=f.default);const y=dz(t,f,n,h);return y??h}function dYe(t,e,{rawFormData:n,rootSchema:r={},includeUndefinedValues:i=!1,_recurseList:s=[],experimental_defaultFormStateBehavior:o=void 0,experimental_customMergeAllOf:a=void 0,required:l}={},c){{const u=Ft(n)?n:{},d=e,f=(o==null?void 0:o.allOf)==="populateDefaults"&&Bp in d?Mi(t,d,r,u,a):d,h=f[rp],m=Object.keys(f.properties||{}).reduce((g,y)=>{var O;const b=(0,Qu.default)(f,[mn,y]),x=Ft(h)&&h[y]!==void 0,v=Ft(b)&&rp in b||x,w=Pc(t,b,{rootSchema:r,_recurseList:s,experimental_defaultFormStateBehavior:o,experimental_customMergeAllOf:a,includeUndefinedValues:i===!0,parentDefaults:(0,Qu.default)(c,[y]),rawFormData:(0,Qu.default)(u,[y]),required:(O=f.required)===null||O===void 0?void 0:O.includes(y)});return uz(g,y,w,i,l,f.required,o,v),g},{});if(f.additionalProperties){const g=Ft(f.additionalProperties)?f.additionalProperties:{},y=new Set;Ft(c)&&Object.keys(c).filter(b=>!f.properties||!f.properties[b]).forEach(b=>y.add(b));const O=[];Object.keys(u).filter(b=>!f.properties||!f.properties[b]).forEach(b=>{y.add(b),O.push(b)}),y.forEach(b=>{var x;const v=Pc(t,g,{rootSchema:r,_recurseList:s,experimental_defaultFormStateBehavior:o,includeUndefinedValues:i===!0,parentDefaults:(0,Qu.default)(c,[b]),rawFormData:(0,Qu.default)(u,[b]),required:(x=f.required)===null||x===void 0?void 0:x.includes(b)});uz(m,b,v,i,l,O)})}return m}}function fYe(t,e,{rawFormData:n,rootSchema:r={},_recurseList:i=[],experimental_defaultFormStateBehavior:s=void 0,required:o}={},a){var l,c,u,d;const f=e,h=((l=s==null?void 0:s.arrayMinItems)===null||l===void 0?void 0:l.populate)==="never",m=((c=s==null?void 0:s.arrayMinItems)===null||c===void 0?void 0:c.populate)==="requiredOnly",g=(s==null?void 0:s.emptyObjectFields)==="skipEmptyDefaults",y=(d=(u=s==null?void 0:s.arrayMinItems)===null||u===void 0?void 0:u.computeSkipPopulate)!==null&&d!==void 0?d:()=>!1,O=g?void 0:[];if(Array.isArray(a)&&(a=a.map((k,j)=>{const P=PP(f,ip.Fallback,j);return Pc(t,P,{rootSchema:r,_recurseList:i,experimental_defaultFormStateBehavior:s,parentDefaults:k,required:o})})),Array.isArray(n)){const k=PP(f);h?a=n:a=n.map((j,P)=>Pc(t,k,{rootSchema:r,_recurseList:i,experimental_defaultFormStateBehavior:s,rawFormData:j,parentDefaults:(0,Qu.default)(a,[P]),required:o}))}if((Ft(f)&&rp in f)===!1){if(h)return a??O;if(m&&!o)return a||void 0}const x=Array.isArray(a)?a.length:0;if(!f.minItems||tD(t,f,r)||y(t,f,r)||f.minItems<=x)return a||O;const v=a||[],w=PP(f,ip.Invert),_=w.default,$=new Array(f.minItems-x).fill(Pc(t,w,{parentDefaults:_,rootSchema:r,_recurseList:i,experimental_defaultFormStateBehavior:s,required:o}));return v.concat($)}function dz(t,e,n={},r){switch(Xc(e)){case"object":return dYe(t,e,n,r);case"array":return fYe(t,e,n,r)}}function hYe(t,e,n,r,i=!1,s,o){if(!Ft(e))throw new Error("Invalid schema: "+e);const a=Mi(t,e,r,n,o),l=Pc(t,a,{rootSchema:r,includeUndefinedValues:i,experimental_defaultFormStateBehavior:s,experimental_customMergeAllOf:o,rawFormData:n});if(n==null||typeof n=="number"&&isNaN(n))return l;const{mergeDefaultsIntoFormData:c,arrayMinItems:u={}}=s||{},{mergeExtraDefaults:d}=u,f=c==="useDefaultIfFormDataUndefined";return Ft(n)||Array.isArray(n)?k0(l,n,d,f):n}var Qu,Ay,ip,pYe=F({"../node_modules/@rjsf/utils/lib/schema/getDefaultFormState.js"(){Qu=Ce(or()),Ay=Ce(YO()),rn(),R2(),J2(),HO(),Jp(),Oa(),Lie(),qie(),c_(),K2(),nD(),Rl(),eD(),function(t){t[t.Ignore=0]="Ignore",t[t.Invert=1]="Invert",t[t.Fallback=2]="Fallback"}(ip||(ip={}))}});function Wie(t={}){return"widget"in ft(t)&&ft(t).widget!=="hidden"}var Uie=F({"../node_modules/@rjsf/utils/lib/isCustomWidget.js"(){zp()}});function Zie(t,e,n={},r){if(n[B1]==="files")return!0;if(e.items){const i=Mi(t,e.items,r);return i.type==="string"&&i.format==="data-url"}return!1}var Xie=F({"../node_modules/@rjsf/utils/lib/schema/isFilesArray.js"(){rn(),Rl()}});function mYe(t,e,n={},r,i){const s=ft(n,i),{label:o=!0}=s;let a=!!o;const l=Xc(e);return l==="array"&&(a=tD(t,e,r)||Zie(t,e,n,r)||Wie(n)),l==="object"&&(a=!1),l==="boolean"&&!n[B1]&&(a=!1),n[hre]&&(a=!1),a}var gYe=F({"../node_modules/@rjsf/utils/lib/schema/getDisplayLabel.js"(){rn(),Jp(),zp(),Uie(),Xie(),nD()}});function yYe(t,e,n){if(!n)return e;const{errors:r,errorSchema:i}=e;let s=t.toErrorList(n),o=n;return(0,Yie.default)(i)||(o=kc(i,n,!0),s=[...r].concat(s)),{errorSchema:o,errors:s}}var Yie,OYe=F({"../node_modules/@rjsf/utils/lib/schema/mergeValidationData.js"(){Yie=Ce(YO()),c_()}});function zT(t,e,n,r,i={}){let s;if((0,Ra.default)(n,mn)){const o={};if((0,Ra.default)(r,mn)){const c=(0,$n.default)(r,mn,{});Object.keys(c).forEach(u=>{(0,Ra.default)(i,u)&&(o[u]=void 0)})}const a=Object.keys((0,$n.default)(n,mn,{})),l={};a.forEach(c=>{const u=(0,$n.default)(i,c);let d=(0,$n.default)(r,[mn,c],{}),f=(0,$n.default)(n,[mn,c],{});(0,Ra.default)(d,zn)&&(d=Mi(t,d,e,u)),(0,Ra.default)(f,zn)&&(f=Mi(t,f,e,u));const h=(0,$n.default)(d,"type"),m=(0,$n.default)(f,"type");if(!h||h===m)if((0,Ra.default)(o,c)&&delete o[c],m==="object"||m==="array"&&Array.isArray(u)){const g=zT(t,e,f,d,u);(g!==void 0||m==="array")&&(l[c]=g)}else{const g=(0,$n.default)(f,"default",Pu),y=(0,$n.default)(d,"default",Pu);g!==Pu&&g!==u&&(y===u?o[c]=g:(0,$n.default)(f,"readOnly")===!0&&(o[c]=void 0));const O=(0,$n.default)(f,"const",Pu),b=(0,$n.default)(d,"const",Pu);O!==Pu&&O!==u&&(o[c]=b===u?O:void 0)}}),s={...typeof i=="string"||Array.isArray(i)?void 0:i,...o,...l}}else if((0,$n.default)(r,"type")==="array"&&(0,$n.default)(n,"type")==="array"&&Array.isArray(i)){let o=(0,$n.default)(r,"items"),a=(0,$n.default)(n,"items");if(typeof o=="object"&&typeof a=="object"&&!Array.isArray(o)&&!Array.isArray(a)){(0,Ra.default)(o,zn)&&(o=Mi(t,o,e,i)),(0,Ra.default)(a,zn)&&(a=Mi(t,a,e,i));const l=(0,$n.default)(o,"type"),c=(0,$n.default)(a,"type");if(!l||l===c){const u=(0,$n.default)(n,"maxItems",-1);c==="object"?s=i.reduce((d,f)=>{const h=zT(t,e,a,o,f);return h!==void 0&&(u<0||d.length<u)&&d.push(h),d},[]):s=u>0&&i.length>u?i.slice(0,u):i}}else typeof o=="boolean"&&typeof a=="boolean"&&o===a&&(s=i)}return s}var $n,Ra,Pu,bYe=F({"../node_modules/@rjsf/utils/lib/schema/sanitizeDataForNewSchema.js"(){$n=Ce(or()),Ra=Ce(i_()),rn(),Rl(),Pu=Symbol("no Value")}});function Cv(t,e,n,r,i,s,o,a=[],l){if(zn in e||BO in e||Bp in e){const d=Mi(t,e,s,o);if(a.findIndex(h=>(0,Gie.default)(h,d))===-1)return Cv(t,d,n,r,i,s,o,a.concat(d))}if(al in e&&!(0,Hm.default)(e,[al,zn]))return Cv(t,(0,Hm.default)(e,al),n,r,i,s,o,a);const u={$id:i||n};if(Xc(e)==="object"&&mn in e)for(const d in e.properties){const f=(0,Hm.default)(e,[mn,d]),h=u[Cy]+r+d;u[d]=Cv(t,Ft(f)?f:{},n,r,h,s,(0,Hm.default)(o,[d]),a)}return u}function xYe(t,e,n,r,i,s="root",o="_",a){return Cv(t,e,s,o,n,r,i,void 0)}var Hm,Gie,vYe=F({"../node_modules/@rjsf/utils/lib/schema/toIdSchema.js"(){Hm=Ce(or()),Gie=Ce(Al()),rn(),Oa(),Rl(),Jp()}});function Cu(t,e,n,r,i,s=[]){if(zn in e||BO in e||Bp in e){const a=Mi(t,e,r,i);if(s.findIndex(c=>(0,Hie.default)(c,a))===-1)return Cu(t,a,n,r,i,s.concat(a))}let o={[xg]:n.replace(/^\./,"")};if(gr in e||Xr in e){const a=gr in e?e.oneOf:e.anyOf,l=Rd(e),c=Ny(t,r,i,a,0,l),u=a[c];o={...o,...Cu(t,u,n,r,i,s)}}if($0 in e&&e[$0]!==!1&&(0,Kie.default)(o,y2,!0),al in e&&Array.isArray(i)){const{items:a,additionalItems:l}=e;Array.isArray(a)?i.forEach((c,u)=>{a[u]?o[u]=Cu(t,a[u],`${n}.${u}`,r,c,s):l?o[u]=Cu(t,l,`${n}.${u}`,r,c,s):console.warn(`Unable to generate path schema for "${n}.${u}". No schema defined for it`)}):i.forEach((c,u)=>{o[u]=Cu(t,a,`${n}.${u}`,r,c,s)})}else if(mn in e)for(const a in e.properties){const l=(0,WT.default)(e,[mn,a]);o[a]=Cu(t,l,`${n}.${a}`,r,(0,WT.default)(i,[a]),s)}return o}function wYe(t,e,n="",r,i){return Cu(t,e,n,r,i)}var WT,Hie,Kie,SYe=F({"../node_modules/@rjsf/utils/lib/schema/toPathSchema.js"(){WT=Ce(or()),Hie=Ce(Al()),Kie=Ce(Kp()),rn(),HO(),J2(),Rl()}}),Jie=F({"../node_modules/@rjsf/utils/lib/schema/index.js"(){pYe(),gYe(),J2(),L2(),lie(),Xie(),nD(),zie(),OYe(),Rl(),bYe(),vYe(),SYe()}});function _Ye(t,e,n={},r){return new ese(t,e,n,r)}var ese,$Ye=F({"../node_modules/@rjsf/utils/lib/createSchemaUtils.js"(){$2(),Jie(),ese=class{constructor(t,e,n,r){this.rootSchema=e,this.validator=t,this.experimental_defaultFormStateBehavior=n,this.experimental_customMergeAllOf=r}getValidator(){return this.validator}doesSchemaUtilsDiffer(t,e,n={},r){return!t||!e?!1:this.validator!==t||!Er(this.rootSchema,e)||!Er(this.experimental_defaultFormStateBehavior,n)||this.experimental_customMergeAllOf!==r}getDefaultFormState(t,e,n=!1){return hYe(this.validator,t,e,this.rootSchema,n,this.experimental_defaultFormStateBehavior,this.experimental_customMergeAllOf)}getDisplayLabel(t,e,n){return mYe(this.validator,t,e,this.rootSchema,n)}getClosestMatchingOption(t,e,n,r){return Ny(this.validator,this.rootSchema,t,e,n,r)}getFirstMatchingOption(t,e,n){return F2(this.validator,t,e,this.rootSchema,n)}getMatchingOption(t,e,n){return sie(this.validator,t,e,this.rootSchema,n)}isFilesArray(t,e){return Zie(this.validator,t,e,this.rootSchema)}isMultiSelect(t){return tD(this.validator,t,this.rootSchema)}isSelect(t){return Bie(this.validator,t,this.rootSchema)}mergeValidationData(t,e){return yYe(this.validator,t,e)}retrieveSchema(t,e){return Mi(this.validator,t,this.rootSchema,e,this.experimental_customMergeAllOf)}sanitizeDataForNewSchema(t,e,n){return zT(this.validator,this.rootSchema,t,e,n)}toIdSchema(t,e,n,r="root",i="_"){return xYe(this.validator,t,e,this.rootSchema,n,r,i,this.experimental_customMergeAllOf)}toPathSchema(t,e,n){return wYe(this.validator,t,e,this.rootSchema,n)}}}});function kYe(t){var e;if(t.indexOf("data:")===-1)throw new Error("File is invalid: URI must be a dataURI");const r=t.slice(5).split(";base64,");if(r.length!==2)throw new Error("File is invalid: dataURI must be base64");const[i,s]=r,[o,...a]=i.split(";"),l=o||"",c=decodeURI(((e=a.map(u=>u.split("=")).find(([u])=>u==="name"))===null||e===void 0?void 0:e[1])||"unknown");try{const u=atob(s),d=new Array(u.length);for(let h=0;h<u.length;h++)d[h]=u.charCodeAt(h);return{blob:new window.Blob([new Uint8Array(d)],{type:l}),name:c}}catch(u){throw new Error("File is invalid: "+u.message)}}var PYe=F({"../node_modules/@rjsf/utils/lib/dataURItoBlob.js"(){}});function Ul(t,e){let n=String(t);for(;n.length<e;)n="0"+n;return n}var rD=F({"../node_modules/@rjsf/utils/lib/pad.js"(){}});function tse(t,e){if(t<=0&&e<=0)t=new Date().getFullYear()+t,e=new Date().getFullYear()+e;else if(t<0||e<0)throw new Error(`Both start (${t}) and stop (${e}) must both be <= 0 or > 0, got one of each`);if(t>e)return tse(e,t).reverse();const n=[];for(let r=t;r<=e;r++)n.push({value:r,label:Ul(r,2)});return n}var CYe=F({"../node_modules/@rjsf/utils/lib/dateRangeOptions.js"(){rD()}});function jYe(t,e){let n=t;if(Array.isArray(e)){const r=n.split(/(%\d)/);e.forEach((i,s)=>{const o=r.findIndex(a=>a===`%${s+1}`);o>=0&&(r[o]=i)}),n=r.join("")}return n}var nse=F({"../node_modules/@rjsf/utils/lib/replaceStringParameters.js"(){}});function EYe(t,e){return jYe(t,e)}var TYe=F({"../node_modules/@rjsf/utils/lib/englishStringTranslator.js"(){nse()}});function Or(t,e=[],n){if(Array.isArray(t))return t.map(s=>Or(s,e)).filter(s=>s!==n);const r=t===""||t===null?-1:Number(t),i=e[r];return i?i.value:n}var iD=F({"../node_modules/@rjsf/utils/lib/enumOptionsValueForIndex.js"(){}});function rse(t,e,n=[]){const r=Or(t,n);return Array.isArray(e)?e.filter(i=>!(0,UT.default)(i,r)):(0,UT.default)(r,e)?void 0:e}var UT,NYe=F({"../node_modules/@rjsf/utils/lib/enumOptionsDeselectValue.js"(){UT=Ce(Al()),iD()}});function KO(t,e){return Array.isArray(e)?e.some(n=>(0,ZT.default)(n,t)):(0,ZT.default)(e,t)}var ZT,ise=F({"../node_modules/@rjsf/utils/lib/enumOptionsIsSelected.js"(){ZT=Ce(Al())}});function sse(t,e=[],n=!1){const r=e.map((i,s)=>KO(i.value,t)?String(s):void 0).filter(i=>typeof i<"u");return n?r:r[0]}var AYe=F({"../node_modules/@rjsf/utils/lib/enumOptionsIndexForValue.js"(){ise()}}),ose=X({"../node_modules/lodash/isNil.js"(t,e){function n(r){return r==null}e.exports=n}});function ase(t,e,n=[]){const r=Or(t,n);if(!(0,lse.default)(r)){const i=n.findIndex(a=>r===a.value),s=n.map(({value:a})=>a);return e.slice(0,i).concat(r,e.slice(i)).sort((a,l)=>+(s.indexOf(a)>s.indexOf(l)))}return e}var lse,RYe=F({"../node_modules/@rjsf/utils/lib/enumOptionsSelectValue.js"(){iD(),lse=Ce(ose())}}),MYe=X({"../node_modules/lodash/setWith.js"(t,e){var n=q2();function r(i,s,o,a){return a=typeof a=="function"?a:void 0,i==null?i:n(i,s,o,a)}e.exports=r}}),fz,CP,jP,hz,cse,use=F({"../node_modules/@rjsf/utils/lib/ErrorSchemaBuilder.js"(){fz=Ce(X2()),CP=Ce(or()),jP=Ce(Kp()),hz=Ce(MYe()),rn(),cse=class{constructor(t){this.errorSchema={},this.resetAllErrors(t)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(t){let n=Array.isArray(t)&&t.length>0||typeof t=="string"?(0,CP.default)(this.errorSchema,t):this.errorSchema;return!n&&t&&(n={},(0,hz.default)(this.errorSchema,t,n,Object)),n}resetAllErrors(t){return this.errorSchema=t?(0,fz.default)(t):{},this}addErrors(t,e){const n=this.getOrCreateErrorBlock(e);let r=(0,CP.default)(n,os);return Array.isArray(r)||(r=[],n[os]=r),Array.isArray(t)?r.push(...t):r.push(t),this}setErrors(t,e){const n=this.getOrCreateErrorBlock(e),r=Array.isArray(t)?[...t]:[t];return(0,jP.default)(n,os,r),this}clearErrors(t){const e=this.getOrCreateErrorBlock(t);return(0,jP.default)(e,os,[]),this}}}});function IYe(t,e,n=[1900,new Date().getFullYear()+2],r="YMD"){const{day:i,month:s,year:o,hour:a,minute:l,second:c}=t,u={type:"day",range:[1,31],value:i},d={type:"month",range:[1,12],value:s},f={type:"year",range:n,value:o},h=[];switch(r){case"MDY":h.push(d,u,f);break;case"DMY":h.push(u,d,f);break;case"YMD":default:h.push(f,d,u)}return e&&h.push({type:"hour",range:[0,23],value:a},{type:"minute",range:[0,59],value:l},{type:"second",range:[0,59],value:c}),h}var DYe=F({"../node_modules/@rjsf/utils/lib/getDateElementProps.js"(){}});function QYe(t){const e={};return t.multipleOf&&(e.step=t.multipleOf),(t.minimum||t.minimum===0)&&(e.min=t.minimum),(t.maximum||t.maximum===0)&&(e.max=t.maximum),e}var dse=F({"../node_modules/@rjsf/utils/lib/rangeSpec.js"(){}});function fse(t,e,n={},r=!0){const i={type:e||"text",...QYe(t)};return n.inputType?i.type=n.inputType:e||(t.type==="number"?(i.type="number",r&&i.step===void 0&&(i.step="any")):t.type==="integer"&&(i.type="number",i.step===void 0&&(i.step=1))),n.autocomplete&&(i.autoComplete=n.autocomplete),i}var FYe=F({"../node_modules/@rjsf/utils/lib/getInputProps.js"(){dse()}});function LYe(t={}){const e=ft(t);if(e&&e[jy]){const n=e[jy];return{...XT,...n}}return XT}var XT,qYe=F({"../node_modules/@rjsf/utils/lib/getSubmitButtonOptions.js"(){rn(),zp(),XT={props:{disabled:!1},submitText:"Submit",norender:!1}}});function ct(t,e,n={}){const{templates:r}=e;return t==="ButtonTemplates"?r[t]:n[t]||r[t]}var VYe=F({"../node_modules/@rjsf/utils/lib/getTemplate.js"(){}}),BYe=X({"../node_modules/@rjsf/utils/node_modules/react-is/cjs/react-is.development.js"(t){(function(){var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),g=!1,y=!1,O=!1,b=!1,x=!1,v;v=Symbol.for("react.module.reference");function w(fe){return!!(typeof fe=="string"||typeof fe=="function"||fe===r||fe===s||x||fe===i||fe===u||fe===d||b||fe===m||g||y||O||typeof fe=="object"&&fe!==null&&(fe.$$typeof===h||fe.$$typeof===f||fe.$$typeof===o||fe.$$typeof===a||fe.$$typeof===c||fe.$$typeof===v||fe.getModuleId!==void 0))}function _(fe){if(typeof fe=="object"&&fe!==null){var Ee=fe.$$typeof;switch(Ee){case e:var pe=fe.type;switch(pe){case r:case s:case i:case u:case d:return pe;default:var z=pe&&pe.$$typeof;switch(z){case l:case a:case c:case h:case f:case o:return z;default:return Ee}}case n:return Ee}}}var $=a,k=o,j=e,P=c,R=r,N=h,A=f,C=n,T=s,E=i,I=u,M=d,Q=!1,B=!1;function Z(fe){return Q||(Q=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.")),!1}function W(fe){return B||(B=!0,console.warn("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.")),!1}function oe(fe){return _(fe)===a}function le(fe){return _(fe)===o}function U(fe){return typeof fe=="object"&&fe!==null&&fe.$$typeof===e}function G(fe){return _(fe)===c}function ie(fe){return _(fe)===r}function Y(fe){return _(fe)===h}function L(fe){return _(fe)===f}function ae(fe){return _(fe)===n}function q(fe){return _(fe)===s}function te(fe){return _(fe)===i}function re(fe){return _(fe)===u}function ue(fe){return _(fe)===d}t.ContextConsumer=$,t.ContextProvider=k,t.Element=j,t.ForwardRef=P,t.Fragment=R,t.Lazy=N,t.Memo=A,t.Portal=C,t.Profiler=T,t.StrictMode=E,t.Suspense=I,t.SuspenseList=M,t.isAsyncMode=Z,t.isConcurrentMode=W,t.isContextConsumer=oe,t.isContextProvider=le,t.isElement=U,t.isForwardRef=G,t.isFragment=ie,t.isLazy=Y,t.isMemo=L,t.isPortal=ae,t.isProfiler=q,t.isStrictMode=te,t.isSuspense=re,t.isSuspenseList=ue,t.isValidElementType=w,t.typeOf=_})()}}),zYe=X({"../node_modules/@rjsf/utils/node_modules/react-is/index.js"(t,e){e.exports=BYe()}});function WYe(t){let e=(0,hse.default)(t,"MergedWidget");if(!e){const n=t.defaultProps&&t.defaultProps.options||{};e=({options:r,...i})=>p.jsx(t,{options:{...n,...r},...i}),(0,pse.default)(t,"MergedWidget",e)}return e}function ta(t,e,n={}){const r=Xc(t);if(typeof e=="function"||e&&YT.default.isForwardRef(S.createElement(e))||YT.default.isMemo(e))return WYe(e);if(typeof e!="string")throw new Error(`Unsupported widget definition: ${typeof e}`);if(e in n){const i=n[e];return ta(t,i,n)}if(typeof r=="string"){if(!(r in jv))throw new Error(`No widget for type '${r}'`);if(e in jv[r]){const i=n[jv[r][e]];return ta(t,i,n)}}throw new Error(`No widget '${e}' for type '${r}'`)}var YT,hse,pse,jv,mse=F({"../node_modules/@rjsf/utils/lib/getWidget.js"(){YT=Ce(zYe()),hse=Ce(or()),pse=Ce(Kp()),Jp(),jv={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}}}}),gse=F({"../node_modules/@rjsf/utils/lib/hashForSchema.js"(){}});function UYe(t,e,n={}){try{return ta(t,e,n),!0}catch(r){const i=r;if(i.message&&(i.message.startsWith("No widget")||i.message.startsWith("Unsupported widget")))return!1;throw r}}var ZYe=F({"../node_modules/@rjsf/utils/lib/hasWidget.js"(){mse()}});function JO(t,e){return`${(0,bse.default)(t)?t:t[Cy]}__${e}`}function em(t){return JO(t,"description")}function yse(t){return JO(t,"error")}function Ry(t){return JO(t,"examples")}function Ose(t){return JO(t,"help")}function sD(t){return JO(t,"title")}function xo(t,e=!1){const n=e?` ${Ry(t)}`:"";return`${yse(t)} ${em(t)} ${Ose(t)}${n}`}function u_(t,e){return`${t}-${e}`}var bse,XYe=F({"../node_modules/@rjsf/utils/lib/idGenerators.js"(){bse=Ce(M2()),rn()}});function YYe(t,e,n){return e?n:t}var GYe=F({"../node_modules/@rjsf/utils/lib/labelValue.js"(){}});function HYe(t){return t?new Date(t).toJSON():void 0}var KYe=F({"../node_modules/@rjsf/utils/lib/localToUTC.js"(){}});function JYe(t){if(cre in t&&Array.isArray(t.enum)&&t.enum.length===1)return t.enum[0];if(rp in t)return t.const;throw new Error("schema cannot be inferred as a constant")}var xse=F({"../node_modules/@rjsf/utils/lib/toConstant.js"(){rn()}});function P0(t,e){const n=t;if(t.enum){let s;if(e){const{enumNames:o}=ft(e);s=o}return!s&&n.enumNames&&(console.warn('The "enumNames" property in the schema is deprecated and will be removed in a future major release. Use the "ui:enumNames" property in the uiSchema instead.'),s=n.enumNames),t.enum.map((o,a)=>({label:(s==null?void 0:s[a])||String(o),value:o}))}let r,i;return t.anyOf?(r=t.anyOf,i=e==null?void 0:e.anyOf):t.oneOf&&(r=t.oneOf,i=e==null?void 0:e.oneOf),r&&r.map((s,o)=>{const{title:a}=ft(i==null?void 0:i[o]),l=s,c=JYe(l),u=a||l.title||String(c);return{schema:l,label:u,value:c}})}var eGe=F({"../node_modules/@rjsf/utils/lib/optionsList.js"(){xse(),zp()}});function tGe(t,e){if(!Array.isArray(e))return t;const n=u=>u.reduce((d,f)=>(d[f]=!0,d),{}),r=u=>u.length>1?`properties '${u.join("', '")}'`:`property '${u[0]}'`,i=n(t),s=e.filter(u=>u==="*"||i[u]),o=n(s),a=t.filter(u=>!o[u]),l=s.indexOf("*");if(l===-1){if(a.length)throw new Error(`uiSchema order list does not contain ${r(a)}`);return s}if(l!==s.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const c=[...s];return c.splice(l,1,...a),c}var nGe=F({"../node_modules/@rjsf/utils/lib/orderProperties.js"(){}});function EP(t,e=!0){if(!t)return{year:-1,month:-1,day:-1,hour:e?-1:0,minute:e?-1:0,second:e?-1:0};const n=new Date(t);if(Number.isNaN(n.getTime()))throw new Error("Unable to parse date "+t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:e?n.getUTCHours():0,minute:e?n.getUTCMinutes():0,second:e?n.getUTCSeconds():0}}var rGe=F({"../node_modules/@rjsf/utils/lib/parseDateString.js"(){}});function Ev(t){if(t.const||t.enum&&t.enum.length===1&&t.enum[0]===!0)return!0;if(t.anyOf&&t.anyOf.length===1)return Ev(t.anyOf[0]);if(t.oneOf&&t.oneOf.length===1)return Ev(t.oneOf[0]);if(t.allOf){const e=n=>Ev(n);return t.allOf.some(e)}return!1}var iGe=F({"../node_modules/@rjsf/utils/lib/schemaRequiresTrueValue.js"(){}});function sGe(t,e,n){const{props:r,state:i}=t;return!Er(r,e)||!Er(i,n)}var oGe=F({"../node_modules/@rjsf/utils/lib/shouldRender.js"(){$2()}});function pz(t,e=!0){const{year:n,month:r,day:i,hour:s=0,minute:o=0,second:a=0}=t,l=Date.UTC(n,r-1,i,s,o,a),c=new Date(l).toJSON();return e?c:c.slice(0,10)}var aGe=F({"../node_modules/@rjsf/utils/lib/toDateString.js"(){}});function C0(t,e=[]){if(!t)return[];let n=[];return os in t&&(n=n.concat(t[os].map(r=>{const i=`.${e.join(".")}`;return{property:i,message:r,stack:`${i} ${r}`}}))),Object.keys(t).reduce((r,i)=>{if(i!==os){const s=t[i];(0,vse.default)(s)&&(r=r.concat(C0(s,[...e,i])))}return r},n)}var vse,wse=F({"../node_modules/@rjsf/utils/lib/toErrorList.js"(){vse=Ce(au()),rn()}}),Sse=X({"../node_modules/lodash/toPath.js"(t,e){var n=Nl(),r=n_(),i=sr(),s=Xp(),o=jre(),a=Gd(),l=Ere();function c(u){return i(u)?n(u,a):s(u)?[u]:r(o(l(u)))}e.exports=c}});function lGe(t){const e=new cse;return t.length&&t.forEach(n=>{const{property:r,message:i}=n,s=r==="."?[]:(0,_se.default)(r);s.length>0&&s[0]===""&&s.splice(0,1),i&&e.addErrors(i,s)}),e.ErrorSchema}var _se,cGe=F({"../node_modules/@rjsf/utils/lib/toErrorSchema.js"(){_se=Ce(Sse()),use()}}),uGe=F({"../node_modules/@rjsf/utils/lib/unwrapErrorHandler.js"(){Ce(au())}});function dGe(t){if(!t)return"";const e=new Date(t),n=Ul(e.getFullYear(),4),r=Ul(e.getMonth()+1,2),i=Ul(e.getDate(),2),s=Ul(e.getHours(),2),o=Ul(e.getMinutes(),2),a=Ul(e.getSeconds(),2),l=Ul(e.getMilliseconds(),3);return`${n}-${r}-${i}T${s}:${o}:${a}.${l}`}var fGe=F({"../node_modules/@rjsf/utils/lib/utcToLocal.js"(){rD()}});function TP(t,e){if(!e)return t;const{errors:n,errorSchema:r}=t;let i=C0(e),s=e;return(0,$se.default)(r)||(s=kc(r,e,!0),i=[...n].concat(i)),{errorSchema:s,errors:i}}var $se,hGe=F({"../node_modules/@rjsf/utils/lib/validationDataMerge.js"(){$se=Ce(YO()),c_(),wse()}}),pGe=F({"../node_modules/@rjsf/utils/lib/withIdRefPrefix.js"(){rn(),Ce(Un())}}),mGe=F({"../node_modules/@rjsf/utils/lib/types.js"(){}}),Pt,gGe=F({"../node_modules/@rjsf/utils/lib/enums.js"(){(function(t){t.ArrayItemTitle="Item",t.MissingItems="Missing items definition",t.YesLabel="Yes",t.NoLabel="No",t.CloseLabel="Close",t.ErrorsLabel="Errors",t.NewStringDefault="New Value",t.AddButton="Add",t.AddItemButton="Add Item",t.CopyButton="Copy",t.MoveDownButton="Move down",t.MoveUpButton="Move up",t.RemoveButton="Remove",t.NowLabel="Now",t.ClearLabel="Clear",t.AriaDateLabel="Select a date",t.PreviewLabel="Preview",t.DecrementAriaLabel="Decrease value by 1",t.IncrementAriaLabel="Increase value by 1",t.UnknownFieldType="Unknown field type %1",t.OptionPrefix="Option %1",t.TitleOptionPrefix="%1 option %2",t.KeyLabel="%1 Key",t.InvalidObjectField='Invalid "%1" object field configuration: _%2_.',t.UnsupportedField="Unsupported field schema.",t.UnsupportedFieldWithId="Unsupported field schema for field `%1`.",t.UnsupportedFieldWithReason="Unsupported field schema: _%1_.",t.UnsupportedFieldWithIdAndReason="Unsupported field schema for field `%1`: _%2_.",t.FilesInfo="**%1** (%2, %3 bytes)"})(Pt||(Pt={}))}}),yGe=F({"../node_modules/@rjsf/utils/lib/parser/ParserValidator.js"(){Ce(or()),Ce(Al()),rn(),gse()}}),OGe=F({"../node_modules/@rjsf/utils/lib/parser/schemaParser.js"(){Ce(a_()),Ce(Al()),rn(),yGe(),Rl()}}),bGe=F({"../node_modules/@rjsf/utils/lib/parser/index.js"(){OGe()}}),Xe=F({"../node_modules/@rjsf/utils/lib/index.js"(){L7e(),q7e(),V7e(),W7e(),$Ye(),PYe(),CYe(),$2(),TYe(),NYe(),AYe(),ise(),RYe(),iD(),use(),R2(),DYe(),HO(),FYe(),Jp(),qYe(),VYe(),zp(),mse(),l_(),gse(),ZYe(),XYe(),eD(),Uie(),Lie(),Oa(),GYe(),KYe(),qie(),c_(),K2(),eGe(),nGe(),rD(),rGe(),dse(),nse(),iGe(),oGe(),xse(),aGe(),wse(),cGe(),uGe(),fGe(),hGe(),pGe(),Q2(),mGe(),gGe(),rn(),bGe(),Jie()}}),xGe=X({"../node_modules/lodash/_basePickBy.js"(t,e){var n=XO(),r=q2(),i=Yp();function s(o,a,l){for(var c=-1,u=a.length,d={};++c<u;){var f=a[c],h=n(o,f);l(h,f)&&r(d,i(f,o),h)}return d}e.exports=s}}),vGe=X({"../node_modules/lodash/_basePick.js"(t,e){var n=xGe(),r=tie();function i(s,o){return n(s,o,function(a,l){return r(s,l)})}e.exports=i}}),wGe=X({"../node_modules/lodash/pick.js"(t,e){var n=vGe(),r=zre(),i=r(function(s,o){return s==null?{}:n(s,o)});e.exports=i}}),SGe=F({"../node_modules/nanoid/url-alphabet/index.js"(){}}),kse,_Ge=F({"../node_modules/nanoid/index.browser.js"(){SGe(),kse=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"")}});function GT(){return kse()}function mz(t){return Array.isArray(t)?t.map(e=>({key:GT(),item:e})):[]}function Em(t){return Array.isArray(t)?t.map(e=>e.item):[]}var gz,NP,Tm,Eo,yz,Pse,$Ge=F({"../node_modules/@rjsf/core/lib/components/fields/ArrayField.js"(){Xe(),gz=Ce(X2()),NP=Ce(or()),Tm=Ce(Un()),Eo=Ce(Kp()),_Ge(),yz=class extends S.Component{constructor(t){super(t),this._getNewFormDataRow=()=>{const{schema:r,registry:i}=this.props,{schemaUtils:s}=i;let o=r.items;return VT(r)&&F7e(r)&&(o=r.additionalItems),s.getDefaultFormState(o)},this.onAddClick=r=>{this._handleAddClick(r)},this.onAddIndexClick=r=>i=>{this._handleAddClick(i,r)},this.onCopyIndexClick=r=>i=>{i&&i.preventDefault();const{onChange:s,errorSchema:o}=this.props,{keyedFormData:a}=this.state;let l;if(o){l={};for(const d in o){const f=parseInt(d);f<=r?(0,Eo.default)(l,[f],o[d]):f>r&&(0,Eo.default)(l,[f+1],o[d])}}const c={key:GT(),item:(0,gz.default)(a[r].item)},u=[...a];r!==void 0?u.splice(r+1,0,c):u.push(c),this.setState({keyedFormData:u,updatedKeyedFormData:!0},()=>s(Em(u),l))},this.onDropIndexClick=r=>i=>{i&&i.preventDefault();const{onChange:s,errorSchema:o}=this.props,{keyedFormData:a}=this.state;let l;if(o){l={};for(const u in o){const d=parseInt(u);d<r?(0,Eo.default)(l,[d],o[u]):d>r&&(0,Eo.default)(l,[d-1],o[u])}}const c=a.filter((u,d)=>d!==r);this.setState({keyedFormData:c,updatedKeyedFormData:!0},()=>s(Em(c),l))},this.onReorderClick=(r,i)=>s=>{s&&(s.preventDefault(),s.currentTarget.blur());const{onChange:o,errorSchema:a}=this.props;let l;if(a){l={};for(const f in a){const h=parseInt(f);h==r?(0,Eo.default)(l,[i],a[r]):h==i?(0,Eo.default)(l,[r],a[i]):(0,Eo.default)(l,[f],a[h])}}const{keyedFormData:c}=this.state;function u(){const f=c.slice();return f.splice(r,1),f.splice(i,0,c[r]),f}const d=u();this.setState({keyedFormData:d},()=>o(Em(d),l))},this.onChangeForIndex=r=>(i,s,o)=>{const{formData:a,onChange:l,errorSchema:c}=this.props,d=(Array.isArray(a)?a:[]).map((f,h)=>r===h?typeof i>"u"?null:i:f);l(d,c&&c&&{...c,[r]:s},o)},this.onSelectChange=r=>{const{onChange:i,idSchema:s}=this.props;i(r,void 0,s&&s.$id)};const{formData:e=[]}=t,n=mz(e);this.state={keyedFormData:n,updatedKeyedFormData:!1}}static getDerivedStateFromProps(t,e){if(e.updatedKeyedFormData)return{updatedKeyedFormData:!1};const n=Array.isArray(t.formData)?t.formData:[],r=e.keyedFormData||[];return{keyedFormData:n.length===r.length?r.map((s,o)=>({key:s.key,item:n[o]})):mz(n)}}get itemTitle(){const{schema:t,registry:e}=this.props,{translateString:n}=e;return(0,NP.default)(t,[al,"title"],(0,NP.default)(t,[al,"description"],n(Pt.ArrayItemTitle)))}isItemRequired(t){return Array.isArray(t.type)?!t.type.includes("null"):t.type!=="null"}canAddItem(t){const{schema:e,uiSchema:n,registry:r}=this.props;let{addable:i}=ft(n,r.globalUiOptions);return i!==!1&&(e.maxItems!==void 0?i=t.length<e.maxItems:i=!0),i}_handleAddClick(t,e){t&&t.preventDefault();const{onChange:n,errorSchema:r}=this.props,{keyedFormData:i}=this.state;let s;if(r){s={};for(const l in r){const c=parseInt(l);e===void 0||c<e?(0,Eo.default)(s,[c],r[l]):c>=e&&(0,Eo.default)(s,[c+1],r[l])}}const o={key:GT(),item:this._getNewFormDataRow()},a=[...i];e!==void 0?a.splice(e,0,o):a.push(o),this.setState({keyedFormData:a,updatedKeyedFormData:!0},()=>n(Em(a),s))}render(){const{schema:t,uiSchema:e,idSchema:n,registry:r}=this.props,{schemaUtils:i,translateString:s}=r;if(!(al in t)){const o=ft(e),a=ct("UnsupportedFieldTemplate",r,o);return p.jsx(a,{schema:t,idSchema:n,reason:s(Pt.MissingItems),registry:r})}return i.isMultiSelect(t)?this.renderMultiSelect():Wie(e)?this.renderCustomWidget():VT(t)?this.renderFixedArray():i.isFilesArray(t,e)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:t,uiSchema:e={},errorSchema:n,idSchema:r,name:i,title:s,disabled:o=!1,readonly:a=!1,autofocus:l=!1,required:c=!1,registry:u,onBlur:d,onFocus:f,idPrefix:h,idSeparator:m="_",rawErrors:g}=this.props,{keyedFormData:y}=this.state,O=t.title||s||i,{schemaUtils:b,formContext:x}=u,v=ft(e),w=(0,Tm.default)(t.items)?t.items:{},_=b.retrieveSchema(w),$=Em(this.state.keyedFormData),k=this.canAddItem($),j={canAdd:k,items:y.map((R,N)=>{const{key:A,item:C}=R,T=C,E=b.retrieveSchema(w,T),I=n?n[N]:void 0,M=r.$id+m+N,Q=b.toIdSchema(E,M,T,h,m);return this.renderArrayFieldItem({key:A,index:N,name:i&&`${i}-${N}`,title:O?`${O}-${N+1}`:void 0,canAdd:k,canMoveUp:N>0,canMoveDown:N<$.length-1,itemSchema:E,itemIdSchema:Q,itemErrorSchema:I,itemData:T,itemUiSchema:e.items,autofocus:l&&N===0,onBlur:d,onFocus:f,rawErrors:g,totalItems:y.length})}),className:`field field-array field-array-of-${_.type}`,disabled:o,idSchema:r,uiSchema:e,onAddClick:this.onAddClick,readonly:a,required:c,schema:t,title:O,formContext:x,formData:$,rawErrors:g,registry:u},P=ct("ArrayFieldTemplate",u,v);return p.jsx(P,{...j})}renderCustomWidget(){var t;const{schema:e,idSchema:n,uiSchema:r,disabled:i=!1,readonly:s=!1,autofocus:o=!1,required:a=!1,hideError:l,placeholder:c,onBlur:u,onFocus:d,formData:f=[],registry:h,rawErrors:m,name:g}=this.props,{widgets:y,formContext:O,globalUiOptions:b,schemaUtils:x}=h,{widget:v,title:w,..._}=ft(r,b),$=ta(e,v,y),k=(t=w??e.title)!==null&&t!==void 0?t:g,j=x.getDisplayLabel(e,r,b);return p.jsx($,{id:n.$id,name:g,multiple:!0,onChange:this.onSelectChange,onBlur:u,onFocus:d,options:_,schema:e,uiSchema:r,registry:h,value:f,disabled:i,readonly:s,hideError:l,required:a,label:k,hideLabel:!j,placeholder:c,formContext:O,autofocus:o,rawErrors:m})}renderMultiSelect(){var t;const{schema:e,idSchema:n,uiSchema:r,formData:i=[],disabled:s=!1,readonly:o=!1,autofocus:a=!1,required:l=!1,placeholder:c,onBlur:u,onFocus:d,registry:f,rawErrors:h,name:m}=this.props,{widgets:g,schemaUtils:y,formContext:O,globalUiOptions:b}=f,x=y.retrieveSchema(e.items,i),v=P0(x,r),{widget:w="select",title:_,...$}=ft(r,b),k=ta(e,w,g),j=(t=_??e.title)!==null&&t!==void 0?t:m,P=y.getDisplayLabel(e,r,b);return p.jsx(k,{id:n.$id,name:m,multiple:!0,onChange:this.onSelectChange,onBlur:u,onFocus:d,options:{...$,enumOptions:v},schema:e,uiSchema:r,registry:f,value:i,disabled:s,readonly:o,required:l,label:j,hideLabel:!P,placeholder:c,formContext:O,autofocus:a,rawErrors:h})}renderFiles(){var t;const{schema:e,uiSchema:n,idSchema:r,name:i,disabled:s=!1,readonly:o=!1,autofocus:a=!1,required:l=!1,onBlur:c,onFocus:u,registry:d,formData:f=[],rawErrors:h}=this.props,{widgets:m,formContext:g,globalUiOptions:y,schemaUtils:O}=d,{widget:b="files",title:x,...v}=ft(n,y),w=ta(e,b,m),_=(t=x??e.title)!==null&&t!==void 0?t:i,$=O.getDisplayLabel(e,n,y);return p.jsx(w,{options:v,id:r.$id,name:i,multiple:!0,onChange:this.onSelectChange,onBlur:c,onFocus:u,schema:e,uiSchema:n,value:f,disabled:s,readonly:o,required:l,registry:d,formContext:g,autofocus:a,rawErrors:h,label:_,hideLabel:!$})}renderFixedArray(){const{schema:t,uiSchema:e={},formData:n=[],errorSchema:r,idPrefix:i,idSeparator:s="_",idSchema:o,name:a,title:l,disabled:c=!1,readonly:u=!1,autofocus:d=!1,required:f=!1,registry:h,onBlur:m,onFocus:g,rawErrors:y}=this.props,{keyedFormData:O}=this.state;let{formData:b=[]}=this.props;const x=t.title||l||a,v=ft(e),{schemaUtils:w,formContext:_}=h,k=((0,Tm.default)(t.items)?t.items:[]).map((A,C)=>w.retrieveSchema(A,n[C])),j=(0,Tm.default)(t.additionalItems)?w.retrieveSchema(t.additionalItems,n):null;(!b||b.length<k.length)&&(b=b||[],b=b.concat(new Array(k.length-b.length)));const P=this.canAddItem(b)&&!!j,R={canAdd:P,className:"field field-array field-array-fixed-items",disabled:c,idSchema:o,formData:n,items:O.map((A,C)=>{const{key:T,item:E}=A,I=E,M=C>=k.length,Q=(M&&(0,Tm.default)(t.additionalItems)?w.retrieveSchema(t.additionalItems,I):k[C])||{},B=o.$id+s+C,Z=w.toIdSchema(Q,B,I,i,s),W=M?e.additionalItems||{}:Array.isArray(e.items)?e.items[C]:e.items||{},oe=r?r[C]:void 0;return this.renderArrayFieldItem({key:T,index:C,name:a&&`${a}-${C}`,title:x?`${x}-${C+1}`:void 0,canAdd:P,canRemove:M,canMoveUp:C>=k.length+1,canMoveDown:M&&C<b.length-1,itemSchema:Q,itemData:I,itemUiSchema:W,itemIdSchema:Z,itemErrorSchema:oe,autofocus:d&&C===0,onBlur:m,onFocus:g,rawErrors:y,totalItems:O.length})}),onAddClick:this.onAddClick,readonly:u,required:f,registry:h,schema:t,uiSchema:e,title:x,formContext:_,errorSchema:r,rawErrors:y},N=ct("ArrayFieldTemplate",h,v);return p.jsx(N,{...R})}renderArrayFieldItem(t){const{key:e,index:n,name:r,canAdd:i,canRemove:s=!0,canMoveUp:o,canMoveDown:a,itemSchema:l,itemData:c,itemUiSchema:u,itemIdSchema:d,itemErrorSchema:f,autofocus:h,onBlur:m,onFocus:g,rawErrors:y,totalItems:O,title:b}=t,{disabled:x,hideError:v,idPrefix:w,idSeparator:_,readonly:$,uiSchema:k,registry:j,formContext:P}=this.props,{fields:{ArraySchemaField:R,SchemaField:N},globalUiOptions:A}=j,C=R||N,{orderable:T=!0,removable:E=!0,copyable:I=!1}=ft(k,A),M={moveUp:T&&o,moveDown:T&&a,copy:I&&i,remove:E&&s,toolbar:!1};return M.toolbar=Object.keys(M).some(Q=>M[Q]),{children:p.jsx(C,{name:r,title:b,index:n,schema:l,uiSchema:u,formData:c,formContext:P,errorSchema:f,idPrefix:w,idSeparator:_,idSchema:d,required:this.isItemRequired(l),onChange:this.onChangeForIndex(n),onBlur:m,onFocus:g,registry:j,disabled:x,readonly:$,hideError:v,autofocus:h,rawErrors:y}),className:"array-item",disabled:x,canAdd:i,hasCopy:M.copy,hasToolbar:M.toolbar,hasMoveUp:M.moveUp,hasMoveDown:M.moveDown,hasRemove:M.remove,index:n,totalItems:O,key:e,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:$,registry:j,schema:l,uiSchema:u}}},Pse=yz}});function kGe(t){var e,n,r;const{schema:i,name:s,uiSchema:o,idSchema:a,formData:l,registry:c,required:u,disabled:d,readonly:f,hideError:h,autofocus:m,title:g,onChange:y,onFocus:O,onBlur:b,rawErrors:x}=t,{title:v}=i,{widgets:w,formContext:_,translateString:$,globalUiOptions:k}=c,{widget:j="checkbox",title:P,label:R=!0,...N}=ft(o,k),A=ta(i,j,w),C=$(Pt.YesLabel),T=$(Pt.NoLabel);let E;const I=(n=(e=P??v)!==null&&e!==void 0?e:g)!==null&&n!==void 0?n:s;if(Array.isArray(i.oneOf))E=P0({oneOf:i.oneOf.map(M=>{if((0,Cse.default)(M))return{...M,title:M.title||(M.const===!0?C:T)}}).filter(M=>M)},o);else{const M=i,Q=(r=i.enum)!==null&&r!==void 0?r:[!0,!1];!M.enumNames&&Q.length===2&&Q.every(B=>typeof B=="boolean")?E=[{value:Q[0],label:Q[0]?C:T},{value:Q[1],label:Q[1]?C:T}]:E=P0({enum:Q,enumNames:M.enumNames},o)}return p.jsx(A,{options:{...N,enumOptions:E},schema:i,uiSchema:o,id:a.$id,name:s,onChange:y,onFocus:O,onBlur:b,label:I,hideLabel:!R,value:l,required:u,disabled:d,readonly:f,hideError:h,registry:c,formContext:_,autofocus:m,rawErrors:x})}var Cse,jse,PGe=F({"../node_modules/@rjsf/core/lib/components/fields/BooleanField.js"(){Xe(),Cse=Ce(Un()),jse=kGe}}),Oz,bz,xz,vz,HT,CGe=F({"../node_modules/@rjsf/core/lib/components/fields/MultiSchemaField.js"(){Oz=Ce(or()),bz=Ce(YO()),xz=Ce(N2()),Xe(),vz=class extends S.Component{constructor(t){super(t),this.onOptionChange=s=>{const{selectedOption:o,retrievedOptions:a}=this.state,{formData:l,onChange:c,registry:u}=this.props,{schemaUtils:d}=u,f=s!==void 0?parseInt(s,10):-1;if(f===o)return;const h=f>=0?a[f]:void 0,m=o>=0?a[o]:void 0;let g=d.sanitizeDataForNewSchema(h,m,l);g&&h&&(g=d.getDefaultFormState(h,g,"excludeObjectChildren")),this.setState({selectedOption:f},()=>{c(g,void 0,this.getFieldId())})};const{formData:e,options:n,registry:{schemaUtils:r}}=this.props,i=n.map(s=>r.retrieveSchema(s,e));this.state={retrievedOptions:i,selectedOption:this.getMatchingOption(0,e,i)}}componentDidUpdate(t,e){const{formData:n,options:r,idSchema:i}=this.props,{selectedOption:s}=this.state;let o=this.state;if(!Er(t.options,r)){const{registry:{schemaUtils:a}}=this.props,l=r.map(c=>a.retrieveSchema(c,n));o={selectedOption:s,retrievedOptions:l}}if(!Er(n,t.formData)&&i.$id===t.idSchema.$id){const{retrievedOptions:a}=o,l=this.getMatchingOption(s,n,a);e&&l!==s&&(o={selectedOption:l,retrievedOptions:a})}o!==this.state&&this.setState(o)}getMatchingOption(t,e,n){const{schema:r,registry:{schemaUtils:i}}=this.props,s=Rd(r);return i.getClosestMatchingOption(e,n,t,s)}getFieldId(){const{idSchema:t,schema:e}=this.props;return`${t.$id}${e.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:t,disabled:e=!1,errorSchema:n={},formContext:r,onBlur:i,onFocus:s,registry:o,schema:a,uiSchema:l}=this.props,{widgets:c,fields:u,translateString:d,globalUiOptions:f,schemaUtils:h}=o,{SchemaField:m}=u,{selectedOption:g,retrievedOptions:y}=this.state,{widget:O="select",placeholder:b,autofocus:x,autocomplete:v,title:w=a.title,..._}=ft(l,f),$=ta({type:"number"},O,c),k=(0,Oz.default)(n,os,[]),j=(0,xz.default)(n,[os]),P=h.getDisplayLabel(a,l,f),R=g>=0&&y[g]||null;let N;if(R){const{required:M}=a;N=M?la({required:M},R):R}let A=[];gr in a&&l&&gr in l?Array.isArray(l[gr])?A=l[gr]:console.warn(`uiSchema.oneOf is not an array for "${w||t}"`):Xr in a&&l&&Xr in l&&(Array.isArray(l[Xr])?A=l[Xr]:console.warn(`uiSchema.anyOf is not an array for "${w||t}"`));let C=l;g>=0&&A.length>g&&(C=A[g]);const T=w?Pt.TitleOptionPrefix:Pt.OptionPrefix,E=w?[w]:[],I=y.map((M,Q)=>{const{title:B=M.title}=ft(A[Q]);return{label:B||d(T,E.concat(String(Q+1))),value:Q}});return p.jsxs("div",{className:"panel panel-default panel-body",children:[p.jsx("div",{className:"form-group",children:p.jsx($,{id:this.getFieldId(),name:`${t}${a.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:i,onFocus:s,disabled:e||(0,bz.default)(I),multiple:!1,rawErrors:k,errorSchema:j,value:g>=0?g:void 0,options:{enumOptions:I,..._},registry:o,formContext:r,placeholder:b,autocomplete:v,autofocus:x,label:w??t,hideLabel:!P})}),N&&p.jsx(m,{...this.props,schema:N,uiSchema:C})]})}},HT=vz}});function jGe(t){const{registry:e,onChange:n,formData:r,value:i}=t,[s,o]=S.useState(i),{StringField:a}=e.fields;let l=r;const c=S.useCallback(u=>{o(u),`${u}`.charAt(0)==="."&&(u=`0${u}`);const d=typeof u=="string"&&u.match(Ese)?cz(u.replace(Tse,"")):cz(u);n(d)},[n]);if(typeof s=="string"&&typeof l=="number"){const u=new RegExp(`^(${String(l).replace(".","\\.")})?\\.?0*$`);s.match(u)&&(l=s)}return p.jsx(a,{...t,formData:l,onChange:c})}var Ese,Tse,Nse,EGe=F({"../node_modules/@rjsf/core/lib/components/fields/NumberField.js"(){Xe(),Ese=/\.([0-9]*0)*$/,Tse=/[0.]0*$/,Nse=jGe}});function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(this,arguments)}function wz(t){return"( *)("+(t===1?d_:f_)+") +"}function Sz(t){return new RegExp("^"+(t===1?oD:aD))}function _z(t){return new RegExp("^"+(t===1?oD:aD)+"[^\\n]*(?:\\n(?!\\1"+(t===1?d_:f_)+" )[^\\n]*)*(\\n|$)","gm")}function $z(t){const e=t===1?d_:f_;return new RegExp("^( *)("+e+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+e+" (?!"+e+" ))\\n*|\\s*\\n*$)")}function kz(t,e){const n=e===1,r=n?dN:fN,i=n?cN:uN,s=n?voe:woe;return{match(o,a,l){const c=xoe.exec(l);return c&&(a.list||!a.inline&&!a.simple)?r.exec(o=c[1]+o):null},order:1,parse(o,a,l){const c=n?+o[2]:void 0,u=o[0].replace(Ise,`
`).match(i);let d=!1;return{items:u.map(function(f,h){const m=s.exec(f)[0].length,g=new RegExp("^ {1,"+m+"}","gm"),y=f.replace(g,"").replace(s,""),O=h===u.length-1,b=y.indexOf(`

`)!==-1||O&&d;d=b;const x=l.inline,v=l.list;let w;l.list=!0,b?(l.inline=!1,w=y.replace(lN,`

`)):(l.inline=!0,w=y.replace(lN,""));const _=a(w,l);return l.inline=x,l.list=v,_}),ordered:n,start:c}},render:(o,a,l)=>t(o.ordered?"ol":"ul",{key:l.key,start:o.type===We.orderedList?o.start:void 0},o.items.map(function(c,u){return t("li",{key:u},a(c,l))}))}}function Tx(t){return t.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function TGe(t){return uoe.test(t)?"right":loe.test(t)?"center":coe.test(t)?"left":null}function Pz(t,e,n,r){const i=n.inTable;n.inTable=!0;let s=t.trim().split(/( *(?:`[^`]*`|<.*?>.*?<\/.*?>(?!<\/.*?>)|\\\||\|) *)/).reduce((a,l)=>(l.trim()==="|"?a.push(r?{type:We.tableSeparator}:{type:We.text,text:l}):l!==""&&a.push.apply(a,e(l,n)),a),[]);n.inTable=i;let o=[[]];return s.forEach(function(a,l){a.type===We.tableSeparator?l!==0&&l!==s.length-1&&o.push([]):(a.type!==We.text||s[l+1]!=null&&s[l+1].type!==We.tableSeparator||(a.text=a.text.trimEnd()),o[o.length-1].push(a))}),o}function NGe(t,e,n){n.inline=!0;const r=t[2]?t[2].replace(aoe,"").split("|").map(TGe):[],i=t[3]?function(o,a,l){return o.trim().split(`
`).map(function(c){return Pz(c,a,l,!0)})}(t[3],e,n):[],s=Pz(t[1],e,n,!!i.length);return n.inline=!1,i.length?{align:r,cells:i,header:s,type:We.table}:{children:s,type:We.paragraph}}function Cz(t,e){return t.align[e]==null?{}:{textAlign:t.align[e]}}function Bl(t){return function(e,n){return n.inline?t.exec(e):null}}function zl(t){return function(e,n){return n.inline||n.simple?t.exec(e):null}}function ja(t){return function(e,n){return n.inline||n.simple?null:t.exec(e)}}function Nm(t){return function(e){return t.exec(e)}}function AGe(t,e,n){if(e.inline||e.simple||n&&!n.endsWith(`
`))return null;let r="";t.split(`
`).every(s=>!hN.some(o=>o.test(s))&&(r+=s+`
`,s.trim()));const i=r.trimEnd();return i==""?null:[r,i]}function RGe(t){try{if(decodeURIComponent(t).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return null}catch{return null}return t}function jz(t){return t.replace(boe,"$1")}function Tv(t,e,n){const r=n.inline||!1,i=n.simple||!1;n.inline=!0,n.simple=!0;const s=t(e,n);return n.inline=r,n.simple=i,s}function MGe(t,e,n){const r=n.inline||!1,i=n.simple||!1;n.inline=!1,n.simple=!0;const s=t(e,n);return n.inline=r,n.simple=i,s}function IGe(t,e,n){const r=n.inline||!1;n.inline=!1;const i=t(e,n);return n.inline=r,i}function AP(){return{}}function RP(){return null}function DGe(...t){return t.filter(Boolean).join(" ")}function MP(t,e,n){let r=t;const i=e.split(".");for(;i.length&&(r=r[i[0]],r!==void 0);)i.shift();return r||n}function QGe(t="",e={}){function n(f,h,...m){const g=MP(e.overrides,`${f}.props`,{});return e.createElement(function(y,O){const b=MP(O,y);return b?typeof b=="function"||typeof b=="object"&&"render"in b?b:MP(O,`${y}.component`,y):y}(f,e.overrides),Fu({},h,g,{className:DGe(h==null?void 0:h.className,g.className)||void 0}),...m)}function r(f){f=f.replace(Use,"");let h=!1;e.forceInline?h=!0:e.forceBlock||(h=soe.test(f)===!1);const m=c(l(h?f:`${f.trimEnd().replace(yoe,"")}

`,{inline:h}));for(;typeof m[m.length-1]=="string"&&!m[m.length-1].trim();)m.pop();if(e.wrapper===null)return m;const g=e.wrapper||(h?"span":"div");let y;if(m.length>1||e.forceWrapper)y=m;else{if(m.length===1)return y=m[0],typeof y=="string"?n("span",{key:"outer"},y):y;y=null}return S.createElement(g,{key:"outer"},y)}function i(f,h){const m=h.match(Rse);return m?m.reduce(function(g,y,O){const b=y.indexOf("=");if(b!==-1){const x=function($){return $.indexOf("-")!==-1&&$.match(Yse)===null&&($=$.replace(eoe,function(k,j){return j.toUpperCase()})),$}(y.slice(0,b)).trim(),v=function($){const k=$[0];return(k==='"'||k==="'")&&$.length>=2&&$[$.length-1]===k?$.slice(1,-1):$}(y.slice(b+1).trim()),w=KT[x]||x,_=g[w]=function($,k,j,P){return k==="style"?j.split(/;\s?/).reduce(function(R,N){const A=N.slice(0,N.indexOf(":"));return R[A.trim().replace(/(-[a-z])/g,C=>C[1].toUpperCase())]=N.slice(A.length+1).trim(),R},{}):k==="href"||k==="src"?P(j,$,k):(j.match(Gse)&&(j=j.slice(1,j.length-1)),j==="true"||j!=="false"&&j)}(f,x,v,e.sanitizer);typeof _=="string"&&(j0.test(_)||E0.test(_))&&(g[w]=S.cloneElement(r(_.trim()),{key:O}))}else y!=="style"&&(g[KT[y]||y]=!0);return g},{}):null}e.overrides=e.overrides||{},e.sanitizer=e.sanitizer||RGe,e.slugify=e.slugify||Tx,e.namedCodesToUnicode=e.namedCodesToUnicode?Fu({},JT,e.namedCodesToUnicode):JT,e.createElement=e.createElement||S.createElement;const s=[],o={},a={[We.blockQuote]:{match:ja(eN),order:1,parse:(f,h,m)=>({children:h(f[0].replace(Dse,""),m)}),render:(f,h,m)=>n("blockquote",{key:m.key},h(f.children,m))},[We.breakLine]:{match:Nm(Qse),order:1,parse:AP,render:(f,h,m)=>n("br",{key:m.key})},[We.breakThematic]:{match:ja(Fse),order:1,parse:AP,render:(f,h,m)=>n("hr",{key:m.key})},[We.codeBlock]:{match:ja(nN),order:0,parse:f=>({lang:void 0,text:f[0].replace(/^ {4}/gm,"").replace(/\n+$/,"")}),render:(f,h,m)=>n("pre",{key:m.key},n("code",Fu({},f.attrs,{className:f.lang?`lang-${f.lang}`:""}),f.text))},[We.codeFenced]:{match:ja(tN),order:0,parse:f=>({attrs:i("code",f[3]||""),lang:f[2]||void 0,text:f[4],type:We.codeBlock})},[We.codeInline]:{match:zl(Lse),order:3,parse:f=>({text:f[2]}),render:(f,h,m)=>n("code",{key:m.key},f.text)},[We.footnote]:{match:ja(Bse),order:0,parse:f=>(s.push({footnote:f[2],identifier:f[1]}),{}),render:RP},[We.footnoteReference]:{match:Bl(zse),order:1,parse:f=>({target:`#${e.slugify(f[1],Tx)}`,text:f[1]}),render:(f,h,m)=>n("a",{key:m.key,href:e.sanitizer(f.target,"a","href")},n("sup",{key:m.key},f.text))},[We.gfmTask]:{match:Bl(Zse),order:1,parse:f=>({completed:f[1].toLowerCase()==="x"}),render:(f,h,m)=>n("input",{checked:f.completed,key:m.key,readOnly:!0,type:"checkbox"})},[We.heading]:{match:ja(e.enforceAtxHeadings?iN:rN),order:1,parse:(f,h,m)=>({children:Tv(h,f[2],m),id:e.slugify(f[2],Tx),level:f[1].length}),render:(f,h,m)=>n(`h${f.level}`,{id:f.id,key:m.key},h(f.children,m))},[We.headingSetext]:{match:ja(sN),order:0,parse:(f,h,m)=>({children:Tv(h,f[1],m),level:f[2]==="="?1:2,type:We.heading})},[We.htmlBlock]:{match:Nm(j0),order:1,parse(f,h,m){const[,g]=f[3].match(Ooe),y=new RegExp(`^${g}`,"gm"),O=f[3].replace(y,""),b=(x=O,$oe.some(k=>k.test(x))?IGe:Tv);var x;const v=f[1].toLowerCase(),w=Ase.indexOf(v)!==-1,_=(w?v:f[1]).trim(),$={attrs:i(_,f[2]),noInnerParse:w,tag:_};return m.inAnchor=m.inAnchor||v==="a",w?$.text=f[3]:$.children=b(h,O,m),m.inAnchor=!1,$},render:(f,h,m)=>n(f.tag,Fu({key:m.key},f.attrs),f.text||h(f.children,m))},[We.htmlSelfClosing]:{match:Nm(E0),order:1,parse(f){const h=f[1].trim();return{attrs:i(h,f[2]||""),tag:h}},render:(f,h,m)=>n(f.tag,Fu({},f.attrs,{key:m.key}))},[We.htmlComment]:{match:Nm(oN),order:1,parse:()=>({}),render:RP},[We.image]:{match:zl(_oe),order:1,parse:f=>({alt:f[1],target:jz(f[2]),title:f[3]}),render:(f,h,m)=>n("img",{key:m.key,alt:f.alt||void 0,title:f.title||void 0,src:e.sanitizer(f.target,"img","src")})},[We.link]:{match:Bl(Soe),order:3,parse:(f,h,m)=>({children:MGe(h,f[1],m),target:jz(f[2]),title:f[3]}),render:(f,h,m)=>n("a",{key:m.key,href:e.sanitizer(f.target,"a","href"),title:f.title},h(f.children,m))},[We.linkAngleBraceStyleDetector]:{match:Bl(Jse),order:0,parse:f=>({children:[{text:f[1],type:We.text}],target:f[1],type:We.link})},[We.linkBareUrlDetector]:{match:(f,h)=>h.inAnchor?null:Bl(Hse)(f,h),order:0,parse:f=>({children:[{text:f[1],type:We.text}],target:f[1],title:void 0,type:We.link})},[We.linkMailtoDetector]:{match:Bl(Kse),order:0,parse(f){let h=f[1],m=f[1];return Mse.test(m)||(m="mailto:"+m),{children:[{text:h.replace("mailto:",""),type:We.text}],target:m,type:We.link}}},[We.orderedList]:kz(n,1),[We.unorderedList]:kz(n,2),[We.newlineCoalescer]:{match:ja(qse),order:3,parse:AP,render:()=>`
`},[We.paragraph]:{match:AGe,order:3,parse:Nv,render:(f,h,m)=>n("p",{key:m.key},h(f.children,m))},[We.ref]:{match:Bl(toe),order:0,parse:f=>(o[f[1]]={target:f[2],title:f[4]},{}),render:RP},[We.refImage]:{match:zl(noe),order:0,parse:f=>({alt:f[1]||void 0,ref:f[2]}),render:(f,h,m)=>o[f.ref]?n("img",{key:m.key,alt:f.alt,src:e.sanitizer(o[f.ref].target,"img","src"),title:o[f.ref].title}):null},[We.refLink]:{match:Bl(roe),order:0,parse:(f,h,m)=>({children:h(f[1],m),fallbackChildren:h(f[0].replace(ioe,"\\$1"),m),ref:f[2]}),render:(f,h,m)=>o[f.ref]?n("a",{key:m.key,href:e.sanitizer(o[f.ref].target,"a","href"),title:o[f.ref].title},h(f.children,m)):n("span",{key:m.key},h(f.fallbackChildren,m))},[We.table]:{match:ja(aN),order:1,parse:NGe,render(f,h,m){const g=f;return n("table",{key:m.key},n("thead",null,n("tr",null,g.header.map(function(y,O){return n("th",{key:O,style:Cz(g,O)},h(y,m))}))),n("tbody",null,g.cells.map(function(y,O){return n("tr",{key:O},y.map(function(b,x){return n("td",{key:x,style:Cz(g,x)},h(b,m))}))})))}},[We.text]:{match:Nm(goe),order:4,parse:f=>({text:f[0].replace(Xse,(h,m)=>e.namedCodesToUnicode[m]?e.namedCodesToUnicode[m]:h)}),render:f=>f.text},[We.textBolded]:{match:zl(doe),order:2,parse:(f,h,m)=>({children:h(f[2],m)}),render:(f,h,m)=>n("strong",{key:m.key},h(f.children,m))},[We.textEmphasized]:{match:zl(foe),order:3,parse:(f,h,m)=>({children:h(f[2],m)}),render:(f,h,m)=>n("em",{key:m.key},h(f.children,m))},[We.textEscaped]:{match:zl(moe),order:1,parse:f=>({text:f[1],type:We.text})},[We.textMarked]:{match:zl(hoe),order:3,parse:Nv,render:(f,h,m)=>n("mark",{key:m.key},h(f.children,m))},[We.textStrikethroughed]:{match:zl(poe),order:3,parse:Nv,render:(f,h,m)=>n("del",{key:m.key},h(f.children,m))}};e.disableParsingRawHTML===!0&&(delete a[We.htmlBlock],delete a[We.htmlSelfClosing]);const l=function(f){let h=Object.keys(f);function m(g,y){let O=[],b="";for(;g;){let x=0;for(;x<h.length;){const v=h[x],w=f[v],_=w.match(g,y,b);if(_){const $=_[0];g=g.substring($.length);const k=w.parse(_,m,y);k.type==null&&(k.type=v),O.push(k),b=$;break}x++}}return O}return h.sort(function(g,y){let O=f[g].order,b=f[y].order;return O!==b?O-b:g<y?-1:1}),function(g,y){return m(function(O){return O.replace(Vse,`
`).replace(Wse,"").replace(ooe,"    ")}(g),y)}}(a),c=(u=function(f,h){return function(m,g,y){const O=f[m.type].render;return h?h(()=>O(m,g,y),m,g,y):O(m,g,y)}}(a,e.renderRule),function f(h,m={}){if(Array.isArray(h)){const g=m.key,y=[];let O=!1;for(let b=0;b<h.length;b++){m.key=b;const x=f(h[b],m),v=typeof x=="string";v&&O?y[y.length-1]+=x:x!==null&&y.push(x),O=v}return m.key=g,y}return u(h,f,m)});var u;const d=r(t);return s.length?n("div",null,d,n("footer",{key:"footer"},s.map(function(f){return n("div",{id:e.slugify(f.identifier,Tx),key:f.identifier},f.identifier,c(l(f.footnote,{inline:!0})))}))):d}var Ez,We,Tz,KT,JT,Ase,Rse,Mse,Ise,eN,Dse,Qse,Fse,tN,nN,Lse,qse,Vse,Bse,zse,Wse,Use,Zse,rN,iN,sN,j0,Xse,oN,Yse,E0,Gse,Hse,Kse,Jse,eoe,aN,toe,noe,roe,ioe,soe,ooe,aoe,loe,coe,uoe,Am,doe,foe,hoe,poe,moe,goe,yoe,Ooe,boe,lN,xoe,d_,f_,oD,aD,voe,woe,cN,uN,dN,fN,Soe,_oe,hN,$oe,Nv,eb,h_=F({"../node_modules/markdown-to-jsx/dist/index.modern.js"(){Ez=["children","options"],We={blockQuote:"0",breakLine:"1",breakThematic:"2",codeBlock:"3",codeFenced:"4",codeInline:"5",footnote:"6",footnoteReference:"7",gfmTask:"8",heading:"9",headingSetext:"10",htmlBlock:"11",htmlComment:"12",htmlSelfClosing:"13",image:"14",link:"15",linkAngleBraceStyleDetector:"16",linkBareUrlDetector:"17",linkMailtoDetector:"18",newlineCoalescer:"19",orderedList:"20",paragraph:"21",ref:"22",refImage:"23",refLink:"24",table:"25",tableSeparator:"26",text:"27",textBolded:"28",textEmphasized:"29",textEscaped:"30",textMarked:"31",textStrikethroughed:"32",unorderedList:"33"},function(t){t[t.MAX=0]="MAX",t[t.HIGH=1]="HIGH",t[t.MED=2]="MED",t[t.LOW=3]="LOW",t[t.MIN=4]="MIN"}(Tz||(Tz={})),KT=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","className","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((t,e)=>(t[e.toLowerCase()]=e,t),{for:"htmlFor"}),JT={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:"“"},Ase=["style","script"],Rse=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,Mse=/mailto:/i,Ise=/\n{2,}$/,eN=/^(\s*>[\s\S]*?)(?=\n{2,})/,Dse=/^ *> ?/gm,Qse=/^ {2,}\n/,Fse=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,tN=/^\s*(`{3,}|~{3,}) *(\S+)?([^\n]*?)?\n([\s\S]+?)\s*\1 *(?:\n *)*\n?/,nN=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,Lse=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,qse=/^(?:\n *)*\n/,Vse=/\r\n?/g,Bse=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,zse=/^\[\^([^\]]+)]/,Wse=/\f/g,Use=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,Zse=/^\s*?\[(x|\s)\]/,rN=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,iN=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,sN=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,j0=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,Xse=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,oN=/^<!--[\s\S]*?(?:-->)/,Yse=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,E0=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,Gse=/^\{.*\}$/,Hse=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,Kse=/^<([^ >]+@[^ >]+)>/,Jse=/^<([^ >]+:\/[^ >]+)>/,eoe=/-([a-z])?/gi,aN=/^(.*\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,toe=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,noe=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,roe=/^\[([^\]]*)\] ?\[([^\]]*)\]/,ioe=/(\[|\])/g,soe=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,ooe=/\t/g,aoe=/(^ *\||\| *$)/g,loe=/^ *:-+: *$/,coe=/^ *:-+ *$/,uoe=/^ *-+: *$/,Am="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~~.*?~~|==.*?==|.|\\n)*?)",doe=new RegExp(`^([*_])\\1${Am}\\1\\1(?!\\1)`),foe=new RegExp(`^([*_])${Am}\\1(?!\\1|\\w)`),hoe=new RegExp(`^==${Am}==`),poe=new RegExp(`^~~${Am}~~`),moe=/^\\([^0-9A-Za-z\s])/,goe=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&#;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,yoe=/^\n+/,Ooe=/^([ \t]*)/,boe=/\\([^\\])/g,lN=/ *\n+$/,xoe=/(?:^|\n)( *)$/,d_="(?:\\d+\\.)",f_="(?:[*+-])",oD=wz(1),aD=wz(2),voe=Sz(1),woe=Sz(2),cN=_z(1),uN=_z(2),dN=$z(1),fN=$z(2),Soe=new RegExp(`^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),_oe=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,hN=[eN,tN,nN,rN,sN,iN,oN,aN,cN,dN,uN,fN],$oe=[...hN,/^[^\n]+(?:  \n|\n{2,})/,j0,E0],Nv=(t,e,n)=>({children:Tv(e,t[1],n)}),eb=t=>{let{children:e="",options:n}=t,r=function(i,s){if(i==null)return{};var o,a,l={},c=Object.keys(i);for(a=0;a<c.length;a++)s.indexOf(o=c[a])>=0||(l[o]=i[o]);return l}(t,Ez);return S.cloneElement(QGe(e,n),r)}}}),FGe=X({"../node_modules/lodash/unset.js"(t,e){var n=Lre();function r(i,s){return i==null?!0:n(i,s)}e.exports=r}}),Rm,IP,Nz,Az,Rz,Mz,koe,LGe=F({"../node_modules/@rjsf/core/lib/components/fields/ObjectField.js"(){Xe(),h_(),Rm=Ce(or()),IP=Ce(i_()),Nz=Ce(Un()),Az=Ce(Kp()),Rz=Ce(FGe()),Mz=class extends S.Component{constructor(){super(...arguments),this.state={wasPropertyKeyModified:!1,additionalProperties:{}},this.onPropertyChange=(t,e=!1)=>(n,r,i)=>{const{formData:s,onChange:o,errorSchema:a}=this.props;n===void 0&&e&&(n="");const l={...s,[t]:n};o(l,a&&a&&{...a,[t]:r},i)},this.onDropPropertyClick=t=>e=>{e.preventDefault();const{onChange:n,formData:r}=this.props,i={...r};(0,Rz.default)(i,t),n(i)},this.getAvailableKey=(t,e)=>{const{uiSchema:n,registry:r}=this.props,{duplicateKeySuffixSeparator:i="-"}=ft(n,r.globalUiOptions);let s=0,o=t;for(;(0,IP.default)(e,o);)o=`${t}${i}${++s}`;return o},this.onKeyChange=t=>(e,n)=>{if(t===e)return;const{formData:r,onChange:i,errorSchema:s}=this.props;e=this.getAvailableKey(e,r);const o={...r},a={[t]:e},l=Object.keys(o).map(u=>({[a[u]||u]:o[u]})),c=Object.assign({},...l);this.setState({wasPropertyKeyModified:!0}),i(c,s&&s&&{...s,[e]:n})},this.handleAddClick=t=>()=>{var e;if(!t.additionalProperties)return;const{formData:n,onChange:r,registry:i}=this.props,s={...n};let o,a,l;if((0,Nz.default)(t.additionalProperties)){o=t.additionalProperties.type,a=t.additionalProperties.const,l=t.additionalProperties.default;let d=t.additionalProperties;if(zn in d){const{schemaUtils:f}=i;d=f.retrieveSchema({$ref:d[zn]},n),o=d.type,a=d.const,l=d.default}!o&&(Xr in d||gr in d)&&(o="object")}const c=this.getAvailableKey("newKey",s),u=(e=a??l)!==null&&e!==void 0?e:this.getDefaultValue(o);(0,Az.default)(s,c,u),r(s)}}isRequired(t){const{schema:e}=this.props;return Array.isArray(e.required)&&e.required.indexOf(t)!==-1}getDefaultValue(t){const{registry:{translateString:e}}=this.props;switch(t){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return e(Pt.NewStringDefault)}}render(){var t,e,n,r;const{schema:i,uiSchema:s={},formData:o,errorSchema:a,idSchema:l,name:c,required:u=!1,disabled:d,readonly:f,hideError:h,idPrefix:m,idSeparator:g,onBlur:y,onFocus:O,registry:b,title:x}=this.props,{fields:v,formContext:w,schemaUtils:_,translateString:$,globalUiOptions:k}=b,{SchemaField:j}=v,P=_.retrieveSchema(i,o),R=ft(s,k),{properties:N={}}=P,A=(n=(e=(t=R.title)!==null&&t!==void 0?t:P.title)!==null&&e!==void 0?e:x)!==null&&n!==void 0?n:c,C=(r=R.description)!==null&&r!==void 0?r:P.description;let T;try{const M=Object.keys(N);T=tGe(M,R.order)}catch(M){return p.jsxs("div",{children:[p.jsx("p",{className:"config-error",style:{color:"red"},children:p.jsx(eb,{options:{disableParsingRawHTML:!0},children:$(Pt.InvalidObjectField,[c||"root",M.message])})}),p.jsx("pre",{children:JSON.stringify(P)})]})}const E=ct("ObjectFieldTemplate",b,R),I={title:R.label===!1?"":A,description:R.label===!1?void 0:C,properties:T.map(M=>{const Q=(0,IP.default)(P,[mn,M,Vp]),B=Q?s.additionalProperties:s[M],Z=ft(B).widget==="hidden",W=(0,Rm.default)(l,[M],{});return{content:p.jsx(j,{name:M,required:this.isRequired(M),schema:(0,Rm.default)(P,[mn,M],{}),uiSchema:B,errorSchema:(0,Rm.default)(a,M),idSchema:W,idPrefix:m,idSeparator:g,formData:(0,Rm.default)(o,M),formContext:w,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(M),onChange:this.onPropertyChange(M,Q),onBlur:y,onFocus:O,registry:b,disabled:d,readonly:f,hideError:h,onDropPropertyClick:this.onDropPropertyClick},M),name:M,readonly:f,disabled:d,required:u,hidden:Z}}),readonly:f,disabled:d,required:u,idSchema:l,uiSchema:s,errorSchema:a,schema:P,formData:o,formContext:w,registry:b};return p.jsx(E,{...I,onAddClick:this.handleAddClick})}},koe=Mz}});function qGe(t,e,n,r){const i=e.field,{fields:s,translateString:o}=r;if(typeof i=="function")return i;if(typeof i=="string"&&i in s)return s[i];const a=Xc(t),l=Array.isArray(a)?a[0]:a||"",c=t.$id;let u=Poe[l];return c&&c in s&&(u=c),!u&&(t.anyOf||t.oneOf)?()=>null:u in s?s[u]:()=>{const d=ct("UnsupportedFieldTemplate",r,e);return p.jsx(d,{schema:t,idSchema:n,reason:o(Pt.UnknownFieldType,[String(t.type)]),registry:r})}}function VGe(t){var e,n,r;const{schema:i,idSchema:s,uiSchema:o,formData:a,errorSchema:l,idPrefix:c,idSeparator:u,name:d,onChange:f,onKeyChange:h,onDropPropertyClick:m,required:g,registry:y,wasPropertyKeyModified:O=!1}=t,{formContext:b,schemaUtils:x,globalUiOptions:v}=y,w=ft(o,v),_=ct("FieldTemplate",y,w),$=ct("DescriptionFieldTemplate",y,w),k=ct("FieldHelpTemplate",y,w),j=ct("FieldErrorTemplate",y,w),P=x.retrieveSchema(i,a),R=s[Cy],N=kc(x.toIdSchema(P,R,a,c,u),s),A=S.useCallback((z,ee,K)=>f(z,ee,K||R),[R,f]),C=qGe(P,w,N,y),T=!!((e=w.disabled)!==null&&e!==void 0?e:t.disabled),E=!!((n=w.readonly)!==null&&n!==void 0?n:t.readonly||t.schema.const||t.schema.readOnly||P.readOnly),I=w.hideError,M=I===void 0?t.hideError:!!I,Q=!!((r=w.autofocus)!==null&&r!==void 0?r:t.autofocus);if(Object.keys(P).length===0)return null;const B=x.getDisplayLabel(P,o,v),{__errors:Z,...W}=l||{},oe=(0,mN.default)(o,["ui:classNames","classNames","ui:style"]);th in oe&&(oe[th]=(0,mN.default)(oe[th],["classNames","style"]));const le=p.jsx(C,{...t,onChange:A,idSchema:N,schema:P,uiSchema:oe,disabled:T,readonly:E,hideError:M,autofocus:Q,errorSchema:W,formContext:b,rawErrors:Z}),U=N[Cy];let G;O?G=d:G=Vp in P?d:w.title||t.schema.title||P.title||t.title||d;const ie=w.description||t.schema.description||P.description||"",Y=w.enableMarkdownInDescription?p.jsx(eb,{options:{disableParsingRawHTML:!0},children:ie}):ie,L=w.help,ae=w.widget==="hidden",q=["form-group","field",`field-${Xc(P)}`];!M&&Z&&Z.length>0&&q.push("field-error has-error has-danger"),o!=null&&o.classNames&&(console.warn("'uiSchema.classNames' is deprecated and may be removed in a major release; Use 'ui:classNames' instead."),q.push(o.classNames)),w.classNames&&q.push(w.classNames);const te=p.jsx(k,{help:L,idSchema:N,schema:P,uiSchema:o,hasErrors:!M&&Z&&Z.length>0,registry:y}),re=M||(P.anyOf||P.oneOf)&&!x.isSelect(P)?void 0:p.jsx(j,{errors:Z,errorSchema:l,idSchema:N,schema:P,uiSchema:o,registry:y}),ue={description:p.jsx($,{id:em(U),description:Y,schema:P,uiSchema:o,registry:y}),rawDescription:ie,help:te,rawHelp:typeof L=="string"?L:void 0,errors:re,rawErrors:M?void 0:Z,id:U,label:G,hidden:ae,onChange:f,onKeyChange:h,onDropPropertyClick:m,required:g,disabled:T,readonly:E,hideError:M,displayLabel:B,classNames:q.join(" ").trim(),style:w.style,formContext:b,formData:a,schema:P,uiSchema:o,registry:y},fe=y.fields.AnyOfField,Ee=y.fields.OneOfField,pe=(o==null?void 0:o["ui:field"])&&(o==null?void 0:o["ui:fieldReplacesAnyOrOneOf"])===!0;return p.jsx(_,{...ue,children:p.jsxs(p.Fragment,{children:[le,P.anyOf&&!pe&&!x.isSelect(P)&&p.jsx(fe,{name:d,disabled:T,readonly:E,hideError:M,errorSchema:l,formData:a,formContext:b,idPrefix:c,idSchema:N,idSeparator:u,onBlur:t.onBlur,onChange:t.onChange,onFocus:t.onFocus,options:P.anyOf.map(z=>x.retrieveSchema((0,pN.default)(z)?z:{},a)),registry:y,required:g,schema:P,uiSchema:o}),P.oneOf&&!pe&&!x.isSelect(P)&&p.jsx(Ee,{name:d,disabled:T,readonly:E,hideError:M,errorSchema:l,formData:a,formContext:b,idPrefix:c,idSchema:N,idSeparator:u,onBlur:t.onBlur,onChange:t.onChange,onFocus:t.onFocus,options:P.oneOf.map(z=>x.retrieveSchema((0,pN.default)(z)?z:{},a)),registry:y,required:g,schema:P,uiSchema:o})]})})}var pN,mN,Poe,Iz,Coe,BGe=F({"../node_modules/@rjsf/core/lib/components/fields/SchemaField.js"(){Xe(),pN=Ce(Un()),mN=Ce(N2()),h_(),Poe={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"},Iz=class extends S.Component{shouldComponentUpdate(t){return!Er(this.props,t)}render(){return p.jsx(VGe,{...this.props})}},Coe=Iz}});function zGe(t){var e;const{schema:n,name:r,uiSchema:i,idSchema:s,formData:o,required:a,disabled:l=!1,readonly:c=!1,autofocus:u=!1,onChange:d,onBlur:f,onFocus:h,registry:m,rawErrors:g,hideError:y}=t,{title:O,format:b}=n,{widgets:x,formContext:v,schemaUtils:w,globalUiOptions:_}=m,$=w.isSelect(n)?P0(n,i):void 0;let k=$?"select":"text";b&&UYe(n,b,x)&&(k=b);const{widget:j=k,placeholder:P="",title:R,...N}=ft(i),A=w.getDisplayLabel(n,i,_),C=(e=R??O)!==null&&e!==void 0?e:r,T=ta(n,j,x);return p.jsx(T,{options:{...N,enumOptions:$},schema:n,uiSchema:i,id:s.$id,name:r,label:C,hideLabel:!A,hideError:y,value:o,onChange:d,onBlur:f,onFocus:h,required:a,disabled:l,readonly:c,formContext:v,autofocus:u,registry:m,placeholder:P,rawErrors:g})}var joe,WGe=F({"../node_modules/@rjsf/core/lib/components/fields/StringField.js"(){Xe(),joe=zGe}});function UGe(t){const{formData:e,onChange:n}=t;return S.useEffect(()=>{e===void 0&&n(null)},[e,n]),null}var Eoe,ZGe=F({"../node_modules/@rjsf/core/lib/components/fields/NullField.js"(){Eoe=UGe}});function XGe(){return{AnyOfField:HT,ArrayField:Pse,BooleanField:jse,NumberField:Nse,ObjectField:koe,OneOfField:HT,SchemaField:Coe,StringField:joe,NullField:Eoe}}var Toe,YGe=F({"../node_modules/@rjsf/core/lib/components/fields/index.js"(){$Ge(),PGe(),CGe(),EGe(),LGe(),BGe(),WGe(),ZGe(),Toe=XGe}});function GGe(t){const{idSchema:e,description:n,registry:r,schema:i,uiSchema:s}=t,o=ft(s,r.globalUiOptions),{label:a=!0}=o;if(!n||!a)return null;const l=ct("DescriptionFieldTemplate",r,o);return p.jsx(l,{id:em(e),description:n,schema:i,uiSchema:s,registry:r})}var HGe=F({"../node_modules/@rjsf/core/lib/components/templates/ArrayFieldDescriptionTemplate.js"(){Xe()}});function KGe(t){const{children:e,className:n,disabled:r,hasToolbar:i,hasMoveDown:s,hasMoveUp:o,hasRemove:a,hasCopy:l,index:c,onCopyIndexClick:u,onDropIndexClick:d,onReorderClick:f,readonly:h,registry:m,uiSchema:g}=t,{CopyButton:y,MoveDownButton:O,MoveUpButton:b,RemoveButton:x}=m.templates.ButtonTemplates,v={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return p.jsxs("div",{className:n,children:[p.jsx("div",{className:i?"col-xs-9":"col-xs-12",children:e}),i&&p.jsx("div",{className:"col-xs-3 array-item-toolbox",children:p.jsxs("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(o||s)&&p.jsx(b,{style:v,disabled:r||h||!o,onClick:f(c,c-1),uiSchema:g,registry:m}),(o||s)&&p.jsx(O,{style:v,disabled:r||h||!s,onClick:f(c,c+1),uiSchema:g,registry:m}),l&&p.jsx(y,{style:v,disabled:r||h,onClick:u(c),uiSchema:g,registry:m}),a&&p.jsx(x,{style:v,disabled:r||h,onClick:d(c),uiSchema:g,registry:m})]})})]})}var JGe=F({"../node_modules/@rjsf/core/lib/components/templates/ArrayFieldItemTemplate.js"(){}});function eHe(t){const{canAdd:e,className:n,disabled:r,idSchema:i,uiSchema:s,items:o,onAddClick:a,readonly:l,registry:c,required:u,schema:d,title:f}=t,h=ft(s),m=ct("ArrayFieldDescriptionTemplate",c,h),g=ct("ArrayFieldItemTemplate",c,h),y=ct("ArrayFieldTitleTemplate",c,h),{ButtonTemplates:{AddButton:O}}=c.templates;return p.jsxs("fieldset",{className:n,id:i.$id,children:[p.jsx(y,{idSchema:i,title:h.title||f,required:u,schema:d,uiSchema:s,registry:c}),p.jsx(m,{idSchema:i,description:h.description||d.description,schema:d,uiSchema:s,registry:c}),p.jsx("div",{className:"row array-item-list",children:o&&o.map(({key:b,...x})=>p.jsx(g,{...x},b))}),e&&p.jsx(O,{className:"array-item-add",onClick:a,disabled:r||l,uiSchema:s,registry:c})]})}var tHe=F({"../node_modules/@rjsf/core/lib/components/templates/ArrayFieldTemplate.js"(){Xe()}});function nHe(t){const{idSchema:e,title:n,schema:r,uiSchema:i,required:s,registry:o}=t,a=ft(i,o.globalUiOptions),{label:l=!0}=a;if(!n||!l)return null;const c=ct("TitleFieldTemplate",o,a);return p.jsx(c,{id:sD(e),title:n,required:s,schema:r,uiSchema:i,registry:o})}var rHe=F({"../node_modules/@rjsf/core/lib/components/templates/ArrayFieldTitleTemplate.js"(){Xe()}});function iHe(t){const{id:e,name:n,value:r,readonly:i,disabled:s,autofocus:o,onBlur:a,onFocus:l,onChange:c,onChangeOverride:u,options:d,schema:f,uiSchema:h,formContext:m,registry:g,rawErrors:y,type:O,hideLabel:b,hideError:x,...v}=t;if(!e)throw console.log("No id for",t),new Error(`no id for props ${JSON.stringify(t)}`);const w={...v,...fse(f,O,d)};let _;w.type==="number"||w.type==="integer"?_=r||r===0?r:"":_=r??"";const $=S.useCallback(({target:{value:P}})=>c(P===""?d.emptyValue:P),[c,d]),k=S.useCallback(({target:P})=>a(e,P&&P.value),[a,e]),j=S.useCallback(({target:P})=>l(e,P&&P.value),[l,e]);return p.jsxs(p.Fragment,{children:[p.jsx("input",{id:e,name:e,className:"form-control",readOnly:i,disabled:s,autoFocus:o,value:_,...w,list:f.examples?Ry(e):void 0,onChange:u||$,onBlur:k,onFocus:j,"aria-describedby":xo(e,!!f.examples)}),Array.isArray(f.examples)&&p.jsx("datalist",{id:Ry(e),children:f.examples.concat(f.default&&!f.examples.includes(f.default)?[f.default]:[]).map(P=>p.jsx("option",{value:P},P))},`datalist_${e}`)]})}var sHe=F({"../node_modules/@rjsf/core/lib/components/templates/BaseInputTemplate.js"(){Xe()}});function oHe({uiSchema:t}){const{submitText:e,norender:n,props:r={}}=LYe(t);return n?null:p.jsx("div",{children:p.jsx("button",{type:"submit",...r,className:`btn btn-info ${r.className||""}`,children:e})})}var aHe=F({"../node_modules/@rjsf/core/lib/components/templates/ButtonTemplates/SubmitButton.js"(){Xe()}});function tb(t){const{iconType:e="default",icon:n,className:r,uiSchema:i,registry:s,...o}=t;return p.jsx("button",{type:"button",className:`btn btn-${e} ${r}`,...o,children:p.jsx("i",{className:`glyphicon glyphicon-${n}`})})}function lHe(t){const{registry:{translateString:e}}=t;return p.jsx(tb,{title:e(Pt.CopyButton),className:"array-item-copy",...t,icon:"copy"})}function cHe(t){const{registry:{translateString:e}}=t;return p.jsx(tb,{title:e(Pt.MoveDownButton),className:"array-item-move-down",...t,icon:"arrow-down"})}function uHe(t){const{registry:{translateString:e}}=t;return p.jsx(tb,{title:e(Pt.MoveUpButton),className:"array-item-move-up",...t,icon:"arrow-up"})}function dHe(t){const{registry:{translateString:e}}=t;return p.jsx(tb,{title:e(Pt.RemoveButton),className:"array-item-remove",...t,iconType:"danger",icon:"remove"})}var Noe=F({"../node_modules/@rjsf/core/lib/components/templates/ButtonTemplates/IconButton.js"(){Xe()}});function fHe({className:t,onClick:e,disabled:n,registry:r}){const{translateString:i}=r;return p.jsx("div",{className:"row",children:p.jsx("p",{className:`col-xs-3 col-xs-offset-9 text-right ${t}`,children:p.jsx(tb,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:i(Pt.AddButton),onClick:e,disabled:n,registry:r})})})}var hHe=F({"../node_modules/@rjsf/core/lib/components/templates/ButtonTemplates/AddButton.js"(){Xe(),Noe()}});function pHe(){return{SubmitButton:oHe,AddButton:fHe,CopyButton:lHe,MoveDownButton:cHe,MoveUpButton:uHe,RemoveButton:dHe}}var Aoe,mHe=F({"../node_modules/@rjsf/core/lib/components/templates/ButtonTemplates/index.js"(){aHe(),hHe(),Noe(),Aoe=pHe}});function gHe(t){const{id:e,description:n}=t;return n?typeof n=="string"?p.jsx("p",{id:e,className:"field-description",children:n}):p.jsx("div",{id:e,className:"field-description",children:n}):null}var yHe=F({"../node_modules/@rjsf/core/lib/components/templates/DescriptionField.js"(){}});function OHe({errors:t,registry:e}){const{translateString:n}=e;return p.jsxs("div",{className:"panel panel-danger errors",children:[p.jsx("div",{className:"panel-heading",children:p.jsx("h3",{className:"panel-title",children:n(Pt.ErrorsLabel)})}),p.jsx("ul",{className:"list-group",children:t.map((r,i)=>p.jsx("li",{className:"list-group-item text-danger",children:r.stack},i))})]})}var bHe=F({"../node_modules/@rjsf/core/lib/components/templates/ErrorList.js"(){Xe()}});function Roe(t){const{label:e,required:n,id:r}=t;return e?p.jsxs("label",{className:"control-label",htmlFor:r,children:[e,n&&p.jsx("span",{className:"required",children:Moe})]}):null}var Moe,Ioe=F({"../node_modules/@rjsf/core/lib/components/templates/FieldTemplate/Label.js"(){Moe="*"}});function xHe(t){const{id:e,label:n,children:r,errors:i,help:s,description:o,hidden:a,required:l,displayLabel:c,registry:u,uiSchema:d}=t,f=ft(d),h=ct("WrapIfAdditionalTemplate",u,f);return a?p.jsx("div",{className:"hidden",children:r}):p.jsxs(h,{...t,children:[c&&p.jsx(Roe,{label:n,required:l,id:e}),c&&o?o:null,r,i,s]})}var vHe=F({"../node_modules/@rjsf/core/lib/components/templates/FieldTemplate/FieldTemplate.js"(){Xe(),Ioe()}}),Doe,wHe=F({"../node_modules/@rjsf/core/lib/components/templates/FieldTemplate/index.js"(){vHe(),Doe=xHe}});function SHe(t){const{errors:e=[],idSchema:n}=t;if(e.length===0)return null;const r=yse(n);return p.jsx("div",{children:p.jsx("ul",{id:r,className:"error-detail bs-callout bs-callout-info",children:e.filter(i=>!!i).map((i,s)=>p.jsx("li",{className:"text-danger",children:i},s))})})}var _He=F({"../node_modules/@rjsf/core/lib/components/templates/FieldErrorTemplate.js"(){Xe()}});function $He(t){const{idSchema:e,help:n}=t;if(!n)return null;const r=Ose(e);return typeof n=="string"?p.jsx("p",{id:r,className:"help-block",children:n}):p.jsx("div",{id:r,className:"help-block",children:n})}var kHe=F({"../node_modules/@rjsf/core/lib/components/templates/FieldHelpTemplate.js"(){Xe()}});function PHe(t){const{description:e,disabled:n,formData:r,idSchema:i,onAddClick:s,properties:o,readonly:a,registry:l,required:c,schema:u,title:d,uiSchema:f}=t,h=ft(f),m=ct("TitleFieldTemplate",l,h),g=ct("DescriptionFieldTemplate",l,h),{ButtonTemplates:{AddButton:y}}=l.templates;return p.jsxs("fieldset",{id:i.$id,children:[d&&p.jsx(m,{id:sD(i),title:d,required:c,schema:u,uiSchema:f,registry:l}),e&&p.jsx(g,{id:em(i),description:e,schema:u,uiSchema:f,registry:l}),o.map(O=>O.content),mre(u,f,r)&&p.jsx(y,{className:"object-property-expand",onClick:s(u),disabled:n||a,uiSchema:f,registry:l})]})}var CHe=F({"../node_modules/@rjsf/core/lib/components/templates/ObjectFieldTemplate.js"(){Xe()}});function jHe(t){const{id:e,title:n,required:r}=t;return p.jsxs("legend",{id:e,children:[n,r&&p.jsx("span",{className:"required",children:Qoe})]})}var Qoe,EHe=F({"../node_modules/@rjsf/core/lib/components/templates/TitleField.js"(){Qoe="*"}});function THe(t){const{schema:e,idSchema:n,reason:r,registry:i}=t,{translateString:s}=i;let o=Pt.UnsupportedField;const a=[];return n&&n.$id&&(o=Pt.UnsupportedFieldWithId,a.push(n.$id)),r&&(o=o===Pt.UnsupportedField?Pt.UnsupportedFieldWithReason:Pt.UnsupportedFieldWithIdAndReason,a.push(r)),p.jsxs("div",{className:"unsupported-field",children:[p.jsx("p",{children:p.jsx(eb,{options:{disableParsingRawHTML:!0},children:s(o,a)})}),e&&p.jsx("pre",{children:JSON.stringify(e,null,2)})]})}var Foe,NHe=F({"../node_modules/@rjsf/core/lib/components/templates/UnsupportedField.js"(){Xe(),h_(),Foe=THe}});function AHe(t){const{id:e,classNames:n,style:r,disabled:i,label:s,onKeyChange:o,onDropPropertyClick:a,readonly:l,required:c,schema:u,children:d,uiSchema:f,registry:h}=t,{templates:m,translateString:g}=h,{RemoveButton:y}=m.ButtonTemplates,O=g(Pt.KeyLabel,[s]);return Vp in u?p.jsx("div",{className:n,style:r,children:p.jsxs("div",{className:"row",children:[p.jsx("div",{className:"col-xs-5 form-additional",children:p.jsxs("div",{className:"form-group",children:[p.jsx(Roe,{label:O,required:c,id:`${e}-key`}),p.jsx("input",{className:"form-control",type:"text",id:`${e}-key`,onBlur:({target:x})=>o(x&&x.value),defaultValue:s})]})}),p.jsx("div",{className:"form-additional form-group col-xs-5",children:d}),p.jsx("div",{className:"col-xs-2",children:p.jsx(y,{className:"array-item-remove btn-block",style:{border:"0"},disabled:i||l,onClick:a(s),uiSchema:f,registry:h})})]})}):p.jsx("div",{className:n,style:r,children:d})}var RHe=F({"../node_modules/@rjsf/core/lib/components/templates/WrapIfAdditionalTemplate.js"(){Xe(),Ioe()}});function MHe(){return{ArrayFieldDescriptionTemplate:GGe,ArrayFieldItemTemplate:KGe,ArrayFieldTemplate:eHe,ArrayFieldTitleTemplate:nHe,ButtonTemplates:Aoe(),BaseInputTemplate:iHe,DescriptionFieldTemplate:gHe,ErrorListTemplate:OHe,FieldTemplate:Doe,FieldErrorTemplate:SHe,FieldHelpTemplate:$He,ObjectFieldTemplate:PHe,TitleFieldTemplate:jHe,UnsupportedFieldTemplate:Foe,WrapIfAdditionalTemplate:AHe}}var Loe,IHe=F({"../node_modules/@rjsf/core/lib/components/templates/index.js"(){HGe(),JGe(),tHe(),rHe(),sHe(),mHe(),yHe(),bHe(),wHe(),_He(),kHe(),CHe(),EHe(),NHe(),RHe(),Loe=MHe}});function DHe(t){return Object.values(t).every(e=>e!==-1)}function QHe({type:t,range:e,value:n,select:r,rootId:i,name:s,disabled:o,readonly:a,autofocus:l,registry:c,onBlur:u,onFocus:d}){const f=i+"_"+t,{SelectWidget:h}=c.widgets;return p.jsx(h,{schema:{type:"integer"},id:f,name:s,className:"form-control",options:{enumOptions:tse(e[0],e[1])},placeholder:t,value:n,disabled:o,readonly:a,autofocus:l,onChange:m=>r(t,m),onBlur:u,onFocus:d,registry:c,label:"","aria-describedby":xo(i)})}function FHe({time:t=!1,disabled:e=!1,readonly:n=!1,autofocus:r=!1,options:i,id:s,name:o,registry:a,onBlur:l,onFocus:c,onChange:u,value:d}){const{translateString:f}=a,[h,m]=S.useState(d),[g,y]=S.useReducer((v,w)=>({...v,...w}),EP(d,t));S.useEffect(()=>{const v=pz(g,t);DHe(g)&&v!==d?u(v):h!==d&&(m(d),y(EP(d,t)))},[t,d,u,g,h]);const O=S.useCallback((v,w)=>{y({[v]:w})},[]),b=S.useCallback(v=>{if(v.preventDefault(),e||n)return;const w=EP(new Date().toJSON(),t);u(pz(w,t))},[e,n,t]),x=S.useCallback(v=>{v.preventDefault(),!(e||n)&&u(void 0)},[e,n,u]);return p.jsxs("ul",{className:"list-inline",children:[IYe(g,t,i.yearsRange,i.format).map((v,w)=>p.jsx("li",{className:"list-inline-item",children:p.jsx(QHe,{rootId:s,name:o,select:O,...v,disabled:e,readonly:n,registry:a,onBlur:l,onFocus:c,autofocus:r&&w===0})},w)),(i.hideNowButton!=="undefined"?!i.hideNowButton:!0)&&p.jsx("li",{className:"list-inline-item",children:p.jsx("a",{href:"#",className:"btn btn-info btn-now",onClick:b,children:f(Pt.NowLabel)})}),(i.hideClearButton!=="undefined"?!i.hideClearButton:!0)&&p.jsx("li",{className:"list-inline-item",children:p.jsx("a",{href:"#",className:"btn btn-warning btn-clear",onClick:x,children:f(Pt.ClearLabel)})})]})}var qoe,LHe=F({"../node_modules/@rjsf/core/lib/components/widgets/AltDateWidget.js"(){Xe(),qoe=FHe}});function qHe({time:t=!0,...e}){const{AltDateWidget:n}=e.registry.widgets;return p.jsx(n,{time:t,...e})}var Voe,VHe=F({"../node_modules/@rjsf/core/lib/components/widgets/AltDateTimeWidget.js"(){Voe=qHe}});function BHe({schema:t,uiSchema:e,options:n,id:r,value:i,disabled:s,readonly:o,label:a,hideLabel:l,autofocus:c=!1,onBlur:u,onFocus:d,onChange:f,registry:h}){var m;const g=ct("DescriptionFieldTemplate",h,n),y=Ev(t),O=S.useCallback(w=>f(w.target.checked),[f]),b=S.useCallback(w=>u(r,w.target.checked),[u,r]),x=S.useCallback(w=>d(r,w.target.checked),[d,r]),v=(m=n.description)!==null&&m!==void 0?m:t.description;return p.jsxs("div",{className:`checkbox ${s||o?"disabled":""}`,children:[!l&&!!v&&p.jsx(g,{id:em(r),description:v,schema:t,uiSchema:e,registry:h}),p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",id:r,name:r,checked:typeof i>"u"?!1:i,required:y,disabled:s||o,autoFocus:c,onChange:O,onBlur:b,onFocus:x,"aria-describedby":xo(r)}),YYe(p.jsx("span",{children:a}),l)]})]})}var Boe,zHe=F({"../node_modules/@rjsf/core/lib/components/widgets/CheckboxWidget.js"(){Xe(),Boe=BHe}});function WHe({id:t,disabled:e,options:{inline:n=!1,enumOptions:r,enumDisabled:i,emptyValue:s},value:o,autofocus:a=!1,readonly:l,onChange:c,onBlur:u,onFocus:d}){const f=Array.isArray(o)?o:[o],h=S.useCallback(({target:g})=>u(t,Or(g&&g.value,r,s)),[u,t]),m=S.useCallback(({target:g})=>d(t,Or(g&&g.value,r,s)),[d,t]);return p.jsx("div",{className:"checkboxes",id:t,children:Array.isArray(r)&&r.map((g,y)=>{const O=KO(g.value,f),b=Array.isArray(i)&&i.indexOf(g.value)!==-1,x=e||b||l?"disabled":"",v=_=>{_.target.checked?c(ase(y,f,r)):c(rse(y,f,r))},w=p.jsxs("span",{children:[p.jsx("input",{type:"checkbox",id:u_(t,y),name:t,checked:O,value:String(y),disabled:e||b||l,autoFocus:a&&y===0,onChange:v,onBlur:h,onFocus:m,"aria-describedby":xo(t)}),p.jsx("span",{children:g.label})]});return n?p.jsx("label",{className:`checkbox-inline ${x}`,children:w},y):p.jsx("div",{className:`checkbox ${x}`,children:p.jsx("label",{children:w})},y)})})}var zoe,UHe=F({"../node_modules/@rjsf/core/lib/components/widgets/CheckboxesWidget.js"(){Xe(),zoe=WHe}});function ZHe(t){const{disabled:e,readonly:n,options:r,registry:i}=t,s=ct("BaseInputTemplate",i,r);return p.jsx(s,{type:"color",...t,disabled:e||n})}var XHe=F({"../node_modules/@rjsf/core/lib/components/widgets/ColorWidget.js"(){Xe()}});function YHe(t){const{onChange:e,options:n,registry:r}=t,i=ct("BaseInputTemplate",r,n),s=S.useCallback(o=>e(o||void 0),[e]);return p.jsx(i,{type:"date",...t,onChange:s})}var GHe=F({"../node_modules/@rjsf/core/lib/components/widgets/DateWidget.js"(){Xe()}});function HHe(t){const{onChange:e,value:n,options:r,registry:i}=t,s=ct("BaseInputTemplate",i,r);return p.jsx(s,{type:"datetime-local",...t,value:dGe(n),onChange:o=>e(HYe(o))})}var KHe=F({"../node_modules/@rjsf/core/lib/components/widgets/DateTimeWidget.js"(){Xe()}});function JHe(t){const{options:e,registry:n}=t,r=ct("BaseInputTemplate",n,e);return p.jsx(r,{type:"email",...t})}var eKe=F({"../node_modules/@rjsf/core/lib/components/widgets/EmailWidget.js"(){Xe()}});function tKe(t,e){return t===null?null:t.replace(";base64",`;name=${encodeURIComponent(e)};base64`)}function nKe(t){const{name:e,size:n,type:r}=t;return new Promise((i,s)=>{const o=new window.FileReader;o.onerror=s,o.onload=a=>{var l;typeof((l=a.target)===null||l===void 0?void 0:l.result)=="string"?i({dataURL:tKe(a.target.result,e),name:e,size:n,type:r}):i({dataURL:null,name:e,size:n,type:r})},o.readAsDataURL(t)})}function rKe(t){return Promise.all(Array.from(t).map(nKe))}function iKe({fileInfo:t,registry:e}){const{translateString:n}=e,{dataURL:r,type:i,name:s}=t;return r?["image/jpeg","image/png"].includes(i)?p.jsx("img",{src:r,style:{maxWidth:"100%"},className:"file-preview"}):p.jsxs(p.Fragment,{children:[" ",p.jsx("a",{download:`preview-${s}`,href:r,className:"file-download",children:n(Pt.PreviewLabel)})]}):null}function sKe({filesInfo:t,registry:e,preview:n,onRemove:r,options:i}){if(t.length===0)return null;const{translateString:s}=e,{RemoveButton:o}=ct("ButtonTemplates",e,i);return p.jsx("ul",{className:"file-info",children:t.map((a,l)=>{const{name:c,size:u,type:d}=a,f=()=>r(l);return p.jsxs("li",{children:[p.jsx(eb,{children:s(Pt.FilesInfo,[c,d,String(u)])}),n&&p.jsx(iKe,{fileInfo:a,registry:e}),p.jsx(o,{onClick:f,registry:e})]},l)})})}function oKe(t){return t.reduce((e,n)=>{if(!n)return e;try{const{blob:r,name:i}=kYe(n);return[...e,{dataURL:n,name:i,size:r.size,type:r.type}]}catch{return e}},[])}function aKe(t){const{disabled:e,readonly:n,required:r,multiple:i,onChange:s,value:o,options:a,registry:l}=t,c=ct("BaseInputTemplate",l,a),u=S.useCallback(h=>{h.target.files&&rKe(h.target.files).then(m=>{const g=m.map(y=>y.dataURL);s(i?o.concat(g):g[0])})},[i,o,s]),d=S.useMemo(()=>oKe(Array.isArray(o)?o:[o]),[o]),f=S.useCallback(h=>{if(i){const m=o.filter((g,y)=>y!==h);s(m)}else s(void 0)},[i,o,s]);return p.jsxs("div",{children:[p.jsx(c,{...t,disabled:e||n,type:"file",required:o?!1:r,onChangeOverride:u,value:"",accept:a.accept?String(a.accept):void 0}),p.jsx(sKe,{filesInfo:d,onRemove:f,registry:l,preview:a.filePreview,options:a})]})}var Woe,lKe=F({"../node_modules/@rjsf/core/lib/components/widgets/FileWidget.js"(){Xe(),h_(),Woe=aKe}});function cKe({id:t,value:e}){return p.jsx("input",{type:"hidden",id:t,name:t,value:typeof e>"u"?"":e})}var Uoe,uKe=F({"../node_modules/@rjsf/core/lib/components/widgets/HiddenWidget.js"(){Uoe=cKe}});function dKe(t){const{options:e,registry:n}=t,r=ct("BaseInputTemplate",n,e);return p.jsx(r,{type:"password",...t})}var fKe=F({"../node_modules/@rjsf/core/lib/components/widgets/PasswordWidget.js"(){Xe()}});function hKe({options:t,value:e,required:n,disabled:r,readonly:i,autofocus:s=!1,onBlur:o,onFocus:a,onChange:l,id:c}){const{enumOptions:u,enumDisabled:d,inline:f,emptyValue:h}=t,m=S.useCallback(({target:y})=>o(c,Or(y&&y.value,u,h)),[o,c]),g=S.useCallback(({target:y})=>a(c,Or(y&&y.value,u,h)),[a,c]);return p.jsx("div",{className:"field-radio-group",id:c,children:Array.isArray(u)&&u.map((y,O)=>{const b=KO(y.value,e),x=Array.isArray(d)&&d.indexOf(y.value)!==-1,v=r||x||i?"disabled":"",w=()=>l(y.value),_=p.jsxs("span",{children:[p.jsx("input",{type:"radio",id:u_(c,O),checked:b,name:c,required:n,value:String(O),disabled:r||x||i,autoFocus:s&&O===0,onChange:w,onBlur:m,onFocus:g,"aria-describedby":xo(c)}),p.jsx("span",{children:y.label})]});return f?p.jsx("label",{className:`radio-inline ${v}`,children:_},O):p.jsx("div",{className:`radio ${v}`,children:p.jsx("label",{children:_})},O)})})}var Zoe,pKe=F({"../node_modules/@rjsf/core/lib/components/widgets/RadioWidget.js"(){Xe(),Zoe=hKe}});function mKe(t){const{value:e,registry:{templates:{BaseInputTemplate:n}}}=t;return p.jsxs("div",{className:"field-range-wrapper",children:[p.jsx(n,{type:"range",...t}),p.jsx("span",{className:"range-view",children:e})]})}var gKe=F({"../node_modules/@rjsf/core/lib/components/widgets/RangeWidget.js"(){}});function DP(t,e){return e?Array.from(t.target.options).slice().filter(n=>n.selected).map(n=>n.value):t.target.value}function yKe({schema:t,id:e,options:n,value:r,required:i,disabled:s,readonly:o,multiple:a=!1,autofocus:l=!1,onChange:c,onBlur:u,onFocus:d,placeholder:f}){const{enumOptions:h,enumDisabled:m,emptyValue:g}=n,y=a?[]:"",O=S.useCallback(_=>{const $=DP(_,a);return d(e,Or($,h,g))},[d,e,t,a,h,g]),b=S.useCallback(_=>{const $=DP(_,a);return u(e,Or($,h,g))},[u,e,t,a,h,g]),x=S.useCallback(_=>{const $=DP(_,a);return c(Or($,h,g))},[c,t,a,h,g]),v=sse(r,h,a),w=!a&&t.default===void 0;return p.jsxs("select",{id:e,name:e,multiple:a,className:"form-control",value:typeof v>"u"?y:v,required:i,disabled:s||o,autoFocus:l,onBlur:b,onFocus:O,onChange:x,"aria-describedby":xo(e),children:[w&&p.jsx("option",{value:"",children:f}),Array.isArray(h)&&h.map(({value:_,label:$},k)=>{const j=m&&m.indexOf(_)!==-1;return p.jsx("option",{value:String(k),disabled:j,children:$},k)})]})}var Xoe,OKe=F({"../node_modules/@rjsf/core/lib/components/widgets/SelectWidget.js"(){Xe(),Xoe=yKe}});function Dz({id:t,options:e={},placeholder:n,value:r,required:i,disabled:s,readonly:o,autofocus:a=!1,onChange:l,onBlur:c,onFocus:u}){const d=S.useCallback(({target:{value:m}})=>l(m===""?e.emptyValue:m),[l,e.emptyValue]),f=S.useCallback(({target:m})=>c(t,m&&m.value),[c,t]),h=S.useCallback(({target:m})=>u(t,m&&m.value),[t,u]);return p.jsx("textarea",{id:t,name:t,className:"form-control",value:r||"",placeholder:n,required:i,disabled:s,readOnly:o,autoFocus:a,rows:e.rows,onBlur:f,onFocus:h,onChange:d,"aria-describedby":xo(t)})}var Yoe,bKe=F({"../node_modules/@rjsf/core/lib/components/widgets/TextareaWidget.js"(){Xe(),Dz.defaultProps={autofocus:!1,options:{}},Yoe=Dz}});function xKe(t){const{options:e,registry:n}=t,r=ct("BaseInputTemplate",n,e);return p.jsx(r,{...t})}var vKe=F({"../node_modules/@rjsf/core/lib/components/widgets/TextWidget.js"(){Xe()}});function wKe(t){const{onChange:e,options:n,registry:r}=t,i=ct("BaseInputTemplate",r,n),s=S.useCallback(o=>e(o?`${o}:00`:void 0),[e]);return p.jsx(i,{type:"time",...t,onChange:s})}var SKe=F({"../node_modules/@rjsf/core/lib/components/widgets/TimeWidget.js"(){Xe()}});function _Ke(t){const{options:e,registry:n}=t,r=ct("BaseInputTemplate",n,e);return p.jsx(r,{type:"url",...t})}var $Ke=F({"../node_modules/@rjsf/core/lib/components/widgets/URLWidget.js"(){Xe()}});function kKe(t){const{options:e,registry:n}=t,r=ct("BaseInputTemplate",n,e);return p.jsx(r,{type:"number",...t})}var PKe=F({"../node_modules/@rjsf/core/lib/components/widgets/UpDownWidget.js"(){Xe()}});function CKe(){return{AltDateWidget:qoe,AltDateTimeWidget:Voe,CheckboxWidget:Boe,CheckboxesWidget:zoe,ColorWidget:ZHe,DateWidget:YHe,DateTimeWidget:HHe,EmailWidget:JHe,FileWidget:Woe,HiddenWidget:Uoe,PasswordWidget:dKe,RadioWidget:Zoe,RangeWidget:mKe,SelectWidget:Xoe,TextWidget:xKe,TextareaWidget:Yoe,TimeWidget:wKe,UpDownWidget:kKe,URLWidget:_Ke}}var Goe,jKe=F({"../node_modules/@rjsf/core/lib/components/widgets/index.js"(){LHe(),VHe(),zHe(),UHe(),XHe(),GHe(),KHe(),eKe(),lKe(),uKe(),fKe(),pKe(),gKe(),OKe(),bKe(),vKe(),SKe(),$Ke(),PKe(),Goe=CKe}});function EKe(){return{fields:Toe(),templates:Loe(),widgets:Goe(),rootSchema:{},formContext:{},translateString:EYe}}var Hoe=F({"../node_modules/@rjsf/core/lib/getDefaultRegistry.js"(){Xe(),YGe(),IHe(),jKe()}}),Qz,Fz,Lz,qz,QP,Vz,Koe,Joe=F({"../node_modules/@rjsf/core/lib/components/Form.js"(){Xe(),Qz=Ce(a_()),Fz=Ce(or()),Lz=Ce(YO()),qz=Ce(ose()),QP=Ce(wGe()),Vz=Ce(Sse()),Hoe(),Koe=class extends S.Component{constructor(t){if(super(t),this.getUsedFormData=(e,n)=>{if(n.length===0&&typeof e!="object")return e;const r=(0,QP.default)(e,n);return Array.isArray(e)?Object.keys(r).map(i=>r[i]):r},this.getFieldNames=(e,n)=>{const r=(i,s=[],o=[[]])=>(Object.keys(i).forEach(a=>{if(typeof i[a]=="object"){const l=o.map(c=>[...c,a]);i[a][y2]&&i[a][xg]!==""?s.push(i[a][xg]):r(i[a],s,l)}else a===xg&&i[a]!==""&&o.forEach(l=>{const c=(0,Fz.default)(n,l);(typeof c!="object"||(0,Lz.default)(c)||Array.isArray(c)&&c.every(u=>typeof u!="object"))&&s.push(l)})}),s);return r(e)},this.omitExtraData=e=>{const{schema:n,schemaUtils:r}=this.state,i=r.retrieveSchema(n,e),s=r.toPathSchema(i,"",e),o=this.getFieldNames(s,e);return this.getUsedFormData(e,o)},this.onChange=(e,n,r)=>{const{extraErrors:i,omitExtraData:s,liveOmit:o,noValidate:a,liveValidate:l,onChange:c}=this.props,{schemaUtils:u,schema:d,retrievedSchema:f}=this.state;(Ft(e)||Array.isArray(e))&&(e=this.getStateFromProps(this.props,e,f).formData);const h=!a&&l;let m={formData:e,schema:d},g=e;if(s===!0&&o===!0&&(g=this.omitExtraData(e),m={formData:g}),h){const y=this.validate(g,d,u,f);let O=y.errors,b=y.errorSchema;const x=O,v=b;if(i){const w=TP(y,i);b=w.errorSchema,O=w.errors}if(n){const w=this.filterErrorsBasedOnSchema(n,f,g);b=kc(b,w,"preventDuplicates")}m={formData:g,errors:O,errorSchema:b,schemaValidationErrors:x,schemaValidationErrorSchema:v}}else if(!a&&n){const y=i?kc(n,i,"preventDuplicates"):n;m={formData:g,errorSchema:y,errors:C0(y)}}this.setState(m,()=>c&&c({...this.state,...m},r))},this.reset=()=>{const{onChange:e}=this.props,i={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(i,()=>e&&e({...this.state,...i}))},this.onBlur=(e,n)=>{const{onBlur:r}=this.props;r&&r(e,n)},this.onFocus=(e,n)=>{const{onFocus:r}=this.props;r&&r(e,n)},this.onSubmit=e=>{if(e.preventDefault(),e.target!==e.currentTarget)return;e.persist();const{omitExtraData:n,extraErrors:r,noValidate:i,onSubmit:s}=this.props;let{formData:o}=this.state;if(n===!0&&(o=this.omitExtraData(o)),i||this.validateFormWithFormData(o)){const a=r||{},l=r?C0(r):[];this.setState({formData:o,errors:l,errorSchema:a,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{s&&s({...this.state,formData:o,status:"submitted"},e)})}},this.submit=()=>{if(this.formElement.current){const e=new CustomEvent("submit",{cancelable:!0});e.preventDefault(),this.formElement.current.dispatchEvent(e),this.formElement.current.requestSubmit()}},this.validateFormWithFormData=e=>{const{extraErrors:n,extraErrorsBlockSubmit:r,focusOnFirstError:i,onError:s}=this.props,{errors:o}=this.state,a=this.validate(e);let l=a.errors,c=a.errorSchema;const u=l,d=c,f=l.length>0||n&&r;if(f){if(n){const h=TP(a,n);c=h.errorSchema,l=h.errors}i&&(typeof i=="function"?i(l[0]):this.focusOnError(l[0])),this.setState({errors:l,errorSchema:c,schemaValidationErrors:u,schemaValidationErrorSchema:d},()=>{s?s(l):console.error("Form validation failed",l)})}else o.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!f},!t.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(t,t.formData),this.props.onChange&&!Er(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=S.createRef()}getSnapshotBeforeUpdate(t,e){if(!Er(this.props,t)){const n=!Er(t.schema,this.props.schema),r=!Er(t.formData,this.props.formData),i=this.getStateFromProps(this.props,this.props.formData,n||r?void 0:this.state.retrievedSchema,n),s=!Er(i,e);return{nextState:i,shouldUpdate:s}}return{shouldUpdate:!1}}componentDidUpdate(t,e,n){if(n.shouldUpdate){const{nextState:r}=n;!Er(r.formData,this.props.formData)&&!Er(r.formData,e.formData)&&this.props.onChange&&this.props.onChange(r),this.setState(r)}}getStateFromProps(t,e,n,r=!1){var i;const s=this.state||{},o="schema"in t?t.schema:this.props.schema,a=("uiSchema"in t?t.uiSchema:this.props.uiSchema)||{},l=typeof e<"u",c="liveValidate"in t?t.liveValidate:this.props.liveValidate,u=l&&!t.noValidate&&c,d=o,f="experimental_defaultFormStateBehavior"in t?t.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,h="experimental_customMergeAllOf"in t?t.experimental_customMergeAllOf:this.props.experimental_customMergeAllOf;let m=s.schemaUtils;(!m||m.doesSchemaUtilsDiffer(t.validator,d,f,h))&&(m=_Ye(t.validator,d,f,h));const g=m.getDefaultFormState(o,e),y=n??m.retrieveSchema(o,g),O=()=>t.noValidate||r?{errors:[],errorSchema:{}}:t.liveValidate?{errors:s.errors||[],errorSchema:s.errorSchema||{}}:{errors:s.schemaValidationErrors||[],errorSchema:s.schemaValidationErrorSchema||{}};let b,x,v=s.schemaValidationErrors,w=s.schemaValidationErrorSchema;if(u){const k=this.validate(g,o,m,y);b=k.errors,n===void 0?x=k.errorSchema:x=kc((i=this.state)===null||i===void 0?void 0:i.errorSchema,k.errorSchema,"preventDuplicates"),v=b,w=x}else{const k=O();b=k.errors,x=k.errorSchema}if(t.extraErrors){const k=TP({errorSchema:x,errors:b},t.extraErrors);x=k.errorSchema,b=k.errors}const _=m.toIdSchema(y,a["ui:rootFieldId"],g,t.idPrefix,t.idSeparator);return{schemaUtils:m,schema:o,uiSchema:a,idSchema:_,formData:g,edit:l,errors:b,errorSchema:x,schemaValidationErrors:v,schemaValidationErrorSchema:w,retrievedSchema:y}}shouldComponentUpdate(t,e){return sGe(this,t,e)}validate(t,e=this.props.schema,n,r){const i=n||this.state.schemaUtils,{customValidate:s,transformErrors:o,uiSchema:a}=this.props,l=r??i.retrieveSchema(e,t);return i.getValidator().validateFormData(t,l,s,o,a)}renderErrors(t){const{errors:e,errorSchema:n,schema:r,uiSchema:i}=this.state,{formContext:s}=this.props,o=ft(i),a=ct("ErrorListTemplate",t,o);return e&&e.length?p.jsx(a,{errors:e,errorSchema:n||{},schema:r,uiSchema:i,formContext:s,registry:t}):null}filterErrorsBasedOnSchema(t,e,n){const{retrievedSchema:r,schemaUtils:i}=this.state,s=e??r,o=i.toPathSchema(s,"",n),a=this.getFieldNames(o,n),l=(0,QP.default)(t,a);(e==null?void 0:e.type)!=="object"&&(e==null?void 0:e.type)!=="array"&&(l.__errors=t.__errors);const c=u=>((0,Qz.default)(u,(d,f)=>{(0,qz.default)(d)?delete u[f]:typeof d=="object"&&!Array.isArray(d.__errors)&&c(d)}),u);return c(l)}getRegistry(){var t;const{translateString:e,uiSchema:n={}}=this.props,{schemaUtils:r}=this.state,{fields:i,templates:s,widgets:o,formContext:a,translateString:l}=EKe();return{fields:{...i,...this.props.fields},templates:{...s,...this.props.templates,ButtonTemplates:{...s.ButtonTemplates,...(t=this.props.templates)===null||t===void 0?void 0:t.ButtonTemplates}},widgets:{...o,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||a,schemaUtils:r,translateString:e||l,globalUiOptions:n[pre]}}focusOnError(t){const{idPrefix:e="root",idSeparator:n="_"}=this.props,{property:r}=t,i=(0,Vz.default)(r);i[0]===""?i[0]=e:i.unshift(e);const s=i.join(n);let o=this.formElement.current.elements[s];o||(o=this.formElement.current.querySelector(`input[id^="${s}"`)),o&&o.length&&(o=o[0]),o&&o.focus()}validateForm(){const{omitExtraData:t}=this.props;let{formData:e}=this.state;return t===!0&&(e=this.omitExtraData(e)),this.validateFormWithFormData(e)}render(){const{children:t,id:e,idPrefix:n,idSeparator:r,className:i="",tagName:s,name:o,method:a,target:l,action:c,autoComplete:u,enctype:d,acceptcharset:f,acceptCharset:h,noHtml5Validate:m=!1,disabled:g,readonly:y,formContext:O,showErrorList:b="top",_internalFormWrapper:x}=this.props,{schema:v,uiSchema:w,formData:_,errorSchema:$,idSchema:k}=this.state,j=this.getRegistry(),{SchemaField:P}=j.fields,{SubmitButton:R}=j.templates.ButtonTemplates,N=x?s:void 0,A=x||s||"form";let{[jy]:C={}}=ft(w);g&&(C={...C,props:{...C.props,disabled:!0}});const T={[th]:{[jy]:C}};return p.jsxs(A,{className:i||"rjsf",id:e,name:o,method:a,target:l,action:c,autoComplete:u,encType:d,acceptCharset:h||f,noValidate:m,onSubmit:this.onSubmit,as:N,ref:this.formElement,children:[b==="top"&&this.renderErrors(j),p.jsx(P,{name:"",schema:v,uiSchema:w,errorSchema:$,idSchema:k,idPrefix:n,idSeparator:r,formContext:O,formData:_,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:j,disabled:g,readonly:y}),t||p.jsx(R,{uiSchema:T,registry:j}),b==="bottom"&&this.renderErrors(j)]})}}}}),TKe=F({"../node_modules/@rjsf/core/lib/withTheme.js"(){Joe()}}),eae,tae=F({"../node_modules/@rjsf/core/lib/index.js"(){Joe(),TKe(),Hoe(),eae=Koe}}),lD={};mo(lD,{default:()=>NKe});function NKe({editable:t,basicSetup:e,_extensions:n={},...r}){const s=nt().app.getAdminConfig().color_scheme,o=t?e:{...typeof e=="object"?e:{},highlightActiveLine:!1,highlightActiveLineGutter:!1},a=Object.entries(n??{}).map(([l,c])=>{switch(l){case"json":return dRe();case"liquid":return VIe(c)}}).filter(Boolean);return p.jsx(TY,{theme:s==="dark"?"dark":"light",editable:t,basicSetup:o,extensions:a,...r})}var nae=F({"src/ui/components/code/CodeEditor.tsx"(){Gt()}});function cD({editable:t,className:e,...n}){return p.jsx(S.Suspense,{fallback:null,children:p.jsx(rae,{className:Ie("flex w-full border border-muted",!t&&"opacity-70",e),editable:t,_extensions:{json:!0},...n})})}var rae,uD=F({"src/ui/components/code/JsonEditor.tsx"(){vt(),rae=S.lazy(()=>Promise.resolve().then(()=>(nae(),lD)))}});function nb(t){const{label:e,required:n,id:r}=t;return e?p.jsxs("label",{className:"control-label",htmlFor:r,children:[Y9e(e),n&&p.jsx("span",{className:"required",children:iae})]}):null}function AKe(t){const{id:e,label:n,children:r,errors:i,help:s,description:o,hidden:a,required:l,displayLabel:c,registry:u,uiSchema:d}=t,f=ft(d,u.globalUiOptions),h=ct("WrapIfAdditionalTemplate",u,f);return a?p.jsx("div",{className:"hidden",children:r}):p.jsxs(h,{...t,children:[p.jsxs("div",{className:"flex flex-col flex-grow gap-2 additional",children:[p.jsx("div",{className:Ie("flex flex-grow additional-children",f.flexDirection==="row"?"flex-row items-center gap-3":"flex-col flex-grow gap-2"),children:r}),c&&o?o:null]}),i,s]})}var iae,tm=F({"src/ui/components/form/json-schema/templates/FieldTemplate.tsx"(){Xe(),we(),vt(),iae="*"}});function RKe({formData:t,onChange:e,disabled:n,readonly:r,...i}){const s=JSON.stringify(t,null,2);function o(c){try{e(JSON.parse(c))}catch(u){console.error(u)}}const a=n||r,l=i.idSchema.$id;return p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx(nb,{label:i.name,id:l}),p.jsx(cD,{value:s,editable:!a,onChange:o})]})}var MKe=F({"src/ui/components/form/json-schema/fields/JsonField.tsx"(){uD(),tm()}});function dD({editable:t,...e}){return p.jsx(S.Suspense,{fallback:null,children:p.jsx(sae,{className:Ie("flex w-full border border-muted bg-white rounded-lg",!t&&"opacity-70"),editable:t,_extensions:{liquid:{filters:oae,tags:aae}},...e})})}var sae,oae,aae,fD=F({"src/ui/components/code/LiquidJsEditor.tsx"(){vt(),sae=S.lazy(()=>Promise.resolve().then(()=>(nae(),lD))),oae=[{label:"abs"},{label:"append"},{label:"array_to_sentence_string"},{label:"at_least"},{label:"at_most"},{label:"capitalize"},{label:"ceil"},{label:"cgi_escape"},{label:"compact"},{label:"concat"},{label:"date"},{label:"date_to_long_string"},{label:"date_to_rfc822"},{label:"date_to_string"},{label:"date_to_xmlschema"},{label:"default"},{label:"divided_by"},{label:"downcase"},{label:"escape"},{label:"escape_once"},{label:"find"},{label:"find_exp"},{label:"first"},{label:"floor"},{label:"group_by"},{label:"group_by_exp"},{label:"inspect"},{label:"join"},{label:"json"},{label:"jsonify"},{label:"last"},{label:"lstrip"},{label:"map"},{label:"minus"},{label:"modulo"},{label:"newline_to_br"},{label:"normalize_whitespace"},{label:"number_of_words"},{label:"plus"},{label:"pop"},{label:"push"},{label:"prepend"},{label:"raw"},{label:"remove"},{label:"remove_first"},{label:"remove_last"},{label:"replace"},{label:"replace_first"},{label:"replace_last"},{label:"reverse"},{label:"round"},{label:"rstrip"},{label:"shift"},{label:"size"},{label:"slice"},{label:"slugify"},{label:"sort"},{label:"sort_natural"},{label:"split"},{label:"strip"},{label:"strip_html"},{label:"strip_newlines"},{label:"sum"},{label:"times"},{label:"to_integer"},{label:"truncate"},{label:"truncatewords"},{label:"uniq"},{label:"unshift"},{label:"upcase"},{label:"uri_escape"},{label:"url_decode"},{label:"url_encode"},{label:"where"},{label:"where_exp"},{label:"xml_escape"}],aae=[{label:"assign"},{label:"capture"},{label:"case"},{label:"comment"},{label:"cycle"},{label:"decrement"},{label:"echo"},{label:"else"},{label:"elsif"},{label:"for"},{label:"if"},{label:"include"},{label:"increment"},{label:"layout"},{label:"liquid"},{label:"raw"},{label:"render"},{label:"tablerow"},{label:"unless"},{label:"when"}]}});function IKe({formData:t,onChange:e,disabled:n,readonly:r,...i}){function s(l){e(l)}const o=n||r,a=i.idSchema.$id;return p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx(nb,{label:i.name,id:a}),p.jsx(dD,{value:t,editable:!o,onChange:s})]})}var DKe=F({"src/ui/components/form/json-schema/fields/LiquidJsField.tsx"(){fD(),tm()}}),Bz,gN,QKe=F({"src/ui/components/form/json-schema/fields/MultiSchemaField.tsx"(){Xe(),vt(),tm(),Bz=class extends S.Component{constructor(e){super(e);J(this,"onOptionChange",e=>{const{selectedOption:n,retrievedOptions:r}=this.state,{formData:i,onChange:s,registry:o}=this.props;console.log("onOptionChange",{state:{selectedOption:n,retrievedOptions:r},option:e});const{schemaUtils:a}=o,l=e!==void 0?Number.parseInt(e,10):-1;if(l===n)return;const c=l>=0?r[l]:void 0,u=n>=0?r[n]:void 0;let d=a.sanitizeDataForNewSchema(c,u,i);d&&c&&(d=a.getDefaultFormState(c,d,"excludeObjectChildren")),s(d,void 0,this.getFieldId()),this.setState({selectedOption:l})});const{formData:n,options:r,registry:{schemaUtils:i}}=this.props,s=r.map(o=>i.retrieveSchema(o,n));this.state={retrievedOptions:s,selectedOption:this.getMatchingOption(0,n,s)}}componentDidUpdate(e,n){const{formData:r,options:i,idSchema:s}=this.props,{selectedOption:o}=this.state;let a=this.state;if(!Er(e.options,i)){const{registry:{schemaUtils:l}}=this.props,c=i.map(u=>l.retrieveSchema(u,r));a={selectedOption:o,retrievedOptions:c}}if(!Er(r,e.formData)&&s.$id===e.idSchema.$id){const{retrievedOptions:l}=a,c=this.getMatchingOption(o,r,l);n&&c!==o&&(a={selectedOption:c,retrievedOptions:l})}a!==this.state&&this.setState(a)}getMatchingOption(e,n,r){const{schema:i,registry:{schemaUtils:s}}=this.props,o=Rd(i);return s.getClosestMatchingOption(n,r,e,o)}getFieldId(){const{idSchema:e,schema:n}=this.props;return`${e.$id}${n.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:e,disabled:n=!1,errorSchema:r={},formContext:i,onBlur:s,onFocus:o,registry:a,schema:l,uiSchema:c,readonly:u}=this.props,{widgets:d,fields:f,translateString:h,globalUiOptions:m,schemaUtils:g}=a,{SchemaField:y}=f,{selectedOption:O,retrievedOptions:b}=this.state,{widget:x="select",placeholder:v,autofocus:w,autocomplete:_,title:$=l.title,flexDirection:k,wrap:j,...P}=ft(c,m),R=ta({type:"number"},x,d),N=$g(r,os,[]),A=to(r,[os]),C=g.getDisplayLabel(l,c,m),T=O>=0&&b[O]||null;let E;if(T){const{required:oe}=l;E=oe?la({required:oe},T):T}let I=[];gr in l&&c&&gr in c?Array.isArray(c[gr])?I=c[gr]:console.warn(`uiSchema.oneOf is not an array for "${$||e}"`):Xr in l&&c&&Xr in c&&(Array.isArray(c[Xr])?I=c[Xr]:console.warn(`uiSchema.anyOf is not an array for "${$||e}"`));let M=c;O>=0&&I.length>O&&(M=I[O]);const Q=$?Pt.TitleOptionPrefix:Pt.OptionPrefix,B=$?[$]:[],Z=b.map((oe,le)=>{const{title:U=oe.title}=ft(I[le]);return{label:U||h(Q,B.concat(String(le+1))),value:le}}),W=E&&p.jsx(y,{...this.props,schema:E,uiSchema:{...M,"ui:options":{...M==null?void 0:M["ui:options"],hideLabel:!0}}});return p.jsxs("div",{className:Ie("panel multischema flex",k==="row"?"flex-row gap-3":"flex-col gap-2"),children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center panel-select",children:[p.jsx(nb,{label:this.props.name,required:this.props.required,id:this.getFieldId()}),p.jsx(R,{id:this.getFieldId(),name:`${e}${l.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:s,onFocus:o,disabled:n||tfe(Z)||u,multiple:!1,rawErrors:N,errorSchema:A,value:O>=0?O:void 0,options:{enumOptions:Z,...P},registry:a,formContext:i,placeholder:v,autocomplete:_,autofocus:w,label:"",hideLabel:!C})]}),j?p.jsx("fieldset",{children:W}):W]})}},gN=Bz}}),lae,FKe=F({"src/ui/components/form/json-schema/fields/index.ts"(){MKe(),DKe(),QKe(),lae={AnyOfField:gN,OneOfField:gN,JsonField:RKe,LiquidJsField:IKe}}});function LKe(t){const{children:e,className:n,disabled:r,hasToolbar:i,hasMoveDown:s,hasMoveUp:o,hasRemove:a,hasCopy:l,index:c,onCopyIndexClick:u,onDropIndexClick:d,onReorderClick:f,readonly:h,registry:m,uiSchema:g}=t,{CopyButton:y,MoveDownButton:O,MoveUpButton:b,RemoveButton:x}=m.templates.ButtonTemplates;return p.jsxs("div",{className:Ie("flex flex-row w-full overflow-hidden",n),children:[i&&p.jsxs("div",{className:"flex flex-col gap-1 p-1 mr-2",children:[(o||s)&&p.jsx(b,{disabled:r||h||!o,onClick:f(c,c-1),uiSchema:g,registry:m}),(o||s)&&p.jsx(O,{disabled:r||h||!s,onClick:f(c,c+1),uiSchema:g,registry:m}),l&&p.jsx(y,{disabled:r||h,onClick:u(c),uiSchema:g,registry:m}),a&&p.jsx(x,{disabled:r||h,onClick:d(c),uiSchema:g,registry:m})]}),p.jsx("div",{className:"flex flex-col flex-grow",children:e})]})}var qKe=F({"src/ui/components/form/json-schema/templates/ArrayFieldItemTemplate.tsx"(){vt()}});function VKe(t){const{canAdd:e,className:n,disabled:r,idSchema:i,uiSchema:s,items:o,onAddClick:a,readonly:l,registry:c,required:u,schema:d,title:f}=t,h=ft(s),m=ct("ArrayFieldDescriptionTemplate",c,h),g=ct("ArrayFieldItemTemplate",c,h),y=ct("ArrayFieldTitleTemplate",c,h),{ButtonTemplates:{AddButton:O}}=c.templates;return p.jsxs("fieldset",{className:n,id:i.$id,children:[p.jsx(y,{idSchema:i,title:h.title||f,required:u,schema:d,uiSchema:s,registry:c}),p.jsx(m,{idSchema:i,description:h.description||d.description,schema:d,uiSchema:s,registry:c}),o&&o.length>0&&p.jsx("div",{className:"flex flex-col gap-3 array-items",children:o.map(({key:b,children:x,...v})=>{const w=S.cloneElement(x,{...x.props,name:void 0,title:void 0});return p.jsx(g,{...v,children:w},b)})}),e&&p.jsx(O,{className:"array-item-add",onClick:a,disabled:r||l,uiSchema:s,registry:c})]})}var BKe=F({"src/ui/components/form/json-schema/templates/ArrayFieldTemplate.tsx"(){Xe()}});function zKe(t){var R,N;const{id:e,name:n,value:r,readonly:i,disabled:s,autofocus:o,onBlur:a,onFocus:l,onChange:c,onChangeOverride:u,options:d,schema:f,uiSchema:h,formContext:m,registry:g,rawErrors:y,type:O,hideLabel:b,hideError:x,...v}=t;if(!e)throw console.log("No id for",t),new Error(`no id for props ${JSON.stringify(t)}`);const w={...v,...fse(f,O,d)};let _;w.type==="number"||w.type==="integer"?_=r||r===0?r:"":_=r??"";const $=S.useCallback(({target:{value:A}})=>c(A===""?d.emptyValue:A),[c,d]),k=S.useCallback(({target:A})=>a(e,A&&A.value),[a,e]),j=S.useCallback(({target:A})=>l(e,A&&A.value),[l,e]),P=!t.label||((R=h["ui:options"])==null?void 0:R.hideLabel)||((N=t.options)==null?void 0:N.hideLabel)||t.hideLabel;return p.jsxs(p.Fragment,{children:[!P&&p.jsx(nb,{label:t.label,required:t.required,id:e}),p.jsx("input",{id:e,name:e,className:"form-control",readOnly:i,disabled:s,autoFocus:o,value:_,...w,placeholder:t.label,list:f.examples?Ry(e):void 0,onChange:u||$,onBlur:k,onFocus:j,"aria-describedby":xo(e,!!f.examples)}),Array.isArray(f.examples)&&p.jsx("datalist",{id:Ry(e),children:f.examples.concat(f.default&&!f.examples.includes(f.default)?[f.default]:[]).map(A=>p.jsx("option",{value:A},A))},`datalist_${e}`)]})}var WKe=F({"src/ui/components/form/json-schema/templates/BaseInputTemplate.tsx"(){Xe(),tm()}}),cae={};mo(cae,{AddButton:()=>uae,MoveDownButton:()=>hae,MoveUpButton:()=>fae,RemoveButton:()=>dae});var uae,dae,fae,hae,UKe=F({"src/ui/components/form/json-schema/templates/ButtonTemplates.tsx"(){St(),wt(),Lt(),uae=({onClick:t,disabled:e,...n})=>p.jsx("div",{className:"flex flex-row",children:p.jsx(Ue,{onClick:t,disabled:e,IconLeft:JI,children:"Add"})}),dae=({onClick:t,disabled:e,...n})=>p.jsx("div",{className:"flex flex-row",children:p.jsx(lt,{onClick:t,disabled:e,Icon:Fne})}),fae=({onClick:t,disabled:e,...n})=>p.jsx("div",{className:"flex flex-row",children:p.jsx(lt,{onClick:t,disabled:e,Icon:HI})}),hae=({onClick:t,disabled:e,...n})=>p.jsx("div",{className:"flex flex-row",children:p.jsx(lt,{onClick:t,disabled:e,Icon:YI})})}});function ZKe(t){const{description:e,disabled:n,formData:r,idSchema:i,onAddClick:s,properties:o,readonly:a,registry:l,required:c,schema:u,title:d,uiSchema:f}=t,h=ft(f),m=ct("TitleFieldTemplate",l,h),g=ct("DescriptionFieldTemplate",l,h),y=mre(u,f,r);if(o.length===0&&!y)return null;const{ButtonTemplates:{AddButton:O}}=l.templates;return p.jsx(p.Fragment,{children:p.jsxs("fieldset",{id:i.$id,className:"object-field",children:[d&&p.jsx(m,{id:sD(i),title:d,required:c,schema:u,uiSchema:f,registry:l}),e&&p.jsx(g,{id:em(i),description:e,schema:u,uiSchema:f,registry:l}),o.map(b=>b.content),y&&p.jsx(O,{className:"object-property-expand",onClick:s(u),disabled:n||a,uiSchema:f,registry:l})]})})}var XKe=F({"src/ui/components/form/json-schema/templates/ObjectFieldTemplate.tsx"(){Xe()}});function YKe(t){const{id:e,title:n,required:r}=t;return p.jsx("legend",{id:e,className:"title-field",children:Ap(n)})}var GKe=F({"src/ui/components/form/json-schema/templates/TitleFieldTemplate.tsx"(){we()}});function HKe(t){const{id:e,classNames:n,style:r,disabled:i,label:s,onKeyChange:o,onDropPropertyClick:a,readonly:l,required:c,schema:u,children:d,uiSchema:f,registry:h}=t,{templates:m,translateString:g}=h,{RemoveButton:y}=m.ButtonTemplates;g(Pt.KeyLabel,[s]);const O=Vp in u,[b,x]=S.useState(!0);return O?p.jsx("div",{className:n,style:r,children:p.jsx("div",{className:"flex flex-col",children:p.jsxs("fieldset",{children:[p.jsxs("legend",{className:"flex flex-row justify-between gap-3",children:[p.jsx(y,{className:"array-item-remove btn-block",style:{border:"0"},disabled:i||l,onClick:a(s),uiSchema:f,registry:h}),p.jsx("div",{className:"form-group",children:p.jsx("input",{className:"form-control",type:"text",id:`${e}-key`,onBlur:v=>o(v.target.value),defaultValue:s})}),p.jsx("button",{onClick:()=>x(v=>!v),children:b?"collapse":"expand"})]}),b&&p.jsx("div",{className:"form-additional additional-start form-group",children:d})]})})}):p.jsx("div",{className:n,style:r,children:d})}var KKe=F({"src/ui/components/form/json-schema/templates/WrapIfAdditionalTemplate.tsx"(){Xe()}}),pae,JKe=F({"src/ui/components/form/json-schema/templates/index.ts"(){qKe(),BKe(),WKe(),UKe(),tm(),XKe(),GKe(),KKe(),pae={ButtonTemplates:cae,ArrayFieldItemTemplate:LKe,ArrayFieldTemplate:VKe,FieldTemplate:AKe,TitleFieldTemplate:YKe,ObjectFieldTemplate:ZKe,BaseInputTemplate:zKe,WrapIfAdditionalTemplate:HKe}}});function p_(t){return t.map(e=>nh(e))}function eJe(t){return t.map(e=>X0(e))}function tJe(t){return r9(p_(t.allOf),t)}function nJe(t){return op(p_(t.anyOf),t)}function rJe(t){return op(p_(t.oneOf),t)}function iJe(t){return op(eJe(t.enum))}function sJe(t){return i9(p_(t.items),t)}function oJe(t){return s9(nh(t.items),t)}function aJe(t){return X0(t.const,t)}function lJe(t){const e=globalThis.Object.getOwnPropertyNames(t.properties).reduce((n,r)=>({...n,[r]:t.required&&t.required.includes(r)?nh(t.properties[r]):o9(nh(t.properties[r]))}),{});return"additionalProperties"in t?rC(e,{additionalProperties:nh(t.additionalProperties)}):rC(e,t)}function nh(t){return gae(t)?tJe(t):yae(t)?nJe(t):Oae(t)?rJe(t):mae(t)?iJe(t):Pae(t)?lJe(t):bae(t)?sJe(t):xae(t)?oJe(t):vae(t)?aJe(t):wae(t)?GW(t):Sae(t)?HW(t):_ae(t)?KW(t):$ae(t)?JW(t):kae(t)?e9(t):t9(t||{})}var Ea,zz,mae,gae,yae,Oae,bae,xae,vae,wae,Sae,_ae,$ae,kae,Wz,Pae,cJe=F({"src/ui/components/form/json-schema/typebox/from-schema.ts"(){Ea=(t,e)=>t===e,zz=t=>Qv(t)||a9(t)||l9(t),mae=t=>xt(t)&&si(t.enum)&&t.enum.every(e=>zz(e)),gae=t=>xt(t)&&si(t.allOf),yae=t=>xt(t)&&si(t.anyOf),Oae=t=>xt(t)&&si(t.oneOf),bae=t=>xt(t)&&Ea(t.type,"array")&&si(t.items),xae=t=>xt(t)&&Ea(t.type,"array")&&!si(t.items)&&xt(t.items),vae=t=>xt(t)&&xt(t.const),wae=t=>xt(t)&&Ea(t.type,"string"),Sae=t=>xt(t)&&Ea(t.type,"number"),_ae=t=>xt(t)&&Ea(t.type,"integer"),$ae=t=>xt(t)&&Ea(t.type,"boolean"),kae=t=>xt(t)&&Ea(t.type,"null"),Wz=t=>xt(t),Pae=t=>xt(t)&&Ea(t.type,"object")&&Wz(t.properties)&&(t.required===void 0||si(t.required)&&t.required.every(e=>Qv(e)))}}),Uz,Cae,uJe=F({"src/ui/components/form/json-schema/typebox/RJSFTypeboxValidator.ts"(){we(),cJe(),Xe(),Uz=!0,Cae=class{rawValidation(t,e){if(!Uz)return{errors:[],validationError:null};const n=nh(t);return ll(n,e)?{errors:[],validationError:null}:{errors:[...vh(n,e)],validationError:null}}validateFormData(t,e,n,r,i){const{errors:s}=this.rawValidation(e,t),o=s.map(a=>{const l=a.path.substring(1).split("/").join(".");return{name:"any",message:a.message,property:"."+l,schemaPath:a.path,stack:a.message}});return{errors:o,errorSchema:lGe(o)}}isValid(t,e,n){return this.rawValidation(t,e).errors.length===0}toErrorList(){return[]}}}});function dJe({schema:t,uiSchema:e,options:n,id:r,value:i,disabled:s,readonly:o,label:a,hideLabel:l,autofocus:c=!1,onBlur:u,onFocus:d,onChange:f,registry:h,...m}){const g=S.useCallback(y=>f(y.target.checked),[f]);return p.jsx(fo,{id:r,onChange:g,defaultChecked:i,disabled:s||o,label:a.toLowerCase()===m.name.toLowerCase()?void 0:a})}var fJe=F({"src/ui/components/form/json-schema/widgets/CheckboxWidget.tsx"(){}});function hJe({id:t,disabled:e,options:{inline:n=!1,enumOptions:r,enumDisabled:i,emptyValue:s},value:o,autofocus:a=!1,readonly:l,onChange:c,onBlur:u,onFocus:d}){const f=Array.isArray(o)?o:[o],h=S.useCallback(({target:g})=>u(t,Or(g==null?void 0:g.value,r,s)),[u,t]),m=S.useCallback(({target:g})=>d(t,Or(g==null?void 0:g.value,r,s)),[d,t]);return p.jsx("div",{className:"checkboxes",id:t,children:Array.isArray(r)&&r.map((g,y)=>{const O=KO(g.value,f),b=Array.isArray(i)&&i.indexOf(g.value)!==-1,x=e||b||l?"disabled":"",v=_=>{_.target.checked?c(ase(y,f,r)):c(rse(y,f,r))},w=p.jsxs("span",{children:[p.jsx("input",{type:"checkbox",id:u_(t,y),name:t,checked:O,value:String(y),disabled:e||b||l,autoFocus:a&&y===0,onChange:v,onBlur:h,onFocus:m,"aria-describedby":xo(t)}),p.jsx("span",{children:g.label})]});return n?p.jsx("label",{className:`checkbox-inline ${x}`,children:w},y):p.jsx("div",{className:`checkbox ${x}`,children:p.jsx("label",{children:w})},y)})})}var jae,pJe=F({"src/ui/components/form/json-schema/widgets/CheckboxesWidget.tsx"(){Xe(),jae=hJe}});function mJe({value:t,onChange:e,disabled:n,readonly:r,...i}){const[s,o]=S.useState(JSON.stringify(t,null,2));function a(l){o(l.target.value);try{e(JSON.parse(l.target.value))}catch(c){console.error(c)}}return p.jsx("textarea",{value:s,rows:10,disabled:n||r,onChange:a})}var gJe=F({"src/ui/components/form/json-schema/widgets/JsonWidget.tsx"(){}});function yJe({options:t,value:e,required:n,disabled:r,readonly:i,autofocus:s=!1,onBlur:o,onFocus:a,onChange:l,id:c}){const{enumOptions:u,enumDisabled:d,inline:f,emptyValue:h}=t,m=S.useCallback(({target:{value:y}})=>o(c,Or(y,u,h)),[o,c]),g=S.useCallback(({target:{value:y}})=>a(c,Or(y,u,h)),[a,c]);return p.jsx("div",{className:"field-radio-group",id:c,children:Array.isArray(u)&&u.map((y,O)=>{const b=KO(y.value,e),x=Array.isArray(d)&&d.indexOf(y.value)!==-1,v=r||x||i?"disabled":"",w=()=>l(y.value),_=p.jsxs("span",{children:[p.jsx("input",{type:"radio",id:u_(c,O),checked:b,name:c,required:n,value:String(O),disabled:r||x||i,autoFocus:s&&O===0,onChange:w,onBlur:m,onFocus:g,"aria-describedby":xo(c)}),p.jsx("span",{children:y.label})]});return f?p.jsx("label",{className:`radio-inline ${b?"checked":""} ${v}`,children:_},O):p.jsx("div",{className:`radio ${b?"checked":""} ${v}`,children:p.jsx("label",{children:_})},O)})})}var Eae,OJe=F({"src/ui/components/form/json-schema/widgets/RadioWidget.tsx"(){Xe(),Eae=yJe}});function FP(t,e){return e?Array.from(t.target.options).slice().filter(n=>n.selected).map(n=>n.value):t.target.value}function bJe({schema:t,id:e,options:n,value:r,required:i,disabled:s,readonly:o,multiple:a=!1,autofocus:l=!1,onChange:c,onBlur:u,onFocus:d,placeholder:f}){const{enumOptions:h,enumDisabled:m,emptyValue:g}=n,y=a?[]:"",O=S.useCallback(_=>{const $=FP(_,a);return d(e,Or($,h,g))},[d,e,t,a,h,g]),b=S.useCallback(_=>{const $=FP(_,a);return u(e,Or($,h,g))},[u,e,t,a,h,g]),x=S.useCallback(_=>{const $=FP(_,a);return c(Or($,h,g))},[c,t,a,h,g]),v=sse(r,h,a),w=!a&&t.default===void 0;return p.jsxs("select",{id:e,name:e,multiple:a,className:"form-control",value:typeof v>"u"?y:v,required:i,disabled:s||o,autoFocus:l,onBlur:b,onFocus:O,onChange:x,"aria-describedby":xo(e),children:[w&&p.jsx("option",{value:"",children:f}),Array.isArray(h)&&h.map(({value:_,label:$},k)=>{const j=m&&m.indexOf(_)!==-1;return p.jsx("option",{value:String(k),disabled:j,children:$},k)})]})}var Tae,xJe=F({"src/ui/components/form/json-schema/widgets/SelectWidget.tsx"(){Xe(),Tae=bJe}}),Mm,Nae,vJe=F({"src/ui/components/form/json-schema/widgets/index.tsx"(){tm(),fJe(),pJe(),gJe(),OJe(),xJe(),Mm=(t,e)=>n=>{var i,s;const r=!n.label||((i=n.uiSchema["ui:options"])==null?void 0:i.hideLabel)||((s=n.options)==null?void 0:s.hideLabel)||n.hideLabel;return p.jsxs(p.Fragment,{children:[!r&&p.jsx(nb,{label:n.label,required:n.required,id:n.id}),p.jsx(t,{...n})]})},Nae={RadioWidget:Eae,CheckboxWidget:Mm(dJe),SelectWidget:Mm(Tae,"select"),CheckboxesWidget:Mm(jae),JsonWidget:Mm(mJe)}}}),Aae={};mo(Aae,{JsonSchemaForm:()=>Rae});var LP,Rae,wJe=F({"src/ui/components/form/json-schema/JsonSchemaForm.tsx"(){tae(),FKe(),JKe(),uJe(),vJe(),LP=new Cae,Rae=S.forwardRef(({className:t,direction:e="vertical",schema:n,onChange:r,uiSchema:i,templates:s,fields:o,widgets:a,...l},c)=>{const u=S.useRef(null),d=S.useId(),[f,h]=S.useState(l.formData),m=({formData:w},_)=>{var $;return _.preventDefault(),console.log("Data submitted: ",w),($=l.onSubmit)==null||$.call(l,w),!1},g=({formData:w},_)=>{const $=JSON.parse(JSON.stringify(w));h($),r==null||r($,()=>y($))},y=w=>LP.validateFormData(w,n).errors.length===0;S.useImperativeHandle(c,()=>({formData:()=>f,validateForm:()=>u.current.validateForm(),silentValidate:()=>y(f),cancel:()=>u.current.reset()}),[f]);const O={...i,"ui:globalOptions":{...i==null?void 0:i["ui:globalOptions"],enableMarkdownInDescription:!0},"ui:submitButtonOptions":{norender:!0}},b={...lae,...o},x={...pae,...s},v={...Nae,...a};return p.jsx(eae,{tagName:"div",idSeparator:"--",idPrefix:d,...l,ref:u,className:["json-form",e,t].join(" "),showErrorList:!1,schema:n,fields:b,templates:x,widgets:v,uiSchema:O,onChange:g,onSubmit:m,validator:LP})})}}),Zz,Ts,vo=F({"src/ui/components/form/json-schema/index.tsx"(){Zz=S.lazy(()=>Promise.resolve().then(()=>(wJe(),Aae)).then(t=>({default:t.JsonSchemaForm}))),Ts=S.forwardRef((t,e)=>p.jsx(S.Suspense,{children:p.jsx(Zz,{ref:e,...t})}))}}),wr,Ml=F({"src/ui/components/display/Empty.tsx"(){vt(),wt(),wr=({Icon:t=void 0,title:e=void 0,description:n="Check back later my friend.",primary:r,secondary:i,className:s})=>p.jsx("div",{className:Ie("flex flex-col h-full w-full justify-center items-center",s),children:p.jsxs("div",{className:"flex flex-col gap-3 items-center max-w-80",children:[t&&p.jsx(t,{size:48,className:"opacity-50",stroke:1}),p.jsxs("div",{className:"flex flex-col gap-1",children:[e&&p.jsx("h3",{className:"text-center text-lg font-bold",children:e}),p.jsx("p",{className:"text-center text-primary/60",children:n})]}),p.jsxs("div",{className:"mt-1.5 flex flex-row gap-2",children:[i&&p.jsx(Ue,{variant:"default",...i}),r&&p.jsx(Ue,{variant:"primary",...r})]})]})})}}),Mae,SJe=F({"src/ui/components/form/Formy/BooleanInputMantine.tsx"(){Mae=S.forwardRef((t,e)=>{const[n,r]=S.useState(!!t.value);S.useEffect(()=>{r(!!t.value)},[t.value]);function i(s){var o;r(s.target.checked),(o=t.onChange)==null||o.call(t,s.target.checked)}return p.jsx("div",{className:"flex flex-row",children:p.jsx(fo,{ref:e,checked:n,onChange:i,disabled:t.disabled,id:t.id})})})}}),us,yl,m_,Ol,Iae,Dae,hD,yN=F({"src/ui/components/form/Formy/components.tsx"(){we(),St(),vt(),Lt(),Xi(),us=({error:t,...e})=>p.jsx("div",{...e,className:Ie("flex flex-col gap-1.5",t&&"text-red-500",e.className)}),yl=t=>p.jsx("label",{...t}),m_=({field:t,...e})=>{const n=t.getDescription();return p.jsxs(yl,{...e,title:n,className:"flex flex-row gap-2 items-center",children:[t.getLabel(),n&&p.jsx(u7e,{className:"opacity-50"})]})},Ol=S.forwardRef((t,e)=>{const n=t.disabled||t.readOnly;return p.jsx("input",{type:"text",...t,ref:e,className:Ie("bg-muted/40 h-11 rounded-md py-2.5 px-4 outline-none",n&&"bg-muted/50 text-primary/50",!n&&"focus:bg-muted focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all",t.className)})}),Iae=S.forwardRef((t,e)=>p.jsx("textarea",{rows:3,...t,ref:e,className:Ie("bg-muted/40 min-h-11 rounded-md py-2.5 px-4 focus:bg-muted outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all disabled:bg-muted/50 disabled:text-primary/50",t.className)})),Dae=S.forwardRef((t,e)=>{const n=S.useRef(null),r=e6e();S.useImperativeHandle(e,()=>n.current);const i=Wt(()=>{n!=null&&n.current&&(n.current.focus(),["Safari"].includes(r)?n.current.click():n.current.showPicker())});return p.jsxs("div",{className:"relative w-full",children:[p.jsx("div",{className:"absolute h-full right-3 top-0 bottom-0 flex items-center",children:p.jsx(lt,{Icon:Nne,onClick:i})}),p.jsx(Ol,{...t,type:t.type??"date",ref:n,className:"w-full appearance-none"})]})}),S.forwardRef((t,e)=>{const[n,r]=S.useState(!!t.value);S.useEffect(()=>{r(!!t.value)},[t.value]);function i(s){var o;r(s.target.checked),(o=t.onChange)==null||o.call(t,s.target.checked)}return p.jsx("div",{className:"h-11 flex items-center",children:p.jsx("input",{...t,type:"checkbox",ref:e,className:"outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500  transition-all disabled:opacity-70 scale-150 ml-1",checked:n,onChange:i,disabled:t.disabled})})}),hD=S.forwardRef((t,e)=>p.jsxs("div",{className:"flex w-full relative",children:[p.jsx("select",{...t,ref:e,className:Ie("bg-muted/40 focus:bg-muted rounded-md py-2.5 px-4 outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all disabled:bg-muted/50 disabled:text-primary/50","appearance-none h-11 w-full","border-r-8 border-r-transparent",t.className)}),p.jsx(e7e,{className:"absolute right-3 top-0 bottom-0 h-full opacity-70",size:18})]}))}}),Qae,cu=F({"src/ui/components/form/Formy/index.ts"(){SJe(),yN(),yN(),Qae=(t,e)=>{switch(t){case"date":return Dae;case"boolean":return Mae;case"textarea":return Iae;default:return Ol}}}});function pD({open:t=!1,children:e,onClose:n=()=>null,allowBackdropClose:r=!0,className:i,stickToTop:s}){const o=g1(()=>{r&&n()});return p.jsx(p.Fragment,{children:t&&p.jsx("div",{className:Ie("w-full h-full fixed bottom-0 top-0 right-0 left-0 bg-background/60 flex justify-center backdrop-blur-sm z-10",s?"items-start":"items-center"),children:p.jsx("div",{className:Ie("z-20 flex flex-col bg-background rounded-lg shadow-lg",i),ref:o,children:e})})})}var mD=F({"src/ui/components/overlay/Modal.tsx"(){en(),vt()}}),nm,qP,Xz,VP,BP,rb=F({"src/ui/layouts/AppShell/Breadcrumbs2.tsx"(){St(),wn(),Lt(),Jr(),Xi(),nm=({path:t,backTo:e,onBack:n})=>{const[r,i]=xs(),s=window.location.pathname,o=Array.isArray(t)?t:[t],a=s.split("/").filter(d=>d!==""),l=o.length>1,c=n||Wt(()=>{var f;if(e){i(e,{replace:!0});return}else if(t.length>0&&((f=t[0])!=null&&f.href)){i(t[0].href,{replace:!0});return}const d=a.slice(0,o.length+1).join("/");i(`~/${d}`,{replace:!0})}),u=S.useMemo(()=>o.map((d,f)=>({last:f===o.length-1,...d})),[o]);return p.jsxs("div",{className:"flex flex-row flex-grow items-center gap-2 text-lg",children:[l&&p.jsx(lt,{onClick:c,Icon:GI,variant:"default",size:"lg",className:"mr-1"}),p.jsx("div",{className:"hidden md:flex gap-1.5",children:p.jsx(qP,{crumbs:u})}),p.jsx("div",{className:"flex md:hidden gap-2",children:p.jsx(Xz,{crumbs:u})})]})},qP=({crumbs:t})=>t.map((e,n)=>e.last?p.jsx(VP,{...e},n):p.jsx(BP,{...e},n)),Xz=({crumbs:t})=>{const[,e]=xs();if(t.length<=2)return p.jsx(qP,{crumbs:t});const n=t[0],r=t[t.length-1],i=S.useMemo(()=>t.slice(1,-1).map(o=>({label:o.string,href:o.href})),[t]),s=Wt(o=>e(`~/${o.href}`));return p.jsxs(p.Fragment,{children:[p.jsx(BP,{...n}),p.jsx(vr,{onClickItem:s,items:i,children:p.jsx(lt,{Icon:jl,variant:"ghost"})}),p.jsx("span",{className:"opacity-25 dark:font-bold font-semibold",children:"/"}),p.jsx(VP,{...r})]})},VP=({label:t})=>p.jsx("span",{className:"text-nowrap dark:font-bold font-semibold",children:t}),BP=({href:t,label:e})=>p.jsxs("div",{className:"opacity-50 flex flex-row gap-1.5 dark:font-bold font-semibold",children:[p.jsx(DO,{to:t,className:"text-nowrap",children:e}),p.jsx("span",{className:"opacity-50",children:"/"})]})}}),Fae,_Je=F({"src/ui/elements/hooks/use-auth.ts"(){Dr(),Fae=t=>{const[e,n]=S.useState(),r=oa(t==null?void 0:t.baseUrl);return S.useEffect(()=>{(async()=>{const i=await r.auth.strategies();i.res.ok&&n(i.body)})()},[t==null?void 0:t.baseUrl]),{strategies:e==null?void 0:e.strategies,basepath:e==null?void 0:e.basepath,loading:!e}}}});function Lae(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Lae(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $Je(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Lae(t))&&(r&&(r+=" "),r+=e);return r}var qae,kJe=F({"../node_modules/clsx/dist/clsx.mjs"(){qae=$Je}});function Vae({label:t,provider:e,icon:n,action:r,method:i="POST",basepath:s="/api/auth",children:o}){return p.jsxs("form",{method:i,action:[s,name,r].join("/"),className:"w-full",children:[p.jsxs(Ue,{type:"submit",size:"large",variant:"outline",className:"justify-center w-full",children:["Continue with ",t??Ap(e)]}),o]})}var Bae=F({"src/ui/elements/auth/SocialLink.tsx"(){we(),wt()}});function zae({formData:t,className:e,method:n="POST",action:r,auth:i,buttonLabel:s=r==="login"?"Sign in":"Sign up",...o}){var d,f;const a=(i==null?void 0:i.basepath)??"/api/auth",l={action:`${a}/password/${r}`,strategy:((d=i==null?void 0:i.strategies)==null?void 0:d.password)??{type:"password"}},c=ns((i==null?void 0:i.strategies)??{},(h,m,g)=>{m.type!=="password"&&(h[g]=m.config)},{}),u=Object.keys(c).length>0;return p.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[u&&p.jsxs(p.Fragment,{children:[p.jsx("div",{children:(f=Object.entries(c))==null?void 0:f.map(([h,m],g)=>p.jsx(Vae,{provider:h,method:n,basepath:a,action:r},g))}),p.jsx(Zae,{})]}),p.jsx(XW,{method:n,action:l.action,...o,schema:Uae,validator:Wae,validationMode:"change",className:qae("flex flex-col gap-3 w-full",e),children:({errors:h,submitting:m})=>p.jsxs(p.Fragment,{children:[p.jsxs(us,{children:[p.jsx(yl,{htmlFor:"email",children:"Email address"}),p.jsx(Ol,{type:"email",name:"email"})]}),p.jsxs(us,{children:[p.jsx(yl,{htmlFor:"password",children:"Password"}),p.jsx(Ol,{type:"password",name:"password"})]}),p.jsx(Ue,{type:"submit",variant:"primary",size:"large",className:"w-full mt-2 justify-center",disabled:h.length>0||m,children:s})]})})]})}var Yz,Wae,Uae,Zae,Xae=F({"src/ui/elements/auth/AuthForm.tsx"(){kJe(),we(),wt(),yN(),Bae(),Yz=class{async validate(t,e){return G0(t,e)?[]:[...Zy(t,e)]}},Wae=new Yz,Uae=D.Object({email:D.String({pattern:"^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$"}),password:D.String({minLength:8})}),Zae=()=>p.jsxs("div",{className:"w-full flex flex-row items-center",children:[p.jsx("div",{className:"relative flex grow",children:p.jsx("div",{className:"h-px bg-primary/10 w-full absolute top-[50%] z-0"})}),p.jsx("div",{className:"mx-5",children:"or"}),p.jsx("div",{className:"relative flex grow",children:p.jsx("div",{className:"h-px bg-primary/10 w-full absolute top-[50%] z-0"})})]})}});function PJe({method:t="POST",action:e="login",logo:n,intro:r,formOnly:i}){const{strategies:s,basepath:o,loading:a}=Fae(),l=p.jsx(zae,{auth:{basepath:o,strategies:s},method:t,action:e});return i?a?null:l:p.jsx("div",{className:"flex flex-1 flex-col select-none h-dvh w-dvw justify-center items-center bknd-admin",children:!a&&p.jsxs("div",{className:"flex flex-col gap-4 items-center w-96 px-6 py-7",children:[n||null,typeof r<"u"?r:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("h1",{className:"text-xl font-bold",children:"Sign in to your admin panel"}),p.jsx("p",{className:"text-primary/50",children:"Enter your credentials below to get access."})]}),l]})})}var CJe=F({"src/ui/elements/auth/AuthScreen.tsx"(){_Je(),Xae()}}),Yae,jJe=F({"src/ui/elements/auth/index.ts"(){Xae(),CJe(),Bae(),Yae={Screen:PJe,Form:zae,SocialLink:Vae}}});function ib(t,e){const n=EJe(t);if(typeof n.path!="string"){const{webkitRelativePath:r}=t;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function EJe(t){const{name:e}=t,n=e&&e.lastIndexOf(".")!==-1;if(console.log("withMimeType",e,n),n&&!t.type){const r=FUe(e);console.log("guessed",r),r&&Object.defineProperty(t,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return t}async function Nx(t){return T0(t)&&TJe(t.dataTransfer)?MJe(t.dataTransfer,t.type):NJe(t)?AJe(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?RJe(t):[]}function TJe(t){return T0(t)}function NJe(t){return T0(t)&&T0(t.target)}function T0(t){return typeof t=="object"&&t!==null}function AJe(t){return ON(t.target.files).map(e=>ib(e))}async function RJe(t){return(await Promise.all(t.map(n=>n.getFile()))).map(n=>ib(n))}async function MJe(t,e){if(t.items){const n=ON(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=await Promise.all(n.map(IJe));return Gz(Gae(r))}return Gz(ON(t.files).map(n=>ib(n)))}function Gz(t){return t.filter(e=>Kae.indexOf(e.name)===-1)}function ON(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function IJe(t){if(typeof t.webkitGetAsEntry!="function")return Hz(t);const e=t.webkitGetAsEntry();return e!=null&&e.isDirectory?Hae(e):Hz(t)}function Gae(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?Gae(n):[n]],[])}function Hz(t){const e=t.getAsFile();if(!e)return Promise.reject(`${t} is not a File`);const n=ib(e);return Promise.resolve(n)}async function DJe(t){return t.isDirectory?Hae(t):QJe(t)}function Hae(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(async o=>{if(o.length){const a=Promise.all(o.map(DJe));i.push(a),s()}else try{const a=await Promise.all(i);n(a)}catch(a){r(a)}},o=>{r(o)})}s()})}async function QJe(t){return new Promise((e,n)=>{t.file(r=>{const i=ib(r,t.fullPath);e(i)},r=>{n(r)})})}var Kae,FJe=F({"src/ui/elements/media/file-selector.ts"(){LUe(),Kae=[".DS_Store","Thumbs.db"]}});function LJe({onDropped:t,onOver:e,onLeave:n}){const[r,i]=S.useState(!1),s=S.useRef(null),o=S.useRef(!1),a=S.useCallback(d=>{d.preventDefault(),d.stopPropagation()},[]),l=S.useCallback(async d=>{const f=Av.enter.includes(d.type);e&&f!==r&&!o.current&&(e(await Nx(d)),o.current=!0),i(f),f===!1&&o.current&&(o.current=!1,n==null||n())},[]),c=S.useCallback(async d=>{const f=await Nx(d);t==null||t(f),o.current=!1},[t]),u=S.useCallback(async d=>{const f=await Nx(d);t==null||t(f)},[t]);return S.useEffect(()=>{const d=s.current;return bN.forEach(f=>{d.addEventListener(f,a),d.addEventListener(f,l)}),d.addEventListener("drop",c),()=>{bN.forEach(f=>{d.removeEventListener(f,a),d.removeEventListener(f,l)}),d.removeEventListener("drop",c)}},[]),{ref:s,isOver:r,fromEvent:Nx,onDropped:t,handleFileInputChange:u}}var Av,bN,qJe=F({"src/ui/elements/media/use-dropzone.ts"(){FJe(),Av={enter:["dragenter","dragover","dragstart"],leave:["dragleave","drop"]},bN=[...Av.enter,...Av.leave]}});function VJe({getUploadInfo:t,handleDelete:e,initialItems:n=[],maxItems:r,overwrite:i,autoUpload:s,placeholder:o,onRejected:a,onDeleted:l,onUploaded:c,children:u}){const[d,f]=S.useState(n),[h,m]=S.useState(!1),g=S.useRef(null),[y,O]=S.useState(!1);function b(C){if(!r)return console.log("maxItems is undefined, never reached"),!1;const T=d.length,E=r-T;return console.log("isMaxReached",{added:C,current:T,remaining:E,maxItems:r,overwrite:i}),i?(console.log("added > maxItems, stop?",C>r),C>r):(console.log("remaining > added, stop?",E>C),C>E)}const{isOver:x,handleFileInputChange:v,ref:w}=LJe({onDropped:C=>{let T=0;const E=C.length;if(r){if(b(E)){a?a(C):console.warn("maxItems reached");return}T=E}console.log("files",C,{to_drop:T}),f(I=>{const M=I.slice(T),Q=M.map(Z=>Z.path),B=C.filter(Z=>Z.path&&!Q.includes(Z.path)).map(Z=>({body:Z,path:Z.path,name:Z.name,size:Z.size,type:Z.type,state:"pending",progress:0}));return[...M,...B]}),s&&m(!0)},onOver:C=>{const T=b(C.length);O(!T)},onLeave:()=>{O(!1)}});S.useEffect(()=>{console.log("files updated")},[d]),S.useEffect(()=>{h&&(async()=>{const C=d.filter(T=>T.state==="pending");if(C.length===0){m(!1);return}else for(const T of C)await j(T)})()},[h]);function _(C,T,E){f(I=>I.map(M=>M.path===C?{...M,state:T,progress:E??M.progress}:M))}function $(C,T){f(E=>E.map(I=>I.path===C?{...I,...T}:I))}function k(C){f(T=>T.filter(E=>E.path!==C))}function j(C){return new Promise((T,E)=>{if(C.body){if(C.state!=="pending"){console.error("File is not pending"),E();return}else if(!(C.body instanceof File)){console.error("File body is not a File instance"),E();return}}else{console.error("File has no body"),E();return}const I=t(C.body);console.log("dropzone:uploadInfo",I);const{url:M,headers:Q,method:B="POST"}=I,Z=new FormData;Z.append("file",C.body);const W=new XMLHttpRequest;console.log("xhr:url",M);const oe=new URLSearchParams;i&&oe.append("overwrite","1"),W.open(B,String(M)+"?"+String(oe),!0),Q&&Q.forEach((le,U)=>{W.setRequestHeader(U,le)}),W.upload.addEventListener("progress",le=>{if(console.log("progress",le.loaded,le.total),le.lengthComputable){_(C.path,"uploading",le.loaded/le.total);const U=le.loaded/le.total*100;console.log(`Progress: ${U.toFixed(2)}%`)}else console.log("Unable to compute progress information since the total size is unknown")}),W.onload=()=>{if(console.log("onload",C.path,W.status),W.status===200){console.log("Upload complete"),c==null||c(C);try{const le=JSON.parse(W.responseText);console.log("Response:",C,le),console.log("New state",le.state),$(C.path,{...le.state,progress:1,state:"uploaded"})}catch(le){_(C.path,"uploaded",1),console.error("Error parsing response",le)}T()}else _(C.path,"failed",1),console.error("Upload failed with status: ",W.status),E()},W.onerror=()=>{console.error("Error during the upload process.")},W.onloadstart=()=>{_(C.path,"uploading",0),console.log("loadstart")},W.setRequestHeader("Accept","application/json"),W.send(Z)})}async function P(C){switch(console.log("deleteFile",C),C.state){case"uploaded":case"initial":window.confirm("Are you sure you want to delete this file?")&&(console.log('setting state to "deleting"',C),_(C.path,"deleting"),await e(C),k(C.path),l==null||l(C));break}}const R=()=>{var C;return(C=g.current)==null?void 0:C.click()},N=!!((o==null?void 0:o.show)===!0||!r||r&&d.length<r),A={wrapperRef:w,inputProps:{ref:g,type:"file",multiple:!r||r>1,onChange:v},state:{files:d,isOver:x,isOverAccepted:y,showPlaceholder:N},actions:{uploadFile:j,deleteFile:P,openFileInput:R},dropzoneProps:{maxItems:r,placeholder:o,autoUpload:s}};return u?u(A):p.jsx(Jae,{...A})}var Jae,Kz,Jz,xN,eW,tW,nW,rW,ele=F({"src/ui/elements/media/Dropzone.tsx"(){St(),vt(),Lt(),Jr(),qJe(),Jae=({wrapperRef:t,inputProps:e,state:{files:n,isOver:r,isOverAccepted:i,showPlaceholder:s},actions:{uploadFile:o,deleteFile:a,openFileInput:l},dropzoneProps:{placeholder:c}})=>p.jsxs("div",{ref:t,className:Ie("dropzone w-full h-full align-start flex flex-col select-none",r&&i&&"bg-green-200/10",r&&!i&&"bg-red-200/40 cursor-not-allowed"),children:[p.jsx("div",{className:"hidden",children:p.jsx("input",{...e})}),p.jsx("div",{className:"flex flex-1 flex-col",children:p.jsxs("div",{className:"flex flex-row flex-wrap gap-2 md:gap-3",children:[n.map(u=>p.jsx(eW,{file:u,handleUpload:o,handleDelete:a},u.path)),s&&p.jsx(Kz,{onClick:l,text:c==null?void 0:c.text})]})})]}),Kz=({onClick:t,text:e="Upload files"})=>p.jsx("div",{className:"w-[49%] aspect-[1/0.9] md:w-60 flex flex-col border-2 border-dashed border-muted relative justify-center items-center text-primary/30 hover:border-primary/30 hover:text-primary/50 hover:cursor-pointer hover:bg-muted/20 transition-colors duration-200",onClick:t,children:p.jsx("span",{className:"",children:e})}),Jz=({file:t,fallback:e,...n})=>t.type.startsWith("image/")?p.jsx(tW,{...n,file:t}):t.type.startsWith("video/")?p.jsx(nW,{...n,file:t}):e?e({file:t}):null,xN=S.memo(Jz,(t,e)=>t.file.path===e.file.path),eW=({file:t,handleUpload:e,handleDelete:n})=>{const r=[["initial","uploaded"].includes(t.state)&&{label:"Delete",onClick:()=>n(t)},["initial","pending"].includes(t.state)&&{label:"Upload",onClick:()=>e(t)}];return p.jsxs("div",{className:Ie("w-[49%] md:w-60 flex flex-col border border-muted relative",t.state==="deleting"&&"opacity-70"),children:[p.jsx("div",{className:"absolute top-2 right-2",children:p.jsx(vr,{items:r,position:"bottom-end",children:p.jsx(lt,{Icon:jl})})}),t.state==="uploading"&&p.jsx("div",{className:"absolute w-full top-0 left-0 right-0 h-1",children:p.jsx("div",{className:"bg-blue-600 h-1 transition-all duration-75",style:{width:(t.progress*100).toFixed(0)+"%"}})}),p.jsx("div",{className:"flex bg-primary/5 aspect-[1/0.8] overflow-hidden items-center justify-center",children:p.jsx(xN,{file:t,fallback:rW,className:"max-w-full max-h-full"})}),p.jsxs("div",{className:"flex flex-col px-1.5 py-1",children:[p.jsx("p",{className:"truncate",children:t.name}),p.jsxs("div",{className:"flex flex-row justify-between text-sm font-mono opacity-50 text-nowrap gap-2",children:[p.jsx("span",{className:"truncate",children:t.type}),p.jsxs("span",{children:[(t.size/1024).toFixed(1)," KB"]})]})]})]})},tW=({file:t,...e})=>{const n=typeof t.body=="string"?t.body:URL.createObjectURL(t.body);return p.jsx("img",{...e,src:n})},nW=({file:t,...e})=>{const n=typeof t.body=="string"?t.body:URL.createObjectURL(t.body);return p.jsx("video",{...e,src:n})},rW=({file:t})=>p.jsx("div",{className:"text-xs text-primary/50 text-center",children:t.type})}});function BJe(t,e={overrides:{},baseUrl:""}){return{body:`${e.baseUrl}/api/media/file/${t.path}`,path:t.path,name:t.path,size:t.size??0,type:t.mime_type??"",state:"uploaded",progress:0,...e.overrides}}function zJe(t,e={overrides:{},baseUrl:""}){return t.map(n=>BJe(n,e))}var WJe=F({"src/ui/elements/media/helper.ts"(){}});function UJe({initialItems:t,media:e,entity:n,query:r,children:i,...s}){const o=S.useId(),a=oa(),l=a.baseUrl,c=F1(),u=r!=null&&r.limit?r==null?void 0:r.limit:s.maxItems?s.maxItems:50,d=(e==null?void 0:e.entity_name)??"media",f=Ad(d,void 0,{...r,limit:u,where:n?{reference:`${n.name}.${n.field}`,entity_id:n.id,...r==null?void 0:r.where}:r==null?void 0:r.where},{enabled:!t}),h=Wt(x=>({url:n?a.media.getEntityUploadUrl(n.name,n.id,n.field):a.media.getFileUploadUrl(x),headers:a.media.getUploadHeaders(),method:"POST"})),m=Wt(async()=>{n&&c(x=>x.data.readOne(n.name,n.id)),await f.mutate()}),g=Wt(async x=>a.media.deleteFile(x.path)),y=t??(f.data||[]),O=zJe(y,{baseUrl:l}),b=o+JSON.stringify(O);return p.jsx(VJe,{getUploadInfo:h,handleDelete:g,onUploaded:m,onDeleted:m,autoUpload:!0,initialItems:O,...s,children:i?x=>p.jsx(gD.Provider,{value:x,children:i}):void 0},o+b)}function ZJe(){return S.useContext(gD)}var gD,XJe=F({"src/ui/elements/media/DropzoneContainer.tsx"(){Dr(),Xi(),ele(),WJe(),gD=S.createContext(void 0)}}),Zs,YJe=F({"src/ui/elements/media/index.ts"(){ele(),XJe(),Zs={Dropzone:UJe,Preview:xN,useDropzone:ZJe}}}),g_=F({"src/ui/elements/index.ts"(){jJe(),YJe()}});function tle({nodes:t,edges:e,externalProvider:n,backgroundStyle:r="lines",minimap:i=!1,children:s,onDropNewNode:o,onDropNewEdge:a,...l}){const[c,u,d]=rqe(t??[]),[f,h,m]=iqe(e??[]),{screenToFlowPosition:g}=Pp(),{theme:y}=t2(),[O,b]=S.useState(!1),[x,v]=S.useState(!1),[w,_]=S.useState(!1),$=A=>{A.metaKey&&b(!0),A.key===" "&&v(!0)},k=A=>{A.metaKey||b(!1),A.key===" "&&v(!1)},j=()=>{if(x){_(!1);return}_(!0)},P=()=>{if(x){_(!1);return}_(!1)};S.useEffect(()=>{var A;return(A=document.querySelector("html"))==null||A.classList.add("fixed"),window.addEventListener("keydown",$),window.addEventListener("keyup",k),window.addEventListener("pointerdown",j),window.addEventListener("pointerup",P),()=>{var C;window.removeEventListener("keydown",$),window.removeEventListener("keyup",k),window.removeEventListener("pointerdown",j),window.removeEventListener("pointerup",P),(C=document.querySelector("html"))==null||C.classList.remove("fixed")}},[]),S.useEffect(()=>{u(t??[]),h(e??[])},[t,e]);const R=S.useCallback(A=>h(C=>lH(A,C)),[]),N=S.useCallback((A,C)=>{if(!(!o||!a)&&!C.isValid){console.log("conn",{event:A,connectionState:C});const{clientX:T,clientY:E}="changedTouches"in A?A.changedTouches[0]:A,I=o({id:"select",type:"default",data:{label:""},position:g({x:T,y:E}),origin:[0,0]});u(M=>M.concat(I)),h(M=>M.concat(o({id:I.id,source:C.fromNode.id,target:I.id})))}},[g]);return p.jsxs(JH,{colorMode:y,onConnect:R,onConnectEnd:N,className:O?"cursor-zoom-in":x?w?"cursor-grabbing":"cursor-grab":"",proOptions:{hideAttribution:!0},fitView:!0,fitViewOptions:{maxZoom:1.5,...l.fitViewOptions},nodeDragThreshold:25,panOnScrollSpeed:1,snapToGrid:!0,nodes:c,edges:f,onNodesChange:d,onEdgesChange:m,nodesConnectable:!1,panOnDrag:!0,zoomOnScroll:O,panOnScroll:!O,zoomOnDoubleClick:!1,selectionOnDrag:!x,...l,children:[r==="lines"&&p.jsx(YV,{color:y==="light"?"rgba(0,0,0,.05)":"rgba(255,255,255,.1)",gap:[50,50],variant:sl.Lines}),r==="dots"&&p.jsx(YV,{color:y==="light"?"rgba(0,0,0,.5)":"rgba(255,255,255,.2)"}),i&&p.jsx(rK,{...typeof i=="object"?i:{}}),s]})}var nle=F({"src/ui/components/canvas/Canvas.tsx"(){n2()}}),yD=X({"../node_modules/@dagrejs/graphlib/lib/graph.js"(t,e){var n="\0",r="\0",i="",s=class{constructor(d){J(this,"_isDirected",!0);J(this,"_isMultigraph",!1);J(this,"_isCompound",!1);J(this,"_label");J(this,"_defaultNodeLabelFn",()=>{});J(this,"_defaultEdgeLabelFn",()=>{});J(this,"_nodes",{});J(this,"_in",{});J(this,"_preds",{});J(this,"_out",{});J(this,"_sucs",{});J(this,"_edgeObjs",{});J(this,"_edgeLabels",{});J(this,"_nodeCount",0);J(this,"_edgeCount",0);J(this,"_parent");J(this,"_children");d&&(this._isDirected=Object.hasOwn(d,"directed")?d.directed:!0,this._isMultigraph=Object.hasOwn(d,"multigraph")?d.multigraph:!1,this._isCompound=Object.hasOwn(d,"compound")?d.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[r]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(d){return this._label=d,this}graph(){return this._label}setDefaultNodeLabel(d){return this._defaultNodeLabelFn=d,typeof d!="function"&&(this._defaultNodeLabelFn=()=>d),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var d=this;return this.nodes().filter(f=>Object.keys(d._in[f]).length===0)}sinks(){var d=this;return this.nodes().filter(f=>Object.keys(d._out[f]).length===0)}setNodes(d,f){var h=arguments,m=this;return d.forEach(function(g){h.length>1?m.setNode(g,f):m.setNode(g)}),this}setNode(d,f){return Object.hasOwn(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=f),this):(this._nodes[d]=arguments.length>1?f:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=r,this._children[d]={},this._children[r][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)}node(d){return this._nodes[d]}hasNode(d){return Object.hasOwn(this._nodes,d)}removeNode(d){var f=this;if(Object.hasOwn(this._nodes,d)){var h=m=>f.removeEdge(f._edgeObjs[m]);delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],this.children(d).forEach(function(m){f.setParent(m)}),delete this._children[d]),Object.keys(this._in[d]).forEach(h),delete this._in[d],delete this._preds[d],Object.keys(this._out[d]).forEach(h),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this}setParent(d,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(f===void 0)f=r;else{f+="";for(var h=f;h!==void 0;h=this.parent(h))if(h===d)throw new Error("Setting "+f+" as parent of "+d+" would create a cycle");this.setNode(f)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=f,this._children[f][d]=!0,this}_removeFromParentsChildList(d){delete this._children[this._parent[d]][d]}parent(d){if(this._isCompound){var f=this._parent[d];if(f!==r)return f}}children(d=r){if(this._isCompound){var f=this._children[d];if(f)return Object.keys(f)}else{if(d===r)return this.nodes();if(this.hasNode(d))return[]}}predecessors(d){var f=this._preds[d];if(f)return Object.keys(f)}successors(d){var f=this._sucs[d];if(f)return Object.keys(f)}neighbors(d){var f=this.predecessors(d);if(f){const m=new Set(f);for(var h of this.successors(d))m.add(h);return Array.from(m.values())}}isLeaf(d){var f;return this.isDirected()?f=this.successors(d):f=this.neighbors(d),f.length===0}filterNodes(d){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var h=this;Object.entries(this._nodes).forEach(function([y,O]){d(y)&&f.setNode(y,O)}),Object.values(this._edgeObjs).forEach(function(y){f.hasNode(y.v)&&f.hasNode(y.w)&&f.setEdge(y,h.edge(y))});var m={};function g(y){var O=h.parent(y);return O===void 0||f.hasNode(O)?(m[y]=O,O):O in m?m[O]:g(O)}return this._isCompound&&f.nodes().forEach(y=>f.setParent(y,g(y))),f}setDefaultEdgeLabel(d){return this._defaultEdgeLabelFn=d,typeof d!="function"&&(this._defaultEdgeLabelFn=()=>d),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(d,f){var h=this,m=arguments;return d.reduce(function(g,y){return m.length>1?h.setEdge(g,y,f):h.setEdge(g,y),y}),this}setEdge(){var d,f,h,m,g=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(d=y.v,f=y.w,h=y.name,arguments.length===2&&(m=arguments[1],g=!0)):(d=y,f=arguments[1],h=arguments[3],arguments.length>2&&(m=arguments[2],g=!0)),d=""+d,f=""+f,h!==void 0&&(h=""+h);var O=l(this._isDirected,d,f,h);if(Object.hasOwn(this._edgeLabels,O))return g&&(this._edgeLabels[O]=m),this;if(h!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(f),this._edgeLabels[O]=g?m:this._defaultEdgeLabelFn(d,f,h);var b=c(this._isDirected,d,f,h);return d=b.v,f=b.w,Object.freeze(b),this._edgeObjs[O]=b,o(this._preds[f],d),o(this._sucs[d],f),this._in[f][O]=b,this._out[d][O]=b,this._edgeCount++,this}edge(d,f,h){var m=arguments.length===1?u(this._isDirected,arguments[0]):l(this._isDirected,d,f,h);return this._edgeLabels[m]}edgeAsObj(){const d=this.edge(...arguments);return typeof d!="object"?{label:d}:d}hasEdge(d,f,h){var m=arguments.length===1?u(this._isDirected,arguments[0]):l(this._isDirected,d,f,h);return Object.hasOwn(this._edgeLabels,m)}removeEdge(d,f,h){var m=arguments.length===1?u(this._isDirected,arguments[0]):l(this._isDirected,d,f,h),g=this._edgeObjs[m];return g&&(d=g.v,f=g.w,delete this._edgeLabels[m],delete this._edgeObjs[m],a(this._preds[f],d),a(this._sucs[d],f),delete this._in[f][m],delete this._out[d][m],this._edgeCount--),this}inEdges(d,f){var h=this._in[d];if(h){var m=Object.values(h);return f?m.filter(g=>g.v===f):m}}outEdges(d,f){var h=this._out[d];if(h){var m=Object.values(h);return f?m.filter(g=>g.w===f):m}}nodeEdges(d,f){var h=this.inEdges(d,f);if(h)return h.concat(this.outEdges(d,f))}};function o(d,f){d[f]?d[f]++:d[f]=1}function a(d,f){--d[f]||delete d[f]}function l(d,f,h,m){var g=""+f,y=""+h;if(!d&&g>y){var O=g;g=y,y=O}return g+i+y+i+(m===void 0?n:m)}function c(d,f,h,m){var g=""+f,y=""+h;if(!d&&g>y){var O=g;g=y,y=O}var b={v:g,w:y};return m&&(b.name=m),b}function u(d,f){return l(d,f.v,f.w,f.name)}e.exports=s}}),GJe=X({"../node_modules/@dagrejs/graphlib/lib/version.js"(t,e){e.exports="2.2.4"}}),HJe=X({"../node_modules/@dagrejs/graphlib/lib/index.js"(t,e){e.exports={Graph:yD(),version:GJe()}}}),KJe=X({"../node_modules/@dagrejs/graphlib/lib/json.js"(t,e){var n=yD();e.exports={write:r,read:o};function r(a){var l={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:i(a),edges:s(a)};return a.graph()!==void 0&&(l.value=structuredClone(a.graph())),l}function i(a){return a.nodes().map(function(l){var c=a.node(l),u=a.parent(l),d={v:l};return c!==void 0&&(d.value=c),u!==void 0&&(d.parent=u),d})}function s(a){return a.edges().map(function(l){var c=a.edge(l),u={v:l.v,w:l.w};return l.name!==void 0&&(u.name=l.name),c!==void 0&&(u.value=c),u})}function o(a){var l=new n(a.options).setGraph(a.value);return a.nodes.forEach(function(c){l.setNode(c.v,c.value),c.parent&&l.setParent(c.v,c.parent)}),a.edges.forEach(function(c){l.setEdge({v:c.v,w:c.w,name:c.name},c.value)}),l}}}),JJe=X({"../node_modules/@dagrejs/graphlib/lib/alg/components.js"(t,e){e.exports=n;function n(r){var i={},s=[],o;function a(l){Object.hasOwn(i,l)||(i[l]=!0,o.push(l),r.successors(l).forEach(a),r.predecessors(l).forEach(a))}return r.nodes().forEach(function(l){o=[],a(l),o.length&&s.push(o)}),s}}}),rle=X({"../node_modules/@dagrejs/graphlib/lib/data/priority-queue.js"(t,e){var n=class{constructor(){J(this,"_arr",[]);J(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(r){return r.key})}has(r){return Object.hasOwn(this._keyIndices,r)}priority(r){var i=this._keyIndices[r];if(i!==void 0)return this._arr[i].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(r,i){var s=this._keyIndices;if(r=String(r),!Object.hasOwn(s,r)){var o=this._arr,a=o.length;return s[r]=a,o.push({key:r,priority:i}),this._decrease(a),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key}decrease(r,i){var s=this._keyIndices[r];if(i>this._arr[s].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[s].priority+" New: "+i);this._arr[s].priority=i,this._decrease(s)}_heapify(r){var i=this._arr,s=2*r,o=s+1,a=r;s<i.length&&(a=i[s].priority<i[a].priority?s:a,o<i.length&&(a=i[o].priority<i[a].priority?o:a),a!==r&&(this._swap(r,a),this._heapify(a)))}_decrease(r){for(var i=this._arr,s=i[r].priority,o;r!==0&&(o=r>>1,!(i[o].priority<s));)this._swap(r,o),r=o}_swap(r,i){var s=this._arr,o=this._keyIndices,a=s[r],l=s[i];s[r]=l,s[i]=a,o[l.key]=r,o[a.key]=i}};e.exports=n}}),ile=X({"../node_modules/@dagrejs/graphlib/lib/alg/dijkstra.js"(t,e){var n=rle();e.exports=i;var r=()=>1;function i(o,a,l,c){return s(o,String(a),l||r,c||function(u){return o.outEdges(u)})}function s(o,a,l,c){var u={},d=new n,f,h,m=function(g){var y=g.v!==f?g.v:g.w,O=u[y],b=l(g),x=h.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+g+" Weight: "+b);x<O.distance&&(O.distance=x,O.predecessor=f,d.decrease(y,x))};for(o.nodes().forEach(function(g){var y=g===a?0:Number.POSITIVE_INFINITY;u[g]={distance:y},d.add(g,y)});d.size()>0&&(f=d.removeMin(),h=u[f],h.distance!==Number.POSITIVE_INFINITY);)c(f).forEach(m);return u}}}),eet=X({"../node_modules/@dagrejs/graphlib/lib/alg/dijkstra-all.js"(t,e){var n=ile();e.exports=r;function r(i,s,o){return i.nodes().reduce(function(a,l){return a[l]=n(i,l,s,o),a},{})}}}),sle=X({"../node_modules/@dagrejs/graphlib/lib/alg/tarjan.js"(t,e){e.exports=n;function n(r){var i=0,s=[],o={},a=[];function l(c){var u=o[c]={onStack:!0,lowlink:i,index:i++};if(s.push(c),r.successors(c).forEach(function(h){Object.hasOwn(o,h)?o[h].onStack&&(u.lowlink=Math.min(u.lowlink,o[h].index)):(l(h),u.lowlink=Math.min(u.lowlink,o[h].lowlink))}),u.lowlink===u.index){var d=[],f;do f=s.pop(),o[f].onStack=!1,d.push(f);while(c!==f);a.push(d)}}return r.nodes().forEach(function(c){Object.hasOwn(o,c)||l(c)}),a}}}),tet=X({"../node_modules/@dagrejs/graphlib/lib/alg/find-cycles.js"(t,e){var n=sle();e.exports=r;function r(i){return n(i).filter(function(s){return s.length>1||s.length===1&&i.hasEdge(s[0],s[0])})}}}),net=X({"../node_modules/@dagrejs/graphlib/lib/alg/floyd-warshall.js"(t,e){e.exports=r;var n=()=>1;function r(s,o,a){return i(s,o||n,a||function(l){return s.outEdges(l)})}function i(s,o,a){var l={},c=s.nodes();return c.forEach(function(u){l[u]={},l[u][u]={distance:0},c.forEach(function(d){u!==d&&(l[u][d]={distance:Number.POSITIVE_INFINITY})}),a(u).forEach(function(d){var f=d.v===u?d.w:d.v,h=o(d);l[u][f]={distance:h,predecessor:u}})}),c.forEach(function(u){var d=l[u];c.forEach(function(f){var h=l[f];c.forEach(function(m){var g=h[u],y=d[m],O=h[m],b=g.distance+y.distance;b<O.distance&&(O.distance=b,O.predecessor=y.predecessor)})})}),l}}}),ole=X({"../node_modules/@dagrejs/graphlib/lib/alg/topsort.js"(t,e){function n(i){var s={},o={},a=[];function l(c){if(Object.hasOwn(o,c))throw new r;Object.hasOwn(s,c)||(o[c]=!0,s[c]=!0,i.predecessors(c).forEach(l),delete o[c],a.push(c))}if(i.sinks().forEach(l),Object.keys(s).length!==i.nodeCount())throw new r;return a}var r=class extends Error{constructor(){super(...arguments)}};e.exports=n,n.CycleException=r}}),ret=X({"../node_modules/@dagrejs/graphlib/lib/alg/is-acyclic.js"(t,e){var n=ole();e.exports=r;function r(i){try{n(i)}catch(s){if(s instanceof n.CycleException)return!1;throw s}return!0}}}),ale=X({"../node_modules/@dagrejs/graphlib/lib/alg/dfs.js"(t,e){e.exports=n;function n(o,a,l){Array.isArray(a)||(a=[a]);var c=o.isDirected()?h=>o.successors(h):h=>o.neighbors(h),u=l==="post"?r:i,d=[],f={};return a.forEach(h=>{if(!o.hasNode(h))throw new Error("Graph does not have node: "+h);u(h,c,f,d)}),d}function r(o,a,l,c){for(var u=[[o,!1]];u.length>0;){var d=u.pop();d[1]?c.push(d[0]):Object.hasOwn(l,d[0])||(l[d[0]]=!0,u.push([d[0],!0]),s(a(d[0]),f=>u.push([f,!1])))}}function i(o,a,l,c){for(var u=[o];u.length>0;){var d=u.pop();Object.hasOwn(l,d)||(l[d]=!0,c.push(d),s(a(d),f=>u.push(f)))}}function s(o,a){for(var l=o.length;l--;)a(o[l],l,o);return o}}}),iet=X({"../node_modules/@dagrejs/graphlib/lib/alg/postorder.js"(t,e){var n=ale();e.exports=r;function r(i,s){return n(i,s,"post")}}}),set=X({"../node_modules/@dagrejs/graphlib/lib/alg/preorder.js"(t,e){var n=ale();e.exports=r;function r(i,s){return n(i,s,"pre")}}}),oet=X({"../node_modules/@dagrejs/graphlib/lib/alg/prim.js"(t,e){var n=yD(),r=rle();e.exports=i;function i(s,o){var a=new n,l={},c=new r,u;function d(h){var m=h.v===u?h.w:h.v,g=c.priority(m);if(g!==void 0){var y=o(h);y<g&&(l[m]=u,c.decrease(m,y))}}if(s.nodeCount()===0)return a;s.nodes().forEach(function(h){c.add(h,Number.POSITIVE_INFINITY),a.setNode(h)}),c.decrease(s.nodes()[0],0);for(var f=!1;c.size()>0;){if(u=c.removeMin(),Object.hasOwn(l,u))a.setEdge(u,l[u]);else{if(f)throw new Error("Input graph is not connected: "+s);f=!0}s.nodeEdges(u).forEach(d)}return a}}}),aet=X({"../node_modules/@dagrejs/graphlib/lib/alg/index.js"(t,e){e.exports={components:JJe(),dijkstra:ile(),dijkstraAll:eet(),findCycles:tet(),floydWarshall:net(),isAcyclic:ret(),postorder:iet(),preorder:set(),prim:oet(),tarjan:sle(),topsort:ole()}}}),co=X({"../node_modules/@dagrejs/graphlib/index.js"(t,e){var n=HJe();e.exports={Graph:n.Graph,json:KJe(),alg:aet(),version:n.version}}}),cet=X({"../node_modules/@dagrejs/dagre/lib/data/list.js"(t,e){var n=class{constructor(){let s={};s._next=s._prev=s,this._sentinel=s}dequeue(){let s=this._sentinel,o=s._prev;if(o!==s)return r(o),o}enqueue(s){let o=this._sentinel;s._prev&&s._next&&r(s),s._next=o._next,o._next._prev=s,o._next=s,s._prev=o}toString(){let s=[],o=this._sentinel,a=o._prev;for(;a!==o;)s.push(JSON.stringify(a,i)),a=a._prev;return"["+s.join(", ")+"]"}};function r(s){s._prev._next=s._next,s._next._prev=s._prev,delete s._next,delete s._prev}function i(s,o){if(s!=="_next"&&s!=="_prev")return o}e.exports=n}}),uet=X({"../node_modules/@dagrejs/dagre/lib/greedy-fas.js"(t,e){var n=co().Graph,r=cet();e.exports=s;var i=()=>1;function s(d,f){if(d.nodeCount()<=1)return[];let h=l(d,f||i);return o(h.graph,h.buckets,h.zeroIdx).flatMap(g=>d.outEdges(g.v,g.w))}function o(d,f,h){let m=[],g=f[f.length-1],y=f[0],O;for(;d.nodeCount();){for(;O=y.dequeue();)a(d,f,h,O);for(;O=g.dequeue();)a(d,f,h,O);if(d.nodeCount()){for(let b=f.length-2;b>0;--b)if(O=f[b].dequeue(),O){m=m.concat(a(d,f,h,O,!0));break}}}return m}function a(d,f,h,m,g){let y=g?[]:void 0;return d.inEdges(m.v).forEach(O=>{let b=d.edge(O),x=d.node(O.v);g&&y.push({v:O.v,w:O.w}),x.out-=b,c(f,h,x)}),d.outEdges(m.v).forEach(O=>{let b=d.edge(O),x=O.w,v=d.node(x);v.in-=b,c(f,h,v)}),d.removeNode(m.v),y}function l(d,f){let h=new n,m=0,g=0;d.nodes().forEach(b=>{h.setNode(b,{v:b,in:0,out:0})}),d.edges().forEach(b=>{let x=h.edge(b.v,b.w)||0,v=f(b),w=x+v;h.setEdge(b.v,b.w,w),g=Math.max(g,h.node(b.v).out+=v),m=Math.max(m,h.node(b.w).in+=v)});let y=u(g+m+3).map(()=>new r),O=m+1;return h.nodes().forEach(b=>{c(y,O,h.node(b))}),{graph:h,buckets:y,zeroIdx:O}}function c(d,f,h){h.out?h.in?d[h.out-h.in+f].enqueue(h):d[d.length-1].enqueue(h):d[0].enqueue(h)}function u(d){const f=[];for(let h=0;h<d;h++)f.push(h);return f}}}),Tn=X({"../node_modules/@dagrejs/dagre/lib/util.js"(t,e){var n=co().Graph;e.exports={addBorderNode:f,addDummyNode:r,applyWithChunking:g,asNonCompoundGraph:s,buildLayerMatrix:c,intersectRect:l,mapValues:k,maxRank:y,normalizeRanks:u,notime:x,partition:O,pick:$,predecessorWeights:a,range:_,removeEmptyRanks:d,simplify:i,successorWeights:o,time:b,uniqueId:w,zipObject:j};function r(P,R,N,A){let C;do C=w(A);while(P.hasNode(C));return N.dummy=R,P.setNode(C,N),C}function i(P){let R=new n().setGraph(P.graph());return P.nodes().forEach(N=>R.setNode(N,P.node(N))),P.edges().forEach(N=>{let A=R.edge(N.v,N.w)||{weight:0,minlen:1},C=P.edge(N);R.setEdge(N.v,N.w,{weight:A.weight+C.weight,minlen:Math.max(A.minlen,C.minlen)})}),R}function s(P){let R=new n({multigraph:P.isMultigraph()}).setGraph(P.graph());return P.nodes().forEach(N=>{P.children(N).length||R.setNode(N,P.node(N))}),P.edges().forEach(N=>{R.setEdge(N,P.edge(N))}),R}function o(P){let R=P.nodes().map(N=>{let A={};return P.outEdges(N).forEach(C=>{A[C.w]=(A[C.w]||0)+P.edge(C).weight}),A});return j(P.nodes(),R)}function a(P){let R=P.nodes().map(N=>{let A={};return P.inEdges(N).forEach(C=>{A[C.v]=(A[C.v]||0)+P.edge(C).weight}),A});return j(P.nodes(),R)}function l(P,R){let N=P.x,A=P.y,C=R.x-N,T=R.y-A,E=P.width/2,I=P.height/2;if(!C&&!T)throw new Error("Not possible to find intersection inside of the rectangle");let M,Q;return Math.abs(T)*E>Math.abs(C)*I?(T<0&&(I=-I),M=I*C/T,Q=I):(C<0&&(E=-E),M=E,Q=E*T/C),{x:N+M,y:A+Q}}function c(P){let R=_(y(P)+1).map(()=>[]);return P.nodes().forEach(N=>{let A=P.node(N),C=A.rank;C!==void 0&&(R[C][A.order]=N)}),R}function u(P){let R=P.nodes().map(A=>{let C=P.node(A).rank;return C===void 0?Number.MAX_VALUE:C}),N=g(Math.min,R);P.nodes().forEach(A=>{let C=P.node(A);Object.hasOwn(C,"rank")&&(C.rank-=N)})}function d(P){let R=P.nodes().map(E=>P.node(E).rank),N=g(Math.min,R),A=[];P.nodes().forEach(E=>{let I=P.node(E).rank-N;A[I]||(A[I]=[]),A[I].push(E)});let C=0,T=P.graph().nodeRankFactor;Array.from(A).forEach((E,I)=>{E===void 0&&I%T!==0?--C:E!==void 0&&C&&E.forEach(M=>P.node(M).rank+=C)})}function f(P,R,N,A){let C={width:0,height:0};return arguments.length>=4&&(C.rank=N,C.order=A),r(P,"border",C,R)}function h(P,R=m){const N=[];for(let A=0;A<P.length;A+=R){const C=P.slice(A,A+R);N.push(C)}return N}var m=65535;function g(P,R){if(R.length>m){const N=h(R);return P.apply(null,N.map(A=>P.apply(null,A)))}else return P.apply(null,R)}function y(P){const N=P.nodes().map(A=>{let C=P.node(A).rank;return C===void 0?Number.MIN_VALUE:C});return g(Math.max,N)}function O(P,R){let N={lhs:[],rhs:[]};return P.forEach(A=>{R(A)?N.lhs.push(A):N.rhs.push(A)}),N}function b(P,R){let N=Date.now();try{return R()}finally{console.log(P+" time: "+(Date.now()-N)+"ms")}}function x(P,R){return R()}var v=0;function w(P){var R=++v;return toString(P)+R}function _(P,R,N=1){R==null&&(R=P,P=0);let A=T=>T<R;N<0&&(A=T=>R<T);const C=[];for(let T=P;A(T);T+=N)C.push(T);return C}function $(P,R){const N={};for(const A of R)P[A]!==void 0&&(N[A]=P[A]);return N}function k(P,R){let N=R;return typeof R=="string"&&(N=A=>A[R]),Object.entries(P).reduce((A,[C,T])=>(A[C]=N(T,C),A),{})}function j(P,R){return P.reduce((N,A,C)=>(N[A]=R[C],N),{})}}}),det=X({"../node_modules/@dagrejs/dagre/lib/acyclic.js"(t,e){var n=uet(),r=Tn().uniqueId;e.exports={run:i,undo:o};function i(a){(a.graph().acyclicer==="greedy"?n(a,c(a)):s(a)).forEach(u=>{let d=a.edge(u);a.removeEdge(u),d.forwardName=u.name,d.reversed=!0,a.setEdge(u.w,u.v,d,r("rev"))});function c(u){return d=>u.edge(d).weight}}function s(a){let l=[],c={},u={};function d(f){Object.hasOwn(u,f)||(u[f]=!0,c[f]=!0,a.outEdges(f).forEach(h=>{Object.hasOwn(c,h.w)?l.push(h):d(h.w)}),delete c[f])}return a.nodes().forEach(d),l}function o(a){a.edges().forEach(l=>{let c=a.edge(l);if(c.reversed){a.removeEdge(l);let u=c.forwardName;delete c.reversed,delete c.forwardName,a.setEdge(l.w,l.v,c,u)}})}}}),fet=X({"../node_modules/@dagrejs/dagre/lib/normalize.js"(t,e){var n=Tn();e.exports={run:r,undo:s};function r(o){o.graph().dummyChains=[],o.edges().forEach(a=>i(o,a))}function i(o,a){let l=a.v,c=o.node(l).rank,u=a.w,d=o.node(u).rank,f=a.name,h=o.edge(a),m=h.labelRank;if(d===c+1)return;o.removeEdge(a);let g,y,O;for(O=0,++c;c<d;++O,++c)h.points=[],y={width:0,height:0,edgeLabel:h,edgeObj:a,rank:c},g=n.addDummyNode(o,"edge",y,"_d"),c===m&&(y.width=h.width,y.height=h.height,y.dummy="edge-label",y.labelpos=h.labelpos),o.setEdge(l,g,{weight:h.weight},f),O===0&&o.graph().dummyChains.push(g),l=g;o.setEdge(l,u,{weight:h.weight},f)}function s(o){o.graph().dummyChains.forEach(a=>{let l=o.node(a),c=l.edgeLabel,u;for(o.setEdge(l.edgeObj,c);l.dummy;)u=o.successors(a)[0],o.removeNode(a),c.points.push({x:l.x,y:l.y}),l.dummy==="edge-label"&&(c.x=l.x,c.y=l.y,c.width=l.width,c.height=l.height),a=u,l=o.node(a)})}}}),N0=X({"../node_modules/@dagrejs/dagre/lib/rank/util.js"(t,e){var{applyWithChunking:n}=Tn();e.exports={longestPath:r,slack:i};function r(s){var o={};function a(l){var c=s.node(l);if(Object.hasOwn(o,l))return c.rank;o[l]=!0;let u=s.outEdges(l).map(f=>f==null?Number.POSITIVE_INFINITY:a(f.w)-s.edge(f).minlen);var d=n(Math.min,u);return d===Number.POSITIVE_INFINITY&&(d=0),c.rank=d}s.sources().forEach(a)}function i(s,o){return s.node(o.w).rank-s.node(o.v).rank-s.edge(o).minlen}}}),lle=X({"../node_modules/@dagrejs/dagre/lib/rank/feasible-tree.js"(t,e){var n=co().Graph,r=N0().slack;e.exports=i;function i(l){var c=new n({directed:!1}),u=l.nodes()[0],d=l.nodeCount();c.setNode(u,{});for(var f,h;s(c,l)<d;)f=o(c,l),h=c.hasNode(f.v)?r(l,f):-r(l,f),a(c,l,h);return c}function s(l,c){function u(d){c.nodeEdges(d).forEach(f=>{var h=f.v,m=d===h?f.w:h;!l.hasNode(m)&&!r(c,f)&&(l.setNode(m,{}),l.setEdge(d,m,{}),u(m))})}return l.nodes().forEach(u),l.nodeCount()}function o(l,c){return c.edges().reduce((d,f)=>{let h=Number.POSITIVE_INFINITY;return l.hasNode(f.v)!==l.hasNode(f.w)&&(h=r(c,f)),h<d[0]?[h,f]:d},[Number.POSITIVE_INFINITY,null])[1]}function a(l,c,u){l.nodes().forEach(d=>c.node(d).rank+=u)}}}),het=X({"../node_modules/@dagrejs/dagre/lib/rank/network-simplex.js"(t,e){var n=lle(),r=N0().slack,i=N0().longestPath,s=co().alg.preorder,o=co().alg.postorder,a=Tn().simplify;e.exports=l,l.initLowLimValues=f,l.initCutValues=c,l.calcCutValue=d,l.leaveEdge=m,l.enterEdge=g,l.exchangeEdges=y;function l(v){v=a(v),i(v);var w=n(v);f(w),c(w,v);for(var _,$;_=m(w);)$=g(w,v,_),y(w,v,_,$)}function c(v,w){var _=o(v,v.nodes());_=_.slice(0,_.length-1),_.forEach($=>u(v,w,$))}function u(v,w,_){var $=v.node(_),k=$.parent;v.edge(_,k).cutvalue=d(v,w,_)}function d(v,w,_){var $=v.node(_),k=$.parent,j=!0,P=w.edge(_,k),R=0;return P||(j=!1,P=w.edge(k,_)),R=P.weight,w.nodeEdges(_).forEach(N=>{var A=N.v===_,C=A?N.w:N.v;if(C!==k){var T=A===j,E=w.edge(N).weight;if(R+=T?E:-E,b(v,_,C)){var I=v.edge(_,C).cutvalue;R+=T?-I:I}}}),R}function f(v,w){arguments.length<2&&(w=v.nodes()[0]),h(v,{},1,w)}function h(v,w,_,$,k){var j=_,P=v.node($);return w[$]=!0,v.neighbors($).forEach(R=>{Object.hasOwn(w,R)||(_=h(v,w,_,R,$))}),P.low=j,P.lim=_++,k?P.parent=k:delete P.parent,_}function m(v){return v.edges().find(w=>v.edge(w).cutvalue<0)}function g(v,w,_){var $=_.v,k=_.w;w.hasEdge($,k)||($=_.w,k=_.v);var j=v.node($),P=v.node(k),R=j,N=!1;j.lim>P.lim&&(R=P,N=!0);var A=w.edges().filter(C=>N===x(v,v.node(C.v),R)&&N!==x(v,v.node(C.w),R));return A.reduce((C,T)=>r(w,T)<r(w,C)?T:C)}function y(v,w,_,$){var k=_.v,j=_.w;v.removeEdge(k,j),v.setEdge($.v,$.w,{}),f(v),c(v,w),O(v,w)}function O(v,w){var _=v.nodes().find(k=>!w.node(k).parent),$=s(v,_);$=$.slice(1),$.forEach(k=>{var j=v.node(k).parent,P=w.edge(k,j),R=!1;P||(P=w.edge(j,k),R=!0),w.node(k).rank=w.node(j).rank+(R?P.minlen:-P.minlen)})}function b(v,w,_){return v.hasEdge(w,_)}function x(v,w,_){return _.low<=w.lim&&w.lim<=_.lim}}}),pet=X({"../node_modules/@dagrejs/dagre/lib/rank/index.js"(t,e){var n=N0(),r=n.longestPath,i=lle(),s=het();e.exports=o;function o(u){switch(u.graph().ranker){case"network-simplex":c(u);break;case"tight-tree":l(u);break;case"longest-path":a(u);break;default:c(u)}}var a=r;function l(u){r(u),i(u)}function c(u){s(u)}}}),met=X({"../node_modules/@dagrejs/dagre/lib/parent-dummy-chains.js"(t,e){e.exports=n;function n(s){let o=i(s);s.graph().dummyChains.forEach(a=>{let l=s.node(a),c=l.edgeObj,u=r(s,o,c.v,c.w),d=u.path,f=u.lca,h=0,m=d[h],g=!0;for(;a!==c.w;){if(l=s.node(a),g){for(;(m=d[h])!==f&&s.node(m).maxRank<l.rank;)h++;m===f&&(g=!1)}if(!g){for(;h<d.length-1&&s.node(m=d[h+1]).minRank<=l.rank;)h++;m=d[h]}s.setParent(a,m),a=s.successors(a)[0]}})}function r(s,o,a,l){let c=[],u=[],d=Math.min(o[a].low,o[l].low),f=Math.max(o[a].lim,o[l].lim),h,m;h=a;do h=s.parent(h),c.push(h);while(h&&(o[h].low>d||f>o[h].lim));for(m=h,h=l;(h=s.parent(h))!==m;)u.push(h);return{path:c.concat(u.reverse()),lca:m}}function i(s){let o={},a=0;function l(c){let u=a;s.children(c).forEach(l),o[c]={low:u,lim:a++}}return s.children().forEach(l),o}}}),get=X({"../node_modules/@dagrejs/dagre/lib/nesting-graph.js"(t,e){var n=Tn();e.exports={run:r,cleanup:a};function r(l){let c=n.addDummyNode(l,"root",{},"_root"),u=s(l),d=Object.values(u),f=n.applyWithChunking(Math.max,d)-1,h=2*f+1;l.graph().nestingRoot=c,l.edges().forEach(g=>l.edge(g).minlen*=h);let m=o(l)+1;l.children().forEach(g=>i(l,c,h,m,f,u,g)),l.graph().nodeRankFactor=h}function i(l,c,u,d,f,h,m){let g=l.children(m);if(!g.length){m!==c&&l.setEdge(c,m,{weight:0,minlen:u});return}let y=n.addBorderNode(l,"_bt"),O=n.addBorderNode(l,"_bb"),b=l.node(m);l.setParent(y,m),b.borderTop=y,l.setParent(O,m),b.borderBottom=O,g.forEach(x=>{i(l,c,u,d,f,h,x);let v=l.node(x),w=v.borderTop?v.borderTop:x,_=v.borderBottom?v.borderBottom:x,$=v.borderTop?d:2*d,k=w!==_?1:f-h[m]+1;l.setEdge(y,w,{weight:$,minlen:k,nestingEdge:!0}),l.setEdge(_,O,{weight:$,minlen:k,nestingEdge:!0})}),l.parent(m)||l.setEdge(c,y,{weight:0,minlen:f+h[m]})}function s(l){var c={};function u(d,f){var h=l.children(d);h&&h.length&&h.forEach(m=>u(m,f+1)),c[d]=f}return l.children().forEach(d=>u(d,1)),c}function o(l){return l.edges().reduce((c,u)=>c+l.edge(u).weight,0)}function a(l){var c=l.graph();l.removeNode(c.nestingRoot),delete c.nestingRoot,l.edges().forEach(u=>{var d=l.edge(u);d.nestingEdge&&l.removeEdge(u)})}}}),yet=X({"../node_modules/@dagrejs/dagre/lib/add-border-segments.js"(t,e){var n=Tn();e.exports=r;function r(s){function o(a){let l=s.children(a),c=s.node(a);if(l.length&&l.forEach(o),Object.hasOwn(c,"minRank")){c.borderLeft=[],c.borderRight=[];for(let u=c.minRank,d=c.maxRank+1;u<d;++u)i(s,"borderLeft","_bl",a,c,u),i(s,"borderRight","_br",a,c,u)}}s.children().forEach(o)}function i(s,o,a,l,c,u){let d={width:0,height:0,rank:u,borderType:o},f=c[o][u-1],h=n.addDummyNode(s,"border",d,a);c[o][u]=h,s.setParent(h,l),f&&s.setEdge(f,h,{weight:1})}}}),Oet=X({"../node_modules/@dagrejs/dagre/lib/coordinate-system.js"(t,e){e.exports={adjust:n,undo:r};function n(u){let d=u.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&i(u)}function r(u){let d=u.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&o(u),(d==="lr"||d==="rl")&&(l(u),i(u))}function i(u){u.nodes().forEach(d=>s(u.node(d))),u.edges().forEach(d=>s(u.edge(d)))}function s(u){let d=u.width;u.width=u.height,u.height=d}function o(u){u.nodes().forEach(d=>a(u.node(d))),u.edges().forEach(d=>{let f=u.edge(d);f.points.forEach(a),Object.hasOwn(f,"y")&&a(f)})}function a(u){u.y=-u.y}function l(u){u.nodes().forEach(d=>c(u.node(d))),u.edges().forEach(d=>{let f=u.edge(d);f.points.forEach(c),Object.hasOwn(f,"x")&&c(f)})}function c(u){let d=u.x;u.x=u.y,u.y=d}}}),bet=X({"../node_modules/@dagrejs/dagre/lib/order/init-order.js"(t,e){var n=Tn();e.exports=r;function r(i){let s={},o=i.nodes().filter(f=>!i.children(f).length),a=o.map(f=>i.node(f).rank),l=n.applyWithChunking(Math.max,a),c=n.range(l+1).map(()=>[]);function u(f){if(s[f])return;s[f]=!0;let h=i.node(f);c[h.rank].push(f),i.successors(f).forEach(u)}return o.sort((f,h)=>i.node(f).rank-i.node(h).rank).forEach(u),c}}}),xet=X({"../node_modules/@dagrejs/dagre/lib/order/cross-count.js"(t,e){var n=Tn().zipObject;e.exports=r;function r(s,o){let a=0;for(let l=1;l<o.length;++l)a+=i(s,o[l-1],o[l]);return a}function i(s,o,a){let l=n(a,a.map((m,g)=>g)),c=o.flatMap(m=>s.outEdges(m).map(g=>({pos:l[g.w],weight:s.edge(g).weight})).sort((g,y)=>g.pos-y.pos)),u=1;for(;u<a.length;)u<<=1;let d=2*u-1;u-=1;let f=new Array(d).fill(0),h=0;return c.forEach(m=>{let g=m.pos+u;f[g]+=m.weight;let y=0;for(;g>0;)g%2&&(y+=f[g+1]),g=g-1>>1,f[g]+=m.weight;h+=m.weight*y}),h}}}),vet=X({"../node_modules/@dagrejs/dagre/lib/order/barycenter.js"(t,e){e.exports=n;function n(r,i=[]){return i.map(s=>{let o=r.inEdges(s);if(o.length){let a=o.reduce((l,c)=>{let u=r.edge(c),d=r.node(c.v);return{sum:l.sum+u.weight*d.order,weight:l.weight+u.weight}},{sum:0,weight:0});return{v:s,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:s}})}}}),wet=X({"../node_modules/@dagrejs/dagre/lib/order/resolve-conflicts.js"(t,e){var n=Tn();e.exports=r;function r(o,a){let l={};o.forEach((u,d)=>{let f=l[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:d};u.barycenter!==void 0&&(f.barycenter=u.barycenter,f.weight=u.weight)}),a.edges().forEach(u=>{let d=l[u.v],f=l[u.w];d!==void 0&&f!==void 0&&(f.indegree++,d.out.push(l[u.w]))});let c=Object.values(l).filter(u=>!u.indegree);return i(c)}function i(o){let a=[];function l(u){return d=>{d.merged||(d.barycenter===void 0||u.barycenter===void 0||d.barycenter>=u.barycenter)&&s(u,d)}}function c(u){return d=>{d.in.push(u),--d.indegree===0&&o.push(d)}}for(;o.length;){let u=o.pop();a.push(u),u.in.reverse().forEach(l(u)),u.out.forEach(c(u))}return a.filter(u=>!u.merged).map(u=>n.pick(u,["vs","i","barycenter","weight"]))}function s(o,a){let l=0,c=0;o.weight&&(l+=o.barycenter*o.weight,c+=o.weight),a.weight&&(l+=a.barycenter*a.weight,c+=a.weight),o.vs=a.vs.concat(o.vs),o.barycenter=l/c,o.weight=c,o.i=Math.min(a.i,o.i),a.merged=!0}}}),_et=X({"../node_modules/@dagrejs/dagre/lib/order/sort.js"(t,e){var n=Tn();e.exports=r;function r(o,a){let l=n.partition(o,y=>Object.hasOwn(y,"barycenter")),c=l.lhs,u=l.rhs.sort((y,O)=>O.i-y.i),d=[],f=0,h=0,m=0;c.sort(s(!!a)),m=i(d,u,m),c.forEach(y=>{m+=y.vs.length,d.push(y.vs),f+=y.barycenter*y.weight,h+=y.weight,m=i(d,u,m)});let g={vs:d.flat(!0)};return h&&(g.barycenter=f/h,g.weight=h),g}function i(o,a,l){let c;for(;a.length&&(c=a[a.length-1]).i<=l;)a.pop(),o.push(c.vs),l++;return l}function s(o){return(a,l)=>a.barycenter<l.barycenter?-1:a.barycenter>l.barycenter?1:o?l.i-a.i:a.i-l.i}}}),$et=X({"../node_modules/@dagrejs/dagre/lib/order/sort-subgraph.js"(t,e){var n=vet(),r=wet(),i=_et();e.exports=s;function s(l,c,u,d){let f=l.children(c),h=l.node(c),m=h?h.borderLeft:void 0,g=h?h.borderRight:void 0,y={};m&&(f=f.filter(v=>v!==m&&v!==g));let O=n(l,f);O.forEach(v=>{if(l.children(v.v).length){let w=s(l,v.v,u,d);y[v.v]=w,Object.hasOwn(w,"barycenter")&&a(v,w)}});let b=r(O,u);o(b,y);let x=i(b,d);if(m&&(x.vs=[m,x.vs,g].flat(!0),l.predecessors(m).length)){let v=l.node(l.predecessors(m)[0]),w=l.node(l.predecessors(g)[0]);Object.hasOwn(x,"barycenter")||(x.barycenter=0,x.weight=0),x.barycenter=(x.barycenter*x.weight+v.order+w.order)/(x.weight+2),x.weight+=2}return x}function o(l,c){l.forEach(u=>{u.vs=u.vs.flatMap(d=>c[d]?c[d].vs:d)})}function a(l,c){l.barycenter!==void 0?(l.barycenter=(l.barycenter*l.weight+c.barycenter*c.weight)/(l.weight+c.weight),l.weight+=c.weight):(l.barycenter=c.barycenter,l.weight=c.weight)}}}),ket=X({"../node_modules/@dagrejs/dagre/lib/order/build-layer-graph.js"(t,e){var n=co().Graph,r=Tn();e.exports=i;function i(o,a,l){let c=s(o),u=new n({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(d=>o.node(d));return o.nodes().forEach(d=>{let f=o.node(d),h=o.parent(d);(f.rank===a||f.minRank<=a&&a<=f.maxRank)&&(u.setNode(d),u.setParent(d,h||c),o[l](d).forEach(m=>{let g=m.v===d?m.w:m.v,y=u.edge(g,d),O=y!==void 0?y.weight:0;u.setEdge(g,d,{weight:o.edge(m).weight+O})}),Object.hasOwn(f,"minRank")&&u.setNode(d,{borderLeft:f.borderLeft[a],borderRight:f.borderRight[a]}))}),u}function s(o){for(var a;o.hasNode(a=r.uniqueId("_root")););return a}}}),Pet=X({"../node_modules/@dagrejs/dagre/lib/order/add-subgraph-constraints.js"(t,e){e.exports=n;function n(r,i,s){let o={},a;s.forEach(l=>{let c=r.parent(l),u,d;for(;c;){if(u=r.parent(c),u?(d=o[u],o[u]=c):(d=a,a=c),d&&d!==c){i.setEdge(d,c);return}c=u}})}}}),Cet=X({"../node_modules/@dagrejs/dagre/lib/order/index.js"(t,e){var n=bet(),r=xet(),i=$et(),s=ket(),o=Pet(),a=co().Graph,l=Tn();e.exports=c;function c(h,m){if(m&&typeof m.customOrder=="function"){m.customOrder(h,c);return}let g=l.maxRank(h),y=u(h,l.range(1,g+1),"inEdges"),O=u(h,l.range(g-1,-1,-1),"outEdges"),b=n(h);if(f(h,b),m&&m.disableOptimalOrderHeuristic)return;let x=Number.POSITIVE_INFINITY,v;for(let w=0,_=0;_<4;++w,++_){d(w%2?y:O,w%4>=2),b=l.buildLayerMatrix(h);let $=r(h,b);$<x&&(_=0,v=Object.assign({},b),x=$)}f(h,v)}function u(h,m,g){return m.map(function(y){return s(h,y,g)})}function d(h,m){let g=new a;h.forEach(function(y){let O=y.graph().root,b=i(y,O,g,m);b.vs.forEach((x,v)=>y.node(x).order=v),o(y,g,b.vs)})}function f(h,m){Object.values(m).forEach(g=>g.forEach((y,O)=>h.node(y).order=O))}}}),jet=X({"../node_modules/@dagrejs/dagre/lib/position/bk.js"(t,e){var n=co().Graph,r=Tn();e.exports={positionX:g,findType1Conflicts:i,findType2Conflicts:s,addConflict:a,hasConflict:l,verticalAlignment:c,horizontalCompaction:u,alignCoordinates:h,findSmallestWidthAlignment:f,balance:m};function i(b,x){let v={};function w(_,$){let k=0,j=0,P=_.length,R=$[$.length-1];return $.forEach((N,A)=>{let C=o(b,N),T=C?b.node(C).order:P;(C||N===R)&&($.slice(j,A+1).forEach(E=>{b.predecessors(E).forEach(I=>{let M=b.node(I),Q=M.order;(Q<k||T<Q)&&!(M.dummy&&b.node(E).dummy)&&a(v,I,E)})}),j=A+1,k=T)}),$}return x.length&&x.reduce(w),v}function s(b,x){let v={};function w($,k,j,P,R){let N;r.range(k,j).forEach(A=>{N=$[A],b.node(N).dummy&&b.predecessors(N).forEach(C=>{let T=b.node(C);T.dummy&&(T.order<P||T.order>R)&&a(v,C,N)})})}function _($,k){let j=-1,P,R=0;return k.forEach((N,A)=>{if(b.node(N).dummy==="border"){let C=b.predecessors(N);C.length&&(P=b.node(C[0]).order,w(k,R,A,j,P),R=A,j=P)}w(k,R,k.length,P,$.length)}),k}return x.length&&x.reduce(_),v}function o(b,x){if(b.node(x).dummy)return b.predecessors(x).find(v=>b.node(v).dummy)}function a(b,x,v){if(x>v){let _=x;x=v,v=_}let w=b[x];w||(b[x]=w={}),w[v]=!0}function l(b,x,v){if(x>v){let w=x;x=v,v=w}return!!b[x]&&Object.hasOwn(b[x],v)}function c(b,x,v,w){let _={},$={},k={};return x.forEach(j=>{j.forEach((P,R)=>{_[P]=P,$[P]=P,k[P]=R})}),x.forEach(j=>{let P=-1;j.forEach(R=>{let N=w(R);if(N.length){N=N.sort((C,T)=>k[C]-k[T]);let A=(N.length-1)/2;for(let C=Math.floor(A),T=Math.ceil(A);C<=T;++C){let E=N[C];$[R]===R&&P<k[E]&&!l(v,R,E)&&($[E]=R,$[R]=_[R]=_[E],P=k[E])}}})}),{root:_,align:$}}function u(b,x,v,w,_){let $={},k=d(b,x,v,_),j=_?"borderLeft":"borderRight";function P(A,C){let T=k.nodes(),E=T.pop(),I={};for(;E;)I[E]?A(E):(I[E]=!0,T.push(E),T=T.concat(C(E))),E=T.pop()}function R(A){$[A]=k.inEdges(A).reduce((C,T)=>Math.max(C,$[T.v]+k.edge(T)),0)}function N(A){let C=k.outEdges(A).reduce((E,I)=>Math.min(E,$[I.w]-k.edge(I)),Number.POSITIVE_INFINITY),T=b.node(A);C!==Number.POSITIVE_INFINITY&&T.borderType!==j&&($[A]=Math.max($[A],C))}return P(R,k.predecessors.bind(k)),P(N,k.successors.bind(k)),Object.keys(w).forEach(A=>$[A]=$[v[A]]),$}function d(b,x,v,w){let _=new n,$=b.graph(),k=y($.nodesep,$.edgesep,w);return x.forEach(j=>{let P;j.forEach(R=>{let N=v[R];if(_.setNode(N),P){var A=v[P],C=_.edge(A,N);_.setEdge(A,N,Math.max(k(b,R,P),C||0))}P=R})}),_}function f(b,x){return Object.values(x).reduce((v,w)=>{let _=Number.NEGATIVE_INFINITY,$=Number.POSITIVE_INFINITY;Object.entries(w).forEach(([j,P])=>{let R=O(b,j)/2;_=Math.max(P+R,_),$=Math.min(P-R,$)});const k=_-$;return k<v[0]&&(v=[k,w]),v},[Number.POSITIVE_INFINITY,null])[1]}function h(b,x){let v=Object.values(x),w=r.applyWithChunking(Math.min,v),_=r.applyWithChunking(Math.max,v);["u","d"].forEach($=>{["l","r"].forEach(k=>{let j=$+k,P=b[j];if(P===x)return;let R=Object.values(P),N=w-r.applyWithChunking(Math.min,R);k!=="l"&&(N=_-r.applyWithChunking(Math.max,R)),N&&(b[j]=r.mapValues(P,A=>A+N))})})}function m(b,x){return r.mapValues(b.ul,(v,w)=>{if(x)return b[x.toLowerCase()][w];{let _=Object.values(b).map($=>$[w]).sort(($,k)=>$-k);return(_[1]+_[2])/2}})}function g(b){let x=r.buildLayerMatrix(b),v=Object.assign(i(b,x),s(b,x)),w={},_;["u","d"].forEach(k=>{_=k==="u"?x:Object.values(x).reverse(),["l","r"].forEach(j=>{j==="r"&&(_=_.map(A=>Object.values(A).reverse()));let P=(k==="u"?b.predecessors:b.successors).bind(b),R=c(b,_,v,P),N=u(b,_,R.root,R.align,j==="r");j==="r"&&(N=r.mapValues(N,A=>-A)),w[k+j]=N})});let $=f(b,w);return h(w,$),m(w,b.graph().align)}function y(b,x,v){return(w,_,$)=>{let k=w.node(_),j=w.node($),P=0,R;if(P+=k.width/2,Object.hasOwn(k,"labelpos"))switch(k.labelpos.toLowerCase()){case"l":R=-k.width/2;break;case"r":R=k.width/2;break}if(R&&(P+=v?R:-R),R=0,P+=(k.dummy?x:b)/2,P+=(j.dummy?x:b)/2,P+=j.width/2,Object.hasOwn(j,"labelpos"))switch(j.labelpos.toLowerCase()){case"l":R=j.width/2;break;case"r":R=-j.width/2;break}return R&&(P+=v?R:-R),R=0,P}}function O(b,x){return b.node(x).width}}}),Eet=X({"../node_modules/@dagrejs/dagre/lib/position/index.js"(t,e){var n=Tn(),r=jet().positionX;e.exports=i;function i(o){o=n.asNonCompoundGraph(o),s(o),Object.entries(r(o)).forEach(([a,l])=>o.node(a).x=l)}function s(o){let a=n.buildLayerMatrix(o),l=o.graph().ranksep,c=0;a.forEach(u=>{const d=u.reduce((f,h)=>{const m=o.node(h).height;return f>m?f:m},0);u.forEach(f=>o.node(f).y=c+d/2),c+=d+l})}}}),Tet=X({"../node_modules/@dagrejs/dagre/lib/layout.js"(t,e){var n=det(),r=fet(),i=pet(),s=Tn().normalizeRanks,o=met(),a=Tn().removeEmptyRanks,l=get(),c=yet(),u=Oet(),d=Cet(),f=Eet(),h=Tn(),m=co().Graph;e.exports=g;function g(U,G){let ie=G&&G.debugTiming?h.time:h.notime;ie("layout",()=>{let Y=ie("  buildLayoutGraph",()=>P(U));ie("  runLayout",()=>y(Y,ie,G)),ie("  updateInputGraph",()=>O(U,Y))})}function y(U,G,ie){G("    makeSpaceForEdgeLabels",()=>R(U)),G("    removeSelfEdges",()=>B(U)),G("    acyclic",()=>n.run(U)),G("    nestingGraph.run",()=>l.run(U)),G("    rank",()=>i(h.asNonCompoundGraph(U))),G("    injectEdgeLabelProxies",()=>N(U)),G("    removeEmptyRanks",()=>a(U)),G("    nestingGraph.cleanup",()=>l.cleanup(U)),G("    normalizeRanks",()=>s(U)),G("    assignRankMinMax",()=>A(U)),G("    removeEdgeLabelProxies",()=>C(U)),G("    normalize.run",()=>r.run(U)),G("    parentDummyChains",()=>o(U)),G("    addBorderSegments",()=>c(U)),G("    order",()=>d(U,ie)),G("    insertSelfEdges",()=>Z(U)),G("    adjustCoordinateSystem",()=>u.adjust(U)),G("    position",()=>f(U)),G("    positionSelfEdges",()=>W(U)),G("    removeBorderNodes",()=>Q(U)),G("    normalize.undo",()=>r.undo(U)),G("    fixupEdgeLabelCoords",()=>I(U)),G("    undoCoordinateSystem",()=>u.undo(U)),G("    translateGraph",()=>T(U)),G("    assignNodeIntersects",()=>E(U)),G("    reversePoints",()=>M(U)),G("    acyclic.undo",()=>n.undo(U))}function O(U,G){U.nodes().forEach(ie=>{let Y=U.node(ie),L=G.node(ie);Y&&(Y.x=L.x,Y.y=L.y,Y.rank=L.rank,G.children(ie).length&&(Y.width=L.width,Y.height=L.height))}),U.edges().forEach(ie=>{let Y=U.edge(ie),L=G.edge(ie);Y.points=L.points,Object.hasOwn(L,"x")&&(Y.x=L.x,Y.y=L.y)}),U.graph().width=G.graph().width,U.graph().height=G.graph().height}var b=["nodesep","edgesep","ranksep","marginx","marginy"],x={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},v=["acyclicer","ranker","rankdir","align"],w=["width","height"],_={width:0,height:0},$=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},j=["labelpos"];function P(U){let G=new m({multigraph:!0,compound:!0}),ie=le(U.graph());return G.setGraph(Object.assign({},x,oe(ie,b),h.pick(ie,v))),U.nodes().forEach(Y=>{let L=le(U.node(Y));const ae=oe(L,w);Object.keys(_).forEach(q=>{ae[q]===void 0&&(ae[q]=_[q])}),G.setNode(Y,ae),G.setParent(Y,U.parent(Y))}),U.edges().forEach(Y=>{let L=le(U.edge(Y));G.setEdge(Y,Object.assign({},k,oe(L,$),h.pick(L,j)))}),G}function R(U){let G=U.graph();G.ranksep/=2,U.edges().forEach(ie=>{let Y=U.edge(ie);Y.minlen*=2,Y.labelpos.toLowerCase()!=="c"&&(G.rankdir==="TB"||G.rankdir==="BT"?Y.width+=Y.labeloffset:Y.height+=Y.labeloffset)})}function N(U){U.edges().forEach(G=>{let ie=U.edge(G);if(ie.width&&ie.height){let Y=U.node(G.v),ae={rank:(U.node(G.w).rank-Y.rank)/2+Y.rank,e:G};h.addDummyNode(U,"edge-proxy",ae,"_ep")}})}function A(U){let G=0;U.nodes().forEach(ie=>{let Y=U.node(ie);Y.borderTop&&(Y.minRank=U.node(Y.borderTop).rank,Y.maxRank=U.node(Y.borderBottom).rank,G=Math.max(G,Y.maxRank))}),U.graph().maxRank=G}function C(U){U.nodes().forEach(G=>{let ie=U.node(G);ie.dummy==="edge-proxy"&&(U.edge(ie.e).labelRank=ie.rank,U.removeNode(G))})}function T(U){let G=Number.POSITIVE_INFINITY,ie=0,Y=Number.POSITIVE_INFINITY,L=0,ae=U.graph(),q=ae.marginx||0,te=ae.marginy||0;function re(ue){let fe=ue.x,Ee=ue.y,pe=ue.width,z=ue.height;G=Math.min(G,fe-pe/2),ie=Math.max(ie,fe+pe/2),Y=Math.min(Y,Ee-z/2),L=Math.max(L,Ee+z/2)}U.nodes().forEach(ue=>re(U.node(ue))),U.edges().forEach(ue=>{let fe=U.edge(ue);Object.hasOwn(fe,"x")&&re(fe)}),G-=q,Y-=te,U.nodes().forEach(ue=>{let fe=U.node(ue);fe.x-=G,fe.y-=Y}),U.edges().forEach(ue=>{let fe=U.edge(ue);fe.points.forEach(Ee=>{Ee.x-=G,Ee.y-=Y}),Object.hasOwn(fe,"x")&&(fe.x-=G),Object.hasOwn(fe,"y")&&(fe.y-=Y)}),ae.width=ie-G+q,ae.height=L-Y+te}function E(U){U.edges().forEach(G=>{let ie=U.edge(G),Y=U.node(G.v),L=U.node(G.w),ae,q;ie.points?(ae=ie.points[0],q=ie.points[ie.points.length-1]):(ie.points=[],ae=L,q=Y),ie.points.unshift(h.intersectRect(Y,ae)),ie.points.push(h.intersectRect(L,q))})}function I(U){U.edges().forEach(G=>{let ie=U.edge(G);if(Object.hasOwn(ie,"x"))switch((ie.labelpos==="l"||ie.labelpos==="r")&&(ie.width-=ie.labeloffset),ie.labelpos){case"l":ie.x-=ie.width/2+ie.labeloffset;break;case"r":ie.x+=ie.width/2+ie.labeloffset;break}})}function M(U){U.edges().forEach(G=>{let ie=U.edge(G);ie.reversed&&ie.points.reverse()})}function Q(U){U.nodes().forEach(G=>{if(U.children(G).length){let ie=U.node(G),Y=U.node(ie.borderTop),L=U.node(ie.borderBottom),ae=U.node(ie.borderLeft[ie.borderLeft.length-1]),q=U.node(ie.borderRight[ie.borderRight.length-1]);ie.width=Math.abs(q.x-ae.x),ie.height=Math.abs(L.y-Y.y),ie.x=ae.x+ie.width/2,ie.y=Y.y+ie.height/2}}),U.nodes().forEach(G=>{U.node(G).dummy==="border"&&U.removeNode(G)})}function B(U){U.edges().forEach(G=>{if(G.v===G.w){var ie=U.node(G.v);ie.selfEdges||(ie.selfEdges=[]),ie.selfEdges.push({e:G,label:U.edge(G)}),U.removeEdge(G)}})}function Z(U){var G=h.buildLayerMatrix(U);G.forEach(ie=>{var Y=0;ie.forEach((L,ae)=>{var q=U.node(L);q.order=ae+Y,(q.selfEdges||[]).forEach(te=>{h.addDummyNode(U,"selfedge",{width:te.label.width,height:te.label.height,rank:q.rank,order:ae+ ++Y,e:te.e,label:te.label},"_se")}),delete q.selfEdges})})}function W(U){U.nodes().forEach(G=>{var ie=U.node(G);if(ie.dummy==="selfedge"){var Y=U.node(ie.e.v),L=Y.x+Y.width/2,ae=Y.y,q=ie.x-L,te=Y.height/2;U.setEdge(ie.e,ie.label),U.removeNode(G),ie.label.points=[{x:L+2*q/3,y:ae-te},{x:L+5*q/6,y:ae-te},{x:L+q,y:ae},{x:L+5*q/6,y:ae+te},{x:L+2*q/3,y:ae+te}],ie.label.x=ie.x,ie.label.y=ie.y}})}function oe(U,G){return h.mapValues(h.pick(U,G),Number)}function le(U){var G={};return U&&Object.entries(U).forEach(([ie,Y])=>{typeof ie=="string"&&(ie=ie.toLowerCase()),G[ie]=Y}),G}}}),Net=X({"../node_modules/@dagrejs/dagre/lib/debug.js"(t,e){var n=Tn(),r=co().Graph;e.exports={debugOrdering:i};function i(s){let o=n.buildLayerMatrix(s),a=new r({compound:!0,multigraph:!0}).setGraph({});return s.nodes().forEach(l=>{a.setNode(l,{label:l}),a.setParent(l,"layer"+s.node(l).rank)}),s.edges().forEach(l=>a.setEdge(l.v,l.w,{},l.name)),o.forEach((l,c)=>{let u="layer"+c;a.setNode(u,{rank:"same"}),l.reduce((d,f)=>(a.setEdge(d,f,{style:"invis"}),f))}),a}}}),Aet=X({"../node_modules/@dagrejs/dagre/lib/version.js"(t,e){e.exports="1.1.4"}}),Ret=X({"../node_modules/@dagrejs/dagre/index.js"(t,e){e.exports={graphlib:co(),layout:Tet(),debug:Net(),util:{time:Tn().time,notime:Tn().notime},version:Aet()}}}),zP,cle,Met=F({"src/ui/components/canvas/layouts/index.ts"(){zP=Ce(Ret(),1),cle=({nodes:t,edges:e,graph:n})=>{const r=new zP.default.graphlib.Graph;return r.setDefaultEdgeLabel(()=>({})),r.setGraph(n||{}),t.forEach(i=>{r.setNode(i.id,{width:i.width,height:i.height})}),e.forEach(i=>{r.setEdge(i.target,i.source)}),zP.default.layout(r),{nodes:t.map(i=>{const s=r.node(i.id);return{...i,x:s.x-(i.width??0)/2,y:s.y-(i.height??0)/2}}),edges:e}}}});function Cr({position:t,className:e,children:n,unstyled:r,...i}){return r?p.jsx(dy,{position:t,className:Ie("flex flex-row p-1 gap-4",e),...i,children:n}):p.jsx(dy,{position:t,...i,children:p.jsx(vN,{className:e,children:n})})}var vN,iW,sW,ule=F({"src/ui/components/canvas/panels/Panel.tsx"(){vt(),Lt(),vN=({children:t,className:e,...n})=>p.jsx("div",{...n,className:Ie("flex flex-row bg-lightest border ring-2 ring-muted/5 border-muted rounded-full items-center p-1",e),children:t}),iW=({Icon:t,size:e="lg",variant:n="ghost",onClick:r,disabled:i,className:s,round:o,...a})=>p.jsx(lt,{Icon:t,size:e,variant:n,onClick:r,disabled:i,className:Ie(o?"rounded-full":"",s),...a}),sW=S.forwardRef(({children:t,className:e,mono:n,...r},i)=>p.jsx("span",{...r,ref:i,className:Ie("text-md font-medium leading-none",n&&"font-mono",e),children:t})),Cr.Wrapper=vN,Cr.IconButton=iW,Cr.Text=sW}});function dle({children:t,...e}){const[n,r]=S.useState(!1),i=Pp(),{zoom:s,x:o,y:a}=nqe(),l=Math.round(s*100),c=async()=>await i.zoomIn(),u=async()=>i.zoomTo(1),d=async()=>await i.zoomOut();function f(){r(h=>!h)}return p.jsxs(p.Fragment,{children:[t,e.coordinates&&p.jsx(Cr,{position:"bottom-center",children:p.jsxs(Cr.Text,{className:"px-2",mono:!0,children:[o.toFixed(2),",",a.toFixed(2)]})}),p.jsxs(Cr,{unstyled:!0,position:"bottom-right",children:[e.zoom&&p.jsx(p.Fragment,{children:p.jsxs(Cr.Wrapper,{className:"px-1.5",children:[p.jsx(Cr.IconButton,{Icon:JI,round:!0,onClick:c}),p.jsxs(Cr.Text,{className:"px-2",mono:!0,onClick:u,children:[l,"%"]}),p.jsx(Cr.IconButton,{Icon:p7e,round:!0,onClick:d}),p.jsx(Cr.IconButton,{Icon:f7e,round:!0,onClick:u})]})}),e.minimap&&p.jsxs(p.Fragment,{children:[p.jsx(Cr.Wrapper,{children:p.jsx(Cr.IconButton,{Icon:jT,round:!0,onClick:f,variant:n?"default":"ghost"})}),n&&p.jsx(rK,{style:{bottom:50,right:-5},ariaLabel:null})]})]})]})}var fle=F({"src/ui/components/canvas/panels/index.tsx"(){St(),ule()}});function Iet(){return{theme:nt().app.getAdminConfig().color_scheme}}var Det=F({"src/ui/client/use-theme.ts"(){Gt()}});function ur({selected:t,children:e,className:n,...r}){return Iet(),p.jsx("div",{...r,className:Ie("relative w-80 shadow-lg rounded-lg bg-background",t&&"outline outline-blue-500/25",n),children:e})}var oW,aW,y_=F({"src/ui/components/canvas/components/nodes/DefaultNode.tsx"(){vt(),Det(),oW=({className:t,label:e,children:n,...r})=>p.jsx("div",{...r,className:Ie("flex flex-row bg-primary/15 justify-center items-center rounded-tl-lg rounded-tr-lg py-1 px-2 drag-handle",t),children:n||p.jsx("span",{className:"font-semibold opacity-75 font-mono",children:e??"Untitled node"})}),aW=({children:t,className:e,...n})=>p.jsx("div",{...n,className:Ie("px-2 py-1.5 pb-2 flex flex-col",e),children:t}),ur.Header=oW,ur.Content=aW}});function Qet(t){S.useState(!1);const{data:e}=t,n=t.data.fields??{},r=Object.keys(n).length;return p.jsxs(ur,{selected:t.selected,children:[p.jsx(ur.Header,{label:e.label}),p.jsx("div",{children:Object.entries(n).map(([i,s],o)=>p.jsx(hle,{field:{name:i,...s},table:e.label,index:o,last:r===o+1},o))})]})}var WP,hle,gf,OD,Fet=F({"src/ui/modules/data/components/canvas/EntityTableNode.tsx"(){St(),vt(),y_(),WP={background:"transparent",border:"none"},hle=({field:t,table:e,index:n,onHover:r,last:i})=>{const s=gf.header+gf.row*n+gf.row/2,o=`${e}:${t.name}`;return p.jsxs("div",{className:Ie("flex flex-row w-full justify-between font-mono py-1.5 px-2.5 border-b border-primary/15 border-l border-r cursor-auto",i&&"rounded-bl-lg rounded-br-lg","hover:bg-primary/5"),children:[p.jsx(kd,{title:o,type:"source",id:o,position:Le.Left,style:{top:s,left:0,...WP}}),p.jsxs("div",{className:"flex w-6 pr-1.5 justify-center items-center",children:[t.type==="primary"&&p.jsx(d7e,{className:"text-yellow-700"}),t.type==="relation"&&p.jsx(i7e,{className:"text-sky-700"})]}),p.jsx("div",{className:"flex flex-grow",children:t.name}),p.jsx("div",{className:"flex opacity-60",children:t.type}),p.jsx(p.Fragment,{children:p.jsx(kd,{type:"target",title:o,id:o,position:Le.Right,style:{top:s,right:-5,...WP}})})]})},gf={header:30,row:32.5},OD={Component:Qet,getSize:t=>{const e=t.fields??{},n=Object.keys(e).length;return{width:320,height:gf.header+gf.row*n}}}}}),ple={};mo(ple,{DataSchemaCanvas:()=>Vet});function Let(t){return Object.entries(t??{}).map(([e,n])=>({id:e,data:{label:e,...n},type:"entity",dragHandle:".drag-handle",position:{x:0,y:0},sourcePosition:Le.Right,targetPosition:Le.Left}))}function qet(t){return Object.entries(t??{}).map(([e,n])=>{var i,s;let r=n.source+`:${n.target}`;return(i=n.config)!=null&&i.mappedBy&&(r=`${n.source}:${(s=n.config)==null?void 0:s.mappedBy}`),n.type!=="poly"&&(r+="_id"),{id:e,source:n.source,target:n.target,sourceHandle:r,targetHandle:n.target+":id"}})}function Vet(){const{config:{data:t}}=nt(),{theme:e}=t2(),n=Let(t.entities),r=qet(t.relations).map(s=>({...s,style:{stroke:e==="light"?"#ccc":"#666"},type:"smoothstep",markerEnd:{type:Wc.Arrow,width:20,height:20,color:e==="light"?"#aaa":"#777"}}));return cle({nodes:n.map(s=>({id:s.id,...OD.getSize(s.data)})),edges:r,graph:{rankdir:"LR",marginx:50,marginy:50}}).nodes.forEach(s=>{const o=n.find(a=>a.id===s.id);o&&(o.position={x:s.x,y:s.y})}),p.jsx(kM,{children:p.jsx(tle,{nodes:n,edges:r,nodeTypes:mle,minZoom:.1,maxZoom:2,fitViewOptions:{minZoom:.1,maxZoom:.8},children:p.jsx(dle,{zoom:!0,minimap:!0})})})}var mle,Bet=F({"src/ui/modules/data/components/canvas/DataSchemaCanvas.tsx"(){ya(),n2(),nle(),Met(),fle(),Fet(),mle={entity:OD.Component}}});function Km({label:t,description:e,size:n,...r}){return p.jsxs(ht.Wrapper,{className:"relative",children:[t&&p.jsxs("div",{className:"flex flex-col",children:[p.jsx(ht.Label,{size:n,children:t}),e&&p.jsx(ht.Description,{size:n,children:e})]}),p.jsx(Fd,{...r,size:n})]})}var gle=F({"src/ui/components/form/SegmentedControl.tsx"(){}});function zet(t){return!t||Array.isArray(t)?[Rv]:Object.entries(t).map(([e,n])=>({key:e,value:n}))}var Rv,bc,yle=F({"src/ui/modules/flows/components2/form/KeyValueInput.tsx"(){Rn(),vt(),Lt(),Rv={key:"",value:""},bc=({label:t,initialValue:e,onChange:n,error:r,classNames:i,mode:s="object"})=>{const[o,a]=S.useState(e?zet(e):[Rv]);S.useEffect(()=>{if(n)if(s==="object"){const d=o.reduce((f,h)=>(h.key&&typeof h.value<"u"&&(f[h.key]=h.value),f),{});n(d)}else n(o)},[o]);function l(){a(d=>[...d,Rv])}function c(d,f){return h=>{const m=h.currentTarget.value;a(g=>g.map((y,O)=>O===d?{...y,[f]:m}:y))}}function u(d){return()=>{a(f=>f.filter((h,m)=>m!==d))}}return p.jsxs(ht.Wrapper,{className:"w-full",children:[p.jsxs("div",{className:"flex flex-row w-full justify-between",children:[t?p.jsx(ht.Label,{className:i==null?void 0:i.label,children:t}):p.jsx("div",{}),p.jsx(lt,{Icon:CO,size:"xs",onClick:l})]}),p.jsxs("div",{className:Ie("flex flex-col gap-2",i==null?void 0:i.itemWrapper),children:[o.map(({key:d,value:f},h)=>p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[o.length>1&&p.jsx(lt,{Icon:eee,size:"xs",onClick:u(h)}),p.jsx(Mt,{className:"w-36",placeholder:"key",value:d,classNames:{wrapper:"font-mono pt-px"},onChange:c(h,"key")}),p.jsx(Mt,{className:"w-full",placeholder:"value",value:f,classNames:{wrapper:"font-mono pt-px"},onChange:c(h,"value")})]},h)),r&&p.jsx(ht.Error,{children:r})]})]})}}});function Wet(){const[t,e]=S.useState("1");function n(r){return()=>e(r)}return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsx(In,{right:p.jsx(p.Fragment,{children:p.jsx(vr,{items:[{label:"Settings"}],position:"bottom-end",children:p.jsx(lt,{Icon:jl})})}),className:"pl-3",children:p.jsx(nm,{path:[{label:"Schema",href:"/"},{label:"Quizzes"}],backTo:"/"})}),p.jsx(Jm,{title:"Fields",open:t==="1",toggle:n("1"),ActiveIcon:kO,renderHeaderRight:({open:r})=>r?p.jsx(Ue,{variant:"primary",disabled:!r,children:"Update"}):null}),p.jsx(Jm,{title:"Settings",open:t==="2",toggle:n("2"),ActiveIcon:Cd}),p.jsx(Jm,{title:"Relations",open:t==="3",toggle:n("3"),ActiveIcon:PO}),p.jsx(Jm,{title:"Indices",open:t==="4",toggle:n("4"),ActiveIcon:iI})]})}var Jm,Uet=F({"src/ui/routes/test/tests/appshell-accordions-test.tsx"(){Rn(),St(),vt(),wt(),Lt(),Jr(),Et(),rb(),Jm=({title:t,open:e,toggle:n,ActiveIcon:r=oI,children:i,renderHeaderRight:s})=>p.jsxs("div",{style:{minHeight:49},className:Ie("flex flex-col flex-animate overflow-hidden",e?"flex-open border-b border-b-muted":"flex-initial cursor-pointer hover:bg-primary/5"),children:[p.jsxs("div",{className:Ie("flex flex-row border-muted border-b h-14 py-4 pr-4 pl-2 items-center gap-2"),onClick:n,children:[p.jsx(lt,{Icon:e?r:sI,disabled:e}),p.jsx("h2",{className:"text-lg dark:font-bold font-semibold select-text",children:t}),p.jsx("div",{className:"flex flex-grow"}),s==null?void 0:s({open:e})]}),p.jsx("div",{className:Ie("overflow-y-scroll transition-all",e?" flex-grow":"h-0 opacity-0"),children:p.jsx("div",{className:"flex flex-col gap-5 p-4 ",children:i})})]})}});function Zet(){const[t,e]=S.useState(null);return p.jsxs(p.Fragment,{children:[p.jsx(XW,{schema:ble,onChange:e,onSubmit:e,validator:Ole,validationMode:"change",children:({errors:n,dirty:r,reset:i})=>p.jsxs(p.Fragment,{children:[p.jsx("div",{children:p.jsxs("b",{children:["Form ",r?"*":""," (valid: ",n.length===0?"valid":"invalid",")"]})}),p.jsxs("div",{children:[p.jsx("input",{type:"text",name:"name"}),p.jsx("input",{type:"number",name:"age"})]}),p.jsxs("div",{children:[p.jsx("button",{type:"submit",children:"submit"}),p.jsx("button",{type:"button",onClick:i,children:"reset"})]})]})}),p.jsx("pre",{children:JSON.stringify(t,null,2)})]})}var lW,Ole,ble,Xet=F({"src/ui/routes/test/tests/json-schema-form-react-test.tsx"(){lW=class{async validate(t,e){return G0(t,e)?[]:[...Zy(t,e)]}},Ole=new lW,ble=D.Object({name:D.String(),age:D.Optional(D.Number())})}});function Yet(){return S.useEffect(()=>{const t=document.createElement("script");return t.src="https://unpkg.com/swagger-ui-dist@5.11.0/swagger-ui-bundle.js",t.crossOrigin="anonymous",t.async=!0,t.onload=()=>{window.SwaggerUIBundle&&(window.ui=window.SwaggerUIBundle({url:"http://localhost:28623/api/system/openapi.json",dom_id:"#swagger-ui"}))},document.body.appendChild(t),()=>{document.body.removeChild(t)}},[]),p.jsxs(p.Fragment,{children:[p.jsx("link",{rel:"stylesheet",href:"https://unpkg.com/swagger-ui-dist@5.11.0/swagger-ui.css"}),p.jsx(nn,{children:p.jsx("div",{id:"swagger-ui"})})]})}var xle,Get=F({"src/ui/routes/test/tests/swagger-test.tsx"(){Et(),xle=Yet}});function Het(){const[t,e]=S.useState(""),{data:n,...r}=IO(s=>s.data.readOne("comments",1),{refine:s=>s.data,revalidateOnFocus:!0}),i=n||null;return S.useEffect(()=>{e((i==null?void 0:i.content)??"")},[i]),p.jsxs(nn,{children:[p.jsx("pre",{children:JSON.stringify(r.key)}),r.error&&p.jsx("div",{children:"failed to load"}),r.isLoading&&p.jsx("div",{children:"loading..."}),n&&p.jsx("pre",{children:JSON.stringify(n,null,2)}),n&&p.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),!!i)return!1},children:[p.jsx("input",{type:"text",value:t,onChange:s=>e(s.target.value)}),p.jsx("button",{type:"submit",children:"submit"})]})]})}var Ket=F({"src/ui/routes/test/tests/swr-and-api.tsx"(){Dr(),Et()}});function Jet(){return p.jsxs(nn,{children:["asdf",p.jsx(ntt,{}),p.jsx(ttt,{}),p.jsx(ett,{})]})}function ett(){const{mutate:t}=LI("comments"),{data:e,...n}=Ad("comments",void 0,{limit:2});return p.jsxs("div",{children:["bla",p.jsx("pre",{children:JSON.stringify(n.key)}),n.error&&p.jsx("div",{children:"failed to load"}),n.isLoading&&p.jsx("div",{children:"loading..."}),e&&p.jsx("pre",{children:JSON.stringify(e,null,2)}),e&&p.jsx("div",{children:e.map(r=>p.jsx("input",{type:"text",value:r.content,onChange:async i=>{await t(r.id,{content:i.target.value})},className:"border border-black"},String(r.id)))})]})}function ttt(){const{data:t,update:e,...n}=Ad("comments",void 0,{sort:{by:"id",dir:"asc"},limit:3});return p.jsxs("div",{children:[p.jsx("pre",{children:JSON.stringify(n.key)}),n.error&&p.jsx("div",{children:"failed to load"}),n.isLoading&&p.jsx("div",{children:"loading..."}),t&&p.jsx("pre",{children:JSON.stringify(t,null,2)})]})}function ntt(){const[t,e]=S.useState(),{create:n,read:r,update:i,_delete:s}=xT("comments");return S.useEffect(()=>{r().then(o=>e(o))},[]),p.jsx("pre",{children:JSON.stringify(t,null,2)})}var rtt=F({"src/ui/routes/test/tests/swr-and-data-api.tsx"(){lne(),Et()}}),itt=F({"src/ui/layouts/AppShell/index.ts"(){Et()}});function stt(){const t=new AI().getSchema(),[e,n]=S.useState(tr(t,{}));return p.jsxs(nn,{children:[p.jsx("div",{className:"flex flex-col p-3",children:p.jsx(Ts,{schema:t,onChange:n,className:"legacy hide-required-mark"})}),p.jsx(lo,{json:e,expand:9})]})}var ott=F({"src/ui/routes/test/tests/flow-create-schema-test.tsx"(){we(),Wte(),El(),vo(),Et()}});function att({task:t,onChange:e,...n}){const r=t.constructor.schema,i=t.params;return Object.fromEntries(Object.keys(r.properties).map(s=>[s,{"ui:field":"template","ui:fieldReplacesAnyOrOneOf":!0}])),p.jsx(Ts,{className:"legacy",schema:r,onChange:e,formData:i,...n})}var ltt=F({"src/ui/modules/flows/components/form/TaskForm.tsx"(){vo()}});function ctt(){const[t,e]=S.useState(null),n=new A1("Fetch Something",{url:"https://jsonplaceholder.typicode.com/todos/1",method:"{{ input.mode }}"});return p.jsxs("div",{className:"flex flex-col p-3",children:[p.jsx(att,{task:n,onChange:e}),p.jsx("pre",{children:JSON.stringify(t,null,2)})]})}var utt=F({"src/ui/routes/test/tests/flow-form-test.tsx"(){Wd(),ltt()}});function dtt(){const[t,{open:e,close:n}]=Cl(!0);return p.jsxs("div",{className:"flex flex-col w-full h-full justify-center items-center",children:[p.jsx("button",{onClick:e,children:"Open"}),p.jsx(pD,{open:t,onClose:n,children:p.jsxs("div",{className:"border-blue-500 border-2 p-10",children:["Modal content ",p.jsx("button",{onClick:n,children:"close"})]})})]})}var ftt=F({"src/ui/routes/test/tests/modal-test.tsx"(){en(),mD()}});function htt(){const[t,e]=S.useState(null);return p.jsx(nn,{children:p.jsxs("div",{className:"flex flex-col gap-3 p-3",children:[p.jsx(Ts,{schema:vle,onChange:e}),p.jsx("pre",{children:JSON.stringify(t,null,2)})]})})}var vle,ptt=F({"src/ui/routes/test/tests/query-jsonform.tsx"(){vo(),Et(),vle={definitions:{primitive:{anyOf:[{title:"String",type:"string"},{title:"Number",type:"number"},{title:"Boolean",type:"boolean"}]},numeric:{anyOf:[{title:"Number",type:"number"},{title:"Datetime",type:"string",format:"date-time"},{title:"Date",type:"string",format:"date"},{title:"Time",type:"string",format:"time"}]},boolean:{title:"Boolean",type:"boolean"}},type:"object",properties:{operand:{enum:["$and","$or"],default:"$and",type:"string"},conditions:{type:"array",items:{type:"object",properties:{operand:{enum:["$and","$or"],default:"$and",type:"string"},key:{type:"string"},operator:{type:"array",items:{anyOf:[{title:"Equals",type:"object",properties:{$eq:{$ref:"#/definitions/primitive"}},required:["$eq"]},{title:"Lower than",type:"object",properties:{$lt:{$ref:"#/definitions/numeric"}},required:["$lt"]},{title:"Greather than",type:"object",properties:{$gt:{$ref:"#/definitions/numeric"}},required:["$gt"]},{title:"Between",type:"object",properties:{$between:{type:"array",items:{$ref:"#/definitions/numeric"},minItems:2,maxItems:2}},required:["$between"]},{title:"In",type:"object",properties:{$in:{type:"array",items:{$ref:"#/definitions/primitive"},minItems:1}}}]},minItems:1}},required:["key","operator"]},minItems:1}},required:["operand","conditions"]}}});function mtt(){return p.jsx("div",{className:"flex flex-col w-full h-full justify-center items-center",children:p.jsx(vr,{items:[{label:"Item 1",value:"item1"},{label:"Item 2",value:"item2"},{label:"Item 3",value:"item3"}],children:p.jsx("button",{children:"Dropdown"})})})}var gtt=F({"src/ui/routes/test/tests/dropdown-test.tsx"(){Jr()}});function ytt(){return p.jsx(nn,{children:p.jsxs("div",{className:"flex flex-col w-full h-full p-4 gap-4",children:[p.jsxs("div",{children:[p.jsx("b",{children:"Dropzone User Avatar 1 (fully customized)"}),p.jsx(Zs.Dropzone,{entity:{name:"users",id:1,field:"avatar"},maxItems:1,overwrite:!0,children:p.jsx(Ott,{})})]}),p.jsxs("div",{children:[p.jsx("b",{children:"Dropzone User Avatar 1 (overwrite)"}),p.jsx(Zs.Dropzone,{entity:{name:"users",id:1,field:"avatar"},maxItems:1,overwrite:!0})]}),p.jsxs("div",{children:[p.jsx("b",{children:"Dropzone User Avatar 1"}),p.jsx(Zs.Dropzone,{entity:{name:"users",id:1,field:"avatar"},maxItems:1})]}),p.jsxs("div",{children:[p.jsx("b",{children:"Dropzone Container blank w/ query"}),p.jsx(Zs.Dropzone,{query:{limit:2}})]}),p.jsxs("div",{children:[p.jsx("b",{children:"Dropzone Container blank"}),p.jsx(Zs.Dropzone,{})]}),p.jsxs("div",{children:[p.jsx("b",{children:"Dropzone Post 12"}),p.jsx(Zs.Dropzone,{entity:{name:"posts",id:12,field:"images"}})]})]})})}function Ott(){const{wrapperRef:t,inputProps:e,state:{files:n,isOver:r,isOverAccepted:i,showPlaceholder:s},actions:{openFileInput:o}}=Zs.useDropzone(),a=n[0];return p.jsxs("div",{ref:t,className:"size-32 rounded-full border border-gray-200 flex justify-center items-center leading-none overflow-hidden",children:[p.jsx("div",{className:"hidden",children:p.jsx("input",{...e})}),s&&p.jsx(p.Fragment,{children:r&&i?"let it drop":"drop here"}),a&&p.jsx(Zs.Preview,{file:a,className:"object-cover w-full h-full",onClick:o})]})}var btt=F({"src/ui/routes/test/tests/dropzone-element-test.tsx"(){g_(),Et()}});function xtt(){const{control:t,formState:{isValid:e,errors:n},getValues:r,handleSubmit:i,watch:s,register:o,setValue:a}=js({mode:"onTouched",resolver:Yi(wle),defaultValues:{fields:[{type:"text",name:"",config:{}}],sort:{by:"-1",dir:"asc"}}});Object.keys(rh)[0];const{fields:l,append:c,prepend:u,remove:d,swap:f,move:h,insert:m,update:g}=Hne({control:t,name:"fields"});function y(){c({type:"text",name:"",config:{}})}return p.jsxs("div",{className:"flex flex-col gap-1 p-8",children:[l.map((O,b)=>p.jsx(vtt,{value:O,index:b,update:g},O.id)),p.jsx(Ue,{className:"justify-center",onClick:y,children:"Add Field"}),p.jsx("div",{children:p.jsx("pre",{children:JSON.stringify(s(),null,2)})})]})}function vtt({update:t,index:e,value:n}){var a;const{register:r,handleSubmit:i,control:s,formState:{errors:o}}=js({mode:"onBlur",resolver:Yi(D.Object({type:jt(Object.keys(rh)),name:D.String({minLength:1,maxLength:3})})),defaultValues:n});return p.jsxs("form",{children:[p.jsx(ol,{control:s,name:"type",data:[...Object.keys(rh),"test"]}),p.jsx(Mt,{label:"Name",placeholder:"name",classNames:{root:"w-full"},...r("name"),error:(a=o.name)==null?void 0:a.message})]})}var rh,cW,wle,wtt=F({"src/ui/routes/test/tests/entity-fields-form.tsx"(){bo(),we(),xr(),ir(),wt(),qp(),rh=Yt(to(wI,["primary"]),t=>t.schema),cW=D.Union(Object.entries(rh).map(([t,e])=>D.Object({type:D.Const(t),name:Vi,config:D.Optional(e)},{additionalProperties:!1}))),wle=D.Object({fields:D.Array(cW)}),D.Object({type:jt(Object.keys(rh)),name:Vi})}});function Stt(){return p.jsx(nn,{children:p.jsxs("div",{className:"flex flex-col justify-center p-4 w-full h-full items-center gap-10",children:[p.jsx(Sle,{}),p.jsx($le,{}),p.jsx(_le,{})]})})}var Ax,Sle,_le,$le,_tt=F({"src/ui/routes/test/tests/flows-test.tsx"(){en(),Rn(),St(),y_(),yle(),wt(),Lt(),uD(),gle(),Et(),Ax=({Icon:t,iconProps:e,rightSection:n,initialValue:r,onChange:i})=>p.jsxs(ur.Header,{className:"justify-between gap-3",children:[p.jsxs("div",{className:"flex flex-row flex-grow gap-1 items-center",children:[p.jsx(t,{width:16,height:16,...e??{}}),p.jsx("input",{type:"text",value:r,onChange:i||(()=>{}),className:"font-mono font-semibold bg-transparent w-full rounded-lg outline-none pl-1.5 hover:bg-background/30 transition-colors focus:bg-background/60"})]}),p.jsx("div",{children:p.jsx(lt,{Icon:Ene,size:"sm"})})]}),Sle=()=>p.jsxs(ur,{className:"w-96",children:[p.jsx(Ax,{Icon:uI,initialValue:"test_flow"}),p.jsxs(ur.Content,{className:"gap-3",children:[p.jsxs("div",{className:"flex flex-row justify-between items-center",children:[p.jsx(Km,{label:"Trigger Type",defaultValue:"manual",data:[{label:"Manual",value:"manual"},{label:"HTTP",value:"http"},{label:"Event",value:"event",disabled:!0}]}),p.jsx(Km,{label:"Execution Mode",defaultValue:"async",data:[{label:"Async",value:"async"},{label:"Sync",value:"sync"}]})]}),p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(Wa,{className:"w-36",label:"Method",defaultValue:"GET",data:["GET","POST","PATCH","PUT","DEL"]}),p.jsx(Mt,{className:"w-full",label:"Mapping Path",placeholder:"/trigger_http",classNames:{wrapper:"font-mono pt-px"}})]}),p.jsx("div",{className:"flex flex-row gap-2 items-center",children:p.jsx(Km,{className:"w-full",label:"Response Type",defaultValue:"json",data:[{label:"JSON",value:"json"},{label:"HTML",value:"html"},{label:"Text",value:"text"}]})})]})]}),_le=()=>{const[t,e]=y1([!0,!1]);return p.jsxs(ur,{className:"w-[400px]",children:[p.jsx(Ax,{Icon:O1,initialValue:"fetch_something"}),p.jsxs(ur.Content,{className:"gap-3",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(Wa,{className:"w-36",label:"Method",defaultValue:"GET",data:["GET","POST","PATCH","PUT","DEL"]}),p.jsx(Mt,{className:"w-full",label:"Mapping Path",placeholder:"/trigger_http",classNames:{wrapper:"font-mono pt-px"}})]}),p.jsx(Ue,{onClick:e,className:"justify-center",size:"small",variant:"ghost",iconSize:14,IconLeft:t?lI:CO,children:"More options"}),t&&p.jsxs(p.Fragment,{children:[p.jsx(bc,{label:"URL query"}),p.jsx(bc,{label:"Headers"}),p.jsx("div",{className:"flex flex-row gap-2 items-center",children:p.jsxs(ht.Wrapper,{className:"w-full",children:[p.jsx(ht.Label,{children:"Body"}),p.jsx(Km,{data:["None","Form","JSON"],defaultValue:"JSON"}),p.jsx(bc,{label:""})]})})]})]})]})},$le=()=>p.jsxs(ur,{className:"w-[400px]",children:[p.jsx(Ax,{Icon:ou,initialValue:"query_multiple"}),p.jsxs(ur.Content,{className:"gap-3",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(Wa,{className:"w-6/12",label:"Entity",placeholder:"Select entity",data:["users","posts","comments"]}),p.jsx(Wa,{className:"w-4/12",label:"Sort by",data:["id","title","username"],defaultValue:"id"}),p.jsx(Wa,{className:"w-2/12",label:"Sort dir",data:["asc","desc"],defaultValue:"asc"})]}),p.jsx(Tg,{label:"Select properties",data:["id","title","username"],placeholder:"All selected"}),p.jsx(Tg,{label:"Embed relations",data:["posts","comments"],placeholder:"None selected"}),p.jsxs(ht.Wrapper,{className:"w-full",children:[p.jsx(ht.Label,{children:"Where object"}),p.jsx("div",{className:"text-sm placeholder:text-slate-400 placeholder:opacity-80",children:p.jsx(cD,{basicSetup:{lineNumbers:!1,foldGutter:!1}})})]})]})]})}});function $tt(){const t={type:"object",properties:{name:{type:"string",title:"Name",minLength:3},variants:{anyOf:[{type:"string"},{type:"number"}]}}},e=S.useRef(null);function n(){var r,i;console.log("submit",(r=e.current)==null?void 0:r.formData()),console.log("isvalid",(i=e.current)==null?void 0:i.validateForm())}return p.jsxs(p.Fragment,{children:[p.jsx(In,{right:p.jsx(Ue,{type:"button",variant:"primary",onClick:n,children:"Submit"}),children:"JSON Schema"}),p.jsx("div",{children:p.jsxs("div",{className:"flex flex-grow flex-col gap-3 p-3",children:[p.jsxs(us,{children:[p.jsx(yl,{htmlFor:"name",children:"Name"}),p.jsx(Ol,{id:"name",name:"name"})]}),p.jsx(us,{children:p.jsx(Ts,{ref:e,schema:t})}),p.jsxs(us,{children:[p.jsx(yl,{htmlFor:"name",children:"Options"}),p.jsx(hD,{id:"options",name:"options"})]})]})})]})}var ktt=F({"src/ui/routes/test/tests/jsonform-test/index.tsx"(){tae(),wt(),vo(),cu(),Et()}});function Ptt(){return p.jsxs("div",{className:"flex flex-col p-4 gap-3",children:[p.jsx("h1",{children:"LiquidJsTest"}),p.jsx(dD,{}),p.jsx(Mt,{}),p.jsx(Ol,{})]})}var Ctt=F({"src/ui/routes/test/tests/liquid-js-test.tsx"(){fD(),cu()}});function jtt(){return p.jsxs("div",{className:"p-4 flex flex-col gap-2 items-start",children:[p.jsx("h1",{children:"mantine"}),p.jsxs("div",{className:"flex flex-row gap-2 justify-center content-center items-center",children:[p.jsx(Nc,{color:"blue",children:"Mantine"}),p.jsx(Ue,{children:"Button"}),p.jsx(Ue,{variant:"primary",children:"Button"})]}),p.jsx(Ett,{}),p.jsx(Ttt,{}),p.jsx(fo,{defaultChecked:!0,label:"I agree to sell my privacy"})]})}function Ett(){const[t,{open:e,close:n}]=Cl(!1);return p.jsxs(p.Fragment,{children:[p.jsx(Wi,{opened:t,onClose:n,title:"Authentication",children:p.jsx("div",{children:"Modal content"})}),p.jsx(Nc,{onClick:e,children:"Open modal"})]})}function Ttt(){const{colorScheme:t}=Vme();return p.jsx(_l,{label:"Tooltip",children:p.jsxs("span",{children:["Hover me (",t,")"]})})}var Ntt=F({"src/ui/routes/test/tests/mantine-test.tsx"(){en(),wt()}});function Att(){var s;const{register:t,handleSubmit:e,watch:n,formState:{errors:r}}=js({resolver:Yi(kle)}),i=o=>console.log(o);return console.log(n("example")),console.log("errors",r),p.jsxs("form",{onSubmit:e(i),children:[p.jsx(Mt,{defaultValue:"test",...t("example")}),p.jsx(Mt,{...t("exampleRequired"),error:(s=r.exampleRequired)==null?void 0:s.message}),p.jsx("div",{children:p.jsx("input",{type:"submit"})}),p.jsx("div",{children:Object.entries(r).map(([o,a])=>p.jsxs("p",{children:[o,": ",a.message]},o))})]})}var kle,Rtt=F({"src/ui/routes/test/tests/react-hook-errors.tsx"(){bo(),ir(),kle=D.Object({example:D.Optional(D.String()),exampleRequired:D.String({minLength:2})})}});function Mtt(){return p.jsx("div",{style:{width:"100vw",height:"100vh"},children:p.jsx(JH,{nodes:Ple,edges:Cle})})}var Ple,Cle,Itt=F({"src/ui/routes/test/tests/reactflow-test.tsx"(){Ple=[{id:"1",position:{x:0,y:0},data:{label:"1"}},{id:"2",position:{x:0,y:100},data:{label:"2"}}],Cle=[{id:"e1-2",source:"1",target:"2"}]}});function Dtt(){const{app:t,schema:e}=nt(),n=["auth","server","media","data"],[r,i]=S.useState(n[0]);if(console.log("schema",e,t.config),!e)return;const s={key:r,schema:e[r],uiSchema:jle[r]||{},config:t.config[r]};return console.log("current",s),p.jsx(nn,{children:p.jsxs("div",{className:"flex flex-col gap-2 p-3",children:[p.jsx("div",{className:"flex flex-row gap-2",children:n.map(o=>p.jsx("button",{role:"button",className:Ie("flex py-2 px-3",o===r&&"bg-primary/5"),onClick:()=>i(o),children:o},o))}),p.jsx(Ts,{schema:s.schema,formData:s.config,uiSchema:s.uiSchema,onChange:console.log,className:"legacy"})]})})}var jle,Qtt=F({"src/ui/routes/test/tests/schema-test.tsx"(){vt(),ya(),vo(),Et(),jle={auth:{jwt:{basepath:{"ui:options":{label:!1}},fields:{"ui:options":{label:!1,orderable:!1}}},strategies:{additionalProperties:{"ui:widget":"select",type:{"ui:widget":"hidden"}},type:{"ui:widget":"hidden"}}},server:{cors:{allow_methods:{"ui:widget":"checkboxes"},allow_headers:{"ui:options":{orderable:!1}}}},media:{adapter:{"ui:options":{label:!1},type:{"ui:widget":"hidden"}}}}}});function Ftt(){return p.jsxs("div",{children:["sortable",p.jsx("div",{className:"p-4",children:p.jsx(Ltt,{data:[{id:"C",name:"Carbon"},{id:"N",name:"Nitrogen"},{id:"Y",name:"Yttrium"},{id:"Ba",name:"Barium"},{id:"Ce",name:"Cerium"}],onReordered:(...t)=>console.log("reordered",t),onChange:t=>console.log("changed",t)})})]})}function Ltt({data:t=[],extractId:e,renderItem:n,dndProps:r={droppableId:"sortable-list",direction:"vertical"},onReordered:i,onChange:s}){const[o,a]=_We(t);function l({destination:u,source:d}){const f={from:d.index,to:(u==null?void 0:u.index)||0};a.reorder(f),i==null||i(f.from,f.to)}S.useEffect(()=>{s==null||s(o)},[o]);const c=o.map((u,d)=>{const f=e?e(u):S.useId();return p.jsx(fJ,{index:d,draggableId:f,children:(h,m,g)=>n?n({...u,dnd:{provided:h,snapshot:m,rubic:g}}):p.jsxs("div",{className:"flex flex-row gap-2 p-2 border border-gray-200 rounded-md mb-3 bg-white items-center",ref:h.innerRef,...h.draggableProps,children:[p.jsx("div",{...h.dragHandleProps,children:p.jsx(aI,{className:"size-5",stroke:1.5})}),p.jsx("p",{children:JSON.stringify(u)})]})},f)});return p.jsx(aJ,{onDragEnd:l,children:p.jsx(yJ,{...r,children:u=>p.jsxs("div",{...u.droppableProps,ref:u.innerRef,children:[c,u.placeholder]})})})}var qtt=F({"src/ui/routes/test/tests/sortable-test.tsx"(){en(),Rn()}});function Vtt(){const[t,e]=S.useState([]),[n,r]=S.useState(!1);async function i(){if(n)return;e([]),r(!0);const s=new EventSource("/api/system/test/sql");s.onmessage=o=>{if(o.data==="[DONE]"){r(!1),s.close();return}const a=JSON.parse(o.data);e(l=>[...l,a]),console.log("data",a)}}return p.jsxs("div",{className:"flex flex-col gap-2 p-4",children:[p.jsx("h1",{children:"ai sql test"}),p.jsx("button",{onClick:i,children:n?"...":"start"}),p.jsx("div",{children:t.map((s,o)=>p.jsx("span",{children:s.response},o))})]})}var Btt=F({"src/ui/routes/test/tests/sql-ai-test.tsx"(){}}),Ele={};mo(Ele,{default:()=>ztt});function ztt(){return p.jsxs(Utt,{children:[p.jsx(Ze,{path:"/",component:()=>p.jsx(wr,{title:"Test",description:"Select one."})}),p.jsx(Ze,{path:"/:test",component:Wtt})]})}function Wtt(){const t=ST();if(!t.test||!(t.test in A0))return p.jsx(wr,{title:"Test not found"});const e=A0[t.test];return p.jsx(e,{})}function Utt({children:t}){return p.jsxs(p.Fragment,{children:[p.jsxs(Ym.Sidebar,{children:[p.jsx(Ym.SectionHeader,{children:"Tests"}),p.jsx(Ym.Scrollable,{initialOffset:96,children:p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsx("nav",{className:"flex flex-col flex-1 gap-1",children:Object.entries(A0).map(([e,n])=>p.jsx(Ym.SidebarLink,{as:jn,href:`/${e}`,children:e},e))})})})]}),p.jsx("main",{className:"flex flex-col flex-grow",children:t})]})}var A0,Ztt=F({"src/ui/routes/test/index.tsx"(){Uet(),Xet(),Get(),Ket(),rtt(),wn(),Ml(),Oo(),itt(),ott(),utt(),ftt(),ptt(),gtt(),btt(),wtt(),_tt(),ktt(),Ctt(),Ntt(),Rtt(),Itt(),Qtt(),qtt(),Btt(),A0={DropdownTest:mtt,ModalTest:dtt,JsonFormTest:$tt,FlowFormTest:ctt,QueryJsonFormTest:htt,FlowCreateSchemaTest:stt,ReactFlowTest:Mtt,SchemaTest:Dtt,MantineTest:jtt,LiquidJsTest:Ptt,SqlAiTest:Vtt,SortableTest:Ftt,ReactHookErrors:Att,EntityFieldsForm:xtt,FlowsTest:Stt,AppShellAccordionsTest:Wet,SwaggerTest:xle,SWRAndAPI:Het,SwrAndDataApi:Jet,DropzoneElementTest:ytt,JsonSchemaFormReactTest:Zet}}});zJ();Gt();zI();Et();Eee();QO();function Xtt(){const[t,e]=S.useState();if(S.useEffect(()=>{if(!t){const n=M6e();n&&e(n)}},[]),t){let n=Ja.Info;switch(t.type){case"error":n=Ja.Exception;break;case"success":n=Ja.Success;break;case"warning":n=Ja.Warning;break}return p.jsx(n,{message:t.message,className:"justify-center"})}return null}Dr();vt();function Ytt(t){const e=t==="light",n={offset:2,transitionProps:{transition:"pop",duration:75}},r="bg-muted/40 border-transparent disabled:bg-muted/50 disabled:text-primary/50 focus:border-zinc-500";return{theme:{components:{Button:Nc.extend({vars:(i,s)=>({root:{"--button-height":"auto"}}),classNames:(i,s)=>({root:Ie("px-3 py-2 rounded-md h-auto")}),defaultProps:{size:"md",variant:e?"filled":"white"}}),Switch:fo.extend({defaultProps:{size:"md",color:e?"dark":"blue"}}),Select:Wa.extend({classNames:(i,s)=>({input:r,dropdown:`bknd-admin ${t} bg-background border-primary/20`}),defaultProps:{checkIconPosition:"right",comboboxProps:n}}),TagsInput:Tg.extend({defaultProps:{comboboxProps:n}}),Radio:ra.extend({defaultProps:{classNames:{body:"items-center"}}}),TextInput:Mt.extend({classNames:(i,s)=>({wrapper:"leading-none",input:r})}),NumberInput:wS.extend({classNames:(i,s)=>({wrapper:"leading-none",input:r})}),Textarea:eO.extend({classNames:(i,s)=>({wrapper:"leading-none",input:r})}),Modal:Wi.extend({classNames:(i,s)=>({...s.classNames,root:`bknd-admin ${t} ${s.className??""} `,content:"bg-lightest border border-primary/10",overlay:"backdrop-blur"})}),Menu:Ni.extend({defaultProps:{offset:2},classNames:(i,s)=>({dropdown:"!rounded-lg !px-1",item:"!rounded-md !text-[14px]"})}),SegmentedControl:Fd.extend({classNames:(i,s)=>({root:e?"bg-primary/5":"bg-lightest/60",indicator:e?"bg-background":"bg-primary/15"})})},primaryColor:"dark",primaryShade:9},forceColorScheme:t}}en();var bD=S.createContext(null);bD.displayName="@mantine/modals/ModalsContext";function Gtt(){const t=S.useContext(bD);if(!t)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return t}function Htt({id:t,cancelProps:e,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:s=!0,groupProps:o,onCancel:a,onConfirm:l,children:c}){const{cancel:u,confirm:d}=r,f=Gtt(),h=g=>{typeof(e==null?void 0:e.onClick)=="function"&&(e==null||e.onClick(g)),typeof a=="function"&&a(),s&&f.closeModal(t)},m=g=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(g)),typeof l=="function"&&l(),i&&f.closeModal(t)};return p.jsxs(p.Fragment,{children:[c&&p.jsx(Ae,{mb:"md",children:c}),p.jsxs(gA,{mt:c?0:"md",justify:"flex-end",...o,children:[p.jsx(Nc,{variant:"default",...e,onClick:h,children:(e==null?void 0:e.children)||u}),p.jsx(Nc,{...n,onClick:m,children:(n==null?void 0:n.children)||d})]})]})}var[Ktt,sb]=Hpe("mantine-modals"),Jtt=sb("openModal"),Tle=sb("closeModal"),ent=sb("closeAllModals"),tnt=sb("openConfirmModal"),Nle=t=>sb("openContextModal")(t),Ale={open:Jtt,close:Tle,closeAll:ent,openConfirmModal:tnt,openContextModal:Nle};function uW(t,e){var n,r,i,s;e&&t.type==="confirm"&&((r=(n=t.props).onCancel)==null||r.call(n)),(s=(i=t.props).onClose)==null||s.call(i)}function nnt(t,e){switch(e.type){case"OPEN":return{current:e.modal,modals:[...t.modals,e.modal]};case"CLOSE":{const n=t.modals.find(i=>i.id===e.modalId);if(!n)return t;uW(n,e.canceled);const r=t.modals.filter(i=>i.id!==e.modalId);return{current:r[r.length-1]||t.current,modals:r}}case"CLOSE_ALL":return t.modals.length?(t.modals.concat().reverse().forEach(n=>{uW(n,e.canceled)}),{current:t.current,modals:[]}):t;default:return t}}function rnt(t){if(!t)return{confirmProps:{},modalProps:{}};const{id:e,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:l,groupProps:c,labels:u,...d}=t;return{confirmProps:{id:e,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:l,groupProps:c,labels:u},modalProps:{id:e,...d}}}function int({children:t,modalProps:e,labels:n,modals:r}){const[i,s]=S.useReducer(nnt,{modals:[],current:null}),o=S.useRef(i);o.current=i;const a=S.useCallback(y=>{s({type:"CLOSE_ALL",canceled:y})},[o,s]),l=S.useCallback(({modalId:y,...O})=>{const b=y||yg();return s({type:"OPEN",modal:{id:b,type:"content",props:O}}),b},[s]),c=S.useCallback(({modalId:y,...O})=>{const b=y||yg();return s({type:"OPEN",modal:{id:b,type:"confirm",props:O}}),b},[s]),u=S.useCallback((y,{modalId:O,...b})=>{const x=O||yg();return s({type:"OPEN",modal:{id:x,type:"context",props:b,ctx:y}}),x},[s]),d=S.useCallback((y,O)=>{s({type:"CLOSE",modalId:y,canceled:O})},[o,s]);Ktt({openModal:l,openConfirmModal:c,openContextModal:({modal:y,...O})=>u(y,O),closeModal:d,closeContextModal:d,closeAllModals:a});const f={modals:i.modals,openModal:l,openConfirmModal:c,openContextModal:u,closeModal:d,closeContextModal:d,closeAll:a},h=()=>{const y=o.current.current;switch(y==null?void 0:y.type){case"context":{const{innerProps:O,...b}=y.props,x=r[y.ctx];return{modalProps:b,content:p.jsx(x,{innerProps:O,context:f,id:y.id})}}case"confirm":{const{modalProps:O,confirmProps:b}=rnt(y.props);return{modalProps:O,content:p.jsx(Htt,{...b,id:y.id,labels:y.props.labels||n})}}case"content":{const{children:O,...b}=y.props;return{modalProps:b,content:O}}default:return{modalProps:{},content:null}}},{modalProps:m,content:g}=h();return p.jsxs(bD.Provider,{value:f,children:[p.jsx(Wi,{zIndex:vl("modal")+1,...e,...m,opened:i.modals.length>0,onClose:()=>{var y;return d((y=i.current)==null?void 0:y.id)},children:g}),t]})}function xD({context:t,id:e,innerProps:{content:n}}){return n}xD.defaultTitle=void 0;xD.modalProps={withCloseButton:!1,classNames:{size:"md",root:"bknd-admin",content:"text-center justify-center",title:"font-bold !text-md",body:"py-3 px-5 gap-4 flex flex-col"}};we();Qp();en();_ne();Rn();St();vt();wt();Lt();El();var snt=S.forwardRef(({classNames:t,children:e,opened:n,closeOnClickOutside:r=!1,...i},s)=>{const[o,{open:a,close:l}]=Cl(n);return S.useImperativeHandle(s,()=>({open:a,close:l})),p.jsx(Wi,{withCloseButton:!1,padding:0,size:"xl",opened:o,...i,closeOnClickOutside:r,onClose:l,classNames:{...t,root:"bknd-admin",content:"rounded-lg select-none"},children:e})}),ju=({path:t,onClose:e})=>p.jsxs("div",{className:"py-3 px-5 font-bold bg-primary/5 flex flex-row justify-between items-center sticky top-0 left-0 right-0 z-10 border-b border-b-muted",children:[p.jsx("div",{className:"flex flex-row gap-1",children:t.map((n,r)=>{const i=r+1===t.length;return p.jsxs(S.Fragment,{children:[p.jsx("span",{className:Ie("",!i&&"opacity-70"),children:n},r),!i&&p.jsx("span",{className:"opacity-40",children:"/"})]},r)})}),p.jsx(lt,{Icon:e2,onClick:e})]}),Hd=({children:t,className:e})=>p.jsxs(UI,{className:Ie("flex flex-col min-h-96",e),style:{maxHeight:"calc(80vh)"},children:[p.jsx(ZI,{className:"w-full h-full",children:p.jsx("div",{className:"py-3 px-5 gap-4 flex flex-col",children:t})}),p.jsx(_y,{forceMount:!0,className:"flex select-none touch-none bg-transparent w-0.5",orientation:"vertical",children:p.jsx($y,{className:"flex-1 bg-primary/50"})}),p.jsx(_y,{forceMount:!0,className:"flex select-none touch-none bg-muted flex-col h-0.5",orientation:"horizontal",children:p.jsx($y,{className:"flex-1 bg-primary/50 "})})]}),Kd=({next:t,prev:e,nextLabel:n="Next",prevLabel:r="Back",debug:i})=>{const[s,o]=Cl(!1);return p.jsx("div",{className:"flex flex-col border-t border-t-muted",children:p.jsxs("div",{className:"flex flex-row justify-between items-center py-3 px-4",children:[p.jsx("div",{children:i&&p.jsxs(pi,{position:"right-start",shadow:"md",opened:s,classNames:{dropdown:"!px-1 !pr-2.5 !py-2 text-sm"},children:[p.jsx(pi.Target,{children:p.jsx(lt,{onClick:o.toggle,Icon:ZJ,variant:s?"default":"ghost"})}),p.jsx(pi.Dropdown,{children:p.jsx(lo,{json:i,expand:6,className:"p-0"})})]})}),p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx(Ue,{className:"w-24 justify-center",...e,children:r}),p.jsx(Ue,{className:"w-24 justify-center",variant:"primary",...t,children:n})]})]})})},Rle=S.createContext(void 0);function Mle({children:t,initialPath:e=[],initialState:n={},lastBack:r}){const[i,s]=S.useState(n),[o,a]=S.useState(e),l=S.Children.toArray(t).filter(f=>f.props.disabled!==!0);function c(){o.length===0?r==null||r():a(f=>f.slice(0,-1))}const u=f=>()=>{a(h=>[...h,f])},d=l.find(f=>f.props.id===o[o.length-1])||l[0];return p.jsx(Rle.Provider,{value:{nextStep:u,stepBack:c,state:i,path:o,setState:s,close:r},children:d})}function Jd(){return S.useContext(Rle)}function Eu({children:t,disabled:e=!1,path:n=[],id:r,...i}){return p.jsx("div",{...i,children:t})}en();Rn();we();vt();Gt();we();xr();Qp();Gt();function Ns(){const{config:t,app:e,schema:n,actions:r}=nt(),i=Yt(t.data.entities??{},(a,l)=>_I(l,a)),s={entity:{add:async(a,l)=>{console.log("create entity",{data:l});const c=tr(Sy,l,{skipMark:!0,forceParse:!0});return console.log("validated",c),await r.add("data",`entities.${a}`,c)},patch:a=>{if(!i[a])throw new Error(`Entity "${a}" not found`);return{config:async c=>(console.log("patch config",a,c),await r.patch("data",`entities.${a}.config`,c)),fields:ant(r,a)}}},relations:{add:async a=>{console.log("create relation",{relation:a});const l=crypto.randomUUID(),c=tr(D.Union(f0),a,{skipMark:!0,forceParse:!0});return console.log("validated",c),await r.add("data",`relations.${l}`,c)}}};return{$data:{entity:a=>i[a],modals:ont,system:a=>{var l;return{any:((l=i[a])==null?void 0:l.type)==="system",users:a===t.auth.entity_name,media:a===t.media.entity_name}}},entities:i,relations:e.relations,config:t.data,schema:n.data,actions:s}}var ont={createAny:()=>Ki.open(Ki.ids.dataCreate,{}),createEntity:()=>Ki.open(Ki.ids.dataCreate,{initialPath:["entities","entity"],initialState:{action:"entity"}}),createRelation:t=>Ki.open(Ki.ids.dataCreate,{initialPath:["entities","relation"],initialState:{action:"relation",relations:{create:[{source:t,type:"n:1"}]}}}),createMedia:t=>Ki.open(Ki.ids.dataCreate,{initialPath:["entities","template-media"],initialState:{action:"template-media",initial:{entity:t}}})};function ant(t,e){return{add:async(n,r)=>{console.log("create field",{name:n,field:r});const i=tr(d0,r,{skipMark:!0,forceParse:!0});return console.log("validated",i),await t.add("data",`entities.${e}.fields.${n}`,i)},patch:()=>null,set:async n=>{console.log("set fields",e,n);try{const r=tr(eT,n,{skipMark:!0,forceParse:!0}),i=await t.overwrite("data",`entities.${e}.fields`,r);console.log("res",i)}catch(r){console.error("error",r),r instanceof Rp?alert("Error updating fields: "+r.firstToString()):alert("An error occured, check console. There will be nice error handling soon.")}}}}Lt();El();function lnt(){var d,f,h;const{stepBack:t,state:e,close:n}=Jd(),[r,i]=S.useState([]),[s,o]=S.useState(!1),a=Ns(),l=nt(),c=[];(d=e.entities)!=null&&d.create&&c.push(...e.entities.create.map(m=>({action:"add",Icon:UJ,type:"Entity",name:m.name,json:m,run:async()=>await a.actions.entity.add(m.name,m)}))),(f=e.fields)!=null&&f.create&&c.push(...e.fields.create.map(m=>({action:"add",Icon:kO,type:"Field",name:m.name,json:m,run:async()=>await a.actions.entity.patch(m.entity).fields.add(m.name,m.field)}))),(h=e.relations)!=null&&h.create&&c.push(...e.relations.create.map(m=>({action:"add",Icon:PO,type:"Relation",name:`${m.source} -> ${m.target} (${m.type})`,json:m,run:async()=>await a.actions.relations.add(m)})));async function u(){o(!0);for(const m of c)try{const g=await m.run();if(i(y=>[...y,g]),g!==!0)break}catch(g){i(y=>[...y,g.message])}}return S.useEffect(()=>{console.log("states",r,c,r.length,c.length,r.every(m=>m===!0)),c.length===r.length&&r.every(m=>m===!0)?l.actions.reload().then(n):o(!1)},[r]),p.jsxs(p.Fragment,{children:[p.jsxs(Hd,{children:[p.jsx("div",{children:'This is what will be created. Please confirm by clicking "Next".'}),p.jsx("div",{className:"flex flex-col gap-1",children:c.map((m,g)=>p.jsx(cnt,{...m,state:r[g]},g))})]}),p.jsx(Kd,{nextLabel:"Create",next:{onClick:u,disabled:s},prev:{onClick:t,disabled:s},debug:{state:e}})]})}var cnt=({Icon:t,type:e,name:n,json:r,state:i,action:s,initialExpanded:o=!1})=>{const[a,l]=Cl(o),c=typeof i<"u"&&i!==!0,u=i===!0;return p.jsxs("div",{className:Ie("flex flex-col border border-muted rounded bg-background mb-2",c&&"bg-red-500/20",u&&"bg-green-500/20"),children:[p.jsxs("div",{className:"flex flex-row gap-4 px-2 py-2 items-center",children:[p.jsx("div",{className:"flex flex-row items-center p-1 bg-primary/5 rounded",children:p.jsx(t,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex flex-row flex-grow gap-5",children:[p.jsx(UP,{type:"action",name:s}),p.jsx(UP,{type:"type",name:e}),p.jsx(UP,{type:"name",name:n})]}),r&&p.jsx(lt,{Icon:HJ,variant:a?"default":"ghost",onClick:l.toggle})]}),r&&a&&p.jsx("div",{className:"flex flex-col border-t border-t-muted",children:p.jsx(lo,{json:r,expand:8,className:"text-sm"})}),c&&typeof i=="string"&&p.jsx("div",{className:"text-sm text-red-500",children:i})]})},UP=({type:t,name:e})=>p.jsxs("div",{className:"flex flex-row text-sm font-mono gap-2",children:[p.jsx("div",{className:"opacity-50",children:bs(t)}),p.jsx("div",{className:"font-semibold",children:e})]});bo();en();ir();function unt(){var u,d,f,h,m,g,y,O,b;const t=JM(),{nextStep:e,stepBack:n,state:r,setState:i}=Jd(),{register:s,handleSubmit:o,formState:a,watch:l}=js({mode:"onTouched",resolver:Yi(Wle),defaultValues:((d=(u=r.entities)==null?void 0:u.create)==null?void 0:d[0])??{}});function c(x){console.log(x),i(v=>{var _,$;const w=($=(_=v.entities)==null?void 0:_.create)==null?void 0:$[0];return w&&w.name!==x.name?{...v,entities:{create:[{...x,fields:w.fields}]}}:{...v,entities:{create:[x]}}}),a.isValid&&(console.log("would go next"),e("entity-fields")())}return p.jsx(p.Fragment,{children:p.jsxs("form",{onSubmit:o(c),ref:t,children:[p.jsxs(Hd,{children:[p.jsx(Mt,{"data-autofocus":!0,required:!0,error:(f=a.errors.name)==null?void 0:f.message,...s("name"),placeholder:"posts",size:"md",label:"What's the name of the entity?",description:"Use plural form, and all lowercase. It will be used as the database table."}),p.jsx(Mt,{...s("config.name"),error:(m=(h=a.errors.config)==null?void 0:h.name)==null?void 0:m.message,placeholder:"Posts",size:"md",label:"How should it be called?",description:"Use plural form. This will be used to display in the UI."}),p.jsx(Mt,{...s("config.name_singular"),error:(y=(g=a.errors.config)==null?void 0:g.name_singular)==null?void 0:y.message,placeholder:"Post",size:"md",label:"What's the singular form of it?"}),p.jsx(eO,{placeholder:"This is a post (optional)",error:(b=(O=a.errors.config)==null?void 0:O.description)==null?void 0:b.message,...s("config.description"),size:"md",label:"Description"})]}),p.jsx(Kd,{next:{type:"submit",disabled:!a.isValid},prev:{onClick:n},debug:{state:r}})]})})}bo();we();Qp();ir();qp();Xi();bo();en();we();Qp();ir();St();vt();wt();Lt();El();ir();function wg({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){var d;const{field:{value:a,onChange:l,...c},fieldState:u}=Ud({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i});return p.jsx(fo,{value:a,checked:a,onChange:f=>{l(f),s==null||s(f)},error:(d=u.error)==null?void 0:d.message,...c,...o})}vo();Rn();function dnt({data:t=[],extractId:e,renderItem:n,dndProps:r={droppableId:"sortable-list",direction:"vertical"},onReordered:i,onChange:s,disableIndices:o=[],...a}){function l({destination:u,source:d}){if(o.includes(d.index)||o.includes(u.index))return;const f={from:d.index,to:(u==null?void 0:u.index)||0};i==null||i(f.from,f.to)}const c=t.map((u,d)=>{const f=e?e(u):S.useId();return p.jsx(fJ,{index:d,draggableId:f,isDragDisabled:o.includes(d),children:(h,m,g)=>n?n({...u,dnd:{provided:h,snapshot:m,rubic:g}},d):p.jsxs("div",{className:"flex flex-row gap-2 p-2 border border-gray-200 rounded-md mb-3 bg-white items-center",ref:h.innerRef,...h.draggableProps,children:[p.jsx("div",{...h.dragHandleProps,children:p.jsx(aI,{className:"size-5",stroke:1.5})}),p.jsx("p",{children:JSON.stringify(u)})]})},f)});return p.jsx(aJ,{onDragEnd:l,children:p.jsx(yJ,{...r,children:u=>p.jsxs("div",{...a,...u.droppableProps,ref:u.innerRef,children:[c,u.placeholder]})})})}en();vt();Xi();function Ile({children:t,target:e,defaultOpen:n=!1,backdrop:r=!1,position:i="bottom-start",className:s}){const[o,a]=S.useState(n),l=g1(()=>a(!1)),c=Wt((d=50)=>setTimeout(()=>a(f=>!f),typeof d=="number"?d:0)),u={"bottom-start":"mt-1 top-[100%]","bottom-end":"right-0 top-[100%] mt-1","top-start":"bottom-[100%] mb-1","top-end":"bottom-[100%] right-0 mb-1"}[i];return p.jsxs(p.Fragment,{children:[o&&r&&p.jsx("div",{className:"animate-fade-in w-full h-full absolute top-0 bottom-0 right-0 left-0 bg-background/60"}),p.jsxs("div",{role:"dropdown",className:Ie("relative flex",s),ref:l,children:[S.cloneElement(t,{onClick:c}),o&&p.jsx("div",{className:Ie("animate-fade-in absolute z-20 flex flex-col bg-background border border-muted px-1 py-1 rounded-lg shadow-lg min-w-full max-w-20 backdrop-blur-sm",u),children:e({toggle:c})})]})]})}St();var O_=[{type:"primary",label:"Primary",icon:J4,addable:!1,disabled:["name"],hidden:["virtual"]},{type:"text",label:"Text",icon:J4},{type:"number",label:"Number",icon:m7e},{type:"boolean",label:"Boolean",icon:y7e},{type:"date",label:"Date",icon:Nne},{type:"enum",label:"Enum",icon:L1},{type:"json",label:"JSON",icon:J8e},{type:"jsonschema",label:"JSON Schema",icon:t7e},{type:"relation",label:"Relation",icon:KI,addable:!1,hidden:["virtual"]},{type:"media",label:"Media",icon:FO,addable:!1,hidden:["virtual"]}];Gt();wn();en();we();St();Gt();wt();Lt();QO();Ml();vo();Jr();en();we();St();vt();wt();Lt();Jr();var dW=()=>{const[t,e]=y1([!1,!0]),n=t?Tne:Qne;return p.jsx("button",{role:"checkbox",type:"button",className:"flex px-3 py-3",onClick:()=>e(),children:p.jsx(n,{size:18})})};function b_({data:t=[],columns:e,checkable:n,onClickRow:r,onClickPage:i,onClickSort:s,total:o,sort:a,page:l=1,perPage:c=10,perPageOptions:u,onClickPerPage:d,classNames:f,renderHeader:h,rowActions:m,renderValue:g,onClickNew:y}){o=o||(t==null?void 0:t.length)||0,l=l||1;const O=e&&e.length>0?e:Object.keys((t==null?void 0:t[0])||{}),b=Math.max(Math.ceil(o/c),1),x=g||x_;return p.jsxs("div",{className:"flex flex-col gap-3",children:[y&&p.jsx("div",{className:"flex flex-row space-between",children:y&&p.jsx(Ue,{onClick:y,children:"Create new"})}),p.jsx("div",{className:"border-muted border rounded-md shadow-sm w-full max-w-full overflow-x-scroll overflow-y-hidden",children:p.jsxs("table",{className:"w-full text-md",children:[O.length>0?p.jsx("thead",{className:"sticky top-0 bg-muted/10",children:p.jsxs("tr",{children:[n&&p.jsx("th",{align:"center",className:"w-[40px]",children:p.jsx(dW,{})}),O.map((v,w)=>{const _=(h==null?void 0:h(v))??bs(v);return p.jsx("th",{children:p.jsx("div",{className:"flex flex-row py-1 px-1 font-normal text-primary/55",children:p.jsxs("button",{type:"button",className:Ie("link hover:bg-primary/5 py-1.5 rounded-md inline-flex flex-row justify-start items-center gap-1",s?"pl-2.5 pr-1":"px-2.5"),onClick:()=>s==null?void 0:s(v),children:[p.jsx("span",{className:"text-left text-nowrap whitespace-nowrap",children:_}),s&&p.jsx(fnt,{sort:a,field:v})]})})},w)}),m&&m.length>0&&p.jsx("th",{className:"w-10"})]})}):null,p.jsx("tbody",{children:!t||!Array.isArray(t)||t.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:O.length+(n?1:0),children:p.jsx("div",{className:"flex flex-col gap-2 p-8 justify-center items-center border-t border-muted",children:p.jsx("i",{className:"opacity-50",children:Array.isArray(t)?"No data to show":t?p.jsx("pre",{children:JSON.stringify(t,null,2)}):"Loading..."})})})}):t.map((v,w)=>{const _=()=>r==null?void 0:r(v);return p.jsxs("tr",{"data-border":w>0,className:"hover:bg-primary/5 active:bg-muted border-muted data-[border]:border-t cursor-pointer transition-colors",children:[n&&p.jsx("td",{align:"center",children:p.jsx(dW,{})}),Object.entries(v).map(([$,k],j)=>p.jsx("td",{onClick:_,children:p.jsx("div",{className:"flex flex-row items-start py-3 px-3.5 font-normal ",children:p.jsx(x,{property:$,value:k})})},j)),m&&m.length>0&&p.jsx("td",{children:p.jsx("div",{className:"flex flex-row justify-end pr-2",children:p.jsxs(Ni,{position:"bottom-end",children:[p.jsx(Ni.Target,{children:p.jsx(lt,{Icon:s7e})}),p.jsx(Ni.Dropdown,{children:m.map($=>p.jsx(Ni.Item,{onClick:()=>$.onClick(v,w),leftSection:$.icon&&p.jsx($.icon,{}),children:$.label},$.label))})]})})})]},w)})})]})}),p.jsxs("div",{className:"flex flex-row items-center justify-between",children:[p.jsx("div",{className:"hidden md:flex text-primary/40",children:p.jsx(hnt,{perPage:c,page:l,items:(t==null?void 0:t.length)||0,total:o})}),p.jsxs("div",{className:"flex flex-row gap-2 md:gap-10 items-center",children:[u&&p.jsxs("div",{className:"hidden md:flex flex-row items-center gap-2 text-primary/40",children:["Per Page"," ",p.jsx(vr,{items:u.map(v=>({label:String(v),perPage:v})),position:"top-end",onClickItem:v=>d==null?void 0:d(v.perPage),children:p.jsx(Ue,{children:c})})]}),p.jsxs("div",{className:"text-primary/40",children:["Page ",l," of ",b]}),i&&p.jsx("div",{className:"flex flex-row gap-1.5",children:p.jsx(pnt,{current:l,total:b,onClick:i})})]})]})]})}var x_=({value:t,property:e})=>{let n=!1;return t!==null&&typeof t=="object"&&(t=JSON.stringify(t),n=!0),t!==null&&typeof t<"u"?p.jsx("span",{className:Ie("line-clamp-2",n&&"font-mono break-all"),children:t}):p.jsx("span",{className:"opacity-10 font-mono",children:"null"})},fnt=({sort:t,field:e})=>!t||t.by!==e?p.jsx(L1,{size:18,className:"mt-[1px]"}):t.dir==="asc"?p.jsx(HI,{size:18,className:"mt-[1px]"}):p.jsx(YI,{size:18,className:"mt-[1px]"}),hnt=({perPage:t,page:e,items:n,total:r})=>r===0?p.jsx(p.Fragment,{children:"No rows to show"}):r===1?p.jsx(p.Fragment,{children:"Showing 1 row"}):p.jsxs(p.Fragment,{children:["Showing ",t*(e-1)+1,"-",t*(e-1)+n," of ",r," rows"]}),pnt=({current:t,total:e,onClick:n})=>[{value:1,Icon:Mne,disabled:t===1},{value:t-1,Icon:Ane,disabled:t===1},{value:t+1,Icon:Rne,disabled:t===e},{value:e,Icon:Ine,disabled:t===e}].map((i,s)=>p.jsx("button",{role:"button",type:"button",disabled:i.disabled,className:"px-2 py-2 border-muted border rounded-md enabled:link text-lg enabled:hover:bg-primary/5 text-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{const o=i.value,a=o<1?1:o>e?e:o;n==null||n(a)},children:p.jsx(i.Icon,{})},s));Xi();Et();we();St();wn();Lt();Jr();Xi();var mnt=({path:t,backTo:e,onBack:n})=>{const[r,i]=xs(),s=window.location.pathname,o=Array.isArray(t)?t:[t],a=s.split("/").filter(d=>d!==""),l=o.length>1,c=n||Wt(()=>{if(e){i(e,{replace:!0});return}const d=a.slice(0,o.length+1).join("/");i(`~/${d}`,{replace:!0})}),u=S.useMemo(()=>o.map((d,f)=>{const h=f===o.length-1,m=a.indexOf(d),g=a.slice(0,m+1).join("/"),y=Ap(d);return{last:h,href:g,string:y}}),[o,a]);return p.jsxs("div",{className:"flex flex-row flex-grow items-center gap-2 text-lg",children:[l&&p.jsx(lt,{onClick:c,Icon:GI,variant:"default",size:"lg",className:"mr-1"}),p.jsx("div",{className:"hidden md:flex gap-2",children:p.jsx(Dle,{crumbs:u})}),p.jsx("div",{className:"flex md:hidden gap-2",children:p.jsx(gnt,{crumbs:u})})]})},Dle=({crumbs:t})=>t.map((e,n)=>e.last?p.jsx(Qle,{...e},n):p.jsx(Fle,{...e},n)),gnt=({crumbs:t})=>{const[,e]=xs();if(t.length<=2)return p.jsx(Dle,{crumbs:t});const n=t[0],r=t[t.length-1],i=S.useMemo(()=>t.slice(1,-1).map(o=>({label:o.string,href:o.href})),[t]),s=Wt(o=>e(`~/${o.href}`));return p.jsxs(p.Fragment,{children:[p.jsx(Fle,{...n}),p.jsx(vr,{onClickItem:s,items:i,children:p.jsx(lt,{Icon:jl,variant:"ghost"})}),p.jsx("span",{className:"opacity-25 dark:font-bold font-semibold",children:"/"}),p.jsx(Qle,{...r})]})},Qle=({string:t})=>p.jsx("span",{className:"text-nowrap dark:font-bold font-semibold",children:t}),Fle=({href:t,string:e})=>p.jsxs("div",{className:"opacity-50 flex flex-row gap-2 dark:font-bold font-semibold",children:[p.jsx(DO,{to:`~/${t}`,className:"text-nowrap",children:e}),p.jsx("span",{className:"opacity-50",children:"/"})]});wn();function Lle(t,e,n){if(!t.properties)return[{...t},e,{}];const r=Ci(t),i={...r,properties:to(r.properties,n)};i.required&&(i.required=i.required.filter(a=>!n.includes(a)));const s={};for(const a of n)s[a]={config:e[a],schema:r.properties[a]};const o=to(e,n);return[i,o,s]}en();ya();wt();cu();vo();Jr();mD();wn();var ynt=({schema:t,uiSchema:e={},anyOfValues:n,path:r,prefixPath:i,generateKey:s})=>{const[o,a]=xs(),[l,c]=S.useState(t),[u,d]=S.useState(!1),{actions:f}=nt(),[h,{open:m,close:g}]=Cl(!1),y=s!==void 0,O=typeof s=="string",[b,x]=S.useState(O?s:""),v=JM(!y),w=S.useRef(null),_="anyOf"in t;function $(R){s&&typeof s=="function"&&k({target:{value:s(R)}}),console.log("form change",R)}function k(R){const N=String(R.target.value);if(N.length>0&&!/^[a-zA-Z_][a-zA-Z0-9_ ]*$/.test(N)){console.log("no match",N);return}x(N.toLowerCase().replace(/ /g,"_").replace(/__+/g,"_"))}async function j(){var R,N,A,C;if((R=w.current)!=null&&R.validateForm()){d(!0);const T=(N=w.current)==null?void 0:N.formData(),[E,...I]=r,M=[...I,b].join(".");await f.add(E,M,T)?setTimeout(()=>{a(i+b,{replace:!0})},500):d(!1)}console.log("valid?",(A=w.current)==null?void 0:A.validateForm()),console.log("data",b,(C=w.current)==null?void 0:C.formData())}const P=_?t.anyOf.map(R=>{var T,E;const N=R.title,A=((T=n==null?void 0:n[N])==null?void 0:T.label)||N,C=(E=n==null?void 0:n[N])==null?void 0:E.icon;return{label:A,icon:C,onClick:()=>{c(R),m()}}}):[];return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"flex flex-row",children:_?p.jsx(vr,{position:"top-start",items:P,itemsClassName:"gap-3",children:p.jsx(Ue,{children:"Add new"})}):p.jsx(Ue,{onClick:m,children:"Add new"})}),p.jsx(pD,{open:h,allowBackdropClose:!1,onClose:g,className:"min-w-96 w-6/12 mt-[30px] mb-[20px]",stickToTop:!0,children:p.jsxs("div",{className:"border border-muted rounded-lg flex flex-col overflow-y-scroll font-normal",style:{maxHeight:"calc(100dvh - 100px)"},children:[p.jsx("div",{className:"bg-muted py-2 px-4 text-primary/70 font-mono flex flex-row gap-2 items-center",children:[...r,b].join(".")}),p.jsxs("div",{className:"flex flex-row gap-10 sticky top-0 bg-background z-10 p-4 border-b border-muted",children:[p.jsxs("div",{className:"flex flex-row flex-grow items-center relative",children:[p.jsx(Ol,{ref:v,className:"w-full",placeholder:"New unique key...",onChange:k,value:b,disabled:y}),y&&p.jsx("div",{className:"absolute h-full flex items-center z-10 right-3.5 top-0 bottom-0 font-mono font-sm opacity-50",children:"generated"})]}),p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx(Ue,{onClick:g,disabled:u,children:"Cancel"}),p.jsx(Ue,{variant:"primary",onClick:j,disabled:u||b.length===0,children:"Create"})]})]}),p.jsx("div",{className:"flex flex-col p-4",children:p.jsx(Ts,{ref:w,schema:to(l,["title"]),uiSchema:e,onChange:$,className:"legacy hide-required-mark fieldset-alternative mute-root"})})]})})]})};en();St();Lt();El();mD();var fW=S.forwardRef(({tabs:t,title:e},n)=>{const[r,{open:i,close:s}]=Cl(!1),[o,a]=S.useState(0),l=t[o];return S.useImperativeHandle(n,()=>({open:i,close:s,isOpen:r})),l?p.jsx(pD,{open:r,onClose:s,className:"min-w-96 w-9/12 mt-[80px] mb-[20px]",stickToTop:!0,children:p.jsxs("div",{className:"border border-primary rounded-lg flex flex-col overflow-scroll font-normal",style:{maxHeight:"calc(100dvh - 100px)"},children:[e&&p.jsxs("div",{className:"bg-primary py-2 px-4 text-background font-mono flex flex-row gap-2 items-center",children:[p.jsx(b7e,{size:20,className:"opacity-50"}),e]}),p.jsxs("div",{className:"flex flex-row justify-between sticky top-0 bg-background z-10 py-4 px-5",children:[p.jsx("div",{className:"flex flex-row gap-3",children:t.map((c,u)=>p.jsx("button",{onClick:()=>a(u),"data-active":u===o?1:void 0,className:"font-mono data-[active]:font-bold",children:c.title},u))}),p.jsx(lt,{Icon:e2,onClick:s})]}),p.jsx("div",{className:"",children:p.jsx(lo,{json:l.json,expand:6,showSize:!0,showCopy:!0})})]})}):null});function ci({schema:t,uiSchema:e,config:n,prefix:r="/",options:i,path:s=[],properties:o}){var N,A,C;const[a,l]=S.useState(!1),{actions:c}=nt(),u=S.useRef(null),d=S.useRef(null),f=S.useRef(null),[h,m]=S.useState(!1);eI([["mod+s",T=>(T.preventDefault(),P(),!1)],["e",()=>{h||j()}],["Escape",()=>{h&&j()}]]);const g=S.useMemo(()=>o?Object.entries(o).filter(([,T])=>T.hide||T.extract).map(([T])=>T):[],[o]),y=Wt(T=>{const E=window.location.href.split("/").slice(0,-1).join("/");T?window.location.replace(E):window.history.back()}),O=((N=i==null?void 0:i.allowDelete)==null?void 0:N.call(i,n))??!0,b=((A=i==null?void 0:i.allowEdit)==null?void 0:A.call(i,n))??!0,x=((C=i==null?void 0:i.showAlert)==null?void 0:C.call(i,n))??void 0;console.log("--setting",{schema:t,config:n,prefix:r,path:s,exclude:g});const[v,w,_]=Lle(t,n,g);console.log({reducedSchema:v,reducedConfig:w,extracted:_});const $=Object.keys(_),k=$.find(T=>window.location.pathname.endsWith(T))??$[0],j=Wt(()=>{b&&m(T=>!T)}),P=Wt(async()=>{var T,E;if(!(!b||!h)&&(T=u.current)!=null&&T.validateForm()){l(!0);const I=(E=u.current)==null?void 0:E.formData(),[M,...Q]=s;let B;console.log("save:data",{module:M,restOfPath:Q},I),Q.length>0?(console.log("-> patch",{module:M,path:Q.join(".")},I),B=await c.patch(M,Q.join("."),I)):(console.log("-> set",{module:M},I),B=await c.set(M,I,!0)),console.log("save:success",B),B?i!=null&&i.reloadOnSave&&(await c.reload(),l(!1)):l(!1)}}),R=Wt(async()=>{if(!O)return;const[T,...E]=s;window.confirm(`Are you sure you want to delete ${s.join(".")}`)&&await c.remove(T,E.join("."))&&y(!0)});return n?p.jsxs(p.Fragment,{children:[p.jsx(In,{className:s.length>1?"pl-3":"",scrollable:!0,right:p.jsxs(p.Fragment,{children:[p.jsx(vr,{items:[{label:"Inspect local schema",onClick:()=>{var T;(T=d.current)==null||T.open()}},{label:"Inspect schema",onClick:()=>{var T;(T=f.current)==null||T.open()}},O&&{label:"Delete",destructive:!0,onClick:R}],position:"bottom-end",children:p.jsx(lt,{Icon:LO})}),p.jsx(Ue,{onClick:j,disabled:!b,children:h?"Cancel":"Edit"}),h&&p.jsx(Ue,{variant:"primary",onClick:P,disabled:a||!b,children:a?"Save...":"Save"})]}),children:p.jsx(mnt,{path:s})}),p.jsxs(nn,{children:[typeof x<"u"&&p.jsx(Ja.Warning,{message:x}),p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsx(Ts,{ref:u,readonly:!h,schema:to(v,["title"]),formData:w,uiSchema:e,onChange:console.log,className:"legacy hide-required-mark fieldset-alternative mute-root"})}),$.length>0&&p.jsxs("div",{className:"flex flex-col max-w-full",children:[p.jsx(q1,{items:$.map(T=>{var E;return{as:DO,label:bs(T),href:`${r}/${T}`.replace(/\/+/g,"/"),active:k===T,badge:Object.keys(((E=_[T])==null?void 0:E.config)??{}).length}})}),p.jsx("div",{className:"flex flex-grow flex-col gap-3 p-3",children:p.jsx(Ze,{path:"/:prop?",component:({params:T})=>{var Z,W,oe,le;const[,E]=xs(),I=T.prop??k,M=((Z=_[I])==null?void 0:Z.config)??{},Q=(W=o==null?void 0:o[I])!=null&&W.tableValues?(oe=o==null?void 0:o[I])==null?void 0:oe.tableValues(M):Object.entries(M).map(([U,G])=>{if(!G||typeof G!="object")return{key:U,value:G};const ie=Object.keys(G)[0],Y=G[ie],L=to(G,[ie]);return{key:U,[ie]:Y,value:L}}),B=(le=o==null?void 0:o[I])==null?void 0:le.new;return I?p.jsxs(p.Fragment,{children:[B&&p.jsx(ynt,{schema:B.schema,uiSchema:B.uiSchema,anyOfValues:B.anyOfValues,prefixPath:`/${I}/`,path:[...s,I],generateKey:B.generateKey}),p.jsx(b_,{data:Q,onClickRow:U=>{const G=Object.values(U)[0];E(`/${I}/${G}`)}})]}):p.jsx("div",{className:"h-80 flex justify-center align-center",children:p.jsx(wr,{title:"No sub-setting selected",description:"Select one from the tab bar"})})}})})]})]},s.join("-")),p.jsx(fW,{ref:d,title:s.join("."),tabs:[{title:"Schema",json:v},{title:"Config",json:w}]}),p.jsx(fW,{ref:f,title:s.join("."),tabs:[{title:"Schema",json:t},{title:"Config",json:n}]})]}):p.jsx(wr,{title:"Not found",description:`Configuration at path ${s.join(".")} doesn't exist.`,primary:{children:"Go back",onClick:()=>y()}})}var wN={config:{fillable:{"ui:options":{wrap:!0},anyOf:[{},{"ui:widget":"checkboxes"}]},hidden:{"ui:options":{wrap:!0},anyOf:[{},{"ui:widget":"checkboxes"}]},schema:{"ui:field":"JsonField"},ui_schema:{"ui:field":"JsonField"}}},Ont=O_.filter(t=>t.type!=="primary").reduce((t,e)=>(t[e.type]={label:e.label,icon:e.icon},t),{}),bnt={"1:1":{label:"One-to-One"},"n:1":{label:"Many-to-One"},"m:n":{label:"Many-to-Many"},poly:{label:"Polymorphic"}},xnt=({schema:t,config:e})=>{const{app:n}=nt(),i=`~/${n.getAdminConfig().basepath}/settings`.replace(/\/+/g,"/"),s=Object.keys(e.entities??{});function o(a,l="entity"){s.length!==0&&(a.properties&&l in a.properties&&(a.properties[l].enum=s),"anyOf"in a&&a.anyOf.forEach(c=>o(c,l)))}return p.jsx(Ze,{path:"/data",nest:!0,children:p.jsxs(aa,{children:[p.jsx(Ze,{path:"/entities/:entity/fields/:field",component:({params:{entity:a,field:l}})=>{var f,h,m,g,y;const c=(m=(h=(f=e.entities)==null?void 0:f[a])==null?void 0:h.fields)==null?void 0:m[l],u=(y=(g=t.properties.entities.additionalProperties)==null?void 0:g.properties)==null?void 0:y.fields.additionalProperties,d=u.anyOf.find(O=>O.properties.type.const===(c==null?void 0:c.type));return p.jsx(ci,{schema:d??u,config:c,prefix:`${i}/data/entities/${a}/fields/${l}`,path:["data","entities",a,"fields",l],options:{showAlert:O=>{if((O==null?void 0:O.type)==="primary")return"Modifying the primary field may result in strange behaviors."}},uiSchema:wN})},nest:!0}),p.jsx(Ze,{path:"/entities/:entity",component:({params:{entity:a}})=>{var d;const l=t.properties.entities.additionalProperties,c=Ci(l);c.properties.type.readOnly=!0;const u={anyOf:c.properties.fields.additionalProperties.anyOf.filter(f=>f.properties.type.const!=="primary")};return p.jsx(ci,{schema:c,config:(d=e.entities)==null?void 0:d[a],options:{showAlert:f=>{if(f.type==="system")return"Modifying the system entities may result in strange behaviors."}},properties:{fields:{extract:!0,tableValues:f=>ns(f,(h,m,g)=>{var y;h.push({property:g,type:m.type,required:(y=m.config)!=null&&y.required?"Yes":"No"})},[]),new:{schema:u,uiSchema:wN,anyOfValues:Ont}}},path:["data","entities",a],prefix:`${i}/data/entities/${a}`})},nest:!0}),p.jsx(Ze,{path:"/indices/:index",component:({params:{index:a}})=>{var c;const l=t.properties.indices.additionalProperties;return s.length>0&&o(l,"entity"),p.jsx(ci,{schema:t.properties.indices.additionalProperties,config:(c=e.indices)==null?void 0:c[a],path:["data","indices",a],prefix:`${i}/data/indices/${a}`})},nest:!0}),p.jsx(Ze,{path:"/relations/:relation",component:({params:{relation:a}})=>{var d;const l=(d=e.relations)==null?void 0:d[a],u=t.properties.relations.additionalProperties.anyOf.find(f=>f.properties.type.const===(l==null?void 0:l.type));return s.length>0&&(o(u,"source"),o(u,"target")),p.jsx(ci,{schema:u,config:l,path:["data","relations",a],prefix:`${i}/data/relations/${a}`})},nest:!0}),p.jsx(Ze,{path:"/",component:()=>{const a=t.properties.indices.additionalProperties,l=t.properties.relations.additionalProperties;return o(a,"entity"),o(l,"source"),o(l,"target"),p.jsx(ci,{schema:t,config:e,properties:{entities:{extract:!0,tableValues:c=>ns(c,(u,d,f)=>{u.push({name:f,type:d.type,fields:Object.keys(d.fields??{}).length})},[]),new:{schema:t.properties.entities.additionalProperties,uiSchema:{fields:{"ui:widget":"hidden"},type:{"ui:widget":"hidden"}}}},relations:{extract:!0,new:{schema:t.properties.relations.additionalProperties,generateKey:c=>{var d,f,h,m;const u=[c.type.replace(":",""),c.source,c.target,(d=c.config)==null?void 0:d.mappedBy,(f=c.config)==null?void 0:f.inversedBy,(h=c.config)==null?void 0:h.connectionTable,(m=c.config)==null?void 0:m.connectionTableMappedName].filter(Boolean);return[...new Set(u)].join("_")},anyOfValues:bnt},tableValues:c=>ns(c,(u,d,f)=>{u.push({name:f,type:d.type,source:d.source,target:d.target})},[])},indices:{extract:!0,tableValues:c=>ns(c,(u,d,f)=>{u.push({name:f,entity:d.entity,fields:d.fields.join(", "),unique:d.unique?"Yes":"No"})},[]),new:{schema:a,uiSchema:{fields:{"ui:options":{orderable:!1}}},generateKey:c=>["idx",c.entity,c.unique&&"unique",...c.fields.filter(Boolean)].filter(Boolean).join("_")}}},prefix:`${i}/data`,path:["data"]})},nest:!0})]})})},vD=JE,vnt=D.Union(Object.values(vD)),wnt=D.Object({name:Vi,new:D.Optional(D.Boolean({const:!0})),field:vnt}),Snt=D.Object({fields:D.Array(wnt)}),_nt=Object.keys(vD);_nt[0];var qle=["label","description","required","fillable","hidden","virtual"];function $nt(t){var e;return D.Omit((e=vD[t])==null?void 0:e.properties.config,qle)}var Vle=S.forwardRef(function({fields:e,sortable:n,additionalFieldTypes:r,...i},s){const o=Object.entries(e).map(([$,k])=>({name:$,field:k})),{control:a,formState:{isValid:l,errors:c},getValues:u,watch:d,register:f,setValue:h,setError:m,reset:g}=js({mode:"all",resolver:Yi(Snt),defaultValues:{fields:o}}),{fields:y,append:O,remove:b,move:x}=Hne({control:a,name:"fields"});function v($){return Object.fromEntries($.fields.map(k=>[k.name,vy(k.field)]))}S.useEffect(()=>{i!=null&&i.onChange&&(console.log("----set"),d($=>{var k;console.log("---calling"),(k=i==null?void 0:i.onChange)==null||k.call(i,v($))}))},[]),S.useImperativeHandle(s,()=>({reset:g,getValues:()=>u(),getData:()=>v(u()),isValid:()=>l}));function w($){O({name:"",new:!0,field:{type:$,config:{}}})}const _={watch:d,register:f,setValue:h,getValues:u,control:a,setError:m};return p.jsx(p.Fragment,{children:p.jsx("div",{className:"flex flex-col gap-6",children:p.jsx("div",{className:"flex flex-col gap-3",children:p.jsxs("div",{className:"flex flex-col gap-4",children:[n?p.jsx(dnt,{data:y,onReordered:x,extractId:$=>$.id,disableIndices:[0],renderItem:({dnd:$,...k},j)=>p.jsx(Pnt,{field:k,index:j,form:_,errors:c,remove:b,dnd:$},k.id)},y.length):p.jsx("div",{children:y.map(($,k)=>p.jsx(Ble,{field:$,index:k,form:_,errors:c,remove:b},$.id))}),p.jsx(Ile,{className:"flex flex-col w-full",target:({toggle:$})=>p.jsx(knt,{additionalFieldTypes:r,onSelected:$,onSelect:k=>{w(k)}}),children:p.jsx(Ue,{className:"justify-center",children:"Add Field"})})]})})})})}),knt=({onSelect:t,additionalFieldTypes:e=[],onSelected:n})=>{const r=O_.filter(i=>i.addable!==!1);return e&&r.push(...e),p.jsx("div",{className:"flex flex-row gap-2 justify-center flex-wrap",children:r.map(i=>p.jsx(Ue,{IconLeft:i.icon,variant:"ghost",onClick:()=>{var s;i.addable!==!1?t(i.type):(s=i.onClick)==null||s.call(i),n==null||n()},children:i.label},i.type))})},Pnt=S.memo(Ble,(t,e)=>t.field.id!==e.field.id);function Ble({field:t,index:e,form:{watch:n,register:r,setValue:i,getValues:s,control:o,setError:a},remove:l,errors:c,dnd:u}){var k,j,P,R,N;const[d,f]=Cl(!1),h=`fields.${e}.field`,m=t.field.type,g=n(`fields.${e}.name`),y=O_.find(A=>A.type===m),O=to(t.field.config,qle),b=y.disabled||[],x=y.hidden||[],v=e===0,w=!!((k=c==null?void 0:c.fields)!=null&&k[e]);function _(A){return()=>{if(g.length===0){l(A);return}window.confirm(`Sure to delete "${g}"?`)&&l(A)}}const $=u?{...u.provided.draggableProps,ref:u.provided.innerRef}:{};return p.jsxs("div",{className:Ie("flex flex-col border border-muted rounded bg-background mb-2",d&&"mb-6",w&&"border-red-500 "),...$,children:[p.jsxs("div",{className:"flex flex-row gap-2 px-2 py-2",children:[u?p.jsx("div",{className:"flex items-center",...u.provided.dragHandleProps,children:p.jsx(lt,{Icon:l7e,className:"mt-1",disabled:v})}):null,p.jsxs("div",{className:"flex flex-row flex-grow gap-4 items-center md:mr-6",children:[p.jsx(_l,{label:y.label,children:p.jsx("div",{className:"flex flex-row items-center p-2 bg-primary/5 rounded",children:p.jsx(y.icon,{className:"size-5"})})}),t.new?p.jsx(Mt,{error:!!((P=(j=c==null?void 0:c.fields)==null?void 0:j[e])!=null&&P.name.message),placeholder:"Enter a property name...",classNames:{root:"w-full h-full",wrapper:"font-mono h-full",input:"pt-px !h-full"},...r(`fields.${e}.name`),disabled:!t.new}):p.jsxs("div",{className:"font-mono flex-grow flex flex-row gap-3",children:[p.jsx("span",{children:g}),((R=t.field.config)==null?void 0:R.label)&&p.jsx("span",{className:"opacity-50",children:(N=t.field.config)==null?void 0:N.label})]}),p.jsxs("div",{className:"flex-col gap-1 hidden md:flex",children:[p.jsx("span",{className:"text-xs text-primary/50 leading-none",children:"Required"}),p.jsx(wg,{size:"sm",name:`${h}.config.required`,control:o})]})]}),p.jsx("div",{className:"flex items-end",children:p.jsx("div",{className:"flex flex-row gap-4",children:p.jsx(lt,{size:"lg",Icon:LO,iconProps:{strokeWidth:1.5},onClick:f.toggle,variant:d?"primary":"ghost"})})})]}),d&&p.jsx("div",{className:"flex flex-col border-t border-t-muted px-3 py-2 bg-lightest/50",children:p.jsxs(pn,{defaultValue:"general",children:[p.jsxs(pn.List,{className:"flex flex-row",children:[p.jsx(pn.Tab,{value:"general",children:"General"}),p.jsx(pn.Tab,{value:"specific",children:Ap(m)}),p.jsx(pn.Tab,{value:"visibility",disabled:!0,children:"Visiblity"}),p.jsx("div",{className:"flex flex-grow"}),p.jsx(pn.Tab,{value:"code",className:"!self-end",children:"Code"})]}),p.jsx(pn.Panel,{value:"general",children:p.jsxs("div",{className:"flex flex-col gap-2 pt-3 pb-1",children:[p.jsx("div",{className:"flex flex-row",children:p.jsx(wg,{label:"Required",name:`${h}.config.required`,control:o})}),p.jsx(Mt,{label:"Label",placeholder:"Label",...r(`${h}.config.label`)}),p.jsx(eO,{label:"Description",placeholder:"Description",...r(`${h}.config.description`)}),!x.includes("virtual")&&p.jsx(wg,{label:"Virtual",name:`${h}.config.virtual`,control:o,disabled:b.includes("virtual")})]},`${h}_${m}`)}),p.jsx(pn.Panel,{value:"specific",children:p.jsx("div",{className:"flex flex-col gap-2 pt-3 pb-1",children:p.jsx(Ts,{schema:$nt(m),formData:O,uiSchema:wN.config,className:"legacy hide-required-mark fieldset-alternative mute-root",onChange:A=>{i(`${h}.config`,{...s([`fields.${e}.config`])[0],...A})}},m)})}),p.jsx(pn.Panel,{value:"code",children:(()=>{const{id:A,...C}=t;return p.jsx(lo,{json:C,expand:4})})()}),p.jsx("div",{className:"flex flex-row justify-end",children:p.jsx(Ue,{IconLeft:Fne,onClick:_(e),size:"small",variant:"subtlered",children:"Delete"})})]})})]},t.id)}var Cnt=Sy;function jnt(){var b,x;const{nextStep:t,stepBack:e,state:n,setState:r}=Jd(),i=(x=(b=n.entities)==null?void 0:b.create)==null?void 0:x[0],s={id:{type:"primary",name:"id"}},o=S.useRef(null),a=vy(N9(i,{fields:s,config:{sort_field:"id",sort_dir:"asc"}})),{control:l,formState:{isValid:c,errors:u},getValues:d,handleSubmit:f,watch:h,setValue:m}=js({mode:"onTouched",resolver:Yi(Cnt),defaultValues:a}),g=h(),y=Wt(v=>{console.log("updateListener",v),m("fields",v)});function O(){var v;c&&((v=o.current)!=null&&v.isValid())?(r(w=>{var $,k;return((k=($=w.entities)==null?void 0:$.create)==null?void 0:k[0])?{...w,entities:{create:[d()]}}:w}),t("create")()):console.warn("not valid")}return p.jsxs("form",{onSubmit:f(O),children:[p.jsx(Hd,{children:p.jsxs("div",{className:"flex flex-col gap-6",children:[p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs("p",{children:["Add fields to ",p.jsx("strong",{children:i.name}),":"]}),p.jsx("div",{className:"flex flex-col gap-1",children:p.jsx(Vle,{ref:o,fields:a.fields,onChange:y})})]}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("p",{children:"How should it be sorted by default?"}),p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx(ol,{label:"Field",data:Object.keys(g.fields??{}).filter(v=>v.length>0),placeholder:"Select field",name:"config.sort_field",allowDeselect:!1,control:l}),p.jsx(ol,{label:"Direction",data:["asc","desc"],defaultValue:"asc",placeholder:"Select direction",name:"config.sort_dir",allowDeselect:!1,control:l})]})]}),p.jsx("div",{children:Object.entries(u).map(([v,w])=>p.jsxs("p",{children:[v,": ",w.message]},v))})]})}),p.jsx(Kd,{next:{disabled:!c,type:"submit"},prev:{onClick:e},debug:{state:n,values:g}})]})}bo();Rn();we();xr();ir();St();Gt();wt();ir();function R0({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){var d;const{field:{value:a,onChange:l,...c},fieldState:u}=Ud({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i});return p.jsx(wS,{value:a,onChange:f=>{l(f),s==null||s(f)},error:(d=u.error)==null?void 0:d.message,...c,...o})}qp();Xi();EO(Uy);var SN=[{type:Ar.ManyToOne,label:"Many to One",component:Nnt},{type:Ar.OneToOne,label:"One to One",component:Ant},{type:Ar.ManyToMany,label:"Many to Many",component:Rnt},{type:Ar.Polymorphic,label:"Polymorphic",component:Mnt}],Ent=D.Object({type:jt(SN.map(t=>t.type)),source:Vi,target:Vi,config:D.Object({})});function Tnt(){var O,b,x;const{config:t}=nt(),e=t.data.entities,n=Object.keys(e??{}).length,{nextStep:r,stepBack:i,state:s,path:o,setState:a}=Jd(),{register:l,handleSubmit:c,formState:{isValid:u},setValue:d,watch:f,control:h}=js({resolver:Yi(Ent),defaultValues:((b=(O=s.relations)==null?void 0:O.create)==null?void 0:b[0])??{}}),m=f();function g(){u&&(a(v=>({...v,relations:{create:[m]}})),console.log("data",m),r("create")())}const y=Wt(()=>{const{source:v,target:w}=m;v&&w?(d("source",w),d("target",v)):v?(d("target",v),d("source",null)):(d("source",w),d("target",null))});return p.jsxs(p.Fragment,{children:[n<2&&p.jsx("div",{className:"px-5 py-4 bg-red-100 text-red-900",children:"Not enough entities to create a relation."}),p.jsxs("form",{onSubmit:c(g),children:[p.jsxs(Hd,{children:[p.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[p.jsx(ol,{control:h,name:"source",label:"Source",allowDeselect:!1,data:Object.entries(e??{}).map(([v,w])=>{var _;return{value:v,label:((_=w.config)==null?void 0:_.name)??v,disabled:m.target===v}})}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx(ol,{control:h,name:"type",onChange:()=>d("config",{}),label:"Relation Type",data:SN.map(v=>({value:v.type,label:v.label})),allowDeselect:!1}),m.type&&p.jsx("div",{className:"flex justify-center mt-1",children:p.jsx(Ue,{size:"small",IconLeft:g7e,onClick:y,children:"Flip entities"})})]}),p.jsx(ol,{control:h,allowDeselect:!1,name:"target",label:"Target",data:Object.entries(e??{}).map(([v,w])=>{var _;return{value:v,label:((_=w.config)==null?void 0:_.name)??v,disabled:m.source===v}})})]}),p.jsx("div",{children:m.type&&((x=SN.find(v=>v.type===m.type))==null?void 0:x.component({register:l,control:h,data:m}))})]}),p.jsx(Kd,{next:{type:"submit",disabled:!u,onClick:g},prev:{onClick:i},debug:{state:s,path:o,data:m}})]})]})}var Rt=({children:t})=>p.jsx("b",{className:"font-mono select-text",children:t}),v_=({children:t})=>p.jsx("div",{className:"bg-primary/5 py-4 px-5 rounded-lg mt-10",children:t});function Nnt({register:t,control:e,data:{source:n,target:r,config:i}}){return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(Mt,{label:"Target mapping",...t("config.mappedBy"),placeholder:r}),p.jsx(R0,{label:"Cardinality",name:"config.sourceCardinality",control:e,placeholder:"n"}),p.jsx(R0,{label:"WITH limit",name:"config.with_limit",control:e,placeholder:String(Td.DEFAULTS.with_limit)})]}),p.jsx("div",{}),p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(Mt,{label:"Source mapping",...t("config.inversedBy"),placeholder:n}),p.jsx(fo,{label:"Required",...t("config.required")})]})]}),n&&r&&i&&p.jsx(v_,{children:p.jsxs(p.Fragment,{children:[p.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[p.jsx(ou,{className:"size-4"}),n,".",i.mappedBy||r,"_id ","→"," ",r]}),p.jsxs("p",{children:["Many ",p.jsx(Rt,{children:n})," will each have one reference to ",p.jsx(Rt,{children:r}),"."]}),p.jsxs("p",{children:["A property ",p.jsxs(Rt,{children:[i.mappedBy||r,"_id"]})," will be added to"," ",p.jsx(Rt,{children:n})," (which references ",p.jsx(Rt,{children:r}),")."]}),p.jsxs("p",{children:["When creating ",p.jsx(Rt,{children:n}),", a reference to ",p.jsx(Rt,{children:r})," is"," ",p.jsx("i",{children:i.required?"required":"optional"}),"."]}),i.sourceCardinality?p.jsxs("p",{children:[p.jsx(Rt,{children:r})," should not have more than"," ",p.jsx(Rt,{children:i.sourceCardinality})," referencing entr",i.sourceCardinality===1?"y":"ies"," to ",p.jsx(Rt,{children:n}),"."]}):null]})})]})}function Ant({register:t,control:e,data:{source:n,target:r,config:{mappedBy:i,required:s}}}){return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(Mt,{label:"Target mapping",...t("config.mappedBy"),placeholder:r}),p.jsx(fo,{label:"Required",...t("config.required")})]}),p.jsx("div",{}),p.jsx("div",{className:"flex flex-col gap-4",children:p.jsx(Mt,{label:"Source mapping",...t("config.inversedBy"),placeholder:n})})]}),n&&r&&p.jsx(v_,{children:p.jsxs(p.Fragment,{children:[p.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[p.jsx(ou,{className:"size-4"}),n,".",i||r,"_id ","↔"," ",r]}),p.jsxs("p",{children:["A single entry of ",p.jsx(Rt,{children:n})," will have a reference to"," ",p.jsx(Rt,{children:r}),"."]}),p.jsxs("p",{children:["A property ",p.jsxs(Rt,{children:[i||r,"_id"]})," will be added to"," ",p.jsx(Rt,{children:n})," (which references ",p.jsx(Rt,{children:r}),")."]}),p.jsxs("p",{children:["When creating ",p.jsx(Rt,{children:n}),", a reference to ",p.jsx(Rt,{children:r})," is"," ",p.jsx("i",{children:s?"required":"optional"}),"."]})]})})]})}function Rnt({register:t,control:e,data:{source:n,target:r,config:i}}){const s=i.connectionTable?i.connectionTable:n&&r?`${n}_${r}`:"";return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[p.jsx("div",{className:"flex flex-col gap-4"}),p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(Mt,{label:"Connection Table",...t("config.connectionTable"),placeholder:s}),p.jsx(Mt,{label:"Connection Mapping",...t("config.connectionTableMappedName"),placeholder:s})]}),p.jsx("div",{className:"flex flex-col gap-4"})]}),n&&r&&p.jsx(v_,{children:p.jsxs(p.Fragment,{children:[p.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[p.jsx(ou,{className:"size-4"}),n," ","→"," ",s," ","←"," ",r]}),p.jsxs("p",{children:["Many ",p.jsx(Rt,{children:n})," will have many ",p.jsx(Rt,{children:r}),"."]}),p.jsxs("p",{children:["A connection table ",p.jsx(Rt,{children:s})," will be created to store the relations."]})]})})]})}function Mnt({register:t,control:e,data:{type:n,source:r,target:i,config:s}}){return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[p.jsx("div",{className:"flex flex-col gap-4",children:p.jsx(Mt,{label:"Target mapping",...t("config.mappedBy"),placeholder:i})}),p.jsx("div",{}),p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(Mt,{label:"Source mapping",...t("config.inversedBy"),placeholder:r}),p.jsx(R0,{label:"Cardinality",name:"config.targetCardinality",control:e,placeholder:"n"})]})]},n),r&&i&&p.jsx(v_,{children:p.jsxs(p.Fragment,{children:[p.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[p.jsx(ou,{className:"size-4"}),r," ","←"," ",i]}),p.jsxs("p",{children:[p.jsx(Rt,{children:r})," will have many ",p.jsx(Rt,{children:i}),"."]}),p.jsxs("p",{children:[p.jsx(Rt,{children:i})," will get additional properties ",p.jsx(Rt,{children:"reference"})," and"," ",p.jsx(Rt,{children:"entity_id"})," to make the (polymorphic) reference."]}),s.targetCardinality?p.jsxs("p",{children:[p.jsx(Rt,{children:r})," should not have more than"," ",p.jsx(Rt,{children:s.targetCardinality})," reference",s.targetCardinality===1?"":"s"," to ",p.jsx(Rt,{children:i}),"."]}):null]})})]})}St();vt();bo();we();ir();Gt();ir();function wD({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){const{field:{value:a,onChange:l,...c}}=Ud({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i});return p.jsx(ra,{value:a,onChange:u=>{l(u),s==null||s(u)},...c,...o})}function Int({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,...o}){var d;const{field:{value:a,onChange:l,...c},fieldState:u}=Ud({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i});return p.jsx(SS,{value:a,onChange:f=>{l(f),s==null||s(f)},error:(d=u.error)==null?void 0:d.message,...c,...o})}wD.Group=Int;wD.Item=ra;qp();var hW=D.Object({entity:Vi,cardinality_type:jt(["single","multiple"],{default:"multiple"}),cardinality:D.Optional(D.Number({minimum:1})),name:Vi});function Dnt(){var v,w,_,$;const{stepBack:t,setState:e,state:n,path:r,nextStep:i}=Jd(),{register:s,handleSubmit:o,formState:{isValid:a,errors:l},watch:c,control:u}=js({mode:"onChange",resolver:Yi(hW),defaultValues:cl(hW,n.initial??{})}),[d,f]=S.useState(!1),{config:h}=nt(),m=h.media.enabled??!1,g=h.media.entity_name??"media",y=Yt(h.data.entities??{},(k,j)=>j!==g?k:void 0),O=c(),b=Object.keys(((w=(v=h.data.entities)==null?void 0:v[O.entity])==null?void 0:w.fields)??{});S.useEffect(()=>{f(b.includes(O.name))},[b,O.name]);async function x(){if(a&&!d){const{field:k,relation:j}=Qnt(g,O);e(P=>({...P,fields:{create:[k]},relations:{create:[j]}})),i("create")()}}return p.jsxs(p.Fragment,{children:[!m&&p.jsx("div",{className:"px-5 py-4 bg-red-100 text-red-900",children:"Media is not enabled in the configuration. Please enable it to use this template."}),p.jsxs("form",{onSubmit:o(x),children:[p.jsx(Hd,{children:p.jsxs("div",{className:"flex flex-col gap-6",children:[p.jsx(ol,{name:"entity",allowDeselect:!1,control:u,size:"md",label:"Choose which entity to add media to",required:!0,data:Object.entries(y).map(([k,j])=>{var P;return{value:k,label:((P=j.config)==null?void 0:P.name)??k}})}),p.jsx(wD.Group,{name:"cardinality_type",control:u,label:"How many items can be attached?",size:"md",children:p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx(ra,{label:"Multiple items",value:"multiple"}),p.jsx(ra,{label:"Single item",value:"single"})]})}),O.cardinality_type==="multiple"&&p.jsx(R0,{name:"cardinality",control:u,size:"md",label:"How many exactly?",placeholder:"n",description:"Leave empty for unlimited",inputWrapperOrder:["label","input","description","error"]}),p.jsx(Mt,{size:"md",label:"Set a name for the property",required:!0,description:`A virtual property will be added to ${O.entity?O.entity:"the entity"}.`,...s("name"),error:(_=l.name)!=null&&_.message?($=l.name)==null?void 0:$.message:d?`Property "${O.name}" already exists on entity ${O.entity}`:void 0})]})}),p.jsx(Kd,{next:{type:"submit",disabled:!a||!m||d},prev:{onClick:t},debug:{state:n,path:r,data:O}})]})]})}function Qnt(t,e){const n={name:e.name,entity:e.entity,field:{type:"media",config:{required:!1,fillable:["update"],hidden:!1,mime_types:[],virtual:!0,entity:e.entity}}},r={type:"poly",source:e.entity,target:t,config:{mappedBy:e.name,targetCardinality:e.cardinality_type==="single"?1:void 0}};return e.cardinality_type==="multiple"?e.cardinality&&e.cardinality>1&&(n.field.config.max_items=e.cardinality,r.config.targetCardinality=e.cardinality):(n.field.config.max_items=1,r.config.targetCardinality=1),{field:n,relation:r}}St();var Fnt={id:"template-media",title:"Attach Media",description:"Attach media to an entity",Icon:FO},Lnt=[[Dnt,Fnt]],zle=Lnt;function qnt(){const{nextStep:t,stepBack:e,state:n,path:r,setState:i}=Jd(),s=n.action??null;function o(a){if(s===a){t(a)();return}i({action:a})}return p.jsxs(p.Fragment,{children:[p.jsxs(Hd,{children:[p.jsx("p",{children:"Choose what type to add."}),p.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[p.jsx(ZP,{Icon:K8e,title:"Entity",description:"Create a new entity with fields",onClick:()=>o("entity"),selected:s==="entity"}),p.jsx(ZP,{Icon:KI,title:"Relation",description:"Create a new relation between entities",onClick:()=>o("relation"),selected:s==="relation"})]}),p.jsxs("div",{className:"flex flex-col gap-2 mt-3",children:[p.jsx("h3",{className:"font-bold",children:"Quick templates"}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:zle.map(([,a])=>p.jsx(ZP,{compact:!0,Icon:FO,title:a.title,description:a.description,onClick:()=>o(a.id),selected:s===a.id},a.id))})]})]}),p.jsx(Kd,{next:{onClick:s&&t(s),disabled:!s},prev:{onClick:e},prevLabel:"Cancel",debug:{state:n,path:r}})]})}var ZP=({Icon:t,title:e,description:n,onClick:r,selected:i,compact:s=!1,disabled:o=!1})=>p.jsxs("div",{onClick:o!==!0?r:void 0,className:Ie("flex gap-3 border border-primary/10 rounded cursor-pointer",s?"flex-row p-4 items-center":"flex-col p-5",i?"bg-primary/10 border-primary/50":"hover:bg-primary/5",o&&"opacity-50"),children:[p.jsx(t,{className:"size-10"}),p.jsxs("div",{className:"flex flex-col leading-tight",children:[p.jsx("p",{className:"text-lg font-bold",children:e}),p.jsx("p",{children:n})]})]}),Wle=D.Composite([D.Object({name:Vi}),Sy]),Vnt=D.Union([jt(["entity","relation","media"]),D.String({pattern:"^template-"})]),Bnt=D.Object({entity:Vi,name:Vi,field:D.Array(d0)});D.Object({action:Vnt,initial:D.Optional(D.Any()),entities:D.Optional(D.Object({create:D.Optional(D.Array(Wle))})),relations:D.Optional(D.Object({create:D.Optional(D.Array(D.Union(f0)))})),fields:D.Optional(D.Object({create:D.Optional(D.Array(Bnt))}))},{additionalProperties:!1});function SD({context:t,id:e,innerProps:{initialPath:n=[],initialState:r}}){const[i,s]=S.useState(n);console.log("...",n,r);function o(){t.closeModal(e)}return p.jsxs(Mle,{path:i,lastBack:o,initialPath:n,initialState:r,children:[p.jsxs(Eu,{id:"select",children:[p.jsx(ju,{path:["Create New"],onClose:o}),p.jsx(qnt,{})]}),p.jsxs(Eu,{id:"entity",path:["action"],children:[p.jsx(ju,{path:["Create New","Entity"],onClose:o}),p.jsx(unt,{})]}),p.jsxs(Eu,{id:"entity-fields",path:["action","entity"],children:[p.jsx(ju,{path:["Create New","Entity","Fields"],onClose:o}),p.jsx(jnt,{})]}),p.jsxs(Eu,{id:"relation",path:["action"],children:[p.jsx(ju,{path:["Create New","Relation"],onClose:o}),p.jsx(Tnt,{})]}),p.jsxs(Eu,{id:"create",path:["action"],children:[p.jsx(ju,{path:["Create New","Creation"],onClose:o}),p.jsx(lnt,{})]}),zle.map(([a,l])=>p.jsxs(Eu,{id:l.id,path:["action"],children:[p.jsx(ju,{path:["Create New","Template",l.title],onClose:o}),p.jsx(a,{})]},l.id))]})}SD.defaultTitle=void 0;SD.modalProps={withCloseButton:!1,size:"xl",padding:0,classNames:{root:"bknd-admin"}};we();El();function _D({innerProps:t}){const{data:e,...n}=t,r=Yt(e,(o,a)=>typeof o=="object"&&"label"in o?o:{label:p.jsx("span",{className:"font-mono",children:a}),value:o,expand:10,showCopy:!0,...n}),i=Object.keys(r).length;function s({value:o,label:a,...l}){return p.jsx(lo,{json:o,...l})}return p.jsx("div",{className:"bg-background",children:i>1?p.jsxs(pn,{defaultValue:Object.keys(r)[0],children:[p.jsx("div",{className:"sticky top-0 bg-background z-10",children:p.jsx(pn.List,{children:Object.entries(r).map(([o,a])=>p.jsx(pn.Tab,{value:o,children:a.label},o))})}),Object.entries(r).map(([o,a])=>p.jsx(pn.Panel,{value:o,children:s(a)},o))]}):s({...r[Object.keys(r)[0]],title:r[Object.keys(r)[0]].label})})}_D.defaultTitle=!1;_D.modalProps={withCloseButton:!1,size:"lg",classNames:{body:"!p-0"}};wt();vo();QO();function $D({context:t,id:e,innerProps:{schema:n,uiSchema:r,onSubmit:i,autoCloseAfterSubmit:s}}){const[o,a]=S.useState(!1),l=S.useRef(null),[c,u]=S.useState(!1),d=S.useRef(!1),[f,h]=S.useState();function m(O,b){const x=b();console.log("Data changed",O,x),a(x)}function g(){t.closeModal(e)}async function y(){var O,b;d.current=!0,(O=l.current)!=null&&O.validateForm()&&(u(!0),await(i==null?void 0:i((b=l.current)==null?void 0:b.formData(),{close:g,setError:h})),u(!1),s!==!1&&g())}return p.jsxs(p.Fragment,{children:[f&&p.jsx(Ja.Exception,{message:f}),p.jsxs("div",{className:"pt-3 pb-3 px-3 gap-4 flex flex-col",children:[p.jsx(Ts,{tagName:"form",ref:l,schema:n,uiSchema:r,className:"legacy hide-required-mark fieldset-alternative mute-root",onChange:m,onSubmit:y}),p.jsxs("div",{className:"flex flex-row justify-end gap-2",children:[p.jsx(Ue,{onClick:g,children:"Cancel"}),p.jsx(Ue,{variant:"primary",onClick:y,disabled:!o||c,children:"Create"})]})]})]})}$D.defaultTitle="JSON Schema Form Modal";$D.modalProps={classNames:{size:"md",root:"bknd-admin",header:"!bg-primary/5 border-b border-b-muted !py-3 px-5 !h-auto !min-h-px",content:"rounded-lg select-none",title:"!font-bold !text-md",body:"!p-0"}};function kD({context:t,id:e,innerProps:n}){return p.jsxs(p.Fragment,{children:[p.jsx("span",{children:n.modalBody}),p.jsx("button",{onClick:()=>t.closeModal(e),children:"Close modal"})]})}kD.defaultTitle="Test Modal";kD.modalProps={classNames:{size:"md",root:"bknd-admin",header:"!bg-primary/5 border-b border-b-muted !py-3 px-5 !h-auto !min-h-px",content:"rounded-lg select-none",title:"font-bold !text-md",body:"py-3 px-5 gap-4 flex flex-col"}};var M0={test:kD,debug:_D,form:$D,overlay:xD,dataCreate:SD};function znt({children:t}){return p.jsx(int,{modals:M0,modalProps:{className:"bknd-admin"},children:t})}function Wnt(t,e,{title:n,...r}={}){const i=n??M0[t].defaultTitle??void 0,s=M0[t].modalProps??{},o={title:i,...r,...s,modal:t,innerProps:e};return Nle(o),{close:()=>Ule(t),closeAll:Ale.closeAll}}function Ule(t){return Tle(t)}var Ki={ids:Object.fromEntries(Object.keys(M0).map(t=>[t,t])),open:Wnt,close:Ule,closeAll:Ale.closeAll};Gt();wn();wn();St();Gt();Lt();Oo();function xa(t=[]){S.useLayoutEffect(()=>{const e="BKND";document.title=[e,...t].join(" / ")})}Et();_r();function Unt({children:t}){const{app:e,config:n}=nt(),r=n.auth.entity_name;return p.jsxs(p.Fragment,{children:[p.jsxs(Lp,{children:[p.jsx(In,{right:p.jsx(jn,{href:e.getSettingsPath(["auth"]),children:p.jsx(lt,{Icon:LO})}),children:"Auth"}),p.jsx(nn,{initialOffset:96,children:p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsxs("nav",{className:"flex flex-col flex-1 gap-1",children:[p.jsx(li,{as:jn,href:"/",children:"Overview"}),p.jsx(li,{as:jn,href:e.getAbsolutePath("/data/"+Je.data.entity.list(r)),disabled:!n.auth.enabled,children:"Users"}),p.jsx(li,{as:jn,href:Je.auth.roles.list(),disabled:!n.auth.enabled,children:"Roles & Permissions"}),p.jsx(li,{as:jn,href:Je.auth.strategies(),disabled:!0,children:"Strategies"}),p.jsx(li,{as:jn,href:e.getSettingsPath(["auth"]),children:"Settings"})]})})})]}),p.jsx(qO,{children:t})]})}Dr();Gt();Gt();function w_(){const{config:t,schema:e,actions:n}=nt(),r={roles:{add:async(s,o={})=>(console.log("add role",s,o),await n.add("auth",`roles.${s}`,o)),patch:async(s,o)=>(console.log("patch role",s,o),await n.patch("auth",`roles.${s}`,o)),delete:async s=>(console.log("delete role",s),window.confirm(`Are you sure you want to delete the role "${s}"?`)?await n.remove("auth",`roles.${s}`):!1)}};return{$auth:{},config:t.auth,schema:e.auth,actions:r}}wt();QO();Et();_r();function Znt(){var h;const{app:t}=nt(),{config:{roles:e,strategies:n,entity_name:r,enabled:i}}=w_(),s=r,a=((h=IO(m=>m.data.count(s),{enabled:i}).data)==null?void 0:h.count)??0,l=Object.keys(e??{}).length??0,c=Object.keys(n??{}).length??0,u=t.getAbsolutePath("/data/"+Je.data.entity.list(s)),d=Je.auth.roles.list(),f=t.getSettingsPath(["auth","strategies"]);return p.jsxs(p.Fragment,{children:[p.jsx(In,{children:"Overview"}),p.jsxs(nn,{children:[p.jsx(Ja.Warning,{visible:!i,title:"Auth not enabled",message:"To use authentication features, please enable it in the settings."}),p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsxs("div",{className:"grid xs:grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-5",children:[p.jsx(XP,{title:"Users registered",value:i?a:0,actions:[{label:"View all",href:u},{label:"Add new",variant:"default",href:u}]}),p.jsx(XP,{title:"Roles",value:i?l:0,actions:[{label:"View all",href:d},{label:"Add new",variant:"default",href:d}]}),p.jsx(XP,{title:"Strategies enabled",value:i?c:0,actions:[{label:"View all",href:f},{label:"Add new",variant:"default",href:f}]})]})})]})]})}var XP=({title:t,value:e,actions:n})=>p.jsxs("div",{className:"flex flex-col border border-muted",children:[p.jsxs("div",{className:"flex flex-col gap-2 px-5 pt-3.5 pb-4 border-b border-b-muted",children:[p.jsx("div",{children:p.jsx("span",{className:"opacity-50",children:t})}),p.jsx("div",{className:"text-4xl font-medium",children:e})]}),p.jsx("div",{className:"flex flex-row gap-3 p-3 justify-between",children:n.map((r,i)=>p.jsx(gne,{size:"small",variant:"ghost",href:"#",...r,children:r.label},i))})]});we();QO();wt();Et();_r();function Xnt(){const[t]=Sr(),{config:e,actions:n}=w_(),r=Object.values(Yt(e.roles??{},(o,a)=>({role:a,permissions:o.permissions,is_default:o.is_default??!1,implicit_allow:o.implicit_allow??!1})));function i(o){t(Je.auth.roles.edit(o.role))}function s(){Ki.open("form",{schema:{type:"object",properties:{name:Vi},required:["name"]},uiSchema:{name:{"ui:title":"Role name"}},onSubmit:async o=>{o.name.length>0&&await n.roles.add(o.name)&&t(Je.auth.roles.edit(o.name))}},{title:"New Role"})}return p.jsxs(p.Fragment,{children:[p.jsx(In,{right:p.jsx(Ue,{variant:"primary",onClick:s,children:"Create new"}),children:"Roles & Permissions"}),p.jsxs(nn,{children:[p.jsx(Ja.Warning,{visible:!e.enabled,title:"Auth not enabled",message:"To use authentication features, please enable it in the settings."}),p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsx(b_,{data:r,renderValue:Ynt,renderHeader:Ap,onClickRow:i})})]})]})}var Ynt=({value:t,property:e})=>{if(["is_default","implicit_allow"].includes(e))return t?p.jsx("span",{children:"Yes"}):p.jsx("span",{className:"opacity-50",children:"No"});if(e==="permissions"){let r=t||[];const i=r.length;return i>3&&(r=[...r.slice(0,3),`+${i-3}`]),p.jsx("div",{className:"flex flex-row gap-1",children:r.map((s,o)=>p.jsx("span",{className:"inline-block px-2 py-1.5 text-sm bg-primary/5 rounded font-mono leading-none",children:s},o))})}return p.jsx(x_,{value:t,property:e})};St();Gt();wt();Lt();Rn();Ml();var Gnt=t=>p.jsx(wr,{title:"Not Found",...t}),Hnt=t=>p.jsx(wr,{title:"Not Allowed",...t}),Knt=({what:t,...e})=>p.jsx(wr,{Icon:JJ,title:"Missing Permission",description:`You're not allowed to access ${t??"this"}.`,...e}),Yc={NotFound:Gnt,NotAllowed:Hnt,MissingPermission:Knt};Jr();Et();rb();_r();bo();_te();we();ir();Gt();wt();var Jnt=fT,ert=S.forwardRef(({role:t,debug:e},n)=>{const{permissions:r}=nt(),{formState:{isValid:i},watch:s,control:o,reset:a,getValues:l}=js({resolver:Yi(Jnt),defaultValues:t});return S.useImperativeHandle(n,()=>({reset:a,getData:()=>l(),isValid:()=>i})),p.jsxs("div",{className:"flex flex-col flex-grow px-5 py-5 gap-8",children:[p.jsx("div",{className:"flex flex-col gap-2",children:p.jsx(trt,{control:o,permissions:r})}),p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(ht.Wrapper,{label:"Should this role be the default?",size:"md",description:"In case an user is not assigned any role, this role will be assigned by default.",children:p.jsx("div",{className:"flex flex-row",children:p.jsx(wg,{name:"is_default",control:o,className:"mt-2"})})}),p.jsx(ht.Wrapper,{label:"Implicit allow missing permissions?",size:"md",description:"This should be only used for admins. If a permission is not explicitly denied, it will be allowed.",children:p.jsx("div",{className:"flex flex-row",children:p.jsx(wg,{name:"implicit_allow",control:o,className:"mt-2"})})})]}),e&&p.jsxs("div",{className:"font-mono opacity-50",children:[p.jsx("div",{children:JSON.stringify(t,null,2)}),p.jsx("div",{children:JSON.stringify(s(),null,2)})]})]})}),trt=({control:t,permissions:e})=>{const{field:{value:n,onChange:r,...i},fieldState:s}=Ud({name:"permissions",control:t}),o=n??[];function a(c){return u=>{const f=u.target.checked?[...o,c]:o.filter(h=>h!==c);r(f)}}const l=e.reduce((c,u)=>{const[d,f]=u.split(".");return c[d]||(c[d]=[]),c[d].push(u),c},{});return console.log("grouped",l),p.jsx("div",{className:"flex flex-col gap-10",children:Object.entries(l).map(([c,u])=>p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("h3",{className:"font-semibold",children:[bs(c)," Permissions"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-3",children:u.map(d=>{const f=o.includes(d);return p.jsx("div",{className:"flex flex-col border border-muted",children:p.jsxs("div",{className:"flex flex-row gap-2 justify-between",children:[p.jsx("div",{className:"py-4 px-4 font-mono leading-none",children:d}),p.jsxs("div",{className:"flex flex-row gap-1 items-center px-2",children:[p.jsx(fo,{checked:f,onChange:a(d)}),p.jsx(_l,{label:"Coming soon",children:p.jsx(Ue,{size:"small",variant:"ghost",disabled:!0,children:p.jsx("span",{className:"font-normal italic font-mono",children:"FX"})})})]})]})},d)})})]},c))})};function nrt(t){const{hasSecrets:e}=nt({withSecrets:!0});return e?p.jsx(rrt,{...t}):p.jsx(Yc.MissingPermission,{what:"Roles & Permissions"})}function rrt({params:t}){var c;const[e]=Sr(),{config:n,actions:r}=w_(),i=t.role,s=(c=n.roles)==null?void 0:c[i],o=S.useRef(null);async function a(){var f,h,m;if(console.log("data",(f=o.current)==null?void 0:f.isValid()),!((h=o.current)!=null&&h.isValid()))return;const u=(m=o.current)==null?void 0:m.getData();await r.roles.patch(i,u)&&e(Je.auth.roles.list())}async function l(){await r.roles.delete(i)&&e(Je.auth.roles.list())}return p.jsxs(p.Fragment,{children:[p.jsx(In,{right:p.jsxs(p.Fragment,{children:[p.jsx(vr,{items:[{label:"Advanced Settings",onClick:()=>e(Je.settings.path(["auth","roles",i]),{absolute:!0})},{label:"Delete",onClick:l,destructive:!0}],position:"bottom-end",children:p.jsx(lt,{Icon:jl})}),p.jsx(Ue,{variant:"primary",onClick:a,children:"Update"})]}),className:"pl-3",children:p.jsx(nm,{path:[{label:"Roles & Permissions",href:Je.auth.roles.list()},{label:i}]})}),p.jsx(nn,{children:p.jsx(ert,{ref:o,role:s})})]})}Gt();_r();function irt(){const{app:t}=nt(),[e]=Sr();return S.useEffect(()=>{e(t.getSettingsPath(["auth"]))},[]),null}Gt();wt();Et();function srt(){return nt({withSecrets:!0}),p.jsx(ort,{})}function ort(){const t=nt(),e=t.config.auth.strategies,n=Ci(to(t.schema.auth.properties.strategies,["title"]));return console.log("strategies",{config:e,schema:n}),p.jsxs(p.Fragment,{children:[p.jsx(In,{right:p.jsx(Ue,{variant:"primary",children:"Update"}),children:"Strategies"}),p.jsx(nn,{children:"strat"})]})}function art(){return null}function lrt(){return p.jsxs(Unt,{children:[p.jsx(Ze,{path:"/",component:Znt}),p.jsx(Ze,{path:"/users",component:art}),p.jsx(Ze,{path:"/roles",component:Xnt}),p.jsx(Ze,{path:"/roles/edit/:role",component:nrt}),p.jsx(Ze,{path:"/strategies",component:srt}),p.jsx(Ze,{path:"/settings",component:irt})]})}zI();Oo();g_();function crt(){return xa(["Login"]),p.jsx(Yae.Screen,{action:"login",logo:p.jsx(jn,{href:"/",className:"link",children:p.jsx(BI,{scale:.25})})})}wn();Rn();St();vt();Lt();Ml();Jr();Oo();Et();_r();function urt({children:t}){const{entities:e,$data:n}=Ns(),r={regular:[],generated:[],system:[]},[i]=Sr(),s=window.location.href.match(/\/schema/)?"schema":"data";for(const a of Object.values(e))r[a.getType()].push(a);function o(a){var c;if(!a)return;const l=((c=window.location.href.match(/\/entity\/([^/]+)/))==null?void 0:c[1])||null;switch(a){case"data":l?i(Je.data.entity.list(l)):i(Je.data.root(),{absolute:!0});break;case"schema":i(l?Je.data.schema.entity(l):Je.data.schema.root());break}}return p.jsxs(p.Fragment,{children:[p.jsxs(Lp,{children:[p.jsx(In,{right:p.jsxs(p.Fragment,{children:[p.jsx(Fd,{data:[{value:"data",label:"Data"},{value:"schema",label:"Schema"}],value:s,onChange:o}),p.jsx(_l,{label:"New Entity",children:p.jsx(lt,{Icon:Dne,onClick:n.modals.createEntity})})]}),children:"Entities"}),p.jsx(nn,{initialOffset:96,children:p.jsxs("div",{className:"flex flex-col flex-grow py-3 gap-3",children:[p.jsx(YP,{entities:r.regular,context:s,suggestCreate:!0}),p.jsx(YP,{entities:r.system,context:s,title:"System"}),p.jsx(YP,{entities:r.generated,context:s,title:"Generated"})]})})]}),p.jsx(qO,{children:t})]})}var YP=({entities:t,title:e,context:n,suggestCreate:r=!1})=>{const{$data:i}=Ns();return t.length===0?r?p.jsx(wr,{className:"py-10",description:"Create your first entity to get started.",secondary:{children:"Create entity",onClick:()=>i.modals.createEntity()}}):null:p.jsxs("nav",{className:Ie("flex flex-col flex-1 gap-1 px-3",e&&"border-t border-primary/10 pt-2"),children:[e&&p.jsx("div",{className:"text-sm text-primary/50 ml-3.5 mb-1",children:e}),t.map(s=>{const o=n==="data"?Je.data.entity.list(s.name):Je.data.schema.entity(s.name);return p.jsx(drt,{entity:s,children:p.jsx(li,{as:jn,href:o,children:s.label})},s.name)})]})},drt=({entity:t,children:e,enabled:n=!0})=>{if(!n)return e;const[r]=Sr(),{$data:i}=Ns(),s=e.props.href,o=()=>p.jsx("div",{className:"h-px my-1 w-full bg-primary/5"});return p.jsx(vr,{className:"flex flex-col w-full",dropdownWrapperProps:{className:"min-w-fit"},title:t.label+" Actions",items:[s&&{icon:XJ,label:"Open in tab",onClick:()=>r(s,{target:"_blank"})},o,!i.system(t.name).any&&{icon:CO,label:"Create new",onClick:()=>r(Je.data.entity.create(t.name))},{icon:ou,label:"List entries",onClick:()=>r(Je.data.entity.list(t.name))},o,{icon:kO,label:"Manage fields",onClick:()=>r(Je.data.schema.entity(t.name))},{icon:PO,label:"Add relation",onClick:()=>i.modals.createRelation(t.name)},!i.system(t.name).media&&{icon:cI,label:"Add media",onClick:()=>i.modals.createMedia(t.name)},o,{icon:Cd,label:"Settings",onClick:()=>r(Je.settings.path(["data","entities",t.name]),{absolute:!0})}],openEvent:"onContextMenu",position:"bottom-start",children:e})};function frt(){xa(["Data"]);const[t]=Sr(),{$data:e}=Ns();function n(){t(Je.data.schema.root())}return p.jsx(wr,{Icon:ou,title:"No entity selected",description:"Please select an entity from the left sidebar or create a new one to continue.",secondary:{children:"Go to schema",onClick:n},primary:{children:"Create entity",onClick:e.modals.createEntity}})}we();St();Dr();wt();Lt();Jr();Et();rb();_r();xr();E1();uD();cu();cu();g_();Xi();cu();cu();vo();function hrt({fieldApi:t,field:e,data:n,disabled:r,...i}){function s(a){r||t.setValue(a)}const o=n==null?void 0:n[e.name];return p.jsxs(us,{children:[p.jsx(m_,{htmlFor:t.name,field:e}),p.jsx("div",{"data-disabled":r?1:void 0,className:"data-[disabled]:opacity-70 data-[disabled]:pointer-events-none",children:p.jsx(Ts,{schema:e.getJsonSchema(),onChange:s,direction:"horizontal",formData:o,uiSchema:{"ui:globalOptions":{flexDirection:"row"},...e.getJsonUiSchema()}})})]})}en();we();St();Dr();Gt();wt();cu();Oo();_r();wn();en();St();vt();wt();Jr();var pW=()=>{const[t,e]=y1([!1,!0]),n=t?Tne:Qne;return p.jsx("button",{role:"checkbox",type:"button",className:"flex px-3 py-3",onClick:()=>e(),children:p.jsx(n,{size:18})})},prt=({data:t=[],entity:e,select:n,checkable:r,onClickRow:i,onClickPage:s,onClickSort:o,total:a,sort:l,page:c=1,perPage:u=10,perPageOptions:d,onClickPerPage:f,classNames:h})=>{n=n&&n.length>0?n:e.getSelect(),a=a||t.length,c=c||1;const m=Math.max(Math.ceil(a/u),1),g=e.getFields();function y(O){return g.find(b=>b.name===O)}return p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("div",{className:"border-muted border rounded-md shadow-sm w-full max-w-full overflow-y-scroll",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"sticky top-0 bg-background",children:p.jsxs("tr",{children:[r&&p.jsx("th",{align:"center",className:"w-[40px]",children:p.jsx(pW,{})}),n.map((O,b)=>{const x=y(O);return p.jsx("th",{children:p.jsx("div",{className:"flex flex-row py-1 px-1 font-normal text-primary/55",children:p.jsxs("button",{type:"button",className:"link hover:bg-primary/5 pl-2.5 pr-1 py-1.5 rounded-md inline-flex flex-row justify-start items-center gap-1",onClick:()=>o==null?void 0:o(x.name),children:[p.jsx("span",{className:"text-left text-nowrap whitespace-nowrap",children:x.getLabel()}),p.jsx(mrt,{sort:l,field:x.name})]})})},b)})]})}),p.jsx("tbody",{children:t.map((O,b)=>p.jsxs("tr",{"data-border":b>0,className:"hover:bg-primary/5 active:bg-muted border-muted data-[border]:border-t cursor-pointer transition-colors",onClick:()=>i==null?void 0:i(O),children:[r&&p.jsx("td",{align:"center",children:p.jsx(pW,{})}),Object.entries(O).map(([x,v],w)=>{const _=y(x),$=_==null?void 0:_.getValue(v,"table");return p.jsx("td",{children:p.jsx("div",{className:"flex flex-row items-start py-3 px-3.5 font-normal ",children:v!==null&&typeof v<"u"?p.jsx("span",{className:Ie(h==null?void 0:h.value,"line-clamp-2"),children:$}):p.jsx("span",{className:"opacity-10 font-mono",children:"null"})})},w)})]},b))})]})}),p.jsxs("div",{className:"flex flex-row items-center justify-between",children:[p.jsx("div",{className:"hidden md:flex text-primary/40",children:p.jsx(grt,{perPage:u,page:c,items:t.length,total:a})}),p.jsxs("div",{className:"flex flex-row gap-2 md:gap-10 items-center",children:[d&&p.jsxs("div",{className:"hidden md:flex flex-row items-center gap-2 text-primary/40",children:["Per Page"," ",p.jsx(vr,{items:d.map(O=>({label:String(O),perPage:O})),position:"top-end",onClickItem:O=>f==null?void 0:f(O.perPage),children:p.jsx(Ue,{children:u})})]}),p.jsxs("div",{className:"text-primary/40",children:["Page ",c," of ",m]}),s&&p.jsx("div",{className:"flex flex-row gap-1.5",children:p.jsx(yrt,{current:c,total:m,onClick:s})})]})]})]})},mrt=({sort:t,field:e})=>!t||t.by!==e?p.jsx(L1,{size:18,className:"mt-[1px]"}):t.dir==="asc"?p.jsx(HI,{size:18,className:"mt-[1px]"}):p.jsx(YI,{size:18,className:"mt-[1px]"}),grt=({perPage:t,page:e,items:n,total:r})=>r===0?p.jsx(p.Fragment,{children:"No rows to show"}):r===1?p.jsx(p.Fragment,{children:"Showing 1 row"}):p.jsxs(p.Fragment,{children:["Showing ",t*(e-1)+1,"-",t*(e-1)+n," of ",r," rows"]}),yrt=({current:t,total:e,onClick:n})=>[{value:1,Icon:Mne,disabled:t===1},{value:t-1,Icon:Ane,disabled:t===1},{value:t+1,Icon:Rne,disabled:t===e},{value:e,Icon:Ine,disabled:t===e}].map((i,s)=>p.jsx("button",{role:"button",type:"button",disabled:i.disabled,className:"px-2 py-2 border-muted border rounded-md enabled:link text-lg enabled:hover:bg-primary/5 text-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{const o=i.value,a=o<1?1:o>e?e:o;n==null||n(a)},children:p.jsx(i.Icon,{})},s));function Ort({fieldApi:t,field:e,data:n,disabled:r,tabIndex:i}){const{app:s}=nt(),o=s.entity(e.target()),[a,l]=S.useState({limit:10,page:1,perPage:10});xs();const c=S.useRef(null),u=Ad(e.target(),void 0,{limit:a.limit,offset:(a.page-1)*a.limit}),[d,f]=S.useState(),h=n==null?void 0:n[e.reference()],m=n==null?void 0:n[e.name];S.useEffect(()=>{const y=n==null?void 0:n[e.reference()];f(y)},[h]),S.useEffect(()=>{(async()=>{if(!e.target()||!m)return;const O=await u.api.readOne(e.target(),m);O.ok&&O.data&&f(O.data)})()},[m]),S.useEffect(()=>{var y;if(e.isRequired()&&!t.state.value){const O=(y=u.data)==null?void 0:y[0];if(!O)return;console.warn("setting first value because field is required",e.name,O.id),t.setValue(O.id),f(O)}},[u.data]);const g=u.isLoading||u.isValidating;return p.jsxs(us,{children:[p.jsx(yl,{htmlFor:t.name,children:e.getLabel({fallback:!1})??o.label}),p.jsx("div",{"data-disabled":g||r?1:void 0,className:"data-[disabled]:opacity-70 data-[disabled]:pointer-events-none",children:p.jsx(Ile,{backdrop:!0,className:"",target:({toggle:y})=>p.jsx(brt,{container:u.data,entity:o,query:a,toggle:y,onClickRow:O=>{t.setValue(O.id),f(O),y()},onClickPage:O=>{console.log("setting page",O),l(b=>({...b,page:O}))}}),children:p.jsx("div",{ref:c,className:"bg-muted/40 w-full h-11 focus:bg-muted rounded-md items-center px-2.5 outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all disabled:bg-muted/50 disabled:text-primary/50 cursor-pointer active:bg-muted/80 hover:bg-muted/60 flex flex-row gap-2",tabIndex:i,onKeyDown:RWe([["Enter",()=>{var y;(y=c.current)==null||y.click()}]]),children:d?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"flex bg-primary/10 px-2 leading-none py-1.5 rounded-lg font-mono text-sm",children:bs(o.name)}),p.jsx("div",{className:"flex flex-row gap-3 overflow-clip w-1 flex-grow",children:d&&Object.entries(d).map(([y,O])=>{const b=o.getField(y);if(b.isHidden("table"))return null;const x=b.getValue(O,"table");return p.jsxs("div",{className:"flex flex-row gap-1 items-center flex-nowrap",children:[p.jsxs("span",{className:"opacity-60 text-nowrap",children:[b.getLabel(),":"]})," ",x!==null&&typeof O<"u"?p.jsx("span",{className:"text-nowrap truncate",children:x}):p.jsx("span",{className:"opacity-30 text-nowrap font-mono mt-0.5",children:"null"})]},y)})}),p.jsx(jn,{to:Je.data.entity.edit(o.name,d.id),children:p.jsx(Ue,{IconLeft:o7e,size:"small",children:"View"})})]}):p.jsx("div",{className:"pl-2",children:"- Select -"})})})}),p.jsx(Ol,{type:"hidden",name:t.name,id:t.name,value:t.state.value??"",onChange:console.log,tabIndex:-1})]})}var brt=({container:t,entity:e,query:n,toggle:r,onClickRow:i,onClickPage:s})=>{var l;function o(){var c;n.limit*n.page<((c=t.meta)==null?void 0:c.count)&&s(n.page+1)}function a(){n.page>1&&s(n.page-1)}return eI([["ArrowRight",o],["ArrowLeft",a],["Escape",r]]),p.jsx("div",{children:p.jsx(prt,{classNames:{value:"line-clamp-1 truncate max-w-52 text-nowrap"},data:t.data??[],entity:e,total:(l=t.meta)==null?void 0:l.count,page:n.page,onClickRow:i,onClickPage:s})})};function Zle({entity:t,entityId:e,handleSubmit:n,fieldsDisabled:r,Form:i,data:s,className:o,action:a}){const l=t.getFillableFields(a,!0);return console.log("data",{data:s,fields:l}),p.jsxs("form",{onSubmit:n,children:[p.jsx(i.Subscribe,{selector:c=>[c.canSubmit,c.isValid,c.errors],children:([c,u,d])=>!u&&p.jsxs("div",{className:"flex flex-col dark:bg-red-950 bg-red-100 p-4",children:[p.jsx("p",{children:"Form is invalid."}),Array.isArray(d)&&p.jsx("ul",{className:"list-disc",children:d.map((f,h)=>p.jsx("li",{className:"ml-6",children:f},h))})]})}),p.jsx("div",{className:o,children:l.map((c,u)=>{if(c instanceof tp)return p.jsx(vrt,{entity:t,entityId:e,formApi:i,field:c},c.name+u);if(!c.isFillable(a))return;const d=`${t.name}-${c.name}-${u}`;return p.jsx(i.Field,{name:c.name,children:f=>p.jsx(xrt,{field:c,fieldApi:f,disabled:r,tabIndex:u+1,action:a,data:s})},d)})}),p.jsx("div",{className:"hidden",children:p.jsx("button",{type:"submit"})})]})}function xrt({fieldApi:t,field:e,action:n,data:r,...i}){const s=Wt(c=>{typeof c=="object"&&"target"in c?t.handleChange(c.target.value):t.handleChange(c)});if(e instanceof Ti)return p.jsx(Ort,{fieldApi:t,field:e,data:r,disabled:i.disabled,tabIndex:i.tabIndex});if(e instanceof _1)return p.jsx(wrt,{fieldApi:t,field:e,...i});if(e instanceof $1)return p.jsx(hrt,{fieldApi:t,field:e,data:r,disabled:i.disabled,tabIndex:i.tabIndex,...i});if(e instanceof S1)return p.jsx(Srt,{fieldApi:t,field:e,...i});const o=e.getHtmlConfig().element,a=e.getHtmlConfig().props,l=Qae(o??"input",a);return p.jsxs(us,{children:[p.jsx(m_,{htmlFor:t.name,field:e}),p.jsx(l,{...a,name:t.name,id:t.name,value:t.state.value,onBlur:t.handleBlur,onChange:s,required:e.isRequired(),...i})]})}function vrt({formApi:t,field:e,entity:n,entityId:r,disabled:i}){if(!r)return;const s=t.useStore(a=>{const l=a.values[e.name];return!l||typeof l>"u"?[]:Array.isArray(l)?l:[l]}),o=JSON.stringify([n,r,e.name,s.length]);return p.jsxs(us,{children:[p.jsx(m_,{field:e}),p.jsx(Zs.Dropzone,{maxItems:e.getMaxItems(),initialItems:s,entity:{name:n.name,id:r,field:e.name}},o)]})}function wrt({fieldApi:t,field:e,...n}){const r=Wt(i=>{t.handleChange(i)});return p.jsxs(us,{children:[p.jsx(yl,{htmlFor:t.name,children:e.getLabel()}),p.jsx(S.Suspense,{children:p.jsx(cD,{id:t.name,value:t.state.value,onChange:r,onBlur:t.handleBlur,minHeight:"100",...n})})]})}function Srt({fieldApi:t,field:e,...n}){const r=Wt(i=>{t.handleChange(i.target.value)});return p.jsxs(us,{children:[p.jsx(yl,{htmlFor:t.name,children:e.getLabel()}),p.jsxs(hD,{name:t.name,id:t.name,value:t.state.value,onBlur:t.handleBlur,onChange:r,required:e.isRequired(),...n,children:[!e.isRequired()&&p.jsx("option",{value:"",children:"- Select -"}),e.getOptions().map(i=>p.jsx("option",{value:i.value,children:i.label},i.value))]})]})}function Xle({entity:t,select:e,...n}){const r=e??t.getSelect(),i=t.getFields();function s(l){return i.find(c=>c.name===l)}function o(l){try{return s(l).getLabel()}catch(c){return console.warn("Couldn't render header",{entity:t,select:e,...n},c),l}}function a({value:l,property:c}){let u=l;try{u=s(c).getValue(l,"table")}catch(d){console.warn("Couldn't render value",{value:l,property:c,entity:t,select:e,columns:r,...n},d)}return p.jsx(x_,{value:u,property:c})}return p.jsx(b_,{...n,columns:r,renderHeader:o,renderValue:a})}function _rt(t,e){return ns(t,(n,r)=>{n[r.name]=r.getValue(e==null?void 0:e[r.name],"form")??""},{})}function $rt(t,e,n,r){return ns(e,(i,s,o)=>{const a=r.find(u=>u.name===o);if(!a||a.isVirtual())return;const l=s===""?null:s,c=a.getValue(l,"submit")||null;(t==="create"||c!==n[o])&&(i[o]=c)},{})}function Yle({action:t="update",entity:e,initialData:n,onSubmitted:r}){const i=n??{},s=e.getFillableFields(t,!0),o=_rt(s,i),a=tWe({defaultValues:o,validators:{onSubmitAsync:async({value:c})=>{try{e.isValidData(c,t,{explain:!0,ignoreUnknown:!0});return}catch(u){return u.message}}},onSubmit:async({value:c,formApi:u})=>{if(!e.isValidData(c,t)){console.error("invalid data",c);return}if(!i)return;const d=$rt(t,c,i,s);await(r==null?void 0:r(Object.keys(d).length===0?void 0:d))}});async function l(c){c.preventDefault(),c.stopPropagation(),a.handleSubmit()}return{Form:a,handleSubmit:l,fields:s,action:t,values:o,initialData:n}}function krt({params:t}){var x,v;const{$data:e,relations:n}=Ns(),r=e.entity(t.entity);if(!r)return p.jsx(Yc.NotFound,{description:`Entity "${t.entity}" doesn't exist.`});const i=Number.parseInt(t.id),[s,o]=S.useState(null),[a]=Sr();xa(["Data",r.label,`#${i}`]);const l=n.listableRelationsOf(r),c=(x=n.sourceRelationsOf(r))==null?void 0:x.map(w=>w.other(r).reference),u=Ad(r.name,i,{with:c},{keepPreviousData:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});function d(){window.history.go(-1)}async function f(w){if(console.log("update:changeSet",w),!w){d();return}try{await u.update(w),s&&o(null),d()}catch(_){o(_ instanceof Error?_.message:"Failed to update")}}async function h(){if(confirm("Are you sure to delete?"))try{await u._delete(),s&&o(null),d()}catch(w){o(w instanceof Error?w.message:"Failed to delete")}}const m=u.data,{Form:g,handleSubmit:y}=Yle({action:"update",entity:r,initialData:(v=u.data)==null?void 0:v.toJSON(),onSubmitted:f});if(!m&&!u.isLoading)return p.jsx(Yc.NotFound,{description:`Entity "${t.entity}" with ID "${i}" doesn't exist.`});const O=(w="")=>`${r.name}_${i}_${String(w)}`,b=u.isLoading||u.isValidating||g.state.isSubmitting;return p.jsxs(S.Fragment,{children:[p.jsx(In,{right:p.jsxs(p.Fragment,{children:[p.jsx(vr,{position:"bottom-end",items:[{label:"Inspect",onClick:()=>{Ki.open("debug",{data:{data:m,entity:r.toJSON(),schema:r.toSchema({clean:!0}),form:g.state.values,state:g.state}})}},{label:"Settings",onClick:()=>a(Je.settings.path(["data","entities",r.name]),{absolute:!0})},{label:"Delete",onClick:h,destructive:!0,disabled:b}],children:p.jsx(lt,{Icon:jl})}),p.jsx(g.Subscribe,{selector:w=>[w.canSubmit,w.isSubmitting],children:([w,_])=>p.jsx(Ue,{type:"button",onClick:g.handleSubmit,variant:"primary",tabIndex:r.fields.length+1,disabled:!w||_||b,children:"Update"})})]}),className:"pl-3",children:p.jsx(nm,{path:[{label:r.label,href:Je.data.entity.list(r.name)},{label:`Edit #${i}`}]})}),p.jsxs(nn,{children:[s&&p.jsxs("div",{className:"flex flex-row dark:bg-red-950 bg-red-100 p-4",children:[p.jsx("b",{className:"mr-2",children:"Update failed: "})," ",s]}),p.jsx(Zle,{entity:r,entityId:i,handleSubmit:y,fieldsDisabled:b,data:m??void 0,Form:g,action:"update",className:"flex flex-grow flex-col gap-3 p-3"}),l.length>0?p.jsx(Prt,{id:i,entity:r,relations:l}):null]})]},O())}function Prt({id:t,entity:e,relations:n}){const[r,i]=S.useState(n.length>0?n[0]:void 0);function s(o){i(o)}return n.length===0?null:p.jsxs("div",{className:"flex flex-col max-w-full",children:[p.jsx(q1,{title:"Relations",items:n.map(o=>{const a=o.other(e);return{as:"button",type:"button",label:bs(a.reference),onClick:()=>s(o),active:(r==null?void 0:r.other(e).reference)===a.reference,badge:o.type()}})}),p.jsx("div",{className:"flex flex-grow flex-col gap-3 p-3",children:p.jsx(Crt,{id:t,entity:e,relation:r})})]})}function Crt({id:t,entity:e,relation:n}){var u,d,f;const r=n.other(e),[i]=Sr(),s={select:r.entity.getSelect(void 0,"table"),limit:10,offset:0},o=IO(h=>h.data.readManyByReference(e.name,t,r.reference,s));function a(h){i(Je.data.entity.edit(r.entity.name,h.id))}function l(){try{const h=n.getReferenceQuery(r.entity,t,r.reference);i(Je.data.entity.create(r.entity.name),{query:h.where})}catch(h){console.error("handleClickNew",h)}}if(!o.data)return null;const c=o.isValidating||o.isLoading;return p.jsx("div",{"data-updating":c?1:void 0,className:"transition-opacity data-[updating]:opacity-50",children:p.jsx(Xle,{select:s.select,data:o.data??null,entity:r.entity,onClickRow:a,onClickNew:l,page:1,total:((f=(d=(u=o.data)==null?void 0:u.body)==null?void 0:d.meta)==null?void 0:f.count)??1})})}we();Dr();wt();we();wn();function Gle(t,e){const n=pne(),[r,i]=xs();let s=e?Ak(t,e):{};n.length>0&&(s=Ak(t,XB(n)));function o(a,l){const c=Ak(t,{...XB(n),[a]:l}),u=ns(c,(f,h,m)=>{e&&QN(h,e[m])||(f[m]=h)},{}),d=b1(u,{encode:!1});i(r+(d.length>0?"?"+d:""))}return{value:s,set:o}}Et();rb();_r();function jrt({params:t}){const{$data:e}=Ns(),n=e.entity(t.entity);if(n){if(n.type!=="regular")return p.jsx(Yc.NotAllowed,{description:`Entity "${t.entity}" cannot be created.`})}else return p.jsx(Yc.NotFound,{description:`Entity "${t.entity}" doesn't exist.`});const[r,i]=S.useState(null);xa(["Data",n.label,"Create"]);const s=LI(n.name),o=Gle(D.Object({}),{});function a(){window.history.go(-1)}async function l(f){if(console.log("create:changeSet",f),!!f)try{await s.create(f),r&&i(null),a()}catch(h){i(h instanceof Error?h.message:"Failed to create")}}const{Form:c,handleSubmit:u}=Yle({action:"create",entity:n,initialData:o.value,onSubmitted:l}),d=s.isLoading||s.isValidating||c.state.isSubmitting;return p.jsxs(p.Fragment,{children:[p.jsx(In,{right:p.jsxs(p.Fragment,{children:[p.jsx(Ue,{onClick:a,children:"Cancel"}),p.jsx(c.Subscribe,{selector:f=>[f.canSubmit,f.isSubmitting],children:([f,h])=>p.jsx(Ue,{type:"button",onClick:c.handleSubmit,variant:"primary",tabIndex:n.fields.length,disabled:!f||h,children:"Create"})})]}),children:p.jsx(nm,{path:[{label:n.label,href:Je.data.entity.list(n.name)},{label:"Create"}]})}),p.jsxs(nn,{children:[r&&p.jsxs("div",{className:"flex flex-row dark:bg-red-950 bg-red-100 p-4",children:[p.jsx("b",{className:"mr-2",children:"Create failed: "})," ",r]}),p.jsx(Zle,{entity:n,handleSubmit:u,fieldsDisabled:d,data:o.value,Form:c,action:"create",className:"flex flex-grow flex-col gap-3 p-3"})]},n.name)]})}we();xr();St();Dr();Gt();wt();Lt();Jr();Et();_r();Dr();_r();function Ert(){const t=oa(),{config:e}=w_(),n=F1(),[r]=Sr();return{open:async()=>{const s=Ki.open("overlay",{content:"Loading..."}),o=await t.auth.actionSchema("password","create");s.closeAll(),Ki.open("form",{schema:o,uiSchema:{password:{"ui:widget":"password"}},autoCloseAfterSubmit:!1,onSubmit:async(a,l)=>{console.log("submitted:",a,l);const c=await t.auth.action("password","create",a);console.log(c),c.ok?(n(),r(Je.data.entity.edit(e.entity_name,c.data.id)),l.close()):"error"in c?l.setError(c.error):l.setError("Unknown error")}},{title:"Create User"})}}}var Trt=D.Composite([D.Pick(sc,["select","where","sort"]),D.Object({page:D.Optional(D.Number({default:1})),perPage:D.Optional(D.Number({default:10}))})],{additionalProperties:!1}),Nrt=[5,10,25];function Art({params:t}){var h,m;const{$data:e}=Ns(),n=e.entity(t.entity);if(!n)return p.jsx(Yc.NotFound,{description:`Entity "${t.entity}" doesn't exist.`});xa(["Data",(n==null?void 0:n.label)??t.entity]);const[r]=Sr(),i=Gle(Trt,{select:void 0,sort:void 0}),s=IO(g=>g.data.readMany(n==null?void 0:n.name,{select:i.value.select,limit:i.value.perPage,offset:(i.value.page-1)*i.value.perPage,sort:`${i.value.sort.dir==="asc"?"":"-"}${i.value.sort.by}`}),{enabled:!!n,revalidateOnFocus:!0,keepPreviousData:!0}),o=(h=s.data)==null?void 0:h.data,a=(m=s.data)==null?void 0:m.body.meta;function l(g){n&&r(Je.data.entity.edit(n.name,g.id))}function c(g){i.set("page",g)}function u(g){const y=i.value.sort,O={by:g,dir:y.by===g&&y.dir==="asc"?"desc":"asc"};console.log("new sort",O),i.set("sort",O)}function d(g){i.set("perPage",g)}const f=s.isLoading&&s.isValidating;return p.jsxs(S.Fragment,{children:[p.jsx(In,{right:p.jsxs(p.Fragment,{children:[p.jsx(vr,{items:[{label:"Settings",onClick:()=>r(Je.data.schema.entity(n.name))},{label:"Data Schema",onClick:()=>r(Je.data.schema.root())},{label:"Advanced Settings",onClick:()=>r(Je.settings.path(["data","entities",n.name]),{absolute:!0})}],position:"bottom-end",children:p.jsx(lt,{Icon:jl})}),p.jsx(Rrt,{entity:n})]}),children:n.label}),p.jsx(nn,{children:p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsx("div",{"data-updating":f?1:void 0,className:"data-[updating]:opacity-50 transition-opacity pb-10",children:p.jsx(Xle,{data:o??null,entity:n,select:i.value.select,onClickRow:l,page:i.value.page,sort:i.value.sort,onClickSort:u,perPage:i.value.perPage,perPageOptions:Nrt,total:a==null?void 0:a.count,onClickPage:c,onClickPerPage:d})})})},n.name)]},n.name)}function Rrt({entity:t}){const e=nt(),n=Ert(),[r]=Sr();return t?t.type!=="regular"?{users:e.app.config.auth.entity_name,media:e.app.config.media.entity_name}.users===t.name?p.jsx(Ue,{onClick:n.open,variant:"primary",children:"New User"}):null:p.jsx(Ue,{onClick:()=>{r(Je.data.entity.create(t.name))},variant:"primary",children:"Create new"}):null}Rn();Mn();St();wt();Lt();Ml();vo();Jr();Oo();Et();rb();_r();function Mrt({params:t}){const{$data:e}=Ns(),[n,r]=S.useState("fields");function i(a){return()=>r(a)}const[s]=Sr(),o=e.entity(t.entity);return o?p.jsxs(p.Fragment,{children:[p.jsx(In,{right:p.jsxs(p.Fragment,{children:[p.jsx(vr,{items:[{label:"Data",onClick:()=>s(Je.data.root()+Je.data.entity.list(o.name),{absolute:!0})},{label:"Advanced Settings",onClick:()=>s(Je.settings.path(["data","entities",o.name]),{absolute:!0})}],position:"bottom-end",children:p.jsx(lt,{Icon:jl})}),p.jsx(vr,{items:[{icon:KI,label:"Add relation",onClick:()=>e.modals.createRelation(o.name)},{icon:FO,label:"Add media",onClick:()=>e.modals.createMedia(o.name)},()=>p.jsx("div",{className:"h-px my-1 w-full bg-primary/5"}),{icon:Dne,label:"Create Entity",onClick:()=>e.modals.createEntity()}],position:"bottom-end",children:p.jsx(Ue,{IconRight:JI,children:"Add"})})]}),className:"pl-3",children:p.jsxs("div",{className:"flex flex-row gap-4",children:[p.jsx(nm,{path:[{label:"Schema",href:"/"},{label:o.label}],backTo:"/"}),p.jsx(jn,{to:"/",className:"invisible md:visible",children:p.jsx(Ue,{IconLeft:jT,children:"Overview"})})]})}),p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsx(Irt,{entity:o,open:n==="fields",toggle:i("fields")}),p.jsx(Drt,{entity:o,open:n==="2",toggle:i("2")}),p.jsx(np,{title:"Relations",open:n==="3",toggle:i("3"),ActiveIcon:PO,children:p.jsx(wr,{title:"Relations",description:"This will soon be available here. Meanwhile, check advanced settings.",primary:{children:"Advanced Settings",onClick:()=>s(Je.settings.path(["data","relations"]),{absolute:!0})}})}),p.jsx(np,{title:"Indices",open:n==="4",toggle:i("4"),ActiveIcon:iI,children:p.jsx(wr,{title:"Indices",description:"This will soon be available here. Meanwhile, check advanced settings.",primary:{children:"Advanced Settings",onClick:()=>s(Je.settings.path(["data","indices"]),{absolute:!0})}})})]},o.name)]}):p.jsx(Yc.NotFound,{description:`Entity "${t.entity}" doesn't exist.`})}var Irt=({entity:t,open:e,toggle:n})=>{const[r,i]=S.useState(!1),[s,o]=S.useState(0),{actions:a,$data:l}=Ns(),[c,u]=S.useState(),d=S.useRef(null);async function f(){var g;if(r)return;i(!0);const m=(g=d.current)==null?void 0:g.getData();await a.entity.patch(t.name).fields.set(m),i(!1),o(y=>y+1)}const h=Object.fromEntries(t.fields.map(m=>[m.name,m.toJSON()]));return p.jsx(np,{title:"Fields",open:e,toggle:n,ActiveIcon:kO,renderHeaderRight:({open:m})=>m?p.jsx(Ue,{variant:"primary",disabled:!m,onClick:f,children:"Update"}):null,children:p.jsxs("div",{className:"flex flex-col flex-grow py-3 px-4 max-w-4xl gap-3 relative",children:[r&&p.jsx("div",{className:"animate-fade-in absolute w-full h-full top-0 bottom-0 left-0 right-0 bg-background/65 z-50"}),p.jsx(Vle,{fields:h,ref:d,sortable:!0,additionalFieldTypes:O_.filter(m=>["relation","media"].includes(m.type)).map(m=>({...m,onClick:()=>{switch(m.type){case"relation":l.modals.createRelation(t.name);break;case"media":l.modals.createMedia(t.name);break}}}))},String(s)),Np()&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex flex-row gap-1 justify-center",children:[p.jsx(Ue,{size:"small",onClick:()=>{var m;return u((m=d.current)==null?void 0:m.isValid())},children:"valid"}),p.jsx(Ue,{size:"small",onClick:()=>{var m;return u((m=d.current)==null?void 0:m.getValues())},children:"values"}),p.jsx(Ue,{size:"small",onClick:()=>{var m;return u((m=d.current)==null?void 0:m.getData())},children:"data"}),p.jsx(Ue,{size:"small",onClick:f,children:"update"})]}),p.jsx("pre",{className:"select-text",children:JSON.stringify(c,null,2)})]})]})})},Drt=({entity:t,open:e,toggle:n})=>{var u,d,f,h;const r=Ns(),i=(d=(u=r.entities)==null?void 0:u[t.name])==null?void 0:d.config,s=S.useRef(null),o=Ci((h=(f=r.schema.properties.entities.additionalProperties)==null?void 0:f.properties)==null?void 0:h.config),[a,l]=Lle(o,i,["fields"]);try{a.properties.sort_field.enum=t.getFields().map(m=>m.name)}catch(m){console.error("error setting sort_field enum",m)}async function c(){var m,g;console.log("update",(m=s.current)==null?void 0:m.formData()),await r.actions.entity.patch(t.name).config((g=s.current)==null?void 0:g.formData())}return p.jsx(np,{title:"Settings",open:e,toggle:n,ActiveIcon:Cd,renderHeaderRight:({open:m})=>m?p.jsx(Ue,{variant:"primary",disabled:!m,onClick:c,children:"Update"}):null,children:p.jsx("div",{className:"flex flex-col flex-grow py-3 px-4 max-w-4xl gap-3 relative",children:p.jsx(Ts,{ref:s,schema:a,formData:l,onSubmit:console.log,className:"legacy hide-required-mark fieldset-alternative mute-root"})})})};wt();Et();var Qrt=S.lazy(()=>Promise.resolve().then(()=>(Bet(),ple)).then(t=>({default:t.DataSchemaCanvas})));function Frt(){const{$data:t}=Ns();return p.jsxs(p.Fragment,{children:[p.jsx(In,{right:p.jsx(Ue,{type:"button",variant:"primary",onClick:t.modals.createAny,children:"Create new"}),children:"Schema Overview"}),p.jsx("div",{className:"w-full h-full",children:p.jsx(S.Suspense,{children:p.jsx(Qrt,{})})})]})}function Lrt(){return p.jsx(urt,{children:p.jsxs(aa,{children:[p.jsx(Ze,{path:"/",component:frt}),p.jsx(Ze,{path:"/entity/:entity",component:Art}),p.jsx(Ze,{path:"/entity/:entity/create",component:jrt}),p.jsx(Ze,{path:"/entity/:entity/edit/:id",component:krt}),p.jsxs(Ze,{path:"/schema",nest:!0,children:[p.jsx(Ze,{path:"/",component:Frt}),p.jsx(Ze,{path:"/entity/:entity",component:Mrt})]})]})})}wn();Rn();Mn();St();ya();Lt();Ml();Oo();Et();_r();var mW=()=>p.jsx("span",{className:"text-xs bg-primary/10 flex rounded-full px-2.5 py-1 leading-none",children:"coming soon"});function qrt(t){return Np()?p.jsx(Vrt,{...t}):p.jsx(Brt,{})}function Vrt({children:t}){const{app:e}=nt();return p.jsxs(p.Fragment,{children:[p.jsxs(Lp,{children:[p.jsx(In,{right:p.jsx(jn,{href:e.getSettingsPath(["flows"]),children:p.jsx(lt,{Icon:LO})}),children:"Flows"}),p.jsx(nn,{initialOffset:96,children:p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsxs("nav",{className:"flex flex-col flex-1 gap-1",children:[p.jsx(li,{as:jn,href:Je.flows.flows.list(),children:"All Flows"}),p.jsxs(li,{disabled:!0,className:"justify-between",children:["Endpoints",p.jsx(mW,{})]}),p.jsxs(li,{disabled:!0,className:"justify-between",children:["Executions",p.jsx(mW,{})]}),p.jsx(li,{as:jn,href:e.getSettingsPath(["flows"]),children:"Settings"})]})})})]}),p.jsx(qO,{children:t})]})}function Brt(){return xa(["Flows"]),p.jsx(wr,{Icon:YJ,title:"Flows",description:"Flows are coming very soon!"})}we();var zrt=0;function I0(t,e){const n=`atom${++zrt}`,r={toString(){return n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=Wrt,r.write=Urt),e&&(r.write=e),r}function Wrt(t){return t(this)}function Urt(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}var gW=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,yW=t=>"init"in t,OW=t=>!!t.write,D0=new WeakMap,_N=t=>{var e;return $N(t)&&!((e=D0.get(t))!=null&&e[1])},Zrt=(t,e)=>{const n=D0.get(t);n&&(n[1]=!0,n[0].forEach(r=>r(e)))},Xrt=t=>{if(D0.has(t))return;const e=[new Set,!1];D0.set(t,e);const n=()=>{e[1]=!0};t.then(n,n),t.onCancel=r=>{e[0].add(r)}},$N=t=>typeof(t==null?void 0:t.then)=="function",bW=t=>"v"in t||"e"in t,Rx=t=>{if("e"in t)throw t.e;return t.v},Hle=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},xW=(t,e,n,r,i)=>{var s;n.d.set(r,i.n),_N(n.v)&&Hle(e,n.v,i),(s=i.m)==null||s.t.add(e),t&&Yrt(t,r,e)},Im=()=>[new Map,new Map,new Set],vW=(t,e,n)=>{t[0].has(e)||t[0].set(e,new Set),t[1].set(e,n)},Yrt=(t,e,n)=>{const r=t[0].get(e);r&&r.add(n)},Grt=(t,e)=>t[0].get(e),wW=(t,e)=>{t[2].add(e)},yf=t=>{for(;t[1].size||t[2].size;){t[0].clear();const e=new Set(t[1].values());t[1].clear();const n=new Set(t[2]);t[2].clear(),e.forEach(r=>{var i;return(i=r.m)==null?void 0:i.l.forEach(s=>s())}),n.forEach(r=>r())}},Kle=t=>{const e=(m,g,y)=>{const O="v"in g,b=g.v,x=_N(g.v)?g.v:null;if($N(y)){Xrt(y);for(const v of g.d.keys())Hle(m,y,t(v,g));g.v=y,delete g.e}else g.v=y,delete g.e;(!O||!Object.is(b,g.v))&&(++g.n,x&&Zrt(x,y))},n=(m,g,y,O)=>{var b;if(bW(y)&&(y.m&&!(O!=null&&O.has(g))||Array.from(y.d).every(([k,j])=>n(m,k,t(k,y),O).n===j)))return y;y.d.clear();let x=!0;const v=k=>{if(gW(g,k)){const P=t(k,y);if(!bW(P))if(yW(k))e(k,P,k.init);else throw new Error("no atom init");return Rx(P)}const j=n(m,k,t(k,y),O);if(x)xW(m,g,y,k,j);else{const P=Im();xW(P,g,y,k,j),l(P,g,y),yf(P)}return Rx(j)};let w,_;const $={get signal(){return w||(w=new AbortController),w.signal},get setSelf(){return!_&&OW(g)&&(_=(...k)=>{if(!x)return a(g,...k)}),_}};try{const k=g.read(v,$);if(e(g,y,k),$N(k)){(b=k.onCancel)==null||b.call(k,()=>w==null?void 0:w.abort());const j=()=>{if(y.m){const P=Im();l(P,g,y),yf(P)}};k.then(j,j)}return y}catch(k){return delete y.v,y.e=k,++y.n,y}finally{x=!1}},r=m=>Rx(n(void 0,m,t(m))),i=(m,g,y)=>{var O,b;const x=new Map;for(const v of((O=y.m)==null?void 0:O.t)||[])x.set(v,t(v,y));for(const v of y.p)x.set(v,t(v,y));return(b=Grt(m,g))==null||b.forEach(v=>{x.set(v,t(v,y))}),x},s=(m,g,y)=>{const O=[],b=new Set,x=(w,_)=>{if(!b.has(w)){b.add(w);for(const[$,k]of i(m,w,_))w!==$&&x($,k);O.push([w,_,_.n])}};x(g,y);const v=new Set([g]);for(let w=O.length-1;w>=0;--w){const[_,$,k]=O[w];let j=!1;for(const P of $.d.keys())if(P!==_&&v.has(P)){j=!0;break}j&&(n(m,_,$,b),l(m,_,$),k!==$.n&&(vW(m,_,$),v.add(_))),b.delete(_)}},o=(m,g,y,...O)=>{const b=w=>Rx(n(m,w,t(w,y))),x=(w,..._)=>{const $=t(w,y);let k;if(gW(g,w)){if(!yW(w))throw new Error("atom not writable");const j="v"in $,P=$.v,R=_[0];e(w,$,R),l(m,w,$),(!j||!Object.is(P,$.v))&&(vW(m,w,$),s(m,w,$))}else k=o(m,w,$,..._);return yf(m),k};return g.write(b,x,...O)},a=(m,...g)=>{const y=Im(),O=o(y,m,t(m),...g);return yf(y),O},l=(m,g,y)=>{if(y.m&&!_N(y.v)){for(const O of y.d.keys())y.m.d.has(O)||(c(m,O,t(O,y)).t.add(g),y.m.d.add(O));for(const O of y.m.d||[])if(!y.d.has(O)){y.m.d.delete(O);const b=u(m,O,t(O,y));b==null||b.t.delete(g)}}},c=(m,g,y)=>{if(!y.m){n(m,g,y);for(const O of y.d.keys())c(m,O,t(O,y)).t.add(g);if(y.m={l:new Set,d:new Set(y.d.keys()),t:new Set},OW(g)&&g.onMount){const O=y.m,{onMount:b}=g;wW(m,()=>{const x=b((...v)=>o(m,g,y,...v));x&&(O.u=x)})}}return y.m},u=(m,g,y)=>{if(y.m&&!y.m.l.size&&!Array.from(y.m.t).some(O=>{var b;return(b=t(O,y).m)==null?void 0:b.d.has(g)})){const O=y.m.u;O&&wW(m,O),delete y.m;for(const b of y.d.keys()){const x=u(m,b,t(b,y));x==null||x.t.delete(g)}return}return y.m};return{get:r,set:a,sub:(m,g)=>{const y=Im(),O=t(m),b=c(y,m,O);yf(y);const x=b.l;return x.add(g),()=>{x.delete(g);const v=Im();u(v,m,O),yf(v)}},unstable_derive:m=>Kle(...m(t))}},Hrt=()=>{const t=new WeakMap;return Kle(n=>{let r=t.get(n);return r||(r={d:new Map,p:new Set,n:0},t.set(n,r)),r})},GP,Krt=()=>(GP||(GP=Hrt()),GP),Jrt=S.createContext(void 0),Jle=t=>S.useContext(Jrt)||Krt(),ece=t=>typeof(t==null?void 0:t.then)=="function",eit=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},tit=ve.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(eit(t),t)}),HP=new WeakMap,nit=t=>{let e=HP.get(t);return e||(e=new Promise((n,r)=>{let i=t;const s=l=>c=>{i===l&&n(c)},o=l=>c=>{i===l&&r(c)},a=l=>{"onCancel"in l&&typeof l.onCancel=="function"&&l.onCancel(c=>{ece(c)?(HP.set(c,e),i=c,c.then(s(c),o(c)),a(c)):n(c)})};t.then(s(t),o(t)),a(t)}),HP.set(t,e)),e};function tce(t,e){const n=Jle(),[[r,i,s],o]=S.useReducer(c=>{const u=n.get(t);return Object.is(c[0],u)&&c[1]===n&&c[2]===t?c:[u,n,t]},void 0,()=>[n.get(t),n,t]);let a=r;if((i!==n||s!==t)&&(o(),a=n.get(t)),S.useEffect(()=>{const c=n.sub(t,()=>{o()});return o(),c},[n,t,void 0]),S.useDebugValue(a),ece(a)){const c=nit(a);return tit(c)}return a}function nce(t,e){const n=Jle();return S.useCallback((...i)=>n.set(t,...i),[n,t])}function rce(t,e){return[tce(t),nce(t)]}var rit=Symbol(""),KP=(t,e,n)=>(e.has(n)?e:e.set(n,t())).get(n),iit=new WeakMap,sit=(t,e,n,r)=>{const i=KP(()=>new WeakMap,iit,e),s=KP(()=>new WeakMap,i,n);return KP(t,s,r)};function oit(t,e,n=Object.is){return sit(()=>{const r=Symbol(),i=([o,a])=>{if(a===r)return e(o);const l=e(o,a);return n(a,l)?a:l},s=I0(o=>{const a=o(s),l=o(t);return i([l,a])});return s.init=r,s},t,e,n)}var ait=t=>typeof(t==null?void 0:t.then)=="function";function lit(t=()=>{try{return window.localStorage}catch{return}},e){var n;let r,i;const s={getItem:(l,c)=>{var u,d;const f=m=>{if(m=m||"",r!==m){try{i=JSON.parse(m,e==null?void 0:e.reviver)}catch{return c}r=m}return i},h=(d=(u=t())==null?void 0:u.getItem(l))!=null?d:null;return ait(h)?h.then(f):f(h)},setItem:(l,c)=>{var u;return(u=t())==null?void 0:u.setItem(l,JSON.stringify(c,void 0))},removeItem:l=>{var c;return(c=t())==null?void 0:c.removeItem(l)}},o=l=>(c,u,d)=>l(c,f=>{let h;try{h=JSON.parse(f||"")}catch{h=d}u(h)});let a;try{a=(n=t())==null?void 0:n.subscribe}catch{}return!a&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(a=(l,c)=>{if(!(t()instanceof window.Storage))return()=>{};const u=d=>{d.storageArea===t()&&d.key===l&&c(d.newValue)};return window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}}),a&&(s.subscribe=o(a)),s}var cit=lit();function uit(t,e,n=cit,r){const i=I0(e);return i.onMount=o=>{o(n.getItem(t,e));let a;return n.subscribe&&(a=n.subscribe(t,o,e)),a},I0(o=>o(i),(o,a,l)=>{const c=typeof l=="function"?l(o(i)):l;return c===rit?(a(i,e),n.removeItem(t)):c instanceof Promise?c.then(u=>(a(i,u),n.setItem(t,u))):(a(i,c),n.setItem(t,c))})}St();nle();fle();ule();vt();y_();Gt();var PD=I0({dirty:!1,name:void 0,flow:void 0}),ice=S.createContext(void 0),JP={trigger:{},tasks:{},connections:{}};function dit({children:t,name:e}){const n=nce(PD),r=nt(),i=e?r.config.flows.flows[e]:void 0,s=r.schema.flows.properties.flows;S.useEffect(()=>{e&&n({dirty:!1,name:e,flow:i})},[e]);const o={flow:{setName:async a=>{console.log("set name",a),n(l=>({...l,name:a,dirty:!0}))}},trigger:{update:async a=>{console.log("update trigger",a),n(l=>{const c=l.flow||JP;return{...l,dirty:!0,flow:{...c,trigger:a}}})}},task:{create:async(a,l={})=>{console.log("create task",a,l),n(c=>{const u=c.flow||JP,d={...u.tasks,[a]:l};return{...c,dirty:!0,flow:{...u,tasks:d}}})},update:async(a,l)=>{console.log("update task",a,l),n(c=>{var f,h;const u=c.flow||JP,d={...(h=(f=c.flow)==null?void 0:f.tasks)==null?void 0:h[a],params:l};return{...c,dirty:!0,flow:{...u,tasks:{...u.tasks,[a]:d}}}})}}};return p.jsx(ice.Provider,{value:{name:e,data:i,schema:s,actions:o},children:t})}function ob(){return S.useContext(ice)}function fit(){return tce(PD)}function CD(t,e=QN){const n=oit(PD,S.useCallback(t,[]),e);return rce(n)[0]}function hit(t,e){const n=[{id:"trigger",data:{label:e,type:t.trigger.type},type:"trigger",dragHandle:".drag-handle",position:{x:0,y:0}}];let r=1;const i=Object.keys(t.tasks??{}).length;for(const[s,o]of Object.entries(t.tasks??{})){const a=r===i,l=r===1,c=a;n.push({id:`task-${s}`,data:{label:s,type:o.type,last:a,start:l,responding:c},type:"task",dragHandle:".drag-handle",position:{x:450*r+(r-1)*64,y:0}}),r++}return n}function pit(t){var r;const e=Object.entries(t.tasks??{});if(e.length===0)return[];const n=e.length>=1?[{id:"trigger-task",source:"trigger",target:`task-${(r=e[0])==null?void 0:r[0]}`,style:{strokeWidth:2},markerEnd:{type:Wc.ArrowClosed,width:10,height:10}}]:[];for(const[i,s]of Object.entries(t.connections??{}))n.push({id:i,source:"task-"+s.source,target:"task-"+s.target,style:{strokeWidth:2},markerEnd:{type:Wc.ArrowClosed,width:10,height:10}});return n}function Q0(t){const e={top:16,width:10,height:10,background:"transparent",border:"2px solid #999"},n=-10,r={target:{...e,left:n},source:{...e,right:n}};return p.jsx(kd,{...t,position:t.type==="source"?Le.Right:Le.Left,style:r[t.type]})}var SW=[{type:"fetch",label:"Fetch",description:"Fetch data from a URL",template:{type:"fetch",params:{method:"GET",headers:[],url:""}}},{type:"render",label:"Render",description:"Render data using LiquidJS"}];function mit(t){const[e,n]=S.useState(),r=Pp(),{actions:i}=ob(),s=t.id;async function o(){const a=SW.find(c=>c.type===e),l="untitled";await i.task.create(l,a.template),r.setNodes(c=>c.map(u=>u.id===s?{...u,id:"task-"+l,type:"task",data:{...a.template,label:l}}:u)),setTimeout(()=>{r.setEdges(c=>c.map(u=>(console.log("edge?",u,s,u.target===s),u.target===s?{...u,id:"task-"+l,target:"task-"+l}:u)))},100),console.log("make",a)}return p.jsxs(ur,{className:"w-96",children:[p.jsx(Q0,{type:"target",id:"select-in"}),p.jsxs(ur.Header,{className:"gap-3 justify-start py-2",children:[p.jsx("div",{className:"bg-primary/10 rounded-full w-4 h-4"}),p.jsx("div",{className:"bg-primary/5 rounded-full w-1/2 h-4"})]}),p.jsxs(ur.Content,{children:[p.jsx("div",{children:"select"}),p.jsx("div",{className:"grid grid-cols-3 gap-2",children:SW.map(a=>p.jsx("button",{type:"button",className:Ie("border border-primary/10 rounded-md py-2 px-4 hover:bg-primary/10",e===a.type&&"bg-primary/10"),onClick:()=>n(a.type),children:a.label},a.type))}),p.jsx("button",{onClick:o,children:"make"})]})]})}we();bo();en();Rn();we();Wd();ir();wt();El();gle();qp();yle();Rn();St();vt();Lt();y_();function jD({children:t,className:e,tabs:n,Icon:r,isInvalid:i,...s}){const{data:o}=s;function a(l){s.onChangeName&&s.onChangeName(l.target.value)}return p.jsxs(ur,{className:Ie("w-96",i&&"ring-8 ring-red-500/15",e),children:[p.jsx(yit,{Icon:r??uI,initialValue:o.label,onChange:a}),p.jsx(ur.Content,{className:"gap-3",children:t}),p.jsx(git,{tabs:n})]})}var git=({tabs:t})=>{var i;const[e,n]=S.useState();if(!t||(t==null?void 0:t.length)===0)return null;function r(s){return()=>{n(o=>o===s?void 0:s)}}return p.jsxs("div",{className:"border-t border-t-muted mt-1",children:[p.jsx("div",{className:"flex flex-row justify-start bg-primary/5 px-3 py-2.5 gap-3",children:t.map((s,o)=>p.jsx("button",{type:"button",onClick:r(o),className:Ie("text-sm leading-none",o===e?"font-bold opacity-80":"font-medium opacity-50"),children:s.label},s.id))}),typeof e<"u"?p.jsx("div",{className:"border-t border-t-muted",children:(i=t[e])==null?void 0:i.content()}):null]})},yit=({Icon:t,iconProps:e,rightSection:n,initialValue:r,changable:i=!1,onChange:s})=>{const[o,a]=S.useState(r);function l(c){if(!i)return;const u=String(c.target.value);if(u.length>0&&!/^[a-zA-Z_][a-zA-Z0-9_ ]*$/.test(u)||u.length===25)return;const d=u.toLowerCase().replace(/ /g,"_").replace(/__+/g,"_");a(d),s==null||s({...c,target:{...c.target,value:d}})}return p.jsxs(ur.Header,{className:"justify-between gap-10",children:[p.jsxs("div",{className:"flex flex-row flex-grow gap-1 items-center",children:[p.jsx(t,{width:16,height:16,...e??{}}),i?p.jsx("input",{type:"text",value:o,disabled:!i,onChange:l,className:Ie("font-mono font-semibold bg-transparent rounded-lg outline-none pl-1.5 w-full hover:bg-lightest/30 transition-colors focus:bg-lightest/60")}):p.jsx("span",{className:"font-mono font-semibold bg-transparent  rounded-lg outline-none pl-1.5",children:o})]}),p.jsxs("div",{className:"flex flex-row gap-1",children:[p.jsx(lt,{Icon:Ene,size:"sm"}),p.jsx(lt,{Icon:jl,size:"sm"})]})]})},Oit=D.Composite([A1.schema,D.Object({query:D.Optional(D.Record(D.String(),D.String()))})]);function bit({onChange:t,params:e,...n}){var y;const[r,i]=y1([!0,!1]),[s,o]=S.useState("None"),{register:a,handleSubmit:l,setValue:c,getValues:u,formState:{isValid:d,errors:f},watch:h,control:m}=js({resolver:Yi(Oit),defaultValues:e,mode:"onChange"});function g(O){console.log("submit task",O),t(O)}return p.jsx(jD,{...n,isInvalid:!d,className:"w-[400px]",Icon:O1,tabs:xit({watch:h}),onChangeName:console.log,children:p.jsxs("form",{onBlur:l(g),className:"flex flex-col gap-3",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(ol,{className:"w-36",label:"Method",defaultValue:"GET",data:["GET","POST","PATCH","PUT","DEL"],name:"method",control:m}),p.jsx(Mt,{className:"w-full",label:"Mapping Path",placeholder:"/path/to-be/mapped",classNames:{wrapper:"font-mono pt-px"},...a("url")})]}),p.jsx(Ue,{onClick:i,className:"justify-center",size:"small",variant:"ghost",iconSize:14,IconLeft:r?lI:CO,children:"More options"}),r&&p.jsxs(p.Fragment,{children:[p.jsx(bc,{label:"URL query",onChange:O=>c("query",O),error:(y=f.query)==null?void 0:y.message}),p.jsx(bc,{label:"Headers"}),p.jsx("div",{className:"flex flex-row gap-2 items-center mt-2",children:p.jsxs(ht.Wrapper,{className:"w-full",children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(ht.Label,{children:"Body"}),p.jsx(Km,{data:["None","Form","JSON","Code"],size:"xs",defaultValue:s,onChange:O=>o(O)})]}),s==="Form"&&p.jsx(bc,{label:void 0}),s==="JSON"&&p.jsx(bc,{label:void 0})]})})]})]})})}var xit=({watch:t})=>[{id:"json",label:"JSON",content:()=>p.jsx("div",{className:"scroll-auto",children:p.jsx(lo,{json:t(),expand:2,className:"bg-white break-all"})})},{id:"test",label:"test",content:()=>p.jsx("div",{children:"test"})}];Rn();fD();function vit(t){return p.jsx(jD,{...t,onChangeName:console.log,Icon:O1,className:"w-[400px]",children:p.jsx("form",{className:"flex flex-col gap-3",children:p.jsx(dD,{value:t.params.render,onChange:console.log})})})}EO(Uy);var _W={fetch:bit,render:vit},wit=t=>{const{data:{label:e,start:n,last:r,responding:i}}=t,s=CD(c=>c.flow.tasks[e]),{actions:o}=ob(),a=s.type in _W?_W[s.type]:()=>p.jsx("div",{children:"unsupported"});function l(c){o.task.update(e,c)}return p.jsxs(p.Fragment,{children:[p.jsx(a,{...t,params:s.params,onChange:l}),p.jsx(Q0,{type:"target",id:`${e}-in`}),p.jsx(Q0,{type:"source",id:`${e}-out`})]})};bo();we();Wd();ir();El();ir();function My({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i,onChange:s,label:o,size:a,description:l,error:c,...u}){const{field:{value:d,onChange:f,...h}}=Ud({name:t,control:e,defaultValue:n,rules:r,shouldUnregister:i});return p.jsxs(ht.Wrapper,{className:"relative",children:[o&&p.jsxs("div",{className:"flex flex-col",children:[p.jsx(ht.Label,{size:a,children:o}),l&&p.jsx(ht.Description,{size:a,children:l})]}),p.jsx(Fd,{value:d,onChange:m=>{f(m),s==null||s(m)},size:a,...h,...u})]})}qp();EO(Uy);var Sit=D.Object({trigger:D.Union(Object.values(Yt(I1,(t,e)=>D.Object({type:qo(e),config:t.cls.schema},{title:String(e),additionalProperties:!1}))))}),_it=t=>{const e=CD(m=>m.flow.trigger),{actions:n}=ob(),{register:r,handleSubmit:i,setValue:s,getValues:o,formState:{isValid:a,errors:l},watch:c,control:u}=js({resolver:Yi(Sit),defaultValues:{trigger:e},mode:"onChange"}),d=c("trigger");async function f(m){console.log("submit",m.trigger),await n.trigger.update(m.trigger)}async function h(m){console.log("change name",m),await n.flow.setName(m)}return p.jsxs(jD,{...t,tabs:Pit({data:d}),onChangeName:h,children:[p.jsxs("form",{onBlur:i(f),className:"flex flex-col gap-3",children:[p.jsxs("div",{className:"flex flex-row justify-between items-center",children:[p.jsx(My,{label:"Trigger Type",defaultValue:"manual",data:[{label:"Manual",value:"manual"},{label:"HTTP",value:"http"},{label:"Event",value:"event",disabled:!0}],name:"trigger.type",control:u}),p.jsx(My,{label:"Execution Mode",defaultValue:"async",data:[{label:"Async",value:"async"},{label:"Sync",value:"sync"}],name:"trigger.config.mode",control:u})]}),d.type==="manual"&&p.jsx($it,{}),d.type==="http"&&p.jsx(kit,{form:{watch:c,register:r,setValue:s,getValues:o,control:u}})]}),p.jsx(Q0,{type:"source",id:"trigger-out"})]})},$it=()=>null,kit=({form:t})=>p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(ol,{className:"w-36",label:"Method",data:["GET","POST","PATCH","PUT","DEL"],name:"trigger.config.method",control:t.control}),p.jsx(Mt,{className:"w-full",label:"Mapping Path",placeholder:"/trigger_http",classNames:{wrapper:"font-mono pt-px"},...t.register("trigger.config.path")})]}),p.jsx("div",{className:"flex flex-row gap-2 items-center",children:p.jsx(My,{className:"w-full",label:"Response Type",defaultValue:"json",data:[{label:"JSON",value:"json"},{label:"HTML",value:"html"},{label:"Text",value:"text"}],name:"trigger.config.response_type",control:t.control})})]}),Pit=({data:t,...e})=>[{id:"json",label:"JSON",content:()=>p.jsx(lo,{json:t,expand:2,className:""})},{id:"test",label:"test",content:()=>p.jsx("div",{children:"test"})}],Cit={select:mit,trigger:_it,task:wit};El();_r();function jit(t){return p.jsx(dit,{name:t.params.flow,children:p.jsx(kM,{children:p.jsx(Eit,{})})})}function Eit(){const t=S.useRef(null),[e,n]=S.useState(),r=ob();if(!r.data||!r.name)return"no flow";S.useEffect(()=>{var c,u;console.log("ref",(c=t.current)==null?void 0:c.getBoundingClientRect()),n((u=t.current)==null?void 0:u.getBoundingClientRect())},[]);const i=hit(r.data,r.name),s=pit(r.data);console.log("nodes",i),console.log("edges",s);const l={zoom:1,x:e!=null&&e.width?e.width*.1:0,y:e!=null&&e.height?e.height/2-260/2-50:0};return p.jsx("div",{className:"flex flex-col w-full h-full",ref:t,children:e&&p.jsxs(p.Fragment,{children:[p.jsx(tle,{externalProvider:!0,backgroundStyle:"dots",nodes:i,edges:s,nodeTypes:Cit,nodeDragThreshold:0,fitView:!1,defaultViewport:l,nodesConnectable:!0,onDropNewNode:c=>({...c,type:"select",data:{label:""}}),onDropNewEdge:c=>({...c,style:{strokeWidth:2},markerEnd:{type:Wc.ArrowClosed,width:10,height:10}}),children:p.jsx(Tit,{})}),p.jsx(Ait,{})]})})}function Tit(){const t=CD(r=>R9(r,["name","dirty"])),[e]=Sr(),{goBack:n}=w7e(()=>e(Je.flows.flows.list()));return p.jsx(dle,{minimap:!0,zoom:!0,children:p.jsxs(Cr,{position:"top-left",className:"gap-2 pr-6",children:[p.jsx(Cr.IconButton,{Icon:GI,round:!0,onClick:n}),p.jsxs(Cr.Text,{children:[t.name," ",t.dirty?"*":""]})]})})}var Nit=uit("__dev_flow_debugger_tab",{tab:null}),Ait=()=>{var o;const[t,e]=rce(Nit),n=ob(),r=fit();function i(a){e(l=>({...l,tab:l.tab===a?null:a}))}const s=((o=t.store)==null?void 0:o.expand)||3;return p.jsx("div",{className:"flex fixed left-5 bottom-5 z-20",children:p.jsxs(pn,{value:t.tab,onChange:i,children:[p.jsx("div",{className:"max-h-96 overflow-y-scroll bg-background/70",children:p.jsxs(pn.Panel,{value:"store",children:[p.jsxs("div",{className:"flex flex-row text-sm",children:[p.jsx(lo,{className:"max-w-96 break-all",title:"Context",json:{name:n.name,...n.data},expand:s}),p.jsx(lo,{className:"max-w-96 break-all",title:"State",json:{name:r.name,...r.flow},expand:s})]}),p.jsx(XA,{className:"w-36",defaultValue:s,min:0,max:lee(r.flow??{}),onChange:M9(a=>e(l=>({...l,store:{...l.store,expand:a}})),250)})]})}),p.jsx(pn.List,{children:p.jsx(pn.Tab,{value:"store",children:"Store"})})]})})};we();we();NI();ya();function sce(){const{config:t,app:e,actions:n}=nt(),r={flow:{create:async(i,s)=>{console.log("would create",i,s);const o=tr(yT,s,{skipMark:!0,forceParse:!0});console.log("parsed",o);const a=await n.add("flows",`flows.${i}`,o);console.log("res",a)}}};return{flows:e.flows,config:t.flows,actions:r}}wt();Et();_r();bo();en();we();NI();ir();EO(Uy);var Rit=Object.keys(gT),Mit=D.Object({name:Vi,trigger:jt(Rit),mode:jt(["async","sync"])}),Iit=S.forwardRef(function(e,n){const[r,i]=S.useState([]);function s(){var o;(o=n==null?void 0:n.current)==null||o.close()}return p.jsx(snt,{ref:n,size:"lg",children:p.jsx(Mle,{path:r,lastBack:s,children:p.jsxs(Eu,{id:"select",children:[p.jsx(ju,{path:["Create New Flow"],onClose:s}),p.jsx(Dit,{})]})})})});function Dit(){var h;const t=JM(),{actions:e}=sce(),{nextStep:n,stepBack:r,state:i,setState:s}=Jd(),{handleSubmit:o,watch:a,control:l,register:c,formState:{isValid:u,errors:d}}=js({resolver:Yi(Mit),defaultValues:{name:"",trigger:"manual",mode:"async"},mode:"onSubmit"});async function f(m){console.log(m,u),e.flow.create(m.name,{trigger:{type:m.trigger,config:{mode:m.mode}}})}return console.log("errors",d),p.jsxs("form",{ref:t,onSubmit:o(f),children:[p.jsxs(Hd,{className:"min-h-40",children:[p.jsx("div",{children:p.jsx(Mt,{"data-autofocus":!0,label:"Flow Name",placeholder:"Enter flow name",error:(h=d.name)==null?void 0:h.message,...c("name",{required:!0})})}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsx(My,{label:"Trigger Type",name:"trigger",data:[{label:"Manual",value:"manual"},{label:"HTTP",value:"http"},{label:"Event",value:"event"}],control:l}),p.jsx(My,{label:"Execution mode",name:"mode",data:[{label:"Async",value:"async"},{label:"Sync",value:"sync"}],control:l})]}),p.jsx("pre",{children:JSON.stringify(a(),null,2)})]}),p.jsx(Kd,{next:{type:"submit",disabled:!u},nextLabel:"Create",prev:{onClick:r},prevLabel:"Cancel"})]})}function Qit(){const t=S.useRef(null),[e]=Sr(),{flows:n}=sce();console.log("flows",n);const r=n.map(s=>{var o;return{flow:s.name,trigger:s.trigger.type,mode:s.trigger.config.mode,tasks:Object.keys(s.tasks).length,start_task:(o=s.startTask)==null?void 0:o.name}});function i(s){e(Je.flows.flows.edit(s.flow))}return p.jsxs(p.Fragment,{children:[p.jsx(Iit,{ref:t}),p.jsx(In,{right:p.jsx(Ue,{variant:"primary",onClick:()=>{var s;return(s=t.current)==null?void 0:s.open()},children:"Create new"}),children:"All Flows"}),p.jsx(nn,{children:p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsx(b_,{data:r,renderValue:Fit,renderHeader:Ap,onClickRow:i})})})]})}var Fit=({value:t,property:e})=>["is_default","implicit_allow"].includes(e)?t?p.jsx("span",{children:"Yes"}):p.jsx("span",{className:"opacity-50",children:"No"}):e==="permissions"?[...t||[]].map((n,r)=>p.jsx("span",{className:"inline-block px-2 py-1.5 text-sm bg-primary/5 rounded font-mono leading-none",children:n},r)):p.jsx(x_,{value:t,property:e});function Lit(){return p.jsxs(aa,{children:[p.jsx(Ze,{path:"/flow/:flow",component:jit}),p.jsx(qrt,{children:p.jsx(Ze,{path:"/",component:Qit})})]})}wn();Rn();St();ya();Lt();Ml();Oo();g_();Et();wn();function qit({children:t}){const{app:e,config:n}=nt(),[,r]=xs();return xa(["Media"]),n.media.enabled?p.jsxs(p.Fragment,{children:[p.jsxs(Lp,{children:[p.jsx(In,{right:p.jsx(jn,{href:e.getSettingsPath(["media"]),children:p.jsx(lt,{Icon:LO})}),children:"Media"}),p.jsx(nn,{initialOffset:96,children:p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsx("nav",{className:"flex flex-col flex-1 gap-1",children:p.jsx(li,{as:jn,href:"/media",className:"active",children:"Main Bucket"})})})})]}),p.jsx("main",{className:"flex flex-col flex-grow",children:t})]}):p.jsx(wr,{Icon:cI,title:"Media not enabled",description:"Please enable media in the settings to continue.",primary:{children:"Manage Settings",onClick:()=>r(e.getSettingsPath(["media"]))}})}function Vit(){return xa(["Media"]),p.jsx(nn,{children:p.jsx("div",{className:"flex flex-1 p-3",children:p.jsx(Zs.Dropzone,{})})})}function Bit(){return p.jsx(qit,{children:p.jsx(Ze,{path:"/",component:Vit})})}Rn();Dr();function zit(t,e){const n=S.useRef(!1),r=S.useRef(e);S.useEffect(()=>{if(!n.current||!Wit(r.current,e))return n.current=!0,r.current=e,t()},[e])}function Wit(t,e){return t&&t.length===0&&e.length===0||!t&&e.length===0?!0:!t||!e||t.length!==e.length?!1:t.every((n,r)=>Object.is(n,e[r]))}Ml();Et();_r();var Uit=({children:t})=>{const{verify:e,user:n}=qI();return zit(()=>{e()},[n==null?void 0:n.id]),p.jsxs(r2,{children:[p.jsx(Lne,{}),p.jsx(i2,{children:t})]})};function Zit(){const[t]=Sr();return S.useEffect(()=>{t("/data")},[]),xa(),p.jsx(wr,{Icon:GJ,title:"Not implemented yet",description:'Go checkout "Data" or "Media" for some action.'})}Rn();we();Gt();Ml();Oo();Et();wn();we();wn();ya();var Dm={jwt:{basepath:{"ui:options":{label:!1}},fields:{"ui:options":{orderable:!1}}},strategies:{additionalProperties:{"ui:widget":"select",type:{"ui:widget":"hidden"}},type:{"ui:widget":"hidden"}},roles:{"ui:options":{orderable:!1},permissions:{items:{"ui:widget":"checkboxes"},"ui:widget":"checkboxes"}}},Xit=({schema:t,config:e})=>{var a,l;const n=nt(),r=Ci(t),{basepath:i}=n.app.getAdminConfig(),s=`~/${i}/settings`.replace(/\/+/g,"/");try{const c=e.entity_name??"users",u=n.config.data.entities??{};console.log("entities",u,c);const d=Object.entries(((a=u[c])==null?void 0:a.fields)??{}).map(([f,h])=>{var m;return(m=h.config)!=null&&m.virtual?void 0:f}).filter(Boolean);d.length>0&&(console.log("user_fields",d),r.properties.jwt.properties.fields.items.enum=d,r.properties.jwt.properties.fields.uniqueItems=!0,Dm.jwt.fields["ui:widget"]="checkboxes")}catch{}console.log("_s",n);const o=((l=r.properties.roles)==null?void 0:l.additionalProperties)??{type:"object"};return n.permissions&&(o.properties.permissions.items.enum=n.permissions,o.properties.permissions.uniqueItems=!0),p.jsx(Ze,{path:"/auth",nest:!0,children:p.jsxs(aa,{children:[p.jsx(Ze,{path:"/roles/:role",component:({params:{role:c}})=>{var u;return p.jsx(ci,{schema:o,uiSchema:Dm.roles,config:(u=e.roles)==null?void 0:u[c],path:["auth","roles",c],prefix:`${s}/auth/roles/${c}`})},nest:!0}),p.jsx(Ze,{path:"/strategies/:strategy",component:({params:{strategy:c}})=>{var h,m;const u=(h=e.strategies)==null?void 0:h[c],d=r.properties.strategies.additionalProperties,f=d.anyOf.find(g=>g.properties.type.const===(u==null?void 0:u.type));return p.jsx(ci,{schema:f??d,config:(m=e.strategies)==null?void 0:m[c],path:["auth","strategies",c],prefix:`${s}/auth/strategies/${c}`})},nest:!0}),p.jsx(Ze,{path:"/",component:()=>p.jsx(ci,{schema:r,uiSchema:Dm,config:e,options:{showAlert:c=>{if(!c.enabled)return"Auth is disabled. Enable it by toggling the switch below. Please also make sure set a secure secret to sign JWT tokens."},reloadOnSave:!0},properties:{strategies:{extract:!0,tableValues:c=>Object.values(Yt(c,(u,d)=>({key:d,type:u.type}))),new:{schema:r.properties.strategies.additionalProperties,uiSchema:Dm.strategies,generateKey:c=>{var u;return c.type==="password"?"password":((u=c.config.name)==null?void 0:u.toLowerCase())||""}}},roles:{extract:!0,new:{schema:o,uiSchema:Dm.roles}}},prefix:`${s}/auth`,path:["auth"]}),nest:!0})]})})};wn();ya();var Yit={jwt:{basepath:{"ui:options":{label:!1}},fields:{"ui:options":{orderable:!1}}},strategies:{additionalProperties:{"ui:widget":"select",type:{"ui:widget":"hidden"}},type:{"ui:widget":"hidden"}}},Git=({schema:t,config:e})=>{const{app:n}=nt(),{basepath:r}=n.getAdminConfig(),i=`~/${r}/settings`.replace(/\/+/g,"/");function s(o,a,l){const c=Object.keys(a.tasks??{});c.length!==0&&(o.properties&&l in o.properties&&(o.properties[l].enum=c),"anyOf"in o&&o.anyOf.forEach(u=>s(u,a,l)))}return p.jsx(Ze,{path:"/flows",nest:!0,children:p.jsxs(aa,{children:[p.jsx(Ze,{path:"/flows/:flow/connections/:connection",component:({params:{flow:o,connection:a}})=>{var d,f,h,m;const l=(d=e.flows)==null?void 0:d[o],c=(m=(h=(f=e.flows)==null?void 0:f[o])==null?void 0:h.connections)==null?void 0:m[a],u=t.properties.flows.additionalProperties.properties.connections.additionalProperties;return s(u,l,"source"),s(u,l,"target"),p.jsx(ci,{schema:u,config:c,path:["flows","flows",o,"connections",a],prefix:`${i}/flows/flows/${o}/connections/${a}`})},nest:!0}),p.jsx(Ze,{path:"/flows/:flow/tasks/:task",component:({params:{flow:o,task:a}})=>{var d,f,h;const l=(h=(f=(d=e.flows)==null?void 0:d[o])==null?void 0:f.tasks)==null?void 0:h[a],u=t.properties.flows.additionalProperties.properties.tasks.additionalProperties.anyOf.find(m=>m.properties.type.const===(l==null?void 0:l.type));return p.jsx(ci,{schema:u,config:l,path:["flows","flows",o,"tasks",a],prefix:`${i}/flows/flows/${o}/tasks/${a}`,uiSchema:{params:{render:{"ui:field":"LiquidJsField"}}}})},nest:!0}),p.jsx(Ze,{path:"/flows/:flow",component:({params:{flow:o}})=>{var d;const a=(d=e.flows)==null?void 0:d[o],l=t.properties.flows.additionalProperties,c=l.properties.tasks.additionalProperties,u=l.properties.connections.additionalProperties;return s(l,a,"start_task"),s(l,a,"responding_task"),s(u,a,"source"),s(u,a,"target"),p.jsx(ci,{schema:l,config:a,path:["flows","flows",o],prefix:`${i}/flows/flows/${o}`,properties:{tasks:{extract:!0,new:{schema:c},tableValues:f=>ns(f,(h,m,g)=>{h.push({name:g,type:m.type})},[])},connections:{extract:!0,new:{schema:u,generateKey:crypto.randomUUID()},tableValues:f=>ns(f,(h,m,g)=>{var y;h.push({id:g,source:m.source,target:m.target,condition:(y=m.config.condition)==null?void 0:y.type})},[])}}})},nest:!0}),p.jsx(Ze,{path:"/",component:()=>p.jsx(ci,{schema:t,uiSchema:Yit,config:e,properties:{flows:{extract:!0,new:{schema:t.properties.flows.additionalProperties},tableValues:o=>ns(o,(a,l,c)=>{a.push({name:c,trigger:l.trigger.type,mode:l.trigger.config.mode,start_task:l.start_task,responding_task:l.responding_task})},[])}},prefix:`${i}/flows`,path:["flows"]}),nest:!0})]})})};Gt();wn();var Hit={cors:{allow_methods:{"ui:widget":"checkboxes"},allow_headers:{"ui:options":{orderable:!1}}}},Kit=({schema:t,config:e})=>{const{app:n,adminOverride:r}=nt(),{basepath:i}=n.getAdminConfig(),s=Ci(t),o=`~/${i}/settings`.replace(/\/+/g,"/"),a=s;return r&&(a.properties.admin.readOnly=!0),p.jsx(Ze,{path:"/server",nest:!0,children:p.jsx(Ze,{path:"/",component:()=>p.jsx(ci,{options:{showAlert:()=>{if(r)return"The admin settings are read-only as they are overriden. Remaining server configuration can be edited."}},schema:a,uiSchema:Hit,config:e,prefix:`${o}/server`,path:["server"]}),nest:!0})})};function Jit(){const{version:t,schema:e}=nt();xa(["Settings"]);const n=Object.keys(e).map(r=>({title:e[r].title??bs(r),key:r}));return p.jsxs(Lp,{children:[p.jsx(In,{right:p.jsxs("span",{className:"font-mono",children:["v",t]}),children:"Settings"}),p.jsx(nn,{initialOffset:96,children:p.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:p.jsx("nav",{className:"flex flex-col flex-1 gap-1",children:n.map((r,i)=>p.jsx(li,{as:jn,href:`/${r.key}`,children:r.title},i))})})})]})}function est(){return nt({withSecrets:!0}).hasSecrets?p.jsxs(p.Fragment,{children:[p.jsx(Jit,{}),p.jsx(qO,{children:p.jsxs(aa,{children:[p.jsx(Ze,{path:"/",component:()=>p.jsx(wr,{Icon:Cd,title:"No Setting selected",description:"Please select a setting from the left sidebar."})}),p.jsx(nst,{}),p.jsx(Ze,{path:"*",component:()=>p.jsx(wr,{Icon:Cd,title:"Settings not found",description:"Check other options."})})]})})]}):p.jsx(Yc.MissingPermission,{what:"the settings"})}var tst={server:{cors:{allow_methods:{"ui:widget":"checkboxes"},allow_headers:{"ui:options":{orderable:!1}}}},media:{adapter:{"ui:options":{label:!1}}}},nst=()=>{const{schema:t,config:e}=nt();return console.log("flows",{schema:t.flows,config:e.flows}),p.jsxs(p.Fragment,{children:[p.jsx(Kit,{schema:t.server,config:e.server}),p.jsx(xnt,{schema:t.data,config:e.data}),p.jsx(Xit,{schema:t.auth,config:e.auth}),p.jsx(rst,{module:"media",schema:t,config:e,uiSchema:tst.media,options:{reloadOnSave:!0}}),p.jsx(Git,{schema:t.flows,config:e.flows})]})},rst=({module:t,schema:e,config:n,...r})=>{const{app:i}=nt(),o=`~/${i.getAdminConfig()}/settings`.replace(/\/+/g,"/");return p.jsx(Ze,{path:`/${t}`,nest:!0,children:p.jsx(aa,{children:p.jsx(Ze,{path:"/",component:()=>p.jsx(ci,{...r,schema:e[t],config:n[t],prefix:`${o}/${t}`,path:[t]}),nest:!0})})})},ist=S.lazy(()=>Promise.resolve().then(()=>(Ztt(),Ele)));function sst(){const{app:t}=nt(),{color_scheme:e}=t.getAdminConfig(),{basepath:n}=t.getAdminConfig();return p.jsx("div",{id:"bknd-admin",className:(e??"light")+" antialiased",children:p.jsx(_T,{base:n,children:p.jsxs(aa,{children:[p.jsx(Ze,{path:"/auth/login",component:crt}),p.jsx(Ze,{path:"/",nest:!0,children:p.jsx(Uit,{children:p.jsxs(aa,{children:[p.jsx(Ze,{path:"/test*",nest:!0,children:p.jsx(S.Suspense,{fallback:null,children:p.jsx(ist,{})})}),p.jsx(Ze,{path:"/",component:Zit}),p.jsx(Ze,{path:"/data",nest:!0,children:p.jsx(S.Suspense,{fallback:null,children:p.jsx(Lrt,{})})}),p.jsx(Ze,{path:"/flows",nest:!0,children:p.jsx(S.Suspense,{fallback:null,children:p.jsx(Lit,{})})}),p.jsx(Ze,{path:"/auth",nest:!0,children:p.jsx(S.Suspense,{fallback:null,children:p.jsx(lrt,{})})}),p.jsx(Ze,{path:"/media",nest:!0,children:p.jsx(S.Suspense,{fallback:null,children:p.jsx(Bit,{})})}),p.jsx(Ze,{path:"/settings",nest:!0,children:p.jsx(S.Suspense,{fallback:null,children:p.jsx(est,{})})}),p.jsx(Ze,{path:"*",component:ost})]})})})]})})})}function ost(){return p.jsx("div",{className:"flex w-full items-center justify-center",children:p.jsxs("p",{className:"text-2xl font-mono",children:[p.jsx("span",{className:"font-bold",children:"404"}),p.jsx("span",{className:"opacity-50",children:", Sorry :)"})]})})}function ast({baseUrl:t,withProvider:e=!1,config:n}){const r=p.jsx(O8e,{adminOverride:n,fallback:p.jsx(cst,{theme:n==null?void 0:n.color_scheme}),children:p.jsx(lst,{})});return e?p.jsx(ane,{baseUrl:t,...typeof e=="object"?e:{},children:r}):r}function lst(){const e=nt().app.getAdminConfig().color_scheme;return p.jsxs(c6,{...Ytt(e??"light"),children:[p.jsx(No,{}),p.jsx(Xtt,{}),p.jsx(znt,{children:p.jsx(sst,{})})]})}var cst=({theme:t})=>{var n;const e=t??((n=document.querySelector("html"))==null?void 0:n.classList.contains("light"))?"light":"dark";return p.jsx("div",{id:"bknd-admin",className:e+" antialiased",children:p.jsxs(r2,{children:[p.jsxs("header",{"data-shell":"header",className:"flex flex-row w-full h-16 gap-2.5 border-muted border-b justify-start bg-muted/10",children:[p.jsx("div",{className:"max-h-full flex hover:bg-primary/5 link p-2.5 w-[134px] outline-none",children:p.jsx(BI,{theme:e})}),p.jsx("nav",{className:"hidden md:flex flex-row gap-2.5 pl-0 p-2.5 items-center",children:[...new Array(5)].map((r,i)=>p.jsx(pd,{as:"span",className:"active h-full opacity-50",children:p.jsx("div",{className:"w-10 h-3"})},i))}),p.jsx("nav",{className:"flex md:hidden flex-row items-center",children:p.jsx(pd,{as:"span",className:"active h-full opacity-50",children:p.jsx("div",{className:"w-10 h-3"})})}),p.jsx("div",{className:"flex flex-grow"}),p.jsx("div",{className:"hidden lg:flex flex-row items-center px-4 gap-2 opacity-50",children:p.jsx("div",{className:"size-11 rounded-full bg-primary/10"})})]}),p.jsx(i2,{children:p.jsx("div",{className:"flex flex-col w-full h-full justify-center items-center"})})]})})};function Cst(){return p.jsx(ast,{config:{basepath:"/admin",logo_return_path:"/../"}})}export{Cst as default};
